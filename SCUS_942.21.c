typedef unsigned char   undefined;

typedef unsigned char    bool;
typedef unsigned char    byte;
typedef unsigned int    dword;
typedef unsigned char    uchar;
typedef unsigned int    uint;
typedef unsigned long    ulong;
typedef unsigned char    undefined1;
typedef unsigned short    undefined2;
typedef unsigned int    undefined3;
typedef unsigned int    undefined4;
typedef unsigned long long    undefined8;
typedef unsigned short    ushort;
typedef unsigned short    word;
typedef enum AbilityID {
    None=0,
    Cure=1,
    Cure2=2,
    Cure3=3,
    Cure4=4,
    Raise=5,
    Raise2=6,
    Reraise=7,
    Regen=8,
    Protect=9,
    Protect2=10,
    Shell=11,
    Shell2=12,
    Wall=13,
    Esuna=14,
    Holy=15,
    Fire=16,
    Fire2=17,
    Fire3=18,
    Fire4=19,
    Bolt=20,
    Bolt2=21,
    Bolt3=22,
    Bolt4=23,
    Ice=24,
    Ice2=25,
    Ice3=26,
    Ice4=27,
    Poison=28,
    Frog=29,
    Death=30,
    Flare=31,
    Haste=32,
    Haste2=33,
    Slow=34,
    Slow2=35,
    Stop=36,
    DontMove=37,
    Float=38,
    Reflect=39,
    KANZENTeleportArrive=40,
    Quick=41,
    Demi=42,
    Demi2=43,
    Meteor=44,
    2d=45,
    Blind=46,
    SpellAbsorb=47,
    LifeDrain=48,
    PrayFaith=49,
    DoubtFaith=50,
    Zombie=51,
    SilenceSong=52,
    BlindRage=53,
    Foxbird=54,
    ConfusionSong=55,
    DispelMagic=56,
    Paralyze=57,
    Sleep=58,
    Petrify=59,
    Moogle=60,
    Shiva=61,
    Ramuh=62,
    Ifrit=63,
    Titan=64,
    Golem=65,
    Carbunkle=66,
    Bahamut=67,
    Odin=68,
    Leviathan=69,
    Salamander=70,
    Silf=71,
    Fairy=72,
    Lich=73,
    Cyclops=74,
    Zodiac=75,
    Asura=76,
    Koutetsu=77,
    BizenBoat=78,
    Murasame=79,
    HeavensCloud=80,
    Kiyomori=81,
    Muramasa=82,
    Kikuichimoji=83,
    Masamune=84,
    Chirijiraden=85,
    AngelSong=86,
    LifeSong=87,
    CheerSong=88,
    BattleSong=89,
    MagicSong=90,
    NamelessSong=91,
    LastSong=92,
    WitchHunt=93,
    Wiznaibus=94,
    SlowDance=95,
    PolkaPolka=96,
    Disillusion=97,
    NamelessDance=98,
    LastDance=99,
    SpinFist=100,
    RepeatingFist=101,
    WaveFist=102,
    EarthSlash=103,
    SecretFist=104,
    StigmaMagic=105,
    Chakra=106,
    Revive=107,
    GilTaking=108,
    StealHeart=109,
    StealHelmet=110,
    StealArmor=111,
    StealShield=112,
    StealWeapon=113,
    StealAccessory=114,
    StealEXP=115,
    Invitation=116,
    Persuade=117,
    Praise=118,
    Threaten=119,
    Preach=120,
    Solution=121,
    DeathSentence=122,
    Negotiate=123,
    Insult=124,
    MimicDaravon=125,
    Pitfall=126,
    WaterBall=127,
    HellIvy=128,
    CarveModel=129,
    LocalQuake=130,
    Kamaitachi=131,
    DemonFire=132,
    Quicksand=133,
    SandStorm=134,
    Blizzard=135,
    GustyWind=136,
    LavaBall=137,
    HeadBreak=138,
    ArmorBreak=139,
    ShieldBreak=140,
    WeaponBreak=141,
    MagicBreak=142,
    SpeedBreak=143,
    PowerBreak=144,
    MindBreak=145,
    Accumulate=146,
    Dash=147,
    ThrowStone=148,
    Heal=149,
    Yell=150,
    CheerUp=151,
    Wish=152,
    Scream=153,
    Ultima=154,
    StasisSword=155,
    SplitPunch=156,
    CrushPunch=157,
    LightningStab=158,
    HolyExplosion=159,
    ShellburstStab=160,
    BlastarPunch=161,
    HellcryPunch=162,
    IcewolfBite=163,
    DarkSword=164,
    NightSword=165,
    DarkHoly=166,
    Deathspell2=167,
    GalaxyStop=168,
    HeavenThunder=169,
    Asura(Truth)=170,
    DiamondSword=171,
    HydragonPit=172,
    SpaceStorage=173,
    SkyDemon=174,
    HeavenBoltBack=175,
    AsuraBack=176,
    DiamondSwordBack=177,
    HydragonPitBack=178,
    SpaceStorageBack=179,
    SkyDemonback=180,
    Seal(UseHand)=181,
    ShadowStitch=182,
    StopBracelet=183,
    ARUTETeleportArrive=184,
    Shock=185,
    Difference=186,
    Seal(Fear)=187,
    ChickenRace=188,
    HoldTight=189,
    Darkness=190,
    LoseVoice=191,
    Loss=192,
    Spell=193,
    Nightmare=194,
    DeathCold=195,
    MagicRuin=196,
    SpeedRuin=197,
    PowerRuin=198,
    MindRuin=199,
    BloodSuck=200,
    Allure=201,
    Bio(ca)=202,
    Bio(cb)=203,
    Bio(cc)=204,
    Bio2(cd)=205,
    Bio2(ce)=206,
    Bio2(cf)=207,
    Bio2(d0)=208,
    Bio3(d1)=209,
    Bio3(d2)=210,
    Bio3(d3)=211,
    MagicBarrier=212,
    LegAim=213,
    ArmAim=214,
    SealEvil=215,
    Melt=216,
    Tornado=217,
    Quake=218,
    ARUTETeleportSend=219,
    KANZENTeleportSend=220,
    Toad2=221,
    Gravi2=222,
    Flare2=223,
    Blind2=224,
    SmallBomb(Blue)=225,
    SmallBomb(Black)=226,
    Confuse2=227,
    Sleep2=228,
    Ultima(ARUTE)=229,
    All-Ultima=230,
    Mute=231,
    Despair2=232,
    Return2=233,
    Blind(MagicSword)=234,
    Aspel=235,
    Drain=236,
    Faith=237,
    Innocent=238,
    Zombie(MagicSword)=239,
    Silence=240,
    Berserk=241,
    Chicken=242,
    Confuse=243,
    Despair=244,
    DontAct=245,
    Sleep(MagicSword)=246,
    Break=247,
    IceBracelet=248,
    FireBracelet=249,
    ThunderBracelet=250,
    DragonTame=251,
    DragonCare=252,
    DragonPowerUp=253,
    DragonLevelUp=254,
    HolyBracelet=255,
    Shock!=256,
    Braver=257,
    Cross-slash=258,
    BladeBeam=259,
    Climhazzard=260,
    Meteorain=261,
    FinishTouch=262,
    Omnislash=263,
    CherryBlossom=264,
    ChocoAttack=265,
    ChocoBall=266,
    ChocoMeteor=267,
    ChocoEsuna=268,
    ChocoCure=269,
    Tackle=270,
    GoblinPunch=271,
    TurnPunch=272,
    EyeGouge=273,
    Mutilate=274,
    Bite=275,
    SmallBomb(red)=276,
    SelfDestruct=277,
    FlameAttack=278,
    Spark=279,
    Scratch=280,
    CatKick=281,
    Blastar=282,
    PoisonNail=283,
    BloodSuck(Panther)=284,
    Tentacle(PiscoDemon)=285,
    BlackInk=286,
    OddSoundwave=287,
    MindBlast=288,
    LevelBlast=289,
    KnifeHand=290,
    ThunderSoul=291,
    AquaSoul=292,
    IceSoul=293,
    WindSoul=294,
    ThrowSpirit=295,
    ZombieTouch=296,
    SleepTouch=297,
    DrainTouch=298,
    GreaseTouch=299,
    WingAttack=300,
    LookofDevil=301,
    LookofFright=302,
    Circle=303,
    DeathSentence(Flotibol)=304,
    ScratchUp=305,
    Beak=306,
    ShineLover=307,
    FeatherBomb=308,
    Beaking=309,
    StraightDash=310,
    NoseBracelet=311,
    Oink=312,
    Pooh-=313,
    PleaseEat=314,
    LeafDance=315,
    ProtectSpirit=316,
    ClamSpirit=317,
    SpiritofLife=318,
    MagicSpirit=319,
    ShakeOff=320,
    WaveAround=321,
    MimicTitan=322,
    GatherPower=323,
    BlowFire=324,
    Tentacle(Marlboro)=325,
    Lick=326,
    Goo=327,
    BadBracelet=328,
    MoldballVirus=329,
    StabUp=330,
    SuddenCry=331,
    Hurricane=332,
    Ulmaguest=333,
    GigaFlare=334,
    Dash(Dragon)=335,
    TailSwing=336,
    IceBracelet(Dragon)=337,
    FireBracelet(Dragon)=338,
    ThunderBracelet(Dragon)=339,
    TripleAttack=340,
    TripleBracelet=341,
    TripleThunder=342,
    TripleFlame=343,
    DarkWhisper=344,
    SnakeCarrier=345,
    PoisonFrog=346,
    MidgarSwarm=347,
    Lifebreak=348,
    Nanoflare=349,
    GrandCross=350,
    Destroy=351,
    Compress=352,
    Dispose=353,
    Crush=354,
    Energy=355,
    Parasite=356,
    165=357,
    166=358,
    167=359,
    168=360,
    169=361,
    16a=362,
    16b=363,
    16c=364,
    16d=365,
    16e=366,
    FrogAttack=367,
    Potion=368,
    HiPotion=369,
    XPotion=370,
    Ether=371,
    HiEther=372,
    Elixir=373,
    Antidote=374,
    EyeDrop=375,
    EchoGrass=376,
    MaidensKiss=377,
    Soft=378,
    HolyWater=379,
    Remedy=380,
    PhoenixDown=381,
    Shuriken=382,
    Knife=383,
    Sword=384,
    Hammer=385,
    Katana=386,
    NinjaSword=387,
    Axe=388,
    Spear=389,
    Stick=390,
    KnightSword=391,
    Dictionary=392,
    Ball=393,
    LevelJump2=394,
    LevelJump3=395,
    LevelJump4=396,
    LevelJump5=397,
    LevelJump8=398,
    VerticalJump2=399,
    VerticalJump3=400,
    VerticalJump4=401,
    VerticalJump5=402,
    VerticalJump6=403,
    VerticalJump7=404,
    VerticalJump8=405,
    Charge+1=406,
    Charge+2=407,
    Charge+3=408,
    Charge+4=409,
    Charge+5=410,
    Charge+7=411,
    Charge+10=412,
    Charge+20=413,
    CT=414,
    Level=415,
    Exp=416,
    Height=417,
    PrimeNumber=418,
    5=419,
    4=420,
    3=421,
    ASave=422,
    MASave=423,
    SpeedSave=424,
    SunkenState=425,
    Caution=426,
    DragonSpirit=427,
    Regenerator=428,
    BraveUp=429,
    FaceUp=430,
    HPRestore=431,
    MPRestore=432,
    CriticalQuick=433,
    MeatboneSlash=434,
    CounterMagic=435,
    CounterTackle=436,
    CounterFlood=437,
    AbsorbUsedMP=438,
    GilgameHeart=439,
    Reflect(Reaction)=440,
    AutoPotion=441,
    Counter=442,
    1bb=443,
    Distribute=444,
    MPSwitch=445,
    DamageSplit=446,
    WeaponGuard=447,
    FingerGuard=448,
    Abandon=449,
    Catch=450,
    BladeGrasp=451,
    ArrowGuard=452,
    Hamedo=453,
    EquipArmor=454,
    EquipShield=455,
    EquipSword=456,
    EquipKnife=457,
    EquipCrossbow=458,
    EquipSpear=459,
    EquipAxe=460,
    EquipGun=461,
    HalfofMP=462,
    GainedJpUP=463,
    GainedExpUP=464,
    AttackUP=465,
    DefenseUP=466,
    MagicAttackUP=467,
    MagicDefendUP=468,
    Concentrate=469,
    Train=470,
    SecretHunt=471,
    MartialArts=472,
    MonsterTalk=473,
    ThrowItem=474,
    Maintenance=475,
    TwoHands=476,
    TwoSwords=477,
    MonsterSkill=478,
    Defend=479,
    EquipChange=480,
    1e1=481,
    ShortCharge=482,
    NonCharge=483,
    1e4=484,
    1e5=485,
    Move+1=486,
    Move+2=487,
    Move+3=488,
    Jump+1=489,
    Jump+2=490,
    Jump+3=491,
    IgnoreHeight=492,
    MoveHPUp=493,
    MoveMPUp=494,
    MoveGetExp=495,
    MoveGetJp=496,
    CannotEnterWater=497,
    Teleport=498,
    Teleport2=499,
    AnyWeather=500,
    AnyGround=501,
    WalkonWater=502,
    MoveinWater=503,
    MoveonLava=504,
    MoveUnderwater=505,
    Float(Movement)=506,
    Fly=507,
    SilentWalk=508,
    MoveFindItem=509,
    1fe=510,
    1ff=511,
    FallDamage=512
} AbilityID;

typedef struct PrimaryAbilityData PrimaryAbilityData, *PPrimaryAbilityData;

struct PrimaryAbilityData {
    short JP cost;
    byte Chance to Learn;
    int AbilityType:4;
    int LearnOnHit:1;
    int DisplayName:1;
    int LearnWithJP:1;
    int AITargetAllies:1;
    int AITargetEnemies:1;
    int AIUnequips:1;
    int AIAltersStats:1;
    int AIAddStatus:1;
    int AICancelStatus:1;
    int AIMP:1;
    int AIHP:1;
    int AISilencable:1;
    int AIEvadeable:1;
    int AIFaith:1;
    int AIRandomHits:1;
    int AIHasChargeTime:1;
    int AIUndeadReverse:1;
    int AIReflectable:1;
    int AITargetMap:1;
    int AIPhysical:1;
    int AIMagic:1;
    int AI3DirRange:1;
    int AI3DirMelee:1;
    int AINonPierce:1;
    int AILinear:1;
    int AIObstacle:1;
    int AIArc:1;
    int EvadeMotion:1;
    int WeaponRange:1;
    int AIRequiresMS:1; // not sure if this really does affect monster skill usage in any way
    int AIOnlyEnemies:1;
    int AIOnlyAllies:1;
    int AIUsable:1;
};

typedef enum EventVar {
    Temp0=0,
    Temp1=1,
    DialogueSelect=24,
    CameraX=26,
    CameraZ=27,
    CameraY=28,
    CameraTheta=29,
    MapRot=30,
    CameraRot=31,
    CameraZoom=32,
    Weather=35,
    DayNight=36,
    CurrentEvent=39,
    TutorialVar1=40,
    TutorialVar2=41,
    TutorialVar3=42,
    WarFunds=44,
    Month=46,
    Day=47,
    MapArrangement=48,
    CurrentWorldLocation=49,
    CurrentENTD=50,
    CurrentMap=51,
    NumSquads=52,
    Squad1ID=53,
    Squad2ID=54,
    NumUnitsDeployed=82,
    MuteAudio=83,
    PostCombatDateAdvance=84,
    SaveToFormationVar=85,
    TotalCharPrintNum=87,
    DeepDungeonListID=92,
    NumInjured=98,
    NumDeaths=99,
    NewScenario=100,
    DeepDungeonListLength=101,
    DeepDungeonExitID=104,
    ChapterTownBackground=105,
    WorldmapMessage=109,
    StoryProg=110,
    ShopAvailability=111,
    CurrentCrystalCount=112,
    EventBitflags0=128,
    EventBitflags1=129,
    EventBitflags2=130,
    EventBitflags3=131,
    EventBitflags4=132,
    FurShopOpen=144,
    PropositionsOpen=145,
    BraveStoryFactsOpen=146,
    WorkerSidequestOpen=148,
    DeepDungeonFoundExit=149,
    SaveAlgusChoice=150,
    SaveBocoChoice=151,
    SaveMustadioChoice=152,
    WorkerStep0=153,
    WorkerStep1=154,
    CloudStep0=155,
    CloudStep1=156,
    ReadScriptures=157,
    OrbonneMonasteryOpen=159,
    PostGame=160,
    AerisChoice=161,
    WentFlowerShopping=162,
    BoughtFlowers=163,
    DeepDungeonStep0=164,
    DeepDungeonOpen=165,
    ReadGhostRumor=166,
    BeowulfOfferChoice=167,
    AcceptedBeowulf=168,
    RescuedReisDragon=169,
    WorkerStep2=171,
    RescuedReisHuman=172,
    FactsPage0=420,
    FactsPage1=421,
    FactsPage2=422,
    FactsPage3=423,
    FactsPage4=424,
    FactsPage5=425,
    FactsPage6=426,
    FactsPage7=427,
    FactsPage8=428,
    FactsPage9=429,
    FactsPageA=430,
    FactsPageB=431,
    FactsPageC=432,
    FactsPageD=433,
    FactsPageE=434,
    FactsPageF=435,
    FactsPage10=436,
    FactsPage11=437,
    FactsPage12=438,
    FactsPage13=439,
    FactsPage14=440,
    FactsPage15=441,
    FactsPage16=442,
    FactsPage17=443,
    RecordCadets=444,
    RecordsBalbanesDeath=445,
    RecordsAlgusMeet=446,
    RecordsReunionDycedarg=447,
    RecordsAtIgros=448,
    RecordsAfterGustav=449,
    RecordsRescueElmdor=450,
    RecordsMasterGallione=451,
    RecordsDeathCorpsMiluda=452,
    RecordsDeathCorpsAttack=453,
    RecordsDelitaAnger=454,
    RecordsReedPipe=455,
    RecordsRockRipple=456,
    RecordsEndChapter1=457,
    RecordsOveliaPrayer=458,
    RecordsOveliaChase=459,
    RecordsRuinionDelita=460,
    RecordsMachinist=461,
    RecordsOveliaWorry=462,
    RecordsDycedargPlan=463,
    RecordsDraclauHolyStone=464,
    RecordsSeekStone=465,
    RecordsRescueBesrodio=466,
    RecordsDelitaAdvice=467,
    RecordsCardinalAnger=468,
    RecordsUseGetUsed=469,
    RecordsTheLionWar=470,
    RecordsCidolfas=471,
    RecordsOlanMeet=472,
    RecordsReunionZalbag=473,
    RecordsHeretic=474,
    RecordsSimonConfession=475,
    RecordsVelius=476,
    RecordsOveliaDelita=477,
    RecordsSonOfCid=478,
    RecordsDivineRafa=479,
    RecordsBarintenAmbition=480,
    RecordsEscapeAlma=481,
    RecordsScarsTragedy=482,
    RecordsStonesOtherPower=483,
    RecordsLyingHeart=484,
    RecordsSquirmDark=485,
    RecordsHeWithHolyStone=486,
    RecordsDelitaThoughts=487,
    RecordsUnstoppableCog=488,
    RecordsCidSeized=489,
    RecordsAssassinLarg=490,
    RecordsRescueCid=491,
    RecordsGoltanaDeath=492,
    RecordsDycedargAmbition=493,
    RecordsOddMen=494,
    RecordsMysterLucavi=495,
    RecordsDelitaBetray=496,
    RecordsMosfungus=497,
    RecordsFuneralDeath=498,
    RecordsRequiem=499,
    RecordsSteelBall=500,
    RecordsSteelGiant=501,
    RecordsCelestBall=502,
    RecordsMeetCloud=503,
    RecordsReisCurse=504,
    RecordsOtherWorld=505,
    RecordsReunionFinal=506,
    RecordsThingsObtained=507,
    BraveStoryRecord=508,
    BattleToStart=509,
    DebugBattleNext=510,
    RamzaMandatory=511,
    LesaliaImperialCastle=512,
    RiovanesCastle=513,
    IgrosCastle=514,
    LionelCastle=515,
    LimberryCastle=516,
    ZeltenniaCastle=517,
    GarilandMagicCity=518,
    YardrowFortCity=519,
    GolandCoalCity=520,
    DorterTradeCity=521,
    ZalandFortCity=522,
    GougMachineCity=523,
    WarjilisTradeCity=524,
    BerveniaFreeCity=525,
    ZarghidasTradeCity=526,
    FortZeakden=527,
    MorundHolyPlace=528,
    ThievesFort=529,
    OrbonneMonastery=530,
    GolgorandExecutionSite=531,
    MorundDeathCity=532,
    BethlaGarrison=533,
    DeepDungeon=534,
    NelveskaTemple=535,
    MandaliaPlains=536,
    FovohamPlains=537,
    SweegyWoods=538,
    BerveniaVolcano=539,
    ZeklausDesert=540,
    LenaliaPlateau=541,
    ZigolisSwamp=542,
    YuguoWoods=543,
    AraguayWoods=544,
    GrogHill=545,
    BedDesert=546,
    ZirekileFalls=547,
    DolbodarSwamp=548,
    BariausHill=549,
    DoguolaPass=550,
    BariausValley=551,
    FinathRiver=552,
    PoeskasLake=553,
    GerminasPeak=554,
    NOLOCALE=555,
    IgrosCZeakdenF=556,
    IgrosCMandaliaP=557,
    ThievesFMandaliaP=558,
    GarilandMMandaliaP=559,
    GarilandMLenaliaP=560,
    LenaliaPFovohamP=561,
    FovohamPZeakdenF=562,
    RiovanesCFovohamP=563,
    RiovanesCBerveniaV=564,
    ZeklausDBerveniaV=565,
    DorterTZeklausD=566,
    DorterTSweegyW=567,
    GarilandMSweegyW=568,
    RiovanesCYuguoW=569,
    YardrowFYuguoW=570,
    YardrowFGrogH=571,
    LesaliaCGrogH=572,
    LesaliaCGolandC=573,
    GolandCZeklausD=574,
    DorterTOrbonneM=575,
    DorterTAraguayW=576,
    AraguayWZirekileF=577,
    BethlaGZirekileF=578,
    BethlaGBedD=579,
    BerveniaFBedD=580,
    BerveniaFDoguolaP=581,
    DoguolaPGrogH=582,
    BerveniaFFinathR=583,
    ZeltenniaCFinathR=584,
    ZelteniaCNelveskaT=585,
    ZelteniaCZargidhasT=586,
    ZarghidasTGerminasP=587,
    GerminasPPoeskasL=588,
    LimberryCPoeskasL=589,
    LimberryCDolbodarS=590,
    BethlaGDolbodarS=591,
    ZalandFZirekileF=592,
    ZalandFBariausH=593,
    LionelCBariausH=594,
    LionelCBariausV=595,
    WarjilisTBariausV=596,
    WajilisTDeepD=597,
    GolgorondEBariausV=598,
    LionelCZigolisS=599,
    GougMZigolisS=600,
    GougMMorundH=601,
    GarilandMMorundH=602,
    WarjilisTGougM=603,
    EventFromBraveStory=604,
    LesaliaCColor=615,
    RiovanesCColor=616,
    IgrosCColor=617,
    LionelCColor=618,
    LimberryCColor=619,
    ZeltenniaCColor=620,
    GarilandMColor=621,
    YardrowFColor=622,
    GolandCColor=623,
    DorterTColor=624,
    ZalandFColor=625,
    GougMColor=626,
    WarjilisTColor=627,
    BerveniaFColor=628,
    ZighardasTColor=629,
    ZeakdenFColor=630,
    MorundHColor=631,
    ThievesFColor=632,
    OrbonneMColor=633,
    GolgorandEColor=634,
    MorundDColor=635,
    BethlaGColor=636,
    DeepDColor=637,
    NelveskaTColor=638,
    MandaliaPColor=639,
    FovohamPColor=640,
    SweegyWColor=641,
    BerveniaVColor=642,
    ZeklausDColor=643,
    LenaliaPColor=644,
    ZigolasSColor=645,
    YuguoWColor=646,
    AraguayWColor=647,
    GrogHColor=648,
    BedDColor=649,
    ZirekileFColor=650,
    DolbodarSColor=651,
    BariausHColor=652,
    DoguolaPColor=653,
    BariausVColor=654,
    FinathRColor=655,
    PoeskasLColor=656,
    GerminasPColor=657,
    NOLOCALEColor=658,
    BraveStoryFactsEvent=720,
    RumorDeathCorps=721,
    RumorKingOmdoria=722,
    RumorFiftyWar=723,
    RumorOmdoriaCondition=724,
    RumorDeathCorpsGone=725,
    RumorAttemptedDycedarg=726,
    RumorKingsDeath=727,
    RumorLargGoltanaFeud=728,
    RumorPeasantRiotZeltennia=729,
    RumorPrincessKidnap=730,
    RumorZodiacBraves=731,
    RumorZodiacStone=732,
    RumorBartCompany=733,
    RumorFutureofWar=734,
    RumorOveliaRescue=735,
    RumorDraclauDeath=736,
    RumorNatDisasterDamage=737,
    RumorElmdoreDeath=738,
    RumorFutureofWar2=739,
    RumorRiovanesMonster=740,
    RumorGhostColliery=741,
    RumorNelveska=742,
    NoTreasure=800,
    FourGods=801,
    StatueLylis=802,
    BeetleCharm=803,
    TobaccoPipe=804,
    ZeniSword=805,
    BlackCat=806,
    MaliceMask=807,
    ParadeHelmet=808,
    KidBread=809,
    AdultBread=810,
    Calcobrina=811,
    Yurgeivogue=812,
    RedMateria=813,
    BlueMateria=814,
    BlackMateria=815,
    WhiteMateria=816,
    RatTail=817,
    MFictionNovel=818,
    DiaryNanai=819,
    Wyuvle=820,
    EnaviaBook=821,
    MagicalGun=822,
    MMachineGun=823,
    MagiSword=824,
    MinuOrb=825,
    TarotBen=826,
    Excalipar=827,
    ParasiteTree=828,
    LongibunneSpear=829,
    ChocoboCannon=830,
    StElmoFire=831,
    GermonikScriptures=832,
    DUMMYTreasure1=833,
    DUMMYTreasure2=834,
    Aries=835,
    Taurus=836,
    Gemini=837,
    Cancer=838,
    Leo=839,
    Virgo=840,
    Libra=841,
    Scorpio=842,
    Sagittarius=843,
    Capricorn=844,
    Aquarius=845,
    Pisces=846,
    Serpentarius=847,
    ChaosShrine=848,
    ForbiddenLandEureka=849,
    Pandemonium=850,
    MirageTower=851,
    FloatingCastle=852,
    MatoyaCave=853,
    CrystalTower=854,
    MagicContinent=855,
    TrialCastle=856,
    BabelTower=857,
    RonkanRuin=858,
    Falgabird=859,
    MagicTrain=860,
    TouzasVillage=861,
    ChocoboForest=862,
    SemiteFalls=863,
    CompanyDestiny=864,
    SunkenSalvage=865,
    SailorTour=866,
    LarnerChannel=867,
    AttractiveWorkplace=868,
    TradeshipSalvage=869,
    EnvoyFalcon=870,
    MesaHeir=871,
    TradeshipSalvage2=872,
    LionelEmissary=873,
    ZalandEmbassy=874,
    StolenAncientWritings=875,
    GoodWorkplace=876,
    GrediaIslandSea=877,
    StrandedTradeship=878,
    DouingTradeship=879,
    MineExcavation=880,
    MinerTour=881,
    EldaTopaWill=882,
    MinerTour2=883,
    MinerDream=884,
    Vacancy=885,
    MinersWanted=886,
    GulgVolcanoGirl=887,
    MazeHiddenTrap=888,
    HimkaCliffs=889,
    LordOre=890,
    OneActivity=891,
    MinersWanted2=892,
    RoladeOreCompany=893,
    ExMinerTestimony=894,
    DeathCanyon=895,
    DiscoveryRace=896,
    PoeskasLakeBottom=897,
    DiscoveryRace2=898,
    LegendaryTrace=899,
    DiscoveryRace3=900,
    DeepSweegyWoods=901,
    BedDesertRuins=902,
    AdventureRamzen=903,
    ISawIt=904,
    DiscoveryTour=905,
    ZigolisStorm=906,
    OminousDungeon=907,
    AdventurerWanted=908,
    ISawIt2=909,
    MerchantConcerns=910,
    RainMountain=911,
    BeatGoldenGotsko=912,
    BeatBehemoth=913,
    BanditTrap=914,
    SonPappa=915,
    WithinDarkness=916,
    BeatWhirlwindKarz=917,
    MinimumMelancholy=918,
    AssaultCaveTerror=919,
    ZeroChallenge=920,
    PhantomThiefZero=921,
    ThiefZeroReturns=922,
    ThiefZeroReborn=923,
    ThiefZeroLast=924,
    LegendaryMonster=925,
    SullenExperiment=926,
    FiarRequest=927,
    DreamChild=928,
    ProtectLittleLife=929,
    WishesComeTrue=930,
    LittleCarrot=931,
    SecretDoor=932,
    CoastGuardOrders=933,
    DevilDark=934,
    Mother=935,
    MyTreasure=936,
    GreatestPlan=937,
    SecretSociety=938,
    LifeWorth=939,
    LoveLetter=940,
    MinimumMelancholy2=941,
    BeastRoad=942,
    TrueRomance=943,
    SkyKatedona=944,
    MasterMath=945,
    SadTravelArtist=946,
    MinimumMelancholy3=947,
    MachinistContest=948,
    TravelArtistMameko=949,
    ChocoboRestaurant=950,
    WanderingGambler=951,
    WanderingGambler2=952,
    BellRinging=953,
    Memories=954,
    HardLecture=955,
    WinYardrowFight=956,
    WinZalandFight=957,
    WinMagicContest=958,
    MeisterContest=959,
    BioRamza=960,
    BioDelita=961,
    BioOvelia=962,
    BioAlma=963,
    BioZalbag=964,
    BioDycedarg=965,
    BioLarg=966,
    BioGoltana=967,
    BioOrinas=968,
    BioRuvelia=969,
    BioOmdolia=970,
    BioFuneral=971,
    BioAlgus=972,
    BioGafgarion=973,
    BioAgrias=974,
    BioOrlandu=975,
    BioOlan=976,
    BioZalmo=977,
    BioSimon=980,
    BioBeowulf=982,
    BioWiegraf=983,
    BioReis=984,
    BioBalmafula=985,
    BioDraclau=986,
    BioRafa=988,
    Biomalak=989,
    BioElmdor=990,
    BioBarinten=992,
    BioMustadio=994,
    BioBesrodio=995,
    BioRudvich=996,
    BioCelia=997,
    BioLede=998,
    BioAjora=999,
    BioVormav=1000,
    BioRofel=1001,
    BioIzlude=1002,
    BioKletian=1003,
    BioBalk=1004,
    BioMeliadoul=1005,
    BioCloud=1006,
    BioTeta=1007,
    BioBalbanes=1008,
    BioGustav=1009,
    BioMiluda=1010,
    BioGolagros=1011,
    BioDaravon=1021,
    BioElidibs=1022,
    BioAlazlam=1023,
    New_Name=1024,
    New_Name_(1)=1025,
    New_Name_(2)=1026,
    New_Name_(3)=1027,
    New_Name_(4)=1028,
    New_Name_(5)=1029,
    New_Name_(6)=1030,
    New_Name_(7)=1031,
    New_Name_(8)=1032,
    New_Name_(9)=1033,
    New_Name_(10)=1034,
    New_Name_(11)=1035,
    New_Name_(12)=1036,
    New_Name_(13)=1037,
    New_Name_(14)=1038,
    New_Name_(15)=1039,
    New_Name_(16)=1040,
    New_Name_(17)=1041,
    New_Name_(18)=1042,
    New_Name_(19)=1043,
    New_Name_(20)=1044,
    New_Name_(21)=1045,
    New_Name_(22)=1046,
    New_Name_(23)=1047,
    New_Name_(24)=1048,
    New_Name_(25)=1049,
    New_Name_(26)=1050,
    New_Name_(27)=1051,
    New_Name_(28)=1052,
    New_Name_(29)=1053,
    New_Name_(30)=1054,
    New_Name_(31)=1055,
    New_Name_(32)=1056,
    New_Name_(33)=1057,
    New_Name_(34)=1058,
    New_Name_(35)=1059,
    New_Name_(36)=1060,
    New_Name_(37)=1061,
    New_Name_(38)=1062,
    New_Name_(39)=1063,
    New_Name_(40)=1064,
    New_Name_(41)=1065,
    New_Name_(42)=1066,
    New_Name_(43)=1067,
    New_Name_(44)=1068,
    New_Name_(45)=1069,
    New_Name_(46)=1070,
    New_Name_(47)=1071,
    New_Name_(48)=1072,
    New_Name_(49)=1073,
    New_Name_(50)=1074,
    New_Name_(51)=1075,
    New_Name_(52)=1076,
    New_Name_(53)=1077,
    New_Name_(54)=1078,
    New_Name_(55)=1079,
    New_Name_(56)=1080,
    New_Name_(57)=1081,
    New_Name_(58)=1082,
    New_Name_(59)=1083,
    New_Name_(60)=1084,
    New_Name_(61)=1085,
    New_Name_(62)=1086,
    New_Name_(63)=1087,
    New_Name_(64)=1088,
    New_Name_(65)=1089,
    New_Name_(66)=1090,
    New_Name_(67)=1091,
    New_Name_(68)=1092,
    New_Name_(69)=1093,
    New_Name_(70)=1094,
    New_Name_(71)=1095,
    New_Name_(72)=1096,
    New_Name_(73)=1097,
    New_Name_(74)=1098,
    New_Name_(75)=1099,
    New_Name_(76)=1100,
    New_Name_(77)=1101,
    New_Name_(78)=1102,
    New_Name_(79)=1103,
    New_Name_(80)=1104,
    New_Name_(81)=1105,
    New_Name_(82)=1106,
    New_Name_(83)=1107,
    New_Name_(84)=1108,
    New_Name_(85)=1109,
    New_Name_(86)=1110,
    New_Name_(87)=1111,
    New_Name_(88)=1112,
    New_Name_(89)=1113,
    New_Name_(90)=1114,
    New_Name_(91)=1115,
    New_Name_(92)=1116,
    New_Name_(93)=1117,
    New_Name_(94)=1118,
    New_Name_(95)=1119,
    New_Name_(96)=1120,
    New_Name_(97)=1121,
    New_Name_(98)=1122,
    New_Name_(99)=1123,
    New_Name_(100)=1124,
    New_Name_(101)=1125,
    New_Name_(102)=1126,
    New_Name_(103)=1127,
    New_Name_(104)=1128,
    New_Name_(105)=1129,
    New_Name_(106)=1130,
    New_Name_(107)=1131,
    New_Name_(108)=1132,
    New_Name_(109)=1133,
    New_Name_(110)=1134,
    New_Name_(111)=1135,
    New_Name_(112)=1136,
    New_Name_(113)=1137,
    New_Name_(114)=1138,
    New_Name_(115)=1139,
    New_Name_(116)=1140,
    New_Name_(117)=1141,
    New_Name_(118)=1142,
    New_Name_(119)=1143,
    New_Name_(120)=1144,
    New_Name_(121)=1145,
    New_Name_(122)=1146,
    New_Name_(123)=1147,
    New_Name_(124)=1148,
    New_Name_(125)=1149,
    New_Name_(126)=1150,
    New_Name_(127)=1151,
    New_Name_(128)=1152,
    New_Name_(129)=1153,
    New_Name_(130)=1154,
    New_Name_(131)=1155,
    New_Name_(132)=1156,
    New_Name_(133)=1157,
    New_Name_(134)=1158,
    New_Name_(135)=1159,
    New_Name_(136)=1160,
    New_Name_(137)=1161,
    New_Name_(138)=1162,
    New_Name_(139)=1163,
    New_Name_(140)=1164,
    New_Name_(141)=1165,
    New_Name_(142)=1166,
    New_Name_(143)=1167,
    New_Name_(144)=1168,
    New_Name_(145)=1169,
    New_Name_(146)=1170,
    New_Name_(147)=1171,
    New_Name_(148)=1172,
    New_Name_(149)=1173,
    New_Name_(150)=1174,
    New_Name_(151)=1175,
    New_Name_(152)=1176,
    New_Name_(153)=1177,
    New_Name_(154)=1178,
    New_Name_(155)=1179,
    New_Name_(156)=1180,
    New_Name_(157)=1181,
    New_Name_(158)=1182,
    New_Name_(159)=1183,
    New_Name_(160)=1184,
    New_Name_(161)=1185,
    New_Name_(162)=1186,
    New_Name_(163)=1187,
    New_Name_(164)=1188,
    New_Name_(165)=1189,
    New_Name_(166)=1190,
    New_Name_(167)=1191,
    New_Name_(168)=1192,
    New_Name_(169)=1193,
    New_Name_(170)=1194,
    New_Name_(171)=1195,
    New_Name_(172)=1196,
    New_Name_(173)=1197,
    New_Name_(174)=1198,
    New_Name_(175)=1199,
    New_Name_(176)=1200,
    New_Name_(177)=1201,
    New_Name_(178)=1202,
    New_Name_(179)=1203,
    New_Name_(180)=1204,
    New_Name_(181)=1205,
    New_Name_(182)=1206,
    New_Name_(183)=1207,
    New_Name_(184)=1208,
    New_Name_(185)=1209,
    New_Name_(186)=1210,
    New_Name_(187)=1211,
    New_Name_(188)=1212,
    New_Name_(189)=1213,
    New_Name_(190)=1214,
    New_Name_(191)=1215,
    New_Name_(192)=1216,
    New_Name_(193)=1217,
    New_Name_(194)=1218,
    New_Name_(195)=1219,
    New_Name_(196)=1220,
    New_Name_(197)=1221,
    New_Name_(198)=1222,
    New_Name_(199)=1223,
    New_Name_(200)=1224,
    New_Name_(201)=1225,
    New_Name_(202)=1226,
    New_Name_(203)=1227,
    New_Name_(204)=1228,
    New_Name_(205)=1229,
    New_Name_(206)=1230,
    New_Name_(207)=1231,
    New_Name_(208)=1232,
    New_Name_(209)=1233,
    New_Name_(210)=1234,
    New_Name_(211)=1235,
    New_Name_(212)=1236,
    New_Name_(213)=1237,
    New_Name_(214)=1238,
    New_Name_(215)=1239,
    New_Name_(216)=1240,
    New_Name_(217)=1241,
    New_Name_(218)=1242,
    New_Name_(219)=1243,
    New_Name_(220)=1244,
    New_Name_(221)=1245,
    New_Name_(222)=1246,
    New_Name_(223)=1247,
    New_Name_(224)=1248,
    New_Name_(225)=1249,
    New_Name_(226)=1250,
    New_Name_(227)=1251,
    New_Name_(228)=1252,
    New_Name_(229)=1253,
    New_Name_(230)=1254,
    New_Name_(231)=1255,
    New_Name_(232)=1256,
    New_Name_(233)=1257,
    New_Name_(234)=1258,
    New_Name_(235)=1259,
    New_Name_(236)=1260,
    New_Name_(237)=1261,
    New_Name_(238)=1262,
    New_Name_(239)=1263,
    New_Name_(240)=1264,
    New_Name_(241)=1265,
    New_Name_(242)=1266,
    New_Name_(243)=1267,
    New_Name_(244)=1268,
    New_Name_(245)=1269,
    New_Name_(246)=1270,
    New_Name_(247)=1271,
    New_Name_(248)=1272,
    New_Name_(249)=1273,
    New_Name_(250)=1274,
    New_Name_(251)=1275,
    New_Name_(252)=1276,
    New_Name_(253)=1277,
    New_Name_(254)=1278,
    New_Name_(255)=1279
} EventVar;

typedef struct PrimaryItemData PrimaryItemData, *PPrimaryItemData;

struct PrimaryItemData {
    byte Palette;
    byte SpriteID;
    byte ReqLevel;
    int NA:1;
    int Rare:1;
    int NA:1;
    int Accessory:1;
    int Armor:1;
    int Headgear:1;
    int Shield:1;
    int Weapon:1;
    byte SecondID;
    byte ItemType;
    undefined field13_0x6;
    byte ItemAttr;
    short Price;
    byte ShopAvailability;
    undefined field17_0xb;
};

typedef struct ItemSecondary ItemSecondary, *PItemSecondary;

typedef enum FormulaID {
    Weapon=1,
    SpellWeapon=2,
    GunWeapon=3,
    MagicGun=4,
    Weapon2=5,
    AbsorbWeapon=6,
    HealWeapon=7,
    DamageSpell=8,
    DemiSpell=9,
    AilmentSpell=10,
    BoonSpell=11,
    HealSpell=12,
    RaiseSpell=13,
    DeathSpell=14,
    MPAbsorbSpell=15,
    AbsorbSpell=16,
    11=17,
    Quick=18,
    13=19,
    Golem=20,
    Return2=21,
    Mute=22,
    Gravi2=23,
    18=24,
    19=25,
    ZalbagRuin=26,
    ZalbagMPRuin=27,
    Song=28,
    Dance=29,
    Truth=30,
    Untruth=31,
    DmgKatana=32,
    DmgMPKatana=33,
    BoonKatana=34,
    HealKatana=35,
    Geomancy=36,
    EquipBreak=37,
    EquipSteal=38,
    GilSteal=39,
    EXPSteal=40,
    HeartSteal=41,
    TalkSkill=42,
    StatBreak=43,
    MPBreak=44,
    HolySword=45,
    MightySword=46,
    DarkSword=47,
    NightSword=48,
    Barehand=49,
    BarehandRND=50,
    Stigma=51,
    Chakra=52,
    Revive=53,
    PlusPA=54,
    KnockbackRND=55,
    InflictStatus=56,
    PlusSP=57,
    PlusBrave=58,
    Scream=59,
    Wish=60,
    MonStatus=61,
    GraviUnused=62,
    AimLimb=63,
    SealEvil=64,
    GalaxyStop=65,
    Work=66,
    RevengeDMG=67,
    Difference=68,
    Climhazzard=69,
    46=70,
    BloodSuck=71,
    ItemHeal=72,
    ItemMPHeal=73,
    Elixir=74,
    PhoenixDown=75,
    MonHeal=76,
    MonAbsorb=77,
    Bracelet=78,
    GoblinPunch=79,
    MonPhysSpell=80,
    MonEsuna=81,
    SelfDestruct=82,
    Hurricane=83,
    MagicSpirit=84,
    Beaking=85,
    Circle=86,
    PleaseEat=87,
    Moldball=88,
    LevelBlast=89,
    DragonTame=90,
    DragonCare=91,
    DragonPowerUP=92,
    DragonLevelUP=93,
    HydraBracelet=94,
    Nanoflare=95,
    HydraStatusUnused=96,
    Foxbird=97,
    FrightLook=98,
    Throw=99,
    Jump=100
} FormulaID;

struct ItemSecondary {
    enum FormulaID Formula;
    byte Z;
    byte InflictStatusID;
};

typedef unsigned short    wchar16;
typedef struct SoundFontHeader SoundFontHeader, *PSoundFontHeader;

struct SoundFontHeader {
    char FileDesignation[5];
    undefined field1_0x5;
    undefined field2_0x6;
    undefined field3_0x7;
    uint wholeFileSize;
    undefined field5_0xc;
    undefined field6_0xd;
    undefined field7_0xe;
    undefined field8_0xf;
    uint waveFontStart;
    uint waveFontSize;
    uint field11_0x18;
    undefined field12_0x1c;
    undefined field13_0x1d;
    undefined field14_0x1e;
    undefined field15_0x1f;
    undefined field16_0x20;
    undefined field17_0x21;
    undefined field18_0x22;
    undefined field19_0x23;
    undefined field20_0x24;
    undefined field21_0x25;
    undefined field22_0x26;
    undefined field23_0x27;
    undefined field24_0x28;
    undefined field25_0x29;
    undefined field26_0x2a;
    undefined field27_0x2b;
    undefined field28_0x2c;
    undefined field29_0x2d;
    undefined field30_0x2e;
    undefined field31_0x2f;
    uint waveFontArray[700];
};

typedef struct WeaponSecondary WeaponSecondary, *PWeaponSecondary;

struct WeaponSecondary {
    byte Range;
    int Forced2Hands:1;
    int Throwable:1;
    int 2Hands:1;
    int 2Swords:1;
    int Arc:1;
    int Direct:1;
    int Lunging:1;
    int Striking:1;
    enum FormulaID Formula;
    undefined field10_0x3;
    byte WeaponPower;
    byte Evade;
    int Dark:1;
    int Holy:1;
    int Water:1;
    int Earth:1;
    int Wind:1;
    int ice:1;
    int Lightning:1;
    int Fire:1;
    byte SecondaryEffect;
};

typedef struct StatusList StatusList, *PStatusList;

struct StatusList {
    int Perform:1;
    int Defend:1;
    int Jump:1;
    int Charging:1;
    int Undead:1;
    int Dead:1;
    int Crystal:1;
    int Treasure:1;
    int CursedDEPRECATED:1;
    int BloodSuck:1;
    int Silence:1;
    int Confusion:1;
    int Darkness:1;
    int Traitor:1;
    int Petrify:1;
    int Critical:1;
    int Frog:1;
    int Chicken:1;
    int Berserk:1;
    int Transparent:1;
    int Reraise:1;
    int Float:1;
    int Oil:1;
    int WallDEPRECATED:1;
    int Stop:1;
    int Slow:1;
    int Haste:1;
    int Shell:1;
    int Protect:1;
    int Regen:1;
    int Poison:1;
    int DeathSentence:1;
    int Reflect:1;
    int DontAct:1;
    int DontMove:1;
    int Sleep:1;
    int Charm:1;
    int Innocent:1;
    int Faith:1;
};

typedef struct SecondaryAbilityJump SecondaryAbilityJump, *PSecondaryAbilityJump;

struct SecondaryAbilityJump {
    byte Range;
    byte Vert;
};

typedef struct InflictStatuses InflictStatuses, *PInflictStatuses;

struct InflictStatuses {
    bool Cancel:1;
    bool InflictSeperate:1;
    bool InflictRandom:1;
    bool InflictAll:1;
    struct StatusList field4_0x1;
};

typedef struct 16Palette 16Palette, *P16Palette;

struct 16Palette {
    short argb0;
    short argb1;
    short argb2;
    short argb3;
    short argb4;
    short argb5;
    short argb6;
    short argb7;
    short argb8;
    short argb9;
    short argbA;
    short argbB;
    short argbC;
    short argbD;
    short argbE;
    short argbF;
};

typedef struct SecondaryAbilityData SecondaryAbilityData, *PSecondaryAbilityData;

struct SecondaryAbilityData {
    byte Range;
    byte AOE;
    byte Vert;
    int NoTargetSelf:1;
    int AutoTarget:1;
    int WeaponStrike:1;
    int VertTolerance:1;
    int VertFixed:1;
    int WeaponRange:1;
    int OnlyEnemyTilesDEPRECATED:1;
    int OnlyAllyTilesDEPRECATED:1;
    int NoHitSelf:1;
    int 3Dir:1;
    int Linear:1;
    int RandomFire:1;
    int NoTarFollow:1;
    int TopDownTarget:1;
    int NoAllyHit:1;
    int NoEnemyHit:1;
    int AnimateMiss:1;
    int Quote:1;
    int PersevereCast:1;
    int HitGolem:1;
    int NoMimic:1;
    int Silenceable:1;
    int MathSkill:1;
    int Reflectable:1;
    int NoTargetting:1;
    int Evadeable:1;
    int ReqMatBlade:1;
    int ReqSword:1;
    int BladeGrasp:1;
    int Direct:1;
    int CounterMagic:1;
    int CounterFlood:1;
    byte Element;
    enum FormulaID Formula;
    byte X;
    byte Y;
    byte InflictStatus;
    byte CT;
    byte MPCost;
};

typedef struct MusicDataHeader MusicDataHeader, *PMusicDataHeader;

struct MusicDataHeader {
    undefined2 field0_0x0;
    undefined2 field1_0x2;
    undefined4 field2_0x4;
    struct MusicDataHeader * NextMusDat;
    int DedicatedSpace;
    undefined field5_0x10;
    undefined field6_0x11;
    undefined field7_0x12;
    undefined field8_0x13;
    undefined field9_0x14;
    undefined field10_0x15;
    undefined field11_0x16;
    undefined field12_0x17;
    undefined field13_0x18;
    undefined field14_0x19;
    undefined field15_0x1a;
    undefined field16_0x1b;
    undefined field17_0x1c;
    undefined field18_0x1d;
    undefined field19_0x1e;
    undefined field20_0x1f;
    undefined field21_0x20;
    undefined field22_0x21;
    undefined field23_0x22;
    undefined field24_0x23;
    undefined field25_0x24;
    undefined field26_0x25;
    undefined field27_0x26;
    undefined field28_0x27;
    undefined field29_0x28;
    undefined field30_0x29;
    undefined field31_0x2a;
    undefined field32_0x2b;
    undefined field33_0x2c;
    undefined field34_0x2d;
    undefined field35_0x2e;
    undefined field36_0x2f;
    undefined field37_0x30;
    undefined field38_0x31;
    undefined field39_0x32;
    undefined field40_0x33;
    undefined field41_0x34;
    undefined field42_0x35;
    undefined field43_0x36;
    undefined field44_0x37;
    undefined field45_0x38;
    undefined field46_0x39;
    undefined field47_0x3a;
    undefined field48_0x3b;
    undefined field49_0x3c;
    undefined field50_0x3d;
    undefined field51_0x3e;
    undefined field52_0x3f;
    undefined field53_0x40;
    undefined field54_0x41;
    undefined field55_0x42;
    undefined field56_0x43;
    undefined field57_0x44;
    undefined field58_0x45;
    undefined field59_0x46;
    undefined field60_0x47;
    undefined field61_0x48;
    undefined field62_0x49;
    undefined field63_0x4a;
    undefined field64_0x4b;
    undefined field65_0x4c;
    undefined field66_0x4d;
    undefined field67_0x4e;
    undefined field68_0x4f;
    undefined field69_0x50;
    undefined field70_0x51;
    undefined field71_0x52;
    undefined field72_0x53;
    undefined field73_0x54;
    undefined field74_0x55;
    undefined field75_0x56;
    undefined field76_0x57;
    undefined field77_0x58;
    undefined field78_0x59;
    undefined field79_0x5a;
    undefined field80_0x5b;
    undefined field81_0x5c;
    undefined field82_0x5d;
    undefined field83_0x5e;
    undefined field84_0x5f;
    undefined field85_0x60;
    undefined field86_0x61;
    undefined field87_0x62;
    undefined field88_0x63;
    undefined field89_0x64;
    undefined field90_0x65;
    undefined field91_0x66;
    undefined field92_0x67;
    undefined field93_0x68;
    undefined field94_0x69;
    undefined field95_0x6a;
    undefined field96_0x6b;
    undefined field97_0x6c;
    undefined field98_0x6d;
    undefined field99_0x6e;
    undefined field100_0x6f;
    undefined field101_0x70;
    undefined field102_0x71;
    undefined field103_0x72;
    undefined field104_0x73;
    undefined field105_0x74;
    undefined field106_0x75;
    undefined field107_0x76;
    undefined field108_0x77;
    undefined field109_0x78;
    undefined field110_0x79;
    undefined field111_0x7a;
    undefined field112_0x7b;
    undefined field113_0x7c;
    undefined field114_0x7d;
    undefined field115_0x7e;
    undefined field116_0x7f;
    undefined field117_0x80;
    undefined field118_0x81;
    undefined field119_0x82;
    undefined field120_0x83;
    undefined field121_0x84;
    undefined field122_0x85;
    undefined field123_0x86;
    undefined field124_0x87;
    undefined field125_0x88;
    undefined field126_0x89;
    undefined field127_0x8a;
    undefined field128_0x8b;
    undefined field129_0x8c;
    undefined field130_0x8d;
    undefined field131_0x8e;
    undefined field132_0x8f;
    undefined field133_0x90;
    undefined field134_0x91;
    undefined field135_0x92;
    undefined field136_0x93;
    undefined field137_0x94;
    undefined field138_0x95;
    undefined field139_0x96;
    undefined field140_0x97;
    undefined field141_0x98;
    undefined field142_0x99;
    undefined field143_0x9a;
    undefined field144_0x9b;
    undefined field145_0x9c;
    undefined field146_0x9d;
    undefined field147_0x9e;
    undefined field148_0x9f;
    undefined field149_0xa0;
    undefined field150_0xa1;
    undefined field151_0xa2;
    undefined field152_0xa3;
    undefined field153_0xa4;
    undefined field154_0xa5;
    undefined field155_0xa6;
    undefined field156_0xa7;
    undefined field157_0xa8;
    undefined field158_0xa9;
    undefined field159_0xaa;
    undefined field160_0xab;
    undefined field161_0xac;
    undefined field162_0xad;
    undefined field163_0xae;
    undefined field164_0xaf;
    undefined field165_0xb0;
    undefined field166_0xb1;
    undefined field167_0xb2;
    undefined field168_0xb3;
    undefined field169_0xb4;
    undefined field170_0xb5;
    undefined field171_0xb6;
    undefined field172_0xb7;
};

typedef enum ItemID {
    None=0,
    Knife=1,
    MythrilKnife=2,
    BlindKnife=3,
    MageKnife=4,
    PlatKnife=5,
    GaucheKnife=6,
    OrichKnife=7,
    AssassinKnife=8,
    AirKnife=9,
    ZorlinKnife=10,
    HiddenNinjato=11,
    Ninjato=12,
    ShortNinjato=13,
    EdgeNinjato=14,
    SpellNinjato=15,
    SasukeNinjato=16,
    IgaNinjato=17,
    KogaNinjato=18,
    BroadSword=19,
    LongSword=20,
    IronSword=21,
    MythrilSword=22,
    BloodSword=23,
    CoralSword=24,
    AncientSword=25,
    SleepSword=26,
    PlatSword=27,
    DiamondSword=28,
    IceSword=29,
    RuneSword=30,
    NagrarokSword=31,
    MateriaSword=32,
    DefendKnSword=33,
    QueenKnSword=34,
    ExcKnSword=35,
    RagnarokKnSword=36,
    ChaosKnSword=37,
    AsuraKatana=38,
    KoutetsuKatana=39,
    BizenKatana=40,
    MurasameKatana=41,
    HeavenKatana=42,
    KiyomoriKatana=43,
    MuramasaKatana=44,
    KikuiKatana=45,
    MasamuneKatana=46,
    ChiriKatana=47,
    BattleAxe=48,
    GiantAxe=49,
    SlashAxe=50,
    Rod=51,
    ThunderRod=52,
    FlameRod=53,
    IceRod=54,
    PoisonRod=55,
    WizardRod=56,
    DragonRod=57,
    FaithRod=58,
    OakStaff=59,
    WhiteStaff=60,
    HealStaff=61,
    RainbowStaff=62,
    WizardStaff=63,
    GoldStaff=64,
    ZeusStaff=65,
    SageStaff=66,
    Flail=67,
    FlameFlail=68,
    MSFlail=69,
    ScorpionFlail=70,
    RomandaGun=71,
    MythrilGun=72,
    StoneGun=73,
    BlazeGun=74,
    GlacierGun=75,
    BlastGun=76,
    BowgunXBow=77,
    KnightXBow=78,
    XBow=79,
    PoisonXBow=80,
    HuntingXBow=81,
    GastrifitisXBow=82,
    LongBow=83,
    SilverBow=84,
    IceBow=85,
    LightningBow=86,
    WindBow=87,
    MythrilBow=88,
    UltimaBow=89,
    YoichiBow=90,
    PerseusBow=91,
    LamiaHarp=92,
    BloodyHarp=93,
    FairyHarp=94,
    BattleDict=95,
    MonsterDict=96,
    PapyrusDict=97,
    MadlemDict=98,
    JavelinPolearm=99,
    SpearPolearm=100,
    MythrilPolearm=101,
    PartisanPolearm=102,
    ObeliskPolearm=103,
    HolyPolearm=104,
    WhiskerPolearm=105,
    JavelinPolearm2=106,
    CypressPole=107,
    BambooPole=108,
    MuskPole=109,
    IronPole=110,
    GokuuPole=111,
    IvoryPole=112,
    OctagonPole=113,
    WhiskerPole=114,
    CBag=115,
    FSBag=116,
    PBag=117,
    HBag=118,
    PersiaCloth=119,
    CashmereCloth=120,
    RyozanCloth=121,
    Shuriken=122,
    MagicShuriken=123,
    YagyuShuriken=124,
    FireBall=125,
    WaterBall=126,
    LightningBall=127,
    EscutchShield=128,
    BucklerShield=129,
    BronzeShield=130,
    RoundShield=131,
    MythrilShield=132,
    GoldShield=133,
    IceShield=134,
    FlameShield=135,
    AegisShield=136,
    DiamondShield=137,
    PlatShield=138,
    CrystalShield=139,
    GenjiShield=140,
    KaiserShield=141,
    VeniceShield=142,
    EscutchShield2=143,
    LeatherHelm=144,
    BronzeHelm=145,
    IronHelm=146,
    BarbutaHelm=147,
    MythrilHelm=148,
    GoldHelm=149,
    CrossHelm=150,
    DiamondHelm=151,
    PlatHelm=152,
    CircletHelm=153,
    CrystalHelm=154,
    GenjiHelm=155,
    GrandHelm=156,
    LeatherHat=157,
    FeatherHat=158,
    RedHat=159,
    HeadgearHat=160,
    TriangleHat=161,
    BeretHat=162,
    HeadbandHat=163,
    MiterHat=164,
    Blackhat=165,
    HairpinHat=166,
    FlashHat=167,
    ThiefHat=168,
    CachushaAdrn=169,
    BaretteAdrn=170,
    RibbonAdrn=171,
    LeatherArmor=172,
    LinenArmor=173,
    BronzeArmor=174,
    ChainArmor=175,
    MythrilArmor=176,
    PlateArmor=177,
    GoldArmor=178,
    DiamondArmor=179,
    PlatArmor=180,
    CarabiniArmor=181,
    CrystalArmor=182,
    GenjiArmor=183,
    ReflectArmor=184,
    MaxArmor=185,
    Clothes=186,
    LeatherClothes=187,
    LeatherClothes2=188,
    ChainClothes=189,
    MythrilClothes=190,
    AdamClothes=191,
    WizardClothes=192,
    BrigClothes=193,
    JudoClothes=194,
    PowerClothes=195,
    EarthClothes=196,
    SecretClothes=197,
    BlackClothes=198,
    RubberClothes=199,
    LinenRobe=200,
    SilkRobe=201,
    WizardRobe=202,
    ChamRobe=203,
    WhiteRobe=204,
    BlackRobe=205,
    LightRobe=206,
    LordRobe=207,
    BattleShoe=208,
    SpikeShoe=209,
    GermShoe=210,
    RubberShoe=211,
    FeatherShoe=212,
    SprintShoe=213,
    RedShoe=214,
    PowerGauntlet=215,
    GenjiGauntlet=216,
    MagicGauntlet=217,
    BraceGauntlet=218,
    ReflectRing=219,
    DefenseRing=220,
    MagicRing=221,
    CursedRing=222,
    AngelRing=223,
    DiamondArmlet=224,
    JadeArmlet=225,
    108Armlet=226,
    NKaiArmlet=227,
    DefenseArmlet=228,
    SmallMantle=229,
    LeatherMantle=230,
    WizardMantle=231,
    ElfMantle=232,
    DraculaMantle=233,
    FeatherMantle=234,
    VanishMantle=235,
    Chantage=236,
    Cherche=237,
    Setiemson=238,
    SaltyRage=239,
    Potion=240,
    HiPotion=241,
    XPotion=242,
    Ether=243,
    HiEther=244,
    Elixir=245,
    Antidote=246,
    EyeDrop=247,
    EchoGrass=248,
    MaidenKiss=249,
    Soft=250,
    HolyWater=251,
    Remedy=252,
    PhoenixDown=253,
    RND_ENTD=254,
    NONE_ENTD=255
} ItemID;

typedef enum SkillsetID {
    NONE=0,
    Attack=1,
    Defend=2,
    EqChng=3,
    DEPRECATED=4,
    BasicSkill=5,
    Item=6,
    BattleSkill=7,
    Charge=8,
    PunchArt=9,
    WhiteMagic=10,
    BlackMagic=11,
    TimeMagic=12,
    SummonMagic=13,
    Steal=14,
    TalkSkill=15,
    YinYangMagic=16,
    Geomancy=17,
    Jump=18,
    DrawOut=19,
    Throw=20,
    Math=21,
    Sing=22,
    Dance=23,
    Mimic=24,
    GutsR1=25,
    GutsR2=26,
    GutsR4=27,
    GutsD=28,
    HolySword1=29,
    MightySword=30,
    BasicSkillA=31,
    DarkSword1=32,
    HolySword2=33,
    HolySword3=34,
    Magic=35,
    HolyMagic1=36,
    Snipe1=37,
    Snipe2=38,
    DarkSword2=39,
    HolySword4=40,
    Limit=41,
    WhiteAid=42,
    Dragoner=43,
    Bracelet=44,
    Truth1=45,
    Untruth1=46,
    StarryHeaven=47,
    HolySword5=48,
    HolyMagic2=49,
    Truth2=50,
    BattleSkill2=51,
    Jump2=52,
    PunchSkill2=53,
    UseHandC=54,
    UseHandL=55,
    Throw2=56,
    Throw3=57,
    HolySword6=58,
    SwordSpirit1=59,
    MightySword2=60,
    AllMagic1=61,
    SwordSpirit2=62,
    BloodSuck=63,
    MightySword3=64,
    AllMagic2=65,
    MightySword4=66,
    MightySword5=67,
    Snipe3=68,
    MagicSword1=69,
    SwordSkill1=70,
    AllMagic3=71,
    AllMagic4=72,
    Phantom=73,
    AllSwordskill=74,
    DestroySword=75,
    HolyMagic3=76,
    4d=77,
    4e=78,
    4f=79,
    50=80,
    51=81,
    52=82,
    53=83,
    54=84,
    55=85,
    56=86,
    57=87,
    58=88,
    59=89,
    5a=90,
    5b=91,
    5c=92,
    5d=93,
    5e=94,
    5f=95,
    60=96,
    61=97,
    62=98,
    63=99,
    64=100,
    65=101,
    66=102,
    Fear1=103,
    WarlockSummon=104,
    nice=105,
    6a=106,
    Fear2=107,
    JaMagic=108,
    6d=109,
    6e=110,
    Fear3=111,
    DimensionMagic=112,
    71=113,
    72=114,
    Fear4=115,
    Impure=116,
    75=117,
    76=118,
    Fear5=119,
    AllMagic5=120,
    79=121,
    7a=122,
    UltimaMagic=123,
    Chaos=124,
    CompletMagic=125,
    Saturation=126,
    7f=127,
    80=128,
    81=129,
    82=130,
    83=131,
    84=132,
    85=133,
    86=134,
    87=135,
    88=136,
    89=137,
    8a=138,
    8b=139,
    8c=140,
    8d=141,
    8e=142,
    8f=143,
    90=144,
    91=145,
    92=146,
    93=147,
    94=148,
    95=149,
    96=150,
    97=151,
    98=152,
    99=153,
    9a=154,
    SwordSkill2=155,
    Charge2=156,
    BlackMagic2=157,
    TimeMagic2=158,
    YinYangMagic2=159,
    SummonMagic2=160,
    Item2=161,
    WhiteMagic2=162,
    BlackMagic3=163,
    YinYangMagic3=164,
    a5=165,
    a6=166,
    BloodSuckAllowed=167,
    FrogAllowed=168,
    BerserkAllowed=169,
    Byblos=170,
    Work=171,
    Bio=172,
    DarkCloud=173,
    DarkMagic=174,
    NightMagic=175,
    Choco0=176,
    Choco1=177,
    Choco2=178,
    Gob0=179,
    Gob1=180,
    Gob2=181,
    Bomb0=182,
    Bomb1=183,
    Bomb2=184,
    Pnthr0=185,
    Pnthr1=186,
    Pnthr2=187,
    Pisc0=188,
    Pisc1=189,
    Pisc2=190,
    Skel0=191,
    Skel1=192,
    Skel2=193,
    Ghost0=194,
    Ghost1=195,
    Ghost2=196,
    Eye0=197,
    Eye1=198,
    Eye2=199,
    Bird0=200,
    Bird1=201,
    Bird2=202,
    Pig0=203,
    Pig1=204,
    Pig2=205,
    Tree0=206,
    Tree1=207,
    Tree2=208,
    Bull0=209,
    Bull1=210,
    Bull2=211,
    Morb0=212,
    Morb1=213,
    Morb2=214,
    Bhmth0=215,
    Bhmth1=216,
    Bhmth2=217,
    Drg0=218,
    Drg1=219,
    Drg2=220,
    Hydr0=221,
    Hydr1=222,
    Hydr2=223
} SkillsetID;

typedef struct AccessorySecondary AccessorySecondary, *PAccessorySecondary;

struct AccessorySecondary {
    byte PhysicalEvade;
    byte MagicalEvade;
};

typedef struct MonSkillset MonSkillset, *PMonSkillset;

struct MonSkillset {
    byte ActionFlags;
    enum AbilityID Ability0:8;
    enum AbilityID Ability1:8;
    enum AbilityID Ability2:8;
    enum AbilityID AbilityMS:8;
};

typedef enum JobID {
    None=0,
    SquireR1=1,
    SquireR2=2,
    SquireR3=3,
    SquireD=4,
    HolyKnightD=5,
    ArcKnightD=6,
    SquireA=7,
    ArcKnight=8,
    LuneKnightD=9,
    DukeL=10,
    DukeG=11,
    Princess=12,
    HolySwordsman=13,
    HighPriest=14,
    Dragoner=15,
    HolyPriest=16,
    DarkKnightE=17,
    HellKnightD=18,
    Bishop=19,
    ClericB=20,
    Astrologist=21,
    EngineerMJ=22,
    DarkKnightG=23,
    Cardinal=24,
    HeavenKnightG=25,
    HellKnightEJ=26,
    ArcKnightE=27,
    DelitasSis=28,
    ArcDuke=29,
    HolyKnightAJ=30,
    TempleKnight=31,
    WhiteKnight1=32,
    ArcWitch=33,
    EngineerMG=34,
    BiCount=35,
    DivineKnightV=36,
    DivineKnightR=37,
    KnightBlade=38,
    Sorceror=39,
    WhiteKnight2=40,
    HeavenKnightJ=41,
    DivineKnightMJ=42,
    EngineerB=43,
    ClericD=44,
    AssassinC=45,
    AssassinL=46,
    DivineKnightME=47,
    ClericE=48,
    PhonySaint=49,
    Soldier=50,
    ArcKnightZ=51,
    HolyKnightAG=52,
    ChemistF1=53,
    PriestF1=54,
    WizardM1=55,
    OracleM1=56,
    SquireM1=57,
    AssassinCU=58,
    AssassinLU=59,
    Warlock=60,
    KnightMZ=61,
    AngelofDeath=62,
    ArcherMZ=63,
    Regulator=64,
    HolyAngel=65,
    WizardMZ=66,
    ImpureKing=67,
    TimeMageFZ=68,
    GhostofFury=69,
    OracleMZ=70,
    SummonerMZ=71,
    HolyDragon=72,
    ArchAngel=73,
    Squire=74,
    Chemist=75,
    Knight=76,
    Archer=77,
    Monk=78,
    Priest=79,
    Wizard=80,
    TimeMage=81,
    Summoner=82,
    Thief=83,
    Mediator=84,
    Oracle=85,
    Geomancer=86,
    Lancer=87,
    Samurai=88,
    Ninja=89,
    Calculator=90,
    Bard=91,
    Dancer=92,
    Mime=93,
    Chocobo=94,
    BlackChocobo=95,
    RedChocobo=96,
    Goblin=97,
    BlackGoblin=98,
    Gobbledeguck=99,
    Bomb=100,
    Grenade=101,
    Explosive=102,
    RedPanther=103,
    Cuar=104,
    Vampire=105,
    PiscoDemon=106,
    Squidlarken=107,
    Mindflare=108,
    Skeleton=109,
    BoneSnatch=110,
    LivingBone=111,
    Ghoul=112,
    Gust=113,
    Revnant=114,
    Flotiball=115,
    Ahriman=116,
    Plague=117,
    Juravis=118,
    SteelHawk=119,
    Cocatoris=120,
    Uribo=121,
    Porky=122,
    Wildbow=123,
    Woodman=124,
    Trent=125,
    Taiju=126,
    BullDemon=127,
    Minitaurus=128,
    Sacred=129,
    Morbol=130,
    Ochu=131,
    GreatMorbol=132,
    Behemoth=133,
    KingBehemoth=134,
    DarkBehemoth=135,
    Dragon=136,
    BlueDragon=137,
    RedDragon=138,
    Hyudra=139,
    Hydra=140,
    Tiamat=141,
    8e=142,
    8f=143,
    Byblos=144,
    SteelGiant=145,
    92=146,
    93=147,
    94=148,
    95=149,
    Apanda=150,
    Serpentarius=151,
    HolyDragon2=152,
    ArchaicDemon=153,
    UltimaDemon=154,
    Crystal=155,
    Chicken=156,
    Frog=157,
    Treasure=158
} JobID;

typedef struct JobData JobData, *PJobData;

struct JobData {
    enum SkillsetID Skillset;
    enum AbilityID InnateAbility1;
    enum AbilityID InnateAbility2;
    enum AbilityID InnateAbility3;
    enum AbilityID InnateAbility4;
    int Rod:1;
    int Axe:1;
    int Katana:1;
    int KnightSword:1;
    int Sword:1;
    int NinjaBlade:1;
    int Knife:1;
    int Unarmed:1;
    int Polearm:1;
    int Book:1;
    int Instrument:1;
    int Bow:1;
    int Crossbow:1;
    int Gun:1;
    int Flail:1;
    int Staff:1;
    int Armor:1;
    int HairAdrn:1;
    int Hat:1;
    int Helmet:1;
    int Shield:1;
    int Cloth:1;
    int Bag:1;
    int Pole:1;
    int Perfume:1;
    int Cloak:1;
    int Armlet:1;
    int Ring:1;
    int Armguard:1;
    int Shoes:1;
    int Robe:1;
    int Clothing:1;
    byte HPGrowth;
    byte HPMult;
    byte MPGrowth;
    byte MPMult;
    byte SpeedGrowth;
    byte SpeedMult;
    byte PAGrowth;
    byte PAMult;
    byte MAGrowth;
    byte MAMult;
    byte Move;
    byte Jump;
    byte CEV;
    struct StatusList AlwaysStatus;
    struct StatusList ImmuneStatus;
    struct StatusList StartStatus;
    byte AbsorbElem;
    byte NullElem;
    byte HalfElem;
    byte DoubleElem;
    byte MonPortrait;
    byte MonPal;
    byte MonGraphic;
};

typedef struct ShieldSecondary ShieldSecondary, *PShieldSecondary;

struct ShieldSecondary {
    byte PhysicalEvade;
    byte MagicalEvade;
};

typedef struct Skillset Skillset, *PSkillset;

struct Skillset {
    short ActionFlags;
    byte RSMFlags;
    enum AbilityID Ability0:8;
    enum AbilityID Ability1:8;
    enum AbilityID Ability2:8;
    enum AbilityID Ability3:8;
    enum AbilityID Ability4:8;
    enum AbilityID Ability5:8;
    enum AbilityID Ability6:8;
    enum AbilityID Ability7:8;
    enum AbilityID Ability8:8;
    enum AbilityID Ability9:8;
    enum AbilityID AbilityA:8;
    enum AbilityID AbilityB:8;
    enum AbilityID AbilityC:8;
    enum AbilityID AbilityD:8;
    enum AbilityID AbilityE:8;
    enum AbilityID AbilityF:8;
    enum AbilityID RSM0:8;
    enum AbilityID RSM1:8;
    enum AbilityID RSM2:8;
    enum AbilityID RSM3:8;
    enum AbilityID RSM4:8;
    enum AbilityID RSM5:8;
};

typedef struct PartyUnit PartyUnit, *PPartyUnit;

struct PartyUnit {
    byte SpriteSet;
    byte PartyID;
    enum JobID JobID;
    byte Palette;
    int SaveFormation:1;
    int BossStats:1;
    int LoadFormation:1;
    int JoinAfterEvent:1;
    int Monster:1;
    int Female:1;
    int Male:1;
    int Birthday:9;
    int ZodiacSign:4;
    enum SkillsetID SecondarySkillset;
    enum AbilityID Reaction;
    enum AbilityID Support;
    enum AbilityID Movement;
    enum ItemID Head;
    enum ItemID Body;
    enum ItemID Accessory;
    enum ItemID RHWeapon;
    enum ItemID RHShield;
    enum ItemID LHWeapon;
    enum ItemID LHShield;
    byte Experience;
    byte Level;
    byte Brave;
    byte Faith;
    int RawHP:24;
    int RawMP:24;
    int RawSP:24;
    int RawPA:24;
    int RawMA:24;
    int UnlockedJobs:24;
    short BaseAction;
    byte BaseRSM;
    short ChemistAction;
    byte ChemistRSM;
    short KnightAction;
    byte KnightRSM;
    short ArcherAction;
    byte ArcherRSM;
    short MonkAction;
    byte MonkRSM;
    short PriestAction;
    byte PriestRSM;
    short WizardAction;
    byte WizardRSM;
    short TimeMageAction;
    byte TimeMageRSM;
    short SummonerAction;
    byte SummonerRSM;
    short ThiefAction;
    byte ThiefRSM;
    short MediatorAction;
    byte MediatorRSM;
    short OracleAction;
    byte OracleRSM;
    short GeomancerAction;
    byte GeomancerRSM;
    short LancerAction;
    byte LancerRSM;
    short SamuraiAction;
    byte SamuraiRSM;
    short NinjaAction;
    byte NinjaRSM;
    short CalculatorAction;
    byte CalculatorRSM;
    short BardAction;
    byte BardRSM;
    short DancerAction;
    byte DancerRSM;
    int ChemistLevel:4;
    int SquireLevel:4;
    int ArcherLevel:4;
    int KnightLevel:4;
    int PriestLevel:4;
    int MonkLevel:4;
    int TimeMageLevel:4;
    int WizardLevel:4;
    int ThiefLevel:4;
    int SummonerLevel:4;
    int OracleLevel:4;
    int MediatorLevel:4;
    int LancerLevel:4;
    int GeomancerLevel:4;
    int NinjaLevel:4;
    int SamuraiLevel:4;
    int BardLevel:4;
    int CalculatorLevel:4;
    int MimeLevel:4;
    int DancerLevel:4;
    short JobJP[20];
    short JobTotalJP[20];
    char UnitName[16];
    short UnitNameID;
    byte Proposition;
    undefined field97_0xd1;
    byte EggStage;
    undefined field99_0xd3;
    undefined field100_0xd4;
    undefined field101_0xd5;
    undefined field102_0xd6;
    undefined field103_0xd7;
    undefined field104_0xd8;
    undefined field105_0xd9;
    undefined field106_0xda;
    undefined field107_0xdb;
    undefined field108_0xdc;
    undefined field109_0xdd;
    undefined field110_0xde;
    undefined field111_0xdf;
    undefined field112_0xe0;
    undefined field113_0xe1;
    undefined field114_0xe2;
    undefined field115_0xe3;
    undefined field116_0xe4;
    undefined field117_0xe5;
    undefined field118_0xe6;
    undefined field119_0xe7;
    undefined field120_0xe8;
    undefined field121_0xe9;
    undefined field122_0xea;
    undefined field123_0xeb;
    undefined field124_0xec;
    undefined field125_0xed;
    undefined field126_0xee;
    undefined field127_0xef;
    undefined field128_0xf0;
    undefined field129_0xf1;
    undefined field130_0xf2;
    undefined field131_0xf3;
    undefined field132_0xf4;
    undefined field133_0xf5;
    undefined field134_0xf6;
    undefined field135_0xf7;
    undefined field136_0xf8;
    undefined field137_0xf9;
    undefined field138_0xfa;
    undefined field139_0xfb;
    undefined field140_0xfc;
    undefined field141_0xfd;
    undefined field142_0xfe;
    undefined field143_0xff;
};

typedef struct AbilityIDByte AbilityIDByte, *PAbilityIDByte;

struct AbilityIDByte {
    enum AbilityID AbilityID:8;
};

typedef struct ArmorSecondary ArmorSecondary, *PArmorSecondary;

struct ArmorSecondary {
    byte HP;
    byte MP;
};

typedef struct SecondaryAbilityItem SecondaryAbilityItem, *PSecondaryAbilityItem;

struct SecondaryAbilityItem {
    byte UsedItemID;
};

typedef struct SecondaryAbilityCharge SecondaryAbilityCharge, *PSecondaryAbilityCharge;

struct SecondaryAbilityCharge {
    byte CT;
    byte Power;
};

typedef enum SpritesheetID {
    None=0,
    SquireR1=1,
    SquireR2=2,
    SquireR3=3,
    SquireD=4,
    HolyKnightD=5,
    ArcKnightD=6,
    SquireA=7,
    ArcKnight=8,
    LuneKnightD=9,
    DukeL=10,
    DukeG=11,
    Princess=12,
    HolySwordsman=13,
    HighPriest=14,
    Dragoner=15,
    HolyPriest=16,
    DarkKnightE=17,
    HellKnightD=18,
    Bishop=19,
    ClericB=20,
    Astrologist=21,
    EngineerMJ=22,
    DarkKnightG=23,
    Cardinal=24,
    HeavenKnightG=25,
    HellKnightEJ=26,
    ArcKnightE=27,
    DelitasSis=28,
    ArcDuke=29,
    HolyKnightAJ=30,
    TempleKnight=31,
    WhiteKnight1=32,
    ArcWitch=33,
    EngineerMG=34,
    BiCount=35,
    DivineKnightV=36,
    DivineKnightR=37,
    KnightBlade=38,
    Sorceror=39,
    WhiteKnight2=40,
    HeavenKnightJ=41,
    DivineKnightMJ=42,
    EngineerB=43,
    ClericD=44,
    AssassinC=45,
    AssassinL=46,
    DivineKnightME=47,
    ClericE=48,
    PhonySaint=49,
    Soldier=50,
    ArcKnightZ=51,
    HolyKnightAG=52,
    ChemistF1=53,
    PriestF1=54,
    WizardM1=55,
    OracleM1=56,
    SquireM1=57,
    AssassinCU=58,
    AssassinLU=59,
    Warlock=60,
    KnightMZ=61,
    AngelofDeath=62,
    ArcherMZ=63,
    Regulator=64,
    HolyAngel=65,
    WizardMZ=66,
    ImpureKing=67,
    TimeMageFZ=68,
    GhostofFury=69,
    OracleMZ=70,
    SummonerMZ=71,
    HolyDragon=72,
    ArchAngel=73,
    10YearOldMan=74,
    10YearOldWoman=75,
    20YearOldMan=76,
    20YearOldWoman=77,
    40YearOldMan=78,
    40YearOldWoman=79,
    60YearOldMan=80,
    60YearOldWoman=81,
    OldFuneralMan=82,
    OldFuneralWoman=83,
    FuneralMan=84,
    FuneralWoman=85,
    FuneralPriest=86,
    MaleSquire1=87,
    MaleSquire2=88,
    MaleSquire3=89,
    MaleSquire4=90,
    MaleSquire5=91,
    MaleSquire6=92,
    UnusedLucavi=93,
    UnusedCloakedFigure=94,
    UnusedRobedFigure=95,
    SquireM=96,
    SquireF=97,
    ChemistM=98,
    ChemistF=99,
    KnightM=100,
    KnightF=101,
    ArcherM=102,
    ArcherF=103,
    MonkM=104,
    MonkF=105,
    PriestM=106,
    PriestF=107,
    WizardM=108,
    WizardF=109,
    TimeMageM=110,
    TimeMageF=111,
    SummonerM=112,
    SummonerF=113,
    ThiefM=114,
    ThiefF=115,
    MediatorM=116,
    MediatorF=117,
    OracleM=118,
    OracleF=119,
    GeomancerM=120,
    GeomancerF=121,
    LancerM=122,
    LancerF=123,
    SamuraiM=124,
    SamuraiF=125,
    NinjaM=126,
    NinjaF=127,
    CalculatorM=128,
    CalculatorF=129,
    Bard=130,
    Dancer=131,
    MimeM=132,
    MimeF=133,
    Chocobo=134,
    Goblin=135,
    Bomb=136,
    Coeurl=137,
    Squid=138,
    Skeleton=139,
    Ghost=140,
    Ahriman=141,
    Cockatrice=142,
    uribo=143,
    Treant=144,
    Minotaur=145,
    Marlboro=146,
    Behemoth=147,
    Dragon=148,
    Tiamat=149,
    Apanda=150,
    Serpentarius=151,
    Dragon2=152,
    Demon=153,
    SteelGiant=154,
    Crystal=155,
    Chicken=156,
    Frog=157,
    Treasure=158
} SpritesheetID;

typedef struct fileOpenDesc fileOpenDesc, *PfileOpenDesc;

typedef struct CdlLOC CdlLOC, *PCdlLOC;

typedef ulong __u_long;

typedef __u_long u_long;

typedef uchar u_char;

struct CdlLOC {
    u_char minute;
    u_char second;
    u_char sector;
    u_char track;
};

struct fileOpenDesc { // custom FFT file header used to load most files
    undefined4 field0_0x0;
    int busy;
    undefined4 field2_0x8;
    undefined4 field3_0xc;
    int nosect;
    int lba;
    undefined4 field6_0x18;
    struct CdlLOC CdlLOC;
    u_long addr;
};

typedef struct SecondaryAbilityRSM SecondaryAbilityRSM, *PSecondaryAbilityRSM;

struct SecondaryAbilityRSM {
    byte ID;
};

typedef struct SecondaryAbilityMath SecondaryAbilityMath, *PSecondaryAbilityMath;

struct SecondaryAbilityMath {
    int Mult:4;
    int Stat:4;
};

typedef enum bbool {
    false=0,
    true=1
} bbool;

typedef struct ItemAttributes ItemAttributes, *PItemAttributes;

struct ItemAttributes {
    byte PA;
    byte MA;
    byte Speed;
    byte Move;
    byte Jump;
    struct StatusList AlwaysStatuses;
    struct StatusList ImmuneStatuses;
    struct StatusList StartStatuses;
    byte AbsorbElem;
    byte NullElem;
    byte HalfElem;
    byte DoubleElem;
    byte BoostElem;
};


// WARNING! conflicting data type names: /TYPES.H/u_long - /types.h/u_long

typedef ushort u_short;

typedef struct GsSPRITE GsSPRITE, *PGsSPRITE;

struct GsSPRITE {
    ulong attribute;
    short x;
    short y;
    ushort w;
    ushort h;
    ushort tpage;
    uchar u;
    uchar v;
    short cx;
    short cy;
    uchar r;
    uchar g;
    uchar b;
    short mx;
    short my;
    short scalex;
    short scaley;
    long rotate;
};

typedef struct GsOT_TAG GsOT_TAG, *PGsOT_TAG;

struct GsOT_TAG {
    uint p:24;
    uchar num:8;
};

typedef struct GsOT GsOT, *PGsOT;

struct GsOT {
    ulong length;
    struct GsOT_TAG * org;
    ulong offset;
    ulong point;
    struct GsOT_TAG * tag;
};

typedef struct GsBOXF GsBOXF, *PGsBOXF;

struct GsBOXF {
    ulong attribute;
    short x;
    short y;
    ushort w;
    ushort h;
    uchar r;
    uchar g;
    uchar b;
};

typedef struct GsIMAGE GsIMAGE, *PGsIMAGE;

struct GsIMAGE {
    ulong pmode;
    short px;
    short py;
    ushort pw;
    ushort ph;
    ulong * pixel;
    short cx;
    short cy;
    ushort cw;
    ushort ch;
    ulong * clut;
};

typedef struct GsLINE GsLINE, *PGsLINE;

struct GsLINE {
    ulong attribute;
    short x0;
    short y0;
    short x1;
    short y1;
    uchar r;
    uchar g;
    uchar b;
};

typedef struct VERTC VERTC, *PVERTC;

typedef struct CVECTOR CVECTOR, *PCVECTOR;

struct CVECTOR {
    u_char r;
    u_char g;
    u_char b;
    u_char cd;
};

struct VERTC {
    short vx;
    short vy;
    short vz;
    u_char tu;
    u_char tv;
    struct CVECTOR col;
};

typedef struct DECDCTENV DECDCTENV, *PDECDCTENV;

struct DECDCTENV {
    u_char iq_y[64];
    u_char iq_c[64];
    short dct[64];
};

typedef void (* CdlCB)(u_char, u_char *);

typedef struct CdlATV CdlATV, *PCdlATV;

struct CdlATV {
    u_char val0;
    u_char val1;
    u_char val2;
    u_char val3;
};

typedef struct TILE_8 TILE_8, *PTILE_8;

struct TILE_8 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
};

typedef struct POLY_G3 POLY_G3, *PPOLY_G3;

struct POLY_G3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char pad1;
    short x1;
    short y1;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char pad2;
    short x2;
    short y2;
};

typedef struct TMD_PRIM TMD_PRIM, *PTMD_PRIM;

typedef struct SVECTOR SVECTOR, *PSVECTOR;

struct SVECTOR {
    short vx;
    short vy;
    short vz;
    short pad;
};

struct TMD_PRIM {
    u_long id;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char p0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char p2;
    u_char r3;
    u_char g3;
    u_char b3;
    u_char p3;
    u_short tpage;
    u_short clut;
    u_char u0;
    u_char $2;
    u_char u1;
    u_char $3;
    u_char u2;
    u_char v2;
    u_char u3;
    u_char v3;
    struct SVECTOR x0;
    struct SVECTOR x1;
    struct SVECTOR x2;
    struct SVECTOR x3;
    struct SVECTOR n0;
    struct SVECTOR n1;
    struct SVECTOR n2;
    struct SVECTOR n3;
    struct SVECTOR * v_ofs;
    struct SVECTOR * n_ofs;
    u_short vert0;
    u_short vert1;
    u_short vert2;
    u_short vert3;
    u_short norm0;
    u_short norm1;
    u_short norm2;
    u_short norm3;
};

typedef struct POLY_F3 POLY_F3, *PPOLY_F3;

struct POLY_F3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
    short x2;
    short y2;
};

typedef struct POLY_F4 POLY_F4, *PPOLY_F4;

struct POLY_F4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
    short x2;
    short y2;
    short x3;
    short y3;
};

typedef struct POLY_GT3 POLY_GT3, *PPOLY_GT3;

struct POLY_GT3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
    u_char u1;
    u_char $3;
    u_short tpage;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char p2;
    short x2;
    short y2;
    u_char u2;
    u_char v2;
    u_short pad2;
};

typedef struct POLY_FT4 POLY_FT4, *PPOLY_FT4;

struct POLY_FT4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char v1;
    u_short clut;
    short x1;
    short y1;
    u_char u1;
    u_char v0;
    u_short tpage;
    short x2;
    short y2;
    u_char u2;
    u_char v2;
    u_short pad1;
    short x3;
    short y3;
    u_char u3;
    u_char v3;
    u_short pad2;
};

typedef struct POLY_FT3 POLY_FT3, *PPOLY_FT3;

struct POLY_FT3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
    short x1;
    short y1;
    u_char u1;
    u_char $3;
    u_short tpage;
    short x2;
    short y2;
    u_char u2;
    u_char v2;
    u_short pad1;
};

typedef struct DR_MODE DR_MODE, *PDR_MODE;

struct DR_MODE {
    u_long tag;
    u_long code[2];
};

typedef struct LINE_F3 LINE_F3, *PLINE_F3;

struct LINE_F3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
    short x2;
    short y2;
    u_long pad;
};

typedef struct DR_ENV DR_ENV, *PDR_ENV;

struct DR_ENV {
    u_long tag;
    u_long code[15];
};

typedef struct DR_OFFSET DR_OFFSET, *PDR_OFFSET;

struct DR_OFFSET {
    u_long tag;
    u_long code[2];
};

typedef struct RECT RECT, *PRECT;

struct RECT {
    short x;
    short y;
    short w;
    short h;
};

typedef struct POLY_G4 POLY_G4, *PPOLY_G4;

struct POLY_G4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char pad1;
    short x1;
    short y1;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char pad2;
    short x2;
    short y2;
    u_char r3;
    u_char g3;
    u_char b3;
    u_char pad3;
    short x3;
    short y3;
};

typedef struct TILE_16 TILE_16, *PTILE_16;

struct TILE_16 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
};

typedef struct SPRT_16 SPRT_16, *PSPRT_16;

struct SPRT_16 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
};

typedef struct LINE_G2 LINE_G2, *PLINE_G2;

struct LINE_G2 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
};

typedef struct TILE TILE, *PTILE;

struct TILE {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short w;
    short h;
};

typedef struct DISPENV DISPENV, *PDISPENV;

struct DISPENV {
    struct RECT disp;
    struct RECT screen;
    u_char isinter;
    u_char isrgb24;
    u_char pad0;
    u_char pad1;
};

typedef struct TIM_IMAGE TIM_IMAGE, *PTIM_IMAGE;

struct TIM_IMAGE {
    u_long mode;
    struct RECT * crect;
    u_long * caddr;
    struct RECT * prect;
    u_long * paddr;
};

typedef struct DR_PRIO DR_PRIO, *PDR_PRIO;

struct DR_PRIO {
    u_long tag;
    u_long code[2];
};

typedef struct DR_AREA DR_AREA, *PDR_AREA;

struct DR_AREA {
    u_long tag;
    u_long code[2];
};

typedef struct LINE_F4 LINE_F4, *PLINE_F4;

struct LINE_F4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
    short x2;
    short y2;
    short x3;
    short y3;
    u_long pad;
};

typedef struct SPRT_8 SPRT_8, *PSPRT_8;

struct SPRT_8 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
};

typedef struct SPRT SPRT, *PSPRT;

struct SPRT {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
    short w;
    short h;
};

typedef struct LINE_F2 LINE_F2, *PLINE_F2;

struct LINE_F2 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
};

typedef struct DR_TPAGE DR_TPAGE, *PDR_TPAGE;

struct DR_TPAGE {
    u_long tag;
    u_long code[1];
};

typedef struct DR_LOAD DR_LOAD, *PDR_LOAD;

struct DR_LOAD {
    u_long tag;
    u_long code[4];
    u_long p[12];
};

typedef struct LINE_G3 LINE_G3, *PLINE_G3;

struct LINE_G3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char p2;
    short x2;
    short y2;
    u_long pad;
};

typedef struct DR_TWIN DR_TWIN, *PDR_TWIN;

struct DR_TWIN {
    u_long tag;
    u_long code[2];
};

typedef struct DR_MOVE DR_MOVE, *PDR_MOVE;

struct DR_MOVE {
    u_long tag;
    u_long code;
    u_long code2;
    short sx;
    short sy;
    short x0;
    short y0;
    short w;
    short h;
};

typedef struct TILE_1 TILE_1, *PTILE_1;

struct TILE_1 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
};

typedef struct LINE_G4 LINE_G4, *PLINE_G4;

struct LINE_G4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char p2;
    short x2;
    short y2;
    u_char r3;
    u_char g3;
    u_char b3;
    u_char p3;
    short x3;
    short y3;
    u_long pad;
};

typedef struct DRAWENV DRAWENV, *PDRAWENV;

struct DRAWENV {
    struct RECT clip;
    short ofs[2];
    struct RECT tw;
    u_short tpage;
    u_char dtd;
    u_char dfe;
    u_char isbg;
    u_char r0;
    u_char g0;
    u_char b0;
    struct DR_ENV dr_env;
};

typedef struct POLY_GT4 POLY_GT4, *PPOLY_GT4;

struct POLY_GT4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
    u_char u1;
    u_char $3;
    u_short tpage;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char p2;
    short x2;
    short y2;
    u_char u2;
    u_char v2;
    u_short pad2;
    u_char r3;
    u_char g3;
    u_char b3;
    u_char p3;
    short x3;
    short y3;
    u_char u3;
    u_char v3;
    u_short pad3;
};

typedef int __jmp_buf[6];

typedef int __ssize_t;

typedef __ssize_t ssize_t;

typedef uint __u_int;

typedef __u_int u_int;

typedef long __off_t;

typedef struct BattleUnitData BattleUnitData, *PBattleUnitData;

typedef struct AllActionUnitData AllActionUnitData, *PAllActionUnitData;

typedef struct CurActionTargetData CurActionTargetData, *PCurActionTargetData;

typedef struct CurActionUnitData CurActionUnitData, *PCurActionUnitData;

struct AllActionUnitData {
    enum JobID BaseClass;
    byte UnitID;
    byte PartyID;
    enum JobID JobID;
    byte TeamPalette;
    int isRamza:2;
    bool Immortal:1;
    bool Control:1;
    int Team:2;
    bool RandomlyPresent:1;
    bool AlwaysPresent:1;
    bool SaveFormation:1;
    bool BossStats:1;
    bool LoadFormation:1;
    bool JoinAfterEvent:1;
    bool Monster:1;
    bool Female:1;
    bool Male:1;
    byte DeathCounter;
    int Birthday:9;
    int Zodiac:4;
    enum AbilityID Innate0;
    enum AbilityID Innate1;
    enum AbilityID Innate2;
    enum AbilityID Innate3;
    enum SkillsetID PrimarySkillset;
    enum SkillsetID SecondarySkillset;
    enum AbilityID ReactionAbility;
    enum AbilityID SupportAbility;
    enum AbilityID MovementAbility;
    enum ItemID Head;
    enum ItemID Body;
    enum ItemID Accessory;
    enum ItemID RHWeapon;
    enum ItemID RHShield;
    enum ItemID LHWeapon;
    enum ItemID LHShield;
    byte Exp;
    byte Level;
    byte OriginalBrave;
    byte Brave;
    byte OriginalFaith;
    byte Faith;
    byte ActiveUnit;
    ushort HP;
    ushort MaxHP;
    short MP;
    ushort MaxMP;
    byte OriginalPA;
    byte OriginalMA;
    byte OriginalSP;
    byte BonusPA;
    byte BonusMA;
    byte BonusSP;
    byte PA;
    byte MA;
    byte SP;
    byte CT;
    byte Move;
    byte Jump;
    byte WP1;
    byte WP2;
    byte WEv1;
    byte WEv2;
    byte AccPEv;
    byte RHShieldPEv;
    byte LHShieldPEv;
    byte CEv;
    byte AccMEv;
    byte RHShieldMEv;
    byte LHShieldMEv;
    byte MapX;
    byte MapY;
    int FacingValue:4;
    bool SteppingStone:1;
    int MapElevation:1;
    undefined field76_0x4a;
    undefined field77_0x4b;
    undefined field78_0x4c;
    undefined field79_0x4d;
    struct StatusList InnateStatuses;
    struct StatusList ImmuneStatuses;
    struct StatusList CurrentStatuses;
    byte PoisonCT;
    byte RegenCT;
    byte ProtectCT;
    byte ShellCT;
    byte HasteCT;
    byte SlowCT;
    byte StopCT;
    byte WallCT;
    byte FaithCT;
    byte InnocentCT;
    byte CharmCT;
    byte SleepCT;
    byte DontMoveCT;
    byte DontActCT;
    byte ReflectCT;
    byte DeathSentenceCT;
    byte AbsorbElem;
    byte NullElem;
    byte HalfElem;
    byte DoubleElem;
    byte BoostElem;
    int RawHP:24;
    int RawMP:24;
    int RawSP:24;
    int RawPA:24;
    int RawMA:24;
    byte HPGrowth;
    byte HPMult;
    byte MPGrowth;
    byte MPMult;
    byte SPGrowth;
    byte SPMult;
    byte PAGrowth;
    byte PAMult;
    byte MAGrowth;
    byte MAMult;
    dword Reactions;
    dword Supports;
    int Movements:24;
    int UnlockedJobs:24;
    int BaseAbilities:24;
    int ChemistAbilities:24;
    int KnightAbilities:24;
    int ArcherAbilities:24;
    int MonkAbilities:24;
    int PriestAbilities:24;
    int WizardAbilities:24;
    int TimeMageAbilities:24;
    int SummonerAbilities:24;
    int ThiefAbilities:24;
    int MediatorAbilities:24;
    int OracleAbilities:24;
    int GeomancerAbilities:24;
    int LancerAbilities:24;
    int SamuraiAbilities:24;
    int NinjaAbilities:24;
    int CalculatorAbilities:24;
    int BardAbilities:24;
    int DancerAbilities:24;
    byte JobLevels[10];
    short JobJP[20];
    short JobTotalJP[20];
    char UnitName[16];
    char JobName[16];
    char PrimarySkillsetName[8];
    char SecondarySkillsetName[8];
    byte KOCount;
    byte CurAbCT;
    byte Graphic;
    byte Portrait;
    byte Palette;
    byte ENTDID;
    byte SpecialSkillset;
    byte WarTrophy;
    byte BonusMoneyMod;
    byte AIXStay;
    byte AIYStay;
    int BehaviourModifier:2;
    bool StayNearCoords:1;
    bool FocusTarget:1;
    int AIZStay:1;
    byte PrioritisedTarID;
    undefined field165_0x169;
    undefined field166_0x16a;
    undefined field167_0x16b;
    short UnitNameID;
};

struct CurActionTargetData {
    byte AttackerID;
    enum SkillsetID SkillsetOfAttack;
    enum AbilityID AttackToUse;
    short CalcTypeAb;
    short CalcMultAb;
    enum ItemID UsedItem;
    undefined field6_0x9;
    byte TileTarget;
    byte TargetID;
    short XMapCoordTarget;
    short ZMapCoordTarget;
    short YMapCoordTarget;
    byte DeathOnChocobo;
    bool Walkable:1;
    bool SteppingStone:1;
    byte RiderID:5;
    bool BeingRidden:1;
    bool RidingUnit:1;
    undefined field18_0x15;
    bool MatBladeEquipped:1;
    bool SwordEquipped:1;
    undefined field21_0x17;
    byte CurrentATUnit;
    byte MoveUnavailable;
    byte ActUnavailable;
    bool TurnEnded:1;
    bool TargetHit:1;
    bool TargetLearn:1;
    byte UnitID2;
    byte AbilityCT;
};

struct CurActionUnitData {
    enum bbool HitFlag;
    enum bbool CritFlag;
    byte EvadeType;
    byte ItemBreakID;
    short HPDamage;
    short HPRecovery;
    short MPDamage;
    short MPRecovery;
    short GilLost;
    short ReactionID;
    enum bbool Golem:1;
    enum bbool MoldballVirus:1;
    enum bbool BreakItem:1;
    enum bbool StoleItem:1;
    enum bbool StealItem:1;
    enum bbool Poached:1;
    enum bbool SwitchTeam:1;
    enum bbool +1Lv:1;
    enum bbool -1Lv:1;
    enum bbool ProcTrigger:1;
    enum bbool Absorb:1;
    enum bbool Weak:1;
    enum bbool KatanaBroke:1;
    enum bbool Knockback:1;
    enum bbool HitGolem:1;
    int SPChange:7;
    enum bbool SPBonus:1;
    int CTChange:7;
    enum bbool CTBonus:1;
    int PAChange:7;
    enum bbool PABonus:1;
    int MAChange:7;
    enum bbool MABonus:1;
    int BrChange:7;
    enum bbool BrBonus:1;
    int FaChange:7;
    enum bbool FaBonus:1;
    enum bbool MissedStatus:1;
    enum bbool GuardedStatus:1;
    enum bbool AnimateStatusOnMiss:1;
    enum bbool RemLHS:1;
    enum bbool RemLHW:1;
    enum bbool RemRHS:1;
    enum bbool RemRHW:1;
    enum bbool RemAcc:1;
    enum bbool RemBody:1;
    enum bbool RemHelm:1;
    enum ItemID StolenItemID;
    struct StatusList StatusInfliction;
    struct StatusList StatusRemoval;
    enum bbool StatsChange:1;
    enum bbool StatusChange:1;
    enum bbool MPREC:1;
    enum bbool MPDMG:1;
    enum bbool HPREC:1;
    enum bbool HPDMG:1;
    short ReactionVar;
    byte StolenEXP;
    byte StolenJP;
    byte Hit%;
    byte field60_0x2b;
    byte AutoBattle;
    byte MainTargetID;
    int isRamza:2;
    enum bbool Immortal:1;
    enum bbool Control:1;
    int Team:2;
    enum bbool RandomlyPresent:1;
    enum bbool AlwaysPresent:1;
    struct StatusList FinalInflictStatus;
};

struct BattleUnitData {
    struct AllActionUnitData field0_0x0;
    struct CurActionTargetData field1_0x16e;
    struct CurActionUnitData field2_0x18c;
};

typedef struct CurrentMapTileData CurrentMapTileData, *PCurrentMapTileData;

typedef enum TileType {
    NaturalSurface=0,
    SandArea=1,
    Stalactite=2,
    Grassland=3,
    Thicket=4,
    Snow=5,
    RockyCliff=6,
    Gravel=7,
    Wasteland=8,
    Swamp=9,
    Marsh=10,
    PoisonMarsh=11,
    LavaRocks=12,
    Ice=13,
    Waterway=14,
    River=15,
    Lake=16,
    Sea=17,
    Lava=18,
    Road=19,
    WoodenFloor=20,
    StoneFloor=21,
    Roof=22,
    StoneWall=23,
    Sky=24,
    Darkness=25,
    Salt=26,
    Book=27,
    Obstacle=28,
    Rug=29,
    Tree=30,
    Box=31,
    Brick=32,
    Chimney=33,
    MudWall=34,
    Bridge=35,
    WaterPlant=36,
    Stairs=37,
    Furniture=38,
    Ivy=39,
    Deck=40,
    Machine=41,
    IronPlate=42,
    Moss=43,
    Tombstone=44,
    Waterfall=45,
    Coffin=46,
    CrossSection=63
} TileType;

struct CurrentMapTileData {
    enum TileType TypeType;
    undefined field1_0x1;
    byte HeightWhole;
    byte HeightSub;
    byte AtAngleCentreHeight;
    bool GreenColour:1;
    bool Unselectable:1;
    bool CannotTarget:1;
    bool HalfShadow:1;
    bool FullShadow:1;
    undefined field10_0x7;
};

typedef enum GameStateVar {
    FreeCursor=0,
    Case1=1,
    Case2=2,
    ActionMenus=3,
    Case4=4,
    Case5=5,
    Case6=6,
    LongList=7,
    Case8=8,
    Case9=9,
    CaseA=10,
    CaseB=11,
    CaseC=12,
    CaseD=13,
    CaseE=14,
    CaseF=15,
    Case10=16,
    Case11=17,
    Case12=18,
    Case13=19,
    Case14=20,
    Case15=21,
    Case16=22,
    Case17=23,
    Case18=24,
    Case19=25,
    Case1a=26,
    Case1b=27,
    Case1c=28,
    Case1d=29,
    CommenceAttackPhaseCtrl=30,
    Case1F=31,
    Case20=32,
    Case21=33,
    Case22=34,
    Case23=35,
    Case24=36,
    Case25=37,
    Case26=38,
    JPEXPGain=39,
    LearnAbilityOnHit=40,
    OpenSP2Files=41,
    Case2a=42,
    Case2b=43,
    Case2c=44,
    Case2d=45,
    Case2e=46,
    ResumeAttackPhaseCtrl=47,
    Case30=48,
    Case31=49,
    Case32=50,
    Case33=51,
    Case34=52,
    Case35=53,
    Case36=54,
    Case37=55,
    Case38=56,
    Case39=57,
    Case3a=58,
    Case3b=59
} GameStateVar;

typedef enum SkillsetType {
    Default=0,
    Item=1,
    Throw=2,
    Math=3,
    Geomancy=4,
    DEPRECATED=5,
    Monster=6,
    DrawOut=7,
    Attack=8,
    Jump=9,
    Aim=10,
    Defend=11,
    EqChng=12,
    BUGGED=13,
    DEPRECATED2=14,
    BUGGED2=15
} SkillsetType;

typedef struct ENTDDisplayUnitData ENTDDisplayUnitData, *PENTDDisplayUnitData;

typedef struct ENTDCurrentActionData ENTDCurrentActionData, *PENTDCurrentActionData;

typedef struct MiscSpriteData MiscSpriteData, *PMiscSpriteData;

typedef struct WepMiscSpriteData WepMiscSpriteData, *PWepMiscSpriteData;

typedef struct SpriteDisplayData SpriteDisplayData, *PSpriteDisplayData;

typedef struct WeaponSpriteDisplayData WeaponSpriteDisplayData, *PWeaponSpriteDisplayData;

typedef struct StatusBubbleDisplay StatusBubbleDisplay, *PStatusBubbleDisplay;

typedef struct BodyPartSpriteData BodyPartSpriteData, *PBodyPartSpriteData;

typedef struct WepPartSpriteData WepPartSpriteData, *PWepPartSpriteData;

struct WepMiscSpriteData {
    short GraphicTrigger;
    short GraphicType;
    short CurrentAnim;
    short SHPInstrIndex;
    short SHPFrame;
    short WaitTime;
    short DebugLoopcount;
    dword StoredUnitAnim;
    short WaitTimeIncrease;
    short SHPFrame0;
    short WaitLoopCount;
    int Transparent:1;
    int FlipHorz:1;
    int FlipVert:1;
    undefined field14_0x19;
    undefined field15_0x1a;
    undefined field16_0x1b;
    pointer SHPPointer;
    pointer SEQPointer;
    pointer SHPPointer2;
    pointer SEQPointer2;
    struct WeaponSpriteDisplayData * SpriteDisplayPtr;
};

struct BodyPartSpriteData {
    byte XShift;
    byte YShift;
    byte Width;
    byte Height;
    byte U;
    byte V;
    int Transparent:1;
    int HorzFlip:1;
    int VertFlip:1;
    int TransparencyType:2;
    int Error:1;
};

struct SpriteDisplayData {
    byte R;
    byte G;
    byte B;
    byte NumGraphic;
    short TPAGE;
    short CLUT;
    short XWidth;
    short YWidth;
    short YSpin;
    struct BodyPartSpriteData field9_0xe;
    struct BodyPartSpriteData field10_0x15;
    struct BodyPartSpriteData field11_0x1c;
    struct BodyPartSpriteData field12_0x23;
    struct BodyPartSpriteData field13_0x2a;
    struct BodyPartSpriteData field14_0x31;
    struct BodyPartSpriteData field15_0x38;
    struct BodyPartSpriteData field16_0x3f;
};

struct MiscSpriteData {
    short GraphicTrigger;
    short GraphicType;
    short CurrentAnim;
    short SHPInstrIndex;
    short SHPFrame;
    short WaitTime;
    short DebugLoopcount;
    dword StoredUnitAnim;
    short WaitTimeIncrease;
    short SHPFrame0;
    short WaitLoopCount;
    int Transparent:1;
    int FlipHorz:1;
    int FlipVert:1;
    undefined field14_0x19;
    undefined field15_0x1a;
    undefined field16_0x1b;
    pointer SHPPointer;
    pointer SEQPointer;
    pointer SHPPointer2;
    pointer SEQPointer2;
    struct SpriteDisplayData * SpriteDisplayPtr;
};

struct StatusBubbleDisplay {
    byte R;
    byte G;
    byte B;
    byte NumGraphic;
    short TPAGE;
    short CLUT;
    short XWidth;
    short YWidth;
    short YSpin;
    struct BodyPartSpriteData field9_0xe;
};

struct WepPartSpriteData {
    byte Width;
    byte Height;
    byte U;
    byte V;
    int Transparent:1;
    int HorzFlip:1;
    int VertFlip:1;
    int TransparencyType:2;
    int Error:1;
};

struct WeaponSpriteDisplayData {
    byte R;
    byte G;
    byte B;
    byte NumGraphic;
    short TPAGE;
    short CLUT;
    short XWidth;
    short YWidth;
    short YSpin;
    byte Xshift;
    byte Yshift;
    struct WepPartSpriteData field11_0x10;
    struct WepPartSpriteData field12_0x15;
    struct WepPartSpriteData field13_0x1a;
    struct WepPartSpriteData field14_0x1f;
};

struct ENTDCurrentActionData {
    byte CurActionUsedAbilityID;
    byte CurActionTargetHitCount;
    byte TargetList[16];
    byte AnimateOnMiss;
    undefined field4_0x13;
    short LastUsedAttack;
    undefined field6_0x16;
    undefined field7_0x17;
    undefined field8_0x18;
    byte CurrentHitNo;
    byte ReactionID;
    undefined field11_0x1b;
    byte TargetNewX;
    byte TargetNewY;
    byte TargetNewZ;
    byte CurActionUsedWeaponID;
    undefined field16_0x20;
    undefined field17_0x21;
    undefined field18_0x22;
    byte CanEarnEXP;
    byte EarnedEXP;
    byte EarnedJP;
    byte Level;
    byte JobLevel;
    undefined field24_0x28;
    undefined field25_0x29;
    undefined field26_0x2a;
    byte InflictedRemovedStatusCount;
    int HPDamage:1;
    int HPHealing:1;
    int MPDamage:1;
    int MPHealing:1;
    int SPDamage:1;
    int SPBonus:1;
    int CTDamage:1;
    int CTBonus:1;
    int BraveDamage:1;
    int BraveBonus:1;
    int FaithDamage:1;
    int FaithBonus:1;
    int PADamage:1;
    int PABonus:1;
    int MADamage:1;
    int MABonus:1;
    int -1Lv:1;
    int +1Lv:1;
    int Stolen:1;
    int Broken:1;
    int Quick:1;
    int CT00:1;
    int Missed:1;
    int Guarded:1;
    int Caught:1;
    int GainedExp:1;
    int GainedJP:1;
    int NoTarget:1;
    int Silenced:1;
    int NoMP:1;
    byte field58_0x30;
    undefined field59_0x31;
    undefined field60_0x32;
    undefined field61_0x33;
    undefined field62_0x34;
    undefined field63_0x35;
    undefined field64_0x36;
    undefined field65_0x37;
    undefined field66_0x38;
    undefined field67_0x39;
    undefined field68_0x3a;
    undefined field69_0x3b;
    undefined field70_0x3c;
    undefined field71_0x3d;
    undefined field72_0x3e;
    undefined field73_0x3f;
    undefined field74_0x40;
    undefined field75_0x41;
    undefined field76_0x42;
    undefined field77_0x43;
    undefined field78_0x44;
    undefined field79_0x45;
    undefined field80_0x46;
    undefined field81_0x47;
    undefined field82_0x48;
    undefined field83_0x49;
    undefined field84_0x4a;
    undefined field85_0x4b;
};

struct ENTDDisplayUnitData {
    struct ENTDDisplayUnitData * PrevMiscUnitData;
    byte ENTDID;
    byte SpritesheetVRAM;
    enum SpritesheetID SpritesheetID;
    byte PaletteID;
    undefined field5_0x8;
    undefined field6_0x9;
    byte AnimateUnit;
    undefined field8_0xb;
    short ChangeOfAnim;
    short TPAGE;
    short CLUT;
    int Transparent:1;
    int HorzFlip:1;
    int VertFlip:1;
    int TransparencyType:4;
    undefined field16_0x13;
    undefined field17_0x14;
    undefined field18_0x15;
    undefined field19_0x16;
    undefined field20_0x17;
    dword RealX;
    dword RealZ;
    dword RealY;
    undefined field24_0x24;
    undefined field25_0x25;
    undefined field26_0x26;
    undefined field27_0x27;
    undefined field28_0x28;
    undefined field29_0x29;
    undefined field30_0x2a;
    undefined field31_0x2b;
    undefined field32_0x2c;
    undefined field33_0x2d;
    undefined field34_0x2e;
    undefined field35_0x2f;
    undefined field36_0x30;
    undefined field37_0x31;
    undefined field38_0x32;
    undefined field39_0x33;
    undefined field40_0x34;
    undefined field41_0x35;
    undefined field42_0x36;
    undefined field43_0x37;
    short MovementFlags;
    undefined field45_0x3a;
    undefined field46_0x3b;
    undefined field47_0x3c;
    undefined field48_0x3d;
    undefined field49_0x3e;
    undefined field50_0x3f;
    short ScreenX;
    short ScreenZ;
    short ScreenY;
    undefined field54_0x46;
    undefined field55_0x47;
    undefined field56_0x48;
    undefined field57_0x49;
    undefined field58_0x4a;
    undefined field59_0x4b;
    undefined field60_0x4c;
    undefined field61_0x4d;
    undefined field62_0x4e;
    undefined field63_0x4f;
    undefined field64_0x50;
    undefined field65_0x51;
    undefined field66_0x52;
    undefined field67_0x53;
    undefined field68_0x54;
    undefined field69_0x55;
    undefined field70_0x56;
    undefined field71_0x57;
    undefined field72_0x58;
    undefined field73_0x59;
    undefined field74_0x5a;
    undefined field75_0x5b;
    undefined field76_0x5c;
    undefined field77_0x5d;
    undefined field78_0x5e;
    undefined field79_0x5f;
    undefined field80_0x60;
    undefined field81_0x61;
    undefined field82_0x62;
    undefined field83_0x63;
    undefined field84_0x64;
    undefined field85_0x65;
    undefined field86_0x66;
    undefined field87_0x67;
    undefined field88_0x68;
    undefined field89_0x69;
    undefined field90_0x6a;
    undefined field91_0x6b;
    undefined field92_0x6c;
    undefined field93_0x6d;
    undefined field94_0x6e;
    undefined field95_0x6f;
    short CurrentFacing;
    short AttackFacing;
    undefined field98_0x74;
    undefined field99_0x75;
    undefined field100_0x76;
    undefined field101_0x77;
    undefined field102_0x78;
    undefined field103_0x79;
    short OTHER_VOffset;
    byte MapX;
    byte MapY;
    byte MapZ;
    byte CentreTileOffs;
    byte MoveX;
    byte MoveY;
    byte MoveZ;
    byte MoveMovementFlags;
    byte PrevMapX;
    byte PrevMapY;
    byte PrevMapZ;
    undefined field116_0x87;
    undefined field117_0x88;
    undefined field118_0x89;
    undefined field119_0x8a;
    undefined field120_0x8b;
    undefined field121_0x8c;
    undefined field122_0x8d;
    undefined field123_0x8e;
    undefined field124_0x8f;
    undefined field125_0x90;
    undefined field126_0x91;
    undefined field127_0x92;
    undefined field128_0x93;
    undefined field129_0x94;
    undefined field130_0x95;
    undefined field131_0x96;
    undefined field132_0x97;
    dword NumTilesCurMove;
    byte NumTilesFinalMove;
    byte TileMoveDir[9];
    undefined field136_0xa6;
    undefined field137_0xa7;
    undefined field138_0xa8;
    undefined field139_0xa9;
    undefined field140_0xaa;
    undefined field141_0xab;
    undefined field142_0xac;
    undefined field143_0xad;
    undefined field144_0xae;
    undefined field145_0xaf;
    undefined field146_0xb0;
    undefined field147_0xb1;
    undefined field148_0xb2;
    undefined field149_0xb3;
    undefined field150_0xb4;
    undefined field151_0xb5;
    undefined field152_0xb6;
    undefined field153_0xb7;
    undefined field154_0xb8;
    undefined field155_0xb9;
    undefined field156_0xba;
    undefined field157_0xbb;
    undefined field158_0xbc;
    undefined field159_0xbd;
    undefined field160_0xbe;
    undefined field161_0xbf;
    undefined field162_0xc0;
    undefined field163_0xc1;
    undefined field164_0xc2;
    undefined field165_0xc3;
    undefined field166_0xc4;
    undefined field167_0xc5;
    undefined field168_0xc6;
    undefined field169_0xc7;
    undefined field170_0xc8;
    undefined field171_0xc9;
    undefined field172_0xca;
    undefined field173_0xcb;
    undefined field174_0xcc;
    undefined field175_0xcd;
    undefined field176_0xce;
    undefined field177_0xcf;
    undefined field178_0xd0;
    undefined field179_0xd1;
    undefined field180_0xd2;
    undefined field181_0xd3;
    undefined field182_0xd4;
    undefined field183_0xd5;
    undefined field184_0xd6;
    undefined field185_0xd7;
    undefined field186_0xd8;
    undefined field187_0xd9;
    undefined field188_0xda;
    undefined field189_0xdb;
    undefined field190_0xdc;
    undefined field191_0xdd;
    undefined field192_0xde;
    undefined field193_0xdf;
    undefined field194_0xe0;
    undefined field195_0xe1;
    undefined field196_0xe2;
    undefined field197_0xe3;
    undefined field198_0xe4;
    undefined field199_0xe5;
    undefined field200_0xe6;
    undefined field201_0xe7;
    undefined field202_0xe8;
    undefined field203_0xe9;
    undefined field204_0xea;
    undefined field205_0xeb;
    undefined field206_0xec;
    undefined field207_0xed;
    undefined field208_0xee;
    undefined field209_0xef;
    undefined field210_0xf0;
    undefined field211_0xf1;
    undefined field212_0xf2;
    undefined field213_0xf3;
    undefined field214_0xf4;
    undefined field215_0xf5;
    undefined field216_0xf6;
    undefined field217_0xf7;
    undefined field218_0xf8;
    undefined field219_0xf9;
    undefined field220_0xfa;
    undefined field221_0xfb;
    undefined field222_0xfc;
    undefined field223_0xfd;
    undefined field224_0xfe;
    undefined field225_0xff;
    undefined field226_0x100;
    undefined field227_0x101;
    undefined field228_0x102;
    undefined field229_0x103;
    undefined field230_0x104;
    undefined field231_0x105;
    undefined field232_0x106;
    undefined field233_0x107;
    undefined field234_0x108;
    undefined field235_0x109;
    undefined field236_0x10a;
    undefined field237_0x10b;
    undefined field238_0x10c;
    undefined field239_0x10d;
    undefined field240_0x10e;
    undefined field241_0x10f;
    undefined field242_0x110;
    undefined field243_0x111;
    undefined field244_0x112;
    undefined field245_0x113;
    undefined field246_0x114;
    undefined field247_0x115;
    undefined field248_0x116;
    undefined field249_0x117;
    undefined field250_0x118;
    undefined field251_0x119;
    undefined field252_0x11a;
    byte DEPRECATED;
    undefined field254_0x11c;
    undefined field255_0x11d;
    undefined field256_0x11e;
    undefined field257_0x11f;
    undefined field258_0x120;
    undefined field259_0x121;
    undefined field260_0x122;
    undefined field261_0x123;
    undefined field262_0x124;
    undefined field263_0x125;
    undefined field264_0x126;
    undefined field265_0x127;
    undefined field266_0x128;
    undefined field267_0x129;
    undefined field268_0x12a;
    undefined field269_0x12b;
    undefined field270_0x12c;
    undefined field271_0x12d;
    undefined field272_0x12e;
    undefined field273_0x12f;
    byte MountVal;
    byte MountID;
    byte PrevMountVal;
    byte PrevMountID;
    struct BattleUnitData * UnitBattleData;
    enum AbilityID UsedAbility;
    enum ItemID UsedItem;
    byte UsedWeaponType;
    byte CTResolved;
    byte ENTDFlags;
    undefined field284_0x13e;
    undefined field285_0x13f;
    int Mounted:1;
    int Dead:1;
    int Critical:1;
    int Stop:1;
    int Petrify:1;
    int Sleep:1;
    int Confusion:1;
    int Perform:1;
    int Charge:1;
    int Defend:1;
    int Slow:1;
    int Haste:1;
    int CursedDEPRECATED:1;
    int Berserk:1;
    int Faith:1;
    int Innocent:1;
    int BloodSuck:1;
    int DontMove:1;
    int DontAct:1;
    int Shell:1;
    int Protect:1;
    int Poison:1;
    int Oil:1;
    int Charm:1;
    int Silence:1;
    int DeathSentence:1;
    int Darkness:1;
    int Reraise:1;
    int Regen:1;
    int Undead:1;
    int Crystal:1;
    int Chicken:1;
    int Frog:1;
    int Treasure:1;
    int Transparent:1;
    int Float:1;
    int Jump:1;
    int Poached:1;
    int MoldballVirus:1;
    undefined field325_0x146;
    undefined field326_0x147;
    dword StatusesAdd1234;
    dword StatusesAdd56;
    dword StatusesRem1234;
    dword StatusesRem56;
    undefined field331_0x158;
    undefined field332_0x159;
    undefined field333_0x15a;
    undefined field334_0x15b;
    byte TargetID;
    enum SkillsetID UsedSkillset;
    short UsedAbility2;
    short CalcTypeAb;
    short CalcMultAb;
    byte UsedItem2;
    undefined field341_0x165;
    byte TileOrTarget;
    byte TargetID2;
    short TargetX;
    short TargetZ;
    short TargetY;
    undefined field347_0x16e;
    undefined field348_0x16f;
    undefined field349_0x170;
    undefined field350_0x171;
    undefined field351_0x172;
    undefined field352_0x173;
    undefined field353_0x174;
    undefined field354_0x175;
    undefined field355_0x176;
    undefined field356_0x177;
    undefined field357_0x178;
    undefined field358_0x179;
    undefined field359_0x17a;
    undefined field360_0x17b;
    undefined field361_0x17c;
    undefined field362_0x17d;
    undefined field363_0x17e;
    undefined field364_0x17f;
    undefined field365_0x180;
    undefined field366_0x181;
    undefined field367_0x182;
    undefined field368_0x183;
    undefined field369_0x184;
    undefined field370_0x185;
    undefined field371_0x186;
    undefined field372_0x187;
    undefined field373_0x188;
    undefined field374_0x189;
    undefined field375_0x18a;
    undefined field376_0x18b;
    struct ENTDCurrentActionData field377_0x18c;
    struct MiscSpriteData UnitSpriteData;
    struct WepMiscSpriteData WeaponSpriteData;
    struct WepMiscSpriteData GlintSpriteData;
    struct WepMiscSpriteData NumericalDisplayData;
    short ShadowGraphicTrigger;
    undefined field383_0x29a;
    undefined field384_0x29b;
    undefined field385_0x29c;
    undefined field386_0x29d;
    undefined field387_0x29e;
    undefined field388_0x29f;
    undefined field389_0x2a0;
    undefined field390_0x2a1;
    undefined field391_0x2a2;
    undefined field392_0x2a3;
    undefined field393_0x2a4;
    undefined field394_0x2a5;
    undefined field395_0x2a6;
    undefined field396_0x2a7;
    undefined field397_0x2a8;
    undefined field398_0x2a9;
    undefined field399_0x2aa;
    undefined field400_0x2ab;
    undefined field401_0x2ac;
    undefined field402_0x2ad;
    undefined field403_0x2ae;
    undefined field404_0x2af;
    undefined field405_0x2b0;
    undefined field406_0x2b1;
    undefined field407_0x2b2;
    undefined field408_0x2b3;
    undefined field409_0x2b4;
    undefined field410_0x2b5;
    undefined field411_0x2b6;
    undefined field412_0x2b7;
    undefined field413_0x2b8;
    undefined field414_0x2b9;
    undefined field415_0x2ba;
    undefined field416_0x2bb;
    short AtkResultGraphicTrigger;
    short DisplayType;
    short NumbertoDisplay;
    undefined field420_0x2c2;
    undefined field421_0x2c3;
    pointer NumericalDisplayPtr0;
    pointer NumericalDisplayPtr1;
    pointer NumericalDisplayPtr2;
    short FoundItemGraphicTrigger;
    undefined field426_0x2d2;
    undefined field427_0x2d3;
    undefined field428_0x2d4;
    undefined field429_0x2d5;
    undefined field430_0x2d6;
    undefined field431_0x2d7;
    pointer FoundItemDisplayPointer;
    byte StatusBubbleGraphicTrigger;
    byte StatusBubbleIndex;
    byte XPosStatBub;
    byte YPosStatBub;
    dword StatBubTimer;
    pointer StatusBubbleDisplayDataPtr;
    undefined field439_0x2e8;
    undefined field440_0x2e9;
    undefined field441_0x2ea;
    undefined field442_0x2eb;
    undefined field443_0x2ec;
    undefined field444_0x2ed;
    undefined field445_0x2ee;
    undefined field446_0x2ef;
    undefined field447_0x2f0;
    undefined field448_0x2f1;
    undefined field449_0x2f2;
    undefined field450_0x2f3;
    undefined field451_0x2f4;
    undefined field452_0x2f5;
    undefined field453_0x2f6;
    undefined field454_0x2f7;
    undefined field455_0x2f8;
    undefined field456_0x2f9;
    undefined field457_0x2fa;
    undefined field458_0x2fb;
    undefined field459_0x2fc;
    undefined field460_0x2fd;
    undefined field461_0x2fe;
    undefined field462_0x2ff;
    undefined field463_0x300;
    undefined field464_0x301;
    undefined field465_0x302;
    undefined field466_0x303;
    undefined field467_0x304;
    undefined field468_0x305;
    undefined field469_0x306;
    undefined field470_0x307;
    undefined field471_0x308;
    undefined field472_0x309;
    undefined field473_0x30a;
    undefined field474_0x30b;
    undefined field475_0x30c;
    undefined field476_0x30d;
    undefined field477_0x30e;
    undefined field478_0x30f;
    undefined field479_0x310;
    undefined field480_0x311;
    undefined field481_0x312;
    undefined field482_0x313;
    undefined field483_0x314;
    undefined field484_0x315;
    undefined field485_0x316;
    undefined field486_0x317;
    undefined field487_0x318;
    undefined field488_0x319;
    undefined field489_0x31a;
    undefined field490_0x31b;
    struct SpriteDisplayData UnitDisplayData;
    struct WeaponSpriteDisplayData WeaponDisplayData;
    struct WeaponSpriteDisplayData GlintDisplayData;
    struct WeaponSpriteDisplayData DREPRECATEDDisplayData;
    byte NumDispR;
    byte NumDispG;
    byte NumDispB;
    byte NumDispType;
    short NumDispTPAGE;
    short NumDispCLUT;
    short XWidth;
    short YWidth;
    undefined field503_0x3da;
    undefined field504_0x3db;
    undefined field505_0x3dc;
    undefined field506_0x3dd;
    undefined field507_0x3de;
    undefined field508_0x3df;
    undefined field509_0x3e0;
    undefined field510_0x3e1;
    short FlipFlagsZero;
    byte NumDisp2XShift;
    byte NumDisp2YShift;
    byte NumDisp2Width;
    byte NumDisp2Height;
    byte NumDisp2U;
    byte NumDisp2V;
    undefined field518_0x3ea;
    undefined field519_0x3eb;
    undefined field520_0x3ec;
    undefined field521_0x3ed;
    undefined field522_0x3ee;
    undefined field523_0x3ef;
    undefined field524_0x3f0;
    undefined field525_0x3f1;
    undefined field526_0x3f2;
    undefined field527_0x3f3;
    undefined field528_0x3f4;
    undefined field529_0x3f5;
    undefined field530_0x3f6;
    undefined field531_0x3f7;
    undefined field532_0x3f8;
    undefined field533_0x3f9;
    byte NumDisp3XShift;
    byte NumDisp3YShift;
    byte NumDisp3Width;
    byte NumDisp3Height;
    byte NumDisp3U;
    byte NumDisp3V;
    undefined field540_0x400;
    undefined field541_0x401;
    undefined field542_0x402;
    undefined field543_0x403;
    undefined field544_0x404;
    undefined field545_0x405;
    undefined field546_0x406;
    undefined field547_0x407;
    undefined field548_0x408;
    undefined field549_0x409;
    undefined field550_0x40a;
    undefined field551_0x40b;
    undefined field552_0x40c;
    undefined field553_0x40d;
    undefined field554_0x40e;
    undefined field555_0x40f;
    struct StatusBubbleDisplay StatusBubbleDisplay;
    undefined field557_0x425;
    undefined field558_0x426;
    undefined field559_0x427;
    undefined field560_0x428;
    undefined field561_0x429;
    undefined field562_0x42a;
    undefined field563_0x42b;
    undefined field564_0x42c;
    undefined field565_0x42d;
    undefined field566_0x42e;
    undefined field567_0x42f;
    undefined field568_0x430;
    undefined field569_0x431;
    undefined field570_0x432;
    undefined field571_0x433;
    undefined field572_0x434;
    undefined field573_0x435;
    undefined field574_0x436;
    undefined field575_0x437;
    undefined field576_0x438;
    undefined field577_0x439;
    undefined field578_0x43a;
    undefined field579_0x43b;
    dword InitializationByte;
};

typedef struct MapCoordinateStats MapCoordinateStats, *PMapCoordinateStats;

struct MapCoordinateStats {
    int CursorX;
    int CursorLevel;
    int CursorY;
    int MaxX;
    int MaxY;
    int ModifiedPalettes;
};

typedef struct CurrentAbilityData CurrentAbilityData, *PCurrentAbilityData;

struct CurrentAbilityData {
    byte CasFacing;
    bool ActionPerformed;
    enum ItemID CasRHW;
    enum ItemID CasLHW;
    short CasTeam;
    short CasTarXDist;
    short CasTarYDist;
    byte CasID;
    enum SkillsetID UsedSkillset;
    enum AbilityID UsedAbility;
    short CalcTypeID;
    short CalcMultID;
    enum ItemID UsedItem;
    undefined field13_0x13;
    byte Reaction;
    byte TarID;
    short TarMapX;
    short TarMapZ;
    short TarMapY;
    undefined field19_0x1c;
    undefined field20_0x1d;
    byte MountByte;
    undefined field22_0x1f;
    dword Hamedo;
    byte CasID2;
    byte TarID2;
    byte NoHits;
    byte NumHitsExecuted;
    enum ItemID PrimaryUsedItem;
    enum ItemID SecondaryUsedItem;
    short ReactionID2;
    short CanPerformReaction;
    byte TarNewMapX;
    byte TarNewMapY;
    byte TarNewMapZ;
    byte CasTileType;
    short AbPower;
    short UnitPower;
    byte TarEffectiveFaith;
    byte CasEffectiveFaith;
    enum SkillsetID UsedSkillset2;
    undefined field41_0x39;
    enum AbilityID UsedAbility2;
    enum ItemID UsedItem3;
    bool 2hands;
    byte ProcID;
    enum ItemID UsedItem4;
    byte BaseHitRate;
    undefined field48_0x41;
    byte AccEv;
    byte RHEv;
    byte LHEv;
    byte CEv;
    byte FaceEvMod;
    undefined field54_0x47;
    byte ChargePower;
    enum FormulaID Formula;
    bool UndeadReverse;
    byte EarnedEXP;
    bool CanEarnEXP;
    bool DefaultToAbility00;
    byte RdmDmgMod;
    byte MPUsed;
    bool CanKnockback;
    bool NonFlying:1;
    bool Flying:1;
    bool IgnoreFallDamage:1;
    byte FallDistance;
    byte PostActionTarID;
    struct SecondaryAbilityData CurrentAbilityFuncData;
    struct WeaponSecondary CurrentWeaponFuncData;
    struct InflictStatuses CurrentAbilityInflictions;
    undefined field72_0x70;
    undefined field73_0x71;
    undefined field74_0x72;
    undefined field75_0x73;
    undefined field76_0x74;
    undefined field77_0x75;
    undefined field78_0x76;
    undefined field79_0x77;
};

typedef struct MATRIX MATRIX, *PMATRIX;

struct MATRIX {
    short m[3][3];
    long t[3];
};

typedef struct VECTOR VECTOR, *PVECTOR;

struct VECTOR {
    long vx;
    long vy;
    long vz;
    long pad;
};

typedef struct DVECTOR DVECTOR, *PDVECTOR;

struct DVECTOR {
    short vx;
    short vy;
};

typedef enum ThreadID {
    0=0,
    1=1,
    2=2,
    3=3,
    4=4,
    5=5,
    6=6,
    7=7,
    8=8,
    9=9,
    a=10,
    b=11,
    c=12,
    d=13,
    e=14,
    RHsideSmall=15
} ThreadID;

typedef struct __jmp_buf_tag __jmp_buf_tag, *P__jmp_buf_tag;

typedef struct __sigset_t __sigset_t, *P__sigset_t;

struct __sigset_t {
    ulong __val[32];
};

struct __jmp_buf_tag {
    __jmp_buf __jmpbuf;
    int __mask_was_saved;
    struct __sigset_t __saved_mask;
};

typedef ulong size_t;

typedef struct SpuDecodedData SpuDecodedData, *PSpuDecodedData;

struct SpuDecodedData {
    short cd_left[512];
    short cd_right[512];
    short voice1[512];
    short voice3[512];
};

typedef void (* SpuTransferCallbackProc)(void);

typedef struct SpuVolume SpuVolume, *PSpuVolume;

struct SpuVolume {
    short left;
    short right;
};

typedef struct SpuReverbAttr SpuReverbAttr, *PSpuReverbAttr;

struct SpuReverbAttr {
    ulong mask;
    long mode;
    struct SpuVolume depth;
    long delay;
    long feedback;
};




// WARNING: Removing unreachable block (ram,0x80010b10)

void start(void)

{
  int iVar1;
  undefined **ppuVar2;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  uint uVar3;
  undefined *unaff_retaddr;
  undefined4 uVar4;
  
  ppuVar2 = &StartReturnAddress;
  do {
    *ppuVar2 = (undefined *)0x0;
    ppuVar2 = ppuVar2 + 1;
  } while (ppuVar2 < &DAT_8004091c);
  uVar3 = DAT_8004593c - 8U | 0x80000000;
  DAT_80028aec = ((DAT_8004593c - 8U) - DAT_80045940) + -0x4091c;
  DAT_80028ae8 = &DAT_8004091c;
  uVar4 = 0x80010acc;
  StartReturnAddress = unaff_retaddr;
  main();
  iVar1 = IsGameRunning;
  trap(1);
  *(undefined4 *)(uVar3 - 0xc) = unaff_s0;
  *(undefined4 *)(uVar3 - 8) = unaff_s1;
  *(undefined4 *)(uVar3 - 4) = uVar4;
  if (iVar1 == 0) {
    IsGameRunning = 1;
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x80010b10)

void SetGameRunning(void)

{
  if (IsGameRunning == 0) {
    IsGameRunning = 1;
  }
  return;
}



void BATTLE_ENTRY_DEPRECATED(void)

{
  return;
}



void Put_Stack_Pointer(undefined4 param_1)

{
  undefined auStackX_0 [16];
  
  *(BADSPACEBASE **)param_1 = register0x00000074;
  return;
}



void CallInitialiseGameState(void)

{
  Initialise_GameState();
  return;
}



void Calculate_File_Header_NNL(fileOpenDesc *param_1,int param_2,int param_3,u_long *param_4)

{
  _Calculate_File_Header(param_1,param_2,param_3,param_4,-1);
  return;
}



int _Calculate_File_Header
              (fileOpenDesc *fileOpenDesc,int lba,int nosect,u_long *addr,int nowloadingflag)

{
  int couldCalculateCdlLOC;
  RECT local_30;
  
  if (fileOpenDesc->busy == 0) {
    if (nowloadingflag != 1) {
      DAT_80028b08 = nowloadingflag;
    }
    if (nowloadingflag == 0) {
      SetDispMask(0);
      BuildNowLoadingImages(1,0,0);
      local_30.w = 0x100;
      local_30.x = 0;
      local_30.y = 0;
      local_30.h = 0x1e0;
      ClearImage(&local_30,'\0','\0','\0');
      DrawSync(0);
      SetDefDrawEnv(&DRAWENV1,0,0,0x100,0xf0);
      SetDefDispEnv(&DISPENV1,0,0xf0,0x100,0xf0);
      SetDefDrawEnv(&DRAWENV2,0,0xf0,0x100,0xf0);
      SetDefDispEnv(&DISPENV2,0,0,0x100,0xf0);
      DRAWENV2.ofs[1] = 0xf0;
      DRAWENV2.ofs[0] = 0;
      DRAWENV1.ofs[1] = 0;
      DRAWENV1.ofs[0] = 0;
      DRAWENV2.dfe = '\x01';
      DRAWENV2.isbg = '\x01';
      DRAWENV1.dfe = '\x01';
      DRAWENV1.isbg = '\x01';
      PutDrawEnv(&DRAWENV2);
      PutDispEnv(&DISPENV2);
    }
    fileOpenDesc->field0_0x0 = 0;
    fileOpenDesc->field6_0x18 = 0;
    fileOpenDesc->field2_0x8 = 0;
    fileOpenDesc->busy = 1;
    fileOpenDesc->lba = lba;
    CdIntToPos(lba,&fileOpenDesc->CdlLOC);
    couldCalculateCdlLOC = 0;
    fileOpenDesc->nosect = nosect;
    fileOpenDesc->addr = (u_long)addr;
  }
  else {
    couldCalculateCdlLOC = 1;
  }
  return couldCalculateCdlLOC;
}



void Reset_Pause_CDROM(int param_1)

{
  int iVar1;
  
  *(undefined4 *)(param_1 + 4) = 0;
  CdFlush();
  do {
    iVar1 = CdControlB('\t',(u_char *)0x0,(u_char *)0x0);
  } while (iVar1 == 0);
  VSync(3);
  return;
}



// Possible S_I.OBJ/SpuInit
// Possible UT_ROFF.OBJ/SsUtReverbOff

void Reset_CD_Subsystems(void)

{
  CdReset(0);
  return;
}



void Open_File_to_RAM_Centre(int param_1)

{
  int iVar1;
  u_char local_10 [8];
  
  switch(*(undefined4 *)(param_1 + 4)) {
  default:
    goto switchD_80011e70_caseD_0;
  case 1:
    local_10[0] = 0x80;
    CdControl('\x0e',local_10,(u_char *)0x0);
    DAT_80057718 = 0;
    iVar1 = *(int *)(param_1 + 4) + 1;
    break;
  case 2:
    if (DAT_80057718 < 4) goto switchD_80011e70_caseD_0;
    iVar1 = *(int *)(param_1 + 4) + 1;
    break;
  case 3:
    CdControlF('\x15',(u_char *)(param_1 + 0x1c));
    iVar1 = *(int *)(param_1 + 4) + 1;
    break;
  case 4:
    iVar1 = CdSync(1,(u_char *)0x0);
    if (iVar1 != 2) {
      if (iVar1 != 5) goto switchD_80011e70_caseD_0;
LAB_80011fbc:
      Reset_CD_Subsystems();
      iVar1 = *(int *)(param_1 + 8);
      *(undefined4 *)(param_1 + 4) = 1;
LAB_80011fd4:
      *(int *)(param_1 + 8) = iVar1 + 1;
      goto switchD_80011e70_caseD_0;
    }
    *(int *)(param_1 + 4) = *(int *)(param_1 + 4) + 1;
    if (*(int *)(param_1 + 0x20) != 0) goto switchD_80011e70_caseD_0;
    goto LAB_80011f10;
  case 5:
    iVar1 = CdRead(*(int *)(param_1 + 0x10),*(u_long **)(param_1 + 0x20),0x80);
    if (iVar1 == 0) {
      iVar1 = *(int *)(param_1 + 8);
      goto LAB_80011fd4;
    }
    DAT_80057718 = 0;
    *(undefined4 *)(param_1 + 0xc) = 0;
    iVar1 = *(int *)(param_1 + 4) + 1;
    break;
  case 6:
    iVar1 = CdReadSync(1,(u_char *)0x0);
    if (iVar1 != 0) {
      if ((iVar1 != *(int *)(param_1 + 0x10)) && (iVar1 != -1)) {
        *(undefined4 *)(param_1 + 0xc) = 0;
        goto switchD_80011e70_caseD_0;
      }
      if (DAT_80057718 < 0x101) {
        *(int *)(param_1 + 0xc) = *(int *)(param_1 + 0xc) + 1;
        goto switchD_80011e70_caseD_0;
      }
      DAT_80057718 = 0;
      *(undefined4 *)(param_1 + 0xc) = 0;
      goto LAB_80011fbc;
    }
LAB_80011f10:
    *(undefined4 *)(param_1 + 4) = 0;
    goto switchD_80011e70_caseD_0;
  }
  *(int *)(param_1 + 4) = iVar1;
switchD_80011e70_caseD_0:
  if (*(int *)(param_1 + 4) != 0) {
    Draw_NowLoading();
  }
  return;
}



void Draw_NowLoading(void)

{
  uint uVar1;
  u_long *ot;
  
  if (DAT_80028b08 != 0xffffffff) {
    DAT_80028b08 = DAT_80028b08 + 1;
    uVar1 = DAT_80028b08 & 1;
    if (0x3f < (int)DAT_80028b08) {
      PutDrawEnv(&DRAWENV1 + uVar1);
      PutDispEnv(&DISPENV1 + uVar1);
      ot = (u_long *)(uVar1 * 8 + -0x7ffcd598);
      ClearOTag(ot,2);
      Put_NowLoading_ToOTAG(ot);
      DrawOTag(ot);
      SetDispMask(1);
      DAT_80028b08 = DAT_80028b08 & 0x41;
    }
  }
  return;
}



MusicDataHeader * FUN_800120f4(undefined *SMDPtr)

{
  MusicDataHeader *MusicData;
  
  MusicData = FindSpaceForSMDMUS((uint)(byte)SMDPtr[0x14] * 0x160 + 0xb8);
  MusicData->NextMusDat = (MusicDataHeader *)SMDPtr;
  FUN_800136c0(MusicData);
  FUN_800138ac(MusicData);
  *(undefined4 *)&MusicData->field_0x5c = 0;
  FUN_80014024(MusicData);
  return MusicData;
}



void FUN_8001216c(MusicDataHeader *param_1)

{
  int iVar1;
  
  if (((int)*(short *)&param_1->field_0x10 & 0x8000U) != 0) {
    FUN_80012338((int)param_1);
  }
  iVar1 = FUN_80014078(param_1);
  if (iVar1 == 0) {
    FUN_80013f74((int)param_1);
    FUN_80014358((int)param_1);
  }
  return;
}



void FUN_800121dc(MusicDataHeader *param_1,short param_2,short param_3)

{
  ulong gpuInterruptedEvent;
  
  gpuInterruptedEvent = gpuInterrupted;
  if (param_1 != (MusicDataHeader *)0x0) {
    *(ushort *)&param_1->field_0x10 = *(ushort *)&param_1->field_0x10 & 0x7fff;
    DisableEvent(gpuInterruptedEvent);
    FUN_800136c0(param_1);
    FUN_800138ac(param_1);
    *(undefined4 *)&param_1->field_0x94 = 0;
    FUN_80012f08(param_1,(int)param_2,param_3);
    FUN_800170d8((int)param_1,0x7000);
    gpuInterruptedEvent = gpuInterrupted;
    *(ushort *)&param_1->field_0x10 = *(ushort *)&param_1->field_0x10 | 0x8000;
    EnableEvent(gpuInterruptedEvent);
  }
  return;
}



void FUN_80012338(int param_1)

{
  uint uVar1;
  
  if (param_1 != 0) {
    *(ushort *)(param_1 + 0x10) = *(ushort *)(param_1 + 0x10) & 0x7fff;
    uVar1 = FUN_800135fc(param_1);
    DAT_80032a08 = uVar1 | DAT_80032a08;
  }
  return;
}



void FUN_800124cc(int param_1)

{
  if (param_1 == 0) {
    FUN_80012860();
    DAT_80032a54 = DAT_80032a54 & 0xefff;
  }
  else {
    DAT_80032a54 = DAT_80032a54 | 0x1000;
  }
  return;
}



void Play_Sound(uint param_1)

{
  if ((DAT_80032a54 & 0x1000) != 0) {
    DAT_800329f0 = 2;
    Play_Sound_Worker(0xffff8006,param_1,0x6000,0x4000);
  }
  return;
}



void FUN_80012560(uint param_1)

{
  if ((DAT_80032a54 & 0x1000) != 0) {
    DAT_800329f0 = 2;
    Play_Sound_Worker(0x6004,param_1,0x6000,0x4000);
  }
  return;
}



void Play_SoundEffect(MusicDataHeader *param_1)

{
  uint uVar1;
  
  if ((DAT_80032a54 & 0x1000) != 0) {
    uVar1 = FUN_80012d40(param_1,2);
    DAT_800329f0 = 2;
    Play_Sound_Worker((int)(short)((ushort)uVar1 | 0x2000),(uint)param_1,0x6000,0x4000);
  }
  return;
}



void FUN_80012664(MusicDataHeader *param_1,int param_2,int param_3)

{
  uint uVar1;
  
  if ((DAT_80032a54 & 0x1000) != 0) {
    uVar1 = FUN_80012d40(param_1,2);
    DAT_800329f0 = 2;
    Play_Sound_Worker((int)(short)((ushort)uVar1 | 0x2000),(uint)param_1,
                      (short)((uint)(param_2 << 0x18) >> 0x10),
                      (short)((uint)(param_3 << 0x18) >> 0x10));
  }
  return;
}



void FUN_80012860(void)

{
  MusicDataHeader *pMVar1;
  MusicDataHeader *pMVar2;
  int iVar3;
  uint uVar4;
  ulong gpuInterruptedEvent;
  
  pMVar1 = FirstMUS;
  uVar4 = 0;
  iVar3 = 8;
  pMVar2 = FirstMUS + 1;
  do {
    iVar3 = iVar3 + -1;
    if ((pMVar2->field0_0x0 & 1) != 0) {
      pMVar2->field0_0x0 = 0;
      uVar4 = uVar4 | *(uint *)&pMVar2->field_0x34;
    }
    pMVar2 = (MusicDataHeader *)&pMVar2[1].field_0xa8;
  } while (iVar3 != 0);
  DisableEvent(gpuInterrupted);
  gpuInterruptedEvent = gpuInterrupted;
  *(undefined4 *)&pMVar1->field_0x58 = 0;
  *(undefined4 *)&pMVar1->field_0x60 = 0;
  *(undefined4 *)&pMVar1->field_0x68 = 0;
  *(undefined4 *)&pMVar1->field_0x6c = 0;
  *(undefined4 *)&pMVar1->field_0x70 = 0;
  DAT_80032a0c = 0;
  DAT_80032a20 = uVar4 | DAT_80032a20;
  EnableEvent(gpuInterruptedEvent);
  return;
}



void FUN_80012914(int param_1)

{
  short sVar1;
  MusicDataHeader *pMVar2;
  int iVar3;
  
  iVar3 = 8;
  sVar1 = *(short *)(param_1 + 10);
  pMVar2 = FirstMUS + 1;
  do {
    iVar3 = iVar3 + -1;
    if (((pMVar2->field0_0x0 & 1) != 0) && ((int)pMVar2->NextMusDat >> 0x10 == (int)sVar1)) {
      FUN_80012990(pMVar2->NextMusDat);
    }
    pMVar2 = (MusicDataHeader *)&pMVar2[1].field_0xa8;
  } while (iVar3 != 0);
  return;
}



void FUN_80012990(MusicDataHeader *param_1)

{
  MusicDataHeader *pMVar1;
  uint uVar2;
  uint *puVar3;
  uint uVar4;
  uint uVar5;
  MusicDataHeader *pMVar6;
  int iVar7;
  uint uVar8;
  
  pMVar1 = FirstMUS;
  uVar8 = 1;
  uVar5 = 0;
  uVar4 = 0;
  iVar7 = 8;
  pMVar6 = FirstMUS + 1;
  puVar3 = (uint *)&FirstMUS[1].field_0x34;
  do {
    iVar7 = iVar7 + -1;
    if (((pMVar6->field0_0x0 & 1) != 0) && ((MusicDataHeader *)puVar3[-0xb] == param_1)) {
      uVar2 = *puVar3;
      uVar4 = uVar4 | uVar8;
      pMVar6->field0_0x0 = 0;
      uVar5 = uVar5 | uVar2;
    }
    uVar8 = uVar8 << 1;
    puVar3 = puVar3 + 0x58;
    pMVar6 = (MusicDataHeader *)&pMVar6[1].field_0xa8;
  } while (iVar7 != 0);
  if (uVar4 != 0) {
    FUN_80012ab0((int)pMVar1,uVar4,uVar5);
  }
  return;
}



void FUN_80012ab0(int param_1,uint param_2,uint param_3)

{
  uint uVar1;
  ulong gpuInterruptedEvent;
  
  DisableEvent(gpuInterrupted);
  gpuInterruptedEvent = gpuInterrupted;
  uVar1 = ~param_3;
  DAT_80032a20 = param_3 | DAT_80032a20;
  *(uint *)(param_1 + 0x58) = ~param_2 & *(uint *)(param_1 + 0x58);
  *(uint *)(param_1 + 0x60) = uVar1 & *(uint *)(param_1 + 0x60);
  *(uint *)(param_1 + 0x68) = uVar1 & *(uint *)(param_1 + 0x68);
  DAT_80032a0c = uVar1 & DAT_80032a0c;
  *(uint *)(param_1 + 0x6c) = uVar1 & *(uint *)(param_1 + 0x6c);
  *(uint *)(param_1 + 0x70) = uVar1 & *(uint *)(param_1 + 0x70);
  EnableEvent(gpuInterruptedEvent);
  return;
}



uint FUN_80012d40(MusicDataHeader *param_1,uint param_2)

{
  uint uVar1;
  uint *puVar2;
  MusicDataHeader *pMVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint in_t5;
  uint uVar9;
  
  DAT_80032a14 = 0;
  DAT_80032a10 = 0;
  uVar4 = 1;
  iVar5 = 8;
  pMVar3 = FirstMUS + 1;
  puVar2 = (uint *)&FirstMUS[1].field_0x34;
  do {
    iVar5 = iVar5 + -1;
    if (((pMVar3->field0_0x0 & 1) != 0) && ((MusicDataHeader *)puVar2[-0xb] == param_1)) {
      uVar1 = *puVar2;
      DAT_80032a10 = DAT_80032a10 | uVar4;
      pMVar3->field0_0x0 = 0;
      DAT_80032a14 = DAT_80032a14 | uVar1;
    }
    uVar4 = uVar4 << 1;
    puVar2 = puVar2 + 0x58;
    pMVar3 = (MusicDataHeader *)&pMVar3[1].field_0xa8;
  } while (iVar5 != 0);
  uVar4 = 6 - param_2;
  uVar8 = 0xffffffff >> (0x20 - param_2 & 0x1f);
  uVar1 = uVar8 << (uVar4 & 0x1f);
  iVar5 = (int)FirstMUS + uVar4 * 0x160 + 0xb8;
  uVar6 = 0xffffffff;
  while( true ) {
    if ((~DAT_80032a10 & *(uint *)&FirstMUS->field_0x58 & uVar1) == 0) {
      return uVar4;
    }
    uVar1 = uVar1 >> (param_2 & 0x1f);
    uVar7 = uVar6;
    uVar9 = in_t5;
    if ((uVar6 <= *(uint *)(iVar5 + 0x10)) ||
       (uVar7 = *(uint *)(iVar5 + 0x10), uVar9 = uVar4, *(byte *)(iVar5 + 0xd) < 0x21)) {
      uVar6 = uVar7;
      in_t5 = uVar9;
    }
    if (uVar1 < uVar8) break;
    iVar5 = iVar5 + param_2 * -0x160;
    uVar4 = uVar4 - param_2;
  }
  return in_t5;
}



ushort FUN_80012e7c(int param_1)

{
  return *(ushort *)(param_1 + 0x10) >> 0xf;
}



void FUN_80012f08(MusicDataHeader *param_1,uint param_2,short param_3)

{
  int iVar1;
  ulong gpuInterruptedEvent;
  
  *(short *)&param_1->field_0x9e = (short)(param_2 << 8);
  if (param_3 == 0) {
    *(uint *)&param_1->field_0x94 = param_2 << 0x18;
    *(undefined2 *)&param_1->field_0x9c = 0;
    FUN_80017098(0x100,param_1);
  }
  else {
    iVar1 = param_2 * 0x10000 - (*(int *)&param_1->field_0x94 >> 8);
    if (iVar1 == 0) {
      return;
    }
    *(short *)&param_1->field_0x9c = param_3;
    *(int *)&param_1->field_0x98 = iVar1 / (int)param_3 << 8;
  }
  if (((*(ushort *)&param_1->field_0x10 & 0x100) != 0) && ((param_2 & 0xffff) != 0)) {
    DisableEvent(gpuInterrupted);
    SetReverbParam(*(uint *)&param_1->field_0x44,(undefined *)(int)*(short *)&param_1->field_0x48,
                   *(long *)&param_1->field_0x4c,*(long *)&param_1->field_0x50);
    FUN_800170d8((int)param_1,0x71ff);
    FUN_80013544((int)param_1);
    gpuInterruptedEvent = gpuInterrupted;
    *(ushort *)&param_1->field_0x10 = *(ushort *)&param_1->field_0x10 & 0xfeff | 0x8000;
    EnableEvent(gpuInterruptedEvent);
  }
  return;
}



void FUN_80013480(undefined4 *param_1)

{
  uint uVar1;
  undefined4 uVar2;
  
  if ((param_1[1] != 0) && ((*(ushort *)(param_1 + 4) & 0x10) != 0)) {
    DisableEvent(gpuInterrupted);
    uVar1 = FUN_800135fc((int)param_1);
    uVar2 = param_1[9];
    DAT_80032a08 = uVar1 | DAT_80032a08;
    FUN_80013fc0(param_1,(undefined4 *)param_1[1]);
    param_1[0xb] = uVar2;
    FUN_800170d8((int)param_1,0x71ff);
    param_1[0x19] = 0;
    param_1[0x18] = 0;
    FUN_80013544((int)param_1);
    EnableEvent(gpuInterrupted);
  }
  return;
}



uint FUN_80013544(int param_1)

{
  ushort *puVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  
  uVar3 = (uint)*(byte *)(param_1 + 0x16);
  puVar2 = (uint *)(param_1 + 0xb8);
  uVar4 = 0;
  puVar1 = (ushort *)(param_1 + 0xba);
  do {
    uVar3 = uVar3 - 1;
    if (((*puVar2 & 0x101) == 0x101) && ((*(ushort *)puVar2 & 0x30) == 0)) {
      uVar4 = uVar4 | *(uint *)(puVar1 + 0x19);
      *puVar1 = *puVar1 | 1;
    }
    puVar1 = puVar1 + 0xb0;
    puVar2 = puVar2 + 0x58;
  } while (uVar3 != 0);
  return uVar4;
}



uint FUN_800135fc(int param_1)

{
  uint uVar1;
  short *psVar2;
  uint uVar3;
  
  uVar1 = (uint)*(byte *)(param_1 + 0x16);
  psVar2 = (short *)(param_1 + 0xb8);
  uVar3 = 0;
  do {
    uVar1 = uVar1 - 1;
    if (*psVar2 != 0) {
      uVar3 = uVar3 | *(uint *)(psVar2 + 0x1a);
    }
    psVar2 = psVar2 + 0xb0;
  } while (uVar1 != 0);
  return uVar3;
}



MusicDataHeader * FUN_8001363c(void)

{
  MusicDataHeader *MusicData;
  int *piVar1;
  uint uVar2;
  char cVar3;
  int iVar4;
  MusicDataHeader *pMVar5;
  
  MusicData = FindSpaceForSMDMUS(3000);
  FUN_80013788((int)MusicData);
  pMVar5 = MusicData + 1;
  uVar2 = 0x10;
  iVar4 = 8;
  cVar3 = '\0';
  piVar1 = (int *)&MusicData[1].field_0x34;
  do {
    pMVar5->field0_0x0 = 0;
    *(char *)(piVar1 + -10) = cVar3;
    cVar3 = cVar3 + '\x01';
    *(char *)((int)piVar1 + -7) = (char)uVar2;
    *piVar1 = 1 << (uVar2 & 0x1f);
    piVar1 = piVar1 + 0x58;
    pMVar5 = (MusicDataHeader *)&pMVar5[1].field_0xa8;
    iVar4 = iVar4 + -1;
    uVar2 = uVar2 + 1;
  } while (iVar4 != 0);
  FUN_80014024(MusicData);
  return MusicData;
}



void FUN_800136c0(MusicDataHeader *MusicData)

{
  byte bVar1;
  MusicDataHeader *NextMusicData;
  
  NextMusicData = MusicData->NextMusDat;
  *(ushort *)&MusicData->field_0x10 = *(ushort *)&MusicData->field_0x10 | 1;
  *(undefined2 *)&MusicData->field_0x12 = *(undefined2 *)&NextMusicData->field_0x10;
  MusicData->field_0x14 = NextMusicData->field_0x12;
  MusicData->field_0x15 = NextMusicData->field_0x13;
  MusicData->field_0x16 = NextMusicData->field_0x14;
  MusicData->field_0x17 = NextMusicData->field_0x15;
  *(undefined2 *)&MusicData->field_0x18 = *(undefined2 *)&NextMusicData->field_0x16;
  *(undefined2 *)&MusicData->field_0x1a = *(undefined2 *)&NextMusicData->field_0x18;
  *(int *)&MusicData->field_0x44 = (int)(char)NextMusicData->field_0x1a;
  *(ushort *)&MusicData->field_0x48 = (ushort)(byte)NextMusicData->field_0x1b << 8;
  *(uint *)&MusicData->field_0x4c = (uint)(byte)NextMusicData->field_0x1c;
  bVar1 = NextMusicData->field_0x1d;
  *(uint *)&MusicData->field_0x50 = (uint)bVar1;
  SetReverbParam(*(uint *)&MusicData->field_0x44,(undefined *)(int)*(short *)&MusicData->field_0x48,
                 *(long *)&MusicData->field_0x4c,(uint)bVar1);
  FUN_800137d8((int)MusicData);
  return;
}



void FUN_80013788(int param_1)

{
  *(undefined2 *)(param_1 + 0x10) = 2;
  *(undefined2 *)(param_1 + 0x12) = 0x7fff;
  *(undefined *)(param_1 + 0x14) = 1;
  *(undefined *)(param_1 + 0x15) = 1;
  *(undefined *)(param_1 + 0x16) = 8;
  *(undefined *)(param_1 + 0x17) = 0;
  *(undefined2 *)(param_1 + 0x18) = 0;
  *(undefined2 *)(param_1 + 0x1a) = 0x7f;
  FUN_800137d8(param_1);
  return;
}



void FUN_800137d8(int param_1)

{
  FUN_80013f74(param_1);
  *(undefined *)(param_1 + 0x1c) = 0;
  *(undefined *)(param_1 + 0x1d) = 0;
  *(undefined2 *)(param_1 + 0x30) = 0;
  *(undefined2 *)(param_1 + 0x32) = 1;
  *(undefined2 *)(param_1 + 0x34) = 0;
  *(undefined2 *)(param_1 + 0x36) = 1;
  *(undefined4 *)(param_1 + 0x28) = 0;
  *(undefined4 *)(param_1 + 0x24) = 0;
  *(undefined4 *)(param_1 + 0x20) = 0;
  *(undefined4 *)(param_1 + 0x58) = 0;
  *(undefined4 *)(param_1 + 0x60) = 0;
  *(undefined4 *)(param_1 + 100) = 0;
  *(undefined4 *)(param_1 + 0x68) = 0;
  *(undefined4 *)(param_1 + 0x6c) = 0;
  *(undefined4 *)(param_1 + 0x70) = 0;
  *(undefined4 *)(param_1 + 0xa0) = 0;
  *(undefined4 *)(param_1 + 0xac) = 0;
  *(undefined2 *)(param_1 + 0x90) = 0;
  *(undefined2 *)(param_1 + 0x9c) = 0;
  *(undefined2 *)(param_1 + 0xa8) = 0;
  *(undefined2 *)(param_1 + 0xb4) = 0;
  *(undefined4 *)(param_1 + 0x80) = 0;
  *(undefined2 *)(param_1 + 0x84) = 0;
  *(undefined2 *)(param_1 + 0x38) = 4;
  *(undefined2 *)(param_1 + 0x3c) = 4;
  *(undefined2 *)(param_1 + 0x3e) = 4;
  *(undefined4 *)(param_1 + 0x88) = 0x1000000;
  *(undefined4 *)(param_1 + 0x94) = 0x7f000000;
  *(undefined4 *)(param_1 + 0x7c) = 0x660000;
  *(undefined4 *)(param_1 + 0x78) = 0x6600;
  *(undefined4 *)(param_1 + 0x74) = 0x10000;
  *(short *)(param_1 + 0x3a) = (short)(0x30 / *(byte *)(param_1 + 0x15));
  return;
}



void FUN_800138ac(MusicDataHeader *MusicData)

{
  ushort uVar1;
  undefined2 uVar2;
  undefined *puVar3;
  int iVar4;
  MusicDataHeader *pMVar5;
  uint uVar6;
  int *piVar7;
  MusicDataHeader *pMVar8;
  int iVar9;
  uint uVar10;
  ushort *puVar11;
  uint uVar12;
  uint uVar13;
  char cVar14;
  
  uVar13 = (uint)(byte)MusicData->field_0x16;
  pMVar8 = MusicData + 1;
  if (uVar13 == 0) {
    return;
  }
  cVar14 = -1;
  uVar10 = 0xffffffff;
  uVar6 = 0;
  uVar12 = 1;
  pMVar5 = MusicData->NextMusDat;
  puVar11 = (ushort *)&pMVar5->field_0x22;
  if (DAT_80032a44 != 0) {
    iVar9 = DAT_80032a44;
    do {
      if ((uint)*(ushort *)(iVar9 + 0x20) == (int)*(short *)&MusicData->field_0x18) break;
      iVar9 = *(int *)(iVar9 + 0x2c);
    } while (iVar9 != 0);
    piVar7 = (int *)&MusicData[1].field_0x30;
    if (iVar9 != 0) goto LAB_8001394c;
  }
  piVar7 = (int *)&MusicData[1].field_0x30;
  iVar9 = DAT_80032a44;
LAB_8001394c:
  do {
    if (*puVar11 == 0) {
      pMVar8->field0_0x0 = 0;
    }
    else {
      uVar6 = uVar6 | uVar12;
      if ((uVar12 & *(uint *)&MusicData->field_0x5c) == 0) {
        uVar2 = 0x401;
      }
      else {
        uVar2 = 0x421;
      }
      pMVar8->field0_0x0 = uVar2;
      if ((*(ushort *)&MusicData->field_0x10 & 0x2000) != 0) {
        pMVar8->field0_0x0 = pMVar8->field0_0x0 | 4;
      }
      *(undefined2 *)((int)piVar7 + -0x2e) = 0x300;
      *(undefined2 *)((int)piVar7 + -0x2a) = 0;
      uVar1 = *(ushort *)&pMVar5->field_0x10;
      *(undefined *)((int)piVar7 + -0x23) = 0x10;
      *(char *)(piVar7 + -9) = cVar14;
      piVar7[-10] = (int)(uint)uVar1;
      uVar1 = *puVar11;
      *(undefined2 *)((int)piVar7 + 0x4e) = 0x3c;
      *(undefined2 *)((int)piVar7 + 0x4a) = 0xf;
      *(undefined2 *)(piVar7 + 0x1f) = 0xffff;
      *(undefined2 *)(piVar7 + 0x19) = 0x6000;
      piVar7[0x1a] = 0x7f000000;
      *(undefined2 *)((int)piVar7 + 0x62) = 0x4000;
      *(char *)((int)piVar7 + -3) = (char)uVar10;
      piVar7[-5] = 0;
      piVar7[-3] = 0;
      *(undefined2 *)(piVar7 + -2) = 0;
      *(undefined *)((int)piVar7 + -6) = 0;
      *(undefined2 *)(piVar7 + 0x11) = 0;
      *(undefined *)((int)piVar7 + 0x46) = 0;
      *(undefined2 *)((int)piVar7 + 0x56) = 0;
      *(undefined *)(piVar7 + 0x13) = 0;
      *(undefined2 *)(piVar7 + 0x18) = 0;
      *(undefined2 *)(piVar7 + 0x16) = 0;
      *(undefined2 *)((int)piVar7 + 0x5a) = 0;
      *(undefined2 *)(piVar7 + 0x17) = 0;
      *(undefined2 *)(piVar7 + 4) = 0;
      *(undefined2 *)((int)piVar7 + 0x12) = 0;
      iVar4 = (int)&pMVar5->field0_0x0 + (uint)uVar1;
      piVar7[-7] = iVar4;
      piVar7[-6] = iVar4;
      if ((uVar10 & 0xff) < 0x19) {
        piVar7[1] = 1 << (uVar10 & 0x1f);
        piVar7[2] = 0xff9f;
      }
      else {
        piVar7[1] = 0;
        piVar7[2] = 0;
      }
      iVar4 = 3;
      puVar3 = &pMVar8->field_0x60;
      do {
        *(undefined2 *)(puVar3 + 0xfe) = 0;
        iVar4 = iVar4 + -1;
        puVar3 = puVar3 + -0x20;
      } while (-1 < iVar4);
      *piVar7 = iVar9;
      if (iVar9 != 0) {
        Set_Instrument(0,(ushort *)pMVar8);
      }
    }
    puVar11 = puVar11 + 1;
    uVar10 = uVar10 + 1;
    uVar12 = uVar12 << 1;
    piVar7 = piVar7 + 0x58;
    pMVar8 = (MusicDataHeader *)&pMVar8[1].field_0xa8;
    cVar14 = cVar14 + '\x01';
    if (0x18 < (int)uVar10) {
      uVar10 = 0;
    }
    uVar13 = uVar13 - 1;
  } while (uVar13 != 0);
  *(uint *)&MusicData->field_0x58 = uVar6;
  return;
}



void Play_Sound_Worker(uint param_1,uint param_2,short param_3,undefined2 param_4)

{
  ushort uVar1;
  undefined2 *puVar2;
  uint uVar3;
  ushort *puVar4;
  int iVar5;
  uint *puVar6;
  ushort *puVar7;
  MusicDataHeader *pMVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  ushort *puVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  undefined2 local_50;
  uint local_40;
  MusicDataHeader *MusToOpen;
  
  MusToOpen = FirstMUS;
  local_40 = 0;
  uVar13 = 0;
  uVar1 = *(ushort *)(DAT_80032a00 + 10);
  iVar11 = DAT_80032a00;
  while ((uint)uVar1 != (int)param_2 >> 0x10) {
    iVar11 = *(int *)(iVar11 + 0x10);
    if (iVar11 == 0) {
      return;
    }
    uVar1 = *(ushort *)(iVar11 + 10);
  }
  uVar10 = DAT_80032a44;
  if (DAT_80032a44 != 0) {
    do {
      if ((uint)*(ushort *)(uVar10 + 0x20) == (int)*(short *)&FirstMUS->field_0x18) break;
      uVar10 = *(uint *)(uVar10 + 0x2c);
    } while (uVar10 != 0);
    if (uVar10 == 0) {
      uVar10 = DAT_80032a44;
    }
  }
  uVar15 = (int)param_3 *
           (uint)*(byte *)(iVar11 + (uint)*(ushort *)(iVar11 + 0xc) + (param_2 & 0xffff));
  local_50 = (undefined2)(uVar15 >> 7);
  if ((uVar15 >> 0x16 & 1) != 0) {
    local_50 = 0x7fff;
  }
  puVar12 = (ushort *)(iVar11 + (param_2 & 0xffff) * 4 + 0x14);
  uVar14 = 1 << (param_1 & 0x1f);
  puVar7 = (ushort *)((int)FirstMUS + (param_1 & 0xff) * 0x160 + 0xb8);
  iVar9 = (int)DAT_800329f0;
  puVar6 = (uint *)(puVar7 + 0x1a);
  DisableEvent(gpuInterrupted);
  uVar15 = 0;
  do {
    uVar3 = DAT_80032a2c;
    puVar6[-0xb] = param_2;
    puVar6[-9] = uVar3;
    *(char *)((int)puVar6 + -0x27) = (char)(param_1 >> 8);
    iVar5 = 3;
    if (*puVar12 == 0) {
      if ((*puVar7 & 1) != 0) {
        uVar13 = uVar13 | *puVar6;
      }
      *puVar7 = 0;
    }
    else {
      local_40 = local_40 | uVar14;
      uVar3 = *puVar6;
      puVar4 = puVar7 + 0x30;
      *puVar7 = 0x409;
      *(undefined2 *)((int)puVar6 + -0x32) = 0x100;
      *(undefined2 *)((int)puVar6 + -0x2e) = 0;
      uVar1 = *puVar12;
      *(undefined2 *)((int)puVar6 + 0x4a) = 0x3c;
      *(undefined2 *)((int)puVar6 + 0x46) = 0xf;
      puVar6[-6] = 0;
      puVar6[-4] = 0;
      *(undefined2 *)(puVar6 + -3) = 0;
      *(undefined *)((int)puVar6 + -10) = 0;
      *(undefined2 *)(puVar6 + 0x10) = 0;
      *(undefined *)((int)puVar6 + 0x42) = 0;
      *(undefined2 *)((int)puVar6 + 0x52) = 0;
      *(undefined *)(puVar6 + 0x12) = 0;
      *(undefined2 *)(puVar6 + 0x1e) = 0xffff;
      puVar6[0x19] = 0x7f000000;
      uVar15 = uVar15 | uVar3;
      *(undefined2 *)(puVar6 + 0x18) = local_50;
      *(undefined2 *)(puVar6 + 0x17) = 0;
      *(undefined2 *)(puVar6 + 0x15) = 0;
      *(undefined2 *)((int)puVar6 + 0x56) = 0;
      *(undefined2 *)(puVar6 + 0x16) = 0;
      *(undefined2 *)(puVar6 + 3) = 0;
      *(undefined2 *)((int)puVar6 + 0xe) = 0;
      puVar6[-8] = iVar11 + (uint)uVar1;
      puVar6[-7] = iVar11 + (uint)uVar1;
      *(undefined2 *)((int)puVar6 + 0x5e) = param_4;
      do {
        puVar4[0x7f] = 0;
        iVar5 = iVar5 + -1;
        puVar4 = puVar4 + -0x10;
      } while (-1 < iVar5);
      puVar6[-1] = uVar10;
      if (uVar10 != 0) {
        Set_Instrument((int)DAT_80032a1c,puVar7);
      }
    }
    puVar12 = puVar12 + 1;
    uVar14 = uVar14 << 1;
    puVar6 = puVar6 + 0x58;
    iVar9 = iVar9 + -1;
    puVar7 = puVar7 + 0xb0;
  } while (iVar9 != 0);
  uVar13 = uVar13 | uVar15 | DAT_80032a14;
  uVar10 = ~uVar13;
  *(uint *)&MusToOpen->field_0x58 = local_40 | ~DAT_80032a10 & *(uint *)&MusToOpen->field_0x58;
  *(uint *)&MusToOpen->field_0x64 = uVar10 & *(uint *)&MusToOpen->field_0x64;
  *(uint *)&MusToOpen->field_0x60 = uVar10 & *(uint *)&MusToOpen->field_0x60;
  DAT_80032a20 = uVar13 | DAT_80032a20;
  DAT_80032a0c = uVar15 | uVar10 & DAT_80032a0c;
  *(uint *)&MusToOpen->field_0x68 = uVar10 & *(uint *)&MusToOpen->field_0x68;
  *(uint *)&MusToOpen->field_0x6c = uVar10 & *(uint *)&MusToOpen->field_0x6c;
  DAT_80032a10 = 0;
  DAT_80032a14 = 0;
  *(uint *)&MusToOpen->field_0x70 = uVar10 & *(uint *)&MusToOpen->field_0x70;
  DAT_80032a4c = DAT_80032a4c | 7;
  *(ushort *)&MusToOpen->field_0x10 = *(ushort *)&MusToOpen->field_0x10 | 0x8000;
  MusToOpen = LastOpenedMus;
  if (uVar15 != 0) {
    for (; MusToOpen != (MusicDataHeader *)0x0; MusToOpen = *(MusicDataHeader **)MusToOpen) {
      if (((*(ushort *)&MusToOpen->field_0x10 & 1) != 0) &&
         ((int)((uint)*(ushort *)&MusToOpen->field_0x10 << 0x10) < 0)) {
        pMVar8 = MusToOpen + 1;
        uVar13 = (uint)(byte)MusToOpen->field_0x16;
        puVar7 = (ushort *)&MusToOpen[1].field2_0x4;
        do {
          puVar2 = &pMVar8->field0_0x0;
          pMVar8 = (MusicDataHeader *)&pMVar8[1].field_0xa8;
          if (((*puVar2 & 1) != 0) && ((uVar15 & *(uint *)(puVar7 + 0x18)) != 0)) {
            *puVar7 = *puVar7 | 0x71ff;
          }
          uVar13 = uVar13 - 1;
          puVar7 = puVar7 + 0xb0;
        } while (uVar13 != 0);
      }
    }
  }
  EnableEvent(gpuInterrupted);
  return;
}



void FUN_80013f74(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(param_1 + 4);
  if (iVar1 != 0) {
    *(undefined4 *)(param_1 + 4) = 0;
    do {
      iVar2 = *(int *)(iVar1 + 4);
      FUN_80014358(iVar1);
      iVar1 = iVar2;
    } while (iVar2 != 0);
  }
  return;
}



void FUN_80013fc0(undefined4 *param_1,undefined4 *param_2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  
  uVar1 = *param_1;
  uVar2 = param_1[1];
  FUN_8001442c(param_1,param_2,(uint)*(byte *)((int)param_1 + 0x16) * 0x160 + 0xb8);
  *param_1 = uVar1;
  param_1[1] = uVar2;
  return;
}



void FUN_80014024(MusicDataHeader *MusicData)

{
  MusicDataHeader *Mus;
  ulong gpuInterruptedEvent;
  
  DisableEvent(gpuInterrupted);
  gpuInterruptedEvent = gpuInterrupted;
  Mus = MusicData;
  *(MusicDataHeader **)MusicData = LastOpenedMus;
  LastOpenedMus = Mus;
  EnableEvent(gpuInterruptedEvent);
  return;
}



undefined4 FUN_80014078(MusicDataHeader *param_1)

{
  undefined2 uVar1;
  MusicDataHeader *pMVar2;
  MusicDataHeader *pMVar3;
  uint uVar4;
  MusicDataHeader *pMVar5;
  
  pMVar3 = LastOpenedMus;
  pMVar5 = (MusicDataHeader *)0x0;
  if (LastOpenedMus != (MusicDataHeader *)0x0) {
    do {
      pMVar2 = pMVar3;
      pMVar3 = pMVar2;
      if (pMVar2 == param_1) break;
      pMVar3 = *(MusicDataHeader **)pMVar2;
      pMVar5 = pMVar2;
    } while (pMVar3 != (MusicDataHeader *)0x0);
    if (pMVar3 != (MusicDataHeader *)0x0) {
      if ((((int)(short)*(ushort *)&param_1->field_0x10 & 0x8000U) != 0) &&
         (param_1 != (MusicDataHeader *)0x0)) {
        *(ushort *)&param_1->field_0x10 = *(ushort *)&param_1->field_0x10 & 0x7fff;
        uVar4 = FUN_800135fc((int)param_1);
        DAT_80032a08 = uVar4 | DAT_80032a08;
      }
      if (pMVar5 == (MusicDataHeader *)0x0) {
        LastOpenedMus = *(MusicDataHeader **)param_1;
      }
      else {
        uVar1 = param_1->field1_0x2;
        pMVar5->field0_0x0 = param_1->field0_0x0;
        pMVar5->field1_0x2 = uVar1;
      }
      return 0;
    }
  }
  return 0xffffffff;
}



void SetGlobalMusicVariables(MusicDataHeader *GlobalMusicData,uint MaxMusicDataSize)

{
  MaxMusDataSize = MaxMusicDataSize & 0xfffffff0;
  MaxEndMusDataArray = (int)&GlobalMusicData->field0_0x0 + MaxMusDataSize;
  GlobalMusicData->field0_0x0 = 0x8000;
  GlobalMusData2 = GlobalMusicData;
  GlobalMusData = GlobalMusicData;
  GlobalMusicData->field1_0x2 = 0;
  GlobalMusicData->field2_0x4 = 0;
  GlobalMusicData->NextMusDat = (MusicDataHeader *)&GlobalMusicData->field_0x10;
  GlobalMusicData->DedicatedSpace = 0;
  return;
}



MusicDataHeader * FindSpaceForSMDMUS(uint SMDSize)

{
  int CurMusDataSize;
  MusicDataHeader *MusDataPtr;
  int MusDataCurSize;
  uint MusDataSizeCheck;
  uint SMDSizeRounded;
  MusicDataHeader *MusData;
  
  SMDSizeRounded = (SMDSize + 0xf & 0xfffffff0) + 0x10;
  MusDataCurSize = GlobalMusData->DedicatedSpace;
  MusData = GlobalMusData;
  while (MusDataCurSize != 0) {
    MusDataSizeCheck = MusData->DedicatedSpace;
    if (SMDSizeRounded <= MusDataSizeCheck - (int)MusData->NextMusDat) goto SpaceFound;
    MusData = (MusicDataHeader *)MusDataSizeCheck;
    MusDataCurSize = *(int *)(MusDataSizeCheck + 0xc);
  }
  if ((uint)(MaxEndMusDataArray - (int)MusData->NextMusDat) < SMDSizeRounded) {
    MusDataPtr = (MusicDataHeader *)0x0;
  }
  else {
SpaceFound:
    CurMusDataSize = (uint)((int)&MusData->NextMusDat->DedicatedSpace + 3) & 0xfffffff0;
    MusDataPtr = (MusicDataHeader *)(CurMusDataSize + 0x10);
    *(uint *)(CurMusDataSize + 8) = (int)&MusDataPtr->field0_0x0 + SMDSize;
    *(undefined4 *)(CurMusDataSize + 0xc) = 0;
    *(undefined4 *)(CurMusDataSize + 4) = 0;
    *(undefined2 *)CurMusDataSize = 2;
    *(undefined2 *)(CurMusDataSize + 2) = 0;
    *(int *)(CurMusDataSize + 0xc) = MusData->DedicatedSpace;
    MusData->DedicatedSpace = CurMusDataSize;
    FUN_800144d0(MusDataPtr,SMDSize);
  }
  return MusDataPtr;
}



void FUN_80014358(int param_1)

{
  MusicDataHeader *pMVar1;
  MusicDataHeader *MusData;
  
  pMVar1 = (MusicDataHeader *)0x0;
  MusData = GlobalMusData;
  if (GlobalMusData != (MusicDataHeader *)(param_1 + -0x10)) {
    do {
      pMVar1 = MusData;
      MusData = (MusicDataHeader *)pMVar1->DedicatedSpace;
    } while ((MusicDataHeader *)pMVar1->DedicatedSpace != (MusicDataHeader *)(param_1 + -0x10));
  }
  if (pMVar1 == (MusicDataHeader *)0x0) {
    GlobalMusData = (MusicDataHeader *)GlobalMusData->DedicatedSpace;
  }
  else {
    pMVar1->DedicatedSpace = *(int *)(param_1 + -4);
  }
  return;
}



void FUN_8001442c(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  undefined uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  int iVar6;
  uint uVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  
  iVar6 = (int)param_3 >> 4;
  if (iVar6 != 0) {
    puVar9 = param_1 + 3;
    puVar8 = param_2 + 3;
    do {
      uVar3 = puVar8[-2];
      uVar4 = puVar8[-1];
      uVar5 = *puVar8;
      puVar8 = puVar8 + 4;
      uVar2 = *param_2;
      param_2 = param_2 + 4;
      iVar6 = iVar6 + -1;
      *param_1 = uVar2;
      puVar9[-2] = uVar3;
      puVar9[-1] = uVar4;
      *puVar9 = uVar5;
      puVar9 = puVar9 + 4;
      param_1 = param_1 + 4;
    } while (iVar6 != 0);
  }
  for (uVar7 = (int)param_3 >> 2 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
    uVar2 = *param_2;
    param_2 = param_2 + 1;
    *param_1 = uVar2;
    param_1 = param_1 + 1;
  }
  for (uVar7 = param_3 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
    uVar1 = *(undefined *)param_2;
    param_2 = (undefined4 *)((int)param_2 + 1);
    *(undefined *)param_1 = uVar1;
    param_1 = (undefined4 *)((int)param_1 + 1);
  }
  return;
}



void FUN_800144d0(MusicDataHeader *MusPtr,uint SMDSize)

{
  int iVar1;
  uint uVar2;
  undefined4 *puVar3;
  
  iVar1 = (int)SMDSize >> 4;
  if (iVar1 != 0) {
    puVar3 = &MusPtr->field2_0x4;
    do {
      puVar3[2] = 0;
      puVar3[1] = 0;
      *puVar3 = 0;
      puVar3 = puVar3 + 4;
      MusPtr->field0_0x0 = 0;
      MusPtr->field1_0x2 = 0;
      iVar1 = iVar1 + -1;
      MusPtr = (MusicDataHeader *)&MusPtr->field_0x10;
    } while (iVar1 != 0);
  }
  for (uVar2 = (int)SMDSize >> 2 & 3; uVar2 != 0; uVar2 = uVar2 - 1) {
    MusPtr->field0_0x0 = 0;
    MusPtr->field1_0x2 = 0;
    MusPtr = (MusicDataHeader *)&MusPtr->field2_0x4;
  }
  for (uVar2 = SMDSize & 3; uVar2 != 0; uVar2 = uVar2 - 1) {
    *(undefined *)&MusPtr->field0_0x0 = 0;
    MusPtr = (MusicDataHeader *)((int)&MusPtr->field0_0x0 + 1);
  }
  return;
}



void FUN_80014544(void)

{
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void Call_SpuMalloc(uint Size)

{
  SpuMalloc(Size);
  return;
}



undefined4 Call_SpuFree(uint param_1)

{
  SpuFree(param_1);
  return 0;
}



void FUN_80014590(void)

{
  uint uVar1;
  ushort *puVar2;
  ushort uVar3;
  MusicDataHeader *MusToPush;
  MusicDataHeader *pMVar4;
  uint uVar5;
  uint local_38;
  
  MusToPush = LastOpenedMus;
  if (LastOpenedMus != (MusicDataHeader *)0x0) {
    do {
      uVar1 = (uint)(short)*(ushort *)&MusToPush->field_0x10;
      if (((uVar1 & 0xc000) != 0) && ((uVar1 & 0x20) == 0)) {
        *(ushort *)&MusToPush->field_0x10 = *(ushort *)&MusToPush->field_0x10 & 0xbfff;
        uVar5 = (uint)(byte)MusToPush->field_0x16;
        pMVar4 = MusToPush + 1;
        if ((uVar1 & 2) == 0) {
          local_38 = ~(DAT_80032a0c | DAT_80032a20);
        }
        else {
          local_38 = 0xffffffff;
        }
        puVar2 = (ushort *)&MusToPush[1].field2_0x4;
        do {
          if (((pMVar4->field0_0x0 & 1) != 0) && ((local_38 & *(uint *)(puVar2 + 0x18)) != 0)) {
            uVar3 = *puVar2;
            if (uVar3 != 0) {
              uVar1 = (uint)*(byte *)((int)puVar2 + 0x29);
              if ((uVar3 & 2) != 0) {
                uVar3 = uVar3 & 0xfffe;
                FUN_8001b4b0(uVar1,puVar2[0x1c],puVar2[0x1d],(int)(short)puVar2[0x1e],puVar2[0x1f]);
              }
              if ((uVar3 & 1) != 0) {
                FUN_8001b428(uVar1,puVar2[0x1c],puVar2[0x1d]);
              }
              if ((uVar3 & 4) != 0) {
                FUN_8001b628(uVar1,puVar2[0x22]);
              }
              if ((uVar3 & 8) != 0) {
                FUN_8001b6a4(uVar1,*(uint *)(puVar2 + 0x26));
                FUN_8001b720(uVar1,*(uint *)(puVar2 + 0x28));
              }
              if ((uVar3 & 0x10) != 0) {
                FUN_8001b938(uVar1,(uint)puVar2[0x30],*(int *)(puVar2 + 0x2a));
              }
              if ((uVar3 & 0x20) != 0) {
                FUN_8001b79c(uVar1,(uint)puVar2[0x31]);
              }
              if ((uVar3 & 0x40) != 0) {
                FUN_8001b9d4(uVar1,(uint)puVar2[0x32],*(int *)(puVar2 + 0x2c));
              }
              if ((uVar3 & 0x80) != 0) {
                FUN_8001bab8(uVar1,puVar2[0x33],*(int *)(puVar2 + 0x2e));
              }
              if ((uVar3 & 0x100) != 0) {
                FUN_8001b8b0(uVar1,puVar2[0x34]);
              }
              if ((uVar3 & 4) != 0) {
                DAT_80032a4c = DAT_80032a4c | 1;
              }
              if ((uVar3 & 0x10) != 0) {
                DAT_80032a4c = DAT_80032a4c | 2;
              }
              if ((uVar3 & 0x40) != 0) {
                DAT_80032a4c = DAT_80032a4c | 4;
              }
              *puVar2 = 0;
            }
          }
          puVar2 = puVar2 + 0xb0;
          uVar5 = uVar5 - 1;
          pMVar4 = (MusicDataHeader *)&pMVar4[1].field_0xa8;
        } while (uVar5 != 0);
      }
      MusToPush = *(MusicDataHeader **)MusToPush;
    } while (MusToPush != (MusicDataHeader *)0x0);
  }
  return;
}



undefined4 gpuInterruptedRun(void)

{
  byte bVar1;
  short sVar2;
  ushort uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  MusicDataHeader *pMVar7;
  uint uVar8;
  uint uVar9;
  MusicDataHeader *pMVar10;
  
  FUN_80014590();
  uVar3 = DAT_80032a4c;
  if ((DAT_80032a4c & 1) != 0) {
    FUN_80014f58();
  }
  if ((uVar3 & 2) != 0) {
    FUN_80014ff8();
  }
  if ((uVar3 & 4) != 0) {
    FUN_80015098();
  }
  uVar8 = 0;
  DAT_80032a4c = 0;
  uVar4 = DAT_80032a0c | DAT_80032a20;
  for (pMVar7 = LastOpenedMus; pMVar7 != (MusicDataHeader *)0x0;
      pMVar7 = *(MusicDataHeader **)pMVar7) {
    if ((short)*(ushort *)&pMVar7->field_0x10 < 0) {
      if ((*(ushort *)&pMVar7->field_0x10 & 2) == 0) {
        uVar5 = ~uVar4 & *(uint *)&pMVar7->field_0x60;
      }
      else {
        uVar5 = *(uint *)&pMVar7->field_0x60;
      }
      uVar8 = uVar8 | uVar5;
      *(undefined4 *)&pMVar7->field_0x60 = 0;
    }
  }
  if (uVar8 != 0) {
    SetVoicestoRelease(1,uVar8);
  }
  iVar6 = DAT_80032a2c + 1;
  uVar8 = DAT_80032a2c & 1;
  DAT_80032a2c = iVar6;
  pMVar7 = LastOpenedMus;
  if (uVar8 != 0) {
    if (DAT_80037058 != 0) {
      FUN_80014f18(&DAT_80037050);
      DAT_80037048 = DAT_80037050._2_2_;
      FUN_8001848c(DAT_80037050._2_2_,(short *)&DAT_80037024,'\0');
      DAT_80037020 = DAT_80037020 | 3;
    }
    if (DAT_80037064 != 0) {
      FUN_80014f18(&DAT_8003705c);
      DAT_8003704a = DAT_8003705c._2_2_;
      FUN_8001848c(DAT_8003705c._2_2_,(short *)&DAT_80037030,'\0');
      DAT_80037020 = DAT_80037020 | 0xc0;
    }
    pMVar7 = LastOpenedMus;
    if (DAT_80037020 != 0) {
      FUN_8001b094(&DAT_80037020);
      DAT_80037020 = 0;
      pMVar7 = LastOpenedMus;
    }
  }
  do {
    if (pMVar7 == (MusicDataHeader *)0x0) {
      uVar4 = ~(DAT_80032a0c | DAT_80032a20);
      uVar8 = uVar4 & DAT_80032a08 | DAT_80032a20;
      for (pMVar7 = LastOpenedMus; pMVar7 != (MusicDataHeader *)0x0;
          pMVar7 = *(MusicDataHeader **)pMVar7) {
        if ((short)*(ushort *)&pMVar7->field_0x10 < 0) {
          if ((*(ushort *)&pMVar7->field_0x10 & 2) == 0) {
            uVar5 = uVar4 & *(uint *)&pMVar7->field_0x64;
          }
          else {
            uVar5 = *(uint *)&pMVar7->field_0x64;
          }
          uVar8 = uVar8 | uVar5;
          *(undefined4 *)&pMVar7->field_0x64 = 0;
        }
      }
      uVar4 = uVar4 & DAT_80032a08 | DAT_80032a20;
      if (uVar4 != 0) {
        uVar9 = 0x17;
        uVar5 = 0x800000;
        do {
          if ((uVar4 & uVar5) != 0) {
            FUN_8001bab8(uVar9,6,3);
          }
          uVar9 = uVar9 - 1;
          uVar5 = 1 << (uVar9 & 0x1f);
        } while (-1 < (int)uVar9);
        DAT_80032a20 = 0;
        DAT_80032a08 = 0;
      }
      if (uVar8 != 0) {
        SetVoicestoRelease(0,uVar8);
      }
      return 0;
    }
    if (*(short *)&pMVar7->field_0x10 < 0) {
      if ((*(uint *)&pMVar7->field_0x2c != 0) &&
         (*(uint *)&pMVar7->field_0x2c <= *(uint *)&pMVar7->field_0x24)) {
        FUN_80013480((undefined4 *)pMVar7);
      }
      if (*(short *)&pMVar7->field_0x90 != 0) {
        FUN_80014f18((int *)&pMVar7->field_0x88);
        *(int *)&pMVar7->field_0x78 =
             (int)*(short *)&pMVar7->field_0x7e * (int)*(short *)&pMVar7->field_0x8a;
      }
      if (*(short *)&pMVar7->field_0x9c != 0) {
        FUN_80014f18((int *)&pMVar7->field_0x94);
        FUN_80017098(0x100,pMVar7);
      }
      if (*(short *)&pMVar7->field_0xa8 != 0) {
        FUN_80014f18((int *)&pMVar7->field_0xa0);
        FUN_80017098(0x200,pMVar7);
      }
      if (*(short *)&pMVar7->field_0xb4 != 0) {
        FUN_80014f18((int *)&pMVar7->field_0xac);
        FUN_80017098(0x100,pMVar7);
      }
      *(int *)&pMVar7->field_0x20 = *(int *)&pMVar7->field_0x20 + 1;
      *(int *)&pMVar7->field_0x28 = (int)*(short *)&pMVar7->field_0x8a + *(int *)&pMVar7->field_0x28
      ;
      iVar6 = *(int *)&pMVar7->field_0x74 - *(int *)&pMVar7->field_0x78;
      *(int *)&pMVar7->field_0x74 = iVar6;
      if (iVar6 < 0) {
        pMVar10 = pMVar7 + 1;
        do {
          sVar2 = *(short *)&pMVar7->field_0x36 + -1;
          *(short *)&pMVar7->field_0x36 = sVar2;
          *(int *)&pMVar7->field_0x74 = *(int *)&pMVar7->field_0x74 + 0x10000;
          if (sVar2 == 0) {
            *(undefined2 *)&pMVar7->field_0x36 = *(undefined2 *)&pMVar7->field_0x3a;
            uVar3 = *(short *)&pMVar7->field_0x34 + 1;
            *(ushort *)&pMVar7->field_0x34 = uVar3;
            if (*(ushort *)&pMVar7->field_0x38 < uVar3) {
              *(undefined2 *)&pMVar7->field_0x34 = 1;
              *(short *)&pMVar7->field_0x32 = *(short *)&pMVar7->field_0x32 + 1;
            }
          }
          bVar1 = pMVar7->field_0x16;
          if (bVar1 != 0) {
            FUN_80015138((int)pMVar7,(ushort *)pMVar10,(ushort)bVar1);
            FUN_80015324((int)pMVar7,(ushort *)pMVar10,(ushort)bVar1);
            FUN_8001749c(pMVar7,(short *)pMVar10,(ushort)bVar1);
            FUN_80017118((int)pMVar7,(ushort *)pMVar10,(ushort)bVar1);
          }
          if (*(int *)&pMVar7->field_0x58 == 0) {
            *(ushort *)&pMVar7->field_0x10 = *(ushort *)&pMVar7->field_0x10 & 0x7fff;
            break;
          }
          *(int *)&pMVar7->field_0x24 = *(int *)&pMVar7->field_0x24 + 1;
          if (*(int *)&pMVar7->field_0x94 == 0) {
            FUN_80012338((int)pMVar7);
            *(ushort *)&pMVar7->field_0x10 = *(ushort *)&pMVar7->field_0x10 | 0x4100;
          }
          if (*(short *)&pMVar7->field_0x32 == *(short *)&pMVar7->field_0x54) {
            FUN_80012338((int)pMVar7);
          }
        } while (*(int *)&pMVar7->field_0x74 < 0);
      }
    }
    pMVar7 = *(MusicDataHeader **)pMVar7;
  } while( true );
}



void FUN_80014f18(int *param_1)

{
  short sVar1;
  int iVar2;
  
  sVar1 = *(short *)(param_1 + 2);
  *(short *)(param_1 + 2) = sVar1 + -1;
  if (sVar1 == 1) {
    iVar2 = (int)*(short *)((int)param_1 + 10) << 0x10;
  }
  else {
    iVar2 = *param_1 + param_1[1];
  }
  *param_1 = iVar2;
  return;
}



void FUN_80014f58(void)

{
  MusicDataHeader *MusToPush;
  uint uVar1;
  uint uVar2;
  
  uVar1 = 0;
  uVar2 = 0;
  MusToPush = LastOpenedMus;
  if (LastOpenedMus != (MusicDataHeader *)0x0) {
    do {
      if ((short)*(ushort *)&MusToPush->field_0x10 < 0) {
        if ((*(ushort *)&MusToPush->field_0x10 & 1) == 0) {
          uVar1 = uVar1 | *(uint *)&MusToPush->field_0x68;
        }
        else {
          uVar2 = uVar2 | *(uint *)&MusToPush->field_0x68;
        }
      }
      MusToPush = *(MusicDataHeader **)MusToPush;
    } while (MusToPush != (MusicDataHeader *)0x0);
  }
  uVar1 = uVar2 & ~DAT_80032a0c | uVar1;
  SpuSetPitchLFOVoice(1,uVar1);
  SpuSetPitchLFOVoice(0,~uVar1);
  return;
}



void FUN_80014ff8(void)

{
  MusicDataHeader *MusToPush;
  uint uVar1;
  uint uVar2;
  
  uVar1 = 0;
  uVar2 = 0;
  MusToPush = LastOpenedMus;
  if (LastOpenedMus != (MusicDataHeader *)0x0) {
    do {
      if ((short)*(ushort *)&MusToPush->field_0x10 < 0) {
        if ((*(ushort *)&MusToPush->field_0x10 & 1) == 0) {
          uVar1 = uVar1 | *(uint *)&MusToPush->field_0x6c;
        }
        else {
          uVar2 = uVar2 | *(uint *)&MusToPush->field_0x6c;
        }
      }
      MusToPush = *(MusicDataHeader **)MusToPush;
    } while (MusToPush != (MusicDataHeader *)0x0);
  }
  uVar1 = uVar2 & ~DAT_80032a0c | uVar1;
  SpuSetNoiseVoice(1,uVar1);
  SpuSetNoiseVoice(0,~uVar1);
  return;
}



void FUN_80015098(void)

{
  MusicDataHeader *MusToPush;
  uint uVar1;
  uint uVar2;
  
  uVar1 = 0;
  uVar2 = 0;
  MusToPush = LastOpenedMus;
  if (LastOpenedMus != (MusicDataHeader *)0x0) {
    do {
      if ((short)*(ushort *)&MusToPush->field_0x10 < 0) {
        if ((*(ushort *)&MusToPush->field_0x10 & 1) == 0) {
          uVar1 = uVar1 | *(uint *)&MusToPush->field_0x70;
        }
        else {
          uVar2 = uVar2 | *(uint *)&MusToPush->field_0x70;
        }
      }
      MusToPush = *(MusicDataHeader **)MusToPush;
    } while (MusToPush != (MusicDataHeader *)0x0);
  }
  uVar1 = uVar2 & ~DAT_80032a0c | uVar1;
  SpuSetReverbVoice(1,uVar1);
  SpuSetReverbVoice(0,~uVar1);
  return;
}



void FUN_80015138(int param_1,ushort *param_2,short param_3)

{
  short sVar1;
  ushort uVar2;
  ushort uVar3;
  int iVar4;
  ushort *puVar5;
  ushort uVar6;
  ushort uVar7;
  
  sVar1 = *(short *)(param_1 + 0x84);
  if (sVar1 != 0) {
    if (sVar1 == 1) {
      iVar4 = (uint)*(ushort *)(param_1 + 0x86) << 0x10;
    }
    else {
      iVar4 = *(int *)(param_1 + 0x7c) + *(int *)(param_1 + 0x80);
    }
    *(int *)(param_1 + 0x7c) = iVar4;
    *(short *)(param_1 + 0x84) = sVar1 + -1;
    *(int *)(param_1 + 0x78) = (int)*(short *)(param_1 + 0x7e) * (int)*(short *)(param_1 + 0x8a);
  }
  puVar5 = param_2 + 3;
  do {
    uVar2 = *param_2;
    if (uVar2 != 0) {
      uVar7 = puVar5[-2];
      uVar6 = *puVar5;
      if (puVar5[0x37] != 0) {
        puVar5[0x41] = 0;
        puVar5[0x42] = 0;
        puVar5[0x43] = 0;
        if ((uVar6 & 8) != 0) {
          uVar3 = puVar5[0x51];
          puVar5[0x51] = uVar3 - 1;
          uVar7 = uVar7 | 0x100;
          if ((ushort)(uVar3 - 1) == 0) {
            uVar6 = uVar6 & 0xfff7;
          }
          *(int *)(puVar5 + 0x49) = *(int *)(puVar5 + 0x49) + *(int *)(puVar5 + 0x4d);
        }
        if ((uVar6 & 1) != 0) {
          uVar7 = uVar7 | 0x200;
          if (((uVar6 & 2) == 0) &&
             (uVar3 = puVar5[0x50], puVar5[0x50] = uVar3 - 1, (ushort)(uVar3 - 1) == 0)) {
            uVar6 = uVar6 & 0xfffe;
          }
          *(int *)(puVar5 + 0x3d) = *(int *)(puVar5 + 0x3d) + *(int *)(puVar5 + 0x4b);
        }
        if ((uVar6 & 0x10) != 0) {
          uVar3 = puVar5[0x52];
          puVar5[0x52] = uVar3 - 1;
          uVar7 = uVar7 | 0x100;
          if ((ushort)(uVar3 - 1) == 0) {
            uVar6 = uVar6 & 0xffef;
          }
          puVar5[0x46] = puVar5[0x46] + puVar5[0x4f];
        }
        uVar3 = puVar5[0x37];
        puVar5[0x37] = uVar3 - 1;
        if (((ushort)(uVar3 - 1) == 1) && ((uVar2 & 0x1000) != 0)) {
          puVar5[0x32] = 6;
          puVar5[-1] = puVar5[-1] | 0x80;
        }
        if (((uVar2 & 0x600) == 0) &&
           (uVar2 = puVar5[0x39], puVar5[0x39] = uVar2 - 1, (ushort)(uVar2 - 1) == 0)) {
          uVar7 = uVar7 | 2;
          *param_2 = *param_2 | 0x400;
        }
      }
      puVar5[-2] = uVar7;
      *puVar5 = uVar6;
    }
    puVar5 = puVar5 + 0xb0;
    param_3 = param_3 + -1;
    param_2 = param_2 + 0xb0;
  } while (param_3 != 0);
  return;
}



void FUN_80015324(int param_1,ushort *param_2,short param_3)

{
  byte bVar1;
  char cVar2;
  bool bVar3;
  ushort uVar4;
  int iVar5;
  ushort uVar6;
  ushort *puVar7;
  int iVar8;
  uint uVar9;
  byte *pbVar10;
  byte *pbVar11;
  ushort *puVar12;
  uint uVar13;
  
  uVar13 = 1;
  puVar12 = param_2 + 1;
  do {
    if ((*param_2 != 0) && (bVar3 = false, puVar12[0x39] == 0)) {
      uVar4 = *param_2;
      pbVar10 = *(byte **)(puVar12 + 0xb);
      *param_2 = uVar4 & 0xf8ff;
      do {
        bVar1 = *pbVar10;
        if (bVar1 < 0x80) {
          if ((*param_2 & 8) == 0) {
            puVar12[0x49] = (ushort)bVar1 << 8;
          }
          *puVar12 = *puVar12 | 0x100;
          bVar1 = pbVar10[1];
          cVar2 = (&DAT_80028e70)[bVar1];
          pbVar11 = pbVar10 + 2;
          *(char *)((int)puVar12 + 0x7b) = *(char *)(puVar12 + 0x3e) + cVar2;
          if ((&DAT_80028d8c)[bVar1] == 0) {
            bVar1 = *pbVar11;
            pbVar11 = pbVar10 + 3;
            puVar12[0x39] = (ushort)bVar1;
          }
          else {
            puVar12[0x39] = (ushort)(byte)(&DAT_80028d8c)[bVar1];
          }
          puVar12[1] = puVar12[1] | 0x80;
          puVar12[0x34] = puVar12[0x16];
          *(uint *)(puVar12 + 0x3f) =
               ((uint)(byte)(*(char *)(puVar12 + 0x3e) + cVar2) * 0x100 + (int)(short)puVar12[0x42]
               + (int)(short)puVar12[0x41]) * 0x10000;
          *puVar12 = *puVar12 | 0x200;
          *param_2 = *param_2 | 0x180;
          if ((uVar4 & 0x400) != 0) {
            bVar3 = true;
            *puVar12 = *puVar12 | 1;
          }
          if ((*param_2 & 0x8000) != 0) {
            *param_2 = *param_2 & 0x7fff;
            *puVar12 = *puVar12 | 0x300;
            puVar12[1] = puVar12[1] | 0x1ff;
          }
        }
        else {
          pbVar11 = (byte *)(*(code *)(&PTR_Rest_80028b0c)[bVar1 - 0x80 & 0xffff])
                                      (pbVar10 + 1,param_1,param_2);
          if (*param_2 == 0) {
            *(uint *)(param_1 + 0x58) = ~uVar13 & *(uint *)(param_1 + 0x58);
            break;
          }
        }
        pbVar10 = pbVar11;
      } while ((*param_2 & 0x500) == 0);
      *(byte **)(puVar12 + 0xb) = pbVar11;
      if ((*param_2 & 0x800) != 0) {
        *param_2 = *param_2 | 0x200;
      }
      puVar7 = param_2 + (uint)puVar12[0x55] * 6 + 0x58;
      bVar1 = *pbVar11;
      while (uVar4 = (ushort)bVar1, 0x7f < uVar4) {
        if (uVar4 != 0x90) {
          if (uVar4 != 0x80) {
            if (uVar4 == 0x81) {
              *param_2 = *param_2 | 0x200;
              break;
            }
            if (1 < (ushort)(uVar4 - 0xb0)) {
              if (uVar4 == 0x99) {
                if (*(char *)puVar7 != '\0') {
                  pbVar11 = *(byte **)(puVar7 + 2);
                  goto LAB_80015618;
                }
                puVar7 = puVar7 + -6;
              }
              if ((uVar4 == 0x9a) && (*(char *)puVar7 == '\0')) {
                pbVar11 = *(byte **)(puVar7 + 4);
                puVar7 = puVar7 + -6;
              }
              else {
                pbVar11 = pbVar11 + (byte)(&DAT_80028d0c)[(ushort)(uVar4 - 0x80)];
              }
              goto LAB_80015618;
            }
          }
          *param_2 = *param_2 & 0xfdff;
          break;
        }
        pbVar11 = *(byte **)(puVar12 + 0xd);
        if (pbVar11 == (byte *)0x0) break;
LAB_80015618:
        bVar1 = *pbVar11;
      }
      if (uVar4 < 0x80) {
        uVar4 = *param_2 | 0x1000;
      }
      else {
        uVar4 = *param_2 & 0xefff;
      }
      *param_2 = uVar4;
      iVar8 = (int)*(char *)(puVar12 + 0x3a) + (uint)puVar12[0x39];
      if (iVar8 * 0x10000 < 1) {
        iVar8 = (uint)puVar12[0x39] + iVar8;
        *(char *)(puVar12 + 0x3a) = *(char *)(puVar12 + 0x3a) + *(char *)(puVar12 + 0x39);
      }
      uVar9 = (uint)puVar12[0x3c];
      uVar4 = (ushort)iVar8;
      if (uVar9 == 0xf) {
        uVar9 = iVar8 - 1;
LAB_80015704:
        uVar6 = (ushort)uVar9;
        if ((uVar9 & 0xffff) == 0) {
          uVar6 = 1;
        }
      }
      else {
        uVar6 = uVar4;
        if (uVar9 != 0x10) {
          uVar9 = (int)(short)uVar4 * uVar9 >> 4;
          goto LAB_80015704;
        }
      }
      puVar12[0x3b] = uVar6;
      puVar12[0x39] = uVar4;
      if (bVar3) {
        iVar8 = 4;
        if (((puVar12[2] & 4) != 0) &&
           (iVar5 = ((uint)*(byte *)((int)puVar12 + 0x7b) - (uint)*(byte *)(puVar12 + 0x3d)) *
                    0x1000000, iVar5 != 0)) {
          puVar12[2] = puVar12[2] | 1;
          puVar12[0x52] = puVar12[0x47];
          *(uint *)(puVar12 + 0x3f) =
               ((uint)*(byte *)(puVar12 + 0x3d) * 0x100 + (int)(short)puVar12[0x42] +
               (int)(short)puVar12[0x41]) * 0x10000;
          *(int *)(puVar12 + 0x4d) = iVar5 / (int)(uint)puVar12[0x47];
        }
        puVar7 = param_2 + 0x7f;
        *(undefined *)(puVar12 + 0x3d) = *(undefined *)((int)puVar12 + 0x7b);
        do {
          uVar4 = *puVar7;
          if (((uVar4 & 1) != 0) && ((uVar4 & 2) != 0)) {
            *(undefined4 *)(puVar7 + -0xd) = 0;
            puVar7[-7] = 1;
            puVar7[-5] = puVar7[-4];
            puVar7[-3] = puVar7[-2];
            if ((uVar4 & 3) != 0) {
              *puVar12 = *puVar12 | 0x100;
            }
            *puVar7 = *puVar7 & 0xfff3;
          }
          iVar8 = iVar8 + -1;
          puVar7 = puVar7 + 0x10;
        } while (iVar8 != 0);
      }
    }
    puVar12 = puVar12 + 0xb0;
    param_2 = param_2 + 0xb0;
    param_3 = param_3 + -1;
    uVar13 = uVar13 << 1;
    if (param_3 == 0) {
      return;
    }
  } while( true );
}



int FUN_80016bf8(int param_1,short param_2,short param_3)

{
  int iVar1;
  
  if (((param_1 != 0) && (iVar1 = (int)param_2, iVar1 != 0)) && (1 < param_3)) {
    if (param_3 < 4) {
      param_1 = param_1 / iVar1;
    }
    else if ((param_3 == 4) && (iVar1 != 1)) {
      param_1 = param_1 / (iVar1 + -1);
    }
  }
  return param_1;
}



void FUN_80016dc0(int param_1)

{
  *(undefined2 *)(param_1 + 0x10) = 1;
  *(undefined4 *)(param_1 + 4) = 0;
  *(ushort *)(param_1 + 0x1e) = *(ushort *)(param_1 + 0x1e) & 0xfff3;
  *(undefined2 *)(param_1 + 0x14) = *(undefined2 *)(param_1 + 0x16);
  *(undefined2 *)(param_1 + 0x18) = *(undefined2 *)(param_1 + 0x1a);
  return;
}



void Set_Instrument(int param_1,ushort *param_2)

{
  byte bVar1;
  int *piVar2;
  
  *(char *)(param_2 + 0x16) = (char)param_1;
  piVar2 = (int *)(*(int *)(param_2 + 0x18) + ((param_1 << 0x10) >> 0xc) + 0x30);
  *(int *)(param_2 + 0x28) = *piVar2 + *(int *)(*(int *)(param_2 + 0x18) + 0x28);
  *(uint *)(param_2 + 0x2a) = (uint)*(ushort *)(piVar2 + 1) + *piVar2;
  *(uint *)(param_2 + 0x2c) = (uint)*(byte *)((int)piVar2 + 0xd);
  *(uint *)(param_2 + 0x2e) = (uint)*(byte *)((int)piVar2 + 0xe);
  *(uint *)(param_2 + 0x30) = (uint)*(byte *)((int)piVar2 + 0xf);
  param_2[0x32] = (ushort)*(byte *)(piVar2 + 2);
  param_2[0x33] = (ushort)*(byte *)((int)piVar2 + 9);
  param_2[0x34] = (ushort)*(byte *)((int)piVar2 + 10);
  bVar1 = *(byte *)((int)piVar2 + 0xb);
  param_2[0x17] = (ushort)bVar1;
  param_2[0x35] = (ushort)bVar1;
  param_2[0x36] = (ushort)*(byte *)(piVar2 + 3);
  param_2[0x42] = *(ushort *)((int)piVar2 + 6);
  if ((*param_2 & 0xc) == 0) {
    *param_2 = *param_2 | 0x8000;
  }
  else {
    param_2[1] = param_2[1] | 0x300;
    param_2[2] = param_2[2] | 0x1ff;
  }
  return;
}



void FUN_80017098(ushort param_1,MusicDataHeader *param_2)

{
  undefined2 *puVar1;
  uint uVar2;
  ushort *puVar3;
  MusicDataHeader *pMVar4;
  
  pMVar4 = param_2 + 1;
  uVar2 = (uint)(byte)param_2->field_0x16;
  puVar3 = &param_2[1].field1_0x2;
  do {
    puVar1 = &pMVar4->field0_0x0;
    pMVar4 = (MusicDataHeader *)&pMVar4[1].field_0xa8;
    if (*puVar1 != 0) {
      *puVar3 = param_1 | *puVar3;
    }
    uVar2 = uVar2 - 1;
    puVar3 = puVar3 + 0xb0;
  } while (uVar2 != 0);
  return;
}



void FUN_800170d8(int param_1,ushort param_2)

{
  short sVar1;
  uint uVar2;
  ushort *puVar3;
  short *psVar4;
  
  psVar4 = (short *)(param_1 + 0xb8);
  uVar2 = (uint)*(byte *)(param_1 + 0x16);
  puVar3 = (ushort *)(param_1 + 0xbc);
  do {
    sVar1 = *psVar4;
    psVar4 = psVar4 + 0xb0;
    if (sVar1 != 0) {
      *puVar3 = *puVar3 | param_2;
    }
    uVar2 = uVar2 - 1;
    puVar3 = puVar3 + 0xb0;
  } while (uVar2 != 0);
  return;
}



void FUN_80017118(int param_1,ushort *param_2,short param_3)

{
  ushort uVar1;
  int iVar2;
  ushort uVar3;
  int iVar4;
  ushort uVar5;
  int iVar6;
  int iVar7;
  ushort *puVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  
  if ((*(ushort *)(param_1 + 0x10) & 2) == 0) {
    uVar11 = ~(DAT_80032a0c | DAT_80032a20);
  }
  else {
    uVar11 = 0xffffffff;
  }
  uVar10 = 0;
  uVar9 = 0;
  puVar8 = param_2 + 1;
  do {
    if ((*param_2 != 0) && (*(byte *)((int)puVar8 + 0x2b) < 0x19)) {
      uVar1 = *puVar8;
      if ((uVar1 & 0x100) != 0) {
        iVar7 = (int)(short)puVar8[0x4c] + (int)(short)puVar8[0x44];
        if (0x7fff < iVar7) {
          iVar7 = 0x7fff;
        }
        if (iVar7 < 0) {
          iVar7 = 0;
        }
        iVar2 = (int)(short)puVar8[0x48] + (int)(short)puVar8[0x45] +
                (int)*(short *)(param_1 + 0xae);
        iVar7 = (int)*(short *)(param_1 + 0x96) * ((short)puVar8[0x49] * iVar7 >> 0xf) >> 0x10;
        if (0x7f00 < iVar2) {
          iVar2 = 0x7f00;
        }
        if (iVar2 < 0) {
          iVar2 = 0;
        }
        if ((DAT_80032a54 & 0x100) == 0) {
          uVar5 = (ushort)(iVar7 * 0x5a00 >> 0xf);
          uVar3 = uVar5;
        }
        else {
          if (iVar2 < 0x4000) {
            iVar4 = iVar2 * 0x5a00 >> 0xe;
            iVar6 = 0x7f00 - (iVar2 * 0x2500 >> 0xe);
          }
          else {
            iVar6 = (0x8000 - iVar2) * 0x5a00 >> 0xe;
            iVar4 = 0x7f00 - ((0x8000 - iVar2) * 0x2500 >> 0xe);
          }
          uVar5 = (ushort)(iVar6 * iVar7 >> 0xf);
          uVar3 = (ushort)(iVar4 * iVar7 >> 0xf);
        }
        puVar8[0x1d] = uVar5;
        puVar8[0x1e] = uVar3;
        puVar8[1] = puVar8[1] | 1;
      }
      if ((uVar1 & 0x200) != 0) {
        iVar7 = FUN_80017424((int)(((int)(short)puVar8[0x40] + (uint)puVar8[0x43] +
                                   (int)*(short *)(param_1 + 0xa2)) * 0x10000) >> 0x10);
        puVar8[0x23] = (ushort)iVar7 & 0x3fff;
        puVar8[1] = puVar8[1] | 4;
      }
      if (((uVar1 & 1) != 0) && ((*param_2 & 0x20) == 0)) {
        uVar9 = uVar9 | *(uint *)(puVar8 + 0x19);
      }
      if ((uVar1 & 2) != 0) {
        uVar10 = uVar10 | *(uint *)(puVar8 + 0x19);
      }
      *puVar8 = 0;
    }
    puVar8 = puVar8 + 0xb0;
    param_3 = param_3 + -1;
    param_2 = param_2 + 0xb0;
  } while (param_3 != 0);
  *(uint *)(param_1 + 0x60) = uVar9 & uVar11 | *(uint *)(param_1 + 0x60);
  *(uint *)(param_1 + 100) = uVar10 & uVar11 | *(uint *)(param_1 + 100);
  return;
}



int FUN_80017424(uint param_1)

{
  uint uVar1;
  uint uVar2;
  short sVar3;
  
  uVar1 = (param_1 & 0x7fff) >> 8;
  uVar2 = 6 - (byte)(&DAT_80028fe8)[uVar1];
  if ((int)uVar2 < 0) {
    sVar3 = (short)((int)*(short *)(&DAT_800290d8 +
                                   ((param_1 & 0xff) + (uint)(byte)(&DAT_80029060)[uVar1] * 0x100) *
                                   2) << (-uVar2 & 0x1f));
  }
  else {
    sVar3 = (short)((int)*(short *)(&DAT_800290d8 +
                                   ((param_1 & 0xff) + (uint)(byte)(&DAT_80029060)[uVar1] * 0x100) *
                                   2) >> (uVar2 & 0x1f));
  }
  return (int)sVar3;
}



void FUN_8001749c(undefined4 param_1,short *param_2,short param_3)

{
  byte bVar1;
  short sVar2;
  int iVar3;
  ushort uVar4;
  ushort *puVar5;
  short *psVar6;
  code **ppcVar7;
  int iVar8;
  
  puVar5 = (ushort *)(param_2 + 1);
  do {
    if (*param_2 != 0) {
      iVar8 = 4;
      ppcVar7 = (code **)(param_2 + 0x70);
      psVar6 = param_2 + 0x7e;
      do {
        if ((psVar6[1] & 1U) != 0) {
          if (psVar6[-4] == 0) {
            iVar3 = (**ppcVar7)(ppcVar7);
            sVar2 = psVar6[-2];
            if (sVar2 < 0x100) {
              iVar3 = (iVar3 >> 8) * (int)sVar2;
              psVar6[-2] = sVar2 + psVar6[-1];
            }
            bVar1 = *(byte *)psVar6;
            sVar2 = (short)((uint)iVar3 >> 0x10);
            if (bVar1 == 1) {
              uVar4 = *puVar5 | 0x100;
              puVar5[0x44] = puVar5[0x44] + sVar2;
LAB_800175e0:
              *puVar5 = uVar4;
            }
            else if (bVar1 < 2) {
              if (bVar1 == 0) {
                uVar4 = *puVar5 | 0x200;
                puVar5[0x43] = puVar5[0x43] + sVar2;
                goto LAB_800175e0;
              }
            }
            else if (bVar1 == 2) {
              uVar4 = *puVar5 | 0x100;
              puVar5[0x45] = puVar5[0x45] + sVar2;
              goto LAB_800175e0;
            }
          }
          else {
            psVar6[-4] = psVar6[-4] + -1;
          }
        }
        psVar6 = psVar6 + 0x10;
        iVar8 = iVar8 + -1;
        ppcVar7 = ppcVar7 + 8;
      } while (iVar8 != 0);
    }
    puVar5 = puVar5 + 0xb0;
    param_3 = param_3 + -1;
    param_2 = param_2 + 0xb0;
    if (param_3 == 0) {
      return;
    }
  } while( true );
}



uint FUN_800178f4(void)

{
  uint uVar1;
  
  uVar1 = DAT_80032a18 ^ DAT_80032a18 << 0x11;
  DAT_80032a18 = uVar1 ^ (int)uVar1 >> 0xf;
  return DAT_80032a18 & 0x7fff;
}



void FUN_80017920(ushort param_1)

{
  undefined *puVar1;
  uint uVar2;
  code *pcVar3;
  
  if (-1 < (short)DAT_80032a54) {
    DAT_80032a54 = param_1 | 0x8000;
    SpuInitMalloc(6,&SpuDedicatedRAM);
    SetGlobalMusicVariables((MusicDataHeader *)&GlobalMusicDataUnmoved,0x8000);
    FUN_80014544();
    DAT_80032a18 = 0x12345678;
    LastOpenedMus = (MusicDataHeader *)0x0;
    FirstMUS = (MusicDataHeader *)0x0;
    DAT_80032a00 = 0;
    DAT_80032a44 = 0;
    DAT_80032a0c = 0;
    DAT_80032a10 = 0;
    DAT_80032a14 = 0;
    DAT_80032a08 = 0;
    DAT_80032a20 = 0;
    DAT_80032a1c = 0;
    DAT_80032a58 = 0;
    FirstMUS = FUN_8001363c();
    DAT_80037028 = 0;
    DAT_8003702a = 0;
    DAT_80037020 = 0xc;
    EnterCriticalSection();
    gpuInterrupted = OpenEvent(0xf2000002,2,0x1000,gpuInterruptedRun);
    pcVar3 = spuInterruptedRun;
    spuGnrlInterrupt = OpenEvent(0xf0000009,0x1000,0x1000,spuInterruptedRun);
    puVar1 = (undefined *)0x44e8;
    DAT_80032a2c = 0;
    DAT_80032a34 = 0;
    uVar2 = 0x1000;
    SetRCnt(0xf2000002,0x44e8,0x1000);
    StartRCnt(0xf2000002);
    EnableEvent(gpuInterrupted);
    SpuSetTransferCallback(SpuCallbackFunc);
    DAT_80032a54 = DAT_80032a54 | 1;
    ExitCriticalSection();
    FUN_80017f6c(1,puVar1,uVar2,pcVar3);
    GlobalReverb.mode = -1;
    SetReverbParam(4,(undefined *)0x0,0,0);
    FUN_800183c0(0,1);
    FUN_80018240(0x3fff,0);
    FUN_80018300(0x6400,0);
    if ((DAT_80032a54 & 0x2000) != 0) {
      FUN_80018090(0xc0);
    }
    FUN_800124cc(1);
    DAT_80032a28 = 0;
  }
  return;
}



void SetAllVoicesReleaseShift6(void)

{
  int VoiceID;
  
  if (DAT_80032a54 != 0) {
    VoiceID = 0;
    EnterCriticalSection();
    CloseEvent(gpuInterrupted);
    CloseEvent(spuGnrlInterrupt);
    DAT_80032a54 = 0;
    ExitCriticalSection();
    do {
      SetVoiceReleaseShift(VoiceID,6);
      VoiceID = VoiceID + 1;
    } while (VoiceID < 0x18);
    SetVoicestoRelease(0,0xffffff);
    SetReverbParam(0,(undefined *)0x0,0,0);
    DAT_80032a28 = 0;
  }
  return;
}



undefined4 * FUN_80017c8c(SoundFontHeader *SoundFontPtr)

{
  uint uVar1;
  MusicDataHeader *pMVar2;
  MusicDataHeader *pMVar3;
  int iVar4;
  MusicDataHeader **ppMVar5;
  
  uVar1 = Call_SpuMalloc(SoundFontPtr->waveFontSize);
  FUN_80018518(uVar1,(undefined2 *)(SoundFontPtr->FileDesignation + SoundFontPtr->field11_0x18),
               SoundFontPtr->waveFontSize,0x11);
  pMVar2 = FindSpaceForSMDMUS(SoundFontPtr->waveFontStart);
  FUN_8001442c((undefined4 *)pMVar2,(undefined4 *)SoundFontPtr,SoundFontPtr->waveFontStart);
  iVar4 = DAT_80032a44;
  ppMVar5 = (MusicDataHeader **)&DAT_80032a44;
  *(uint *)&pMVar2->field_0x28 = uVar1;
  while (iVar4 != 0) {
    pMVar3 = *ppMVar5;
    ppMVar5 = (MusicDataHeader **)&pMVar3->field_0x2c;
    iVar4 = *(int *)&pMVar3->field_0x2c;
  }
  *ppMVar5 = pMVar2;
  *(undefined4 *)&pMVar2->field_0x2c = 0;
  FUN_8001865c(0x10);
  return (undefined4 *)pMVar2;
}



void FUN_80017e7c(int param_1)

{
  int iVar1;
  int *piVar2;
  
  piVar2 = &DAT_80032a00;
  if (DAT_80032a00 != 0) {
    do {
      iVar1 = *piVar2;
      piVar2 = (int *)(iVar1 + 0x10);
    } while (*(int *)(iVar1 + 0x10) != 0);
  }
  *piVar2 = param_1;
  *(undefined4 *)(param_1 + 0x10) = 0;
  return;
}



void FUN_80017eb8(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = DAT_80032a00;
  iVar3 = 0;
  if (DAT_80032a00 != 0) {
    do {
      iVar1 = iVar2;
      iVar2 = iVar1;
      if (iVar1 == param_1) break;
      iVar2 = *(int *)(iVar1 + 0x10);
      iVar3 = iVar1;
    } while (iVar2 != 0);
    if (iVar2 != 0) {
      FUN_80012914(param_1);
      if (iVar3 == 0) {
        DAT_80032a00 = *(int *)(param_1 + 0x10);
      }
      else {
        *(undefined4 *)(iVar3 + 0x10) = *(undefined4 *)(param_1 + 0x10);
      }
    }
  }
  return;
}



void FUN_80017f6c(int param_1,undefined *param_2,uint param_3,undefined4 param_4)

{
  ushort uVar1;
  MusicDataHeader *MusToPush;
  
  uVar1 = DAT_80032a54 & 0xf8ff;
  if (param_1 == 1) {
    DAT_80032a54 = uVar1 | 0x100;
  }
  else {
    DAT_80032a54 = uVar1;
    if (1 < param_1) {
      if (param_1 == 2) {
        DAT_80032a54 = uVar1 | 0x300;
      }
      else {
        DAT_80032a54 = uVar1 | 0x500;
        if (param_1 != 3) {
          DAT_80032a54 = uVar1;
        }
      }
    }
  }
  FUN_80018400();
  SpuSetReverbModeParam(&GlobalReverb);
  GlobalReverb.mask = 0;
  for (MusToPush = LastOpenedMus; MusToPush != (MusicDataHeader *)0x0;
      MusToPush = *(MusicDataHeader **)MusToPush) {
    FUN_80017098(0x100,MusToPush);
  }
  if ((DAT_80032a54 & 0x2000) != 0) {
    FUN_80018090((int)DAT_8003704e);
  }
  return;
}



undefined4 FUN_80018058(void)

{
  undefined4 uVar1;
  
  if ((DAT_80032a54 & 0x700) == 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = 1;
    if ((DAT_80032a54 & 0x600) != 0) {
      uVar1 = 2;
    }
  }
  return uVar1;
}



void FUN_80018090(int param_1)

{
  DAT_8003704e = (short)param_1;
  if ((DAT_80032a54 & 0x700) == 0) {
    param_1 = (DAT_8003704e * 0xa0) / 0xff;
    DAT_80032a3d = (undefined)param_1;
  }
  else {
    DAT_80032a3d = 0;
  }
  DAT_80032a3c = (undefined)param_1;
  DAT_80032a3e = DAT_80032a3c;
  DAT_80032a3f = DAT_80032a3d;
  CdMix((CdlATV *)&DAT_80032a3c);
  return;
}



void SetReverbParam(uint mode,undefined *param_2,long delay,long feedback)

{
  SpuReverbAttr ReverbParamTemp;
  
  SpuGetReverbModeParam(&ReverbParamTemp);
  if ((-1 < (int)mode) || (mode = GlobalReverb.mode, ReverbParamTemp.mode != GlobalReverb.mode)) {
    DAT_8003704c = SUB42(param_2,0);
    GlobalReverb.delay = delay;
    GlobalReverb.feedback = feedback;
    if ((int)mode < 10) {
      if ((ReverbParamTemp.mode != mode) || (mode == 0)) {
        SpuSetReverb(0);
        GlobalReverb.mode = mode | 0x100;
        GlobalReverb.mask = GlobalReverb.mask | 1;
        SpuSetReverbModeParam(&GlobalReverb);
        GlobalReverb.mask = 0;
        SpuSetReverb(1);
      }
      FUN_80018400();
      SpuSetReverbDepth(&GlobalReverb);
      GlobalReverb.mask = 0;
    }
  }
  return;
}



void FUN_80018240(ushort param_1,short param_2)

{
  int iVar1;
  
  DAT_8003705a = param_1;
  if (param_2 == 0) {
    DAT_80037050 = (uint)param_1 << 0x10;
    DAT_80037058 = 0;
    DAT_80037048 = param_1;
    FUN_8001848c(param_1,(short *)&DAT_80037024,'\0');
    DAT_80037020 = DAT_80037020 | 3;
  }
  else {
    iVar1 = ((int)((uint)param_1 << 0x10) >> 8) - (DAT_80037050 >> 8);
    if (iVar1 != 0) {
      DAT_80037054 = iVar1 / (int)param_2 << 8;
      DAT_80037058 = param_2;
    }
  }
  return;
}



void FUN_80018300(ushort param_1,short param_2)

{
  int iVar1;
  
  DAT_80037066 = param_1;
  if (param_2 == 0) {
    DAT_8003705c = (uint)param_1 << 0x10;
    DAT_80037064 = 0;
    DAT_8003704a = param_1;
    FUN_8001848c(param_1,(short *)&DAT_80037030,'\0');
    DAT_80037020 = DAT_80037020 | 0xc0;
  }
  else {
    iVar1 = ((int)((uint)param_1 << 0x10) >> 8) - (DAT_8003705c >> 8);
    if (iVar1 != 0) {
      DAT_80037060 = iVar1 / (int)param_2 << 8;
      DAT_80037064 = param_2;
    }
  }
  return;
}



void FUN_800183c0(undefined4 param_1,undefined4 param_2)

{
  DAT_80037020 = DAT_80037020 | 0x300;
  DAT_80037034 = param_1;
  DAT_80037038 = param_2;
  FUN_8001b094(&DAT_80037020);
  return;
}



void FUN_80018400(void)

{
  FUN_8001848c(DAT_80037048,(short *)&DAT_80037024,'\0');
  FUN_8001848c(DAT_8003704a,(short *)&DAT_80037030,'\0');
  FUN_8001848c(DAT_8003704c,&GlobalReverb.depth.left,'\x01');
  DAT_80037020 = DAT_80037020 | 0xc3;
  GlobalReverb.mask = GlobalReverb.mask | 6;
  return;
}



void FUN_8001848c(short param_1,short *param_2,char param_3)

{
  ushort uVar1;
  
  uVar1 = DAT_80032a54;
  param_2[1] = param_1;
  *param_2 = param_1;
  if ((uVar1 & 0x600) != 0) {
    if ((uVar1 & 0x200) == 0) {
      if (param_3 == '\x01') {
        param_2[1] = -param_1;
        return;
      }
    }
    else if (param_3 == '\0') {
      param_2[1] = -param_1;
      return;
    }
    *param_2 = -param_1;
  }
  return;
}



void SpuCallbackFunc(void)

{
  DAT_80032a54 = DAT_80032a54 & 0xff8f;
  return;
}



undefined4 spuInterruptedRun(void)

{
  return 0;
}



void FUN_80018518(uint param_1,undefined2 *param_2,uint param_3,uint param_4)

{
  long lVar1;
  uint uVar2;
  
  uVar2 = param_3;
  FUN_8001865c(0x10);
  DAT_80032a54 = DAT_80032a54 | 0x10;
  SpuSetTransferMode(0);
  FUN_8001afc4(param_1);
  switch(param_4 & 0xf) {
  case 1:
    DAT_80032a54 = DAT_80032a54 | 0x30;
    FUN_8001af64(param_2,param_3,uVar2);
    break;
  case 2:
    DAT_80032a54 = DAT_80032a54 | 0x50;
    FUN_80019dd8((uint)param_2,param_3,uVar2);
    break;
  case 3:
    lVar1 = 0;
    goto LAB_80018618;
  case 4:
    lVar1 = 5;
LAB_80018618:
    DAT_80032a54 = DAT_80032a54 | 0x50;
    lVar1 = SpuReadDecodedData((SpuDecodedData *)param_2,lVar1);
    DAT_80032a40 = (undefined2)lVar1;
  }
  return;
}



int FUN_8001865c(uint param_1)

{
  int iVar1;
  
  if ((param_1 & 0x10) != 0) {
    do {
    } while ((DAT_80032a54 & 0x10) != 0);
  }
  iVar1 = 0;
  if ((DAT_80032a54 & 0x10) != 0) {
    iVar1 = (int)*(short *)((uint)DAT_80032a30 * 0x10 + DAT_80032a04);
  }
  return iVar1;
}



// Possible UT_ROFF.OBJ/SsUtReverbOff
// Possible S_I.OBJ/SpuInit

void FUN_800186c4(void)

{
  FUN_800186e4(0);
  return;
}



void FUN_800186e4(int param_1)

{
  undefined2 *puVar1;
  int iVar2;
  
  ResetCallback();
  FUN_80018858(param_1);
  if (param_1 == 0) {
    iVar2 = 0x17;
    puVar1 = &DAT_8002a93a;
    do {
      *puVar1 = 0xc000;
      iVar2 = iVar2 + -1;
      puVar1 = puVar1 + -1;
    } while (-1 < iVar2);
  }
  Initialise_SPU_Event();
  DAT_8002a8e4 = 0;
  DAT_8002a8e8 = 0;
  DAT_8002a8f4 = 0;
  DAT_8002a8f8 = 0;
  DAT_8002a8fa = 0;
  DAT_8002a8fc = 0;
  DAT_8002a900 = 0;
  DAT_8002a8ec = DAT_8002adac;
  FUN_800191c4(0xd1,DAT_8002adac,0);
  MaxAllocCount = 0;
  DAT_8002ada4 = 0;
  SPUMemManageTableTop = 0;
  DAT_8002a8e0 = 0;
  DAT_8002ad60 = 0;
  DAT_8002a8dc = 0;
  DAT_8002a908 = 0;
  DAT_8002a904 = 0;
  DAT_8002ad3c = 0;
  return;
}



void Initialise_SPU_Event(void)

{
  if (spuevtInitialised == 0) {
    spuevtInitialised = 1;
    EnterCriticalSection();
    _SpuDataCallback();
    spuokaydone = OpenEvent(0xf0000009,0x20,0x2000,(func *)0x0);
    EnableEvent(spuokaydone);
    ExitCriticalSection();
  }
  return;
}



undefined4 FUN_80018858(int param_1)

{
  undefined *puVar1;
  undefined *puVar2;
  uint uVar3;
  int iVar4;
  undefined2 *puVar5;
  
  *(uint *)PTR_DMA_DPCR_8002ad54 = *(uint *)PTR_DMA_DPCR_8002ad54 | 0xb0000;
  puVar1 = SPUIOPortAddr;
  DAT_8002ad60 = 0;
  DAT_8002ad64 = 0;
  CurrentSpuDataTransferInstr = 0;
  *(undefined2 *)(SPUIOPortAddr + 0x180) = 0;
  *(undefined2 *)(puVar1 + 0x182) = 0;
  *(undefined2 *)(puVar1 + 0x1aa) = 0;
  FUN_800193a4();
  puVar1 = SPUIOPortAddr;
  *(undefined2 *)(SPUIOPortAddr + 0x180) = 0;
  *(undefined2 *)(puVar1 + 0x182) = 0;
  puVar2 = SPUIOPortAddr;
  if ((*(ushort *)(puVar1 + 0x1ae) & 0x7ff) != 0) {
    uVar3 = 1;
    do {
      if (0xf00 < uVar3) {
                    // WARNING: Subroutine does not return
        printf(s_SPU_T_O___s__80010044,s_wait__reset__80010054);
      }
      uVar3 = uVar3 + 1;
    } while ((*(ushort *)(SPUIOPortAddr + 0x1ae) & 0x7ff) != 0);
  }
  iVar4 = 0;
  puVar5 = &DAT_80037080;
  DAT_8002ad68 = 2;
  DAT_8002ad6c = 3;
  DAT_8002ad70 = 8;
  DAT_8002ad74 = 7;
  *(undefined2 *)(SPUIOPortAddr + 0x1ac) = 4;
  *(undefined2 *)(puVar2 + 0x184) = 0;
  *(undefined2 *)(puVar2 + 0x186) = 0;
  *(undefined2 *)(puVar2 + 0x18c) = 0xffff;
  *(undefined2 *)(puVar2 + 0x18e) = 0xffff;
  *(undefined2 *)(puVar2 + 0x198) = 0;
  *(undefined2 *)(puVar2 + 0x19a) = 0;
  do {
    *puVar5 = 0;
    puVar1 = SPUIOPortAddr;
    iVar4 = iVar4 + 1;
    puVar5 = puVar5 + 1;
  } while (iVar4 < 10);
  if (param_1 == 0) {
    CurrentSpuDataTransferInstr = 0x200;
    *(undefined2 *)(SPUIOPortAddr + 400) = 0;
    *(undefined2 *)(puVar1 + 0x192) = 0;
    *(undefined2 *)(puVar1 + 0x194) = 0;
    *(undefined2 *)(puVar1 + 0x196) = 0;
    *(undefined2 *)(puVar1 + 0x1b0) = 0;
    *(undefined2 *)(puVar1 + 0x1b2) = 0;
    *(undefined2 *)(puVar1 + 0x1b4) = 0;
    *(undefined2 *)(puVar1 + 0x1b6) = 0;
    FUN_80018aec((undefined2 *)&DAT_8002ad84,0x10);
    iVar4 = 0;
    puVar5 = (undefined2 *)SPUIOPortAddr;
    do {
      *puVar5 = 0;
      puVar5[1] = 0;
      puVar5[2] = 0x3fff;
      puVar5[3] = 0x200;
      puVar5[4] = 0;
      puVar5[5] = 0;
      puVar1 = SPUIOPortAddr;
      iVar4 = iVar4 + 1;
      puVar5 = puVar5 + 8;
    } while (iVar4 < 0x18);
    *(undefined2 *)(SPUIOPortAddr + 0x188) = 0xffff;
    *(undefined2 *)(puVar1 + 0x18a) = 0xff;
    FUN_800193a4();
    FUN_800193a4();
    FUN_800193a4();
    FUN_800193a4();
    puVar1 = SPUIOPortAddr;
    *(undefined2 *)(SPUIOPortAddr + 0x18c) = 0xffff;
    *(undefined2 *)(puVar1 + 0x18e) = 0xff;
    FUN_800193a4();
    FUN_800193a4();
    FUN_800193a4();
    FUN_800193a4();
  }
  DAT_8002ad78 = 1;
  *(undefined2 *)(SPUIOPortAddr + 0x1aa) = 0xc000;
  SPUCallbackFunc = 0;
  DAT_8002ad80 = 0;
  return 0;
}



void FUN_80018aec(undefined2 *param_1,uint param_2)

{
  ushort uVar1;
  undefined2 uVar2;
  ushort uVar3;
  bool bVar4;
  undefined *puVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  
  uVar1 = *(ushort *)(SPUIOPortAddr + 0x1ae);
  *(undefined2 *)(SPUIOPortAddr + 0x1a6) = CurrentSpuDataTransferInstr;
  FUN_800193a4();
  bVar4 = param_2 < 0x41;
  if (param_2 != 0) {
    do {
      puVar5 = SPUIOPortAddr;
      uVar8 = param_2;
      if (!bVar4) {
        uVar8 = 0x40;
      }
      iVar6 = 0;
      if (0 < (int)uVar8) {
        do {
          uVar2 = *param_1;
          param_1 = param_1 + 1;
          iVar6 = iVar6 + 2;
          *(undefined2 *)(puVar5 + 0x1a8) = uVar2;
        } while (iVar6 < (int)uVar8);
      }
      *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xffcf | 0x10;
      FUN_800193a4();
      if ((*(ushort *)(SPUIOPortAddr + 0x1ae) & 0x400) != 0) {
        uVar7 = 1;
        do {
          if (0xf00 < uVar7) {
                    // WARNING: Subroutine does not return
            printf(s_SPU_T_O___s__80010044,s_wait__wrdy_H__>_L__80010064);
          }
          uVar7 = uVar7 + 1;
        } while ((*(ushort *)(SPUIOPortAddr + 0x1ae) & 0x400) != 0);
      }
      param_2 = param_2 - uVar8;
      FUN_800193a4();
      FUN_800193a4();
      bVar4 = param_2 < 0x41;
    } while (param_2 != 0);
  }
  puVar5 = SPUIOPortAddr;
  *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xffcf;
  uVar3 = *(ushort *)(puVar5 + 0x1ae);
  uVar8 = 1;
  while( true ) {
    if ((uVar3 & 0x7ff) == (uVar1 & 0x7ff)) {
      return;
    }
    if (0xf00 < uVar8) break;
    uVar3 = *(ushort *)(SPUIOPortAddr + 0x1ae);
    uVar8 = uVar8 + 1;
  }
                    // WARNING: Subroutine does not return
  printf(s_SPU_T_O___s__80010044,s_wait__dmaf_clear_W__80010078);
}



void FUN_80018d88(undefined4 param_1,undefined2 param_2,int param_3)

{
  *(undefined2 *)(SPUIOPortAddr + 0x1a6) = param_2;
  FUN_800193a4();
  FUN_800193a4();
  *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) | 0x30;
  FUN_800193a4();
  FUN_800193a4();
  FUN_80019378();
  *(undefined4 *)PTR_DMA_SPU_MADR_8002ad48 = param_1;
  *(uint *)PTR_DMA_SPU_BCR_8002ad4c = param_3 << 0x10 | 0x10;
  DAT_8002ad94 = 1;
  *(undefined4 *)PTR_DMA_SPU_CHCR_8002ad50 = 0x1000200;
  return;
}



undefined4 SPUTransferControl(int param_1,uint param_2,uint param_3)

{
  ushort uVar1;
  uint uVar2;
  ushort uVar3;
  undefined4 uVar4;
  
  if (param_1 == 1) {
    DAT_8002ad94 = 0;
    if (*(short *)(SPUIOPortAddr + 0x1a6) != CurrentSpuDataTransferInstr) {
      uVar2 = 1;
      do {
        if (0xf00 < uVar2) {
          DAT_8002ad94 = 0;
          return 0xfffffffe;
        }
        uVar2 = uVar2 + 1;
      } while (*(short *)(SPUIOPortAddr + 0x1a6) != CurrentSpuDataTransferInstr);
    }
    *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xffcf | 0x20;
  }
  else if (param_1 < 2) {
    if (param_1 == 0) {
      DAT_8002ad94 = 1;
      if (*(short *)(SPUIOPortAddr + 0x1a6) != CurrentSpuDataTransferInstr) {
        uVar2 = 1;
        do {
          if (0xf00 < uVar2) {
            DAT_8002ad94 = 1;
            return 0xfffffffe;
          }
          uVar2 = uVar2 + 1;
        } while (*(short *)(SPUIOPortAddr + 0x1a6) != CurrentSpuDataTransferInstr);
      }
      *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) | 0x30;
    }
  }
  else if (param_1 == 2) {
    CurrentSpuDataTransferInstr = (short)(param_2 >> (DAT_8002ad6c & 0x1f));
    *(short *)(SPUIOPortAddr + 0x1a6) = CurrentSpuDataTransferInstr;
  }
  else if (param_1 == 3) {
    uVar3 = 0x20;
    if (DAT_8002ad94 == 1) {
      uVar3 = 0x30;
    }
    uVar2 = 1;
    uVar1 = *(ushort *)(SPUIOPortAddr + 0x1aa);
    while ((uVar1 & 0x30) != uVar3) {
      if (0xf00 < uVar2) {
        return 0xfffffffe;
      }
      uVar2 = uVar2 + 1;
      uVar1 = *(ushort *)(SPUIOPortAddr + 0x1aa);
    }
    if (DAT_8002ad94 == 1) {
      FUN_80019378();
    }
    else {
      FUN_8001934c();
    }
    DAT_8002ad9c = (param_3 >> 6) + (uint)((param_3 & 0x3f) != 0);
    DAT_8002ad98 = param_2;
    *(uint *)PTR_DMA_SPU_MADR_8002ad48 = param_2;
    *(uint *)PTR_DMA_SPU_BCR_8002ad4c = DAT_8002ad9c << 0x10 | 0x10;
    uVar4 = 0x1000201;
    if (DAT_8002ad94 == 1) {
      uVar4 = 0x1000200;
    }
    *(undefined4 *)PTR_DMA_SPU_CHCR_8002ad50 = uVar4;
  }
  return 0;
}



uint FUN_800190d4(undefined2 *param_1,uint param_2,uint param_3)

{
  uint uVar1;
  
  if (DAT_8002ad60 == 0) {
    uVar1 = (uint)CurrentSpuDataTransferInstr << (DAT_8002ad6c & 0x1f);
    SPUTransferControl(2,uVar1,param_3);
    SPUTransferControl(1,uVar1,param_3);
    SPUTransferControl(3,(uint)param_1,param_2);
  }
  else {
    FUN_80018aec(param_1,param_2);
  }
  return param_2;
}



uint BeginTransfertoSPU(uint param_1,uint param_2,uint param_3)

{
  uint uVar1;
  
  uVar1 = (uint)CurrentSpuDataTransferInstr << (DAT_8002ad6c & 0x1f);
  SPUTransferControl(2,uVar1,param_3);
  SPUTransferControl(0,uVar1,param_3);
  SPUTransferControl(3,param_1,param_2);
  return param_2;
}



void FUN_800191c4(int param_1,uint param_2,int param_3)

{
  if (param_3 == 0) {
    *(short *)(SPUIOPortAddr + param_1 * 2) = (short)param_2;
  }
  else {
    *(short *)(SPUIOPortAddr + param_1 * 2) = (short)(param_2 >> (DAT_8002ad6c & 0x1f));
  }
  return;
}



uint FUN_8001920c(int param_1,uint param_2)

{
  uint uVar1;
  
  if (DAT_8002ad68 != 0) {
    if (DAT_8002ad70 == 0) {
      trap(0x1c00);
    }
    if (param_2 % DAT_8002ad70 != 0) {
      param_2 = param_2 + DAT_8002ad70 & ~DAT_8002ad74;
    }
  }
  uVar1 = param_2 >> (DAT_8002ad6c & 0x1f);
  if (param_1 != -2) {
    if (param_1 == -1) {
      param_2 = uVar1 & 0xffff;
    }
    else {
      *(short *)(SPUIOPortAddr + param_1 * 2) = (short)uVar1;
    }
  }
  return param_2;
}



void FUN_8001934c(void)

{
  *(uint *)PTR_SPU_DELAY_8002ad58 = *(uint *)PTR_SPU_DELAY_8002ad58 & 0xf0ffffff | 0x20000000;
  return;
}



void FUN_80019378(void)

{
  *(uint *)PTR_SPU_DELAY_8002ad58 = *(uint *)PTR_SPU_DELAY_8002ad58 & 0xf0ffffff | 0x22000000;
  return;
}



void FUN_800193a4(void)

{
  int local_8;
  
  for (local_8 = 0; local_8 < 0xf0; local_8 = local_8 + 1) {
  }
  return;
}



void _SpuDataCallback(void)

{
  DMACallback();
  return;
}



// Possible S_IH.OBJ/SpuInitHot

void SsUtReverbOn(void)

{
  FUN_800186e4(1);
  return;
}



// Possible S_Q.OBJ/SpuQuit

void FUN_80019448(void)

{
  if (spuevtInitialised == 1) {
    spuevtInitialised = 0;
    EnterCriticalSection();
    SPUCallbackFunc = 0;
    DAT_8002ad80 = 0;
    _SpuDataCallback();
    CloseEvent(spuokaydone);
    DisableEvent(spuokaydone);
    ExitCriticalSection();
  }
  return;
}



long SpuInitMalloc(long num,char *top)

{
  uint uVar1;
  long lVar2;
  
  uVar1 = DAT_8002ad6c;
  if (num < 1) {
    lVar2 = S_M_INIT_OBJ_4C();
    return lVar2;
  }
  *(undefined4 *)top = 0x40001010;
  DAT_8002ada4 = 0;
  MaxAllocCount = num;
  SPUMemManageTableTop = top;
  *(int *)(top + 4) = (0x10000 << (uVar1 & 0x1f)) + -0x1010;
  return num;
}



void S_M_INIT_OBJ_4C(void)

{
  return;
}



// WARNING: Removing unreachable block (ram,0x80019650)
// WARNING: Removing unreachable block (ram,0x80019714)
// WARNING: Removing unreachable block (ram,0x80019728)
// WARNING: Removing unreachable block (ram,0x80019748)
// WARNING: Removing unreachable block (ram,0x80019780)
// WARNING: Removing unreachable block (ram,0x80019674)
// WARNING: Removing unreachable block (ram,0x8001968c)
// WARNING: Removing unreachable block (ram,0x800196a4)

long SpuMalloc(long size)

{
  uint uVar1;
  uint uVar2;
  long lVar3;
  uint *puVar4;
  int iVar5;
  
  iVar5 = 0;
  if (DAT_8002a8e8 == 0) {
    uVar2 = S_M_M_OBJ_54();
    return uVar2;
  }
  if ((size & ~DAT_8002ad74) != 0) {
    size = size + DAT_8002ad74;
  }
  uVar1 = DAT_8002ad6c & 0x1f;
  uVar2 = DAT_8002ad6c & 0x1f;
  if ((*SPUMemManageTableTop & 0x40000000) != 0) {
    lVar3 = S_M_M_OBJ_12C();
    return lVar3;
  }
  _spu_gcSPU();
  puVar4 = SPUMemManageTableTop;
  if (0 < MaxAllocCount) {
    do {
      if (((*puVar4 & 0x40000000) != 0) ||
         (((*puVar4 & 0x80000000) != 0 && ((uint)((size >> uVar1) << uVar2) <= puVar4[1])))) {
        lVar3 = S_M_M_OBJ_12C();
        return lVar3;
      }
      iVar5 = iVar5 + 1;
      puVar4 = puVar4 + 2;
    } while (iVar5 < MaxAllocCount);
  }
  return -1;
}



uint S_M_M_OBJ_54(void)

{
  uint uVar1;
  uint *puVar2;
  uint *puVar3;
  int iVar4;
  uint uVar5;
  undefined uVar6;
  uint uVar7;
  uint *puVar8;
  int unaff_s0;
  uint unaff_s1;
  uint uVar9;
  int unaff_s2;
  int unaff_s3;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  
  if ((unaff_s1 & ~DAT_8002ad74) != 0) {
    unaff_s1 = unaff_s1 + DAT_8002ad74;
  }
  uVar9 = ((int)unaff_s1 >> (DAT_8002ad6c & 0x1f)) << (DAT_8002ad6c & 0x1f);
  if ((*SPUMemManageTableTop & 0x40000000) != 0) {
    uVar9 = S_M_M_OBJ_12C();
    return uVar9;
  }
  _spu_gcSPU();
  puVar8 = SPUMemManageTableTop;
  if (unaff_s0 < MaxAllocCount) {
    puVar3 = SPUMemManageTableTop + unaff_s0 * 2;
    do {
      if (((*puVar3 & 0x40000000) != 0) || (((*puVar3 & 0x80000000) != 0 && (uVar9 <= puVar3[1]))))
      {
        uVar9 = S_M_M_OBJ_12C();
        return uVar9;
      }
      unaff_s0 = unaff_s0 + 1;
      puVar3 = puVar3 + 2;
    } while (unaff_s0 < MaxAllocCount);
  }
  uVar1 = 0xffffffff;
  if (unaff_s2 != -1) {
    puVar3 = SPUMemManageTableTop + unaff_s2 * 2;
    if ((*puVar3 & 0x40000000) == 0) {
      uVar1 = puVar3[1];
      if (uVar9 < uVar1) {
        if (DAT_8002ada4 < MaxAllocCount) {
          puVar8 = SPUMemManageTableTop + DAT_8002ada4 * 2;
          uVar7 = *puVar8;
          uVar5 = puVar8[1];
          *puVar8 = uVar9 + *puVar3 | 0x80000000;
          puVar8[1] = uVar1 - uVar9;
          DAT_8002ada4 = DAT_8002ada4 + 1;
          puVar8[2] = uVar7;
          puVar8[3] = uVar5;
        }
      }
      puVar8 = SPUMemManageTableTop + unaff_s2 * 2;
      puVar8[1] = uVar9;
      *puVar8 = *puVar8 & 0xfffffff;
      _spu_gcSPU();
      uVar1 = SPUMemManageTableTop[unaff_s2 * 2];
    }
    else {
      uVar1 = 0xffffffff;
      if ((unaff_s2 < MaxAllocCount) && (uVar1 = 0xffffffff, uVar9 <= puVar3[1] - unaff_s3)) {
        uVar6 = 0xff;
        iVar4 = unaff_s2 + 1;
        puVar2 = SPUMemManageTableTop + iVar4 * 2;
        *puVar2 = (*puVar3 & 0xfffffff) + uVar9 | 0x40000000;
        puVar2[1] = puVar3[1] - uVar9;
        DAT_8002ada4 = iVar4;
        puVar3[1] = uVar9;
        *puVar3 = *puVar3 & 0xfffffff;
        _spu_gcSPU();
        uVar9 = S_M_M_OBJ_2A8((char)iVar4,uVar6,(char)puVar3,(char)puVar8,in_stack_00000010,
                              in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                              in_stack_00000020);
        return uVar9;
      }
    }
  }
  return uVar1;
}



undefined4 S_M_M_OBJ_12C(void)

{
  undefined4 uVar1;
  uint *puVar2;
  int iVar3;
  uint uVar4;
  undefined uVar5;
  uint uVar6;
  uint *puVar7;
  int iVar8;
  uint uVar9;
  uint unaff_s1;
  int unaff_s2;
  int unaff_s3;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  
  iVar8 = SPUMemManageTableTop;
  uVar1 = 0xffffffff;
  if (unaff_s2 != -1) {
    puVar7 = (uint *)(unaff_s2 * 8 + SPUMemManageTableTop);
    if ((*puVar7 & 0x40000000) == 0) {
      uVar9 = puVar7[1];
      if (unaff_s1 < uVar9) {
        if (DAT_8002ada4 < MaxAllocCount) {
          puVar2 = (uint *)(DAT_8002ada4 * 8 + SPUMemManageTableTop);
          uVar6 = *puVar2;
          uVar4 = puVar2[1];
          *puVar2 = unaff_s1 + *puVar7 | 0x80000000;
          puVar2[1] = uVar9 - unaff_s1;
          DAT_8002ada4 = DAT_8002ada4 + 1;
          puVar2[2] = uVar6;
          puVar2[3] = uVar4;
        }
      }
      puVar7 = (uint *)(unaff_s2 * 8 + SPUMemManageTableTop);
      puVar7[1] = unaff_s1;
      *puVar7 = *puVar7 & 0xfffffff;
      _spu_gcSPU();
      uVar1 = *(undefined4 *)(unaff_s2 * 8 + SPUMemManageTableTop);
    }
    else {
      uVar1 = 0xffffffff;
      if ((unaff_s2 < MaxAllocCount) && (uVar1 = 0xffffffff, unaff_s1 <= puVar7[1] - unaff_s3)) {
        uVar5 = 0xff;
        iVar3 = unaff_s2 + 1;
        puVar2 = (uint *)(iVar3 * 8 + SPUMemManageTableTop);
        *puVar2 = (*puVar7 & 0xfffffff) + unaff_s1 | 0x40000000;
        puVar2[1] = puVar7[1] - unaff_s1;
        DAT_8002ada4 = iVar3;
        puVar7[1] = unaff_s1;
        *puVar7 = *puVar7 & 0xfffffff;
        _spu_gcSPU();
        uVar1 = S_M_M_OBJ_2A8((char)iVar3,uVar5,(char)puVar7,(char)iVar8,in_stack_00000010,
                              in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                              in_stack_00000020);
        return uVar1;
      }
    }
  }
  return uVar1;
}



void S_M_M_OBJ_2A8(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                  undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                  undefined4 param_9)

{
  return;
}



void _spu_gcSPU(void)

{
  uint uVar1;
  uint *puVar2;
  uint *puVar3;
  uint *puVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  
  puVar3 = SPUMemManageTableTop;
  iVar8 = 0;
  puVar4 = SPUMemManageTableTop;
  if (-1 < DAT_8002ada4) {
    do {
      iVar5 = iVar8 + 1;
      if ((*puVar4 & 0x80000000) == 0) {
S_M_INT_OBJ_B8:
        puVar4 = puVar4 + 2;
        iVar8 = iVar8 + 1;
      }
      else {
        puVar2 = puVar3 + iVar5 * 2;
        while (uVar1 = *puVar2, puVar2 = puVar2 + 2, uVar1 == 0x2fffffff) {
          iVar5 = iVar5 + 1;
        }
        puVar2 = puVar3 + iVar5 * 2;
        if (((*puVar2 & 0x80000000) == 0) ||
           ((*puVar2 & 0xfffffff) != (*puVar4 & 0xfffffff) + puVar4[1])) goto S_M_INT_OBJ_B8;
        *puVar2 = 0x2fffffff;
        puVar4[1] = puVar4[1] + puVar2[1];
      }
    } while (iVar8 <= DAT_8002ada4);
  }
  iVar8 = DAT_8002ada4;
  iVar5 = 0;
  puVar3 = SPUMemManageTableTop;
  if (-1 < DAT_8002ada4) {
    do {
      iVar5 = iVar5 + 1;
      if (puVar3[1] == 0) {
        *puVar3 = 0x2fffffff;
      }
      puVar3 = puVar3 + 2;
    } while (iVar5 <= iVar8);
  }
  puVar3 = SPUMemManageTableTop;
  iVar8 = 0;
  puVar4 = SPUMemManageTableTop;
  if (-1 < DAT_8002ada4) {
    do {
      iVar5 = DAT_8002ada4;
      if ((*puVar4 & 0x40000000) != 0) break;
      iVar6 = iVar8 + 1;
      if (iVar6 <= DAT_8002ada4) {
        puVar2 = puVar3 + iVar6 * 2;
        do {
          uVar1 = *puVar2;
          if ((uVar1 & 0x40000000) != 0) break;
          uVar7 = *puVar4;
          iVar6 = iVar6 + 1;
          if ((uVar1 & 0xfffffff) < (uVar7 & 0xfffffff)) {
            *puVar4 = uVar1;
            uVar1 = puVar4[1];
            puVar4[1] = puVar2[1];
            *puVar2 = uVar7;
            puVar2[1] = uVar1;
          }
          puVar2 = puVar2 + 2;
        } while (iVar6 <= iVar5);
      }
      iVar8 = iVar8 + 1;
      puVar4 = puVar4 + 2;
    } while (iVar8 <= DAT_8002ada4);
  }
  puVar3 = SPUMemManageTableTop;
  iVar8 = 0;
  puVar4 = SPUMemManageTableTop;
  if (-1 < DAT_8002ada4) {
    do {
      if ((*puVar4 & 0x40000000) != 0) break;
      if (*puVar4 == 0x2fffffff) {
        puVar3 = SPUMemManageTableTop + DAT_8002ada4 * 2;
        *puVar4 = *puVar3;
        DAT_8002ada4 = iVar8;
        puVar4[1] = puVar3[1];
        S_M_INT_OBJ_270();
        return;
      }
      iVar8 = iVar8 + 1;
      puVar4 = puVar4 + 2;
    } while (iVar8 <= DAT_8002ada4);
  }
  iVar8 = DAT_8002ada4 + -1;
  if (-1 < iVar8) {
    puVar4 = SPUMemManageTableTop + iVar8 * 2;
    do {
      if ((*puVar4 & 0x80000000) == 0) {
        return;
      }
      *puVar4 = *puVar4 & 0xfffffff | 0x40000000;
      iVar5 = DAT_8002ada4 * 2;
      iVar6 = iVar8 + -1;
      DAT_8002ada4 = iVar8;
      puVar4[1] = puVar4[1] + puVar3[iVar5 + 1];
      puVar4 = puVar4 + -2;
      iVar8 = iVar6;
    } while (-1 < iVar6);
  }
  return;
}



void S_M_INT_OBJ_50(undefined4 param_1,undefined4 param_2,int param_3,uint *param_4)

{
  uint uVar1;
  uint *in_v1;
  uint *puVar2;
  uint *puVar3;
  uint *puVar4;
  int iVar5;
  uint uVar6;
  int in_t0;
  int in_t1;
  int iVar7;
  int iVar8;
  uint in_t2;
  uint in_t3;
  uint in_t4;
  
code_r0x80019830:
  while (uVar1 = *in_v1, in_v1 = in_v1 + 2, uVar1 == in_t2) {
    param_3 = param_3 + 1;
  }
  puVar4 = (uint *)(param_3 * 8 + in_t0);
  if ((*puVar4 & in_t4) == 0) goto S_M_INT_OBJ_B8;
  if ((*puVar4 & in_t3) != (*param_4 & in_t3) + param_4[1]) goto S_M_INT_OBJ_B8;
  *puVar4 = in_t2;
  param_4[1] = param_4[1] + puVar4[1];
  for (; iVar8 = DAT_8002ada4, in_t1 <= DAT_8002ada4; in_t1 = in_t1 + 1) {
    param_3 = in_t1 + 1;
    if ((*param_4 & in_t4) != 0) goto code_r0x80019828;
S_M_INT_OBJ_B8:
    param_4 = param_4 + 2;
  }
  iVar7 = 0;
  puVar4 = SPUMemManageTableTop;
  if (-1 < DAT_8002ada4) {
    do {
      iVar7 = iVar7 + 1;
      if (puVar4[1] == 0) {
        *puVar4 = 0x2fffffff;
      }
      puVar4 = puVar4 + 2;
    } while (iVar7 <= iVar8);
  }
  puVar4 = SPUMemManageTableTop;
  iVar8 = 0;
  puVar3 = SPUMemManageTableTop;
  if (-1 < DAT_8002ada4) {
    do {
      iVar7 = DAT_8002ada4;
      if ((*puVar3 & 0x40000000) != 0) break;
      iVar5 = iVar8 + 1;
      if (iVar5 <= DAT_8002ada4) {
        puVar2 = puVar4 + iVar5 * 2;
        do {
          uVar1 = *puVar2;
          if ((uVar1 & 0x40000000) != 0) break;
          uVar6 = *puVar3;
          iVar5 = iVar5 + 1;
          if ((uVar1 & 0xfffffff) < (uVar6 & 0xfffffff)) {
            *puVar3 = uVar1;
            uVar1 = puVar3[1];
            puVar3[1] = puVar2[1];
            *puVar2 = uVar6;
            puVar2[1] = uVar1;
          }
          puVar2 = puVar2 + 2;
        } while (iVar5 <= iVar7);
      }
      iVar8 = iVar8 + 1;
      puVar3 = puVar3 + 2;
    } while (iVar8 <= DAT_8002ada4);
  }
  puVar4 = SPUMemManageTableTop;
  iVar8 = 0;
  puVar3 = SPUMemManageTableTop;
  if (-1 < DAT_8002ada4) {
    do {
      if ((*puVar3 & 0x40000000) != 0) break;
      if (*puVar3 == 0x2fffffff) {
        puVar4 = SPUMemManageTableTop + DAT_8002ada4 * 2;
        *puVar3 = *puVar4;
        DAT_8002ada4 = iVar8;
        puVar3[1] = puVar4[1];
        S_M_INT_OBJ_270();
        return;
      }
      iVar8 = iVar8 + 1;
      puVar3 = puVar3 + 2;
    } while (iVar8 <= DAT_8002ada4);
  }
  iVar8 = DAT_8002ada4 + -1;
  if (-1 < iVar8) {
    puVar3 = SPUMemManageTableTop + iVar8 * 2;
    do {
      if ((*puVar3 & 0x80000000) == 0) {
        return;
      }
      *puVar3 = *puVar3 & 0xfffffff | 0x40000000;
      iVar7 = DAT_8002ada4 * 2;
      iVar5 = iVar8 + -1;
      DAT_8002ada4 = iVar8;
      puVar3[1] = puVar3[1] + puVar4[iVar7 + 1];
      puVar3 = puVar3 + -2;
      iVar8 = iVar5;
    } while (-1 < iVar5);
  }
  return;
code_r0x80019828:
  in_v1 = (uint *)(param_3 * 8 + in_t0);
  goto code_r0x80019830;
}



void S_M_INT_OBJ_270(void)

{
  int iVar1;
  int iVar2;
  uint *puVar3;
  int iVar4;
  int iVar5;
  
  iVar1 = SPUMemManageTableTop;
  iVar4 = DAT_8002ada4 + -1;
  if (-1 < iVar4) {
    puVar3 = (uint *)(iVar4 * 8 + SPUMemManageTableTop);
    do {
      if ((*puVar3 & 0x80000000) == 0) {
        return;
      }
      *puVar3 = *puVar3 & 0xfffffff | 0x40000000;
      iVar2 = DAT_8002ada4 * 8;
      iVar5 = iVar4 + -1;
      DAT_8002ada4 = iVar4;
      puVar3[1] = puVar3[1] + *(int *)(iVar2 + iVar1 + 4);
      puVar3 = puVar3 + -2;
      iVar4 = iVar5;
    } while (-1 < iVar5);
  }
  return;
}



void SpuFree(ulong addr)

{
  int iVar1;
  uint *puVar2;
  int iVar3;
  undefined4 unaff_retaddr;
  undefined in_stack_fffffff0;
  undefined in_stack_fffffff4;
  
  iVar1 = MaxAllocCount;
  iVar3 = 0;
  if (0 < MaxAllocCount) {
    puVar2 = SPUMemManageTableTop;
    do {
      if ((*puVar2 & 0x40000000) != 0) break;
      iVar3 = iVar3 + 1;
      if (*puVar2 == addr) {
        *puVar2 = addr | 0x80000000;
        S_M_F_OBJ_64((char)addr,(char)puVar2,(char)iVar3,(char)iVar1,in_stack_fffffff0,
                     in_stack_fffffff4,unaff_retaddr);
        return;
      }
      puVar2 = puVar2 + 2;
    } while (iVar3 < MaxAllocCount);
  }
  _spu_gcSPU();
  return;
}



void S_M_F_OBJ_64(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined4 param_7)

{
  _spu_gcSPU();
  return;
}



ulong SpuSetNoiseVoice(long on_off,ulong voice_bit)

{
  uint uVar1;
  
  uVar1 = FUN_80019b80(on_off,voice_bit,0xca,0xcb);
  return uVar1;
}



uint FUN_80019b80(int param_1,uint param_2,int param_3,int param_4)

{
  ushort uVar1;
  ushort uVar2;
  undefined *puVar3;
  ushort *puVar4;
  uint uVar5;
  
  puVar3 = SPUIOPortAddr;
  if ((DAT_8002ad3c & 1) != 0) {
    puVar3 = &DAT_80036ef8;
  }
  uVar5 = (uint)*(ushort *)(puVar3 + param_3 * 2) |
          (*(ushort *)(puVar3 + param_4 * 2) & 0xff) << 0x10;
  uVar1 = (ushort)param_2;
  uVar2 = (ushort)(param_2 >> 0x10);
  if (param_1 == 0) {
    if ((DAT_8002ad3c & 1) == 0) {
      puVar4 = (ushort *)(SPUIOPortAddr + param_4 * 2);
      *(ushort *)(SPUIOPortAddr + param_3 * 2) = *(ushort *)(SPUIOPortAddr + param_3 * 2) & ~uVar1;
      *puVar4 = *puVar4 & ~(uVar2 & 0xff);
    }
    else {
      *(ushort *)(&DAT_80036ef8 + param_3 * 2) = *(ushort *)(&DAT_80036ef8 + param_3 * 2) & ~uVar1;
      *(ushort *)(&DAT_80036ef8 + param_4 * 2) =
           *(ushort *)(&DAT_80036ef8 + param_4 * 2) & ~(uVar2 & 0xff);
      DAT_8002a908 = 1 << (param_3 + -0xc6 >> 1 & 0x1fU) | DAT_8002a908;
    }
    uVar5 = uVar5 & ~(param_2 & 0xffffff);
  }
  else if (param_1 == 1) {
    if ((DAT_8002ad3c & 1) == 0) {
      puVar4 = (ushort *)(SPUIOPortAddr + param_4 * 2);
      *(ushort *)(SPUIOPortAddr + param_3 * 2) = *(ushort *)(SPUIOPortAddr + param_3 * 2) | uVar1;
      *puVar4 = *puVar4 | uVar2 & 0xff;
    }
    else {
      *(ushort *)(&DAT_80036ef8 + param_3 * 2) = *(ushort *)(&DAT_80036ef8 + param_3 * 2) | uVar1;
      *(ushort *)(&DAT_80036ef8 + param_4 * 2) =
           *(ushort *)(&DAT_80036ef8 + param_4 * 2) | uVar2 & 0xff;
      DAT_8002a908 = 1 << (param_3 + -0xc6 >> 1 & 0x1fU) | DAT_8002a908;
    }
    uVar5 = uVar5 | param_2 & 0xffffff;
  }
  return uVar5;
}



long SpuSetNoiseClock(long n_clock)

{
  uint uVar1;
  
  if (n_clock < 0) {
    uVar1 = S_SNC_OBJ_24(n_clock,0);
    return uVar1;
  }
  if (0x3f < n_clock) {
    n_clock = 0x3f;
  }
  *(ushort *)(SPUIOPortAddr + 0x1aa) =
       *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xc0ff | (ushort)((n_clock & 0x3fU) << 8);
  return n_clock;
}



uint S_SNC_OBJ_24(undefined4 param_1,uint param_2)

{
  *(ushort *)(SPUIOPortAddr + 0x1aa) =
       *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xc0ff | (ushort)((param_2 & 0x3f) << 8);
  return param_2;
}



uint FUN_80019dd8(uint param_1,uint param_2,uint param_3)

{
  if (0x7eff0 < param_2) {
    param_2 = 0x7eff0;
  }
  BeginTransfertoSPU(param_1,param_2,param_3);
  if (SPUCallbackFunc == 0) {
    DAT_8002ad78 = 0;
  }
  return param_2;
}



long SpuSetReverb(long on_off)

{
  long lVar1;
  int iVar2;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_retaddr;
  
  if (on_off == 0) {
    DAT_8002a8e4 = 0;
    lVar1 = S_SR_OBJ_B0();
    return lVar1;
  }
  if (on_off != 1) {
    lVar1 = S_SR_OBJ_B4((char)on_off,in_a1,in_a2,in_a3,unaff_s0,unaff_retaddr);
    return lVar1;
  }
  if ((DAT_8002a8e8 != 1) && (iVar2 = FUN_80019f88(DAT_8002a8ec), iVar2 != 0)) {
    DAT_8002a8e4 = 0;
    lVar1 = S_SR_OBJ_B0();
    return lVar1;
  }
  DAT_8002a8e4 = on_off;
  *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) | 0x80;
  return DAT_8002a8e4;
}



undefined4 S_SR_OBJ_B0(void)

{
  int in_v0;
  undefined2 in_v1;
  
  *(undefined2 *)(in_v0 + 0x1aa) = in_v1;
  return DAT_8002a8e4;
}



undefined4
S_SR_OBJ_B4(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
           undefined4 param_5,undefined4 param_6)

{
  return DAT_8002a8e4;
}



undefined4 FUN_80019f08(uint param_1)

{
  uint uVar1;
  char *SPUSpace;
  
  SPUSpace = SPUMemManageTableTop;
  if (SPUMemManageTableTop == (char *)0x0) {
    return 0;
  }
  do {
    uVar1 = *(uint *)SPUSpace;
    if ((uVar1 & 0x80000000) == 0) {
      if ((uVar1 & 0x40000000) != 0) {
        return 0;
      }
      if (param_1 <= (uVar1 & 0xfffffff)) {
        return 1;
      }
      if (param_1 < (uVar1 & 0xfffffff) + *(int *)(SPUSpace + 4)) {
        return 1;
      }
    }
    SPUSpace = SPUSpace + 8;
  } while( true );
}



undefined4 FUN_80019f88(int param_1)

{
  uint uVar1;
  uint uVar2;
  char *SPUSpace;
  
  uVar2 = param_1 << (DAT_8002ad6c & 0x1f);
  SPUSpace = SPUMemManageTableTop;
  if (SPUMemManageTableTop == (char *)0x0) {
    return 0;
  }
  do {
    uVar1 = *(uint *)SPUSpace;
    if ((uVar1 & 0x80000000) == 0) {
      if ((uVar1 & 0x40000000) != 0) {
        return 0;
      }
      if (uVar2 <= (uVar1 & 0xfffffff)) {
        return 1;
      }
      if (uVar2 < (uVar1 & 0xfffffff) + *(int *)(SPUSpace + 4)) {
        return 1;
      }
    }
    SPUSpace = SPUSpace + 8;
  } while( true );
}



// WARNING: Removing unreachable block (ram,0x8001a488)
// WARNING: Removing unreachable block (ram,0x8001a348)
// WARNING: Removing unreachable block (ram,0x8001a358)
// WARNING: Removing unreachable block (ram,0x8001a3a8)
// WARNING: Removing unreachable block (ram,0x8001a3cc)
// WARNING: Removing unreachable block (ram,0x8001a44c)
// WARNING: Removing unreachable block (ram,0x8001a4b8)
// WARNING: Removing unreachable block (ram,0x8001a4d0)
// WARNING: Removing unreachable block (ram,0x8001a4a0)

long SpuSetReverbModeParam(SpuReverbAttr *attr)

{
  undefined uVar1;
  bool bVar2;
  int iVar3;
  long lVar4;
  undefined *puVar5;
  undefined4 in_a1;
  uint in_a2;
  undefined *puVar6;
  undefined4 in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  uint uVar7;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_s6;
  undefined4 unaff_s7;
  undefined4 unaff_s8;
  undefined4 unaff_retaddr;
  uint uVar8;
  undefined4 in_stack_ffffff84;
  undefined in_stack_ffffff88;
  undefined in_stack_ffffff8c;
  undefined in_stack_ffffff90;
  undefined in_stack_ffffff94;
  ushort local_42;
  
  uVar7 = attr->mask;
  bVar2 = uVar7 == 0;
  uVar8 = 0;
  if ((bVar2) || ((uVar7 & 1) != 0)) {
    uVar7 = attr->mode;
    if ((uVar7 & 0x100) != 0) {
      uVar7 = uVar7 & 0xfffffeff;
    }
    if (uVar7 < 10) {
      attr = (SpuReverbAttr *)(&DAT_8002adac)[uVar7];
      iVar3 = FUN_80019f88((int)attr);
      if (iVar3 == 0) {
        puVar6 = &stack0xffffff80;
        iVar3 = 0x43;
        DAT_8002a8ec = (&DAT_8002adac)[uVar7];
        puVar5 = &DAT_8002adfc + uVar7 * 0x44;
        do {
          uVar1 = *puVar5;
          puVar5 = puVar5 + 1;
          iVar3 = iVar3 + -1;
          *puVar6 = uVar1;
          puVar6 = puVar6 + 1;
        } while (iVar3 != -1);
        DAT_8002a8f4 = uVar7;
        if (uVar7 != 7) {
          if (uVar7 != 8) {
            lVar4 = S_SRMP_OBJ_170();
            return lVar4;
          }
          DAT_8002a900 = 0;
          DAT_8002a8fc = 0x7f;
          lVar4 = S_SRMP_OBJ_180(DAT_8002a8ec,(undefined4 *)0xffffffff,(uint)puVar6,0xffffffff,uVar8
                                 ,in_stack_ffffff84);
          return lVar4;
        }
        DAT_8002a900 = 0x7f;
        DAT_8002a8fc = 0x7f;
        lVar4 = S_SRMP_OBJ_180(DAT_8002a8ec,(undefined4 *)0xffffffff,(uint)puVar6,0xffffffff,uVar8,
                               in_stack_ffffff84);
        return lVar4;
      }
    }
    lVar4 = S_SRMP_OBJ_4DC((char)attr,(char)in_a1,(char)in_a2,(char)in_a3,(char)uVar8,
                           (char)in_stack_ffffff84,in_stack_ffffff88,in_stack_ffffff8c,
                           in_stack_ffffff90,in_stack_ffffff94,unaff_s0,unaff_s1,unaff_s2,unaff_s3,
                           unaff_s4,unaff_s5,unaff_s6,unaff_s7,unaff_s8,unaff_retaddr);
    return lVar4;
  }
  if ((bVar2) || ((uVar7 & 8) != 0)) {
    if (((int)DAT_8002a8f4 < 9) && (6 < (int)DAT_8002a8f4)) {
      puVar6 = &stack0xffffff80;
      iVar3 = 0x43;
      puVar5 = &DAT_8002adfc + DAT_8002a8f4 * 0x44;
      do {
        uVar1 = *puVar5;
        puVar5 = puVar5 + 1;
        iVar3 = iVar3 + -1;
        *puVar6 = uVar1;
        puVar6 = puVar6 + 1;
      } while (iVar3 != -1);
      DAT_8002a8fc = attr->delay;
      lVar4 = S_SRMP_OBJ_2AC((uint)local_42,(undefined4 *)(DAT_8002a8fc * 0x1000 >> 0x1f),0x81020409
                             ,in_a3,0xc011c00);
      return lVar4;
    }
    DAT_8002a8fc = 0;
  }
  if ((bVar2) || ((uVar7 & 0x10) != 0)) {
    if (((int)DAT_8002a8f4 < 9) && (6 < (int)DAT_8002a8f4)) {
      puVar6 = &stack0xffffff80;
      iVar3 = 0x43;
      puVar5 = &DAT_8002adfc + DAT_8002a8f4 * 0x44;
      do {
        uVar1 = *puVar5;
        puVar5 = puVar5 + 1;
        iVar3 = iVar3 + -1;
        *puVar6 = uVar1;
        puVar6 = puVar6 + 1;
      } while (iVar3 != -1);
      lVar4 = S_SRMP_OBJ_340(0xffffffff,puVar6,0xffffffff,(char)in_a3,uVar8);
      return lVar4;
    }
    DAT_8002a900 = 0;
  }
  if ((bVar2) || ((uVar7 & 2) != 0)) {
    *(short *)(SPUIOPortAddr + 0x184) = (attr->depth).left;
    DAT_8002a8f8 = (attr->depth).left;
  }
  if ((!bVar2) && ((uVar7 & 4) == 0)) {
    return 0;
  }
  *(short *)(SPUIOPortAddr + 0x186) = (attr->depth).right;
  DAT_8002a8fa = (attr->depth).right;
  lVar4 = S_SRMP_OBJ_45C(attr,in_a1,in_a2,(char)in_a3,0,(char)in_stack_ffffff84,in_stack_ffffff88,
                         in_stack_ffffff8c,in_stack_ffffff90,in_stack_ffffff94,0);
  return lVar4;
}



undefined4 S_SRMP_OBJ_170(void)

{
  undefined uVar1;
  undefined4 uVar2;
  undefined *puVar3;
  undefined4 in_a0;
  int iVar4;
  undefined4 *in_a1;
  undefined4 *puVar5;
  uint in_a2;
  undefined4 in_a3;
  int unaff_s2;
  uint unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  uint unaff_s7;
  int unaff_s8;
  undefined uVar6;
  uint in_stack_00000010;
  undefined uVar7;
  short in_stack_00000014;
  short in_stack_00000016;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined2 uStack00000022;
  undefined in_stack_00000024;
  short sStack00000028;
  short sStack0000002a;
  short sStack0000002c;
  short in_stack_0000002e;
  short sStack00000034;
  short in_stack_00000036;
  short sStack00000048;
  short sStack0000004a;
  short in_stack_0000004c;
  ushort in_stack_0000004e;
  int in_stack_00000058;
  
  puVar3 = SPUIOPortAddr;
  DAT_8002a900 = 0;
  if ((((unaff_s5 != 0) || ((unaff_s3 & 8) != 0)) && (DAT_8002a8f4 < 9)) && (6 < DAT_8002a8f4)) {
    if (unaff_s4 == 0) {
      puVar5 = (undefined4 *)&stack0x00000010;
      iVar4 = 0x43;
      puVar3 = &DAT_8002adfc + DAT_8002a8f4 * 0x44;
      do {
        uVar1 = *puVar3;
        puVar3 = puVar3 + 1;
        iVar4 = iVar4 + -1;
        *(undefined *)puVar5 = uVar1;
        puVar5 = (undefined4 *)((int)puVar5 + 1);
      } while (iVar4 != -1);
      in_stack_00000010 = 0xc011c00;
    }
    DAT_8002a8fc = *(int *)(unaff_s2 + 0xc);
    sStack00000028 = (short)((DAT_8002a8fc * 0x2000) / 0x7f) - in_stack_00000014;
    sStack0000004a = (short)((DAT_8002a8fc * 0x1000) / 0x7f);
    sStack0000002a = sStack0000004a - in_stack_00000016;
    sStack00000034 = sStack0000004a + in_stack_00000036;
    sStack0000002c = sStack0000004a + in_stack_0000002e;
    sStack00000048 = sStack0000004a + in_stack_0000004c;
    sStack0000004a = sStack0000004a + in_stack_0000004e;
    uVar2 = S_SRMP_OBJ_2AC((uint)in_stack_0000004e,(undefined4 *)(DAT_8002a8fc * 0x1000 >> 0x1f),
                           0x81020409,in_a3,in_stack_00000010);
    return uVar2;
  }
  DAT_8002a8fc = 0;
  if (((unaff_s5 != 0) || ((unaff_s3 & 0x10) != 0)) && ((DAT_8002a8f4 < 9 && (6 < DAT_8002a8f4)))) {
    if (unaff_s4 == 0) {
      in_a1 = (undefined4 *)&stack0x00000010;
      if (unaff_s6 == 0) {
        iVar4 = 0x43;
        puVar3 = &DAT_8002adfc + DAT_8002a8f4 * 0x44;
        do {
          uVar1 = *puVar3;
          puVar3 = puVar3 + 1;
          iVar4 = iVar4 + -1;
          *(undefined *)in_a1 = uVar1;
          in_a1 = (undefined4 *)((int)in_a1 + 1);
        } while (iVar4 != -1);
        uVar2 = S_SRMP_OBJ_340(0xffffffff,in_a1,0xffffffff,(char)in_a3,in_stack_00000010);
        return uVar2;
      }
      in_stack_00000010 = in_stack_00000010 | 0x80;
    }
    DAT_8002a900 = *(int *)(unaff_s2 + 0x10);
    uStack00000022 = (undefined2)((DAT_8002a900 * 0x8100) / 0x7f);
    uVar2 = S_SRMP_OBJ_38C(0x81020409,in_a1,in_a2);
    return uVar2;
  }
  DAT_8002a900 = 0;
  if (unaff_s4 == 0) {
    if ((unaff_s5 != 0) || ((unaff_s3 & 2) != 0)) {
      *(undefined2 *)(SPUIOPortAddr + 0x184) = *(undefined2 *)(unaff_s2 + 8);
      DAT_8002a8f8 = *(undefined2 *)(unaff_s2 + 8);
    }
    if ((unaff_s5 != 0) || ((unaff_s3 & 4) != 0)) {
      *(undefined2 *)(SPUIOPortAddr + 0x186) = *(undefined2 *)(unaff_s2 + 10);
      DAT_8002a8fa = *(undefined2 *)(unaff_s2 + 10);
      uVar2 = S_SRMP_OBJ_45C(in_a0,in_a1,in_a2,(char)in_a3,uVar6,uVar7,in_stack_00000018,
                             in_stack_0000001c,in_stack_00000020,in_stack_00000024,in_stack_00000058
                            );
      return uVar2;
    }
  }
  else {
    unaff_s7 = *(ushort *)(SPUIOPortAddr + 0x1aa) >> 7 & 1;
    if ((*(ushort *)(SPUIOPortAddr + 0x1aa) >> 7 & 1) != 0) {
      *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xff7f;
      uVar2 = S_SRMP_OBJ_438();
      return uVar2;
    }
    *(undefined2 *)(SPUIOPortAddr + 0x184) = 0;
    *(undefined2 *)(puVar3 + 0x186) = 0;
    DAT_8002a8f8 = 0;
    DAT_8002a8fa = 0;
  }
  if (((unaff_s4 != 0) || (unaff_s6 != 0)) || (unaff_s8 != 0)) {
    _spu_setReverbAttr((uint *)&stack0x00000010);
  }
  if (in_stack_00000058 != 0) {
    SpuClearReverbWorkArea(DAT_8002a8f4);
  }
  if ((unaff_s4 != 0) && (FUN_800191c4(0xd1,DAT_8002a8ec,0), unaff_s7 != 0)) {
    *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) | 0x80;
  }
  return 0;
}



undefined4
S_SRMP_OBJ_180(undefined4 param_1,undefined4 *param_2,uint param_3,undefined4 param_4,uint param_5,
              undefined4 param_6)

{
  undefined uVar1;
  undefined4 uVar2;
  undefined *puVar3;
  int iVar4;
  uint *puVar5;
  int unaff_s2;
  uint unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  uint unaff_s7;
  int unaff_s8;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined2 uStack00000022;
  undefined in_stack_00000024;
  short sStack00000028;
  short sStack0000002a;
  short sStack0000002c;
  short in_stack_0000002e;
  short sStack00000034;
  short in_stack_00000036;
  short sStack00000048;
  short sStack0000004a;
  short in_stack_0000004c;
  ushort in_stack_0000004e;
  int in_stack_00000058;
  
  puVar3 = SPUIOPortAddr;
  if ((unaff_s5 != 0) || ((unaff_s3 & 8) != 0)) {
    if ((DAT_8002a8f4 < 9) && (6 < DAT_8002a8f4)) {
      if (unaff_s4 == 0) {
        puVar5 = &param_5;
        iVar4 = 0x43;
        puVar3 = &DAT_8002adfc + DAT_8002a8f4 * 0x44;
        do {
          uVar1 = *puVar3;
          puVar3 = puVar3 + 1;
          iVar4 = iVar4 + -1;
          *(undefined *)puVar5 = uVar1;
          puVar5 = (uint *)((int)puVar5 + 1);
        } while (iVar4 != -1);
        param_5 = 0xc011c00;
      }
      DAT_8002a8fc = *(int *)(unaff_s2 + 0xc);
      sStack00000028 = (short)((DAT_8002a8fc * 0x2000) / 0x7f) - (short)param_6;
      sStack0000004a = (short)((DAT_8002a8fc * 0x1000) / 0x7f);
      sStack0000002a = sStack0000004a - param_6._2_2_;
      sStack00000034 = sStack0000004a + in_stack_00000036;
      sStack0000002c = sStack0000004a + in_stack_0000002e;
      sStack00000048 = sStack0000004a + in_stack_0000004c;
      sStack0000004a = sStack0000004a + in_stack_0000004e;
      uVar2 = S_SRMP_OBJ_2AC((uint)in_stack_0000004e,(undefined4 *)(DAT_8002a8fc * 0x1000 >> 0x1f),
                             0x81020409,param_4,param_5);
      return uVar2;
    }
    DAT_8002a8fc = 0;
  }
  if ((unaff_s5 != 0) || ((unaff_s3 & 0x10) != 0)) {
    if ((DAT_8002a8f4 < 9) && (6 < DAT_8002a8f4)) {
      if (unaff_s4 == 0) {
        param_2 = &param_5;
        if (unaff_s6 == 0) {
          iVar4 = 0x43;
          puVar3 = &DAT_8002adfc + DAT_8002a8f4 * 0x44;
          do {
            uVar1 = *puVar3;
            puVar3 = puVar3 + 1;
            iVar4 = iVar4 + -1;
            *(undefined *)param_2 = uVar1;
            param_2 = (undefined4 *)((int)param_2 + 1);
          } while (iVar4 != -1);
          uVar2 = S_SRMP_OBJ_340(0xffffffff,param_2,0xffffffff,(char)param_4,param_5);
          return uVar2;
        }
        param_5 = param_5 | 0x80;
      }
      DAT_8002a900 = *(int *)(unaff_s2 + 0x10);
      uStack00000022 = (undefined2)((DAT_8002a900 * 0x8100) / 0x7f);
      uVar2 = S_SRMP_OBJ_38C(0x81020409,param_2,param_3);
      return uVar2;
    }
    DAT_8002a900 = 0;
  }
  if (unaff_s4 == 0) {
    if ((unaff_s5 != 0) || ((unaff_s3 & 2) != 0)) {
      *(undefined2 *)(SPUIOPortAddr + 0x184) = *(undefined2 *)(unaff_s2 + 8);
      DAT_8002a8f8 = *(undefined2 *)(unaff_s2 + 8);
    }
    if ((unaff_s5 != 0) || ((unaff_s3 & 4) != 0)) {
      *(undefined2 *)(SPUIOPortAddr + 0x186) = *(undefined2 *)(unaff_s2 + 10);
      DAT_8002a8fa = *(undefined2 *)(unaff_s2 + 10);
      uVar2 = S_SRMP_OBJ_45C(param_1,param_2,param_3,(char)param_4,(undefined)param_5,
                             (undefined)param_6,in_stack_00000018,in_stack_0000001c,
                             in_stack_00000020,in_stack_00000024,in_stack_00000058);
      return uVar2;
    }
  }
  else {
    unaff_s7 = *(ushort *)(SPUIOPortAddr + 0x1aa) >> 7 & 1;
    if ((*(ushort *)(SPUIOPortAddr + 0x1aa) >> 7 & 1) != 0) {
      *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xff7f;
      uVar2 = S_SRMP_OBJ_438();
      return uVar2;
    }
    *(undefined2 *)(SPUIOPortAddr + 0x184) = 0;
    *(undefined2 *)(puVar3 + 0x186) = 0;
    DAT_8002a8f8 = 0;
    DAT_8002a8fa = 0;
  }
  if (((unaff_s4 != 0) || (unaff_s6 != 0)) || (unaff_s8 != 0)) {
    _spu_setReverbAttr(&param_5);
  }
  if (in_stack_00000058 != 0) {
    SpuClearReverbWorkArea(DAT_8002a8f4);
  }
  if ((unaff_s4 != 0) && (FUN_800191c4(0xd1,DAT_8002a8ec,0), unaff_s7 != 0)) {
    *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) | 0x80;
  }
  return 0;
}



undefined4
S_SRMP_OBJ_2AC(undefined4 param_1,undefined4 *param_2,uint param_3,undefined4 param_4,uint param_5)

{
  undefined uVar1;
  undefined4 uVar2;
  undefined *puVar3;
  int iVar4;
  int unaff_s2;
  uint unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  uint unaff_s7;
  int unaff_s8;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined2 uStack00000022;
  undefined in_stack_00000024;
  int in_stack_00000058;
  
  puVar3 = SPUIOPortAddr;
  if ((unaff_s5 != 0) || ((unaff_s3 & 0x10) != 0)) {
    if ((DAT_8002a8f4 < 9) && (6 < DAT_8002a8f4)) {
      if (unaff_s4 == 0) {
        param_2 = &param_5;
        if (unaff_s6 == 0) {
          iVar4 = 0x43;
          puVar3 = &DAT_8002adfc + DAT_8002a8f4 * 0x44;
          do {
            uVar1 = *puVar3;
            puVar3 = puVar3 + 1;
            iVar4 = iVar4 + -1;
            *(undefined *)param_2 = uVar1;
            param_2 = (undefined4 *)((int)param_2 + 1);
          } while (iVar4 != -1);
          uVar2 = S_SRMP_OBJ_340(0xffffffff,param_2,0xffffffff,(undefined)param_4,param_5);
          return uVar2;
        }
        param_5 = param_5 | 0x80;
      }
      DAT_8002a900 = *(int *)(unaff_s2 + 0x10);
      uStack00000022 = (undefined2)((DAT_8002a900 * 0x8100) / 0x7f);
      uVar2 = S_SRMP_OBJ_38C(0x81020409,param_2,param_3);
      return uVar2;
    }
    DAT_8002a900 = 0;
  }
  if (unaff_s4 == 0) {
    if ((unaff_s5 != 0) || ((unaff_s3 & 2) != 0)) {
      *(undefined2 *)(SPUIOPortAddr + 0x184) = *(undefined2 *)(unaff_s2 + 8);
      DAT_8002a8f8 = *(undefined2 *)(unaff_s2 + 8);
    }
    if ((unaff_s5 != 0) || ((unaff_s3 & 4) != 0)) {
      *(undefined2 *)(SPUIOPortAddr + 0x186) = *(undefined2 *)(unaff_s2 + 10);
      DAT_8002a8fa = *(undefined2 *)(unaff_s2 + 10);
      uVar2 = S_SRMP_OBJ_45C(param_1,param_2,param_3,(undefined)param_4,(undefined)param_5,
                             in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020
                             ,in_stack_00000024,in_stack_00000058);
      return uVar2;
    }
  }
  else {
    unaff_s7 = *(ushort *)(SPUIOPortAddr + 0x1aa) >> 7 & 1;
    if ((*(ushort *)(SPUIOPortAddr + 0x1aa) >> 7 & 1) != 0) {
      *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xff7f;
      uVar2 = S_SRMP_OBJ_438();
      return uVar2;
    }
    *(undefined2 *)(SPUIOPortAddr + 0x184) = 0;
    *(undefined2 *)(puVar3 + 0x186) = 0;
    DAT_8002a8f8 = 0;
    DAT_8002a8fa = 0;
  }
  if (((unaff_s4 != 0) || (unaff_s6 != 0)) || (unaff_s8 != 0)) {
    _spu_setReverbAttr(&param_5);
  }
  if (in_stack_00000058 != 0) {
    SpuClearReverbWorkArea(DAT_8002a8f4);
  }
  if ((unaff_s4 != 0) && (FUN_800191c4(0xd1,DAT_8002a8ec,0), unaff_s7 != 0)) {
    *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) | 0x80;
  }
  return 0;
}



void S_SRMP_OBJ_340(undefined4 param_1,undefined4 param_2,uint param_3,undefined param_4,
                   undefined4 param_5)

{
  int unaff_s2;
  undefined2 uStack00000022;
  
  DAT_8002a900 = *(int *)(unaff_s2 + 0x10);
  uStack00000022 = (undefined2)((DAT_8002a900 * 0x8100) / 0x7f);
  S_SRMP_OBJ_38C(0x81020409,param_2,param_3);
  return;
}



undefined4 S_SRMP_OBJ_38C(undefined4 param_1,undefined4 param_2,uint param_3)

{
  undefined *puVar1;
  undefined4 uVar2;
  undefined in_a3;
  int unaff_s2;
  uint unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  uint unaff_s7;
  int unaff_s8;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  int in_stack_00000058;
  
  puVar1 = SPUIOPortAddr;
  if (unaff_s4 == 0) {
    if ((unaff_s5 != 0) || ((unaff_s3 & 2) != 0)) {
      *(undefined2 *)(SPUIOPortAddr + 0x184) = *(undefined2 *)(unaff_s2 + 8);
      DAT_8002a8f8 = *(undefined2 *)(unaff_s2 + 8);
    }
    if ((unaff_s5 != 0) || ((unaff_s3 & 4) != 0)) {
      *(undefined2 *)(SPUIOPortAddr + 0x186) = *(undefined2 *)(unaff_s2 + 10);
      DAT_8002a8fa = *(undefined2 *)(unaff_s2 + 10);
      uVar2 = S_SRMP_OBJ_45C(param_1,param_2,param_3,in_a3,in_stack_00000010,in_stack_00000014,
                             in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024
                             ,in_stack_00000058);
      return uVar2;
    }
  }
  else {
    unaff_s7 = *(ushort *)(SPUIOPortAddr + 0x1aa) >> 7 & 1;
    if ((*(ushort *)(SPUIOPortAddr + 0x1aa) >> 7 & 1) != 0) {
      *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xff7f;
      uVar2 = S_SRMP_OBJ_438();
      return uVar2;
    }
    *(undefined2 *)(SPUIOPortAddr + 0x184) = 0;
    *(undefined2 *)(puVar1 + 0x186) = 0;
    DAT_8002a8f8 = 0;
    DAT_8002a8fa = 0;
  }
  if (((unaff_s4 != 0) || (unaff_s6 != 0)) || (unaff_s8 != 0)) {
    _spu_setReverbAttr((uint *)&stack0x00000010);
  }
  if (in_stack_00000058 != 0) {
    SpuClearReverbWorkArea(DAT_8002a8f4);
  }
  if ((unaff_s4 != 0) && (FUN_800191c4(0xd1,DAT_8002a8ec,0), unaff_s7 != 0)) {
    *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) | 0x80;
  }
  return 0;
}



undefined4 S_SRMP_OBJ_438(void)

{
  undefined *puVar1;
  int unaff_s4;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000058;
  
  puVar1 = SPUIOPortAddr;
  *(undefined2 *)(SPUIOPortAddr + 0x184) = 0;
  *(undefined2 *)(puVar1 + 0x186) = 0;
  DAT_8002a8f8 = 0;
  DAT_8002a8fa = 0;
  if (((unaff_s4 != 0) || (unaff_s6 != 0)) || (unaff_s8 != 0)) {
    _spu_setReverbAttr((uint *)&stack0x00000010);
  }
  if (in_stack_00000058 != 0) {
    SpuClearReverbWorkArea(DAT_8002a8f4);
  }
  if ((unaff_s4 != 0) && (FUN_800191c4(0xd1,DAT_8002a8ec,0), unaff_s7 != 0)) {
    *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) | 0x80;
  }
  return 0;
}



undefined4
S_SRMP_OBJ_45C(undefined4 param_1,undefined4 param_2,uint param_3,undefined param_4,
              undefined param_5,undefined param_6,undefined param_7,undefined param_8,
              undefined param_9,undefined param_10,int param_11)

{
  int unaff_s4;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  
  if (((unaff_s4 != 0) || (unaff_s6 != 0)) || (unaff_s8 != 0)) {
    _spu_setReverbAttr((uint *)&param_5);
  }
  if (param_11 != 0) {
    SpuClearReverbWorkArea(DAT_8002a8f4);
  }
  if ((unaff_s4 != 0) && (FUN_800191c4(0xd1,DAT_8002a8ec,0), unaff_s7 != 0)) {
    *(ushort *)(SPUIOPortAddr + 0x1aa) = *(ushort *)(SPUIOPortAddr + 0x1aa) | 0x80;
  }
  return 0;
}



void S_SRMP_OBJ_4DC(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                   undefined param_9,undefined param_10,undefined4 param_11,undefined4 param_12,
                   undefined4 param_13,undefined4 param_14,undefined4 param_15,undefined4 param_16,
                   undefined4 param_17,undefined4 param_18,undefined4 param_19,undefined4 param_20)

{
  return;
}



void _spu_setReverbAttr(uint *param_1)

{
  bool bVar1;
  uint uVar2;
  
  uVar2 = *param_1;
  bVar1 = uVar2 == 0;
  if ((bVar1) || ((uVar2 & 1) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1c0) = *(undefined2 *)(param_1 + 1);
  }
  if ((bVar1) || ((uVar2 & 2) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1c2) = *(undefined2 *)((int)param_1 + 6);
  }
  if ((bVar1) || ((uVar2 & 4) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1c4) = *(undefined2 *)(param_1 + 2);
  }
  if ((bVar1) || ((uVar2 & 8) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1c6) = *(undefined2 *)((int)param_1 + 10);
  }
  if ((bVar1) || ((uVar2 & 0x10) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1c8) = *(undefined2 *)(param_1 + 3);
  }
  if ((bVar1) || ((uVar2 & 0x20) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1ca) = *(undefined2 *)((int)param_1 + 0xe);
  }
  if ((bVar1) || ((uVar2 & 0x40) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1cc) = *(undefined2 *)(param_1 + 4);
  }
  if ((bVar1) || ((uVar2 & 0x80) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1ce) = *(undefined2 *)((int)param_1 + 0x12);
  }
  if ((bVar1) || ((uVar2 & 0x100) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1d0) = *(undefined2 *)(param_1 + 5);
  }
  if ((bVar1) || ((uVar2 & 0x200) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1d2) = *(undefined2 *)((int)param_1 + 0x16);
  }
  if ((bVar1) || ((uVar2 & 0x400) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1d4) = *(undefined2 *)(param_1 + 6);
  }
  if ((bVar1) || ((uVar2 & 0x800) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1d6) = *(undefined2 *)((int)param_1 + 0x1a);
  }
  if ((bVar1) || ((uVar2 & 0x1000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1d8) = *(undefined2 *)(param_1 + 7);
  }
  if ((bVar1) || ((uVar2 & 0x2000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1da) = *(undefined2 *)((int)param_1 + 0x1e);
  }
  if ((bVar1) || ((uVar2 & 0x4000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1dc) = *(undefined2 *)(param_1 + 8);
  }
  if ((bVar1) || ((uVar2 & 0x8000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1de) = *(undefined2 *)((int)param_1 + 0x22);
  }
  if ((bVar1) || ((uVar2 & 0x10000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1e0) = *(undefined2 *)(param_1 + 9);
  }
  if ((bVar1) || ((uVar2 & 0x20000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1e2) = *(undefined2 *)((int)param_1 + 0x26);
  }
  if ((bVar1) || ((uVar2 & 0x40000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1e4) = *(undefined2 *)(param_1 + 10);
  }
  if ((bVar1) || ((uVar2 & 0x80000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1e6) = *(undefined2 *)((int)param_1 + 0x2a);
  }
  if ((bVar1) || ((uVar2 & 0x100000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1e8) = *(undefined2 *)(param_1 + 0xb);
  }
  if ((bVar1) || ((uVar2 & 0x200000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1ea) = *(undefined2 *)((int)param_1 + 0x2e);
  }
  if ((bVar1) || ((uVar2 & 0x400000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1ec) = *(undefined2 *)(param_1 + 0xc);
  }
  if ((bVar1) || ((uVar2 & 0x800000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1ee) = *(undefined2 *)((int)param_1 + 0x32);
  }
  if ((bVar1) || ((uVar2 & 0x1000000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1f0) = *(undefined2 *)(param_1 + 0xd);
  }
  if ((bVar1) || ((uVar2 & 0x2000000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1f2) = *(undefined2 *)((int)param_1 + 0x36);
  }
  if ((bVar1) || ((uVar2 & 0x4000000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 500) = *(undefined2 *)(param_1 + 0xe);
  }
  if ((bVar1) || ((uVar2 & 0x8000000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1f6) = *(undefined2 *)((int)param_1 + 0x3a);
  }
  if ((bVar1) || ((uVar2 & 0x10000000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1f8) = *(undefined2 *)(param_1 + 0xf);
  }
  if ((bVar1) || ((uVar2 & 0x20000000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1fa) = *(undefined2 *)((int)param_1 + 0x3e);
  }
  if ((bVar1) || ((uVar2 & 0x40000000) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1fc) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((bVar1) || ((int)uVar2 < 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1fe) = *(undefined2 *)((int)param_1 + 0x42);
  }
  return;
}



// Possible S_GRMP.OBJ/SpuGetReverbModeParam

void SpuGetReverbModeParam(SpuReverbAttr *attr)

{
  attr->mode = DAT_8002a8f4;
  attr->delay = DAT_8002a8fc;
  attr->feedback = DAT_8002a900;
  (attr->depth).left = DAT_8002a8f8;
  (attr->depth).right = DAT_8002a8fa;
  return;
}



long SpuSetReverbDepth(SpuReverbAttr *attr)

{
  uint uVar1;
  
  uVar1 = attr->mask;
  if ((uVar1 == 0) || ((uVar1 & 2) != 0)) {
    *(short *)(SPUIOPortAddr + 0x184) = (attr->depth).left;
    DAT_8002a8f8 = (attr->depth).left;
  }
  if ((uVar1 == 0) || ((uVar1 & 4) != 0)) {
    *(short *)(SPUIOPortAddr + 0x186) = (attr->depth).right;
    DAT_8002a8fa = (attr->depth).right;
  }
  return 0;
}



ulong SpuSetReverbVoice(long on_off,ulong voice_bit)

{
  uint uVar1;
  
  uVar1 = FUN_80019b80(on_off,voice_bit,0xcc,0xcd);
  return uVar1;
}



long SpuClearReverbWorkArea(long mode)

{
  bool bVar1;
  bool bVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  long lVar6;
  undefined in_a1;
  uint uVar7;
  uint in_a2;
  uint uVar8;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  uint uVar9;
  undefined4 unaff_s2;
  uint uVar10;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_retaddr;
  int iVar11;
  undefined in_stack_ffffffdc;
  
  iVar11 = 0;
  lVar6 = mode;
  if ((uint)mode < 10) {
    lVar6 = (&DAT_8002adac)[mode];
    iVar5 = FUN_80019f88(lVar6);
    iVar4 = SPUCallbackFunc;
    iVar3 = DAT_8002ad60;
    if (iVar5 == 0) {
      if (mode != 0) {
        iVar5 = (&DAT_8002adac)[mode];
        uVar9 = 0x10000 - iVar5 << (DAT_8002ad6c & 0x1f);
        uVar10 = iVar5 << (DAT_8002ad6c & 0x1f);
        bVar1 = DAT_8002ad60 == 1;
        if (bVar1) {
          DAT_8002ad60 = 0;
        }
        bVar2 = true;
        if (SPUCallbackFunc != 0) {
          SPUCallbackFunc = 0;
          iVar11 = iVar4;
        }
        do {
          if (uVar9 < 0x401) {
            bVar2 = false;
            uVar8 = uVar9;
          }
          else {
            uVar8 = 0x400;
          }
          uVar7 = uVar10;
          SPUTransferControl(2,uVar10,in_a2);
          SPUTransferControl(1,uVar7,in_a2);
          SPUTransferControl(3,(uint)&DAT_8002a93c,uVar8);
          uVar9 = uVar9 - 0x400;
          uVar10 = uVar10 + 0x400;
          WaitEvent(spuokaydone);
          in_a2 = uVar8;
        } while (bVar2);
        if (bVar1) {
          DAT_8002ad60 = iVar3;
        }
        if (iVar11 != 0) {
          SPUCallbackFunc = iVar11;
        }
        return 0;
      }
      lVar6 = S_CRWA_OBJ_9C((char)lVar6,in_a1,(char)in_a2,in_a3,iVar11);
      return lVar6;
    }
  }
  lVar6 = S_CRWA_OBJ_174((char)lVar6,in_a1,(char)in_a2,in_a3,(char)iVar11,in_stack_ffffffdc,unaff_s0
                         ,unaff_s1,unaff_s2,unaff_s3,unaff_s4,unaff_s5,unaff_retaddr);
  return lVar6;
}



undefined4
S_CRWA_OBJ_9C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,int param_5)

{
  bool bVar1;
  bool bVar2;
  int iVar3;
  uint uVar4;
  undefined3 in_register_00000019;
  uint uVar5;
  uint uVar6;
  uint unaff_s1;
  uint unaff_s2;
  int unaff_s5;
  
  iVar3 = DAT_8002ad60;
  if (DAT_8002ad60 == 1) {
    DAT_8002ad60 = 0;
    unaff_s5 = 1;
  }
  bVar2 = true;
  if (SPUCallbackFunc != 0) {
    param_5 = SPUCallbackFunc;
    SPUCallbackFunc = 0;
  }
  bVar1 = unaff_s1 < 0x401;
  uVar5 = CONCAT31(in_register_00000019,param_3);
  do {
    if (bVar1) {
      bVar2 = false;
      uVar6 = unaff_s1;
    }
    else {
      uVar6 = 0x400;
    }
    uVar4 = unaff_s2;
    SPUTransferControl(2,unaff_s2,uVar5);
    SPUTransferControl(1,uVar4,uVar5);
    SPUTransferControl(3,(uint)&DAT_8002a93c,uVar6);
    unaff_s1 = unaff_s1 - 0x400;
    unaff_s2 = unaff_s2 + 0x400;
    WaitEvent(spuokaydone);
    bVar1 = unaff_s1 < 0x401;
    uVar5 = uVar6;
  } while (bVar2);
  if (unaff_s5 != 0) {
    DAT_8002ad60 = iVar3;
  }
  if (param_5 != 0) {
    SPUCallbackFunc = param_5;
  }
  return 0;
}



undefined4
S_CRWA_OBJ_100(undefined4 param_1,undefined4 param_2,uint param_3,undefined4 param_4,int param_5)

{
  uint uVar1;
  uint unaff_s0;
  uint unaff_s1;
  uint unaff_s2;
  int unaff_s3;
  undefined4 unaff_s4;
  int unaff_s5;
  
  while( true ) {
    uVar1 = unaff_s2;
    SPUTransferControl(2,unaff_s2,param_3);
    SPUTransferControl(1,uVar1,param_3);
    SPUTransferControl(3,(uint)&DAT_8002a93c,unaff_s0);
    unaff_s1 = unaff_s1 - 0x400;
    unaff_s2 = unaff_s2 + 0x400;
    WaitEvent(spuokaydone);
    if (unaff_s3 == 0) break;
    param_3 = unaff_s0;
    if (unaff_s1 < 0x401) {
      unaff_s3 = 0;
      unaff_s0 = unaff_s1;
    }
    else {
      unaff_s0 = 0x400;
    }
  }
  if (unaff_s5 != 0) {
    DAT_8002ad60 = unaff_s4;
  }
  if (param_5 != 0) {
    SPUCallbackFunc = param_5;
  }
  return 0;
}



void S_CRWA_OBJ_174(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8,
                   undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12,
                   undefined4 param_13)

{
  return;
}



long SpuReadDecodedData(SpuDecodedData *d_data,long flag)

{
  bool bVar1;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined in_a3;
  undefined4 unaff_retaddr;
  
  if (flag == 5) {
    bVar1 = S_RDD_OBJ_40(d_data,0,0x20,in_a3,unaff_retaddr);
    return CONCAT31(extraout_var_00,bVar1);
  }
  if (flag != 6) {
    bVar1 = S_RDD_OBJ_3C(d_data,0);
    return CONCAT31(extraout_var,bVar1);
  }
  bVar1 = S_RDD_OBJ_40(d_data->voice1,0x100,0x20,in_a3,unaff_retaddr);
  return CONCAT31(extraout_var_01,bVar1);
}



bool S_RDD_OBJ_3C(undefined4 param_1,undefined4 param_2)

{
  FUN_80018d88(param_1,(undefined2)param_2,0x40);
  return (*(ushort *)(SPUIOPortAddr + 0x1ae) & 0x800) != 0;
}



bool S_RDD_OBJ_40(undefined4 param_1,undefined2 param_2,int param_3,undefined param_4,
                 undefined4 param_5)

{
  FUN_80018d88(param_1,param_2,param_3);
  return (*(ushort *)(SPUIOPortAddr + 0x1ae) & 0x800) != 0;
}



void SetVoicestoRelease(int param_1,uint VoicestoRelease)

{
  uint VoicestoStartRelease;
  ushort VoicestoReleaseLower;
  ushort VoicestoReleaseUpper;
  undefined *SPUAddr;
  
  SPUAddr = SPUIOPortAddr;
  VoicestoStartRelease = VoicestoRelease & 0xffffff;
  VoicestoReleaseLower = (ushort)VoicestoStartRelease;
  VoicestoReleaseUpper = (ushort)(VoicestoStartRelease >> 0x10);
  if (param_1 == 0) {
    if ((DAT_8002ad3c & 1) == 0) {
      *(ushort *)(SPUIOPortAddr + 0x18c) = VoicestoReleaseLower;
      *(ushort *)(SPUAddr + 0x18e) = VoicestoReleaseUpper;
      DAT_8002a8dc = ~VoicestoStartRelease & DAT_8002a8dc;
    }
    else {
      DAT_8002a908 = DAT_8002a908 | 1;
      DAT_8002a904 = ~VoicestoStartRelease & DAT_8002a904;
      if ((DAT_80037080 & VoicestoStartRelease) != 0) {
        DAT_80037080 = DAT_80037080 & (ushort)~VoicestoStartRelease;
      }
      DAT_80037084 = VoicestoReleaseLower;
      DAT_80037086 = VoicestoReleaseUpper;
      if (((uint)DAT_80037082 & VoicestoStartRelease >> 0x10) != 0) {
        DAT_80037082 = DAT_80037082 & ~VoicestoReleaseUpper;
      }
    }
  }
  else if (param_1 == 1) {
    if ((DAT_8002ad3c & 1) == 0) {
      DAT_8002a8dc = VoicestoStartRelease | DAT_8002a8dc;
      *(ushort *)(SPUIOPortAddr + 0x188) = VoicestoReleaseLower;
      *(ushort *)(SPUAddr + 0x18a) = VoicestoReleaseUpper;
    }
    else {
      DAT_8002a908 = DAT_8002a908 | 1;
      DAT_8002a904 = VoicestoStartRelease | DAT_8002a904;
      if ((DAT_80037084 & VoicestoStartRelease) != 0) {
        DAT_80037084 = DAT_80037084 & ~VoicestoReleaseLower;
      }
      DAT_80037080 = VoicestoReleaseLower;
      DAT_80037082 = VoicestoReleaseUpper;
      if (((uint)DAT_80037086 & VoicestoStartRelease >> 0x10) != 0) {
        DAT_80037086 = DAT_80037086 & ~VoicestoReleaseUpper;
      }
    }
  }
  return;
}



void FUN_8001aef4(uint param_1,undefined2 *param_2,ushort *param_3)

{
  ushort uVar1;
  int iVar2;
  
  uVar1 = *(ushort *)(SPUIOPortAddr + (param_1 << 4 | 0xc));
  *param_3 = uVar1;
  iVar2 = (uint)uVar1 << 0x10;
  if ((1 << (param_1 & 0x1f) & DAT_8002a8dc) == 0) {
    if (iVar2 < 1) {
      *param_2 = 0;
    }
    else {
      *param_2 = 2;
    }
  }
  else if (iVar2 < 1) {
    *param_2 = 3;
  }
  else {
    *param_2 = 1;
  }
  return;
}



uint FUN_8001af64(undefined2 *param_1,uint param_2,uint param_3)

{
  if (0x7eff0 < param_2) {
    param_2 = 0x7eff0;
  }
  FUN_800190d4(param_1,param_2,param_3);
  if (SPUCallbackFunc == 0) {
    DAT_8002ad78 = 0;
  }
  return param_2;
}



uint FUN_8001afc4(uint param_1)

{
  uint uVar1;
  
  if (param_1 - 0x1010 < 0x7efe9) {
    uVar1 = FUN_8001920c(-1,param_1);
    CurrentSpuDataTransferInstr = (undefined2)uVar1;
    uVar1 = uVar1 & 0xffff;
  }
  else {
    uVar1 = 0;
  }
  return uVar1;
}



long SpuSetTransferMode(long mode)

{
  long lVar1;
  
  if ((mode != 0) && (mode == 1)) {
    lVar1 = S_STM_OBJ_1C(1);
    return lVar1;
  }
  DAT_8002a8e0 = mode;
  DAT_8002ad60 = 0;
  return 0;
}



void S_STM_OBJ_1C(undefined4 param_1)

{
  undefined4 in_v0;
  
  DAT_8002a8e0 = param_1;
  DAT_8002ad60 = in_v0;
  return;
}



// Possible S_STC.OBJ/SpuSetTransferCallback

SpuTransferCallbackProc SpuSetTransferCallback(SpuTransferCallbackProc func)

{
  SpuTransferCallbackProc pSVar1;
  
  pSVar1 = SPUCallbackFunc;
  if (func != SPUCallbackFunc) {
    SPUCallbackFunc = func;
  }
  return pSVar1;
}



ulong SpuSetPitchLFOVoice(long on_off,ulong voice_bit)

{
  uint uVar1;
  
  uVar1 = FUN_80019b80(on_off,voice_bit,200,0xc9);
  return uVar1;
}



void FUN_8001b094(uint *param_1)

{
  bool bVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  uint uVar5;
  
  uVar3 = 0;
  uVar5 = *param_1;
  bVar1 = uVar5 == 0;
  uVar4 = 0;
  if (bVar1) {
LAB_8001b0c4:
    switch(*(undefined2 *)(param_1 + 2)) {
    default:
switchD_8001b0e8_caseD_0:
      uVar3 = *(ushort *)(param_1 + 1);
      uVar2 = 0;
      break;
    case 1:
      uVar2 = 0x8000;
      break;
    case 2:
      uVar2 = 0x9000;
      break;
    case 3:
      uVar2 = 0xa000;
      break;
    case 4:
      uVar2 = 0xb000;
      break;
    case 5:
      uVar2 = 0xc000;
      break;
    case 6:
      uVar2 = 0xd000;
      break;
    case 7:
      uVar2 = 0xe000;
    }
    if (uVar2 != 0) {
      uVar3 = *(ushort *)(param_1 + 1);
      if ((short)uVar3 < 0x80) {
        if ((short)uVar3 < 0) {
          uVar3 = 0;
        }
      }
      else {
        uVar3 = 0x7f;
      }
    }
    *(ushort *)(SPUIOPortAddr + 0x180) = uVar3 & 0x7fff | uVar2;
  }
  else if ((uVar5 & 1) != 0) {
    if ((uVar5 & 4) != 0) goto LAB_8001b0c4;
    goto switchD_8001b0e8_caseD_0;
  }
  if (bVar1) {
LAB_8001b18c:
    switch(*(undefined2 *)((int)param_1 + 10)) {
    default:
      goto switchD_8001b1b0_caseD_0;
    case 1:
      uVar3 = 0x8000;
      break;
    case 2:
      uVar3 = 0x9000;
      break;
    case 3:
      uVar3 = 0xa000;
      break;
    case 4:
      uVar3 = 0xb000;
      break;
    case 5:
      uVar3 = 0xc000;
      break;
    case 6:
      uVar3 = 0xd000;
      break;
    case 7:
      uVar3 = 0xe000;
    }
  }
  else {
    if ((uVar5 & 2) == 0) goto LAB_8001b23c;
    if ((uVar5 & 8) != 0) goto LAB_8001b18c;
switchD_8001b1b0_caseD_0:
    uVar4 = *(ushort *)((int)param_1 + 6);
    uVar3 = 0;
  }
  if (uVar3 != 0) {
    uVar4 = *(ushort *)((int)param_1 + 6);
    if ((short)uVar4 < 0x80) {
      if ((short)uVar4 < 0) {
        uVar4 = 0;
      }
    }
    else {
      uVar4 = 0x7f;
    }
  }
  *(ushort *)(SPUIOPortAddr + 0x182) = uVar4 & 0x7fff | uVar3;
LAB_8001b23c:
  if ((bVar1) || ((uVar5 & 0x40) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1b0) = *(undefined2 *)(param_1 + 4);
  }
  if ((bVar1) || ((uVar5 & 0x80) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1b2) = *(undefined2 *)((int)param_1 + 0x12);
  }
  if ((bVar1) || ((uVar5 & 0x400) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1b4) = *(undefined2 *)(param_1 + 7);
  }
  if ((bVar1) || ((uVar5 & 0x800) != 0)) {
    *(undefined2 *)(SPUIOPortAddr + 0x1b6) = *(undefined2 *)((int)param_1 + 0x1e);
  }
  if ((bVar1) || ((uVar5 & 0x100) != 0)) {
    if (param_1[5] == 0) {
      uVar3 = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xfffb;
    }
    else {
      uVar3 = *(ushort *)(SPUIOPortAddr + 0x1aa) | 4;
    }
    *(ushort *)(SPUIOPortAddr + 0x1aa) = uVar3;
  }
  if ((bVar1) || ((uVar5 & 0x200) != 0)) {
    if (param_1[6] == 0) {
      uVar3 = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xfffe;
    }
    else {
      uVar3 = *(ushort *)(SPUIOPortAddr + 0x1aa) | 1;
    }
    *(ushort *)(SPUIOPortAddr + 0x1aa) = uVar3;
  }
  if ((bVar1) || ((uVar5 & 0x1000) != 0)) {
    if (param_1[8] == 0) {
      uVar3 = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xfff7;
    }
    else {
      uVar3 = *(ushort *)(SPUIOPortAddr + 0x1aa) | 8;
    }
    *(ushort *)(SPUIOPortAddr + 0x1aa) = uVar3;
  }
  if ((bVar1) || ((uVar5 & 0x2000) != 0)) {
    if (param_1[9] == 0) {
      uVar3 = *(ushort *)(SPUIOPortAddr + 0x1aa) & 0xfffd;
    }
    else {
      uVar3 = *(ushort *)(SPUIOPortAddr + 0x1aa) | 2;
    }
    *(ushort *)(SPUIOPortAddr + 0x1aa) = uVar3;
  }
  return;
}



void FUN_8001b428(int param_1,ushort param_2,ushort param_3)

{
  ushort *puVar1;
  int local_8;
  
  puVar1 = (ushort *)(SPUIOPortAddr + param_1 * 0x10);
  *puVar1 = param_2 & 0x7fff;
  puVar1[1] = param_3 & 0x7fff;
  for (local_8 = 0; local_8 < 2; local_8 = local_8 + 1) {
  }
  return;
}



void FUN_8001b4b0(int param_1,ushort param_2,ushort param_3,int param_4,ushort param_5)

{
  ushort uVar1;
  ushort uVar2;
  int local_8;
  
  uVar2 = 0;
  switch((param_4 + -1) * 0x10000 >> 0x10) {
  case 0:
    uVar2 = 0x8000;
    break;
  case 1:
    uVar2 = 0x9000;
    break;
  case 2:
    uVar2 = 0xa000;
    break;
  case 3:
    uVar2 = 0xb000;
    break;
  case 4:
    uVar2 = 0xc000;
    break;
  case 5:
    uVar2 = 0xd000;
    break;
  case 6:
    uVar2 = 0xe000;
  }
  uVar1 = 0;
  *(ushort *)(SPUIOPortAddr + param_1 * 0x10) = param_2 & 0x7fff | uVar2;
  switch((int)((param_5 - 1) * 0x10000) >> 0x10) {
  case 0:
    uVar1 = 0x8000;
    break;
  case 1:
    uVar1 = 0x9000;
    break;
  case 2:
    uVar1 = 0xa000;
    break;
  case 3:
    uVar1 = 0xb000;
    break;
  case 4:
    uVar1 = 0xc000;
    break;
  case 5:
    uVar1 = 0xd000;
    break;
  case 6:
    uVar1 = 0xe000;
  }
  *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 2) = param_3 & 0x7fff | uVar1;
  for (local_8 = 0; local_8 < 2; local_8 = local_8 + 1) {
  }
  return;
}



void FUN_8001b628(int param_1,undefined2 param_2)

{
  int local_8;
  
  *(undefined2 *)(SPUIOPortAddr + param_1 * 0x10 + 4) = param_2;
  for (local_8 = 0; local_8 < 2; local_8 = local_8 + 1) {
  }
  return;
}



void FUN_8001b6a4(int param_1,uint param_2)

{
  int local_10;
  
  FUN_8001920c(param_1 << 3 | 3,param_2);
  for (local_10 = 0; local_10 < 2; local_10 = local_10 + 1) {
  }
  return;
}



void FUN_8001b720(int param_1,uint param_2)

{
  int local_10;
  
  FUN_8001920c(param_1 << 3 | 7,param_2);
  for (local_10 = 0; local_10 < 2; local_10 = local_10 + 1) {
  }
  return;
}



void FUN_8001b79c(int param_1,int param_2)

{
  int local_8;
  
  *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 8) =
       *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 8) & 0xff0f | (ushort)(param_2 << 4);
  for (local_8 = 0; local_8 < 2; local_8 = local_8 + 1) {
  }
  return;
}



void SetVoiceReleaseShift(int VoiceID,ushort param_2)

{
  int stackbuf;
  
  *(ushort *)(SPUIOPortAddr + VoiceID * 0x10 + 10) =
       *(ushort *)(SPUIOPortAddr + VoiceID * 0x10 + 10) & 0xffc0 | param_2;
  for (stackbuf = 0; stackbuf < 2; stackbuf = stackbuf + 1) {
  }
  return;
}



void FUN_8001b8b0(int param_1,ushort param_2)

{
  int local_8;
  
  *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 8) =
       *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 8) & 0xfff0 | param_2;
  for (local_8 = 0; local_8 < 2; local_8 = local_8 + 1) {
  }
  return;
}



void FUN_8001b938(int param_1,uint param_2,int param_3)

{
  int local_8;
  
  *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 8) =
       *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 8) & 0xff |
       (ushort)((param_2 | (uint)(param_3 == 5) << 7) << 8);
  for (local_8 = 0; local_8 < 2; local_8 = local_8 + 1) {
  }
  return;
}



void FUN_8001b9d4(int param_1,uint param_2,int param_3)

{
  uint uVar1;
  int local_8;
  
  uVar1 = 0x100;
  if (param_3 == 5) {
    uVar1 = 0x200;
  }
  else if (param_3 < 6) {
    if (param_3 == 1) {
      uVar1 = 0;
    }
  }
  else if (param_3 == 7) {
    uVar1 = 0x300;
  }
  *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 10) =
       *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 10) & 0x3f | (ushort)((param_2 | uVar1) << 6);
  for (local_8 = 0; local_8 < 2; local_8 = local_8 + 1) {
  }
  return;
}



void FUN_8001bab8(int param_1,ushort param_2,int param_3)

{
  ushort uVar1;
  int local_8;
  
  uVar1 = 0;
  if (param_3 != 3) {
    uVar1 = (ushort)(param_3 == 7) << 5;
  }
  *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 10) =
       *(ushort *)(SPUIOPortAddr + param_1 * 0x10 + 10) & 0xffc0 | param_2 | uVar1;
  for (local_8 = 0; local_8 < 2; local_8 = local_8 + 1) {
  }
  return;
}



int rsin(int a)

{
  int iVar1;
  uint uVar2;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_retaddr;
  
  if (-1 < a) {
    uVar2 = a & 0xfff;
    sin_1(uVar2);
    iVar1 = GEO_00_OBJ_2C((char)uVar2,in_a1,in_a2,in_a3,unaff_retaddr);
    return iVar1;
  }
  iVar1 = sin_1(-a & 0xfff);
  return -iVar1;
}



void GEO_00_OBJ_2C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                  undefined4 param_5)

{
  return;
}



int sin_1(int param_1)

{
  int iVar1;
  
  if (0x800 < param_1) {
    if (0xc00 < param_1) {
      iVar1 = GEO_00_OBJ_C4();
      return iVar1;
    }
    return -(int)*(short *)(&DAT_8002a0a4 + param_1 * 2);
  }
  if (param_1 < 0x401) {
    iVar1 = GEO_00_OBJ_C4();
    return iVar1;
  }
  iVar1 = GEO_00_OBJ_C4();
  return iVar1;
}



void GEO_00_OBJ_C4(void)

{
  return;
}



int rcos(int a)

{
  int iVar1;
  uint uVar2;
  
  if (a < 0) {
    a = -a;
  }
  uVar2 = a & 0xfff;
  if (uVar2 < 0x801) {
    if (uVar2 < 0x401) {
      iVar1 = GEO_01_OBJ_98();
      return iVar1;
    }
    iVar1 = GEO_01_OBJ_98();
    return iVar1;
  }
  if (0xc00 < uVar2) {
    iVar1 = GEO_01_OBJ_98();
    return iVar1;
  }
  return -(int)*(short *)(&DAT_8002b0a4 + (0xc00 - uVar2) * 2);
}



void GEO_01_OBJ_98(void)

{
  return;
}



undefined4 csqrt_1(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;
  int local_3c [3];
  int in_stack_ffffffd0;
  undefined4 in_stack_ffffffd8;
  undefined4 in_stack_ffffffdc;
  undefined in_stack_ffffffe0;
  int aiStack_18 [3];
  int in_stack_fffffff4;
  
  uVar5 = 1;
  piVar4 = local_3c;
  iVar2 = param_1 + -0x5d50ad;
  local_3c[0] = param_1 + 0x5d50ad;
  do {
    if (uVar5 == 4) {
      iVar3 = in_stack_ffffffd0 >> 4;
      if (aiStack_18[2] < 0) {
        in_stack_ffffffd0 = (aiStack_18[2] >> 4) + in_stack_ffffffd0;
        iVar3 = iVar3 + aiStack_18[2];
        if (-1 < iVar3) {
          uVar1 = COR_05_OBJ_130(aiStack_18[2],in_stack_ffffffd0,piVar4,4,in_stack_ffffffd0,
                                 in_stack_ffffffd0 - (iVar3 >> 4),in_stack_ffffffd8,
                                 in_stack_ffffffdc,in_stack_ffffffe0,(char)iVar2,in_stack_fffffff4);
          return uVar1;
        }
      }
      else {
        in_stack_ffffffd0 = in_stack_ffffffd0 - (aiStack_18[2] >> 4);
        iVar3 = aiStack_18[2] - iVar3;
        if (-1 < iVar3) {
          uVar1 = COR_05_OBJ_130(aiStack_18[2],in_stack_ffffffd0,piVar4,4,in_stack_ffffffd0,
                                 in_stack_ffffffd0 - (iVar3 >> 4),in_stack_ffffffd8,
                                 in_stack_ffffffdc,in_stack_ffffffe0,(char)iVar2,in_stack_fffffff4);
          return uVar1;
        }
      }
      in_stack_fffffff4 = (in_stack_ffffffd0 >> 4) + iVar3;
      aiStack_18[2] = iVar3;
    }
    else {
      iVar3 = piVar4[8];
      if (iVar3 < 0) {
        piVar4[1] = (iVar3 >> (uVar5 & 0x1f)) + *piVar4;
        *(int *)(&stack0xffffffe4 + uVar5 * 4) = (*piVar4 >> (uVar5 & 0x1f)) + piVar4[8];
      }
      else {
        piVar4[1] = *piVar4 - (iVar3 >> (uVar5 & 0x1f));
        *(int *)(&stack0xffffffe4 + uVar5 * 4) = piVar4[8] - (*piVar4 >> (uVar5 & 0x1f));
      }
    }
    uVar5 = uVar5 + 1;
    piVar4 = piVar4 + 1;
  } while ((int)uVar5 < 7);
  return in_stack_ffffffdc;
}



undefined4
COR_05_OBJ_130(undefined4 param_1,undefined4 param_2,int *param_3,uint param_4,int param_5,
              undefined4 param_6,undefined4 param_7,undefined4 param_8,undefined param_9,
              undefined param_10,undefined4 param_11)

{
  int iVar1;
  undefined4 uVar2;
  int in_v0;
  int iVar3;
  int *piVar4;
  int in_t0;
  int in_stack_00000030;
  
  do {
    while( true ) {
      iVar3 = in_stack_00000030;
      param_4 = param_4 + 1;
      piVar4 = param_3 + 1;
      if (6 < (int)param_4) {
        return param_8;
      }
      if (param_4 == 4) break;
      iVar3 = param_3[9];
      if (iVar3 < 0) {
        param_3[2] = (iVar3 >> (param_4 & 0x1f)) + *piVar4;
        *(int *)(in_t0 + param_4 * 4) = (*piVar4 >> (param_4 & 0x1f)) + param_3[9];
        param_3 = piVar4;
      }
      else {
        param_3[2] = *piVar4 - (iVar3 >> (param_4 & 0x1f));
        *(int *)(in_t0 + param_4 * 4) = param_3[9] - (*piVar4 >> (param_4 & 0x1f));
        param_3 = piVar4;
      }
    }
    iVar1 = param_5 >> 4;
    if (in_stack_00000030 < 0) {
      param_5 = (in_stack_00000030 >> 4) + param_5;
      in_stack_00000030 = iVar1 + in_stack_00000030;
      if (-1 < in_stack_00000030) {
        uVar2 = COR_05_OBJ_130(iVar3,param_5,piVar4,4,param_5,param_5 - (in_stack_00000030 >> 4),
                               param_7,param_8,param_9,param_10,in_v0);
        return uVar2;
      }
    }
    else {
      param_5 = param_5 - (in_stack_00000030 >> 4);
      in_stack_00000030 = in_stack_00000030 - iVar1;
      if (-1 < in_stack_00000030) {
        uVar2 = COR_05_OBJ_130(iVar3,param_5,piVar4,4,param_5,param_5 - (in_stack_00000030 >> 4),
                               param_7,param_8,param_9,param_10,in_v0);
        return uVar2;
      }
    }
    in_v0 = (param_5 >> 4) + in_stack_00000030;
    param_3 = piVar4;
  } while( true );
}



undefined4
COR_05_OBJ_134(undefined4 param_1,undefined4 param_2,int *param_3,uint param_4,int param_5,
              undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  undefined4 uVar1;
  int iVar2;
  int *piVar3;
  int in_t0;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  int in_stack_00000030;
  int in_stack_00000034;
  
  do {
    while( true ) {
      param_4 = param_4 + 1;
      piVar3 = param_3 + 1;
      if (6 < (int)param_4) {
        return param_8;
      }
      if (param_4 == 4) break;
      iVar2 = param_3[9];
      if (iVar2 < 0) {
        param_3[2] = (iVar2 >> (param_4 & 0x1f)) + *piVar3;
        *(int *)(in_t0 + param_4 * 4) = (*piVar3 >> (param_4 & 0x1f)) + param_3[9];
        param_3 = piVar3;
      }
      else {
        param_3[2] = *piVar3 - (iVar2 >> (param_4 & 0x1f));
        *(int *)(in_t0 + param_4 * 4) = param_3[9] - (*piVar3 >> (param_4 & 0x1f));
        param_3 = piVar3;
      }
    }
    iVar2 = param_5 >> 4;
    if (in_stack_00000030 < 0) {
      param_5 = (in_stack_00000030 >> 4) + param_5;
      iVar2 = iVar2 + in_stack_00000030;
      if (-1 < iVar2) {
        uVar1 = COR_05_OBJ_130(in_stack_00000030,param_5,piVar3,4,param_5,param_5 - (iVar2 >> 4),
                               param_7,param_8,in_stack_00000020,in_stack_00000024,in_stack_00000034
                              );
        return uVar1;
      }
    }
    else {
      param_5 = param_5 - (in_stack_00000030 >> 4);
      iVar2 = in_stack_00000030 - iVar2;
      if (-1 < iVar2) {
        uVar1 = COR_05_OBJ_130(in_stack_00000030,param_5,piVar3,4,param_5,param_5 - (iVar2 >> 4),
                               param_7,param_8,in_stack_00000020,in_stack_00000024,in_stack_00000034
                              );
        return uVar1;
      }
    }
    in_stack_00000034 = (param_5 >> 4) + iVar2;
    param_3 = piVar3;
    in_stack_00000030 = iVar2;
  } while( true );
}



int csqrt(int a)

{
  int iVar1;
  long lVar2;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  uint uVar3;
  undefined4 unaff_s1;
  undefined4 unaff_retaddr;
  
  if (a == 0) {
    iVar1 = COR_05_OBJ_1D8(0,in_a1,in_a2,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return iVar1;
  }
  lVar2 = Lzc(a);
  uVar3 = 8 - lVar2 >> 1;
  if (-1 < 8 - lVar2) {
    iVar1 = COR_05_OBJ_1AC(a >> ((uVar3 & 0xf) << 1));
    return iVar1;
  }
  iVar1 = a << ((uVar3 + 1) * -2 & 0x1f);
  if ((int)(uVar3 - 5) < 0) {
    csqrt_1(iVar1);
    iVar1 = COR_05_OBJ_1D8((char)iVar1,in_a1,in_a2,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return iVar1;
  }
  iVar1 = csqrt_1(iVar1);
  return iVar1 << (uVar3 - 5 & 0x1f);
}



int COR_05_OBJ_1AC(int param_1)

{
  int iVar1;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  int unaff_s0;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  
  if ((int)(unaff_s0 - 6U) < 0) {
    csqrt_1(param_1);
    iVar1 = COR_05_OBJ_1D8((char)param_1,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,
                           in_stack_00000018);
    return iVar1;
  }
  iVar1 = csqrt_1(param_1);
  return iVar1 << (unaff_s0 - 6U & 0x1f);
}



void COR_05_OBJ_1D8(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  return;
}



void InitGeom(void)

{
  undefined4 unaff_retaddr;
  
  DAT_8002b8a8 = unaff_retaddr;
  _patch_gte();
  setCopReg(0,Status,Status | 0x40000000,0);
  gte_ldZSF3(0x155);
  gte_ldZSF4(0x100);
  gte_ldH(1000);
  gte_ldDQA(0xffffef9e);
  gte_ldDQB(0x1400000);
  gte_ldOFX(0);
  gte_ldOFY(0);
  return;
}



// WARNING: Instruction at (ram,0x8001bf80) overlaps instruction at (ram,0x8001bf7c)
// 

long SquareRoot0(long a)

{
  uint uVar1;
  int iVar2;
  
  gte_ldLZCS(a);
  uVar1 = gte_stLZCR();
  if (uVar1 != 0x20) {
    uVar1 = uVar1 & 0xfffffffe;
    if ((int)(uVar1 - 0x18) < 0) {
      iVar2 = a >> (0x18 - uVar1 & 0x1f);
    }
    else {
      iVar2 = a << (uVar1 - 0x18 & 0x1f);
    }
    return (uint)((int)*(short *)(&DAT_8002b8b8 + (iVar2 + -0x40) * 2) <<
                 ((int)(0x1f - uVar1) >> 1 & 0x1fU)) >> 0xc;
  }
  return 0;
}



// WARNING: Instruction at (ram,0x8001c018) overlaps instruction at (ram,0x8001c014)
// 

void InvSquareRoot(long a,long *b,long *c)

{
  short sVar1;
  uint uVar2;
  int iVar3;
  
  gte_ldLZCS(a);
  uVar2 = gte_stLZCR();
  if ((uVar2 != 0x20) && (uVar2 != 0)) {
    uVar2 = uVar2 & 0xfffffffe;
    if ((int)(uVar2 - 0x18) < 0) {
      iVar3 = a >> (0x18 - uVar2 & 0x1f);
    }
    else {
      iVar3 = a << (uVar2 - 0x18 & 0x1f);
    }
    sVar1 = *(short *)(&DAT_8002ba4c + (iVar3 + -0x40) * 2);
    *c = (int)(0x1f - uVar2) >> 1;
    *b = (int)sVar1;
    return;
  }
  return;
}



long VectorNormalS(VECTOR *_2,SVECTOR *_3)

{
  long lVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  
  sVar2 = (short)_2->vx;
  sVar3 = (short)_2->vy;
  sVar4 = (short)_2->vz;
  lVar1 = MSC02_OBJ_FC();
  _3->vx = sVar2;
  _3->vy = sVar3;
  _3->vz = sVar4;
  return lVar1;
}



long VectorNormal(VECTOR *_2,VECTOR *_3)

{
  long lVar1;
  long lVar2;
  long lVar3;
  long lVar4;
  
  lVar2 = _2->vx;
  lVar3 = _2->vy;
  lVar4 = _2->vz;
  lVar1 = MSC02_OBJ_FC();
  _3->vx = lVar2;
  _3->vy = lVar3;
  _3->vz = lVar4;
  return lVar1;
}



long VectorNormalSS(SVECTOR *_2,SVECTOR *_3)

{
  long lVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  
  sVar2 = _2->vx;
  sVar3 = _2->vy;
  sVar4 = _2->vz;
  lVar1 = MSC02_OBJ_FC();
  _3->vx = sVar2;
  _3->vy = sVar3;
  _3->vz = sVar4;
  return lVar1;
}



void MSC02_OBJ_FC(void)

{
  int iVar1;
  uint uVar2;
  undefined4 in_t0;
  undefined4 in_t1;
  undefined4 in_t2;
  int in_t3;
  uint uVar3;
  int in_t4;
  int in_t5;
  
  gte_ldsv_(in_t0,in_t1,in_t2);
  gte_sqr0_b(0);
  read_mt(in_t3,in_t4,in_t5);
  iVar1 = in_t3 + in_t4 + in_t5;
  gte_ldLZCS(iVar1);
  uVar2 = gte_stLZCR();
  uVar3 = (uVar2 & 0xfffffffe) - 0x18;
  if ((int)uVar3 < 0) {
    iVar1 = iVar1 >> (0x18 - (uVar2 & 0xfffffffe) & 0x1f);
  }
  else {
    iVar1 = iVar1 << (uVar3 & 0x1f);
  }
  gte_ldIR0((int)*(short *)(&DAT_8002ba4c + (iVar1 + -0x40) * 2));
  gte_ldsv_(in_t0,in_t1,in_t2);
  gte_gpf0(0);
  read_mt(in_t0,in_t1,in_t2);
  return;
}



void MatrixNormal(MATRIX *m,MATRIX *n)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  short sVar4;
  short sVar5;
  int iVar6;
  short sVar7;
  short sVar8;
  int iVar9;
  short sVar10;
  short sVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  undefined4 in_t7;
  undefined4 in_t8;
  undefined4 in_t9;
  
  iVar6 = (int)m->m[0];
  iVar9 = (int)m->m[1];
  iVar12 = (int)m->m[2];
  iVar13 = (int)m->m[1][0];
  iVar14 = (int)m->m[1][1];
  iVar15 = (int)m->m[1][2];
  uVar1 = gte_stR11R12();
  uVar2 = gte_stR22R23();
  uVar3 = gte_stR33();
  gte_ldR11R12(iVar6);
  gte_ldR22R23(iVar9);
  gte_ldR33(iVar12);
  gte_ldIR3(iVar15);
  gte_ldIR1(iVar13);
  gte_ldIR2(iVar14);
  gte_op12_b();
  read_mt(in_t7,in_t8,in_t9);
  gte_ldR11R12(iVar13);
  gte_ldR22R23(iVar14);
  gte_ldR33(iVar15);
  gte_op12_b();
  gte_ldVXY0(iVar13);
  gte_ldVZ0(iVar14);
  gte_ldVXY1(iVar15);
  read_mt(iVar6,iVar9,iVar12);
  gte_ldR11R12(uVar1);
  gte_ldR22R23(uVar2);
  gte_ldR33(uVar3);
  MSC02_OBJ_FC();
  sVar11 = (short)in_t9;
  sVar8 = (short)in_t8;
  sVar5 = (short)in_t7;
  n->m[0] = (short)iVar6;
  n->m[1] = (short)iVar9;
  n->m[2] = (short)iVar12;
  uVar1 = gte_stVXY0();
  sVar4 = (short)uVar1;
  uVar1 = gte_stVZ0();
  sVar7 = (short)uVar1;
  uVar1 = gte_stVXY1();
  sVar10 = (short)uVar1;
  MSC02_OBJ_FC();
  n->m[1][0] = sVar4;
  n->m[1][1] = sVar7;
  n->m[1][2] = sVar10;
  MSC02_OBJ_FC();
  n->m[2][0] = sVar5;
  n->m[2][1] = sVar8;
  n->m[2][2] = sVar11;
  return;
}



// WARNING: Instruction at (ram,0x8001c2b0) overlaps instruction at (ram,0x8001c2ac)
// 

long SquareRoot12(long a)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  
  gte_ldLZCS(a);
  uVar1 = gte_stLZCR();
  if (uVar1 == 0x20) {
    return 0;
  }
  uVar1 = uVar1 & 0xfffffffe;
  uVar2 = (int)(0x13 - uVar1) >> 1;
  if ((int)(uVar1 - 0x18) < 0) {
    iVar3 = a >> (0x18 - uVar1 & 0x1f);
  }
  else {
    iVar3 = a << (uVar1 - 0x18 & 0x1f);
  }
  if (-1 < (int)uVar2) {
    return (int)*(short *)(&DAT_8002b8b8 + (iVar3 + -0x40) * 2) << (uVar2 & 0x1f);
  }
  return (uint)(int)*(short *)(&DAT_8002b8b8 + (iVar3 + -0x40) * 2) >> (-uVar2 & 0x1f);
}



MATRIX * CompMatrix(MATRIX *m0,MATRIX *m1,MATRIX *m2)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  
  gte_ldR11R12(*(undefined4 *)m0->m);
  gte_ldR13R21(*(undefined4 *)(m0->m + 2));
  gte_ldR22R23(*(undefined4 *)(m0->m[1] + 1));
  gte_ldR31R32(*(undefined4 *)m0->m[2]);
  gte_ldR33(*(undefined4 *)(m0->m[2] + 2));
  gte_ldVXY0((uint)(ushort)m1->m[0] | *(uint *)(m1->m + 2) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)m1->m[2]);
  gte_rtv0_b();
  uVar1 = gte_stIR1();
  iVar2 = gte_stIR2();
  uVar3 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[1] | *(int *)(m1->m[1] + 1) << 0x10);
  gte_ldVZ0((int)m1->m[2][1]);
  gte_rtv0_b();
  iVar4 = gte_stIR1();
  uVar5 = gte_stIR2();
  iVar6 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[2] | *(uint *)(m1->m[1] + 1) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)(m1->m[2] + 2));
  gte_rtv0_b();
  *(uint *)m2->m = iVar4 << 0x10 | uVar1 & 0xffff;
  *(uint *)m2->m[2] = iVar6 << 0x10 | uVar3 & 0xffff;
  uVar1 = gte_stIR1();
  iVar4 = gte_stIR2();
  gte_stIR3();
  iVar6 = m1->t[2];
  gte_ldVXY0((uint)*(ushort *)m1->t | m1->t[1] << 0x10);
  gte_ldVZ0(iVar6);
  gte_rtv0_b();
  uVar1 = uVar1 & 0xffff | iVar2 << 0x10;
  *(uint *)(m2->m + 2) = uVar1;
  uVar3 = iVar4 << 0x10 | uVar5 & 0xffff;
  *(uint *)(m2->m[1] + 1) = uVar3;
  read_mt(uVar1,uVar3,iVar6);
  iVar4 = m0->t[1];
  iVar2 = m0->t[2];
  m2->t[0] = uVar1 + m0->t[0];
  m2->t[1] = uVar3 + iVar4;
  m2->t[2] = iVar6 + iVar2;
  return m2;
}



MATRIX * MulMatrix0(MATRIX *m0,MATRIX *m1,MATRIX *m2)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  
  gte_ldR11R12(*(undefined4 *)m0->m);
  gte_ldR13R21(*(undefined4 *)(m0->m + 2));
  gte_ldR22R23(*(undefined4 *)(m0->m[1] + 1));
  gte_ldR31R32(*(undefined4 *)m0->m[2]);
  gte_ldR33(*(undefined4 *)(m0->m[2] + 2));
  gte_ldVXY0((uint)(ushort)m1->m[0] | *(uint *)(m1->m + 2) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)m1->m[2]);
  gte_rtv0_b();
  uVar1 = gte_stIR1();
  iVar2 = gte_stIR2();
  uVar3 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[1] | *(int *)(m1->m[1] + 1) << 0x10);
  gte_ldVZ0((int)m1->m[2][1]);
  gte_rtv0_b();
  iVar4 = gte_stIR1();
  uVar5 = gte_stIR2();
  iVar6 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[2] | *(uint *)(m1->m[1] + 1) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)(m1->m[2] + 2));
  gte_rtv0_b();
  *(uint *)m2->m = iVar4 << 0x10 | uVar1 & 0xffff;
  *(uint *)m2->m[2] = iVar6 << 0x10 | uVar3 & 0xffff;
  uVar1 = gte_stIR1();
  iVar4 = gte_stIR2();
  *(uint *)(m2->m + 2) = uVar1 & 0xffff | iVar2 << 0x10;
  *(uint *)(m2->m[1] + 1) = iVar4 << 0x10 | uVar5 & 0xffff;
  gte_stIR3();
  return m2;
}



MATRIX * MulRotMatrix0(MATRIX *m0,MATRIX *m1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  
  gte_ldVXY0((uint)(ushort)m0->m[0] | *(uint *)(m0->m + 2) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)m0->m[2]);
  gte_rtv0_b();
  uVar1 = gte_stIR1();
  iVar2 = gte_stIR2();
  uVar3 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m0->m[1] | *(int *)(m0->m[1] + 1) << 0x10);
  gte_ldVZ0((int)m0->m[2][1]);
  gte_rtv0_b();
  iVar4 = gte_stIR1();
  uVar5 = gte_stIR2();
  iVar6 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m0->m[2] | *(uint *)(m0->m[1] + 1) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)(m0->m[2] + 2));
  gte_rtv0_b();
  *(uint *)m1->m = iVar4 << 0x10 | uVar1 & 0xffff;
  *(uint *)m1->m[2] = iVar6 << 0x10 | uVar3 & 0xffff;
  uVar1 = gte_stIR1();
  iVar4 = gte_stIR2();
  *(uint *)(m1->m + 2) = uVar1 & 0xffff | iVar2 << 0x10;
  *(uint *)(m1->m[1] + 1) = iVar4 << 0x10 | uVar5 & 0xffff;
  gte_stIR3();
  return m1;
}



MATRIX * MulRotMatrix(MATRIX *m0)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  
  gte_ldVXY0(*(uint *)m0->m & 0xffff | *(uint *)(m0->m + 2) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)m0->m[2]);
  gte_rtv0_b();
  uVar1 = gte_stIR1();
  iVar2 = gte_stIR2();
  uVar3 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m0->m[1] | *(int *)(m0->m[1] + 1) << 0x10);
  gte_ldVZ0((int)m0->m[2][1]);
  gte_rtv0_b();
  iVar4 = gte_stIR1();
  uVar5 = gte_stIR2();
  iVar6 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m0->m[2] | *(uint *)(m0->m[1] + 1) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)(m0->m[2] + 2));
  gte_rtv0_b();
  *(uint *)m0->m = iVar4 << 0x10 | uVar1 & 0xffff;
  *(uint *)m0->m[2] = iVar6 << 0x10 | uVar3 & 0xffff;
  uVar1 = gte_stIR1();
  iVar4 = gte_stIR2();
  *(uint *)(m0->m + 2) = uVar1 & 0xffff | iVar2 << 0x10;
  *(uint *)(m0->m[1] + 1) = iVar4 << 0x10 | uVar5 & 0xffff;
  gte_stIR3();
  return m0;
}



MATRIX * SetMulMatrix(MATRIX *m0,MATRIX *m1)

{
  uint uVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  
  gte_ldR11R12(*(undefined4 *)m0->m);
  gte_ldR13R21(*(undefined4 *)(m0->m + 2));
  gte_ldR22R23(*(undefined4 *)(m0->m[1] + 1));
  gte_ldR31R32(*(undefined4 *)m0->m[2]);
  gte_ldR33(*(undefined4 *)(m0->m[2] + 2));
  gte_ldVXY0((uint)(ushort)m1->m[0] | *(uint *)(m1->m + 2) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)m1->m[2]);
  gte_rtv0_b();
  uVar4 = gte_stIR1();
  iVar5 = gte_stIR2();
  uVar6 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[1] | *(int *)(m1->m[1] + 1) << 0x10);
  gte_ldVZ0((int)m1->m[2][1]);
  gte_rtv0_b();
  iVar7 = gte_stIR1();
  uVar8 = gte_stIR2();
  iVar9 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[2] | *(uint *)(m1->m[1] + 1) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)(m1->m[2] + 2));
  gte_rtv0_b();
  uVar1 = gte_stIR1();
  iVar2 = gte_stIR2();
  uVar3 = gte_stIR3();
  gte_ldR11R12(iVar7 << 0x10 | uVar4 & 0xffff);
  gte_ldR13R21(uVar1 & 0xffff | iVar5 << 0x10);
  gte_ldR22R23(iVar2 << 0x10 | uVar8 & 0xffff);
  gte_ldR31R32(iVar9 << 0x10 | uVar6 & 0xffff);
  gte_ldR33(uVar3);
  return m0;
}



VECTOR * ApplyMatrixLV(MATRIX *m,VECTOR *_2,VECTOR *_3)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  gte_ldR11R12(*(undefined4 *)m->m);
  gte_ldR13R21(*(undefined4 *)(m->m + 2));
  gte_ldR22R23(*(undefined4 *)(m->m[1] + 1));
  gte_ldR31R32(*(undefined4 *)m->m[2]);
  gte_ldR33(*(undefined4 *)(m->m[2] + 2));
  uVar1 = _2->vx;
  uVar2 = _2->vy;
  uVar3 = _2->vz;
  iVar4 = (int)uVar1 >> 0xf;
  if ((int)uVar1 < 0) {
    iVar4 = -((int)-uVar1 >> 0xf);
    uVar1 = -(-uVar1 & 0x7fff);
  }
  else {
    uVar1 = uVar1 & 0x7fff;
  }
  iVar5 = (int)uVar2 >> 0xf;
  if ((int)uVar2 < 0) {
    iVar5 = -((int)-uVar2 >> 0xf);
    uVar2 = -(-uVar2 & 0x7fff);
  }
  else {
    uVar2 = uVar2 & 0x7fff;
  }
  iVar6 = (int)uVar3 >> 0xf;
  if ((int)uVar3 < 0) {
    iVar6 = -((int)-uVar3 >> 0xf);
    uVar3 = -(-uVar3 & 0x7fff);
  }
  else {
    uVar3 = uVar3 & 0x7fff;
  }
  gte_ldsv_(iVar4,iVar5,iVar6);
  gte_rtir_sf0_b();
  read_mt(iVar4,iVar5,iVar6);
  gte_ldsv_(uVar1,uVar2,uVar3);
  gte_rtir_b();
  if (iVar4 < 0) {
    iVar4 = iVar4 * 8;
  }
  else {
    iVar4 = iVar4 << 3;
  }
  if (iVar5 < 0) {
    iVar5 = iVar5 * 8;
  }
  else {
    iVar5 = iVar5 << 3;
  }
  if (iVar6 < 0) {
    iVar6 = iVar6 * 8;
  }
  else {
    iVar6 = iVar6 << 3;
  }
  read_mt(uVar1,uVar2,uVar3);
  _3->vx = uVar1 + iVar4;
  _3->vy = uVar2 + iVar5;
  _3->vz = uVar3 + iVar6;
  return _3;
}



VECTOR * ApplyRotMatrix(SVECTOR *_2,VECTOR *_3)

{
  VECTOR *in_a2;
  undefined4 uVar1;
  undefined4 uVar2;
  
  uVar1._0_2_ = _2->vx;
  uVar1._2_2_ = _2->vy;
  uVar2._0_2_ = _2->vz;
  uVar2._2_2_ = _2->pad;
  gte_ldVXY0(uVar1);
  gte_ldVZ0(uVar2);
  gte_rtv0_b();
  gte_stlvl(_3);
  return in_a2;
}



MATRIX * ScaleMatrixL(MATRIX *m,VECTOR *v)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  iVar1 = *(int *)m->m;
  iVar4 = v->vx;
  iVar5 = v->vy;
  iVar6 = v->vz;
  iVar2 = *(int *)(m->m + 2);
  *(uint *)m->m = (short)iVar1 * iVar4 >> 0xc & 0xffffU | ((iVar1 >> 0x10) * iVar4 >> 0xc) << 0x10;
  iVar1 = *(int *)(m->m[1] + 1);
  *(uint *)(m->m + 2) =
       (short)iVar2 * iVar4 >> 0xc & 0xffffU | ((iVar2 >> 0x10) * iVar5 >> 0xc) << 0x10;
  iVar2 = *(int *)m->m[2];
  *(uint *)(m->m[1] + 1) =
       (short)iVar1 * iVar5 >> 0xc & 0xffffU | ((iVar1 >> 0x10) * iVar5 >> 0xc) << 0x10;
  uVar3 = *(undefined4 *)(m->m[2] + 2);
  *(uint *)m->m[2] =
       (short)iVar2 * iVar6 >> 0xc & 0xffffU | ((iVar2 >> 0x10) * iVar6 >> 0xc) << 0x10;
  *(int *)(m->m[2] + 2) = (short)uVar3 * iVar6 >> 0xc;
  return m;
}



void PushMatrix(void)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 unaff_retaddr;
  
  if (0x27f < DAT_8002bbe4) {
    DAT_8002bbd8 = unaff_retaddr;
                    // WARNING: Subroutine does not return
    printf(s_Error__Can_t_push_matrix_stack_m_8002be68);
  }
  uVar1 = gte_stR11R12();
  uVar2 = gte_stR13R21();
  *(undefined4 *)(&DAT_8002bbe8 + DAT_8002bbe4) = uVar1;
  *(undefined4 *)(&DAT_8002bbec + DAT_8002bbe4) = uVar2;
  uVar1 = gte_stR22R23();
  uVar2 = gte_stR31R32();
  *(undefined4 *)(&DAT_8002bbf0 + DAT_8002bbe4) = uVar1;
  *(undefined4 *)(&DAT_8002bbf4 + DAT_8002bbe4) = uVar2;
  uVar1 = gte_stR33();
  *(undefined4 *)(&DAT_8002bbf8 + DAT_8002bbe4) = uVar1;
  uVar1 = gte_stTRX();
  uVar2 = gte_stTRY();
  uVar3 = gte_stTRZ();
  *(undefined4 *)(&DAT_8002bbfc + DAT_8002bbe4) = uVar1;
  *(undefined4 *)(&DAT_8002bc00 + DAT_8002bbe4) = uVar2;
  *(undefined4 *)(&DAT_8002bc04 + DAT_8002bbe4) = uVar3;
  DAT_8002bbe4 = DAT_8002bbe4 + 0x20;
  return;
}



void PopMatrix(void)

{
  int iVar1;
  undefined4 unaff_retaddr;
  
  iVar1 = DAT_8002bbe4;
  if (DAT_8002bbe4 < 1) {
    DAT_8002bbd8 = unaff_retaddr;
                    // WARNING: Subroutine does not return
    printf(s_Error__Can_t_pop_matrix_stack_is_8002be99);
  }
  DAT_8002bbe4 = DAT_8002bbe4 + -0x20;
  gte_ldR11R12(*(undefined4 *)(&DAT_8002bbc8 + iVar1));
  gte_ldR13R21(*(undefined4 *)(&DAT_8002bbcc + iVar1));
  gte_ldR22R23(*(undefined4 *)(&DAT_8002bbd0 + iVar1));
  gte_ldR31R32(*(undefined4 *)(&DAT_8002bbd4 + iVar1));
  gte_ldR33(*(undefined4 *)((int)&DAT_8002bbd8 + iVar1));
  gte_ldtr(*(undefined4 *)(&DAT_8002bbdc + iVar1),*(undefined4 *)(&DAT_8002bbe0 + iVar1),
           *(undefined4 *)((int)&DAT_8002bbe4 + iVar1));
  return;
}



void ReadRotMatrix(MATRIX *m)

{
  undefined4 uVar1;
  long lVar2;
  undefined4 uVar3;
  long lVar4;
  undefined4 uVar5;
  long lVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  
  uVar1 = gte_stR11R12();
  uVar3 = gte_stR13R21();
  uVar5 = gte_stR22R23();
  uVar7 = gte_stR31R32();
  uVar8 = gte_stR33();
  *(undefined4 *)m->m = uVar1;
  *(undefined4 *)(m->m + 2) = uVar3;
  *(undefined4 *)(m->m[1] + 1) = uVar5;
  *(undefined4 *)m->m[2] = uVar7;
  *(undefined4 *)(m->m[2] + 2) = uVar8;
  lVar2 = gte_stTRX();
  lVar4 = gte_stTRY();
  lVar6 = gte_stTRZ();
  m->t[0] = lVar2;
  m->t[1] = lVar4;
  m->t[2] = lVar6;
  return;
}



void ReadLightMatrix(MATRIX *m)

{
  undefined4 uVar1;
  long lVar2;
  undefined4 uVar3;
  long lVar4;
  undefined4 uVar5;
  long lVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  
  uVar1 = gte_stL11L12();
  uVar3 = gte_stL13L21();
  uVar5 = gte_stL22L23();
  uVar7 = gte_stL31L32();
  uVar8 = gte_stL33();
  *(undefined4 *)m->m = uVar1;
  *(undefined4 *)(m->m + 2) = uVar3;
  *(undefined4 *)(m->m[1] + 1) = uVar5;
  *(undefined4 *)m->m[2] = uVar7;
  *(undefined4 *)(m->m[2] + 2) = uVar8;
  lVar2 = gte_stRBK();
  lVar4 = gte_stGBK();
  lVar6 = gte_stBBK();
  m->t[0] = lVar2;
  m->t[1] = lVar4;
  m->t[2] = lVar6;
  return;
}



void ReadColorMatrix(MATRIX *m)

{
  undefined4 uVar1;
  long lVar2;
  undefined4 uVar3;
  long lVar4;
  undefined4 uVar5;
  long lVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  
  uVar1 = gte_stLR1LR2();
  uVar3 = gte_stLR3LG1();
  uVar5 = gte_stLG2LG3();
  uVar7 = gte_stLB1LB2();
  uVar8 = gte_stLB3();
  *(undefined4 *)m->m = uVar1;
  *(undefined4 *)(m->m + 2) = uVar3;
  *(undefined4 *)(m->m[1] + 1) = uVar5;
  *(undefined4 *)m->m[2] = uVar7;
  *(undefined4 *)(m->m[2] + 2) = uVar8;
  lVar2 = gte_stRFC();
  lVar4 = gte_stGFC();
  lVar6 = gte_stBFC();
  m->t[0] = lVar2;
  m->t[1] = lVar4;
  m->t[2] = lVar6;
  return;
}



MATRIX * MulMatrix(MATRIX *m0,MATRIX *m1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  
  gte_ldR11R12(*(undefined4 *)m0->m);
  gte_ldR13R21(*(undefined4 *)(m0->m + 2));
  gte_ldR22R23(*(undefined4 *)(m0->m[1] + 1));
  gte_ldR31R32(*(undefined4 *)m0->m[2]);
  gte_ldR33(*(undefined4 *)(m0->m[2] + 2));
  gte_ldVXY0((uint)(ushort)m1->m[0] | *(uint *)(m1->m + 2) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)m1->m[2]);
  gte_rtv0_b();
  uVar1 = gte_stIR1();
  iVar2 = gte_stIR2();
  uVar3 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[1] | *(int *)(m1->m[1] + 1) << 0x10);
  gte_ldVZ0((int)m1->m[2][1]);
  gte_rtv0_b();
  iVar4 = gte_stIR1();
  uVar5 = gte_stIR2();
  iVar6 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[2] | *(uint *)(m1->m[1] + 1) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)(m1->m[2] + 2));
  gte_rtv0_b();
  *(uint *)m0->m = iVar4 << 0x10 | uVar1 & 0xffff;
  *(uint *)m0->m[2] = iVar6 << 0x10 | uVar3 & 0xffff;
  uVar1 = gte_stIR1();
  iVar4 = gte_stIR2();
  *(uint *)(m0->m + 2) = uVar1 & 0xffff | iVar2 << 0x10;
  *(uint *)(m0->m[1] + 1) = iVar4 << 0x10 | uVar5 & 0xffff;
  gte_stIR3();
  return m0;
}



MATRIX * MulMatrix2(MATRIX *m0,MATRIX *m1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  
  gte_ldR11R12(*(undefined4 *)m0->m);
  gte_ldR13R21(*(undefined4 *)(m0->m + 2));
  gte_ldR22R23(*(undefined4 *)(m0->m[1] + 1));
  gte_ldR31R32(*(undefined4 *)m0->m[2]);
  gte_ldR33(*(undefined4 *)(m0->m[2] + 2));
  gte_ldVXY0((uint)(ushort)m1->m[0] | *(uint *)(m1->m + 2) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)m1->m[2]);
  gte_rtv0_b();
  uVar1 = gte_stIR1();
  iVar2 = gte_stIR2();
  uVar3 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[1] | *(int *)(m1->m[1] + 1) << 0x10);
  gte_ldVZ0((int)m1->m[2][1]);
  gte_rtv0_b();
  iVar4 = gte_stIR1();
  uVar5 = gte_stIR2();
  iVar6 = gte_stIR3();
  gte_ldVXY0((uint)(ushort)m1->m[2] | *(uint *)(m1->m[1] + 1) & 0xffff0000);
  gte_ldVZ0(*(undefined4 *)(m1->m[2] + 2));
  gte_rtv0_b();
  *(uint *)m1->m = iVar4 << 0x10 | uVar1 & 0xffff;
  *(uint *)m1->m[2] = iVar6 << 0x10 | uVar3 & 0xffff;
  uVar1 = gte_stIR1();
  iVar4 = gte_stIR2();
  *(uint *)(m1->m + 2) = uVar1 & 0xffff | iVar2 << 0x10;
  *(uint *)(m1->m[1] + 1) = iVar4 << 0x10 | uVar5 & 0xffff;
  gte_stIR3();
  return m1;
}



// Possible MTX_07.OBJ/TransMatrix

int FUN_8001cf48(int param_1,undefined4 *param_2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  
  uVar1 = param_2[1];
  uVar2 = param_2[2];
  *(undefined4 *)(param_1 + 0x14) = *param_2;
  *(undefined4 *)(param_1 + 0x18) = uVar1;
  *(undefined4 *)(param_1 + 0x1c) = uVar2;
  return param_1;
}



MATRIX * ScaleMatrix(MATRIX *m,VECTOR *v)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  iVar1 = *(int *)m->m;
  iVar4 = v->vx;
  iVar5 = v->vy;
  iVar6 = v->vz;
  iVar2 = *(int *)(m->m + 2);
  *(uint *)m->m = (short)iVar1 * iVar4 >> 0xc & 0xffffU | ((iVar1 >> 0x10) * iVar5 >> 0xc) << 0x10;
  iVar1 = *(int *)(m->m[1] + 1);
  *(uint *)(m->m + 2) =
       (short)iVar2 * iVar6 >> 0xc & 0xffffU | ((iVar2 >> 0x10) * iVar4 >> 0xc) << 0x10;
  iVar2 = *(int *)m->m[2];
  *(uint *)(m->m[1] + 1) =
       (short)iVar1 * iVar5 >> 0xc & 0xffffU | ((iVar1 >> 0x10) * iVar6 >> 0xc) << 0x10;
  uVar3 = *(undefined4 *)(m->m[2] + 2);
  *(uint *)m->m[2] =
       (short)iVar2 * iVar4 >> 0xc & 0xffffU | ((iVar2 >> 0x10) * iVar5 >> 0xc) << 0x10;
  *(int *)(m->m[2] + 2) = (short)uVar3 * iVar6 >> 0xc;
  return m;
}



void SetRotMatrix(MATRIX *m)

{
  gte_ldR11R12(*(undefined4 *)m->m);
  gte_ldR13R21(*(undefined4 *)(m->m + 2));
  gte_ldR22R23(*(undefined4 *)(m->m[1] + 1));
  gte_ldR31R32(*(undefined4 *)m->m[2]);
  gte_ldR33(*(undefined4 *)(m->m[2] + 2));
  return;
}



void SetLightMatrix(MATRIX *m)

{
  gte_ldL11L12(*(undefined4 *)m->m);
  gte_ldL13L21(*(undefined4 *)(m->m + 2));
  gte_ldL22L23(*(undefined4 *)(m->m[1] + 1));
  gte_ldL31L32(*(undefined4 *)m->m[2]);
  gte_ldL33(*(undefined4 *)(m->m[2] + 2));
  return;
}



void SetColorMatrix(MATRIX *m)

{
  gte_ldLR1LR2(*(undefined4 *)m->m);
  gte_ldLR3LG1(*(undefined4 *)(m->m + 2));
  gte_ldLG2LG3(*(undefined4 *)(m->m[1] + 1));
  gte_ldLB1LB2(*(undefined4 *)m->m[2]);
  gte_ldLB3(*(undefined4 *)(m->m[2] + 2));
  return;
}



void SetTransMatrix(MATRIX *m)

{
  gte_ldtr(m->t[0],m->t[1],m->t[2]);
  return;
}



// Possible REG09.OBJ/ReadGeomScreen

undefined4 FUN_8001d158(void)

{
  undefined4 uVar1;
  
  uVar1 = gte_stH();
  return uVar1;
}



void SetBackColor(long rbk,long gbk,long bbk)

{
  gte_ldbkdir(rbk << 4,gbk << 4,bbk << 4);
  return;
}



void SetFarColor(long rfc,long gfc,long bfc)

{
  gte_ldfcdir(rfc << 4,gfc << 4,bfc << 4);
  return;
}



// Possible REG12.OBJ/SetGeomOffset

void PutScreentoGTE(int param_1,int param_2)

{
  gte_ldOFX(param_1 << 0x10);
  gte_ldOFY(param_2 << 0x10);
  return;
}



// Possible REG13.OBJ/SetGeomScreen

void PutProjectionPlacetoGTE(undefined4 ProjectionPlane)

{
  gte_ldH(ProjectionPlane);
  return;
}



void LightColor(VECTOR *_2,VECTOR *_3)

{
  gte_ldlvl(_2);
  gte_lc_b();
  gte_stlvl(_3);
  return;
}



void DpqColorLight(VECTOR *_2,CVECTOR *_3,long p,CVECTOR *v2)

{
  gte_ldlvl(_2);
  gte_ldrgb(_3);
  gte_ldIR0(p);
  gte_dpcl_b();
  gte_strgb(v2);
  return;
}



void DpqColor3(CVECTOR *_2,CVECTOR *_3,CVECTOR *v2,long p,CVECTOR *v3,CVECTOR *v4,CVECTOR *v5)

{
  undefined auStackX_0 [16];
  
  gte_ldrgb3(_2,_3,v2);
  gte_ldIR0(p);
  gte_dpct_b();
  gte_strgb3(*(CVECTOR **)((int)register0x00000074 + 0x10),
             *(CVECTOR **)((int)register0x00000074 + 0x14),
             *(CVECTOR **)((int)register0x00000074 + 0x18));
  return;
}



void Intpl(VECTOR *_2,long p,CVECTOR *_3)

{
  gte_ldlvl(_2);
  gte_ldIR0(p);
  gte_intpl_b();
  gte_strgb(_3);
  return;
}



VECTOR * Square12(VECTOR *_2,VECTOR *_3)

{
  gte_ldlvl(_2);
  gte_sqr12_b();
  gte_stlvnl(_3);
  return _3;
}



VECTOR * Square0(VECTOR *_2,VECTOR *_3)

{
  gte_ldlvl(_2);
  gte_sqr0_b(0);
  gte_stlvnl(_3);
  return _3;
}



long AverageZ3(long sz0,long sz1,long sz2)

{
  long lVar1;
  
  gte_ldsz3(sz0,sz1,sz2);
  gte_avsz3_b();
  lVar1 = gte_stOTZ();
  return lVar1;
}



long AverageZ4(long sz0,long sz1,long sz2,long sz3)

{
  long lVar1;
  
  gte_ldsz4(sz0,sz1,sz2,sz3);
  gte_avsz4_b();
  lVar1 = gte_stOTZ();
  return lVar1;
}



void OuterProduct12(VECTOR *_2,VECTOR *_3,VECTOR *v2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  
  uVar1 = gte_stR11R12();
  uVar2 = gte_stR22R23();
  uVar3 = gte_stR33();
  gte_ldR11R12(_2->vx);
  gte_ldR22R23(_2->vy);
  gte_ldR33(_2->vz);
  gte_ldopv2(_3);
  gte_op12_b();
  gte_stlvnl(v2);
  gte_ldR11R12(uVar1);
  gte_ldR22R23(uVar2);
  gte_ldR33(uVar3);
  return;
}



void OuterProduct0(VECTOR *_2,VECTOR *_3,VECTOR *v2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  
  uVar1 = gte_stR11R12();
  uVar2 = gte_stR22R23();
  uVar3 = gte_stR33();
  gte_ldR11R12(_2->vx);
  gte_ldR22R23(_2->vy);
  gte_ldR33(_2->vz);
  gte_ldopv2(_3);
  gte_op0_b(0);
  gte_stlvnl(v2);
  gte_ldR11R12(uVar1);
  gte_ldR22R23(uVar2);
  gte_ldR33(uVar3);
  return;
}



long Lzc(long data)

{
  long lVar1;
  
  gte_ldLZCS(data);
  lVar1 = gte_stLZCR();
  return lVar1;
}



void RotTransSV(SVECTOR *_2,SVECTOR *_3,long *flag)

{
  undefined4 uVar1;
  long lVar2;
  undefined4 uVar3;
  
  gte_ldv0(_2);
  copFunction(2,0x480012);
  uVar1 = gte_stIR1();
  uVar3 = gte_stIR2();
  gte_stIR3();
  _3->vx = (short)uVar1;
  _3->vy = (short)uVar3;
  lVar2 = gte_stFLAG();
  *flag = lVar2;
  return;
}



SVECTOR * SquareSS12(SVECTOR *_2,SVECTOR *_3)

{
  undefined4 uVar1;
  undefined4 uVar2;
  
  gte_ldIR1((int)_2->vx);
  gte_ldIR2((int)_2->vy);
  gte_ldIR3(&_2->vz);
  gte_sqr12_b();
  uVar1 = gte_stIR1();
  uVar2 = gte_stIR2();
  gte_stIR3();
  _3->vx = (short)uVar1;
  _3->vy = (short)uVar2;
  return _3;
}



SVECTOR * SquareSS0(SVECTOR *_2,SVECTOR *_3)

{
  undefined4 uVar1;
  undefined4 uVar2;
  
  gte_ldIR1((int)_2->vx);
  gte_ldIR2((int)_2->vy);
  gte_ldIR3(&_2->vz);
  gte_sqr0_b(0);
  uVar1 = gte_stIR1();
  uVar2 = gte_stIR2();
  gte_stIR3();
  _3->vx = (short)uVar1;
  _3->vy = (short)uVar2;
  return _3;
}



VECTOR * SquareSL12(SVECTOR *_2,VECTOR *_3)

{
  gte_ldIR1((int)_2->vx);
  gte_ldIR2((int)_2->vy);
  gte_ldIR3(&_2->vz);
  gte_sqr12_b();
  gte_stlvl(_3);
  return _3;
}



VECTOR * SquareSL0(SVECTOR *_2,VECTOR *_3)

{
  gte_ldIR1((int)_2->vx);
  gte_ldIR2((int)_2->vy);
  gte_ldIR3(&_2->vz);
  gte_sqr0_b(0);
  gte_stlvl(_3);
  return _3;
}



long RotTransPers(SVECTOR *_2,long *sxy,long *p,long *flag)

{
  int iVar1;
  long lVar2;
  
  gte_ldv0(_2);
  gte_rtps_b();
  gte_stsxy(sxy);
  gte_stdp(p);
  lVar2 = gte_stFLAG();
  iVar1 = gte_stSZ3();
  *flag = lVar2;
  return iVar1 >> 2;
}



long RotTransPers3(SVECTOR *_2,SVECTOR *_3,SVECTOR *v2,long *sxy0,long *sxy1,long *sxy2,long *p,
                  long *flag)

{
  int iVar1;
  undefined4 uVar2;
  long *r0;
  undefined4 *puVar3;
  undefined auStackX_0 [16];
  
  gte_ldv3(_2,_3,v2);
  gte_rtpt_b();
  r0 = *(long **)((int)register0x00000074 + 0x18);
  puVar3 = *(undefined4 **)((int)register0x00000074 + 0x1c);
  gte_stsxy3(sxy0,*(long **)((int)register0x00000074 + 0x10),
             *(long **)((int)register0x00000074 + 0x14));
  gte_stdp(r0);
  uVar2 = gte_stFLAG();
  iVar1 = gte_stSZ3();
  *puVar3 = uVar2;
  return iVar1 >> 2;
}



void RotTrans(SVECTOR *_2,VECTOR *_3,long *flag)

{
  long lVar1;
  
  gte_ldv0(_2);
  copFunction(2,0x480012);
  gte_stlvnl(_3);
  lVar1 = gte_stFLAG();
  *flag = lVar1;
  return;
}



// Possible SMP_05.OBJ/NormalClip

undefined4 FUN_8001d5a8(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  
  gte_ldsxy3(param_1,param_3,param_2);
  gte_nclip();
  uVar1 = gte_stMAC0();
  return uVar1;
}



long RotTransPers4(SVECTOR *_2,SVECTOR *_3,SVECTOR *v2,SVECTOR *v3,long *sxy0,long *sxy1,long *sxy2,
                  long *sxy3,long *p,long *flag)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  long *r0;
  uint *puVar4;
  undefined auStackX_0 [16];
  
  gte_ldv3(_2,_3,v2);
  gte_rtpt_b();
  gte_stsxy3(*(long **)((int)register0x00000074 + 0x10),*(long **)((int)register0x00000074 + 0x14),
             *(long **)((int)register0x00000074 + 0x18));
  uVar2 = gte_stFLAG();
  gte_ldv0(v3);
  gte_rtps_b();
  r0 = *(long **)((int)register0x00000074 + 0x20);
  puVar4 = *(uint **)((int)register0x00000074 + 0x24);
  gte_stsxy(*(long **)((int)register0x00000074 + 0x1c));
  gte_stdp(r0);
  uVar3 = gte_stFLAG();
  iVar1 = gte_stSZ3();
  *puVar4 = uVar3 | uVar2;
  return iVar1 >> 2;
}



MATRIX * RotMatrix(SVECTOR *r,MATRIX *m)

{
  short sVar1;
  MATRIX *pMVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  short sVar8;
  int iVar9;
  
  if (r->vx < 0) {
    pMVar2 = (MATRIX *)FGO_01_OBJ_64((int)r,(undefined2 *)m);
    return pMVar2;
  }
  iVar6 = (int)(short)*(int *)(&DAT_8002bee8 + ((int)r->vx & 0xfffU) * 4);
  iVar3 = *(int *)(&DAT_8002bee8 + ((int)r->vx & 0xfffU) * 4) >> 0x10;
  if (-1 < r->vy) {
    sVar8 = (short)*(int *)(&DAT_8002bee8 + ((int)r->vy & 0xfffU) * 4);
    iVar9 = -(int)sVar8;
    iVar4 = *(int *)(&DAT_8002bee8 + ((int)r->vy & 0xfffU) * 4) >> 0x10;
    sVar1 = r->vz;
    m->m[2] = sVar8;
    m->m[1][2] = (short)(-(iVar4 * iVar6) >> 0xc);
    sVar8 = (short)(iVar4 * iVar3 >> 0xc);
    if (-1 < sVar1) {
      m->m[2][2] = sVar8;
      iVar7 = (int)(short)*(int *)(&DAT_8002bee8 + ((int)sVar1 & 0xfffU) * 4);
      iVar5 = *(int *)(&DAT_8002bee8 + ((int)sVar1 & 0xfffU) * 4) >> 0x10;
      m->m[0] = (short)(iVar5 * iVar4 >> 0xc);
      m->m[1] = (short)(-(iVar7 * iVar4) >> 0xc);
      iVar4 = iVar5 * iVar9 >> 0xc;
      m->m[1][0] = (short)(iVar7 * iVar3 >> 0xc) - (short)(iVar4 * iVar6 >> 0xc);
      m->m[2][0] = (short)(iVar7 * iVar6 >> 0xc) + (short)(iVar4 * iVar3 >> 0xc);
      iVar9 = iVar7 * iVar9 >> 0xc;
      m->m[1][1] = (short)(iVar5 * iVar3 >> 0xc) + (short)(iVar9 * iVar6 >> 0xc);
      m->m[2][1] = (short)(iVar5 * iVar6 >> 0xc) - (short)(iVar9 * iVar3 >> 0xc);
      return m;
    }
    m->m[2][2] = sVar8;
    pMVar2 = (MATRIX *)FGO_01_OBJ_160(r,(undefined2 *)m);
    return pMVar2;
  }
  pMVar2 = (MATRIX *)FGO_01_OBJ_CC((int)r,(undefined2 *)m);
  return pMVar2;
}



void FGO_01_OBJ_64(int param_1,undefined2 *param_2)

{
  short sVar1;
  int in_t0;
  int iVar2;
  int iVar3;
  int in_t3;
  int iVar4;
  short sVar5;
  undefined2 uVar6;
  int iVar7;
  
  if (*(short *)(param_1 + 2) < 0) {
    FGO_01_OBJ_CC(param_1,param_2);
    return;
  }
  sVar5 = (short)*(int *)(&DAT_8002bee8 + ((int)*(short *)(param_1 + 2) & 0xfffU) * 4);
  iVar7 = -(int)sVar5;
  iVar2 = *(int *)(&DAT_8002bee8 + ((int)*(short *)(param_1 + 2) & 0xfffU) * 4) >> 0x10;
  sVar1 = *(short *)(param_1 + 4);
  param_2[2] = sVar5;
  param_2[5] = (short)(-(iVar2 * in_t3) >> 0xc);
  uVar6 = (undefined2)(iVar2 * in_t0 >> 0xc);
  if (-1 < sVar1) {
    param_2[8] = uVar6;
    iVar4 = (int)(short)*(int *)(&DAT_8002bee8 + ((int)sVar1 & 0xfffU) * 4);
    iVar3 = *(int *)(&DAT_8002bee8 + ((int)sVar1 & 0xfffU) * 4) >> 0x10;
    *param_2 = (short)(iVar3 * iVar2 >> 0xc);
    param_2[1] = (short)(-(iVar4 * iVar2) >> 0xc);
    iVar2 = iVar3 * iVar7 >> 0xc;
    param_2[3] = (short)(iVar4 * in_t0 >> 0xc) - (short)(iVar2 * in_t3 >> 0xc);
    param_2[6] = (short)(iVar4 * in_t3 >> 0xc) + (short)(iVar2 * in_t0 >> 0xc);
    iVar7 = iVar4 * iVar7 >> 0xc;
    param_2[4] = (short)(iVar3 * in_t0 >> 0xc) + (short)(iVar7 * in_t3 >> 0xc);
    param_2[7] = (short)(iVar3 * in_t3 >> 0xc) - (short)(iVar7 * in_t0 >> 0xc);
    return;
  }
  param_2[8] = uVar6;
  FGO_01_OBJ_160(param_1,param_2);
  return;
}



void FGO_01_OBJ_CC(int param_1,undefined2 *param_2)

{
  short sVar1;
  int in_t0;
  int in_t1;
  int iVar2;
  int in_t3;
  int in_t4;
  int iVar3;
  undefined2 in_t6;
  undefined2 uVar4;
  int iVar5;
  
  sVar1 = *(short *)(param_1 + 4);
  param_2[2] = in_t6;
  param_2[5] = (short)(-(in_t1 * in_t3) >> 0xc);
  uVar4 = (undefined2)(in_t1 * in_t0 >> 0xc);
  if (-1 < sVar1) {
    param_2[8] = uVar4;
    iVar3 = (int)(short)*(int *)(&DAT_8002bee8 + ((int)sVar1 & 0xfffU) * 4);
    iVar2 = *(int *)(&DAT_8002bee8 + ((int)sVar1 & 0xfffU) * 4) >> 0x10;
    *param_2 = (short)(iVar2 * in_t1 >> 0xc);
    param_2[1] = (short)(-(iVar3 * in_t1) >> 0xc);
    iVar5 = iVar2 * in_t4 >> 0xc;
    param_2[3] = (short)(iVar3 * in_t0 >> 0xc) - (short)(iVar5 * in_t3 >> 0xc);
    param_2[6] = (short)(iVar3 * in_t3 >> 0xc) + (short)(iVar5 * in_t0 >> 0xc);
    iVar3 = iVar3 * in_t4 >> 0xc;
    param_2[4] = (short)(iVar2 * in_t0 >> 0xc) + (short)(iVar3 * in_t3 >> 0xc);
    param_2[7] = (short)(iVar2 * in_t3 >> 0xc) - (short)(iVar3 * in_t0 >> 0xc);
    return;
  }
  param_2[8] = uVar4;
  FGO_01_OBJ_160(param_1,param_2);
  return;
}



void FGO_01_OBJ_160(undefined4 param_1,undefined2 *param_2)

{
  int in_t0;
  int in_t1;
  int in_t2;
  int in_t3;
  int in_t4;
  int in_t5;
  int iVar1;
  
  *param_2 = (short)(in_t2 * in_t1 >> 0xc);
  param_2[1] = (short)(-(in_t5 * in_t1) >> 0xc);
  iVar1 = in_t2 * in_t4 >> 0xc;
  param_2[3] = (short)(in_t5 * in_t0 >> 0xc) - (short)(iVar1 * in_t3 >> 0xc);
  param_2[6] = (short)(in_t5 * in_t3 >> 0xc) + (short)(iVar1 * in_t0 >> 0xc);
  iVar1 = in_t5 * in_t4 >> 0xc;
  param_2[4] = (short)(in_t2 * in_t0 >> 0xc) + (short)(iVar1 * in_t3 >> 0xc);
  param_2[7] = (short)(in_t2 * in_t3 >> 0xc) - (short)(iVar1 * in_t0 >> 0xc);
  return;
}



long ratan2(long y,long x)

{
  bool bVar1;
  long lVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  
  bVar1 = x < 0;
  if (bVar1) {
    x = -x;
  }
  uVar4 = (uint)bVar1;
  bVar1 = y < 0;
  if (bVar1) {
    y = -y;
  }
  uVar5 = (uint)bVar1;
  if ((x == 0) && (y == 0)) {
    lVar2 = RATAN_OBJ_178();
    return lVar2;
  }
  if (x <= y) {
    iVar3 = y >> 10;
    if ((x & 0x7fe00000U) != 0) {
      if (iVar3 == 0) {
        trap(0x1c00);
      }
      if ((iVar3 == -1) && (x == 0x80000000)) {
        trap(0x1800);
      }
      iVar3 = RATAN_OBJ_148(x / iVar3,x,uVar4,uVar5);
      return iVar3;
    }
    if (y == 0) {
      trap(0x1c00);
    }
    if ((y == 0xffffffff) && (x << 10 == -0x80000000)) {
      trap(0x1800);
    }
    iVar3 = 0x400 - *(short *)(&DAT_8002fee8 + ((x << 10) / y) * 2);
    if (uVar4 != 0) {
      iVar3 = 0x800 - iVar3;
    }
    if (uVar5 != 0) {
      iVar3 = -iVar3;
    }
    return iVar3;
  }
  iVar3 = x >> 10;
  if ((y & 0x7fe00000U) != 0) {
    if (iVar3 == 0) {
      trap(0x1c00);
    }
    if ((iVar3 == -1) && (y == 0x80000000)) {
      trap(0x1800);
    }
    lVar2 = RATAN_OBJ_BC(y / iVar3,x,uVar4,uVar5);
    return lVar2;
  }
  if (x == 0) {
    trap(0x1c00);
  }
  if ((x == 0xffffffff) && (y << 10 == -0x80000000)) {
    trap(0x1800);
  }
  iVar3 = RATAN_OBJ_15C((y << 10) / x,x,uVar4,uVar5);
  return iVar3;
}



void RATAN_OBJ_BC(undefined4 param_1,undefined4 param_2,int param_3,int param_4)

{
  RATAN_OBJ_15C(param_1,param_2,param_3,param_4);
  return;
}



int RATAN_OBJ_148(undefined4 param_1,undefined4 param_2,int param_3,int param_4)

{
  int in_v0;
  int iVar1;
  
  iVar1 = 0x400 - *(short *)(&DAT_8002fee8 + in_v0);
  if (param_3 != 0) {
    iVar1 = 0x800 - iVar1;
  }
  if (param_4 != 0) {
    iVar1 = -iVar1;
  }
  return iVar1;
}



int RATAN_OBJ_15C(undefined4 param_1,undefined4 param_2,int param_3,int param_4)

{
  int in_v1;
  
  if (param_3 != 0) {
    in_v1 = 0x800 - in_v1;
  }
  if (param_4 != 0) {
    in_v1 = -in_v1;
  }
  return in_v1;
}



void RATAN_OBJ_178(void)

{
  return;
}



void _patch_gte(void)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  undefined *unaff_retaddr;
  
  _patch_gteReturnAddress = unaff_retaddr;
  EnterCriticalSection();
  iVar1 = (*(code *)&SUB_000000b0)();
  puVar4 = &PATCHGTE_OBJ_68;
  puVar2 = *(undefined4 **)(iVar1 + 0x18);
  do {
    uVar3 = *puVar4;
    puVar4 = puVar4 + 1;
    *puVar2 = uVar3;
    puVar2 = puVar2 + 1;
  } while (puVar4 != (undefined4 *)PadInit);
  FlushCache();
  ExitCriticalSection();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_8001dad8(undefined4 param_1)

{
  undefined4 in_at;
  undefined4 in_v0;
  undefined4 in_v1;
  int iVar1;
  undefined4 unaff_retaddr;
  
  iVar1 = *_DAT_00000108;
  *(undefined4 *)(iVar1 + 0xc) = in_at;
  *(undefined4 *)(iVar1 + 0x10) = in_v0;
  *(undefined4 *)(iVar1 + 0x14) = in_v1;
  *(undefined4 *)(iVar1 + 0x84) = unaff_retaddr;
  button_destPadInit2 = 0xffffffff;
  DAT_800370b0 = param_1;
  ResetCallback();
  PAD_init();
  ChangeClearPAD();
  return;
}



void PadInit(int mode)

{
  button_destPadInit2 = 0xffffffff;
  DAT_800370b0 = mode;
  ResetCallback();
  PAD_init();
  ChangeClearPAD();
  return;
}



u_long PadRead(int id)

{
  PAD_dr(id);
  return ~button_destPadInit2;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void PadStop(void)

{
  StopPAD();
  return;
}



int VSync(int mode)

{
  uint uVar1;
  int iVar2;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  uint uVar3;
  undefined4 unaff_s1;
  undefined4 unaff_retaddr;
  
  uVar1 = *(int *)PTR_TMR_HRETRACE_VAL_800306f0 - DAT_800306f4;
  if (mode < 0) {
    iVar2 = VSYNC_OBJ_130((char)mode,in_a1,in_a2,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return iVar2;
  }
  if (mode != 1) {
    if (0 < mode) {
      iVar2 = VSYNC_OBJ_84(mode);
      return iVar2;
    }
    iVar2 = 0;
    if (0 < mode) {
      iVar2 = mode + -1;
    }
    v_wait(DAT_800306f8,iVar2);
    uVar3 = *(uint *)PTR_GPU_REG1_800306ec;
    v_wait(DAT_800317b8 + 1,1);
    if (((uVar3 & 0x80000) != 0) && (-1 < (int)(uVar3 ^ *(uint *)PTR_GPU_REG1_800306ec))) {
      do {
      } while (((uVar3 ^ *(uint *)PTR_GPU_REG1_800306ec) & 0x80000000) == 0);
    }
    DAT_800306f8 = DAT_800317b8;
    DAT_800306f4 = *(int *)PTR_TMR_HRETRACE_VAL_800306f0;
  }
  return uVar1 & 0xffff;
}



void VSYNC_OBJ_84(int param_1)

{
  int in_v0;
  int iVar1;
  uint uVar2;
  
  iVar1 = 0;
  if (0 < param_1) {
    iVar1 = param_1 + -1;
  }
  v_wait(in_v0,iVar1);
  uVar2 = *(uint *)PTR_GPU_REG1_800306ec;
  v_wait(DAT_800317b8 + 1,1);
  if (((uVar2 & 0x80000) != 0) && (-1 < (int)(uVar2 ^ *(uint *)PTR_GPU_REG1_800306ec))) {
    do {
    } while (((uVar2 ^ *(uint *)PTR_GPU_REG1_800306ec) & 0x80000000) == 0);
  }
  DAT_800306f8 = DAT_800317b8;
  DAT_800306f4 = *(undefined4 *)PTR_TMR_HRETRACE_VAL_800306f0;
  return;
}



void VSYNC_OBJ_130(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                  undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  return;
}



void v_wait(int param_1,int param_2)

{
  undefined uVar1;
  undefined uVar2;
  int iVar3;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_retaddr;
  undefined uVar4;
  undefined in_stack_fffffff4;
  
  iVar3 = param_2 << 0xf;
  do {
    if (param_1 <= DAT_800317b8) {
      return;
    }
    iVar3 = iVar3 + -1;
  } while (iVar3 != -1);
  puts(s_VSync__timeout_80010108);
  uVar4 = (undefined)iVar3;
  ChangeClearPAD();
  uVar1 = 3;
  uVar2 = 0;
  ChangeClearRCnt();
  VSYNC_OBJ_1D4(uVar1,uVar2,in_a2,in_a3,uVar4,in_stack_fffffff4,unaff_retaddr);
  return;
}



void VSYNC_OBJ_1D4(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                  undefined param_5,undefined param_6,undefined4 param_7)

{
  return;
}



int ResetCallback(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(PTR_InterruptCallbackArray_80031784 + 0xc))();
  return iVar1;
}



void InterruptCallback(void)

{
  (**(code **)(PTR_InterruptCallbackArray_80031784 + 8))();
  return;
}



void DMACallback(void)

{
  (**(code **)(PTR_InterruptCallbackArray_80031784 + 4))();
  return;
}



int VSyncCallback(f *f)

{
  int iVar1;
  
  iVar1 = (**(code **)(PTR_InterruptCallbackArray_80031784 + 0x14))(0,f);
  return iVar1;
}



int VSyncCallbacks(int ch,f *f)

{
  int iVar1;
  
  iVar1 = (**(code **)(PTR_InterruptCallbackArray_80031784 + 0x14))();
  return iVar1;
}



int StopCallback(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(PTR_InterruptCallbackArray_80031784 + 0x10))();
  return iVar1;
}



int RestartCallback(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(PTR_InterruptCallbackArray_80031784 + 0x18))();
  return iVar1;
}



int CheckCallback(void)

{
  return (uint)DAT_800306fe;
}



undefined2 GetIntrMask(void)

{
  return *(undefined2 *)PTR_I_MASK_8003178c;
}



undefined2 SetIntrMask(undefined2 param_1)

{
  undefined2 uVar1;
  
  uVar1 = *(undefined2 *)PTR_I_MASK_8003178c;
  *(undefined2 *)PTR_I_MASK_8003178c = param_1;
  return uVar1;
}



undefined2 * startIntr(void)

{
  undefined *puVar1;
  undefined2 *puVar2;
  int iVar3;
  undefined *DMACallbackFunc;
  
  puVar1 = PTR_I_MASK_8003178c;
  DMACallbackFunc = PTR_I_STAT_80031788;
  puVar2 = (undefined2 *)0x0;
  if (DAT_800306fc == 0) {
    *(undefined2 *)PTR_I_MASK_8003178c = 0;
    *(undefined2 *)DMACallbackFunc = *(undefined2 *)puVar1;
    *(undefined4 *)PTR_DMA_DPCR_80031790 = 0x33333333;
    memclr((undefined4 *)&DAT_800306fc,0x41a);
    iVar3 = setjmp((__jmp_buf_tag *)&DAT_80030734);
    if (iVar3 != 0) {
      trapIntr();
    }
    DAT_80030738 = &DAT_80031714;
    HookEntryInt();
    DAT_800306fc = 1;
    DMACallbackFunc = startIntrVSync();
    *(undefined **)(PTR_InterruptCallbackArray_80031784 + 0x14) = DMACallbackFunc;
    DMACallbackFunc = startIntrDMA();
    *(undefined **)(PTR_InterruptCallbackArray_80031784 + 4) = DMACallbackFunc;
    _96_remove();
    puVar2 = &DAT_800306fc;
    ExitCriticalSection();
  }
  return puVar2;
}



void trapIntr(void)

{
  bool bVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  code **ppcVar5;
  
  if (DAT_800306fc == 0) {
                    // WARNING: Subroutine does not return
    printf(s_unexpected_interrupt__04x__8001014c,(uint)*(ushort *)PTR_I_STAT_80031788);
  }
  DAT_800306fe = 1;
  uVar3 = (uint)(*(ushort *)PTR_I_MASK_8003178c & DAT_8003072c & *(ushort *)PTR_I_STAT_80031788);
  if (uVar3 != 0) {
    do {
      ppcVar5 = (code **)&DAT_80030700;
      for (uVar4 = 0; (uVar3 != 0 && ((int)uVar4 < 0xb)); uVar4 = uVar4 + 1) {
        if ((uVar3 & 1) != 0) {
          *(ushort *)PTR_I_STAT_80031788 = ~(ushort)(1 << (uVar4 & 0x1f));
          if (*ppcVar5 != (code *)0x0) {
            (**ppcVar5)();
          }
        }
        ppcVar5 = ppcVar5 + 1;
        uVar3 = uVar3 >> 1;
      }
      uVar3 = (uint)(*(ushort *)PTR_I_MASK_8003178c & DAT_8003072c & *(ushort *)PTR_I_STAT_80031788)
      ;
    } while (uVar3 != 0);
  }
  if ((*(ushort *)PTR_I_STAT_80031788 & *(ushort *)PTR_I_MASK_8003178c) == 0) {
    DAT_80031794 = 0;
  }
  else {
    iVar2 = DAT_80031794 + 1;
    bVar1 = 0x800 < DAT_80031794;
    DAT_80031794 = iVar2;
    if (bVar1) {
                    // WARNING: Subroutine does not return
      printf(s_intr_timeout__04x__04x__80010168,(uint)*(ushort *)PTR_I_STAT_80031788,
             (uint)*(ushort *)PTR_I_MASK_8003178c);
    }
  }
  DAT_800306fe = 0;
  ReturnFromException();
  return;
}



void INTR_OBJ_428(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                 undefined4 param_9,undefined4 param_10)

{
  DAT_800306fe = 0;
  ReturnFromException();
  return;
}



int setIntr(uint param_1,int param_2)

{
  ushort uVar1;
  ushort uVar2;
  int *piVar3;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  int iVar4;
  undefined4 unaff_retaddr;
  
  piVar3 = &DAT_80030700 + param_1;
  iVar4 = *piVar3;
  if ((param_2 != iVar4) && (DAT_800306fc != 0)) {
    uVar1 = *(ushort *)PTR_I_MASK_8003178c;
    *(undefined2 *)PTR_I_MASK_8003178c = 0;
    if (param_2 != 0) {
      *piVar3 = param_2;
      DAT_8003072c = DAT_8003072c | (ushort)(1 << (param_1 & 0x1f));
      iVar4 = INTR_OBJ_514((char)piVar3,0,in_a2,in_a3,unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,
                           unaff_retaddr);
      return iVar4;
    }
    uVar2 = ~(ushort)(1 << (param_1 & 0x1f));
    *piVar3 = 0;
    DAT_8003072c = DAT_8003072c & uVar2;
    if (param_1 == 0) {
      ChangeClearPAD();
      ChangeClearRCnt();
    }
    if (param_1 == 4) {
      ChangeClearRCnt();
    }
    if (param_1 == 5) {
      ChangeClearRCnt();
    }
    if (param_1 == 6) {
      ChangeClearRCnt();
    }
    *(ushort *)PTR_I_MASK_8003178c = uVar1 & uVar2;
  }
  return iVar4;
}



void INTR_OBJ_514(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                 undefined4 param_9,undefined4 param_10)

{
  int unaff_s1;
  undefined2 unaff_s3;
  
  if (unaff_s1 == 0) {
    ChangeClearPAD();
    ChangeClearRCnt();
  }
  if (unaff_s1 == 4) {
    ChangeClearRCnt();
  }
  if (unaff_s1 == 5) {
    ChangeClearRCnt();
  }
  if (unaff_s1 == 6) {
    ChangeClearRCnt();
  }
  *(undefined2 *)PTR_I_MASK_8003178c = unaff_s3;
  return;
}



undefined2 * stopIntr(void)

{
  undefined *puVar1;
  undefined *puVar2;
  undefined2 *puVar3;
  
  puVar3 = (undefined2 *)0x0;
  if (DAT_800306fc != 0) {
    EnterCriticalSection();
    puVar2 = PTR_I_MASK_8003178c;
    puVar1 = PTR_I_STAT_80031788;
    DAT_8003072e = *(undefined2 *)PTR_I_MASK_8003178c;
    DAT_80030730 = *(undefined4 *)PTR_DMA_DPCR_80031790;
    *(undefined2 *)PTR_I_MASK_8003178c = 0;
    *(undefined2 *)puVar1 = *(undefined2 *)puVar2;
    *(uint *)PTR_DMA_DPCR_80031790 = *(uint *)PTR_DMA_DPCR_80031790 & 0x77777777;
    ResetEntryInt();
    DAT_800306fc = 0;
    puVar3 = &DAT_800306fc;
  }
  return puVar3;
}



undefined4 restartIntr(void)

{
  undefined4 uVar1;
  undefined *puVar2;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_retaddr;
  
  if (DAT_800306fc == 0) {
    HookEntryInt();
    puVar2 = PTR_I_MASK_8003178c;
    DAT_800306fc = 1;
    *(undefined2 *)PTR_I_MASK_8003178c = DAT_8003072e;
    *(undefined4 *)PTR_DMA_DPCR_80031790 = DAT_80030730;
    ExitCriticalSection();
    uVar1 = INTR_OBJ_6D0((char)puVar2,in_a1,in_a2,in_a3,unaff_s0,unaff_retaddr);
    return uVar1;
  }
  return 0;
}



void INTR_OBJ_6D0(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6)

{
  return;
}



void memclr(undefined4 *param_1,int param_2)

{
  int iVar1;
  
  iVar1 = param_2 + -1;
  if (param_2 != 0) {
    do {
      *param_1 = 0;
      iVar1 = iVar1 + -1;
      param_1 = param_1 + 1;
    } while (iVar1 != -1);
  }
  return;
}



undefined * startIntrVSync(void)

{
  *(undefined4 *)PTR_TMR_HRETRACE_MODE_800317bc = 0x107;
  DAT_800317b8 = 0;
  memclr(&DAT_80031798,8);
  InterruptCallback();
  return setIntrVSync;
}



void trapIntrVSync(void)

{
  code *pcVar1;
  code **ppcVar2;
  int iVar3;
  
  iVar3 = 0;
  ppcVar2 = (code **)&DAT_80031798;
  DAT_800317b8 = DAT_800317b8 + 1;
  do {
    pcVar1 = *ppcVar2;
    ppcVar2 = ppcVar2 + 1;
    if (pcVar1 != (code *)0x0) {
      (*pcVar1)();
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < 8);
  return;
}



void setIntrVSync(int param_1,int param_2)

{
  if (param_2 != (&DAT_80031798)[param_1]) {
    (&DAT_80031798)[param_1] = param_2;
  }
  return;
}



void memclr(undefined4 *param_1,int param_2)

{
  int iVar1;
  
  iVar1 = param_2 + -1;
  if (param_2 != 0) {
    do {
      *param_1 = 0;
      iVar1 = iVar1 + -1;
      param_1 = param_1 + 1;
    } while (iVar1 != -1);
  }
  return;
}



undefined * startIntrDMA(void)

{
  memclr(&DAT_800317c4,8);
  *(undefined4 *)PTR_DMA_DICR_800317c0 = 0;
  InterruptCallback();
  return setIntrDMA;
}



void trapIntrDMA(void)

{
  int iVar1;
  uint uVar2;
  code **ppcVar3;
  
  uVar2 = *(uint *)PTR_DMA_DICR_800317c0 >> 0x18 & 0x7f;
  if (uVar2 != 0) {
    do {
      ppcVar3 = (code **)&DAT_800317c4;
      for (iVar1 = 0; (uVar2 != 0 && (iVar1 < 7)); iVar1 = iVar1 + 1) {
        if ((uVar2 & 1) != 0) {
          *(uint *)PTR_DMA_DICR_800317c0 =
               (1 << (iVar1 + 0x18U & 0x1f) | 0xffffffU) & *(uint *)PTR_DMA_DICR_800317c0;
          if (*ppcVar3 != (code *)0x0) {
            (**ppcVar3)();
          }
        }
        ppcVar3 = ppcVar3 + 1;
        uVar2 = uVar2 >> 1;
      }
      uVar2 = *(uint *)PTR_DMA_DICR_800317c0 >> 0x18 & 0x7f;
    } while (uVar2 != 0);
  }
  if (((*(uint *)PTR_DMA_DICR_800317c0 & 0xff000000) != 0x80000000) &&
     ((*(uint *)PTR_DMA_DICR_800317c0 & 0x8000) == 0)) {
    return;
  }
                    // WARNING: Subroutine does not return
  printf(s_DMA_bus_error__code__08x_80010184,*(undefined4 *)PTR_DMA_DICR_800317c0);
}



int setIntrDMA(int param_1,int param_2)

{
  undefined *puVar1;
  int *piVar2;
  int iVar3;
  
  puVar1 = PTR_DMA_DICR_800317c0;
  piVar2 = &DAT_800317c4 + param_1;
  iVar3 = *piVar2;
  if (param_2 != iVar3) {
    if (param_2 != 0) {
      *piVar2 = param_2;
      *(uint *)puVar1 = *(uint *)puVar1 & 0xffffff | 1 << (param_1 + 0x10U & 0x1f) | 0x800000U;
      iVar3 = INTR_DMA_OBJ_274();
      return iVar3;
    }
    *piVar2 = 0;
    *(uint *)puVar1 = (*(uint *)puVar1 & 0xffffff | 0x800000) & ~(1 << (param_1 + 0x10U & 0x1f));
  }
  return iVar3;
}



undefined4 INTR_DMA_OBJ_274(void)

{
  undefined4 in_a3;
  
  return in_a3;
}



void memclr(undefined4 *param_1,int param_2)

{
  int iVar1;
  
  iVar1 = param_2 + -1;
  if (param_2 != 0) {
    do {
      *param_1 = 0;
      iVar1 = iVar1 + -1;
      param_1 = param_1 + 1;
    } while (iVar1 != -1);
  }
  return;
}



// Possible VMODE.OBJ/SetVideoMode

undefined4 SetVideoMode(undefined4 param_1)

{
  undefined4 uVar1;
  
  uVar1 = DAT_800317e8;
  DAT_800317e8 = param_1;
  return uVar1;
}



// Possible VMODE.OBJ/GetVideoMode
// Possible GS_125.OBJ/GsGetWorkBase

undefined4 GetVideoMode(void)

{
  return DAT_800317e8;
}



void StSetRing(u_long *ring_addr,u_long ring_size)

{
  DAT_800408dc = ring_addr;
  DAT_80040918 = ring_size;
  StClearRing();
  return;
}



int CdInit(void)

{
  int iVar1;
  undefined uVar2;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  int iVar3;
  undefined4 unaff_retaddr;
  
  iVar3 = 4;
  do {
    iVar1 = CdReset(1);
    iVar3 = iVar3 + -1;
    if (iVar1 == 1) {
      CdSyncCallback(def_cbsync);
      CdReadyCallback(def_cbready);
      uVar2 = 0xa4;
      CdReadCallback(def_cbread);
      iVar3 = EVENT_OBJ_7C(uVar2,in_a1,in_a2,in_a3,unaff_s0,unaff_retaddr);
      return iVar3;
    }
  } while (iVar3 != -1);
                    // WARNING: Subroutine does not return
  printf(s_CdInit__Init_failed_800101b0);
}



void EVENT_OBJ_7C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6)

{
  return;
}



void def_cbsync(void)

{
  DeliverEvent(0xf0000003,0x20);
  return;
}



void def_cbready(void)

{
  DeliverEvent(0xf0000003,0x40);
  return;
}



void def_cbread(void)

{
  DeliverEvent(0xf0000003,0x40);
  return;
}



int CdStatus(void)

{
  return (uint)(byte)DAT_8003188c;
}



int CdMode(void)

{
  return (uint)DAT_8003189c;
}



int CdLastCom(void)

{
  return (uint)DAT_8003189d;
}



CdlLOC * CdLastPos(void)

{
  return (CdlLOC *)&DAT_80031898;
}



undefined4 CdReset(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_retaddr;
  
  if (param_1 == 2) {
    CD_initintr();
    uVar1 = SYS_OBJ_98((char)param_1,in_a1,in_a2,in_a3,unaff_s0,unaff_retaddr);
    return uVar1;
  }
  iVar2 = CD_init();
  uVar1 = 0;
  if ((iVar2 == 0) && (uVar1 = 1, param_1 == 1)) {
    iVar2 = CD_initvol();
    uVar1 = 0;
    if (iVar2 == 0) {
      uVar1 = 1;
    }
  }
  return uVar1;
}



void SYS_OBJ_98(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
               undefined4 param_5,undefined4 param_6)

{
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void CdFlush(void)

{
  CD_flush();
  return;
}



int CdSetDebug(int level)

{
  int iVar1;
  
  iVar1 = DAT_80031888;
  DAT_80031888 = level;
  return iVar1;
}



char * CdComstr(u_char com)

{
  char *pcVar1;
  
  if (com < 0x1c) {
    pcVar1 = (char *)SYS_OBJ_110();
    return pcVar1;
  }
  return (char *)0x800101c8;
}



void SYS_OBJ_110(void)

{
  return;
}



char * CdIntstr(u_char intr)

{
  char *pcVar1;
  
  if (intr < 7) {
    pcVar1 = (char *)SYS_OBJ_144();
    return pcVar1;
  }
  return (char *)0x800101c8;
}



void SYS_OBJ_144(void)

{
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

int CdSync(int mode,u_char *result)

{
  int iVar1;
  
  iVar1 = CD_sync(mode,result);
  return iVar1;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

int CdReady(int mode,u_char *result)

{
  int iVar1;
  
  iVar1 = CD_ready(mode,result);
  return iVar1;
}



CdlCB CdSyncCallback(CdlCB func)

{
  CdlCB pCVar1;
  
  pCVar1 = DAT_8003187c;
  DAT_8003187c = func;
  return pCVar1;
}



CdlCB CdReadyCallback(CdlCB func)

{
  CdlCB pCVar1;
  
  pCVar1 = DAT_80031880;
  DAT_80031880 = func;
  return pCVar1;
}



int CdControl(u_char com,u_char *param,u_char *result)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  
  uVar1 = DAT_8003187c;
  iVar3 = 3;
  while( true ) {
    DAT_8003187c = 0;
    if ((com != 1) && (((byte)DAT_8003188c & 0x10) != 0)) {
      CD_cw(1,(undefined *)0x0,(undefined *)0x0,0);
    }
    if ((((param == (u_char *)0x0) || (*(int *)(&DAT_800317fc + (uint)com * 4) == 0)) ||
        (iVar2 = CD_cw(2,param,result,0), iVar2 == 0)) &&
       (DAT_8003187c = uVar1, iVar2 = CD_cw(com,param,result,0), iVar2 == 0)) break;
    iVar3 = iVar3 + -1;
    if (iVar3 == -1) {
      DAT_8003187c = uVar1;
      return 0;
    }
  }
  return 1;
}



int CdControlF(u_char com,u_char *param)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  
  uVar1 = DAT_8003187c;
  iVar3 = 3;
  while( true ) {
    DAT_8003187c = 0;
    if ((com != 1) && (((byte)DAT_8003188c & 0x10) != 0)) {
      CD_cw(1,(undefined *)0x0,(undefined *)0x0,0);
    }
    if ((((param == (u_char *)0x0) || (*(int *)(&DAT_800317fc + (uint)com * 4) == 0)) ||
        (iVar2 = CD_cw(2,param,(undefined *)0x0,0), iVar2 == 0)) &&
       (DAT_8003187c = uVar1, iVar2 = CD_cw(com,param,(undefined *)0x0,1), iVar2 == 0)) break;
    iVar3 = iVar3 + -1;
    if (iVar3 == -1) {
      DAT_8003187c = uVar1;
      return 0;
    }
  }
  return 1;
}



int CdControlB(u_char com,u_char *param,u_char *result)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  undefined uVar4;
  undefined uVar5;
  u_char *puVar6;
  undefined uVar7;
  undefined4 unaff_s0;
  int iVar8;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_s6;
  undefined4 unaff_retaddr;
  
  uVar1 = DAT_8003187c;
  iVar8 = 3;
  do {
    DAT_8003187c = 0;
    if ((com != 1) && (((byte)DAT_8003188c & 0x10) != 0)) {
      CD_cw(1,(undefined *)0x0,(undefined *)0x0,0);
    }
    if ((param == (u_char *)0x0) || (*(int *)(&DAT_800317fc + (uint)com * 4) == 0)) {
SYS_OBJ_4DC:
      uVar7 = 0;
      puVar6 = result;
      DAT_8003187c = uVar1;
      iVar2 = CD_cw(com,param,result,0);
      uVar5 = SUB41(puVar6,0);
      iVar3 = 0;
      if (iVar2 == 0) break;
    }
    else {
      uVar7 = 0;
      puVar6 = result;
      iVar2 = CD_cw(2,param,result,0);
      uVar5 = SUB41(puVar6,0);
      if (iVar2 == 0) goto SYS_OBJ_4DC;
    }
    iVar8 = iVar8 + -1;
    iVar3 = -1;
    DAT_8003187c = uVar1;
  } while (iVar8 != -1);
  uVar4 = 0;
  if (iVar3 != 0) {
    return 0;
  }
  CD_sync(0,result);
  iVar8 = SYS_OBJ_538(uVar4,(char)result,uVar5,uVar7,unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,
                      unaff_s5,unaff_s6,unaff_retaddr);
  return iVar8;
}



void SYS_OBJ_538(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12)

{
  return;
}



int CdMix(CdlATV *vol)

{
  CD_vol(&vol->val0);
  return 1;
}



int CdGetSector(void *madr,int size)

{
  int iVar1;
  
  iVar1 = CD_getsector(madr,size);
  return (uint)(iVar1 == 0);
}



_func_49 * CdDataCallback(func *func)

{
  _func_49 *p_Var1;
  
  p_Var1 = (_func_49 *)DMACallback();
  return p_Var1;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

int CdDataSync(int mode)

{
  int iVar1;
  
  iVar1 = CD_datasync(mode);
  return iVar1;
}



CdlLOC * CdIntToPos(int i,CdlLOC *p)

{
  int sectors;
  int seconds;
  int minutes;
  
  seconds = (i + 150) / 75;
  sectors = (i + 150) % 75;
  minutes = seconds / 60;
  seconds = seconds % 60;
  p->second = (char)seconds + (char)(seconds / 10) * 6;
  p->sector = (char)sectors + (char)(sectors / 10) * 6;
  p->minute = (char)minutes + (char)(minutes / 10) * 6;
  return p;
}



int CdPosToInt(CdlLOC *p)

{
  return (((uint)(p->minute >> 4) * 10 + (p->minute & 0xf)) * 0x3c +
         (uint)(p->second >> 4) * 10 + (p->second & 0xf)) * 0x4b +
         (uint)(p->sector >> 4) * 10 + (p->sector & 0xf) + -0x96;
}



undefined4 getintr(void)

{
  undefined4 uVar1;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined unaff_s0;
  undefined unaff_s1;
  undefined in_stack_ffffffe4;
  undefined1 in_stack_ffffffe8;
  undefined1 in_stack_ffffffe9;
  undefined in_stack_ffffffec;
  
  *PTR_CDROM_REG0_80031b40 = 1;
  if ((*PTR_CDROM_REG3_80031b4c & 7) != 0) {
    uVar1 = BIOS_OBJ_64(PTR_CDROM_REG3_80031b4c,in_a1,in_a2,in_a3,*PTR_CDROM_REG3_80031b4c & 7,
                        in_stack_ffffffe4,in_stack_ffffffe8,in_stack_ffffffec,unaff_s0,unaff_s1,
                        in_stack_ffffffe9);
    return uVar1;
  }
  return 0;
}



undefined4
BIOS_OBJ_64(byte *param_1,undefined param_2,undefined param_3,undefined param_4,byte param_5,
           undefined param_6,byte param_7,undefined param_8,undefined param_9,undefined param_10,
           byte param_11)

{
  undefined uVar1;
  undefined4 uVar2;
  undefined *puVar3;
  undefined1 *puVar4;
  int iVar5;
  uint unaff_s1;
  undefined3 in_stack_00000021;
  undefined3 in_stack_00000025;
  undefined4 in_stack_00000028;
  
  while (iVar5 = 0, param_5 != (*param_1 & 7)) {
    param_5 = *param_1 & 7;
  }
  puVar3 = &param_7;
  do {
    if ((*PTR_CDROM_REG0_80031b40 & 0x20) == 0) break;
    iVar5 = iVar5 + 1;
    *puVar3 = *PTR_CDROM_REG1_80031b44;
    puVar3 = puVar3 + 1;
  } while (iVar5 < 8);
  if (iVar5 < 8) {
    puVar3 = &param_7 + iVar5;
    do {
      *puVar3 = 0;
      puVar3 = puVar3 + 1;
    } while ((int)puVar3 < (int)&param_9);
  }
  *PTR_CDROM_REG0_80031b40 = 1;
  *PTR_CDROM_REG3_80031b4c = 7;
  *PTR_CDROM_REG2_80031b48 = 7;
  if ((param_5 != 3) || (*(int *)(&DAT_80031a40 + (uint)DAT_8003189d * 4) != 0)) {
    if (((DAT_8003188c & 0x10) == 0) && ((param_7 & 0x10) != 0)) {
      DAT_80031894 = DAT_80031894 + 1;
    }
    DAT_8003188c = (uint)param_7;
    DAT_80031890 = (uint)param_11;
    unaff_s1 = DAT_8003188c & 0x1d;
  }
  if ((param_5 == 5) && (puts(s_DiskError__80010338), 0 < DAT_80031888)) {
                    // WARNING: Subroutine does not return
    printf(s_com__s_code___02x__02x__80010344,(&PTR_s_CdlSync_800318a0)[DAT_8003189d],DAT_8003188c,
           DAT_80031890);
  }
  switch(param_5) {
  case 1:
    DAT_80031b59 = 1;
    if (unaff_s1 != 0) {
      if (iVar5 == 1) {
        unaff_s1 = 0;
      }
      DAT_80031b59 = 1;
      if (unaff_s1 != 0) {
        DAT_80031b59 = 5;
      }
    }
    puVar4 = &DAT_80032a84;
    puVar3 = &param_7;
    iVar5 = 7;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      iVar5 = iVar5 + -1;
      *puVar4 = uVar1;
      puVar4 = puVar4 + 1;
    } while (iVar5 != -1);
    *PTR_CDROM_REG0_80031b40 = 0;
    *PTR_CDROM_REG3_80031b4c = 0;
    uVar2 = BIOS_OBJ_560(0xff,(char)puVar3,0xff,param_4,param_5,param_6,param_7,param_8,_param_9,
                         _param_10,in_stack_00000028);
    return uVar2;
  case 2:
    DAT_80031b58 = 2;
    if (unaff_s1 != 0) {
      DAT_80031b58 = 5;
    }
    puVar4 = &DAT_80032a7c;
    puVar3 = &param_7;
    iVar5 = 7;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      iVar5 = iVar5 + -1;
      *puVar4 = uVar1;
      puVar4 = puVar4 + 1;
    } while (iVar5 != -1);
    uVar2 = BIOS_OBJ_560(0xff,(char)puVar3,0xff,param_4,param_5,param_6,param_7,param_8,_param_9,
                         _param_10,in_stack_00000028);
    return uVar2;
  case 3:
    break;
  case 4:
    puVar4 = &DAT_80032a8c;
    puVar3 = &param_7;
    DAT_80031b5a = 4;
    DAT_80031b59 = 4;
    iVar5 = 7;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      iVar5 = iVar5 + -1;
      *puVar4 = uVar1;
      puVar4 = puVar4 + 1;
    } while (iVar5 != -1);
    puVar4 = &DAT_80032a84;
    puVar3 = &param_7;
    iVar5 = 7;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      iVar5 = iVar5 + -1;
      *puVar4 = uVar1;
      puVar4 = puVar4 + 1;
    } while (iVar5 != -1);
    uVar2 = BIOS_OBJ_560(0xff,(char)puVar3,0xff,param_4,param_5,param_6,param_7,param_8,_param_9,
                         _param_10,in_stack_00000028);
    return uVar2;
  case 5:
    puVar4 = &DAT_80032a7c;
    puVar3 = &param_7;
    DAT_80031b59 = 5;
    DAT_80031b58 = 5;
    iVar5 = 7;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      iVar5 = iVar5 + -1;
      *puVar4 = uVar1;
      puVar4 = puVar4 + 1;
    } while (iVar5 != -1);
    puVar4 = &DAT_80032a84;
    puVar3 = &param_7;
    iVar5 = 7;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      iVar5 = iVar5 + -1;
      *puVar4 = uVar1;
      puVar4 = puVar4 + 1;
    } while (iVar5 != -1);
    uVar2 = BIOS_OBJ_560(0xff,(char)puVar3,0xff,param_4,param_5,param_6,param_7,param_8,_param_9,
                         _param_10,in_stack_00000028);
    return uVar2;
  default:
    puts(s_CDROM__unknown_intr_80010360);
                    // WARNING: Subroutine does not return
    printf(s___d__80010374,(uint)param_5);
  }
  if (unaff_s1 != 0) {
    DAT_80031b58 = 5;
    puVar4 = &DAT_80032a7c;
    puVar3 = &param_7;
    iVar5 = 7;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      iVar5 = iVar5 + -1;
      *puVar4 = uVar1;
      puVar4 = puVar4 + 1;
    } while (iVar5 != -1);
    uVar2 = BIOS_OBJ_560(0xff,(char)puVar3,0xff,param_4,param_5,param_6,param_7,param_8,_param_9,
                         _param_10,in_stack_00000028);
    return uVar2;
  }
  if (*(int *)(&DAT_80031940 + (uint)DAT_8003189d * 4) == 0) {
    DAT_80031b58 = 2;
    puVar4 = &DAT_80032a7c;
    puVar3 = &param_7;
    iVar5 = 7;
    do {
      uVar1 = *puVar3;
      puVar3 = puVar3 + 1;
      iVar5 = iVar5 + -1;
      *puVar4 = uVar1;
      puVar4 = puVar4 + 1;
    } while (iVar5 != -1);
    uVar2 = BIOS_OBJ_560(0xff,(char)puVar3,0xff,param_4,param_5,param_6,param_7,param_8,_param_9,
                         _param_10,in_stack_00000028);
    return uVar2;
  }
  DAT_80031b58 = 3;
  puVar4 = &DAT_80032a7c;
  puVar3 = &param_7;
  iVar5 = 7;
  do {
    uVar1 = *puVar3;
    puVar3 = puVar3 + 1;
    iVar5 = iVar5 + -1;
    *puVar4 = uVar1;
    puVar4 = puVar4 + 1;
  } while (iVar5 != -1);
  uVar2 = BIOS_OBJ_560(0xff,(char)puVar3,0xff,param_4,param_5,param_6,param_7,param_8,_param_9,
                       _param_10,in_stack_00000028);
  return uVar2;
}



// WARNING: Removing unreachable block (ram,0x8001f4dc)

void BIOS_OBJ_258(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7)

{
  undefined uVar1;
  undefined1 *puVar2;
  int iVar3;
  undefined *puVar4;
  int unaff_s1;
  undefined in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  
  if (unaff_s1 != 0) {
    DAT_80031b58 = 5;
    puVar2 = &DAT_80032a7c;
    puVar4 = &param_7;
    iVar3 = 7;
    do {
      uVar1 = *puVar4;
      puVar4 = puVar4 + 1;
      iVar3 = iVar3 + -1;
      *puVar2 = uVar1;
      puVar2 = puVar2 + 1;
    } while (iVar3 != -1);
    BIOS_OBJ_560(0xff,(char)puVar4,0xff,param_4,param_5,param_6,param_7,in_stack_0000001c,
                 in_stack_00000020,in_stack_00000024,in_stack_00000028);
    return;
  }
  if (*(int *)(&DAT_80031940 + (uint)DAT_8003189d * 4) != 0) {
    DAT_80031b58 = 3;
    puVar2 = &DAT_80032a7c;
    puVar4 = &param_7;
    iVar3 = 7;
    do {
      uVar1 = *puVar4;
      puVar4 = puVar4 + 1;
      iVar3 = iVar3 + -1;
      *puVar2 = uVar1;
      puVar2 = puVar2 + 1;
    } while (iVar3 != -1);
    BIOS_OBJ_560(0xff,(char)puVar4,0xff,param_4,param_5,param_6,param_7,in_stack_0000001c,
                 in_stack_00000020,in_stack_00000024,in_stack_00000028);
    return;
  }
  DAT_80031b58 = 2;
  puVar2 = &DAT_80032a7c;
  puVar4 = &param_7;
  iVar3 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar3 = iVar3 + -1;
    *puVar2 = uVar1;
    puVar2 = puVar2 + 1;
  } while (iVar3 != -1);
  BIOS_OBJ_560(0xff,(char)puVar4,0xff,param_4,param_5,param_6,param_7,in_stack_0000001c,
               in_stack_00000020,in_stack_00000024,in_stack_00000028);
  return;
}



void BIOS_OBJ_358(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7)

{
  undefined uVar1;
  undefined1 *puVar2;
  int iVar3;
  undefined *puVar4;
  int unaff_s1;
  undefined in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  
  DAT_80031b58 = 2;
  if (unaff_s1 != 0) {
    DAT_80031b58 = 5;
  }
  puVar2 = &DAT_80032a7c;
  puVar4 = &param_7;
  iVar3 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar3 = iVar3 + -1;
    *puVar2 = uVar1;
    puVar2 = puVar2 + 1;
  } while (iVar3 != -1);
  BIOS_OBJ_560(0xff,(char)puVar4,0xff,param_4,param_5,param_6,param_7,in_stack_0000001c,
               in_stack_00000020,in_stack_00000024,in_stack_00000028);
  return;
}



void BIOS_OBJ_3A4(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7)

{
  undefined uVar1;
  undefined1 *puVar2;
  int iVar3;
  undefined *puVar4;
  int unaff_s0;
  int unaff_s1;
  undefined in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  
  DAT_80031b59 = 1;
  if (unaff_s1 != 0) {
    if (unaff_s0 == 1) {
      unaff_s1 = 0;
    }
    DAT_80031b59 = 1;
    if (unaff_s1 != 0) {
      DAT_80031b59 = 5;
    }
  }
  puVar2 = &DAT_80032a84;
  puVar4 = &param_7;
  iVar3 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar3 = iVar3 + -1;
    *puVar2 = uVar1;
    puVar2 = puVar2 + 1;
  } while (iVar3 != -1);
  *PTR_CDROM_REG0_80031b40 = 0;
  *PTR_CDROM_REG3_80031b4c = 0;
  BIOS_OBJ_560(0xff,(char)puVar4,0xff,param_4,param_5,param_6,param_7,in_stack_0000001c,
               in_stack_00000020,in_stack_00000024,in_stack_00000028);
  return;
}



void BIOS_OBJ_428(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7)

{
  undefined uVar1;
  int iVar2;
  undefined1 *puVar3;
  undefined *puVar4;
  undefined in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  
  puVar3 = &DAT_80032a8c;
  puVar4 = &param_7;
  DAT_80031b5a = 4;
  DAT_80031b59 = 4;
  iVar2 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar2 = iVar2 + -1;
    *puVar3 = uVar1;
    puVar3 = puVar3 + 1;
  } while (iVar2 != -1);
  puVar3 = &DAT_80032a84;
  puVar4 = &param_7;
  iVar2 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar2 = iVar2 + -1;
    *puVar3 = uVar1;
    puVar3 = puVar3 + 1;
  } while (iVar2 != -1);
  BIOS_OBJ_560(0xff,(char)puVar4,0xff,param_4,param_5,param_6,param_7,in_stack_0000001c,
               in_stack_00000020,in_stack_00000024,in_stack_00000028);
  return;
}



void BIOS_OBJ_4B0(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7)

{
  undefined uVar1;
  int iVar2;
  undefined1 *puVar3;
  undefined *puVar4;
  undefined in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  
  puVar3 = &DAT_80032a7c;
  puVar4 = &param_7;
  DAT_80031b59 = 5;
  DAT_80031b58 = 5;
  iVar2 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar2 = iVar2 + -1;
    *puVar3 = uVar1;
    puVar3 = puVar3 + 1;
  } while (iVar2 != -1);
  puVar3 = &DAT_80032a84;
  puVar4 = &param_7;
  iVar2 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar2 = iVar2 + -1;
    *puVar3 = uVar1;
    puVar3 = puVar3 + 1;
  } while (iVar2 != -1);
  BIOS_OBJ_560(0xff,(char)puVar4,0xff,param_4,param_5,param_6,param_7,in_stack_0000001c,
               in_stack_00000020,in_stack_00000024,in_stack_00000028);
  return;
}



void BIOS_OBJ_560(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                 undefined4 param_9,undefined4 param_10,undefined4 param_11)

{
  return;
}



undefined4 CD_sync(int param_1,undefined *param_2)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  undefined1 *puVar7;
  undefined uVar8;
  undefined4 in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_s6;
  undefined4 unaff_retaddr;
  undefined4 in_stack_ffffffd8;
  undefined in_stack_ffffffdc;
  
  iVar4 = VSync(-1);
  DAT_80032a94 = iVar4 + 0x3c0;
  DAT_80032a98 = 0;
  DAT_80032a9c = s_CD_sync_80010394;
  while( true ) {
    iVar4 = VSync(-1);
    if ((DAT_80032a94 < iVar4) ||
       (iVar4 = DAT_80032a98 + 1, bVar3 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar4, bVar3)) {
      puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
      printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,
             (&PTR_s_CdlSync_800318a0)[DAT_8003189d],(&PTR_s_NoIntr_80031920)[DAT_80031b58],
             (&PTR_s_NoIntr_80031920)[DAT_80031b59]);
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar1 = *PTR_CDROM_REG0_80031b40;
      while( true ) {
        uVar5 = getintr();
        if (uVar5 == 0) break;
        if (((uVar5 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
          (*DAT_80031880)(DAT_80031b59,&DAT_80032a84);
        }
        if (((uVar5 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
          (*DAT_8003187c)(DAT_80031b58,&DAT_80032a7c);
        }
      }
      *PTR_CDROM_REG0_80031b40 = bVar1 & 3;
    }
    bVar1 = DAT_80031b58;
    uVar8 = (undefined)in_a3;
    if ((DAT_80031b58 == 2) || (DAT_80031b58 == 5)) break;
    if (param_1 != 0) {
      return 0;
    }
  }
  DAT_80031b58 = 2;
  puVar7 = &DAT_80032a7c;
  iVar4 = 7;
  if (param_2 != (undefined *)0x0) {
    uVar8 = 0xff;
    do {
      uVar2 = *puVar7;
      puVar7 = puVar7 + 1;
      iVar4 = iVar4 + -1;
      *param_2 = uVar2;
      param_2 = param_2 + 1;
    } while (iVar4 != -1);
  }
  uVar6 = BIOS_OBJ_7CC((char)puVar7,(char)param_2,bVar1,uVar8,(char)in_stack_ffffffd8,
                       in_stack_ffffffdc,unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,unaff_s5,
                       unaff_s6,unaff_retaddr);
  return uVar6;
}



undefined4 BIOS_OBJ_6A4(void)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int in_v0;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  undefined1 *puVar7;
  undefined uVar8;
  undefined4 in_a3;
  byte *unaff_s2;
  int unaff_s3;
  undefined *unaff_s4;
  int unaff_s5;
  undefined *unaff_s6;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  undefined4 in_stack_00000034;
  
  while( true ) {
    if (in_v0 != 0) {
      return 0xffffffff;
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar1 = *PTR_CDROM_REG0_80031b40;
      while( true ) {
        uVar5 = getintr();
        if (uVar5 == 0) break;
        if (((uVar5 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
          (*DAT_80031880)(*unaff_s4,&DAT_80032a84);
        }
        if (((uVar5 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
          (*DAT_8003187c)(*unaff_s2,&DAT_80032a7c);
        }
      }
      *PTR_CDROM_REG0_80031b40 = bVar1 & 3;
    }
    uVar8 = (undefined)in_a3;
    bVar1 = *unaff_s2;
    if ((bVar1 == 2) || (bVar1 == 5)) {
      *unaff_s2 = 2;
      puVar7 = &DAT_80032a7c;
      iVar4 = 7;
      if (unaff_s6 != (undefined *)0x0) {
        uVar8 = 0xff;
        do {
          uVar2 = *puVar7;
          puVar7 = puVar7 + 1;
          iVar4 = iVar4 + -1;
          *unaff_s6 = uVar2;
          unaff_s6 = unaff_s6 + 1;
        } while (iVar4 != -1);
      }
      uVar6 = BIOS_OBJ_7CC((char)puVar7,(char)unaff_s6,bVar1,uVar8,in_stack_00000010,
                           in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                           in_stack_00000024,in_stack_00000028,in_stack_0000002c,in_stack_00000030,
                           in_stack_00000034);
      return uVar6;
    }
    if (unaff_s5 != 0) {
      return 0;
    }
    iVar4 = VSync(-1);
    if ((DAT_80032a94 < iVar4) ||
       (iVar4 = DAT_80032a98 + 1, bVar3 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar4, bVar3))
    break;
    in_v0 = 0;
  }
  puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
  printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,(&PTR_s_CdlSync_800318a0)[DAT_8003189d],
         *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s3));
}



undefined4
BIOS_OBJ_6D4(undefined param_1,undefined param_2,undefined param_3,byte param_4,undefined4 param_5)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  uint uVar4;
  undefined4 uVar5;
  int iVar6;
  undefined1 *puVar7;
  undefined uVar8;
  uint uVar9;
  byte unaff_s1;
  byte *unaff_s2;
  int unaff_s3;
  undefined *unaff_s4;
  int unaff_s5;
  undefined *unaff_s6;
  undefined in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  undefined4 in_stack_00000034;
  
  uVar9 = (uint)param_4;
  do {
    while( true ) {
      uVar4 = getintr();
      if (uVar4 == 0) break;
      if (((uVar4 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
        (*DAT_80031880)(*unaff_s4,&DAT_80032a84);
      }
      if (((uVar4 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
        (*DAT_8003187c)(*unaff_s2,&DAT_80032a7c);
      }
    }
    *PTR_CDROM_REG0_80031b40 = unaff_s1;
    do {
      uVar8 = (undefined)uVar9;
      bVar1 = *unaff_s2;
      if ((bVar1 == 2) || (bVar1 == 5)) {
        *unaff_s2 = 2;
        puVar7 = &DAT_80032a7c;
        iVar6 = 7;
        if (unaff_s6 != (undefined *)0x0) {
          uVar8 = 0xff;
          do {
            uVar2 = *puVar7;
            puVar7 = puVar7 + 1;
            iVar6 = iVar6 + -1;
            *unaff_s6 = uVar2;
            unaff_s6 = unaff_s6 + 1;
          } while (iVar6 != -1);
        }
        uVar5 = BIOS_OBJ_7CC((char)puVar7,(char)unaff_s6,bVar1,uVar8,(undefined)param_5,
                             in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020
                             ,in_stack_00000024,in_stack_00000028,in_stack_0000002c,
                             in_stack_00000030,in_stack_00000034);
        return uVar5;
      }
      if (unaff_s5 != 0) {
        return 0;
      }
      iVar6 = VSync(-1);
      if ((DAT_80032a94 < iVar6) ||
         (iVar6 = DAT_80032a98 + 1, bVar3 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar6, bVar3)) {
        puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
        printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,
               (&PTR_s_CdlSync_800318a0)[DAT_8003189d],
               *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s3));
      }
      iVar6 = CheckCallback();
    } while (iVar6 == 0);
    unaff_s1 = *PTR_CDROM_REG0_80031b40 & 3;
  } while( true );
}



void BIOS_OBJ_7CC(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8,
                 undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12,
                 undefined4 param_13,undefined4 param_14)

{
  return;
}



undefined4 CD_ready(int param_1,undefined *param_2)

{
  undefined uVar1;
  bool bVar2;
  byte bVar3;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  undefined1 *puVar7;
  byte bVar8;
  undefined uVar9;
  undefined4 in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_s6;
  undefined4 unaff_s7;
  undefined4 unaff_retaddr;
  undefined4 in_stack_ffffffd0;
  undefined in_stack_ffffffd4;
  
  iVar4 = VSync(-1);
  DAT_80032a94 = iVar4 + 0x3c0;
  DAT_80032a98 = 0;
  DAT_80032a9c = s_CD_ready_8001039c;
  while( true ) {
    iVar4 = VSync(-1);
    if ((DAT_80032a94 < iVar4) ||
       (iVar4 = DAT_80032a98 + 1, bVar2 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar4, bVar2)) {
      puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
      printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,
             (&PTR_s_CdlSync_800318a0)[DAT_8003189d],(&PTR_s_NoIntr_80031920)[DAT_80031b58],
             (&PTR_s_NoIntr_80031920)[DAT_80031b59]);
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar8 = *PTR_CDROM_REG0_80031b40;
      while( true ) {
        uVar5 = getintr();
        if (uVar5 == 0) break;
        if (((uVar5 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
          (*DAT_80031880)(DAT_80031b59,&DAT_80032a84);
        }
        if (((uVar5 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
          (*DAT_8003187c)(DAT_80031b58,&DAT_80032a7c);
        }
      }
      *PTR_CDROM_REG0_80031b40 = bVar8 & 3;
    }
    bVar3 = DAT_80031b5a;
    bVar8 = DAT_80031b59;
    uVar9 = (undefined)in_a3;
    if (DAT_80031b5a != 0) break;
    if (DAT_80031b59 != 0) {
      DAT_80031b59 = 0;
      puVar7 = &DAT_80032a84;
      iVar4 = 7;
      if (param_2 != (undefined *)0x0) {
        uVar9 = 0xff;
        do {
          uVar1 = *puVar7;
          puVar7 = puVar7 + 1;
          iVar4 = iVar4 + -1;
          *param_2 = uVar1;
          param_2 = param_2 + 1;
        } while (iVar4 != -1);
      }
      goto BIOS_OBJ_A84;
    }
    if (param_1 != 0) {
      return 0;
    }
  }
  DAT_80031b5a = 0;
  puVar7 = &DAT_80032a8c;
  bVar8 = bVar3;
  if (param_2 != (undefined *)0x0) {
    iVar4 = 7;
    do {
      uVar9 = *puVar7;
      puVar7 = puVar7 + 1;
      iVar4 = iVar4 + -1;
      *param_2 = uVar9;
      param_2 = param_2 + 1;
    } while (iVar4 != -1);
    uVar6 = BIOS_OBJ_A94((char)puVar7,(char)param_2,bVar3,0xff,(char)in_stack_ffffffd0,
                         in_stack_ffffffd4,unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,unaff_s5,
                         unaff_s6,unaff_s7,unaff_retaddr);
    return uVar6;
  }
BIOS_OBJ_A84:
  uVar6 = BIOS_OBJ_A94((char)puVar7,(char)param_2,bVar8,uVar9,(char)in_stack_ffffffd0,
                       in_stack_ffffffd4,unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,unaff_s5,
                       unaff_s6,unaff_s7,unaff_retaddr);
  return uVar6;
}



undefined4 BIOS_OBJ_92C(void)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int in_v0;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  undefined1 *puVar7;
  char cVar8;
  undefined uVar9;
  undefined4 in_a3;
  byte *unaff_s2;
  char *unaff_s3;
  undefined *unaff_s4;
  int unaff_s5;
  undefined *unaff_s6;
  int unaff_s7;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  undefined4 in_stack_00000034;
  undefined4 in_stack_00000038;
  
  while( true ) {
    if (in_v0 != 0) {
      return 0xffffffff;
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar1 = *PTR_CDROM_REG0_80031b40;
      while( true ) {
        uVar5 = getintr();
        if (uVar5 == 0) break;
        if (((uVar5 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
          (*DAT_80031880)(*unaff_s6,&DAT_80032a84);
        }
        if (((uVar5 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
          (*DAT_8003187c)(*unaff_s2,&DAT_80032a7c);
        }
      }
      *PTR_CDROM_REG0_80031b40 = bVar1 & 3;
    }
    uVar9 = (undefined)in_a3;
    cVar8 = *unaff_s3;
    if (cVar8 != '\0') break;
    cVar8 = unaff_s3[-1];
    if (cVar8 != '\0') {
      unaff_s3[-1] = '\0';
      puVar7 = &DAT_80032a84;
      iVar4 = 7;
      if (unaff_s4 != (undefined *)0x0) {
        uVar9 = 0xff;
        do {
          uVar2 = *puVar7;
          puVar7 = puVar7 + 1;
          iVar4 = iVar4 + -1;
          *unaff_s4 = uVar2;
          unaff_s4 = unaff_s4 + 1;
        } while (iVar4 != -1);
      }
      goto BIOS_OBJ_A84;
    }
    if (unaff_s7 != 0) {
      return 0;
    }
    iVar4 = VSync(-1);
    if ((DAT_80032a94 < iVar4) ||
       (iVar4 = DAT_80032a98 + 1, bVar3 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar4, bVar3)) {
      puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
      printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,
             (&PTR_s_CdlSync_800318a0)[DAT_8003189d],*(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s5)
            );
    }
    in_v0 = 0;
  }
  *unaff_s3 = '\0';
  puVar7 = &DAT_80032a8c;
  if (unaff_s4 != (undefined *)0x0) {
    iVar4 = 7;
    do {
      uVar9 = *puVar7;
      puVar7 = puVar7 + 1;
      iVar4 = iVar4 + -1;
      *unaff_s4 = uVar9;
      unaff_s4 = unaff_s4 + 1;
    } while (iVar4 != -1);
    uVar6 = BIOS_OBJ_A94((char)puVar7,(char)unaff_s4,cVar8,0xff,in_stack_00000010,in_stack_00000014,
                         in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                         in_stack_00000028,in_stack_0000002c,in_stack_00000030,in_stack_00000034,
                         in_stack_00000038);
    return uVar6;
  }
BIOS_OBJ_A84:
  uVar6 = BIOS_OBJ_A94((char)puVar7,(char)unaff_s4,cVar8,uVar9,in_stack_00000010,in_stack_00000014,
                       in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                       in_stack_00000028,in_stack_0000002c,in_stack_00000030,in_stack_00000034,
                       in_stack_00000038);
  return uVar6;
}



undefined4
BIOS_OBJ_95C(undefined param_1,undefined param_2,undefined param_3,byte param_4,undefined4 param_5)

{
  undefined uVar1;
  bool bVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  undefined1 *puVar6;
  char cVar7;
  undefined uVar8;
  uint uVar9;
  byte unaff_s1;
  byte *unaff_s2;
  char *unaff_s3;
  undefined *unaff_s4;
  int unaff_s5;
  undefined *unaff_s6;
  int unaff_s7;
  undefined in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  undefined4 in_stack_00000034;
  undefined4 in_stack_00000038;
  
  uVar9 = (uint)param_4;
  do {
    while( true ) {
      uVar3 = getintr();
      if (uVar3 == 0) break;
      if (((uVar3 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
        (*DAT_80031880)(*unaff_s6,&DAT_80032a84);
      }
      if (((uVar3 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
        (*DAT_8003187c)(*unaff_s2,&DAT_80032a7c);
      }
    }
    *PTR_CDROM_REG0_80031b40 = unaff_s1;
    do {
      uVar8 = (undefined)uVar9;
      cVar7 = *unaff_s3;
      if (cVar7 != '\0') {
        *unaff_s3 = '\0';
        puVar6 = &DAT_80032a8c;
        if (unaff_s4 != (undefined *)0x0) {
          iVar5 = 7;
          do {
            uVar8 = *puVar6;
            puVar6 = puVar6 + 1;
            iVar5 = iVar5 + -1;
            *unaff_s4 = uVar8;
            unaff_s4 = unaff_s4 + 1;
          } while (iVar5 != -1);
          uVar4 = BIOS_OBJ_A94((char)puVar6,(char)unaff_s4,cVar7,0xff,(undefined)param_5,
                               in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                               in_stack_00000020,in_stack_00000024,in_stack_00000028,
                               in_stack_0000002c,in_stack_00000030,in_stack_00000034,
                               in_stack_00000038);
          return uVar4;
        }
        goto BIOS_OBJ_A84;
      }
      cVar7 = unaff_s3[-1];
      if (cVar7 != '\0') {
        unaff_s3[-1] = '\0';
        puVar6 = &DAT_80032a84;
        iVar5 = 7;
        if (unaff_s4 != (undefined *)0x0) {
          uVar8 = 0xff;
          do {
            uVar1 = *puVar6;
            puVar6 = puVar6 + 1;
            iVar5 = iVar5 + -1;
            *unaff_s4 = uVar1;
            unaff_s4 = unaff_s4 + 1;
          } while (iVar5 != -1);
        }
BIOS_OBJ_A84:
        uVar4 = BIOS_OBJ_A94((char)puVar6,(char)unaff_s4,cVar7,uVar8,(undefined)param_5,
                             in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020
                             ,in_stack_00000024,in_stack_00000028,in_stack_0000002c,
                             in_stack_00000030,in_stack_00000034,in_stack_00000038);
        return uVar4;
      }
      if (unaff_s7 != 0) {
        return 0;
      }
      iVar5 = VSync(-1);
      if ((DAT_80032a94 < iVar5) ||
         (iVar5 = DAT_80032a98 + 1, bVar2 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar5, bVar2)) {
        puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
        printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,
               (&PTR_s_CdlSync_800318a0)[DAT_8003189d],
               *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s5));
      }
      iVar5 = CheckCallback();
    } while (iVar5 == 0);
    unaff_s1 = *PTR_CDROM_REG0_80031b40 & 3;
  } while( true );
}



void BIOS_OBJ_A94(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8,
                 undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12,
                 undefined4 param_13,undefined4 param_14,undefined4 param_15)

{
  return;
}



int CD_cw(byte param_1,undefined *param_2,undefined *param_3,int param_4)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int iVar4;
  uint uVar5;
  undefined *puVar6;
  undefined1 *puVar7;
  
  if (1 < DAT_80031888) {
                    // WARNING: Subroutine does not return
    printf(s__s____800103a8,(&PTR_s_CdlSync_800318a0)[param_1]);
  }
  if ((*(int *)(&DAT_80031ac0 + (uint)param_1 * 4) == 0) || (param_2 != (undefined *)0x0)) {
    CD_sync(0,(undefined *)0x0);
    iVar4 = 0;
    puVar6 = param_2;
    if (param_1 == 2) {
      do {
        (&DAT_80031898)[iVar4] = *puVar6;
        iVar4 = iVar4 + 1;
        puVar6 = puVar6 + 1;
      } while (iVar4 < 4);
    }
    DAT_80031b58 = 0;
    if (*(int *)(&DAT_800319c0 + (uint)param_1 * 4) != 0) {
      DAT_80031b59 = 0;
    }
    *PTR_CDROM_REG0_80031b40 = 0;
    iVar4 = 0;
    puVar6 = param_2;
    if (0 < *(int *)(&DAT_80031ac0 + (uint)param_1 * 4)) {
      do {
        *PTR_CDROM_REG2_80031b48 = *puVar6;
        iVar4 = iVar4 + 1;
        puVar6 = puVar6 + 1;
      } while (iVar4 < *(int *)(&DAT_80031ac0 + (uint)param_1 * 4));
    }
    DAT_8003189d = param_1;
    *PTR_CDROM_REG1_80031b44 = param_1;
    iVar4 = 0;
    if (param_4 == 0) {
      iVar4 = VSync(-1);
      DAT_80032a94 = iVar4 + 0x3c0;
      DAT_80032a98 = 0;
      DAT_80032a9c = s_CD_cw_800103c0;
      while (DAT_80031b58 == 0) {
        iVar4 = VSync(-1);
        if ((DAT_80032a94 < iVar4) ||
           (iVar4 = DAT_80032a98 + 1, bVar3 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar4, bVar3))
        {
          puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
          printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,
                 (&PTR_s_CdlSync_800318a0)[DAT_8003189d],(&PTR_s_NoIntr_80031920)[DAT_80031b58],
                 (&PTR_s_NoIntr_80031920)[DAT_80031b59]);
        }
        iVar4 = CheckCallback();
        if (iVar4 != 0) {
          bVar1 = *PTR_CDROM_REG0_80031b40;
          while( true ) {
            uVar5 = getintr();
            if (uVar5 == 0) break;
            if (((uVar5 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
              (*DAT_80031880)(DAT_80031b59,&DAT_80032a84);
            }
            if (((uVar5 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
              (*DAT_8003187c)(DAT_80031b58,&DAT_80032a7c);
            }
          }
          *PTR_CDROM_REG0_80031b40 = bVar1 & 3;
        }
      }
      if ((DAT_80031b58 == 2) && (param_1 == 0xe)) {
        DAT_8003189c = *param_2;
      }
      puVar7 = &DAT_80032a7c;
      if (param_3 != (undefined *)0x0) {
        iVar4 = 7;
        do {
          uVar2 = *puVar7;
          puVar7 = puVar7 + 1;
          iVar4 = iVar4 + -1;
          *param_3 = uVar2;
          param_3 = param_3 + 1;
        } while (iVar4 != -1);
      }
      iVar4 = -(uint)(DAT_80031b58 == 5);
    }
  }
  else {
    iVar4 = -2;
    if (0 < DAT_80031888) {
                    // WARNING: Subroutine does not return
      printf(s__s__no_param_800103b0,(&PTR_s_CdlSync_800318a0)[param_1]);
    }
  }
  return iVar4;
}



int BIOS_OBJ_D88(void)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int in_v0;
  int iVar4;
  uint uVar5;
  undefined1 *puVar6;
  byte *unaff_s2;
  char unaff_s3;
  int unaff_s4;
  undefined *unaff_s5;
  undefined *unaff_s6;
  undefined *unaff_s7;
  undefined4 uStack00000010;
  
  while( true ) {
    if (in_v0 != 0) {
      return -1;
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar1 = *PTR_CDROM_REG0_80031b40;
      while( true ) {
        uVar5 = getintr();
        if (uVar5 == 0) break;
        if (((uVar5 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
          (*DAT_80031880)(*unaff_s6,&DAT_80032a84);
        }
        if (((uVar5 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
          (*DAT_8003187c)(*unaff_s2,&DAT_80032a7c);
        }
      }
      *PTR_CDROM_REG0_80031b40 = bVar1 & 3;
    }
    if (*unaff_s2 != 0) break;
    iVar4 = VSync(-1);
    if ((DAT_80032a94 < iVar4) ||
       (iVar4 = DAT_80032a98 + 1, bVar3 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar4, bVar3)) {
      puts(s_CD_timeout__8001030c);
      uStack00000010 = *(undefined4 *)((uint)unaff_s2[1] * 4 + unaff_s4);
                    // WARNING: Subroutine does not return
      printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,
             (&PTR_s_CdlSync_800318a0)[DAT_8003189d],*(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s4)
            );
    }
    in_v0 = 0;
  }
  if ((DAT_80031b58 == '\x02') && (unaff_s3 == '\x0e')) {
    DAT_8003189c = *unaff_s5;
  }
  puVar6 = &DAT_80032a7c;
  if (unaff_s7 != (undefined *)0x0) {
    iVar4 = 7;
    do {
      uVar2 = *puVar6;
      puVar6 = puVar6 + 1;
      iVar4 = iVar4 + -1;
      *unaff_s7 = uVar2;
      unaff_s7 = unaff_s7 + 1;
    } while (iVar4 != -1);
  }
  return -(uint)(DAT_80031b58 == '\x05');
}



int BIOS_OBJ_DB8(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                undefined4 param_5)

{
  undefined uVar1;
  bool bVar2;
  uint uVar3;
  int iVar4;
  undefined1 *puVar5;
  byte unaff_s1;
  byte *unaff_s2;
  char unaff_s3;
  int unaff_s4;
  undefined *unaff_s5;
  undefined *unaff_s6;
  undefined *unaff_s7;
  
  do {
    while( true ) {
      uVar3 = getintr();
      if (uVar3 == 0) break;
      if (((uVar3 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
        (*DAT_80031880)(*unaff_s6,&DAT_80032a84);
      }
      if (((uVar3 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
        (*DAT_8003187c)(*unaff_s2,&DAT_80032a7c);
      }
    }
    *PTR_CDROM_REG0_80031b40 = unaff_s1;
    do {
      if (*unaff_s2 != 0) {
        if ((DAT_80031b58 == '\x02') && (unaff_s3 == '\x0e')) {
          DAT_8003189c = *unaff_s5;
        }
        puVar5 = &DAT_80032a7c;
        if (unaff_s7 != (undefined *)0x0) {
          iVar4 = 7;
          do {
            uVar1 = *puVar5;
            puVar5 = puVar5 + 1;
            iVar4 = iVar4 + -1;
            *unaff_s7 = uVar1;
            unaff_s7 = unaff_s7 + 1;
          } while (iVar4 != -1);
        }
        return -(uint)(DAT_80031b58 == '\x05');
      }
      iVar4 = VSync(-1);
      if ((DAT_80032a94 < iVar4) ||
         (iVar4 = DAT_80032a98 + 1, bVar2 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar4, bVar2)) {
        puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
        printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,
               (&PTR_s_CdlSync_800318a0)[DAT_8003189d],
               *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s4));
      }
      iVar4 = CheckCallback();
    } while (iVar4 == 0);
    unaff_s1 = *PTR_CDROM_REG0_80031b40 & 3;
  } while( true );
}



void BIOS_OBJ_EDC(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                 undefined param_9,undefined param_10,undefined4 param_11,undefined4 param_12,
                 undefined4 param_13,undefined4 param_14,undefined4 param_15,undefined4 param_16,
                 undefined4 param_17,undefined4 param_18,undefined4 param_19)

{
  return;
}



undefined4 CD_vol(undefined *param_1)

{
  *PTR_CDROM_REG0_80031b40 = 2;
  *PTR_CDROM_REG2_80031b48 = *param_1;
  *PTR_CDROM_REG3_80031b4c = param_1[1];
  *PTR_CDROM_REG0_80031b40 = 3;
  *PTR_CDROM_REG1_80031b44 = param_1[2];
  *PTR_CDROM_REG2_80031b48 = param_1[3];
  *PTR_CDROM_REG3_80031b4c = 0x20;
  return 0;
}



void CD_flush(void)

{
  byte bVar1;
  
  *PTR_CDROM_REG0_80031b40 = 1;
  bVar1 = *PTR_CDROM_REG3_80031b4c;
  while ((bVar1 & 7) != 0) {
    *PTR_CDROM_REG0_80031b40 = 1;
    *PTR_CDROM_REG3_80031b4c = 7;
    *PTR_CDROM_REG2_80031b48 = 7;
    bVar1 = *PTR_CDROM_REG3_80031b4c;
  }
  DAT_80031b5a = 0;
  DAT_80031b59 = 0;
  DAT_80031b58 = 2;
  *PTR_CDROM_REG0_80031b40 = 0;
  *PTR_CDROM_REG3_80031b4c = 0;
  *(undefined4 *)PTR_COMMON_DELAY_80031b50 = 0x1325;
  return;
}



undefined4 CD_initvol(void)

{
  undefined *puVar1;
  
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_80031b54;
  if ((*(short *)(PTR_VOICE_00_LEFT_RIGHT_80031b54 + 0x1b8) == 0) &&
     (*(short *)(PTR_VOICE_00_LEFT_RIGHT_80031b54 + 0x1ba) == 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_80031b54 + 0x180) = 0x3fff;
    *(undefined2 *)(puVar1 + 0x182) = 0x3fff;
  }
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_80031b54;
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_80031b54 + 0x1b0) = 0x3fff;
  *(undefined2 *)(puVar1 + 0x1b2) = 0x3fff;
  *(undefined2 *)(puVar1 + 0x1aa) = 0xc001;
  *PTR_CDROM_REG0_80031b40 = 2;
  *PTR_CDROM_REG2_80031b48 = 0x80;
  *PTR_CDROM_REG3_80031b4c = 0;
  *PTR_CDROM_REG0_80031b40 = 3;
  *PTR_CDROM_REG1_80031b44 = 0x80;
  *PTR_CDROM_REG2_80031b48 = 0;
  *PTR_CDROM_REG3_80031b4c = 0x20;
  return 0;
}



void CD_initintr(void)

{
  DAT_80031880 = 0;
  DAT_8003187c = 0;
  DAT_80031890 = 0;
  DAT_8003188c = 0;
  ResetCallback();
  InterruptCallback();
  return;
}



int CD_init(void)

{
  puts(s_CD_init__800103fc);
                    // WARNING: Subroutine does not return
  printf(s_addr__08x_80010408,&PTR_DAT_80031b5c);
}



undefined4 CD_datasync(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  
  iVar1 = VSync(-1);
  DAT_80032a94 = iVar1 + 0x3c0;
  DAT_80032a98 = 0;
  DAT_80032a9c = s_CD_datasync_80010414;
  while (iVar2 = VSync(-1), iVar1 = DAT_80032a98, iVar2 <= DAT_80032a94) {
    DAT_80032a98 = DAT_80032a98 + 1;
    if (0x3c0000 < iVar1) break;
    uVar3 = 0;
    if (((*(uint *)PTR_DMA_CDROM_CHCR_80031b84 & 0x1000000) == 0) || (uVar3 = 1, param_1 != 0)) {
      return uVar3;
    }
  }
  puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
  printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,(&PTR_s_CdlSync_800318a0)[DAT_8003189d],
         (&PTR_s_NoIntr_80031920)[DAT_80031b58],(&PTR_s_NoIntr_80031920)[DAT_80031b59]);
}



undefined4
BIOS_OBJ_14C0(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
             undefined4 param_5,undefined param_6,undefined4 param_7,undefined4 param_8,
             undefined4 param_9,undefined4 param_10,undefined4 param_11)

{
  bool bVar1;
  int iVar2;
  int in_v0;
  undefined4 uVar3;
  int unaff_s0;
  byte *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  
  while (((uVar3 = 0xffffffff, in_v0 == 0 &&
          (uVar3 = 0, (*(uint *)PTR_DMA_CDROM_CHCR_80031b84 & 0x1000000) != 0)) &&
         (uVar3 = 1, unaff_s2 == 0))) {
    iVar2 = VSync(-1);
    if ((DAT_80032a94 < iVar2) ||
       (iVar2 = DAT_80032a98 + 1, bVar1 = 0x3c0000 < DAT_80032a98, DAT_80032a98 = iVar2, bVar1)) {
      puts(s_CD_timeout__8001030c);
                    // WARNING: Subroutine does not return
      printf(s__s___s__Sync__s__Ready__s_8001031c,DAT_80032a9c,
             *(undefined4 *)((uint)DAT_8003189d * 4 + unaff_s3),
             *(undefined4 *)((uint)*unaff_s1 * 4 + unaff_s0));
    }
    in_v0 = 0;
  }
  return uVar3;
}



undefined4 CD_getsector(undefined4 param_1,uint param_2)

{
  uint uVar1;
  
  *PTR_CDROM_REG0_80031b40 = 0;
  *PTR_CDROM_REG3_80031b4c = 0x80;
  *(undefined4 *)PTR_CDROM_DELAY_80031b74 = 0x20943;
  *(undefined4 *)PTR_COMMON_DELAY_80031b50 = 0x1323;
  *(uint *)PTR_DMA_DPCR_80031b78 = *(uint *)PTR_DMA_DPCR_80031b78 | 0x8000;
  *(undefined4 *)PTR_DMA_CDROM_MADR_80031b7c = param_1;
  *(uint *)PTR_DMA_CDROM_BCR_80031b80 = param_2 | 0x10000;
  do {
  } while ((*PTR_CDROM_REG0_80031b40 & 0x40) == 0);
  *(undefined4 *)PTR_DMA_CDROM_CHCR_80031b84 = 0x11000000;
  uVar1 = *(uint *)PTR_DMA_CDROM_CHCR_80031b84;
  while ((uVar1 & 0x1000000) != 0) {
    uVar1 = *(uint *)PTR_DMA_CDROM_CHCR_80031b84;
  }
  *(undefined4 *)PTR_COMMON_DELAY_80031b50 = 0x1325;
  return 0;
}



// Possible GS_101.OBJ/GsSetNearClip
// Possible GS_102.OBJ/GsSetFarClip
// Possible GS_124.OBJ/GsSetWorkBase

void CD_set_test_parmnum(undefined4 param_1)

{
  DAT_80031b24 = param_1;
  return;
}



void callback(void)

{
  byte bVar1;
  uint uVar2;
  
  bVar1 = *PTR_CDROM_REG0_80031b40;
  while( true ) {
    uVar2 = getintr();
    if (uVar2 == 0) break;
    if (((uVar2 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
      (*DAT_80031880)(DAT_80031b59,&DAT_80032a84);
    }
    if (((uVar2 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
      (*DAT_8003187c)(DAT_80031b58,&DAT_80032a7c);
    }
  }
  *PTR_CDROM_REG0_80031b40 = bVar1 & 3;
  return;
}



void BIOS_OBJ_164C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                  undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  uint uVar1;
  undefined unaff_s1;
  undefined *unaff_s2;
  
  while( true ) {
    uVar1 = getintr();
    if (uVar1 == 0) break;
    if (((uVar1 & 4) != 0) && (DAT_80031880 != (code *)0x0)) {
      (*DAT_80031880)(*unaff_s2,&DAT_80032a84);
    }
    if (((uVar1 & 2) != 0) && (DAT_8003187c != (code *)0x0)) {
      (*DAT_8003187c)(DAT_80031b58,&DAT_80032a7c);
    }
  }
  *PTR_CDROM_REG0_80031b40 = unaff_s1;
  return;
}



void cb_read(char param_1,undefined4 param_2)

{
  int iVar1;
  void *pvVar2;
  undefined4 uVar3;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_retaddr;
  u_char in_stack_ffffffe0;
  undefined in_stack_ffffffe4;
  undefined in_stack_ffffffe8;
  undefined in_stack_ffffffec;
  
  if (param_1 == '\x01') {
    if (0 < CDReadNumSect) {
      if (DAT_80031b9c == 0x200) {
        CdGetSector(&stack0xffffffe0,3);
        iVar1 = CdPosToInt((CdlLOC *)&stack0xffffffe0);
        if (iVar1 != DAT_80031bac) {
          puts(s_CdRead__sector_error_80010420);
          CDReadNumSect = -1;
        }
      }
      pvVar2 = DAT_80031b94;
      iVar1 = DAT_80031b9c;
      CdGetSector(DAT_80031b94,DAT_80031b9c);
      DAT_80031b94 = (void *)(DAT_80031b9c * 4 + (int)DAT_80031b94);
      CDReadNumSect = CDReadNumSect + -1;
      DAT_80031bac = DAT_80031bac + 1;
      CDREAD_OBJ_114((char)pvVar2,(char)iVar1,in_a2,in_a3,in_stack_ffffffe0,in_stack_ffffffe4,
                     in_stack_ffffffe8,in_stack_ffffffec,unaff_s0,unaff_s1,unaff_retaddr);
      return;
    }
  }
  else {
    CDReadNumSect = -1;
  }
  DAT_80031ba4 = VSync(-1);
  if (CDReadNumSect < 0) {
    cd_read_retry(1);
  }
  iVar1 = VSync(-1);
  if (DAT_80031ba8 + 0x4b0 < iVar1) {
    CDReadNumSect = -1;
  }
  if ((CDReadNumSect == 0) || (iVar1 = VSync(-1), DAT_80031ba8 + 0x4b0 < iVar1)) {
    CdSyncCallback(CDSyncCallbackFunc);
    CdReadyCallback(CDReadyCallbackFunc);
    CdControl('\t',(u_char *)0x0,(u_char *)0x0);
    if (DAT_80031b88 != (code *)0x0) {
      uVar3 = 5;
      if (CDReadNumSect == 0) {
        uVar3 = 2;
      }
      (*DAT_80031b88)(uVar3,param_2);
    }
  }
  return;
}



void CDREAD_OBJ_114(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                   undefined4 param_9,undefined4 param_10,undefined4 param_11)

{
  int iVar1;
  undefined4 uVar2;
  
  DAT_80031ba4 = VSync(-1);
  if (CDReadNumSect < 0) {
    cd_read_retry(1);
  }
  iVar1 = VSync(-1);
  if (DAT_80031ba8 + 0x4b0 < iVar1) {
    CDReadNumSect = -1;
  }
  if ((CDReadNumSect == 0) || (iVar1 = VSync(-1), DAT_80031ba8 + 0x4b0 < iVar1)) {
    CdSyncCallback(CDSyncCallbackFunc);
    CdReadyCallback(CDReadyCallbackFunc);
    CdControl('\t',(u_char *)0x0,(u_char *)0x0);
    if (DAT_80031b88 != (code *)0x0) {
      uVar2 = 5;
      if (CDReadNumSect == 0) {
        uVar2 = 2;
      }
      (*DAT_80031b88)(uVar2);
    }
  }
  return;
}



undefined4 cd_read_retry(int param_1)

{
  uint uVar1;
  undefined4 uVar2;
  CdlLOC *pCVar3;
  int iVar4;
  undefined uVar5;
  undefined uVar6;
  undefined in_a3;
  undefined4 unaff_s0;
  uint uVar7;
  undefined4 unaff_s1;
  undefined4 unaff_retaddr;
  u_char in_stack_ffffffe8;
  undefined in_stack_ffffffec;
  
  CdSyncCallback((CdlCB)0x0);
  CdReadyCallback((CdlCB)0x0);
  uVar1 = CdStatus();
  if ((uVar1 & 0x10) != 0) {
    uVar1 = VSync(-1);
    if ((uVar1 & 0x3f) == 0) {
      puts(s_CdRead__Shell_open____80010438);
    }
    CdControlF('\x01',(u_char *)0x0);
    DAT_80031ba8 = VSync(-1);
    CDReadNumSect = 0xffffffff;
    uVar2 = CDREAD_OBJ_3DC();
    return uVar2;
  }
  if (param_1 != 0) {
    puts(s_CdRead__retry____80010450);
    CdControl('\t',(u_char *)0x0,(u_char *)0x0);
    pCVar3 = CdLastPos();
    uVar5 = 2;
    uVar6 = 0;
    iVar4 = CdControl('\x02',&pCVar3->minute,(u_char *)0x0);
    if (iVar4 == 0) {
      CDReadNumSect = 0xffffffff;
      uVar2 = CDREAD_OBJ_3E4(uVar5,(char)pCVar3,uVar6,in_a3,in_stack_ffffffe8,in_stack_ffffffec,
                             unaff_s0,unaff_s1,unaff_retaddr);
      return uVar2;
    }
  }
  CdFlush();
  uVar7 = CDSubsystemMode & 0xff;
  uVar1 = CdMode();
  if (((uVar7 != uVar1) || (param_1 != 0)) &&
     (iVar4 = CdControl('\x0e',&stack0xffffffe8,(u_char *)0x0), iVar4 == 0)) {
    CDReadNumSect = 0xffffffff;
    uVar2 = CDREAD_OBJ_3DC();
    return uVar2;
  }
  pCVar3 = CdLastPos();
  DAT_80031bac = CdPosToInt(pCVar3);
  CdReadyCallback(cb_read);
  DAT_80031b94 = bufAddrCdRead;
  CdControlF('\x06',(u_char *)0x0);
  CDReadNumSect = DAT_80031b8c;
  DAT_80031ba4 = VSync(-1);
  return CDReadNumSect;
}



undefined4 CDREAD_OBJ_3DC(void)

{
  return CDReadNumSect;
}



void CDREAD_OBJ_3E4(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8,
                   undefined4 param_9)

{
  return;
}



int CdRead(int sectors,u_long *buf,int mode)

{
  bool bVar1;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined4 unaff_retaddr;
  
  CDSubsystemMode = mode;
  if ((mode & 0x30U) == 0) {
    DAT_80031b9c = 0x200;
    bVar1 = CDREAD_OBJ_468(sectors,buf,mode,sectors,unaff_retaddr);
    return CONCAT31(extraout_var_00,bVar1);
  }
  if ((mode & 0x30U) != 0x20) {
    bVar1 = CDREAD_OBJ_45C(sectors,buf,mode,sectors);
    return CONCAT31(extraout_var,bVar1);
  }
  DAT_80031b9c = 0x249;
  bVar1 = CDREAD_OBJ_468(sectors,buf,mode,sectors,unaff_retaddr);
  return CONCAT31(extraout_var_01,bVar1);
}



bool CDREAD_OBJ_45C(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 in_v0;
  uint uVar1;
  int iVar2;
  
  CDSubsystemMode = CDSubsystemMode | 0x20;
  DAT_80031b8c = param_4;
  bufAddrCdRead = param_2;
  DAT_80031b9c = in_v0;
  CDSyncCallbackFunc = CdSyncCallback((CdlCB)0x0);
  CDReadyCallbackFunc = CdReadyCallback((CdlCB)0x0);
  DAT_80031ba8 = VSync(-1);
  uVar1 = CdStatus();
  if ((uVar1 & 0xe0) != 0) {
    CdControlB('\t',(u_char *)0x0,(u_char *)0x0);
  }
  iVar2 = cd_read_retry(0);
  return 0 < iVar2;
}



bool CDREAD_OBJ_468(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
                   undefined4 param_5)

{
  uint uVar1;
  int iVar2;
  
  CDSubsystemMode = CDSubsystemMode | 0x20;
  DAT_80031b8c = param_4;
  bufAddrCdRead = param_2;
  CDSyncCallbackFunc = CdSyncCallback((CdlCB)0x0);
  CDReadyCallbackFunc = CdReadyCallback((CdlCB)0x0);
  DAT_80031ba8 = VSync(-1);
  uVar1 = CdStatus();
  if ((uVar1 & 0xe0) != 0) {
    CdControlB('\t',(u_char *)0x0,(u_char *)0x0);
  }
  iVar2 = cd_read_retry(0);
  return 0 < iVar2;
}



int CdReadSync(int mode,u_char *result)

{
  int iVar1;
  int iVar2;
  
  do {
    iVar1 = VSync(-1);
    iVar2 = -1;
    if ((iVar1 <= DAT_80031ba8 + 0x4b0) &&
       ((CDReadNumSect < 0 ||
        (iVar1 = VSync(-1), iVar2 = CDReadNumSect, DAT_80031ba4 + 0x3c < iVar1)))) {
      cd_read_retry(1);
      iVar2 = DAT_80031b8c;
    }
  } while ((mode == 0) && (0 < iVar2));
  CdReady(1,result);
  return iVar2;
}



int CDREAD_OBJ_594(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                  undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                  undefined4 param_9)

{
  int iVar1;
  int unaff_s0;
  int *unaff_s1;
  int unaff_s2;
  u_char *unaff_s3;
  
  while ((unaff_s2 == 0 && (0 < unaff_s0))) {
    iVar1 = VSync(-1);
    unaff_s0 = -1;
    if (iVar1 <= *unaff_s1 + 0x4b0) {
      if ((unaff_s1[-2] < 0) || (iVar1 = VSync(-1), unaff_s1[-1] + 0x3c < iVar1)) {
        cd_read_retry(1);
        unaff_s0 = unaff_s1[-7];
      }
      else {
        unaff_s0 = unaff_s1[-2];
      }
    }
  }
  CdReady(1,unaff_s3);
  return unaff_s0;
}



CdlCB CdReadCallback(CdlCB func)

{
  CdlCB pCVar1;
  
  pCVar1 = DAT_80031b88;
  DAT_80031b88 = func;
  return pCVar1;
}



int CdRead2(long mode)

{
  int iVar1;
  undefined uVar2;
  u_char *param;
  undefined uVar3;
  undefined in_a3;
  u_char uVar4;
  undefined4 unaff_s0;
  undefined4 unaff_retaddr;
  undefined in_stack_fffffff4;
  
  uVar2 = 0xe;
  param = &stack0xfffffff0;
  uVar3 = 0;
  uVar4 = (u_char)mode;
  CdControl('\x0e',param,(u_char *)0x0);
  if ((mode & 0x100U) != 0) {
    if ((mode & 0x20U) != 0) {
      DAT_80037070 = 0;
      iVar1 = CDREAD2_OBJ_50(uVar2,(char)param,uVar3,in_a3,uVar4,in_stack_fffffff4,unaff_s0,
                             unaff_retaddr);
      return iVar1;
    }
    DAT_80037070 = 1;
    CdDataCallback(data_ready_callback);
    CdReadyCallback(StCdInterrupt2);
  }
  iVar1 = CdControl('\x1b',(u_char *)0x0,(u_char *)0x0);
  return iVar1;
}



void CDREAD2_OBJ_50(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8)

{
  CdDataCallback(data_ready_callback);
  CdReadyCallback(StCdInterrupt2);
  CdControl('\x1b',(u_char *)0x0,(u_char *)0x0);
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void StCdInterrupt2(void)

{
  StCdInterrupt();
  return;
}



void StClearRing(void)

{
  DAT_800408c4 = 0;
  DAT_800408c0 = 0;
  DAT_800408bc = 0;
  DAT_800370b4 = 0;
  init_ring_status(0,DAT_80040918);
  DAT_8003707c = 0;
  DAT_80037068 = 0;
  DAT_8003701c = 0;
  return;
}



// Possible C_003.OBJ/StUnSetRing

void FUN_80020f3c(void)

{
  EnterCriticalSection();
  CdDataCallback((func *)0x0);
  CdReadyCallback((CdlCB)0x0);
  *PTR_CDROM_REG0_80031bc8 = 0;
  *PTR_CDROM_REG3_80031bd4 = 0;
  ExitCriticalSection();
  return;
}



void data_ready_callback(void)

{
  undefined2 *puVar1;
  
  puVar1 = (undefined2 *)(DAT_800408c0 * 0x20 + DAT_800408dc);
  *puVar1 = 2;
  DAT_80032aa0 = *(undefined4 *)(puVar1 + 0xe);
  DAT_80032aa4 = *(undefined4 *)(puVar1 + 4);
  DAT_800408c0 = DAT_800408bc;
  if (DAT_80037074 != (code *)0x0) {
    (*DAT_80037074)();
  }
  DAT_800370b4 = 0;
  return;
}



int StGetBackloc(CdlLOC *loc)

{
  int iVar1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_retaddr;
  
  if (DAT_80037070 == 0) {
    iVar1 = CdPosToInt((CdlLOC *)&DAT_80032aa0);
    iVar1 = iVar1 + 1;
    CdIntToPos(iVar1,loc);
    iVar1 = C_004_OBJ_DC((char)iVar1,(char)loc,in_a2,in_a3,unaff_s0,unaff_retaddr);
    return iVar1;
  }
  return -1;
}



void C_004_OBJ_DC(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6)

{
  return;
}



void StSetStream(u_long mode,u_long start_frame,u_long end_frame,func1 *func1,func2 *func2)

{
  FUN_800212cc(1,start_frame,end_frame);
  DAT_800408cc = 0;
  DAT_80037074 = func1;
  DAT_8003706c = mode & 1;
  DAT_800370ac = 0;
  DAT_800370a4 = 0;
  DAT_80037068 = 0;
  DAT_8003701c = 0;
  DAT_80037078 = func2;
  return;
}



u_long StFreeRing(u_long *base)

{
  int iVar1;
  short *psVar2;
  u_long uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  iVar1 = ((int)base - (DAT_80040918 * 0x20 + DAT_800408dc) >> 2) / 0x1f8;
  psVar2 = (short *)(iVar1 * 0x20 + DAT_800408dc);
  if (*psVar2 == 4) {
    iVar4 = (int)psVar2[3];
    iVar6 = 0;
    iVar5 = iVar1;
    if (0 < iVar4) {
      do {
        iVar6 = iVar6 + 1;
        *(undefined2 *)(iVar5 * 0x20 + DAT_800408dc) = 0;
        iVar5 = iVar6 + iVar1;
      } while (iVar6 < iVar4);
    }
    DAT_800408c4 = iVar6 + iVar1;
    return 0;
  }
  uVar3 = C_007_OBJ_B0();
  return uVar3;
}



void C_007_OBJ_B0(void)

{
  return;
}



void init_ring_status(int param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = 0;
  if (param_2 != 0) {
    do {
      iVar1 = uVar2 + param_1;
      uVar2 = uVar2 + 1;
      *(undefined4 *)(iVar1 * 0x20 + DAT_800408dc) = 0;
    } while (uVar2 < param_2);
  }
  return;
}



u_long StGetNext(u_long **addr,u_long **header)

{
  short sVar1;
  u_long *puVar2;
  
  puVar2 = (u_long *)(DAT_800408c4 * 0x20 + DAT_800408dc);
  if (*(short *)puVar2 == 1) {
    DAT_800408c4 = 0;
    if (DAT_800408d0 != 0) {
      *(short *)puVar2 = 0;
    }
    puVar2 = (u_long *)(DAT_800408c4 * 0x20 + DAT_800408dc);
  }
  sVar1 = *(short *)puVar2;
  if (sVar1 == 2) {
    *(short *)puVar2 = 4;
    *addr = (u_long *)(DAT_80040918 * 0x20 + DAT_800408dc + DAT_800408c4 * 0x7e0);
    *header = puVar2;
  }
  return (uint)(sVar1 != 2);
}



// Possible C_010.OBJ/StSetMask

void FUN_800212cc(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  DAT_800408d4 = param_1;
  DAT_800370a8 = param_2;
  DAT_800408d0 = param_3;
  return;
}



void StCdInterrupt(void)

{
  int iVar1;
  undefined *puVar2;
  uint uVar3;
  undefined uVar4;
  undefined4 *puVar5;
  undefined in_a1;
  byte *result;
  undefined4 *puVar6;
  undefined in_a2;
  undefined in_a3;
  undefined uVar7;
  undefined4 unaff_retaddr;
  undefined in_stack_ffffffd0;
  undefined in_stack_ffffffd4;
  undefined in_stack_ffffffd8;
  undefined in_stack_ffffffdc;
  undefined in_stack_ffffffe0;
  undefined in_stack_ffffffe4;
  undefined4 in_stack_ffffffe8;
  undefined auStack_14 [4];
  byte local_10;
  undefined local_f;
  
  uVar4 = 1;
  if (DAT_800370b4 != 1) {
    if ((DAT_8003706c != 0) && ((*(uint *)PTR_DMA_MDEC_OUT_CHCR_80031c58 & 0x1000000) != 0)) {
      DAT_8003707c = 1;
      if (DAT_800408cc != 0) {
        DAT_800370b8 = DAT_800370b8 + 1;
      }
      DAT_80031c80 = 1;
      C_011_OBJ_960(1,in_a1,in_a2,in_a3,in_stack_ffffffd0,in_stack_ffffffd4,in_stack_ffffffd8,
                    in_stack_ffffffdc,in_stack_ffffffe0,in_stack_ffffffe4,unaff_retaddr);
      return;
    }
    result = &local_10;
    iVar1 = CdReady(1,result);
    if (iVar1 != 5) {
      if ((local_10 & 4) != 0) {
        DAT_80031c80 = 3;
        C_011_OBJ_960(uVar4,(char)result,in_a2,in_a3,in_stack_ffffffd0,in_stack_ffffffd4,
                      in_stack_ffffffd8,in_stack_ffffffdc,in_stack_ffffffe0,local_f,unaff_retaddr);
        return;
      }
      DAT_80032aa8 = (undefined4 *)(DAT_800408bc * 0x20 + DAT_800408dc);
      if (*(short *)DAT_80032aa8 != 0) {
        if (DAT_800408cc != 0) {
          DAT_800370b8 = DAT_800370b8 + 1;
        }
        DAT_80031c80 = 4;
        C_011_OBJ_960(uVar4,(char)result,in_a2,in_a3,in_stack_ffffffd0,in_stack_ffffffd4,
                      in_stack_ffffffd8,in_stack_ffffffdc,in_stack_ffffffe0,local_f,unaff_retaddr);
        return;
      }
      *PTR_CDROM_REG0_80031c38 = 0;
      *PTR_CDROM_REG3_80031c44 = 0;
      *PTR_CDROM_REG0_80031c38 = 0;
      *PTR_CDROM_REG3_80031c44 = 0x80;
      *(undefined4 *)PTR_CDROM_DELAY_80031c48 = 0x20943;
      *(undefined4 *)PTR_COMMON_DELAY_80031c4c = 0x1323;
      if (DAT_80037070 == 0) {
        puVar2 = &stack0xffffffe8;
        do {
          *puVar2 = *PTR_CDROM_REG2_80031c40;
          puVar2 = puVar2 + 1;
        } while (puVar2 < auStack_14);
        uVar3 = 0;
        do {
          uVar3 = uVar3 + 1;
        } while (uVar3 < 8);
      }
      if (DAT_800408cc != 0) {
        uVar4 = 8;
        uVar7 = 0;
        puVar6 = (undefined4 *)(DAT_800370b8 * 0x800 + DAT_800408cc);
        puVar5 = DAT_80032aa8;
        mem2mem(DAT_80032aa8,puVar6,8);
        C_011_OBJ_270((char)puVar5,(char)puVar6,uVar4,uVar7,in_stack_ffffffd0,in_stack_ffffffd4,
                      in_stack_ffffffd8,in_stack_ffffffdc,in_stack_ffffffe0,local_f,
                      in_stack_ffffffe8);
        return;
      }
                    // WARNING: Subroutine does not return
      dma_execute(3,(dword)DAT_80032aa8,0,8,0x11000000,'\0');
    }
  }
  return;
}



void C_011_OBJ_270(undefined param_1,byte param_2,undefined param_3,undefined param_4,
                  undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                  undefined param_9,undefined param_10,undefined4 param_11)

{
  uint uVar1;
  undefined4 uVar2;
  undefined uVar3;
  undefined4 *puVar5;
  undefined uVar6;
  undefined4 *puVar7;
  undefined3 in_stack_00000011;
  undefined3 in_stack_00000015;
  undefined4 in_stack_00000038;
  int iVar4;
  
  puVar7 = (undefined4 *)(uint)param_2;
  uVar1 = *(uint *)PTR_DMA_CDROM_CHCR_80031c68;
  while ((uVar1 & 0x1000000) != 0) {
    uVar1 = *(uint *)PTR_DMA_CDROM_CHCR_80031c68;
  }
  DAT_80032aa8[7] = param_11;
  *(undefined4 *)PTR_CDROM_DELAY_80031c48 = 0x20843;
  *(undefined4 *)PTR_COMMON_DELAY_80031c4c = 0x1325;
  uVar1 = DAT_800370a8;
  puVar5 = DAT_80032aa8;
  if ((DAT_800408d4 == 1) && (DAT_800370a8 != 0)) {
    if (DAT_800370a8 != *(ushort *)(DAT_80032aa8 + 2)) {
      *(short *)DAT_80032aa8 = 0;
      if (DAT_800408cc != 0) {
        DAT_800370b8 = DAT_800370b8 + 1;
        C_011_OBJ_960((char)uVar1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,
                      param_10,in_stack_00000038);
        return;
      }
      return;
    }
    DAT_800408d4 = 0;
  }
  uVar3 = SUB41(DAT_80032aa8,0);
  if ((*(short *)DAT_80032aa8 != 0x160) ||
     ((*(ushort *)((int)DAT_80032aa8 + 2) >> 10 & 0x1f) != DAT_800370ac)) {
    if (DAT_800408cc != 0) {
      DAT_800370b8 = 0;
      C_011_OBJ_3D0();
      return;
    }
    DAT_80031c80 = 5;
    *(short *)DAT_80032aa8 = 0;
    C_011_OBJ_960(uVar3,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10,
                  in_stack_00000038);
    return;
  }
  if (((int)DAT_80037068 != (uint)*(ushort *)(DAT_80032aa8 + 1)) ||
     ((DAT_8003701c != 0 && (DAT_8003701c != *(ushort *)(DAT_80032aa8 + 2))))) {
    DAT_8003701c = 0;
    DAT_80037068 = 0;
    uVar1 = DAT_800408bc - DAT_800408c0;
    iVar4 = DAT_800408c0;
    init_ring_status(DAT_800408c0,uVar1);
    DAT_800408bc = DAT_800408c0;
    *(short *)DAT_80032aa8 = 0;
    if (DAT_800408cc != 0) {
      DAT_800370b8 = DAT_800370b8 + 1;
    }
    DAT_80031c80 = 6;
    C_011_OBJ_960((char)iVar4,(char)uVar1,param_3,param_4,param_5,param_6,param_7,param_8,param_9,
                  param_10,in_stack_00000038);
    return;
  }
  if (*(short *)(DAT_80032aa8 + 1) == 0) {
    DAT_8003701c = (uint)*(ushort *)(DAT_80032aa8 + 2);
    DAT_80037068 = 0;
    if ((DAT_800408d0 != 0) && (DAT_800408d0 <= DAT_8003701c)) {
      DAT_8003701c = 0;
      DAT_80037068 = 0;
      uVar1 = DAT_800408bc - DAT_800408c0;
      iVar4 = DAT_800408c0;
      init_ring_status(DAT_800408c0,uVar1);
      uVar6 = (undefined)uVar1;
      uVar3 = (undefined)iVar4;
      DAT_800408bc = DAT_800408c0;
      *(short *)DAT_80032aa8 = 0;
      DAT_800408d4 = 1;
      if (DAT_80037078 != (code *)0x0) {
        (*DAT_80037078)();
      }
      if (DAT_800408cc != 0) {
        DAT_800370b8 = DAT_800370b8 + 1;
      }
      DAT_80031c80 = 7;
      C_011_OBJ_960(uVar3,uVar6,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10,
                    in_stack_00000038);
      return;
    }
    if ((DAT_80040918 - DAT_800408bc) - 1U < (uint)*(ushort *)((int)DAT_80032aa8 + 6)) {
      if (DAT_800408d0 == 0) {
        *(short *)DAT_80032aa8 = 1;
        DAT_800408d4 = 1;
        if (DAT_80037078 != (code *)0x0) {
          (*DAT_80037078)();
        }
        if (DAT_800408cc != 0) {
          DAT_800370b8 = DAT_800370b8 + 1;
        }
        DAT_80031c80 = 8;
        C_011_OBJ_960((char)puVar5,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,
                      param_10,in_stack_00000038);
        return;
      }
      if (*(short *)DAT_800408dc != 0) {
        *(short *)DAT_80032aa8 = 0;
        if (DAT_800408cc != 0) {
          DAT_800370b8 = DAT_800370b8 + 1;
        }
        DAT_80031c80 = 9;
        C_011_OBJ_960(uVar3,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10
                      ,in_stack_00000038);
        return;
      }
      *(short *)DAT_80032aa8 = 1;
      uVar1 = 0;
      DAT_800408bc = 0;
      puVar7 = DAT_800408dc;
      do {
        uVar2 = *DAT_80032aa8;
        DAT_80032aa8 = DAT_80032aa8 + 1;
        uVar1 = uVar1 + 1;
        *puVar7 = uVar2;
        puVar7 = puVar7 + 1;
      } while (uVar1 < 8);
      DAT_80032aa8 = DAT_800408dc;
    }
    param_2 = (byte)puVar7;
    DAT_800408c0 = DAT_800408bc;
  }
  iVar4 = DAT_8003706c;
  DAT_80031c80 = 10;
  DAT_80037068 = DAT_80037068 + 1;
  DAT_800408d8 = DAT_800408dc + DAT_80040918 * 8 + DAT_800408bc * 0x1f8;
  if (DAT_8003706c != 0) {
    *(undefined4 *)PTR_CDROM_DELAY_80031c48 = 0x20943;
    *(undefined4 *)PTR_COMMON_DELAY_80031c4c = 0x1323;
    C_011_OBJ_7BC((char)iVar4,param_2,param_3,param_4,_param_5,_param_6);
    return;
  }
  *(undefined4 *)PTR_CDROM_DELAY_80031c48 = 0x21020843;
  if (*(ushort *)((int)DAT_80032aa8 + 6) - 1 == (uint)*(ushort *)(DAT_80032aa8 + 1)) {
    DAT_800370b4 = 1;
    if (DAT_800408cc != 0) {
      mem2mem(DAT_800408d8,(undefined4 *)(DAT_800370b8 * 0x800 + DAT_800408cc + 0x20),0x1f8);
      DAT_800370b8 = DAT_800370b8 + 1;
      C_011_OBJ_85C();
      return;
    }
                    // WARNING: Subroutine does not return
    dma_execute(3,(dword)DAT_800408d8,0,0x1f8,0x11400100,'\x01');
  }
  if (DAT_800408cc != 0) {
    mem2mem(DAT_800408d8,(undefined4 *)(DAT_800370b8 * 0x800 + DAT_800408cc + 0x20),0x1f8);
    DAT_800370b8 = DAT_800370b8 + 1;
    C_011_OBJ_900();
    return;
  }
                    // WARNING: Subroutine does not return
  dma_execute(3,(dword)DAT_800408d8,0,0x1f8,0x11400100,'\0');
}



void C_011_OBJ_3D0(void)

{
  undefined in_a0;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  undefined4 in_stack_00000038;
  
  DAT_80031c80 = 5;
  *DAT_80032aa8 = 0;
  C_011_OBJ_960(in_a0,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                in_stack_0000001c,in_stack_00000020,in_stack_00000024,in_stack_00000038);
  return;
}



void C_011_OBJ_7BC(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                  undefined4 param_5,undefined4 param_6)

{
  dword in_t0;
  undefined4 uStack00000018;
  
  if (*(ushort *)(DAT_80032aa8 + 6) - 1 != (uint)*(ushort *)(DAT_80032aa8 + 4)) {
    if (DAT_800408cc != 0) {
      mem2mem(DAT_800408d8,(undefined4 *)(DAT_800370b8 * 0x800 + DAT_800408cc + 0x20),0x1f8);
      DAT_800370b8 = DAT_800370b8 + 1;
      C_011_OBJ_900();
      return;
    }
                    // WARNING: Subroutine does not return
    uStack00000018 = 0;
    dma_execute(3,(dword)DAT_800408d8,0,0x1f8,in_t0,'\0');
  }
  DAT_800370b4 = 1;
  if (DAT_800408cc != 0) {
    mem2mem(DAT_800408d8,(undefined4 *)(DAT_800370b8 * 0x800 + DAT_800408cc + 0x20),0x1f8);
    DAT_800370b8 = DAT_800370b8 + 1;
    C_011_OBJ_85C();
    return;
  }
                    // WARNING: Subroutine does not return
  uStack00000018 = 0;
  dma_execute(3,(dword)DAT_800408d8,0,0x1f8,in_t0,'\x01');
}



void C_011_OBJ_85C(void)

{
  DAT_80037068 = 0;
  DAT_8003701c = 0;
  DAT_800370ac = DAT_800370a4;
  C_011_OBJ_900();
  return;
}



void C_011_OBJ_900(void)

{
  *(undefined4 *)PTR_COMMON_DELAY_80031c4c = 0x1325;
  *DAT_80032aa8 = 3;
  DAT_800408bc = DAT_800408bc + 1;
  if ((DAT_800408cc != 0) && (DAT_800370b4 != 0)) {
    data_ready_callback();
  }
  return;
}



void C_011_OBJ_960(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                  undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                  undefined param_9,undefined param_10,undefined4 param_11)

{
  return;
}



void mem2mem(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  undefined4 uVar1;
  uint uVar2;
  
  uVar2 = 0;
  if (param_3 != 0) {
    do {
      uVar1 = *param_2;
      param_2 = param_2 + 1;
      uVar2 = uVar2 + 1;
      *param_1 = uVar1;
      param_1 = param_1 + 1;
    } while (uVar2 < param_3);
  }
  return;
}



void dma_execute(uint param_1,dword param_2,int param_3,uint param_4,dword param_5,char param_6)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_retaddr;
  undefined4 in_stack_ffffffd8;
  undefined in_stack_ffffffdc;
  
  iVar2 = 0;
  iVar3 = param_3;
  if (((&DMA_MDEC_IN_CHCR)[param_1 * 4] & 0x1000000) != 0) {
    iVar3 = 0;
    do {
      if (iVar2 == 0x10000) {
                    // WARNING: Subroutine does not return
        printf(s_DMA_STATUS_ERROR__x_80010464,(&DMA_MDEC_IN_CHCR)[param_1 * 4]);
      }
      iVar2 = iVar2 + 1;
    } while (((&DMA_MDEC_IN_CHCR)[param_1 * 4] & 0x1000000) != 0);
  }
  bVar1 = (byte)(1 << (param_1 & 0x1f));
  if (param_6 == '\x01') {
    C_011_OBJ_A90(PTR_DMA_DICR_80031c54[2] | bVar1,1,(char)iVar3,(char)param_4,in_stack_ffffffd8,
                  in_stack_ffffffdc,unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,unaff_s5,
                  unaff_retaddr);
    return;
  }
  PTR_DMA_DICR_80031c54[2] = PTR_DMA_DICR_80031c54[2] & ~bVar1;
  *(uint *)PTR_DMA_DPCR_80031c50 = *(uint *)PTR_DMA_DPCR_80031c50 | 1 << (param_1 * 4 + 3 & 0x1f);
  (&DMA_MDEC_IN_MADR)[param_1 * 4] = param_2;
  (&DMA_MDEC_IN_BCR)[param_1 * 4] = param_3 << 0x10 | param_4;
  bVar1 = *PTR_CDROM_REG0_80031c38;
  while ((bVar1 & 0x40) == 0) {
    bVar1 = *PTR_CDROM_REG0_80031c38;
  }
  (&DMA_MDEC_IN_CHCR)[param_1 * 4] = param_5;
  return;
}



void C_011_OBJ_A30(void)

{
  byte bVar1;
  int in_v0;
  undefined in_a2;
  undefined in_a3;
  uint unaff_s0;
  dword unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  dword unaff_s5;
  undefined4 in_stack_00000010;
  undefined in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  
  bVar1 = (byte)(1 << (unaff_s0 & 0x1f));
  if (in_v0 != 1) {
    PTR_DMA_DICR_80031c54[2] = PTR_DMA_DICR_80031c54[2] & ~bVar1;
    *(uint *)PTR_DMA_DPCR_80031c50 = *(uint *)PTR_DMA_DPCR_80031c50 | 1 << (unaff_s0 * 4 + 3 & 0x1f)
    ;
    (&DMA_MDEC_IN_MADR)[unaff_s0 * 4] = unaff_s2;
    (&DMA_MDEC_IN_BCR)[unaff_s0 * 4] = unaff_s3 << 0x10 | unaff_s4;
    bVar1 = *PTR_CDROM_REG0_80031c38;
    while ((bVar1 & 0x40) == 0) {
      bVar1 = *PTR_CDROM_REG0_80031c38;
    }
    (&DMA_MDEC_IN_CHCR)[unaff_s0 * 4] = unaff_s5;
    return;
  }
  C_011_OBJ_A90(PTR_DMA_DICR_80031c54[2] | bVar1,1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,
                in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                in_stack_00000028,in_stack_0000002c,in_stack_00000030);
  return;
}



void C_011_OBJ_A90(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                  undefined4 param_5,undefined param_6,undefined4 param_7,undefined4 param_8,
                  undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12,
                  undefined4 param_13)

{
  byte bVar1;
  int in_v1;
  int unaff_s0;
  dword unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  dword unaff_s5;
  
  *(undefined *)(in_v1 + 2) = param_1;
  *(uint *)PTR_DMA_DPCR_80031c50 = *(uint *)PTR_DMA_DPCR_80031c50 | 1 << (unaff_s0 * 4 + 3U & 0x1f);
  (&DMA_MDEC_IN_MADR)[unaff_s0 * 4] = unaff_s2;
  (&DMA_MDEC_IN_BCR)[unaff_s0 * 4] = unaff_s3 << 0x10 | unaff_s4;
  bVar1 = *PTR_CDROM_REG0_80031c38;
  while ((bVar1 & 0x40) == 0) {
    bVar1 = *PTR_CDROM_REG0_80031c38;
  }
  (&DMA_MDEC_IN_CHCR)[unaff_s0 * 4] = unaff_s5;
  return;
}



void StRingStatus(short *free_sectors,short *over_sectors)

{
  uint uVar1;
  short *psVar2;
  uint uVar3;
  int iVar4;
  
  iVar4 = DAT_80040918;
  *free_sectors = 0;
  uVar1 = (uint)(ushort)DAT_800408bc;
  uVar3 = (uint)(ushort)DAT_800408c4;
  *over_sectors = (short)(uVar1 - uVar3);
  if (-1 < (int)((uVar1 - uVar3) * 0x10000)) {
    while( true ) {
      iVar4 = iVar4 + -1;
      if (iVar4 < 0) break;
      if (*(short *)(iVar4 * 0x20 + DAT_800408dc) == 0) {
        *free_sectors = *free_sectors + 1;
      }
    }
    return;
  }
  iVar4 = iVar4 + -1;
  if (-1 < iVar4) {
    psVar2 = (short *)(iVar4 * 0x20 + DAT_800408dc);
    do {
      if (*psVar2 == 1) break;
      iVar4 = iVar4 + -1;
      psVar2 = psVar2 + -0x10;
    } while (-1 < iVar4);
  }
  *over_sectors = *over_sectors + (short)(iVar4 + 1);
  C_015_OBJ_B4(free_sectors,over_sectors,iVar4 + 1);
  return;
}



void C_015_OBJ_B4(short *param_1,undefined4 param_2,int param_3)

{
  while( true ) {
    param_3 = param_3 + -1;
    if (param_3 < 0) break;
    if (*(short *)(param_3 * 0x20 + DAT_800408dc) == 0) {
      *param_1 = *param_1 + 1;
    }
  }
  return;
}



void InitHeap(ulong *param_1,ulong param_2)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



void FlushCache(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



void _bu_init(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



void _96_remove(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



void SetMem(ulong MemSizeGB)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



void DeliverEvent(ulong Event,long EventClass)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



long OpenEvent(ulong Event,long EventType,long Mode,func *func__)

{
  long lVar1;
  
                    // WARNING: Treating indirect jump as call
  lVar1 = (*(code *)&SUB_000000b0)();
  return lVar1;
}



void CloseEvent(ulong Event)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void WaitEvent(ulong Event)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void TestEvent(ulong Event)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void EnableEvent(ulong Event)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void DisableEvent(ulong Event)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void StopPAD(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void PAD_init(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void PAD_dr(int id)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void ReturnFromException(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void ResetEntryInt(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void HookEntryInt(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



// Possible A36.OBJ/EnterCriticalSection

void EnterCriticalSection(void)

{
  syscall(0);
  return;
}



// Possible A37.OBJ/ExitCriticalSection

void ExitCriticalSection(void)

{
  syscall(0);
  return;
}



int open(char *__file,int __oflag,...)

{
  int iVar1;
  
                    // WARNING: Treating indirect jump as call
  iVar1 = (*(code *)&SUB_000000b0)();
  return iVar1;
}



__off_t lseek(int __fd,__off_t __offset,int __whence)

{
  __off_t _Var1;
  
                    // WARNING: Treating indirect jump as call
  _Var1 = (*(code *)&SUB_000000b0)();
  return _Var1;
}



ssize_t read(int __fd,void *__buf,size_t __nbytes)

{
  ssize_t sVar1;
  
                    // WARNING: Treating indirect jump as call
  sVar1 = (*(code *)&SUB_000000b0)();
  return sVar1;
}



ssize_t write(int __fd,void *__buf,size_t __n)

{
  ssize_t sVar1;
  
                    // WARNING: Treating indirect jump as call
  sVar1 = (*(code *)&SUB_000000b0)();
  return sVar1;
}



int close(int __fd)

{
  int iVar1;
  
                    // WARNING: Treating indirect jump as call
  iVar1 = (*(code *)&SUB_000000b0)();
  return iVar1;
}



void format(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void firstfile(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void nextfile(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void delete(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void _get_error(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void ChangeClearPAD(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void ChangeClearRCnt(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000c0)();
  return;
}



undefined4 SetRCnt(uint param_1,undefined2 param_2,uint param_3)

{
  undefined *puVar1;
  undefined4 uVar2;
  ushort uVar3;
  uint uVar4;
  
  puVar1 = PTR_TMR_DOTCLOCK_VAL_80031c9c;
  uVar4 = param_1 & 0xffff;
  uVar3 = 0x48;
  if (2 < uVar4) {
    uVar2 = COUNTER_OBJ_98();
    return uVar2;
  }
  *(undefined2 *)(PTR_TMR_DOTCLOCK_VAL_80031c9c + uVar4 * 0x10 + 4) = 0;
  *(undefined2 *)(puVar1 + uVar4 * 0x10 + 8) = param_2;
  if (uVar4 < 2) {
    if ((param_3 & 0x10) != 0) {
      uVar3 = 0x49;
    }
    if ((param_3 & 1) == 0) {
      uVar2 = COUNTER_OBJ_74();
      return uVar2;
    }
  }
  else if ((uVar4 == 2) && ((param_3 & 1) == 0)) {
    uVar3 = 0x248;
  }
  if ((param_3 & 0x1000) != 0) {
    uVar3 = uVar3 | 0x10;
  }
  *(ushort *)(PTR_TMR_DOTCLOCK_VAL_80031c9c + uVar4 * 0x10 + 4) = uVar3;
  return 1;
}



undefined4 COUNTER_OBJ_74(void)

{
  int in_v0;
  ushort in_a3;
  int in_t0;
  
  if (in_v0 != 0) {
    in_a3 = in_a3 | 0x10;
  }
  *(ushort *)(PTR_TMR_DOTCLOCK_VAL_80031c9c + in_t0 * 0x10 + 4) = in_a3;
  return 1;
}



void COUNTER_OBJ_98(void)

{
  return;
}



undefined4 GetRCnt(ushort param_1)

{
  undefined4 uVar1;
  
  if (param_1 < 3) {
    uVar1 = COUNTER_OBJ_D0();
    return uVar1;
  }
  return 0;
}



void COUNTER_OBJ_D0(void)

{
  return;
}



bool StartRCnt(uint param_1)

{
  *(uint *)(PTR_I_STAT_80031c98 + 4) =
       *(uint *)(PTR_I_STAT_80031c98 + 4) | *(uint *)(&DAT_80031ca0 + (param_1 & 0xffff) * 4);
  return (param_1 & 0xffff) < 3;
}



undefined4 StopRCnt(uint param_1)

{
  *(uint *)(PTR_I_STAT_80031c98 + 4) =
       ~*(uint *)(&DAT_80031ca0 + (param_1 & 0xffff) * 4) & *(uint *)(PTR_I_STAT_80031c98 + 4);
  return 1;
}



undefined4 ResetRCnt(uint param_1)

{
  undefined4 uVar1;
  
  if ((param_1 & 0xffff) < 3) {
    *(undefined2 *)(PTR_TMR_DOTCLOCK_VAL_80031c9c + (param_1 & 0xffff) * 0x10) = 0;
    uVar1 = COUNTER_OBJ_170();
    return uVar1;
  }
  return 0;
}



void COUNTER_OBJ_170(void)

{
  return;
}



void puts(char *param_1)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



int setjmp(__jmp_buf_tag *__env)

{
  int iVar1;
  
                    // WARNING: Treating indirect jump as call
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



char * strcat(char *param_1,char *param_2)

{
  char *pcVar1;
  
                    // WARNING: Treating indirect jump as call
  pcVar1 = (char *)(*(code *)&LAB_000000a0)();
  return pcVar1;
}



int strcmp(char *param_1,char *param_2)

{
  int iVar1;
  
                    // WARNING: Treating indirect jump as call
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



char * strcpy(char *param_1,char *param_2)

{
  char *pcVar1;
  
                    // WARNING: Treating indirect jump as call
  pcVar1 = (char *)(*(code *)&LAB_000000a0)();
  return pcVar1;
}



void * bcopy(uchar *param_1,uchar *param_2,int param_3)

{
  void *pvVar1;
  
                    // WARNING: Treating indirect jump as call
  pvVar1 = (void *)(*(code *)&LAB_000000a0)();
  return pvVar1;
}



void * bzero(uchar *param_1,int param_2)

{
  void *pvVar1;
  
                    // WARNING: Treating indirect jump as call
  pvVar1 = (void *)(*(code *)&LAB_000000a0)();
  return pvVar1;
}



void * memset(uchar *param_1,uchar param_2,int param_3)

{
  void *pvVar1;
  
                    // WARNING: Treating indirect jump as call
  pvVar1 = (void *)(*(code *)&LAB_000000a0)();
  return pvVar1;
}



int rand(void)

{
  int iVar1;
  
                    // WARNING: Treating indirect jump as call
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



void srand(uint param_1)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



int printf(char *fmt,...)

{
  int iVar1;
  
                    // WARNING: Treating indirect jump as call
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



int sprintf(char *buffer,char *fmt,...)

{
  int **ppiVar1;
  char *pcVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  void *pvVar6;
  undefined uVar7;
  char *pcVar8;
  int *piVar9;
  int *piVar10;
  uchar *puVar11;
  byte bVar12;
  uint uVar13;
  undefined uVar14;
  int *in_a2;
  int iVar15;
  undefined uVar16;
  char *in_a3;
  undefined4 unaff_s0;
  uint uVar17;
  undefined4 unaff_s1;
  int *piVar18;
  undefined4 unaff_s2;
  int iVar19;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_s6;
  undefined4 unaff_retaddr;
  int *local_res8;
  char *local_resc;
  undefined in_stack_fffffdc8;
  undefined in_stack_fffffdcc;
  undefined in_stack_fffffdd0;
  undefined in_stack_fffffdd4;
  undefined in_stack_fffffdd8;
  undefined in_stack_fffffddc;
  undefined uStack_39;
  byte bVar20;
  undefined2 uVar21;
  int **ppiVar22;
  
  iVar19 = 0;
  bVar12 = *fmt;
  ppiVar1 = &local_res8;
  local_res8 = in_a2;
  local_resc = in_a3;
  while (uVar13 = (uint)bVar12, uVar13 != 0) {
    uVar16 = SUB41(in_a3,0);
    if (uVar13 != 0x25) {
SPRINTF_OBJ_764:
      buffer[iVar19] = (char)uVar13;
      iVar19 = iVar19 + 1;
      ppiVar22 = ppiVar1;
      goto code_r0x80022b40;
    }
    uVar14 = 0x23;
    uVar3 = DAT_80031cb0;
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              pcVar2 = fmt + 1;
              uVar13 = (uint)(byte)fmt[1];
              if (uVar13 != 0x2d) break;
              uVar3 = uVar3 | 1;
              fmt = pcVar2;
            }
            if (uVar13 != 0x2b) break;
            uVar3 = uVar3 | 2;
            fmt = pcVar2;
          }
          if (uVar13 != 0x20) break;
          uVar3 = CONCAT22((short)(uVar3 >> 0x10),CONCAT11(fmt[1],(char)uVar3));
          fmt = pcVar2;
        }
        if (uVar13 != 0x23) break;
        uVar3 = uVar3 | 4;
        fmt = pcVar2;
      }
      if (uVar13 != 0x30) break;
      uVar3 = uVar3 | 8;
      fmt = pcVar2;
    }
    iVar4 = DAT_80031cb4;
    if (uVar13 == 0x2a) {
      iVar19 = SPRINTF_OBJ_1C0((int)fmt,(uint)(byte)fmt[2],0x23,uVar16,in_stack_fffffdc8,
                               in_stack_fffffdcc,in_stack_fffffdd0,in_stack_fffffdd4,
                               in_stack_fffffdd8,in_stack_fffffddc,DAT_80031cb8,ppiVar1 + 1,fmt + 2)
      ;
      return iVar19;
    }
    while (uVar13 - 0x30 < 10) {
      iVar4 = iVar4 * 10 + -0x30 + uVar13;
      uVar13 = (uint)(byte)pcVar2[1];
      pcVar2 = pcVar2 + 1;
    }
    pcVar8 = fmt;
    fmt = pcVar2;
    iVar5 = DAT_80031cb8;
    if (uVar13 == 0x2e) {
      uVar13 = (uint)(byte)pcVar2[1];
      pcVar8 = pcVar2;
      if (uVar13 == 0x2a) {
        iVar19 = SPRINTF_OBJ_260((int)pcVar2,(uint)(byte)pcVar2[2],0x23,uVar16,in_stack_fffffdc8,
                                 in_stack_fffffdcc,in_stack_fffffdd0,in_stack_fffffdd4,
                                 in_stack_fffffdd8,in_stack_fffffddc,uVar3,*ppiVar1);
        return iVar19;
      }
      while (fmt = pcVar8 + 1, uVar13 - 0x30 < 10) {
        iVar5 = iVar5 * 10 + -0x30 + uVar13;
        uVar13 = (uint)(byte)pcVar8[2];
        pcVar8 = fmt;
      }
      pcVar8 = pcVar2;
      if (-1 < iVar5) {
        uVar3 = uVar3 | 0x10;
      }
    }
    piVar18 = (int *)&stack0xffffffc8;
    if ((uVar3 & 1) != 0) {
      uVar3 = uVar3 & 0xfffffff7;
    }
    bVar12 = (byte)uVar13;
    uVar7 = SUB41(pcVar8,0);
    bVar20 = (byte)uVar3;
    uVar21 = (undefined2)(uVar3 >> 0x10);
    switch(uVar13) {
    case 0x4c:
      iVar19 = SPRINTF_OBJ_2A4((int)pcVar8,(uint)(byte)fmt[1]);
      return iVar19;
    default:
      if (uVar13 == 0x25) goto SPRINTF_OBJ_764;
      goto SPRINTF_OBJ_824;
    case 99:
      iVar19 = SPRINTF_OBJ_770(uVar7,bVar12,0x23,uVar16,in_stack_fffffdc8,in_stack_fffffdcc,
                               in_stack_fffffdd0,in_stack_fffffdd4,in_stack_fffffdd8,
                               in_stack_fffffddc,uVar3,iVar4);
      return iVar19;
    case 100:
    case 0x69:
      piVar10 = *ppiVar1;
      if ((uVar3 & 0x20) != 0) {
        piVar10 = (int *)(int)(short)piVar10;
      }
      if ((int)piVar10 < 0) {
        iVar19 = SPRINTF_OBJ_388((int *)-(int)piVar10,bVar12,0x23,uVar16,in_stack_fffffdc8,
                                 in_stack_fffffdcc,in_stack_fffffdd0,in_stack_fffffdd4,
                                 in_stack_fffffdd8,in_stack_fffffddc,
                                 CONCAT22(uVar21,CONCAT11(0x2d,bVar20)),iVar4,iVar5);
        return iVar19;
      }
      if ((uVar3 & 2) != 0) {
        iVar19 = SPRINTF_OBJ_388(piVar10,bVar12,0x23,uVar16,in_stack_fffffdc8,in_stack_fffffdcc,
                                 in_stack_fffffdd0,in_stack_fffffdd4,in_stack_fffffdd8,
                                 in_stack_fffffddc,CONCAT22(uVar21,CONCAT11(0x2b,bVar20)),iVar4,
                                 iVar5);
        return iVar19;
      }
      goto code_r0x800226c4;
    case 0x68:
      iVar19 = SPRINTF_OBJ_2EC((int)pcVar8,bVar12,0x23,uVar16,in_stack_fffffdc8,in_stack_fffffdcc,
                               in_stack_fffffdd0,in_stack_fffffdd4,in_stack_fffffdd8,
                               in_stack_fffffddc,uVar3,fmt);
      return iVar19;
    case 0x6c:
      iVar19 = SPRINTF_OBJ_2EC((int)pcVar8,bVar12,0x23,uVar16,in_stack_fffffdc8,in_stack_fffffdcc,
                               in_stack_fffffdd0,in_stack_fffffdd4,in_stack_fffffdd8,
                               in_stack_fffffddc,uVar3,fmt);
      return iVar19;
    case 0x6e:
      if ((uVar3 & 0x20) != 0) {
        *(short *)*ppiVar1 = (short)iVar19;
        iVar19 = SPRINTF_OBJ_804(uVar7,bVar12,0x23,uVar16,in_stack_fffffdc8,in_stack_fffffdcc,
                                 in_stack_fffffdd0,in_stack_fffffdd4,in_stack_fffffdd8,
                                 in_stack_fffffddc,uVar3,iVar4,iVar5,unaff_s0,unaff_s1,unaff_s2,
                                 unaff_s3,unaff_s4,unaff_s5,unaff_s6,unaff_retaddr,fmt);
        return iVar19;
      }
      **ppiVar1 = iVar19;
      iVar19 = SPRINTF_OBJ_804(uVar7,bVar12,0x23,uVar16,in_stack_fffffdc8,in_stack_fffffdcc,
                               in_stack_fffffdd0,in_stack_fffffdd4,in_stack_fffffdd8,
                               in_stack_fffffddc,uVar3,iVar4,iVar5,unaff_s0,unaff_s1,unaff_s2,
                               unaff_s3,unaff_s4,unaff_s5,unaff_s6,unaff_retaddr,fmt);
      return iVar19;
    case 0x6f:
      ppiVar22 = ppiVar1 + 1;
      piVar10 = *ppiVar1;
      if ((uVar3 & 0x20) != 0) {
        piVar10 = (int *)((uint)piVar10 & 0xffff);
      }
      if ((uVar3 & 0x10) == 0) {
        if ((uVar3 & 8) != 0) {
          iVar5 = iVar4;
        }
        if (iVar5 < 1) {
          iVar5 = 1;
        }
      }
      uVar17 = 0;
      for (; piVar10 != (int *)0x0; piVar10 = (int *)((uint)piVar10 >> 3)) {
        piVar18 = (int *)((int)piVar18 + -1);
        *(byte *)piVar18 = ((byte)piVar10 & 7) + 0x30;
        uVar17 = uVar17 + 1;
      }
      if ((((uVar3 & 4) != 0) && (uVar17 != 0)) && (*(byte *)piVar18 != 0x30)) {
        piVar18 = (int *)((int)piVar18 + -1);
        *(byte *)piVar18 = 0x30;
        uVar17 = uVar17 + 1;
      }
      if ((int)uVar17 < iVar5) {
        do {
          piVar18 = (int *)((int)piVar18 + -1);
          *(byte *)piVar18 = 0x30;
          uVar17 = uVar17 + 1;
        } while ((int)uVar17 < iVar5);
        iVar19 = SPRINTF_OBJ_770((byte)piVar10,bVar12,0x23,uVar16,in_stack_fffffdc8,
                                 in_stack_fffffdcc,in_stack_fffffdd0,in_stack_fffffdd4,
                                 in_stack_fffffdd8,in_stack_fffffddc,uVar3,iVar4);
        return iVar19;
      }
      break;
    case 0x70:
      iVar5 = 8;
      uVar3 = uVar3 | 0x50;
    case 0x58:
      iVar19 = SPRINTF_OBJ_590(pcVar8,uVar13,0x23,s_0123456789ABCDEF_8001047c,in_stack_fffffdc8,
                               in_stack_fffffdcc,in_stack_fffffdd0,in_stack_fffffdd4,
                               in_stack_fffffdd8,in_stack_fffffddc,uVar3,iVar4,iVar5,ppiVar1);
      return iVar19;
    case 0x73:
      ppiVar22 = ppiVar1 + 1;
      piVar18 = *ppiVar1;
      if ((uVar3 & 4) == 0) {
        if ((uVar3 & 0x10) == 0) {
          strlen((char *)piVar18);
          iVar19 = SPRINTF_OBJ_770((char)piVar18,(char)uVar13,uVar14,uVar16,in_stack_fffffdc8,
                                   in_stack_fffffdcc,in_stack_fffffdd0,in_stack_fffffdd4,
                                   in_stack_fffffdd8,in_stack_fffffddc,uVar3,iVar4);
          return iVar19;
        }
        uVar16 = 0;
        piVar10 = piVar18;
        pvVar6 = memchr((uchar *)piVar18,'\0',iVar5);
        uVar17 = (int)pvVar6 - (int)piVar18;
        if (pvVar6 == (void *)0x0) {
          iVar19 = SPRINTF_OBJ_770((char)piVar10,uVar16,(char)iVar5,(char)in_a3,in_stack_fffffdc8,
                                   in_stack_fffffdcc,in_stack_fffffdd0,in_stack_fffffdd4,
                                   in_stack_fffffdd8,in_stack_fffffddc,uVar3,iVar4);
          return iVar19;
        }
      }
      else {
        uVar17 = (uint)*(byte *)piVar18;
        piVar18 = (int *)((int)piVar18 + 1);
        if (((uVar3 & 0x10) != 0) && (iVar5 < (int)uVar17)) {
          iVar19 = SPRINTF_OBJ_770(uVar7,bVar12,0x23,uVar16,in_stack_fffffdc8,in_stack_fffffdcc,
                                   in_stack_fffffdd0,in_stack_fffffdd4,in_stack_fffffdd8,
                                   in_stack_fffffddc,uVar3,iVar4);
          return iVar19;
        }
      }
      break;
    case 0x75:
      piVar10 = *ppiVar1;
      uVar17 = uVar3 & 0x20;
      uVar3 = CONCAT22(uVar21,(ushort)bVar20);
      if (uVar17 != 0) {
        piVar10 = (int *)((uint)piVar10 & 0xffff);
      }
code_r0x800226c4:
      ppiVar22 = ppiVar1 + 1;
      bVar12 = (byte)(uVar3 >> 8);
      if ((uVar3 & 0x10) == 0) {
        if (((uVar3 & 8) != 0) && (iVar5 = iVar4, bVar12 != 0)) {
          iVar5 = iVar4 + -1;
        }
        if (iVar5 < 1) {
          iVar5 = 1;
        }
      }
      uVar17 = 0;
      if (piVar10 != (int *)0x0) {
        uVar13 = 0xcccccccd;
        piVar9 = piVar10;
        do {
          piVar18 = (int *)((int)piVar18 + -1);
          uVar17 = uVar17 + 1;
          piVar10 = (int *)((uint)piVar9 / 10);
          *(byte *)piVar18 = (char)piVar9 + (char)piVar10 * -10 + 0x30;
          piVar9 = piVar10;
        } while (piVar10 != (int *)0x0);
      }
      for (; (int)uVar17 < iVar5; uVar17 = uVar17 + 1) {
        piVar18 = (int *)((int)piVar18 + -1);
        *(byte *)piVar18 = 0x30;
      }
      if (bVar12 != 0) {
        *(byte *)((int)piVar18 + -1) = bVar12;
        iVar19 = SPRINTF_OBJ_770((char)piVar10,(char)uVar13,0x23,uVar16,in_stack_fffffdc8,
                                 in_stack_fffffdcc,in_stack_fffffdd0,in_stack_fffffdd4,
                                 in_stack_fffffdd8,in_stack_fffffddc,uVar3,iVar4);
        return iVar19;
      }
      break;
    case 0x78:
      in_a3 = s_0123456789abcdef_80010490;
      ppiVar22 = ppiVar1 + 1;
      piVar10 = *ppiVar1;
      if ((uVar3 & 0x20) != 0) {
        piVar10 = (int *)((uint)piVar10 & 0xffff);
      }
      if ((uVar3 & 0x10) == 0) {
        iVar15 = 0x23;
        if (((uVar3 & 8) != 0) && (iVar15 = iVar4, iVar5 = iVar4, (uVar3 & 4) != 0)) {
          iVar5 = iVar4 + -2;
        }
        uVar14 = (undefined)iVar15;
        if (iVar5 < 1) {
          iVar5 = 1;
        }
      }
      uVar17 = 0;
      for (; piVar10 != (int *)0x0; piVar10 = (int *)((uint)piVar10 >> 4)) {
        piVar18 = (int *)((int)piVar18 + -1);
        uVar17 = uVar17 + 1;
        *(char *)piVar18 = s_0123456789abcdef_80010490[(uint)piVar10 & 0xf];
      }
      for (; (int)uVar17 < iVar5; uVar17 = uVar17 + 1) {
        piVar18 = (int *)((int)piVar18 + -1);
        *(byte *)piVar18 = 0x30;
      }
      if ((uVar3 & 4) != 0) {
        *(byte *)((int)piVar18 + -1) = bVar12;
        *(byte *)((int)piVar18 + -2) = 0x30;
        iVar19 = SPRINTF_OBJ_770(0,bVar12,uVar14,0x90,in_stack_fffffdc8,in_stack_fffffdcc,
                                 in_stack_fffffdd0,in_stack_fffffdd4,in_stack_fffffdd8,
                                 in_stack_fffffddc,uVar3,iVar4);
        return iVar19;
      }
    }
    puVar11 = (uchar *)(buffer + iVar19);
    if (((int)uVar17 < iVar4) && ((uVar3 & 1) == 0)) {
      pcVar2 = buffer + iVar19;
      do {
        *pcVar2 = ' ';
        pcVar2 = pcVar2 + 1;
        iVar4 = iVar4 + -1;
        iVar19 = iVar19 + 1;
      } while ((int)uVar17 < iVar4);
      puVar11 = (uchar *)(buffer + iVar19);
    }
    memmove(puVar11,(uchar *)piVar18,uVar17);
    iVar19 = iVar19 + uVar17;
    if ((int)uVar17 < iVar4) {
      pcVar2 = buffer + iVar19;
      do {
        *pcVar2 = ' ';
        pcVar2 = pcVar2 + 1;
        uVar17 = uVar17 + 1;
        iVar19 = iVar19 + 1;
      } while ((int)uVar17 < iVar4);
    }
code_r0x80022b40:
    bVar12 = fmt[1];
    ppiVar1 = ppiVar22;
    fmt = fmt + 1;
  }
SPRINTF_OBJ_824:
  buffer[iVar19] = '\0';
  return iVar19;
}



int SPRINTF_OBJ_90(undefined4 param_1,undefined4 param_2,uint param_3,byte param_4,undefined param_5
                  ,undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                  undefined param_10,uint param_11,int *param_12,int **param_13,int param_14)

{
  byte *pbVar1;
  int iVar2;
  int **ppiVar3;
  int iVar4;
  int *piVar5;
  void *pvVar6;
  uint in_v1;
  undefined *puVar7;
  undefined uVar8;
  int *piVar9;
  int *piVar10;
  uchar *puVar11;
  byte bVar12;
  uint uVar13;
  undefined uVar14;
  undefined uVar15;
  char *pcVar16;
  uint uVar17;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  uint in_stack_00000218;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  
  pcVar16 = (char *)(uint)param_4;
code_r0x800223cc:
  while( true ) {
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            iVar4 = param_14;
            ppiVar3 = param_13;
            uVar15 = SUB41(pcVar16,0);
            param_14 = param_14 + 1;
            uVar13 = (uint)*(byte *)(iVar4 + 1);
            if (uVar13 != unaff_s6) break;
            param_11 = param_11 | 1;
          }
          if (uVar13 != unaff_s5) break;
          param_11 = param_11 | 2;
        }
        if (uVar13 != unaff_s4) break;
        param_11._0_2_ = CONCAT11(*(byte *)(iVar4 + 1),(byte)param_11);
      }
      if (uVar13 != param_3) break;
      param_11 = param_11 | 4;
    }
    if (uVar13 != in_v1) break;
    param_11 = param_11 | 8;
  }
  uVar14 = (undefined)param_3;
  if (uVar13 == 0x2a) {
    ppiVar3 = param_13 + 1;
    param_12 = *param_13;
    if ((int)param_12 < 0) {
      param_12 = (int *)-(int)param_12;
      param_11 = param_11 | 1;
    }
    param_14 = iVar4 + 2;
    param_13 = ppiVar3;
    iVar4 = SPRINTF_OBJ_1C0(iVar4,(uint)*(byte *)(iVar4 + 2),uVar14,uVar15,param_5,param_6,param_7,
                            param_8,param_9,param_10,in_stack_00000218,ppiVar3,param_14);
    return iVar4;
  }
  while (iVar2 = param_14, uVar13 - 0x30 < 10) {
    param_12 = (int *)((int)param_12 * 10 + -0x30 + uVar13);
    param_14 = param_14 + 1;
    uVar13 = (uint)*(byte *)(iVar2 + 1);
  }
  if (uVar13 == 0x2e) {
    param_14 = param_14 + 1;
    uVar13 = (uint)*(byte *)(iVar2 + 1);
    if (uVar13 == 0x2a) {
      piVar5 = *param_13;
      param_14 = iVar2 + 2;
      param_13 = param_13 + 1;
      iVar4 = SPRINTF_OBJ_260(iVar2,(uint)*(byte *)(iVar2 + 2),uVar14,uVar15,param_5,param_6,param_7
                              ,param_8,param_9,param_10,param_11,piVar5);
      return iVar4;
    }
    while (iVar4 = param_14, uVar13 - 0x30 < 10) {
      in_stack_00000218 = in_stack_00000218 * 10 + -0x30 + uVar13;
      param_14 = param_14 + 1;
      uVar13 = (uint)*(byte *)(iVar4 + 1);
    }
    iVar4 = iVar2;
    if (-1 < (int)in_stack_00000218) {
      param_11 = param_11 | 0x10;
    }
  }
  piVar5 = (int *)&param_11;
  if ((param_11 & 1) != 0) {
    param_11 = param_11 & 0xfffffff7;
  }
  bVar12 = (byte)uVar13;
  uVar8 = (undefined)iVar4;
  switch(uVar13) {
  case 0x4c:
    param_11 = param_11 | 0x80;
    pbVar1 = (byte *)(param_14 + 1);
    param_14 = param_14 + 1;
    iVar4 = SPRINTF_OBJ_2A4(iVar4,(uint)*pbVar1);
    return iVar4;
  default:
    goto SPRINTF_OBJ_758;
  case 99:
    param_13 = param_13 + 1;
    iVar4 = SPRINTF_OBJ_770(uVar8,bVar12,uVar14,uVar15,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,param_12);
    return iVar4;
  case 100:
  case 0x69:
    piVar10 = *param_13;
    if ((param_11 & 0x20) != 0) {
      piVar10 = (int *)(int)(short)piVar10;
    }
    if ((int)piVar10 < 0) {
      param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
      param_13 = param_13 + 1;
      iVar4 = SPRINTF_OBJ_388((int *)-(int)piVar10,bVar12,uVar14,uVar15,param_5,param_6,param_7,
                              param_8,param_9,param_10,param_11,param_12,in_stack_00000218);
      return iVar4;
    }
    if ((param_11 & 2) != 0) {
      param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
      param_13 = param_13 + 1;
      iVar4 = SPRINTF_OBJ_388(piVar10,bVar12,uVar14,uVar15,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12,in_stack_00000218);
      return iVar4;
    }
    break;
  case 0x68:
    iVar4 = SPRINTF_OBJ_2EC(iVar4,bVar12,uVar14,uVar15,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,param_14);
    return iVar4;
  case 0x6c:
    iVar4 = SPRINTF_OBJ_2EC(iVar4,bVar12,uVar14,uVar15,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,param_14);
    return iVar4;
  case 0x6e:
    if ((param_11 & 0x20) != 0) {
      *(short *)*param_13 = (short)unaff_s2;
      param_13 = param_13 + 1;
      iVar4 = SPRINTF_OBJ_804(uVar8,bVar12,uVar14,uVar15,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12,in_stack_00000218,in_stack_00000228,
                              in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                              in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                              in_stack_00000244,param_14);
      return iVar4;
    }
    **param_13 = unaff_s2;
    param_13 = param_13 + 1;
    iVar4 = SPRINTF_OBJ_804(uVar8,bVar12,uVar14,uVar15,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,param_12,in_stack_00000218,in_stack_00000228,
                            in_stack_0000022c,in_stack_00000230,in_stack_00000234,in_stack_00000238,
                            in_stack_0000023c,in_stack_00000240,in_stack_00000244,param_14);
    return iVar4;
  case 0x6f:
    param_13 = param_13 + 1;
    piVar10 = *ppiVar3;
    if ((param_11 & 0x20) != 0) {
      piVar10 = (int *)((uint)piVar10 & 0xffff);
    }
    if ((param_11 & 0x10) == 0) {
      if ((param_11 & 8) != 0) {
        in_stack_00000218 = (uint)param_12;
      }
      if ((int)in_stack_00000218 < 1) {
        in_stack_00000218 = 1;
      }
    }
    uVar17 = 0;
    for (; piVar10 != (int *)0x0; piVar10 = (int *)((uint)piVar10 >> 3)) {
      piVar5 = (int *)((int)piVar5 + -1);
      *(byte *)piVar5 = ((byte)piVar10 & 7) + 0x30;
      uVar17 = uVar17 + 1;
    }
    if ((((param_11 & 4) != 0) && (uVar17 != 0)) && (*(byte *)piVar5 != 0x30)) {
      piVar5 = (int *)((int)piVar5 + -1);
      *(byte *)piVar5 = 0x30;
      uVar17 = uVar17 + 1;
    }
    if ((int)uVar17 < (int)in_stack_00000218) {
      do {
        piVar5 = (int *)((int)piVar5 + -1);
        *(byte *)piVar5 = 0x30;
        uVar17 = uVar17 + 1;
      } while ((int)uVar17 < (int)in_stack_00000218);
      iVar4 = SPRINTF_OBJ_770((byte)piVar10,bVar12,uVar14,uVar15,param_5,param_6,param_7,param_8,
                              param_9,param_10,param_11,param_12);
      return iVar4;
    }
    goto code_r0x80022aac;
  case 0x70:
    in_stack_00000218 = 8;
    param_11 = param_11 | 0x50;
  case 0x58:
    iVar4 = SPRINTF_OBJ_590(iVar4,uVar13,param_3,s_0123456789ABCDEF_8001047c,param_5,param_6,param_7
                            ,param_8,param_9,param_10,param_11,param_12,in_stack_00000218,param_13);
    return iVar4;
  case 0x73:
    ppiVar3 = param_13 + 1;
    piVar5 = *param_13;
    param_13 = ppiVar3;
    if ((param_11 & 4) == 0) {
      if ((param_11 & 0x10) == 0) {
        strlen((char *)piVar5);
        iVar4 = SPRINTF_OBJ_770((char)piVar5,(char)uVar13,(char)param_3,uVar15,param_5,param_6,
                                param_7,param_8,param_9,param_10,param_11,param_12);
        return iVar4;
      }
      uVar15 = 0;
      piVar10 = piVar5;
      pvVar6 = memchr((uchar *)piVar5,'\0',in_stack_00000218);
      uVar17 = (int)pvVar6 - (int)piVar5;
      if (pvVar6 == (void *)0x0) {
        iVar4 = SPRINTF_OBJ_770((char)piVar10,uVar15,(char)in_stack_00000218,(char)pcVar16,param_5,
                                param_6,param_7,param_8,param_9,param_10,param_11,param_12);
        return iVar4;
      }
    }
    else {
      uVar17 = (uint)*(byte *)piVar5;
      piVar5 = (int *)((int)piVar5 + 1);
      if (((param_11 & 0x10) != 0) && ((int)in_stack_00000218 < (int)uVar17)) {
        iVar4 = SPRINTF_OBJ_770(uVar8,bVar12,uVar14,uVar15,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12);
        return iVar4;
      }
    }
    goto code_r0x80022aac;
  case 0x75:
    piVar10 = *param_13;
    uVar17 = param_11 & 0x20;
    param_11._0_2_ = (ushort)(byte)param_11;
    if (uVar17 != 0) {
      piVar10 = (int *)((uint)piVar10 & 0xffff);
    }
    break;
  case 0x78:
    pcVar16 = s_0123456789abcdef_80010490;
    ppiVar3 = param_13 + 1;
    piVar10 = *param_13;
    if ((param_11 & 0x20) != 0) {
      piVar10 = (int *)((uint)piVar10 & 0xffff);
    }
    if ((param_11 & 0x10) == 0) {
      if (((param_11 & 8) != 0) &&
         (param_3 = (uint)param_12, in_stack_00000218 = (uint)param_12, (param_11 & 4) != 0)) {
        in_stack_00000218 = (int)param_12 - 2;
      }
      if ((int)in_stack_00000218 < 1) {
        in_stack_00000218 = 1;
      }
    }
    uVar17 = 0;
    for (; piVar10 != (int *)0x0; piVar10 = (int *)((uint)piVar10 >> 4)) {
      piVar5 = (int *)((int)piVar5 + -1);
      uVar17 = uVar17 + 1;
      *(char *)piVar5 = s_0123456789abcdef_80010490[(uint)piVar10 & 0xf];
    }
    for (; (int)uVar17 < (int)in_stack_00000218; uVar17 = uVar17 + 1) {
      piVar5 = (int *)((int)piVar5 + -1);
      *(byte *)piVar5 = 0x30;
    }
    param_13 = ppiVar3;
    if ((param_11 & 4) != 0) {
      *(byte *)((int)piVar5 + -1) = bVar12;
      *(byte *)((int)piVar5 + -2) = 0x30;
      iVar4 = SPRINTF_OBJ_770(0,bVar12,(char)param_3,0x90,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12);
      return iVar4;
    }
    goto code_r0x80022aac;
  }
  param_13 = param_13 + 1;
  if ((param_11 & 0x10) == 0) {
    if (((param_11 & 8) != 0) && (in_stack_00000218 = (uint)param_12, param_11._1_1_ != 0)) {
      in_stack_00000218 = (int)param_12 - 1;
    }
    if ((int)in_stack_00000218 < 1) {
      in_stack_00000218 = 1;
    }
  }
  uVar17 = 0;
  if (piVar10 != (int *)0x0) {
    uVar13 = 0xcccccccd;
    piVar9 = piVar10;
    do {
      piVar5 = (int *)((int)piVar5 + -1);
      uVar17 = uVar17 + 1;
      piVar10 = (int *)((uint)piVar9 / 10);
      *(byte *)piVar5 = (char)piVar9 + (char)piVar10 * -10 + 0x30;
      piVar9 = piVar10;
    } while (piVar10 != (int *)0x0);
  }
  for (; (int)uVar17 < (int)in_stack_00000218; uVar17 = uVar17 + 1) {
    piVar5 = (int *)((int)piVar5 + -1);
    *(byte *)piVar5 = 0x30;
  }
  if (param_11._1_1_ != 0) {
    *(byte *)((int)piVar5 + -1) = param_11._1_1_;
    iVar4 = SPRINTF_OBJ_770((char)piVar10,(char)uVar13,uVar14,uVar15,param_5,param_6,param_7,param_8
                            ,param_9,param_10,param_11,param_12);
    return iVar4;
  }
code_r0x80022aac:
  puVar11 = (uchar *)(unaff_s3 + unaff_s2);
  if (((int)uVar17 < (int)param_12) && ((param_11 & 1) == 0)) {
    puVar7 = (undefined *)(unaff_s2 + unaff_s3);
    do {
      *puVar7 = (char)unaff_s4;
      puVar7 = puVar7 + 1;
      param_12 = (int *)((int)param_12 - 1);
      unaff_s2 = unaff_s2 + 1;
    } while ((int)uVar17 < (int)param_12);
    puVar11 = (uchar *)(unaff_s3 + unaff_s2);
  }
  memmove(puVar11,(uchar *)piVar5,uVar17);
  unaff_s2 = unaff_s2 + uVar17;
  if ((int)param_12 <= (int)uVar17) goto code_r0x80022b40;
  puVar7 = (undefined *)(unaff_s2 + unaff_s3);
  do {
    *puVar7 = (char)unaff_s4;
    puVar7 = puVar7 + 1;
    uVar17 = uVar17 + 1;
    unaff_s2 = unaff_s2 + 1;
    if ((int)param_12 <= (int)uVar17) goto code_r0x80022b40;
  } while( true );
SPRINTF_OBJ_758:
  if (uVar13 != 0x25) {
SPRINTF_OBJ_824:
    *(undefined *)(unaff_s3 + unaff_s2) = 0;
    return unaff_s2;
  }
  do {
    *(char *)(unaff_s3 + unaff_s2) = (char)uVar13;
    unaff_s2 = unaff_s2 + 1;
code_r0x80022b40:
    iVar4 = param_14 + 1;
    uVar13 = (uint)*(byte *)(param_14 + 1);
    if (uVar13 == 0) goto SPRINTF_OBJ_824;
    param_14 = iVar4;
  } while (uVar13 != 0x25);
  param_11 = DAT_80031cb0;
  param_12 = (int *)DAT_80031cb4;
  param_3 = 0x23;
  in_v1 = 0x30;
  in_stack_00000218 = DAT_80031cb8;
  goto code_r0x800223cc;
}



int SPRINTF_OBJ_1C0(int param_1,uint param_2,undefined param_3,byte param_4,undefined param_5,
                   undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                   undefined param_10,int *param_11,int **param_12,int param_13)

{
  byte *pbVar1;
  int iVar2;
  int iVar3;
  uint in_v0;
  int iVar4;
  int **ppiVar5;
  void *pvVar6;
  undefined *puVar7;
  undefined uVar8;
  int *piVar9;
  int *piVar10;
  uchar *puVar11;
  byte bVar12;
  undefined uVar13;
  undefined3 in_register_00000019;
  undefined uVar14;
  char *pcVar15;
  uint uVar16;
  int *piVar17;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  byte bVar18;
  uint in_stack_00000210;
  undefined2 uVar19;
  int in_stack_00000214;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  
  pcVar15 = (char *)(uint)param_4;
  iVar4 = CONCAT31(in_register_00000019,param_3);
code_r0x800224fc:
  iVar2 = param_13;
  ppiVar5 = param_12;
  uVar13 = (undefined)iVar4;
  uVar14 = SUB41(pcVar15,0);
  if (param_2 == in_v0) {
    param_13 = param_13 + 1;
    param_2 = (uint)*(byte *)(iVar2 + 1);
    if (param_2 == 0x2a) {
      param_11 = *param_12;
      param_13 = iVar2 + 2;
      param_12 = param_12 + 1;
      iVar4 = SPRINTF_OBJ_260(iVar2,(uint)*(byte *)(iVar2 + 2),uVar13,uVar14,param_5,param_6,param_7
                              ,param_8,param_9,param_10,in_stack_00000210,param_11);
      return iVar4;
    }
    while (iVar3 = param_13, param_2 - 0x30 < 10) {
      param_11 = (int *)((int)param_11 * 10 + -0x30 + param_2);
      param_13 = param_13 + 1;
      param_2 = (uint)*(byte *)(iVar3 + 1);
    }
    param_1 = iVar2;
    if (-1 < (int)param_11) {
      in_stack_00000210 = in_stack_00000210 | 0x10;
    }
  }
  piVar17 = (int *)&stack0x00000210;
  if ((in_stack_00000210 & 1) != 0) {
    in_stack_00000210 = in_stack_00000210 & 0xfffffff7;
  }
  bVar12 = (byte)param_2;
  uVar8 = (undefined)param_1;
  bVar18 = (byte)in_stack_00000210;
  uVar19 = (undefined2)(in_stack_00000210 >> 0x10);
  switch(param_2) {
  case 0x4c:
    pbVar1 = (byte *)(param_13 + 1);
    param_13 = param_13 + 1;
    iVar4 = SPRINTF_OBJ_2A4(param_1,(uint)*pbVar1);
    return iVar4;
  default:
    goto SPRINTF_OBJ_758;
  case 99:
    param_12 = param_12 + 1;
    iVar4 = SPRINTF_OBJ_770(uVar8,bVar12,uVar13,uVar14,param_5,param_6,param_7,param_8,param_9,
                            param_10,in_stack_00000210,in_stack_00000214);
    return iVar4;
  case 100:
  case 0x69:
    piVar10 = *param_12;
    if ((in_stack_00000210 & 0x20) != 0) {
      piVar10 = (int *)(int)(short)piVar10;
    }
    if ((int)piVar10 < 0) {
      param_12 = param_12 + 1;
      iVar4 = SPRINTF_OBJ_388((int *)-(int)piVar10,bVar12,uVar13,uVar14,param_5,param_6,param_7,
                              param_8,param_9,param_10,
                              CONCAT22(uVar19,CONCAT11((char)unaff_s6,bVar18)),in_stack_00000214,
                              param_11);
      return iVar4;
    }
    if ((in_stack_00000210 & 2) != 0) {
      param_12 = param_12 + 1;
      iVar4 = SPRINTF_OBJ_388(piVar10,bVar12,uVar13,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,CONCAT22(uVar19,CONCAT11((char)unaff_s5,bVar18)),
                              in_stack_00000214,param_11);
      return iVar4;
    }
    break;
  case 0x68:
    iVar4 = SPRINTF_OBJ_2EC(param_1,bVar12,uVar13,uVar14,param_5,param_6,param_7,param_8,param_9,
                            param_10,in_stack_00000210,param_13);
    return iVar4;
  case 0x6c:
    iVar4 = SPRINTF_OBJ_2EC(param_1,bVar12,uVar13,uVar14,param_5,param_6,param_7,param_8,param_9,
                            param_10,in_stack_00000210,param_13);
    return iVar4;
  case 0x6e:
    if ((in_stack_00000210 & 0x20) != 0) {
      *(short *)*param_12 = (short)unaff_s2;
      param_12 = param_12 + 1;
      iVar4 = SPRINTF_OBJ_804(uVar8,bVar12,uVar13,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,in_stack_00000210,in_stack_00000214,param_11,
                              in_stack_00000228,in_stack_0000022c,in_stack_00000230,
                              in_stack_00000234,in_stack_00000238,in_stack_0000023c,
                              in_stack_00000240,in_stack_00000244,param_13);
      return iVar4;
    }
    **param_12 = unaff_s2;
    param_12 = param_12 + 1;
    iVar4 = SPRINTF_OBJ_804(uVar8,bVar12,uVar13,uVar14,param_5,param_6,param_7,param_8,param_9,
                            param_10,in_stack_00000210,in_stack_00000214,param_11,in_stack_00000228,
                            in_stack_0000022c,in_stack_00000230,in_stack_00000234,in_stack_00000238,
                            in_stack_0000023c,in_stack_00000240,in_stack_00000244,param_13);
    return iVar4;
  case 0x6f:
    param_12 = param_12 + 1;
    piVar10 = *ppiVar5;
    if ((in_stack_00000210 & 0x20) != 0) {
      piVar10 = (int *)((uint)piVar10 & 0xffff);
    }
    if ((in_stack_00000210 & 0x10) == 0) {
      if ((in_stack_00000210 & 8) != 0) {
        param_11 = (int *)in_stack_00000214;
      }
      if ((int)param_11 < 1) {
        param_11 = (int *)0x1;
      }
    }
    uVar16 = 0;
    for (; piVar10 != (int *)0x0; piVar10 = (int *)((uint)piVar10 >> 3)) {
      piVar17 = (int *)((int)piVar17 + -1);
      *(byte *)piVar17 = ((byte)piVar10 & 7) + 0x30;
      uVar16 = uVar16 + 1;
    }
    if ((((in_stack_00000210 & 4) != 0) && (uVar16 != 0)) && (*(byte *)piVar17 != 0x30)) {
      piVar17 = (int *)((int)piVar17 + -1);
      *(byte *)piVar17 = 0x30;
      uVar16 = uVar16 + 1;
    }
    if ((int)uVar16 < (int)param_11) {
      do {
        piVar17 = (int *)((int)piVar17 + -1);
        *(byte *)piVar17 = 0x30;
        uVar16 = uVar16 + 1;
      } while ((int)uVar16 < (int)param_11);
      iVar4 = SPRINTF_OBJ_770((byte)piVar10,bVar12,uVar13,uVar14,param_5,param_6,param_7,param_8,
                              param_9,param_10,in_stack_00000210,in_stack_00000214);
      return iVar4;
    }
    goto code_r0x80022aac;
  case 0x70:
    param_11 = (int *)0x8;
    in_stack_00000210 = in_stack_00000210 | 0x50;
  case 0x58:
    iVar4 = SPRINTF_OBJ_590(param_1,param_2,iVar4,s_0123456789ABCDEF_8001047c,param_5,param_6,
                            param_7,param_8,param_9,param_10,in_stack_00000210,in_stack_00000214,
                            param_11,param_12);
    return iVar4;
  case 0x73:
    ppiVar5 = param_12 + 1;
    piVar17 = *param_12;
    param_12 = ppiVar5;
    if ((in_stack_00000210 & 4) == 0) {
      if ((in_stack_00000210 & 0x10) == 0) {
        strlen((char *)piVar17);
        iVar4 = SPRINTF_OBJ_770((char)piVar17,(char)param_2,(char)iVar4,uVar14,param_5,param_6,
                                param_7,param_8,param_9,param_10,in_stack_00000210,in_stack_00000214
                               );
        return iVar4;
      }
      uVar13 = 0;
      piVar10 = piVar17;
      iVar4 = (int)param_11;
      pvVar6 = memchr((uchar *)piVar17,'\0',(int)param_11);
      uVar16 = (int)pvVar6 - (int)piVar17;
      if (pvVar6 == (void *)0x0) {
        iVar4 = SPRINTF_OBJ_770((char)piVar10,uVar13,(char)iVar4,(char)pcVar15,param_5,param_6,
                                param_7,param_8,param_9,param_10,in_stack_00000210,in_stack_00000214
                               );
        return iVar4;
      }
    }
    else {
      uVar16 = (uint)*(byte *)piVar17;
      piVar17 = (int *)((int)piVar17 + 1);
      if (((in_stack_00000210 & 0x10) != 0) && ((int)param_11 < (int)uVar16)) {
        iVar4 = SPRINTF_OBJ_770(uVar8,bVar12,uVar13,uVar14,param_5,param_6,param_7,param_8,param_9,
                                param_10,in_stack_00000210,in_stack_00000214);
        return iVar4;
      }
    }
    goto code_r0x80022aac;
  case 0x75:
    piVar10 = *param_12;
    uVar16 = in_stack_00000210 & 0x20;
    in_stack_00000210 = CONCAT22(uVar19,(ushort)bVar18);
    if (uVar16 != 0) {
      piVar10 = (int *)((uint)piVar10 & 0xffff);
    }
    break;
  case 0x78:
    pcVar15 = s_0123456789abcdef_80010490;
    ppiVar5 = param_12 + 1;
    piVar10 = *param_12;
    if ((in_stack_00000210 & 0x20) != 0) {
      piVar10 = (int *)((uint)piVar10 & 0xffff);
    }
    if ((in_stack_00000210 & 0x10) == 0) {
      if (((in_stack_00000210 & 8) != 0) &&
         (iVar4 = in_stack_00000214, param_11 = (int *)in_stack_00000214,
         (in_stack_00000210 & 4) != 0)) {
        param_11 = (int *)(in_stack_00000214 + -2);
      }
      if ((int)param_11 < 1) {
        param_11 = (int *)0x1;
      }
    }
    uVar16 = 0;
    for (; piVar10 != (int *)0x0; piVar10 = (int *)((uint)piVar10 >> 4)) {
      piVar17 = (int *)((int)piVar17 + -1);
      uVar16 = uVar16 + 1;
      *(char *)piVar17 = s_0123456789abcdef_80010490[(uint)piVar10 & 0xf];
    }
    for (; (int)uVar16 < (int)param_11; uVar16 = uVar16 + 1) {
      piVar17 = (int *)((int)piVar17 + -1);
      *(byte *)piVar17 = 0x30;
    }
    param_12 = ppiVar5;
    if ((in_stack_00000210 & 4) != 0) {
      *(byte *)((int)piVar17 + -1) = bVar12;
      *(byte *)((int)piVar17 + -2) = 0x30;
      iVar4 = SPRINTF_OBJ_770(0,bVar12,(char)iVar4,0x90,param_5,param_6,param_7,param_8,param_9,
                              param_10,in_stack_00000210,in_stack_00000214);
      return iVar4;
    }
    goto code_r0x80022aac;
  }
  param_12 = param_12 + 1;
  bVar12 = (byte)(in_stack_00000210 >> 8);
  if ((in_stack_00000210 & 0x10) == 0) {
    if (((in_stack_00000210 & 8) != 0) && (param_11 = (int *)in_stack_00000214, bVar12 != 0)) {
      param_11 = (int *)(in_stack_00000214 + -1);
    }
    if ((int)param_11 < 1) {
      param_11 = (int *)0x1;
    }
  }
  uVar16 = 0;
  if (piVar10 != (int *)0x0) {
    param_2 = 0xcccccccd;
    piVar9 = piVar10;
    do {
      piVar17 = (int *)((int)piVar17 + -1);
      uVar16 = uVar16 + 1;
      piVar10 = (int *)((uint)piVar9 / 10);
      *(byte *)piVar17 = (char)piVar9 + (char)piVar10 * -10 + 0x30;
      piVar9 = piVar10;
    } while (piVar10 != (int *)0x0);
  }
  for (; (int)uVar16 < (int)param_11; uVar16 = uVar16 + 1) {
    piVar17 = (int *)((int)piVar17 + -1);
    *(byte *)piVar17 = 0x30;
  }
  if (bVar12 != 0) {
    *(byte *)((int)piVar17 + -1) = bVar12;
    iVar4 = SPRINTF_OBJ_770((char)piVar10,(char)param_2,uVar13,uVar14,param_5,param_6,param_7,
                            param_8,param_9,param_10,in_stack_00000210,in_stack_00000214);
    return iVar4;
  }
code_r0x80022aac:
  puVar11 = (uchar *)(unaff_s3 + unaff_s2);
  if (((int)uVar16 < in_stack_00000214) && ((in_stack_00000210 & 1) == 0)) {
    puVar7 = (undefined *)(unaff_s2 + unaff_s3);
    do {
      *puVar7 = (char)unaff_s4;
      puVar7 = puVar7 + 1;
      in_stack_00000214 = in_stack_00000214 + -1;
      unaff_s2 = unaff_s2 + 1;
    } while ((int)uVar16 < in_stack_00000214);
    puVar11 = (uchar *)(unaff_s3 + unaff_s2);
  }
  memmove(puVar11,(uchar *)piVar17,uVar16);
  unaff_s2 = unaff_s2 + uVar16;
  if (in_stack_00000214 <= (int)uVar16) goto code_r0x80022b40;
  puVar7 = (undefined *)(unaff_s2 + unaff_s3);
  do {
    *puVar7 = (char)unaff_s4;
    puVar7 = puVar7 + 1;
    uVar16 = uVar16 + 1;
    unaff_s2 = unaff_s2 + 1;
    if (in_stack_00000214 <= (int)uVar16) goto code_r0x80022b40;
  } while( true );
SPRINTF_OBJ_758:
  if (param_2 != 0x25) {
SPRINTF_OBJ_824:
    *(undefined *)(unaff_s3 + unaff_s2) = 0;
    return unaff_s2;
  }
  do {
    *(char *)(unaff_s3 + unaff_s2) = (char)param_2;
    unaff_s2 = unaff_s2 + 1;
code_r0x80022b40:
    iVar4 = param_13 + 1;
    param_2 = (uint)*(byte *)(param_13 + 1);
    if (param_2 == 0) goto SPRINTF_OBJ_824;
    param_13 = iVar4;
  } while (param_2 != 0x25);
  param_11 = (int *)DAT_80031cb8;
  iVar4 = 0x23;
  in_stack_00000210 = DAT_80031cb0;
  while( true ) {
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            param_1 = param_13;
            param_13 = param_13 + 1;
            param_2 = (uint)*(byte *)(param_1 + 1);
            if (param_2 != unaff_s6) break;
            in_stack_00000210 = in_stack_00000210 | 1;
          }
          if (param_2 != unaff_s5) break;
          in_stack_00000210 = in_stack_00000210 | 2;
        }
        if (param_2 != unaff_s4) break;
        in_stack_00000210 =
             CONCAT22((short)(in_stack_00000210 >> 0x10),
                      CONCAT11(*(byte *)(param_1 + 1),(char)in_stack_00000210));
      }
      if (param_2 != 0x23) break;
      in_stack_00000210 = in_stack_00000210 | 4;
    }
    if (param_2 != 0x30) break;
    in_stack_00000210 = in_stack_00000210 | 8;
  }
  in_stack_00000214 = DAT_80031cb4;
  if (param_2 == 0x2a) {
    param_12 = param_12 + 1;
    param_13 = param_1 + 2;
    iVar4 = SPRINTF_OBJ_1C0(param_1,(uint)*(byte *)(param_1 + 2),0x23,(char)pcVar15,param_5,param_6,
                            param_7,param_8,param_9,param_10,(int *)DAT_80031cb8,param_12,param_13);
    return iVar4;
  }
  while (iVar2 = param_13, in_v0 = 0x2e, param_2 - 0x30 < 10) {
    in_stack_00000214 = in_stack_00000214 * 10 + -0x30 + param_2;
    param_13 = param_13 + 1;
    param_2 = (uint)*(byte *)(iVar2 + 1);
  }
  goto code_r0x800224fc;
}



int SPRINTF_OBJ_260(int param_1,uint param_2,undefined param_3,byte param_4,undefined param_5,
                   undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                   undefined param_10,uint param_11,int *param_12)

{
  void *pvVar1;
  int iVar2;
  undefined *puVar3;
  undefined uVar4;
  int *piVar5;
  int *piVar6;
  uchar *puVar7;
  byte bVar8;
  undefined uVar9;
  int iVar10;
  undefined3 in_register_00000019;
  undefined uVar11;
  char *pcVar12;
  uint uVar13;
  int *piVar14;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int in_stack_00000214;
  int **in_stack_00000220;
  int **ppiVar15;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int in_stack_0000024c;
  
  pcVar12 = (char *)(uint)param_4;
  iVar10 = CONCAT31(in_register_00000019,param_3);
code_r0x8002259c:
  iVar2 = param_1;
  ppiVar15 = in_stack_00000220;
  if (-1 < (int)param_12) {
    param_11 = param_11 | 0x10;
  }
SPRINTF_OBJ_280:
  uVar11 = SUB41(pcVar12,0);
  piVar14 = (int *)&param_11;
  if ((param_11 & 1) != 0) {
    param_11 = param_11 & 0xfffffff7;
  }
  bVar8 = (byte)param_2;
  uVar9 = (undefined)iVar10;
  uVar4 = (undefined)iVar2;
  switch(param_2) {
  case 0x4c:
    param_11 = param_11 | 0x80;
    iVar10 = SPRINTF_OBJ_2A4(iVar2,(uint)*(byte *)(in_stack_0000024c + 1));
    return iVar10;
  default:
    goto SPRINTF_OBJ_758;
  case 99:
    iVar10 = SPRINTF_OBJ_770(uVar4,bVar8,uVar9,uVar11,param_5,param_6,param_7,param_8,param_9,
                             param_10,param_11,in_stack_00000214);
    return iVar10;
  case 100:
  case 0x69:
    piVar6 = *ppiVar15;
    if ((param_11 & 0x20) != 0) {
      piVar6 = (int *)(int)(short)piVar6;
    }
    if ((int)piVar6 < 0) {
      param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
      iVar10 = SPRINTF_OBJ_388((int *)-(int)piVar6,bVar8,uVar9,uVar11,param_5,param_6,param_7,
                               param_8,param_9,param_10,param_11,in_stack_00000214,param_12);
      return iVar10;
    }
    if ((param_11 & 2) != 0) {
      param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
      iVar10 = SPRINTF_OBJ_388(piVar6,bVar8,uVar9,uVar11,param_5,param_6,param_7,param_8,param_9,
                               param_10,param_11,in_stack_00000214,param_12);
      return iVar10;
    }
    break;
  case 0x68:
    iVar10 = SPRINTF_OBJ_2EC(iVar2,bVar8,uVar9,uVar11,param_5,param_6,param_7,param_8,param_9,
                             param_10,param_11,in_stack_0000024c);
    return iVar10;
  case 0x6c:
    iVar10 = SPRINTF_OBJ_2EC(iVar2,bVar8,uVar9,uVar11,param_5,param_6,param_7,param_8,param_9,
                             param_10,param_11,in_stack_0000024c);
    return iVar10;
  case 0x6e:
    if ((param_11 & 0x20) != 0) {
      *(short *)*ppiVar15 = (short)unaff_s2;
      iVar10 = SPRINTF_OBJ_804(uVar4,bVar8,uVar9,uVar11,param_5,param_6,param_7,param_8,param_9,
                               param_10,param_11,in_stack_00000214,param_12,in_stack_00000228,
                               in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                               in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                               in_stack_00000244,in_stack_0000024c);
      return iVar10;
    }
    **ppiVar15 = unaff_s2;
    iVar10 = SPRINTF_OBJ_804(uVar4,bVar8,uVar9,uVar11,param_5,param_6,param_7,param_8,param_9,
                             param_10,param_11,in_stack_00000214,param_12,in_stack_00000228,
                             in_stack_0000022c,in_stack_00000230,in_stack_00000234,in_stack_00000238
                             ,in_stack_0000023c,in_stack_00000240,in_stack_00000244,
                             in_stack_0000024c);
    return iVar10;
  case 0x6f:
    in_stack_00000220 = ppiVar15 + 1;
    piVar6 = *ppiVar15;
    if ((param_11 & 0x20) != 0) {
      piVar6 = (int *)((uint)piVar6 & 0xffff);
    }
    if ((param_11 & 0x10) == 0) {
      if ((param_11 & 8) != 0) {
        param_12 = (int *)in_stack_00000214;
      }
      if ((int)param_12 < 1) {
        param_12 = (int *)0x1;
      }
    }
    uVar13 = 0;
    for (; piVar6 != (int *)0x0; piVar6 = (int *)((uint)piVar6 >> 3)) {
      piVar14 = (int *)((int)piVar14 + -1);
      *(byte *)piVar14 = ((byte)piVar6 & 7) + 0x30;
      uVar13 = uVar13 + 1;
    }
    if ((((param_11 & 4) != 0) && (uVar13 != 0)) && (*(byte *)piVar14 != 0x30)) {
      piVar14 = (int *)((int)piVar14 + -1);
      *(byte *)piVar14 = 0x30;
      uVar13 = uVar13 + 1;
    }
    if ((int)uVar13 < (int)param_12) {
      do {
        piVar14 = (int *)((int)piVar14 + -1);
        *(byte *)piVar14 = 0x30;
        uVar13 = uVar13 + 1;
      } while ((int)uVar13 < (int)param_12);
      iVar10 = SPRINTF_OBJ_770((byte)piVar6,bVar8,uVar9,uVar11,param_5,param_6,param_7,param_8,
                               param_9,param_10,param_11,in_stack_00000214);
      return iVar10;
    }
    goto code_r0x80022aac;
  case 0x70:
    param_12 = (int *)0x8;
    param_11 = param_11 | 0x50;
  case 0x58:
    iVar10 = SPRINTF_OBJ_590(iVar2,param_2,iVar10,s_0123456789ABCDEF_8001047c,param_5,param_6,
                             param_7,param_8,param_9,param_10,param_11,in_stack_00000214,param_12,
                             ppiVar15);
    return iVar10;
  case 0x73:
    in_stack_00000220 = ppiVar15 + 1;
    piVar14 = *ppiVar15;
    if ((param_11 & 4) == 0) {
      if ((param_11 & 0x10) == 0) {
        strlen((char *)piVar14);
        iVar10 = SPRINTF_OBJ_770((char)piVar14,(char)param_2,(char)iVar10,uVar11,param_5,param_6,
                                 param_7,param_8,param_9,param_10,param_11,in_stack_00000214);
        return iVar10;
      }
      uVar11 = 0;
      piVar6 = piVar14;
      iVar10 = (int)param_12;
      pvVar1 = memchr((uchar *)piVar14,'\0',(int)param_12);
      uVar13 = (int)pvVar1 - (int)piVar14;
      if (pvVar1 == (void *)0x0) {
        iVar10 = SPRINTF_OBJ_770((char)piVar6,uVar11,(char)iVar10,(char)pcVar12,param_5,param_6,
                                 param_7,param_8,param_9,param_10,param_11,in_stack_00000214);
        return iVar10;
      }
    }
    else {
      uVar13 = (uint)*(byte *)piVar14;
      piVar14 = (int *)((int)piVar14 + 1);
      if (((param_11 & 0x10) != 0) && ((int)param_12 < (int)uVar13)) {
        iVar10 = SPRINTF_OBJ_770(uVar4,bVar8,uVar9,uVar11,param_5,param_6,param_7,param_8,param_9,
                                 param_10,param_11,in_stack_00000214);
        return iVar10;
      }
    }
    goto code_r0x80022aac;
  case 0x75:
    piVar6 = *ppiVar15;
    uVar13 = param_11 & 0x20;
    param_11._0_2_ = (ushort)(byte)param_11;
    if (uVar13 != 0) {
      piVar6 = (int *)((uint)piVar6 & 0xffff);
    }
    break;
  case 0x78:
    pcVar12 = s_0123456789abcdef_80010490;
    in_stack_00000220 = ppiVar15 + 1;
    piVar6 = *ppiVar15;
    if ((param_11 & 0x20) != 0) {
      piVar6 = (int *)((uint)piVar6 & 0xffff);
    }
    if ((param_11 & 0x10) == 0) {
      if (((param_11 & 8) != 0) &&
         (iVar10 = in_stack_00000214, param_12 = (int *)in_stack_00000214, (param_11 & 4) != 0)) {
        param_12 = (int *)(in_stack_00000214 + -2);
      }
      if ((int)param_12 < 1) {
        param_12 = (int *)0x1;
      }
    }
    uVar13 = 0;
    for (; piVar6 != (int *)0x0; piVar6 = (int *)((uint)piVar6 >> 4)) {
      piVar14 = (int *)((int)piVar14 + -1);
      uVar13 = uVar13 + 1;
      *(char *)piVar14 = s_0123456789abcdef_80010490[(uint)piVar6 & 0xf];
    }
    for (; (int)uVar13 < (int)param_12; uVar13 = uVar13 + 1) {
      piVar14 = (int *)((int)piVar14 + -1);
      *(byte *)piVar14 = 0x30;
    }
    if ((param_11 & 4) != 0) {
      *(byte *)((int)piVar14 + -1) = bVar8;
      *(byte *)((int)piVar14 + -2) = 0x30;
      iVar10 = SPRINTF_OBJ_770(0,bVar8,(char)iVar10,0x90,param_5,param_6,param_7,param_8,param_9,
                               param_10,param_11,in_stack_00000214);
      return iVar10;
    }
    goto code_r0x80022aac;
  }
  in_stack_00000220 = ppiVar15 + 1;
  if ((param_11 & 0x10) == 0) {
    if (((param_11 & 8) != 0) && (param_12 = (int *)in_stack_00000214, param_11._1_1_ != 0)) {
      param_12 = (int *)(in_stack_00000214 + -1);
    }
    if ((int)param_12 < 1) {
      param_12 = (int *)0x1;
    }
  }
  uVar13 = 0;
  if (piVar6 != (int *)0x0) {
    param_2 = 0xcccccccd;
    piVar5 = piVar6;
    do {
      piVar14 = (int *)((int)piVar14 + -1);
      uVar13 = uVar13 + 1;
      piVar6 = (int *)((uint)piVar5 / 10);
      *(byte *)piVar14 = (char)piVar5 + (char)piVar6 * -10 + 0x30;
      piVar5 = piVar6;
    } while (piVar6 != (int *)0x0);
  }
  for (; (int)uVar13 < (int)param_12; uVar13 = uVar13 + 1) {
    piVar14 = (int *)((int)piVar14 + -1);
    *(byte *)piVar14 = 0x30;
  }
  if (param_11._1_1_ != 0) {
    *(byte *)((int)piVar14 + -1) = param_11._1_1_;
    iVar10 = SPRINTF_OBJ_770((char)piVar6,(char)param_2,uVar9,uVar11,param_5,param_6,param_7,param_8
                             ,param_9,param_10,param_11,in_stack_00000214);
    return iVar10;
  }
code_r0x80022aac:
  puVar7 = (uchar *)(unaff_s3 + unaff_s2);
  if (((int)uVar13 < in_stack_00000214) && ((param_11 & 1) == 0)) {
    puVar3 = (undefined *)(unaff_s2 + unaff_s3);
    do {
      *puVar3 = (char)unaff_s4;
      puVar3 = puVar3 + 1;
      in_stack_00000214 = in_stack_00000214 + -1;
      unaff_s2 = unaff_s2 + 1;
    } while ((int)uVar13 < in_stack_00000214);
    puVar7 = (uchar *)(unaff_s3 + unaff_s2);
  }
  memmove(puVar7,(uchar *)piVar14,uVar13);
  unaff_s2 = unaff_s2 + uVar13;
  if (in_stack_00000214 <= (int)uVar13) goto code_r0x80022b40;
  puVar3 = (undefined *)(unaff_s2 + unaff_s3);
  do {
    *puVar3 = (char)unaff_s4;
    puVar3 = puVar3 + 1;
    uVar13 = uVar13 + 1;
    unaff_s2 = unaff_s2 + 1;
    if (in_stack_00000214 <= (int)uVar13) goto code_r0x80022b40;
  } while( true );
SPRINTF_OBJ_758:
  in_stack_00000220 = ppiVar15;
  if (param_2 != 0x25) {
SPRINTF_OBJ_824:
    *(undefined *)(unaff_s3 + unaff_s2) = 0;
    return unaff_s2;
  }
  do {
    *(char *)(unaff_s3 + unaff_s2) = (char)param_2;
    unaff_s2 = unaff_s2 + 1;
code_r0x80022b40:
    iVar2 = in_stack_0000024c + 1;
    param_2 = (uint)*(byte *)(in_stack_0000024c + 1);
    if (param_2 == 0) goto SPRINTF_OBJ_824;
    in_stack_0000024c = iVar2;
  } while (param_2 != 0x25);
  param_11 = DAT_80031cb0;
  param_12 = (int *)DAT_80031cb8;
  iVar10 = 0x23;
  while( true ) {
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            param_1 = iVar2 + 1;
            param_2 = (uint)*(byte *)(iVar2 + 1);
            if (param_2 != unaff_s6) break;
            param_11 = param_11 | 1;
            iVar2 = param_1;
          }
          if (param_2 != unaff_s5) break;
          param_11 = param_11 | 2;
          iVar2 = param_1;
        }
        if (param_2 != unaff_s4) break;
        param_11._0_2_ = CONCAT11(*(byte *)(iVar2 + 1),(byte)param_11);
        iVar2 = param_1;
      }
      if (param_2 != 0x23) break;
      param_11 = param_11 | 4;
      iVar2 = param_1;
    }
    if (param_2 != 0x30) break;
    param_11 = param_11 | 8;
    iVar2 = param_1;
  }
  in_stack_00000214 = DAT_80031cb4;
  if (param_2 == 0x2a) {
    if ((int)*in_stack_00000220 < 0) {
      param_11 = param_11 | 1;
    }
    iVar10 = SPRINTF_OBJ_1C0(iVar2,(uint)*(byte *)(iVar2 + 2),0x23,(char)pcVar12,param_5,param_6,
                             param_7,param_8,param_9,param_10,DAT_80031cb8,in_stack_00000220 + 1,
                             iVar2 + 2);
    return iVar10;
  }
  while (param_2 - 0x30 < 10) {
    in_stack_00000214 = in_stack_00000214 * 10 + -0x30 + param_2;
    param_2 = (uint)*(byte *)(param_1 + 1);
    param_1 = param_1 + 1;
  }
  ppiVar15 = in_stack_00000220;
  in_stack_0000024c = param_1;
  if (param_2 == 0x2e) goto code_r0x80022504;
  goto SPRINTF_OBJ_280;
code_r0x80022504:
  param_2 = (uint)*(byte *)(param_1 + 1);
  iVar2 = param_1;
  if (param_2 == 0x2a) {
    param_12 = *in_stack_00000220;
    iVar10 = SPRINTF_OBJ_260(param_1,(uint)*(byte *)(param_1 + 2),0x23,(char)pcVar12,param_5,param_6
                             ,param_7,param_8,param_9,param_10,param_11,param_12);
    return iVar10;
  }
  while (in_stack_0000024c = iVar2 + 1, param_2 - 0x30 < 10) {
    param_12 = (int *)((int)param_12 * 10 + -0x30 + param_2);
    param_2 = (uint)*(byte *)(iVar2 + 2);
    iVar2 = in_stack_0000024c;
  }
  goto code_r0x8002259c;
}



int SPRINTF_OBJ_2A4(int param_1,uint param_2)

{
  int iVar1;
  void *pvVar2;
  int in_v1;
  undefined *puVar3;
  undefined uVar4;
  int *piVar5;
  int *piVar6;
  uchar *puVar7;
  byte bVar8;
  undefined uVar9;
  int in_a2;
  undefined uVar10;
  char *in_a3;
  uint uVar11;
  int *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  byte bVar12;
  uint in_stack_00000210;
  undefined2 uVar13;
  int in_stack_00000214;
  int in_stack_00000218;
  int **in_stack_00000220;
  int **ppiVar14;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int iVar15;
  int in_stack_0000024c;
  
code_r0x800225e0:
  uVar10 = SUB41(in_a3,0);
  bVar8 = (byte)param_2;
  uVar9 = (undefined)in_a2;
  uVar4 = (undefined)param_1;
  bVar12 = (byte)in_stack_00000210;
  uVar13 = (undefined2)(in_stack_00000210 >> 0x10);
  switch(in_v1) {
  case 0:
    iVar1 = SPRINTF_OBJ_2A4(param_1,(uint)*(byte *)(in_stack_0000024c + 1));
    return iVar1;
  default:
    goto SPRINTF_OBJ_758;
  case 0x17:
    *(byte *)((int)unaff_s1 + -1) = *(byte *)in_stack_00000220;
    iVar1 = SPRINTF_OBJ_770(uVar4,bVar8,uVar9,uVar10,in_stack_00000010,in_stack_00000014,
                            in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                            in_stack_00000210,in_stack_00000214);
    return iVar1;
  case 0x18:
  case 0x1d:
    piVar6 = *in_stack_00000220;
    if ((in_stack_00000210 & 0x20) != 0) {
      piVar6 = (int *)(int)(short)piVar6;
    }
    if ((int)piVar6 < 0) {
      iVar1 = SPRINTF_OBJ_388((int *)-(int)piVar6,bVar8,uVar9,uVar10,in_stack_00000010,
                              in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                              in_stack_00000020,in_stack_00000024,
                              CONCAT22(uVar13,CONCAT11((char)unaff_s6,bVar12)),in_stack_00000214,
                              in_stack_00000218);
      return iVar1;
    }
    if ((in_stack_00000210 & 2) != 0) {
      iVar1 = SPRINTF_OBJ_388(piVar6,bVar8,uVar9,uVar10,in_stack_00000010,in_stack_00000014,
                              in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                              in_stack_00000024,CONCAT22(uVar13,CONCAT11((char)unaff_s5,bVar12)),
                              in_stack_00000214,in_stack_00000218);
      return iVar1;
    }
    break;
  case 0x1c:
    iVar1 = SPRINTF_OBJ_2EC(param_1,bVar8,uVar9,uVar10,in_stack_00000010,in_stack_00000014,
                            in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                            in_stack_00000210,in_stack_0000024c);
    return iVar1;
  case 0x20:
    iVar1 = SPRINTF_OBJ_2EC(param_1,bVar8,uVar9,uVar10,in_stack_00000010,in_stack_00000014,
                            in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                            in_stack_00000210,in_stack_0000024c);
    return iVar1;
  case 0x22:
    if ((in_stack_00000210 & 0x20) == 0) {
      **in_stack_00000220 = unaff_s2;
      iVar1 = SPRINTF_OBJ_804(uVar4,bVar8,uVar9,uVar10,in_stack_00000010,in_stack_00000014,
                              in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                              in_stack_00000024,in_stack_00000210,in_stack_00000214,
                              in_stack_00000218,in_stack_00000228,in_stack_0000022c,
                              in_stack_00000230,in_stack_00000234,in_stack_00000238,
                              in_stack_0000023c,in_stack_00000240,in_stack_00000244,
                              in_stack_0000024c);
      return iVar1;
    }
    *(short *)*in_stack_00000220 = (short)unaff_s2;
    iVar1 = SPRINTF_OBJ_804(uVar4,bVar8,uVar9,uVar10,in_stack_00000010,in_stack_00000014,
                            in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                            in_stack_00000210,in_stack_00000214,in_stack_00000218,in_stack_00000228,
                            in_stack_0000022c,in_stack_00000230,in_stack_00000234,in_stack_00000238,
                            in_stack_0000023c,in_stack_00000240,in_stack_00000244,in_stack_0000024c)
    ;
    return iVar1;
  case 0x23:
    ppiVar14 = in_stack_00000220 + 1;
    piVar6 = *in_stack_00000220;
    if ((in_stack_00000210 & 0x20) != 0) {
      piVar6 = (int *)((uint)piVar6 & 0xffff);
    }
    if ((in_stack_00000210 & 0x10) == 0) {
      if ((in_stack_00000210 & 8) != 0) {
        in_stack_00000218 = in_stack_00000214;
      }
      if (in_stack_00000218 < 1) {
        in_stack_00000218 = 1;
      }
    }
    uVar11 = 0;
    for (; piVar6 != (int *)0x0; piVar6 = (int *)((uint)piVar6 >> 3)) {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = ((byte)piVar6 & 7) + 0x30;
      uVar11 = uVar11 + 1;
    }
    if ((((in_stack_00000210 & 4) != 0) && (uVar11 != 0)) && (*(byte *)unaff_s1 != 0x30)) {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar11 = uVar11 + 1;
    }
    if ((int)uVar11 < in_stack_00000218) {
      do {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
        uVar11 = uVar11 + 1;
      } while ((int)uVar11 < in_stack_00000218);
      iVar1 = SPRINTF_OBJ_770((byte)piVar6,bVar8,uVar9,uVar10,in_stack_00000010,in_stack_00000014,
                              in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                              in_stack_00000024,in_stack_00000210,in_stack_00000214);
      return iVar1;
    }
    goto code_r0x80022aac;
  case 0x24:
    in_stack_00000218 = 8;
    in_stack_00000210 = in_stack_00000210 | 0x50;
  case 0xc:
    iVar1 = SPRINTF_OBJ_590(param_1,param_2,in_a2,s_0123456789ABCDEF_8001047c,in_stack_00000010,
                            in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                            in_stack_00000024,in_stack_00000210,in_stack_00000214,in_stack_00000218,
                            in_stack_00000220);
    return iVar1;
  case 0x27:
    ppiVar14 = in_stack_00000220 + 1;
    unaff_s1 = *in_stack_00000220;
    if ((in_stack_00000210 & 4) == 0) {
      if ((in_stack_00000210 & 0x10) == 0) {
        strlen((char *)unaff_s1);
        iVar1 = SPRINTF_OBJ_770((char)unaff_s1,(char)param_2,(char)in_a2,uVar10,in_stack_00000010,
                                in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                in_stack_00000020,in_stack_00000024,in_stack_00000210,
                                in_stack_00000214);
        return iVar1;
      }
      uVar4 = 0;
      piVar6 = unaff_s1;
      pvVar2 = memchr((uchar *)unaff_s1,'\0',in_stack_00000218);
      uVar11 = (int)pvVar2 - (int)unaff_s1;
      if (pvVar2 == (void *)0x0) {
        iVar1 = SPRINTF_OBJ_770((char)piVar6,uVar4,(char)in_stack_00000218,(char)in_a3,
                                in_stack_00000010,in_stack_00000014,in_stack_00000018,
                                in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                                in_stack_00000210,in_stack_00000214);
        return iVar1;
      }
    }
    else {
      uVar11 = (uint)*(byte *)unaff_s1;
      unaff_s1 = (int *)((int)unaff_s1 + 1);
      if (((in_stack_00000210 & 0x10) != 0) && (in_stack_00000218 < (int)uVar11)) {
        iVar1 = SPRINTF_OBJ_770(uVar4,bVar8,uVar9,uVar10,in_stack_00000010,in_stack_00000014,
                                in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                in_stack_00000024,in_stack_00000210,in_stack_00000214);
        return iVar1;
      }
    }
    goto code_r0x80022aac;
  case 0x29:
    piVar6 = *in_stack_00000220;
    uVar11 = in_stack_00000210 & 0x20;
    in_stack_00000210 = CONCAT22(uVar13,(ushort)bVar12);
    if (uVar11 != 0) {
      piVar6 = (int *)((uint)piVar6 & 0xffff);
    }
    break;
  case 0x2c:
    in_a3 = s_0123456789abcdef_80010490;
    ppiVar14 = in_stack_00000220 + 1;
    piVar6 = *in_stack_00000220;
    if ((in_stack_00000210 & 0x20) != 0) {
      piVar6 = (int *)((uint)piVar6 & 0xffff);
    }
    if ((in_stack_00000210 & 0x10) == 0) {
      if (((in_stack_00000210 & 8) != 0) &&
         (in_a2 = in_stack_00000214, in_stack_00000218 = in_stack_00000214,
         (in_stack_00000210 & 4) != 0)) {
        in_stack_00000218 = in_stack_00000214 + -2;
      }
      if (in_stack_00000218 < 1) {
        in_stack_00000218 = 1;
      }
    }
    uVar11 = 0;
    for (; piVar6 != (int *)0x0; piVar6 = (int *)((uint)piVar6 >> 4)) {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      uVar11 = uVar11 + 1;
      *(char *)unaff_s1 = s_0123456789abcdef_80010490[(uint)piVar6 & 0xf];
    }
    if ((int)uVar11 < in_stack_00000218) {
      do {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
        uVar11 = uVar11 + 1;
      } while ((int)uVar11 < in_stack_00000218);
    }
    if ((in_stack_00000210 & 4) != 0) {
      *(byte *)((int)unaff_s1 + -1) = bVar8;
      *(byte *)((int)unaff_s1 + -2) = 0x30;
      iVar1 = SPRINTF_OBJ_770(0,bVar8,(char)in_a2,0x90,in_stack_00000010,in_stack_00000014,
                              in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                              in_stack_00000024,in_stack_00000210,in_stack_00000214);
      return iVar1;
    }
    goto code_r0x80022aac;
  }
  ppiVar14 = in_stack_00000220 + 1;
  if ((in_stack_00000210 & 0x10) == 0) {
    if (((in_stack_00000210 & 8) != 0) &&
       (in_stack_00000218 = in_stack_00000214, (char)(in_stack_00000210 >> 8) != '\0')) {
      in_stack_00000218 = in_stack_00000214 + -1;
    }
    if (in_stack_00000218 < 1) {
      in_stack_00000218 = 1;
    }
  }
  uVar11 = 0;
  if (piVar6 != (int *)0x0) {
    param_2 = 0xcccccccd;
    piVar5 = piVar6;
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      uVar11 = uVar11 + 1;
      piVar6 = (int *)((uint)piVar5 / 10);
      *(byte *)unaff_s1 = (char)piVar5 + (char)piVar6 * -10 + 0x30;
      piVar5 = piVar6;
    } while (piVar6 != (int *)0x0);
  }
  if ((int)uVar11 < in_stack_00000218) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar11 = uVar11 + 1;
    } while ((int)uVar11 < in_stack_00000218);
  }
  bVar8 = (byte)(in_stack_00000210 >> 8);
  if (bVar8 != 0) {
    *(byte *)((int)unaff_s1 + -1) = bVar8;
    iVar1 = SPRINTF_OBJ_770((char)piVar6,(char)param_2,uVar9,uVar10,in_stack_00000010,
                            in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                            in_stack_00000024,in_stack_00000210,in_stack_00000214);
    return iVar1;
  }
code_r0x80022aac:
  puVar7 = (uchar *)(unaff_s3 + unaff_s2);
  if (((int)uVar11 < in_stack_00000214) && ((in_stack_00000210 & 1) == 0)) {
    puVar3 = (undefined *)(unaff_s2 + unaff_s3);
    do {
      *puVar3 = (char)unaff_s4;
      puVar3 = puVar3 + 1;
      in_stack_00000214 = in_stack_00000214 + -1;
      unaff_s2 = unaff_s2 + 1;
    } while ((int)uVar11 < in_stack_00000214);
    puVar7 = (uchar *)(unaff_s3 + unaff_s2);
  }
  memmove(puVar7,(uchar *)unaff_s1,uVar11);
  unaff_s2 = unaff_s2 + uVar11;
  if (in_stack_00000214 <= (int)uVar11) goto code_r0x80022b40;
  puVar3 = (undefined *)(unaff_s2 + unaff_s3);
  do {
    *puVar3 = (char)unaff_s4;
    puVar3 = puVar3 + 1;
    uVar11 = uVar11 + 1;
    unaff_s2 = unaff_s2 + 1;
    if (in_stack_00000214 <= (int)uVar11) goto code_r0x80022b40;
  } while( true );
SPRINTF_OBJ_758:
  ppiVar14 = in_stack_00000220;
  if (param_2 != 0x25) {
SPRINTF_OBJ_824:
    *(undefined *)(unaff_s3 + unaff_s2) = 0;
    return unaff_s2;
  }
  do {
    *(char *)(unaff_s3 + unaff_s2) = (char)param_2;
    unaff_s2 = unaff_s2 + 1;
code_r0x80022b40:
    param_1 = in_stack_0000024c + 1;
    param_2 = (uint)*(byte *)(in_stack_0000024c + 1);
    if (param_2 == 0) goto SPRINTF_OBJ_824;
    in_stack_0000024c = param_1;
  } while (param_2 != 0x25);
  in_a2 = 0x23;
  in_stack_00000210 = DAT_80031cb0;
  while( true ) {
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            iVar1 = param_1 + 1;
            param_2 = (uint)*(byte *)(param_1 + 1);
            if (param_2 != unaff_s6) break;
            in_stack_00000210 = in_stack_00000210 | 1;
            param_1 = iVar1;
          }
          if (param_2 != unaff_s5) break;
          in_stack_00000210 = in_stack_00000210 | 2;
          param_1 = iVar1;
        }
        if (param_2 != unaff_s4) break;
        in_stack_00000210 =
             CONCAT22((short)(in_stack_00000210 >> 0x10),
                      CONCAT11(*(byte *)(param_1 + 1),(char)in_stack_00000210));
        param_1 = iVar1;
      }
      if (param_2 != 0x23) break;
      in_stack_00000210 = in_stack_00000210 | 4;
      param_1 = iVar1;
    }
    if (param_2 != 0x30) break;
    in_stack_00000210 = in_stack_00000210 | 8;
    param_1 = iVar1;
  }
  in_stack_00000214 = DAT_80031cb4;
  if (param_2 == 0x2a) {
    iVar1 = SPRINTF_OBJ_1C0(param_1,(uint)*(byte *)(param_1 + 2),0x23,(char)in_a3,in_stack_00000010,
                            in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                            in_stack_00000024,DAT_80031cb8,ppiVar14 + 1,param_1 + 2);
    return iVar1;
  }
  while (param_2 - 0x30 < 10) {
    in_stack_00000214 = in_stack_00000214 * 10 + -0x30 + param_2;
    param_2 = (uint)*(byte *)(iVar1 + 1);
    iVar1 = iVar1 + 1;
  }
  in_stack_00000218 = DAT_80031cb8;
  in_stack_0000024c = iVar1;
  if (param_2 == 0x2e) {
    param_2 = (uint)*(byte *)(iVar1 + 1);
    iVar15 = iVar1;
    if (param_2 == 0x2a) {
      iVar1 = SPRINTF_OBJ_260(iVar1,(uint)*(byte *)(iVar1 + 2),0x23,(char)in_a3,in_stack_00000010,
                              in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                              in_stack_00000020,in_stack_00000024,in_stack_00000210,*ppiVar14);
      return iVar1;
    }
    while (in_stack_0000024c = iVar15 + 1, param_2 - 0x30 < 10) {
      in_stack_00000218 = in_stack_00000218 * 10 + -0x30 + param_2;
      param_2 = (uint)*(byte *)(iVar15 + 2);
      iVar15 = in_stack_0000024c;
    }
    param_1 = iVar1;
    if (-1 < in_stack_00000218) {
      in_stack_00000210 = in_stack_00000210 | 0x10;
    }
  }
  unaff_s1 = (int *)&stack0x00000210;
  if ((in_stack_00000210 & 1) != 0) {
    in_stack_00000210 = in_stack_00000210 & 0xfffffff7;
  }
  in_v1 = param_2 - 0x4c;
  in_stack_00000220 = ppiVar14;
  goto code_r0x800225e0;
}



void SPRINTF_OBJ_2C8(int param_1,undefined param_2,undefined param_3,undefined param_4,
                    undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                    undefined param_9,undefined param_10,undefined4 param_11)

{
  undefined4 in_stack_0000024c;
  
  SPRINTF_OBJ_2EC(param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10,
                  param_11,in_stack_0000024c);
  return;
}



void SPRINTF_OBJ_2D4(int param_1,undefined param_2,undefined param_3,undefined param_4,
                    undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                    undefined param_9,undefined param_10,undefined4 param_11)

{
  undefined4 in_stack_0000024c;
  
  SPRINTF_OBJ_2EC(param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10,
                  param_11,in_stack_0000024c);
  return;
}



void SPRINTF_OBJ_2E0(int param_1,undefined param_2,undefined param_3,undefined param_4,
                    undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                    undefined param_9,undefined param_10,undefined4 param_11)

{
  int in_stack_0000024c;
  
  SPRINTF_OBJ_2A4(param_1,(uint)*(byte *)(in_stack_0000024c + 1));
  return;
}



void SPRINTF_OBJ_2EC(int param_1,undefined param_2,undefined param_3,undefined param_4,
                    undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                    undefined param_9,undefined param_10,undefined4 param_11,int param_12)

{
  SPRINTF_OBJ_2A4(param_1,(uint)*(byte *)(param_12 + 1));
  return;
}



int SPRINTF_OBJ_30C(undefined param_1,byte param_2,byte param_3,byte param_4,undefined param_5,
                   undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                   undefined param_10,uint param_11,int **param_12)

{
  int **ppiVar1;
  int iVar2;
  uint uVar3;
  void *pvVar4;
  undefined *puVar5;
  undefined uVar6;
  int iVar7;
  int *piVar8;
  int *piVar9;
  uchar *puVar10;
  byte bVar11;
  undefined uVar12;
  undefined uVar14;
  char *pcVar15;
  uint uVar16;
  int *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  uint in_stack_00000214;
  uint in_stack_00000218;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int in_stack_0000024c;
  uint uVar13;
  
  pcVar15 = (char *)(uint)param_4;
  uVar13 = (uint)param_3;
  uVar16 = (uint)param_2;
code_r0x80022648:
  ppiVar1 = param_12 + 1;
  piVar8 = *param_12;
  if ((param_11 & 0x20) != 0) {
    piVar8 = (int *)(int)(short)piVar8;
  }
  param_12 = ppiVar1;
  if ((int)piVar8 < 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
    iVar2 = SPRINTF_OBJ_388((int *)-(int)piVar8,(char)uVar16,(char)uVar13,(char)pcVar15,param_5,
                            param_6,param_7,param_8,param_9,param_10,param_11,in_stack_00000214,
                            in_stack_00000218);
    return iVar2;
  }
  if ((param_11 & 2) != 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
    iVar2 = SPRINTF_OBJ_388(piVar8,(char)uVar16,(char)uVar13,(char)pcVar15,param_5,param_6,param_7,
                            param_8,param_9,param_10,param_11,in_stack_00000214,in_stack_00000218);
    return iVar2;
  }
code_r0x800226c4:
  uVar14 = (undefined)uVar16;
  if ((param_11 & 0x10) == 0) {
    if (((param_11 & 8) != 0) && (in_stack_00000218 = in_stack_00000214, param_11._1_1_ != '\0')) {
      in_stack_00000218 = in_stack_00000214 - 1;
    }
    if ((int)in_stack_00000218 < 1) {
      in_stack_00000218 = 1;
    }
  }
  uVar16 = 0;
  if (piVar8 != (int *)0x0) {
    uVar14 = 0xcd;
    piVar9 = piVar8;
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      uVar16 = uVar16 + 1;
      piVar8 = (int *)((uint)piVar9 / 10);
      *(byte *)unaff_s1 = (char)piVar9 + (char)piVar8 * -10 + 0x30;
      piVar9 = piVar8;
    } while (piVar8 != (int *)0x0);
  }
  if ((int)uVar16 < (int)in_stack_00000218) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar16 = uVar16 + 1;
    } while ((int)uVar16 < (int)in_stack_00000218);
  }
  if (param_11._1_1_ != 0) {
    *(byte *)((int)unaff_s1 + -1) = param_11._1_1_;
    iVar2 = SPRINTF_OBJ_770((char)piVar8,uVar14,(char)uVar13,(char)pcVar15,param_5,param_6,param_7,
                            param_8,param_9,param_10,param_11,in_stack_00000214);
    return iVar2;
  }
code_r0x80022aac:
  do {
    puVar10 = (uchar *)(unaff_s3 + unaff_s2);
    if (((int)uVar16 < (int)in_stack_00000214) && ((param_11 & 1) == 0)) {
      puVar5 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar5 = (char)unaff_s4;
        puVar5 = puVar5 + 1;
        in_stack_00000214 = in_stack_00000214 - 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar16 < (int)in_stack_00000214);
      puVar10 = (uchar *)(unaff_s3 + unaff_s2);
    }
    memmove(puVar10,(uchar *)unaff_s1,uVar16);
    ppiVar1 = param_12;
    uVar14 = SUB41(pcVar15,0);
    unaff_s2 = unaff_s2 + uVar16;
    iVar2 = in_stack_0000024c;
    if ((int)uVar16 < (int)in_stack_00000214) {
      puVar5 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar5 = (char)unaff_s4;
        puVar5 = puVar5 + 1;
        uVar16 = uVar16 + 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar16 < (int)in_stack_00000214);
    }
code_r0x80022b40:
    in_stack_0000024c = iVar2 + 1;
    uVar16 = (uint)*(byte *)(iVar2 + 1);
    if (uVar16 == 0) {
SPRINTF_OBJ_824:
      *(undefined *)(unaff_s3 + unaff_s2) = 0;
      return unaff_s2;
    }
    if (uVar16 != 0x25) {
SPRINTF_OBJ_764:
      *(char *)(unaff_s3 + unaff_s2) = (char)uVar16;
      unaff_s2 = unaff_s2 + 1;
      iVar2 = in_stack_0000024c;
      goto code_r0x80022b40;
    }
    param_11 = DAT_80031cb0;
    uVar13 = 0x23;
    uVar12 = 0x23;
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              iVar2 = in_stack_0000024c + 1;
              uVar16 = (uint)*(byte *)(in_stack_0000024c + 1);
              if (uVar16 != unaff_s6) break;
              param_11 = param_11 | 1;
              in_stack_0000024c = iVar2;
            }
            if (uVar16 != unaff_s5) break;
            param_11 = param_11 | 2;
            in_stack_0000024c = iVar2;
          }
          if (uVar16 != unaff_s4) break;
          param_11._0_2_ = CONCAT11(*(byte *)(in_stack_0000024c + 1),(byte)param_11);
          in_stack_0000024c = iVar2;
        }
        if (uVar16 != 0x23) break;
        param_11 = param_11 | 4;
        in_stack_0000024c = iVar2;
      }
      if (uVar16 != 0x30) break;
      param_11 = param_11 | 8;
      in_stack_0000024c = iVar2;
    }
    in_stack_00000214 = DAT_80031cb4;
    if (uVar16 == 0x2a) {
      ppiVar1 = param_12 + 1;
      if ((int)*param_12 < 0) {
        param_11 = param_11 | 1;
      }
      param_12 = ppiVar1;
      iVar2 = SPRINTF_OBJ_1C0(in_stack_0000024c,(uint)*(byte *)(in_stack_0000024c + 2),0x23,uVar14,
                              param_5,param_6,param_7,param_8,param_9,param_10,DAT_80031cb8,ppiVar1,
                              in_stack_0000024c + 2);
      return iVar2;
    }
    while (uVar16 - 0x30 < 10) {
      in_stack_00000214 = in_stack_00000214 * 10 + -0x30 + uVar16;
      uVar16 = (uint)*(byte *)(iVar2 + 1);
      iVar2 = iVar2 + 1;
    }
    iVar7 = in_stack_0000024c;
    in_stack_00000218 = DAT_80031cb8;
    in_stack_0000024c = iVar2;
    if (uVar16 == 0x2e) {
      uVar16 = (uint)*(byte *)(iVar2 + 1);
      iVar7 = iVar2;
      if (uVar16 == 0x2a) {
        piVar8 = *param_12;
        param_12 = param_12 + 1;
        iVar2 = SPRINTF_OBJ_260(iVar2,(uint)*(byte *)(iVar2 + 2),0x23,uVar14,param_5,param_6,param_7
                                ,param_8,param_9,param_10,param_11,piVar8);
        return iVar2;
      }
      while (in_stack_0000024c = iVar7 + 1, uVar16 - 0x30 < 10) {
        in_stack_00000218 = in_stack_00000218 * 10 + -0x30 + uVar16;
        uVar16 = (uint)*(byte *)(iVar7 + 2);
        iVar7 = in_stack_0000024c;
      }
      iVar7 = iVar2;
      if (-1 < (int)in_stack_00000218) {
        param_11 = param_11 | 0x10;
      }
    }
    unaff_s1 = (int *)&param_11;
    if ((param_11 & 1) != 0) {
      param_11 = param_11 & 0xfffffff7;
    }
    bVar11 = (byte)uVar16;
    uVar6 = (undefined)iVar7;
    switch(uVar16) {
    case 0x4c:
      param_11 = param_11 | 0x80;
      iVar2 = SPRINTF_OBJ_2A4(iVar7,(uint)*(byte *)(in_stack_0000024c + 1));
      return iVar2;
    default:
      if (uVar16 != 0x25) goto SPRINTF_OBJ_824;
      goto SPRINTF_OBJ_764;
    case 99:
      param_12 = param_12 + 1;
      iVar2 = SPRINTF_OBJ_770(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_00000214);
      return iVar2;
    case 100:
    case 0x69:
      goto code_r0x80022648;
    case 0x68:
      iVar2 = SPRINTF_OBJ_2EC(iVar7,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar2;
    case 0x6c:
      iVar2 = SPRINTF_OBJ_2EC(iVar7,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar2;
    case 0x6e:
      if ((param_11 & 0x20) != 0) {
        *(short *)*param_12 = (short)unaff_s2;
        param_12 = param_12 + 1;
        iVar2 = SPRINTF_OBJ_804(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,in_stack_00000214,in_stack_00000218,
                                in_stack_00000228,in_stack_0000022c,in_stack_00000230,
                                in_stack_00000234,in_stack_00000238,in_stack_0000023c,
                                in_stack_00000240,in_stack_00000244,in_stack_0000024c);
        return iVar2;
      }
      **param_12 = unaff_s2;
      param_12 = param_12 + 1;
      iVar2 = SPRINTF_OBJ_804(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_00000214,in_stack_00000218,
                              in_stack_00000228,in_stack_0000022c,in_stack_00000230,
                              in_stack_00000234,in_stack_00000238,in_stack_0000023c,
                              in_stack_00000240,in_stack_00000244,in_stack_0000024c);
      return iVar2;
    case 0x6f:
      goto SPRINTF_OBJ_474;
    case 0x70:
      in_stack_00000218 = 8;
      param_11 = param_11 | 0x50;
    case 0x58:
      iVar2 = SPRINTF_OBJ_590(iVar7,uVar16,0x23,s_0123456789ABCDEF_8001047c,param_5,param_6,param_7,
                              param_8,param_9,param_10,param_11,in_stack_00000214,in_stack_00000218,
                              param_12);
      return iVar2;
    case 0x73:
      ppiVar1 = param_12 + 1;
      unaff_s1 = *param_12;
      param_12 = ppiVar1;
      if ((param_11 & 4) == 0) {
        if ((param_11 & 0x10) == 0) {
          strlen((char *)unaff_s1);
          iVar2 = SPRINTF_OBJ_770((char)unaff_s1,(char)uVar16,uVar12,uVar14,param_5,param_6,param_7,
                                  param_8,param_9,param_10,param_11,in_stack_00000214);
          return iVar2;
        }
        uVar14 = 0;
        piVar8 = unaff_s1;
        pvVar4 = memchr((uchar *)unaff_s1,'\0',in_stack_00000218);
        uVar16 = (int)pvVar4 - (int)unaff_s1;
        if (pvVar4 == (void *)0x0) {
          iVar2 = SPRINTF_OBJ_770((char)piVar8,uVar14,(char)in_stack_00000218,(char)pcVar15,param_5,
                                  param_6,param_7,param_8,param_9,param_10,param_11,
                                  in_stack_00000214);
          return iVar2;
        }
      }
      else {
        uVar16 = (uint)*(byte *)unaff_s1;
        unaff_s1 = (int *)((int)unaff_s1 + 1);
        if (((param_11 & 0x10) != 0) && ((int)in_stack_00000218 < (int)uVar16)) {
          iVar2 = SPRINTF_OBJ_770(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                                  param_10,param_11,in_stack_00000214);
          return iVar2;
        }
      }
      break;
    case 0x75:
      ppiVar1 = param_12 + 1;
      piVar8 = *param_12;
      uVar3 = param_11 & 0x20;
      param_11._0_2_ = (ushort)(byte)param_11;
      param_12 = ppiVar1;
      if (uVar3 != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      goto code_r0x800226c4;
    case 0x78:
      pcVar15 = s_0123456789abcdef_80010490;
      ppiVar1 = param_12 + 1;
      piVar8 = *param_12;
      if ((param_11 & 0x20) != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      if ((param_11 & 0x10) == 0) {
        if (((param_11 & 8) != 0) &&
           (uVar13 = in_stack_00000214, in_stack_00000218 = in_stack_00000214, (param_11 & 4) != 0))
        {
          in_stack_00000218 = in_stack_00000214 - 2;
        }
        uVar12 = (undefined)uVar13;
        if ((int)in_stack_00000218 < 1) {
          in_stack_00000218 = 1;
        }
      }
      uVar16 = 0;
      for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 4)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        uVar16 = uVar16 + 1;
        *(char *)unaff_s1 = s_0123456789abcdef_80010490[(uint)piVar8 & 0xf];
      }
      for (; (int)uVar16 < (int)in_stack_00000218; uVar16 = uVar16 + 1) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
      }
      param_12 = ppiVar1;
      if ((param_11 & 4) != 0) {
        *(byte *)((int)unaff_s1 + -1) = bVar11;
        *(byte *)((int)unaff_s1 + -2) = 0x30;
        iVar2 = SPRINTF_OBJ_770(0,bVar11,uVar12,0x90,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,in_stack_00000214);
        return iVar2;
      }
    }
  } while( true );
SPRINTF_OBJ_474:
  param_12 = param_12 + 1;
  piVar8 = *ppiVar1;
  if ((param_11 & 0x20) != 0) {
    piVar8 = (int *)((uint)piVar8 & 0xffff);
  }
  if ((param_11 & 0x10) == 0) {
    if ((param_11 & 8) != 0) {
      in_stack_00000218 = in_stack_00000214;
    }
    if ((int)in_stack_00000218 < 1) {
      in_stack_00000218 = 1;
    }
  }
  uVar16 = 0;
  for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 3)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = ((byte)piVar8 & 7) + 0x30;
    uVar16 = uVar16 + 1;
  }
  if ((((param_11 & 4) != 0) && (uVar16 != 0)) && (*(byte *)unaff_s1 != 0x30)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = 0x30;
    uVar16 = uVar16 + 1;
  }
  if ((int)uVar16 < (int)in_stack_00000218) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar16 = uVar16 + 1;
    } while ((int)uVar16 < (int)in_stack_00000218);
    iVar2 = SPRINTF_OBJ_770((byte)piVar8,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,in_stack_00000214);
    return iVar2;
  }
  goto code_r0x80022aac;
}



int SPRINTF_OBJ_35C(undefined param_1,byte param_2,byte param_3,byte param_4,undefined param_5,
                   undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                   undefined param_10,uint param_11,int **param_12)

{
  int **ppiVar1;
  uint uVar2;
  int iVar3;
  void *pvVar4;
  undefined *puVar5;
  undefined uVar6;
  int iVar7;
  int *piVar8;
  int *piVar9;
  uchar *puVar10;
  byte bVar11;
  undefined uVar12;
  undefined uVar14;
  char *pcVar15;
  uint uVar16;
  int *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  uint in_stack_00000214;
  uint in_stack_00000218;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int in_stack_0000024c;
  uint uVar13;
  
  pcVar15 = (char *)(uint)param_4;
  uVar13 = (uint)param_3;
  uVar16 = (uint)param_2;
code_r0x80022698:
  ppiVar1 = param_12 + 1;
  piVar8 = *param_12;
  uVar2 = param_11 & 0x20;
  param_11._0_2_ = (ushort)(byte)param_11;
  param_12 = ppiVar1;
  if (uVar2 != 0) {
    piVar8 = (int *)((uint)piVar8 & 0xffff);
  }
code_r0x800226c4:
  uVar14 = (undefined)uVar16;
  if ((param_11 & 0x10) == 0) {
    if (((param_11 & 8) != 0) && (in_stack_00000218 = in_stack_00000214, param_11._1_1_ != '\0')) {
      in_stack_00000218 = in_stack_00000214 - 1;
    }
    if ((int)in_stack_00000218 < 1) {
      in_stack_00000218 = 1;
    }
  }
  uVar16 = 0;
  if (piVar8 != (int *)0x0) {
    uVar14 = 0xcd;
    piVar9 = piVar8;
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      uVar16 = uVar16 + 1;
      piVar8 = (int *)((uint)piVar9 / 10);
      *(byte *)unaff_s1 = (char)piVar9 + (char)piVar8 * -10 + 0x30;
      piVar9 = piVar8;
    } while (piVar8 != (int *)0x0);
  }
  if ((int)uVar16 < (int)in_stack_00000218) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar16 = uVar16 + 1;
    } while ((int)uVar16 < (int)in_stack_00000218);
  }
  if (param_11._1_1_ != 0) {
    *(byte *)((int)unaff_s1 + -1) = param_11._1_1_;
    iVar3 = SPRINTF_OBJ_770((char)piVar8,uVar14,(char)uVar13,(char)pcVar15,param_5,param_6,param_7,
                            param_8,param_9,param_10,param_11,in_stack_00000214);
    return iVar3;
  }
code_r0x80022aac:
  do {
    puVar10 = (uchar *)(unaff_s3 + unaff_s2);
    if (((int)uVar16 < (int)in_stack_00000214) && ((param_11 & 1) == 0)) {
      puVar5 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar5 = (char)unaff_s4;
        puVar5 = puVar5 + 1;
        in_stack_00000214 = in_stack_00000214 - 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar16 < (int)in_stack_00000214);
      puVar10 = (uchar *)(unaff_s3 + unaff_s2);
    }
    memmove(puVar10,(uchar *)unaff_s1,uVar16);
    ppiVar1 = param_12;
    uVar14 = SUB41(pcVar15,0);
    unaff_s2 = unaff_s2 + uVar16;
    iVar3 = in_stack_0000024c;
    if ((int)uVar16 < (int)in_stack_00000214) {
      puVar5 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar5 = (char)unaff_s4;
        puVar5 = puVar5 + 1;
        uVar16 = uVar16 + 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar16 < (int)in_stack_00000214);
    }
code_r0x80022b40:
    in_stack_0000024c = iVar3 + 1;
    uVar16 = (uint)*(byte *)(iVar3 + 1);
    if (uVar16 == 0) {
SPRINTF_OBJ_824:
      *(undefined *)(unaff_s3 + unaff_s2) = 0;
      return unaff_s2;
    }
    if (uVar16 != 0x25) {
SPRINTF_OBJ_764:
      *(char *)(unaff_s3 + unaff_s2) = (char)uVar16;
      unaff_s2 = unaff_s2 + 1;
      iVar3 = in_stack_0000024c;
      goto code_r0x80022b40;
    }
    param_11 = DAT_80031cb0;
    uVar13 = 0x23;
    uVar12 = 0x23;
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              iVar3 = in_stack_0000024c + 1;
              uVar16 = (uint)*(byte *)(in_stack_0000024c + 1);
              if (uVar16 != unaff_s6) break;
              param_11 = param_11 | 1;
              in_stack_0000024c = iVar3;
            }
            if (uVar16 != unaff_s5) break;
            param_11 = param_11 | 2;
            in_stack_0000024c = iVar3;
          }
          if (uVar16 != unaff_s4) break;
          param_11._0_2_ = CONCAT11(*(byte *)(in_stack_0000024c + 1),(byte)param_11);
          in_stack_0000024c = iVar3;
        }
        if (uVar16 != 0x23) break;
        param_11 = param_11 | 4;
        in_stack_0000024c = iVar3;
      }
      if (uVar16 != 0x30) break;
      param_11 = param_11 | 8;
      in_stack_0000024c = iVar3;
    }
    in_stack_00000214 = DAT_80031cb4;
    if (uVar16 == 0x2a) {
      ppiVar1 = param_12 + 1;
      if ((int)*param_12 < 0) {
        param_11 = param_11 | 1;
      }
      param_12 = ppiVar1;
      iVar3 = SPRINTF_OBJ_1C0(in_stack_0000024c,(uint)*(byte *)(in_stack_0000024c + 2),0x23,uVar14,
                              param_5,param_6,param_7,param_8,param_9,param_10,DAT_80031cb8,ppiVar1,
                              in_stack_0000024c + 2);
      return iVar3;
    }
    while (uVar16 - 0x30 < 10) {
      in_stack_00000214 = in_stack_00000214 * 10 + -0x30 + uVar16;
      uVar16 = (uint)*(byte *)(iVar3 + 1);
      iVar3 = iVar3 + 1;
    }
    iVar7 = in_stack_0000024c;
    in_stack_00000218 = DAT_80031cb8;
    in_stack_0000024c = iVar3;
    if (uVar16 == 0x2e) {
      uVar16 = (uint)*(byte *)(iVar3 + 1);
      iVar7 = iVar3;
      if (uVar16 == 0x2a) {
        piVar8 = *param_12;
        param_12 = param_12 + 1;
        iVar3 = SPRINTF_OBJ_260(iVar3,(uint)*(byte *)(iVar3 + 2),0x23,uVar14,param_5,param_6,param_7
                                ,param_8,param_9,param_10,param_11,piVar8);
        return iVar3;
      }
      while (in_stack_0000024c = iVar7 + 1, uVar16 - 0x30 < 10) {
        in_stack_00000218 = in_stack_00000218 * 10 + -0x30 + uVar16;
        uVar16 = (uint)*(byte *)(iVar7 + 2);
        iVar7 = in_stack_0000024c;
      }
      iVar7 = iVar3;
      if (-1 < (int)in_stack_00000218) {
        param_11 = param_11 | 0x10;
      }
    }
    unaff_s1 = (int *)&param_11;
    if ((param_11 & 1) != 0) {
      param_11 = param_11 & 0xfffffff7;
    }
    bVar11 = (byte)uVar16;
    uVar6 = (undefined)iVar7;
    switch(uVar16) {
    case 0x4c:
      param_11 = param_11 | 0x80;
      iVar3 = SPRINTF_OBJ_2A4(iVar7,(uint)*(byte *)(in_stack_0000024c + 1));
      return iVar3;
    default:
      if (uVar16 != 0x25) goto SPRINTF_OBJ_824;
      goto SPRINTF_OBJ_764;
    case 99:
      param_12 = param_12 + 1;
      iVar3 = SPRINTF_OBJ_770(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_00000214);
      return iVar3;
    case 100:
    case 0x69:
      ppiVar1 = param_12 + 1;
      piVar8 = *param_12;
      if ((param_11 & 0x20) != 0) {
        piVar8 = (int *)(int)(short)piVar8;
      }
      param_12 = ppiVar1;
      if ((int)piVar8 < 0) {
        param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
        iVar3 = SPRINTF_OBJ_388((int *)-(int)piVar8,bVar11,0x23,uVar14,param_5,param_6,param_7,
                                param_8,param_9,param_10,param_11,in_stack_00000214,
                                in_stack_00000218);
        return iVar3;
      }
      if ((param_11 & 2) != 0) {
        param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
        iVar3 = SPRINTF_OBJ_388(piVar8,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,in_stack_00000214,in_stack_00000218);
        return iVar3;
      }
      goto code_r0x800226c4;
    case 0x68:
      iVar3 = SPRINTF_OBJ_2EC(iVar7,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar3;
    case 0x6c:
      iVar3 = SPRINTF_OBJ_2EC(iVar7,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar3;
    case 0x6e:
      if ((param_11 & 0x20) != 0) {
        *(short *)*param_12 = (short)unaff_s2;
        param_12 = param_12 + 1;
        iVar3 = SPRINTF_OBJ_804(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,in_stack_00000214,in_stack_00000218,
                                in_stack_00000228,in_stack_0000022c,in_stack_00000230,
                                in_stack_00000234,in_stack_00000238,in_stack_0000023c,
                                in_stack_00000240,in_stack_00000244,in_stack_0000024c);
        return iVar3;
      }
      **param_12 = unaff_s2;
      param_12 = param_12 + 1;
      iVar3 = SPRINTF_OBJ_804(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_00000214,in_stack_00000218,
                              in_stack_00000228,in_stack_0000022c,in_stack_00000230,
                              in_stack_00000234,in_stack_00000238,in_stack_0000023c,
                              in_stack_00000240,in_stack_00000244,in_stack_0000024c);
      return iVar3;
    case 0x6f:
      goto SPRINTF_OBJ_474;
    case 0x70:
      in_stack_00000218 = 8;
      param_11 = param_11 | 0x50;
    case 0x58:
      iVar3 = SPRINTF_OBJ_590(iVar7,uVar16,0x23,s_0123456789ABCDEF_8001047c,param_5,param_6,param_7,
                              param_8,param_9,param_10,param_11,in_stack_00000214,in_stack_00000218,
                              param_12);
      return iVar3;
    case 0x73:
      ppiVar1 = param_12 + 1;
      unaff_s1 = *param_12;
      param_12 = ppiVar1;
      if ((param_11 & 4) == 0) {
        if ((param_11 & 0x10) == 0) {
          strlen((char *)unaff_s1);
          iVar3 = SPRINTF_OBJ_770((char)unaff_s1,(char)uVar16,uVar12,uVar14,param_5,param_6,param_7,
                                  param_8,param_9,param_10,param_11,in_stack_00000214);
          return iVar3;
        }
        uVar14 = 0;
        piVar8 = unaff_s1;
        pvVar4 = memchr((uchar *)unaff_s1,'\0',in_stack_00000218);
        uVar16 = (int)pvVar4 - (int)unaff_s1;
        if (pvVar4 == (void *)0x0) {
          iVar3 = SPRINTF_OBJ_770((char)piVar8,uVar14,(char)in_stack_00000218,(char)pcVar15,param_5,
                                  param_6,param_7,param_8,param_9,param_10,param_11,
                                  in_stack_00000214);
          return iVar3;
        }
      }
      else {
        uVar16 = (uint)*(byte *)unaff_s1;
        unaff_s1 = (int *)((int)unaff_s1 + 1);
        if (((param_11 & 0x10) != 0) && ((int)in_stack_00000218 < (int)uVar16)) {
          iVar3 = SPRINTF_OBJ_770(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                                  param_10,param_11,in_stack_00000214);
          return iVar3;
        }
      }
      break;
    case 0x75:
      goto code_r0x80022698;
    case 0x78:
      pcVar15 = s_0123456789abcdef_80010490;
      ppiVar1 = param_12 + 1;
      piVar8 = *param_12;
      if ((param_11 & 0x20) != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      if ((param_11 & 0x10) == 0) {
        if (((param_11 & 8) != 0) &&
           (uVar13 = in_stack_00000214, in_stack_00000218 = in_stack_00000214, (param_11 & 4) != 0))
        {
          in_stack_00000218 = in_stack_00000214 - 2;
        }
        uVar12 = (undefined)uVar13;
        if ((int)in_stack_00000218 < 1) {
          in_stack_00000218 = 1;
        }
      }
      uVar16 = 0;
      for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 4)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        uVar16 = uVar16 + 1;
        *(char *)unaff_s1 = s_0123456789abcdef_80010490[(uint)piVar8 & 0xf];
      }
      for (; (int)uVar16 < (int)in_stack_00000218; uVar16 = uVar16 + 1) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
      }
      param_12 = ppiVar1;
      if ((param_11 & 4) != 0) {
        *(byte *)((int)unaff_s1 + -1) = bVar11;
        *(byte *)((int)unaff_s1 + -2) = 0x30;
        iVar3 = SPRINTF_OBJ_770(0,bVar11,uVar12,0x90,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,in_stack_00000214);
        return iVar3;
      }
    }
  } while( true );
SPRINTF_OBJ_474:
  param_12 = param_12 + 1;
  piVar8 = *ppiVar1;
  if ((param_11 & 0x20) != 0) {
    piVar8 = (int *)((uint)piVar8 & 0xffff);
  }
  if ((param_11 & 0x10) == 0) {
    if ((param_11 & 8) != 0) {
      in_stack_00000218 = in_stack_00000214;
    }
    if ((int)in_stack_00000218 < 1) {
      in_stack_00000218 = 1;
    }
  }
  uVar16 = 0;
  for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 3)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = ((byte)piVar8 & 7) + 0x30;
    uVar16 = uVar16 + 1;
  }
  if ((((param_11 & 4) != 0) && (uVar16 != 0)) && (*(byte *)unaff_s1 != 0x30)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = 0x30;
    uVar16 = uVar16 + 1;
  }
  if ((int)uVar16 < (int)in_stack_00000218) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar16 = uVar16 + 1;
    } while ((int)uVar16 < (int)in_stack_00000218);
    iVar3 = SPRINTF_OBJ_770((byte)piVar8,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,in_stack_00000214);
    return iVar3;
  }
  goto code_r0x80022aac;
}



int SPRINTF_OBJ_388(int *param_1,byte param_2,byte param_3,byte param_4,undefined param_5,
                   undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                   undefined param_10,uint param_11,int *param_12,int *param_13)

{
  uint uVar1;
  int iVar2;
  void *pvVar3;
  undefined *puVar4;
  undefined uVar5;
  int iVar6;
  int *piVar7;
  uchar *puVar8;
  byte bVar9;
  undefined uVar10;
  undefined uVar12;
  char *pcVar13;
  uint uVar14;
  int *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int **in_stack_00000220;
  int **ppiVar15;
  int **ppiVar16;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int in_stack_0000024c;
  uint uVar11;
  
  pcVar13 = (char *)(uint)param_4;
  uVar11 = (uint)param_3;
  uVar14 = (uint)param_2;
code_r0x800226c4:
  uVar12 = (undefined)uVar14;
  if ((param_11 & 0x10) == 0) {
    if ((param_11 & 8) != 0) {
      param_13 = param_12;
      if (param_11._1_1_ != '\0') {
        param_13 = (int *)((int)param_12 - 1);
      }
    }
    if ((int)param_13 < 1) {
      param_13 = (int *)0x1;
    }
  }
  uVar14 = 0;
  if (param_1 != (int *)0x0) {
    uVar12 = 0xcd;
    piVar7 = param_1;
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      uVar14 = uVar14 + 1;
      param_1 = (int *)((uint)piVar7 / 10);
      *(byte *)unaff_s1 = (char)piVar7 + (char)param_1 * -10 + 0x30;
      piVar7 = param_1;
    } while (param_1 != (int *)0x0);
  }
  if ((int)uVar14 < (int)param_13) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar14 = uVar14 + 1;
    } while ((int)uVar14 < (int)param_13);
  }
  ppiVar16 = in_stack_00000220;
  if (param_11._1_1_ != 0) {
    *(byte *)((int)unaff_s1 + -1) = param_11._1_1_;
    iVar2 = SPRINTF_OBJ_770((char)param_1,uVar12,(char)uVar11,(char)pcVar13,param_5,param_6,param_7,
                            param_8,param_9,param_10,param_11,param_12);
    return iVar2;
  }
code_r0x80022aac:
  do {
    puVar8 = (uchar *)(unaff_s3 + unaff_s2);
    if (((int)uVar14 < (int)param_12) && ((param_11 & 1) == 0)) {
      puVar4 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar4 = (char)unaff_s4;
        puVar4 = puVar4 + 1;
        param_12 = (int *)((int)param_12 - 1);
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar14 < (int)param_12);
      puVar8 = (uchar *)(unaff_s3 + unaff_s2);
    }
    memmove(puVar8,(uchar *)unaff_s1,uVar14);
    uVar12 = SUB41(pcVar13,0);
    unaff_s2 = unaff_s2 + uVar14;
    iVar2 = in_stack_0000024c;
    if ((int)uVar14 < (int)param_12) {
      puVar4 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar4 = (char)unaff_s4;
        puVar4 = puVar4 + 1;
        uVar14 = uVar14 + 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar14 < (int)param_12);
    }
code_r0x80022b40:
    in_stack_0000024c = iVar2 + 1;
    uVar14 = (uint)*(byte *)(iVar2 + 1);
    if (uVar14 == 0) {
SPRINTF_OBJ_824:
      *(undefined *)(unaff_s3 + unaff_s2) = 0;
      return unaff_s2;
    }
    if (uVar14 != 0x25) {
SPRINTF_OBJ_764:
      *(char *)(unaff_s3 + unaff_s2) = (char)uVar14;
      unaff_s2 = unaff_s2 + 1;
      iVar2 = in_stack_0000024c;
      goto code_r0x80022b40;
    }
    param_11 = DAT_80031cb0;
    param_12 = (int *)DAT_80031cb4;
    param_13 = (int *)DAT_80031cb8;
    uVar11 = 0x23;
    uVar10 = 0x23;
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              iVar2 = in_stack_0000024c + 1;
              uVar14 = (uint)*(byte *)(in_stack_0000024c + 1);
              if (uVar14 != unaff_s6) break;
              param_11 = param_11 | 1;
              in_stack_0000024c = iVar2;
            }
            if (uVar14 != unaff_s5) break;
            param_11 = param_11 | 2;
            in_stack_0000024c = iVar2;
          }
          if (uVar14 != unaff_s4) break;
          param_11._0_2_ = CONCAT11(*(byte *)(in_stack_0000024c + 1),(byte)param_11);
          in_stack_0000024c = iVar2;
        }
        if (uVar14 != 0x23) break;
        param_11 = param_11 | 4;
        in_stack_0000024c = iVar2;
      }
      if (uVar14 != 0x30) break;
      param_11 = param_11 | 8;
      in_stack_0000024c = iVar2;
    }
    if (uVar14 == 0x2a) {
      param_12 = *ppiVar16;
      if ((int)param_12 < 0) {
        param_12 = (int *)-(int)param_12;
        param_11 = param_11 | 1;
      }
      iVar2 = SPRINTF_OBJ_1C0(in_stack_0000024c,(uint)*(byte *)(in_stack_0000024c + 2),0x23,uVar12,
                              param_5,param_6,param_7,param_8,param_9,param_10,DAT_80031cb8,
                              ppiVar16 + 1,in_stack_0000024c + 2);
      return iVar2;
    }
    while (uVar14 - 0x30 < 10) {
      param_12 = (int *)((int)param_12 * 10 + -0x30 + uVar14);
      uVar14 = (uint)*(byte *)(iVar2 + 1);
      iVar2 = iVar2 + 1;
    }
    iVar6 = in_stack_0000024c;
    in_stack_0000024c = iVar2;
    if (uVar14 == 0x2e) {
      uVar14 = (uint)*(byte *)(iVar2 + 1);
      iVar6 = iVar2;
      if (uVar14 == 0x2a) {
        param_13 = *ppiVar16;
        iVar2 = SPRINTF_OBJ_260(iVar2,(uint)*(byte *)(iVar2 + 2),0x23,uVar12,param_5,param_6,param_7
                                ,param_8,param_9,param_10,param_11,param_13);
        return iVar2;
      }
      while (in_stack_0000024c = iVar6 + 1, uVar14 - 0x30 < 10) {
        param_13 = (int *)((int)param_13 * 10 + -0x30 + uVar14);
        uVar14 = (uint)*(byte *)(iVar6 + 2);
        iVar6 = in_stack_0000024c;
      }
      iVar6 = iVar2;
      if (-1 < (int)param_13) {
        param_11 = param_11 | 0x10;
      }
    }
    unaff_s1 = (int *)&param_11;
    if ((param_11 & 1) != 0) {
      param_11 = param_11 & 0xfffffff7;
    }
    bVar9 = (byte)uVar14;
    uVar5 = (undefined)iVar6;
    switch(uVar14) {
    case 0x4c:
      param_11 = param_11 | 0x80;
      iVar2 = SPRINTF_OBJ_2A4(iVar6,(uint)*(byte *)(in_stack_0000024c + 1));
      return iVar2;
    default:
      if (uVar14 != 0x25) goto SPRINTF_OBJ_824;
      goto SPRINTF_OBJ_764;
    case 99:
      iVar2 = SPRINTF_OBJ_770(uVar5,bVar9,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12);
      return iVar2;
    case 100:
    case 0x69:
      in_stack_00000220 = ppiVar16 + 1;
      param_1 = *ppiVar16;
      if ((param_11 & 0x20) != 0) {
        param_1 = (int *)(int)(short)param_1;
      }
      if ((int)param_1 < 0) {
        param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
        iVar2 = SPRINTF_OBJ_388((int *)-(int)param_1,bVar9,0x23,uVar12,param_5,param_6,param_7,
                                param_8,param_9,param_10,param_11,param_12,param_13);
        return iVar2;
      }
      if ((param_11 & 2) != 0) {
        param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
        iVar2 = SPRINTF_OBJ_388(param_1,bVar9,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12,param_13);
        return iVar2;
      }
      goto code_r0x800226c4;
    case 0x68:
      iVar2 = SPRINTF_OBJ_2EC(iVar6,bVar9,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar2;
    case 0x6c:
      iVar2 = SPRINTF_OBJ_2EC(iVar6,bVar9,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar2;
    case 0x6e:
      if ((param_11 & 0x20) != 0) {
        *(short *)*ppiVar16 = (short)unaff_s2;
        iVar2 = SPRINTF_OBJ_804(uVar5,bVar9,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12,param_13,in_stack_00000228,
                                in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                                in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                                in_stack_00000244,in_stack_0000024c);
        return iVar2;
      }
      **ppiVar16 = unaff_s2;
      iVar2 = SPRINTF_OBJ_804(uVar5,bVar9,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12,param_13,in_stack_00000228,
                              in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                              in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                              in_stack_00000244,in_stack_0000024c);
      return iVar2;
    case 0x6f:
      goto SPRINTF_OBJ_474;
    case 0x70:
      param_13 = (int *)0x8;
      param_11 = param_11 | 0x50;
    case 0x58:
      iVar2 = SPRINTF_OBJ_590(iVar6,uVar14,0x23,s_0123456789ABCDEF_8001047c,param_5,param_6,param_7,
                              param_8,param_9,param_10,param_11,param_12,param_13,ppiVar16);
      return iVar2;
    case 0x73:
      ppiVar15 = ppiVar16 + 1;
      unaff_s1 = *ppiVar16;
      if ((param_11 & 4) == 0) {
        if ((param_11 & 0x10) == 0) {
          strlen((char *)unaff_s1);
          iVar2 = SPRINTF_OBJ_770((char)unaff_s1,(char)uVar14,uVar10,uVar12,param_5,param_6,param_7,
                                  param_8,param_9,param_10,param_11,param_12);
          return iVar2;
        }
        uVar12 = 0;
        piVar7 = unaff_s1;
        uVar11 = (uint)param_13;
        pvVar3 = memchr((uchar *)unaff_s1,'\0',(int)param_13);
        uVar14 = (int)pvVar3 - (int)unaff_s1;
        ppiVar16 = ppiVar15;
        if (pvVar3 == (void *)0x0) {
          iVar2 = SPRINTF_OBJ_770((char)piVar7,uVar12,(char)uVar11,(char)pcVar13,param_5,param_6,
                                  param_7,param_8,param_9,param_10,param_11,param_12);
          return iVar2;
        }
      }
      else {
        uVar14 = (uint)*(byte *)unaff_s1;
        unaff_s1 = (int *)((int)unaff_s1 + 1);
        ppiVar16 = ppiVar15;
        if (((param_11 & 0x10) != 0) && ((int)param_13 < (int)uVar14)) {
          iVar2 = SPRINTF_OBJ_770(uVar5,bVar9,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                                  param_10,param_11,param_12);
          return iVar2;
        }
      }
      break;
    case 0x75:
      in_stack_00000220 = ppiVar16 + 1;
      param_1 = *ppiVar16;
      uVar1 = param_11 & 0x20;
      param_11._0_2_ = (ushort)(byte)param_11;
      if (uVar1 != 0) {
        param_1 = (int *)((uint)param_1 & 0xffff);
      }
      goto code_r0x800226c4;
    case 0x78:
      pcVar13 = s_0123456789abcdef_80010490;
      piVar7 = *ppiVar16;
      if ((param_11 & 0x20) != 0) {
        piVar7 = (int *)((uint)piVar7 & 0xffff);
      }
      if ((param_11 & 0x10) == 0) {
        if (((param_11 & 8) != 0) &&
           (param_13 = param_12, uVar11 = (uint)param_12, (param_11 & 4) != 0)) {
          param_13 = (int *)((int)param_12 - 2);
        }
        uVar10 = (undefined)uVar11;
        if ((int)param_13 < 1) {
          param_13 = (int *)0x1;
        }
      }
      uVar14 = 0;
      for (; piVar7 != (int *)0x0; piVar7 = (int *)((uint)piVar7 >> 4)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        uVar14 = uVar14 + 1;
        *(char *)unaff_s1 = s_0123456789abcdef_80010490[(uint)piVar7 & 0xf];
      }
      for (; (int)uVar14 < (int)param_13; uVar14 = uVar14 + 1) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
      }
      ppiVar16 = ppiVar16 + 1;
      if ((param_11 & 4) != 0) {
        *(byte *)((int)unaff_s1 + -1) = bVar9;
        *(byte *)((int)unaff_s1 + -2) = 0x30;
        iVar2 = SPRINTF_OBJ_770(0,bVar9,uVar10,0x90,param_5,param_6,param_7,param_8,param_9,param_10
                                ,param_11,param_12);
        return iVar2;
      }
    }
  } while( true );
SPRINTF_OBJ_474:
  ppiVar15 = ppiVar16 + 1;
  piVar7 = *ppiVar16;
  if ((param_11 & 0x20) != 0) {
    piVar7 = (int *)((uint)piVar7 & 0xffff);
  }
  if ((param_11 & 0x10) == 0) {
    if ((param_11 & 8) != 0) {
      param_13 = param_12;
    }
    if ((int)param_13 < 1) {
      param_13 = (int *)0x1;
    }
  }
  uVar14 = 0;
  for (; piVar7 != (int *)0x0; piVar7 = (int *)((uint)piVar7 >> 3)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = ((byte)piVar7 & 7) + 0x30;
    uVar14 = uVar14 + 1;
  }
  if ((((param_11 & 4) != 0) && (uVar14 != 0)) && (*(byte *)unaff_s1 != 0x30)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = 0x30;
    uVar14 = uVar14 + 1;
  }
  ppiVar16 = ppiVar15;
  if ((int)uVar14 < (int)param_13) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar14 = uVar14 + 1;
    } while ((int)uVar14 < (int)param_13);
    iVar2 = SPRINTF_OBJ_770((byte)piVar7,bVar9,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,param_12);
    return iVar2;
  }
  goto code_r0x80022aac;
}



int SPRINTF_OBJ_474(undefined param_1,byte param_2,byte param_3,byte param_4,undefined param_5,
                   undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                   undefined param_10,uint param_11,int *param_12,int *param_13,int **param_14)

{
  int **ppiVar1;
  int iVar2;
  void *pvVar3;
  undefined *puVar4;
  undefined uVar5;
  int iVar6;
  int *piVar7;
  int *piVar8;
  uchar *puVar9;
  byte bVar10;
  uint uVar11;
  undefined uVar12;
  undefined uVar14;
  char *pcVar15;
  uint uVar16;
  int *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int in_stack_0000024c;
  uint uVar13;
  
  pcVar15 = (char *)(uint)param_4;
  uVar13 = (uint)param_3;
  uVar11 = (uint)param_2;
code_r0x800227b0:
  ppiVar1 = param_14;
  param_14 = param_14 + 1;
  piVar8 = *ppiVar1;
  if ((param_11 & 0x20) != 0) {
    piVar8 = (int *)((uint)piVar8 & 0xffff);
  }
  if ((param_11 & 0x10) == 0) {
    if ((param_11 & 8) != 0) {
      param_13 = param_12;
    }
    if ((int)param_13 < 1) {
      param_13 = (int *)0x1;
    }
  }
  uVar16 = 0;
  for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 3)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = ((byte)piVar8 & 7) + 0x30;
    uVar16 = uVar16 + 1;
  }
  if ((((param_11 & 4) != 0) && (uVar16 != 0)) && (*(byte *)unaff_s1 != 0x30)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = 0x30;
    uVar16 = uVar16 + 1;
  }
  if ((int)uVar16 < (int)param_13) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar16 = uVar16 + 1;
    } while ((int)uVar16 < (int)param_13);
    iVar2 = SPRINTF_OBJ_770((byte)piVar8,(char)uVar11,(char)uVar13,(char)pcVar15,param_5,param_6,
                            param_7,param_8,param_9,param_10,param_11,param_12);
    return iVar2;
  }
code_r0x80022aac:
  do {
    puVar9 = (uchar *)(unaff_s3 + unaff_s2);
    if (((int)uVar16 < (int)param_12) && ((param_11 & 1) == 0)) {
      puVar4 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar4 = (char)unaff_s4;
        puVar4 = puVar4 + 1;
        param_12 = (int *)((int)param_12 - 1);
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar16 < (int)param_12);
      puVar9 = (uchar *)(unaff_s3 + unaff_s2);
    }
    memmove(puVar9,(uchar *)unaff_s1,uVar16);
    uVar14 = SUB41(pcVar15,0);
    unaff_s2 = unaff_s2 + uVar16;
    iVar2 = in_stack_0000024c;
    if ((int)uVar16 < (int)param_12) {
      puVar4 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar4 = (char)unaff_s4;
        puVar4 = puVar4 + 1;
        uVar16 = uVar16 + 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar16 < (int)param_12);
    }
code_r0x80022b40:
    in_stack_0000024c = iVar2 + 1;
    uVar11 = (uint)*(byte *)(iVar2 + 1);
    if (uVar11 == 0) {
SPRINTF_OBJ_824:
      *(undefined *)(unaff_s3 + unaff_s2) = 0;
      return unaff_s2;
    }
    if (uVar11 != 0x25) {
SPRINTF_OBJ_764:
      *(char *)(unaff_s3 + unaff_s2) = (char)uVar11;
      unaff_s2 = unaff_s2 + 1;
      iVar2 = in_stack_0000024c;
      goto code_r0x80022b40;
    }
    param_11 = DAT_80031cb0;
    param_12 = (int *)DAT_80031cb4;
    param_13 = (int *)DAT_80031cb8;
    uVar13 = 0x23;
    uVar12 = 0x23;
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              iVar2 = in_stack_0000024c + 1;
              uVar11 = (uint)*(byte *)(in_stack_0000024c + 1);
              if (uVar11 != unaff_s6) break;
              param_11 = param_11 | 1;
              in_stack_0000024c = iVar2;
            }
            if (uVar11 != unaff_s5) break;
            param_11 = param_11 | 2;
            in_stack_0000024c = iVar2;
          }
          if (uVar11 != unaff_s4) break;
          param_11._0_2_ = CONCAT11(*(byte *)(in_stack_0000024c + 1),(byte)param_11);
          in_stack_0000024c = iVar2;
        }
        if (uVar11 != 0x23) break;
        param_11 = param_11 | 4;
        in_stack_0000024c = iVar2;
      }
      if (uVar11 != 0x30) break;
      param_11 = param_11 | 8;
      in_stack_0000024c = iVar2;
    }
    if (uVar11 == 0x2a) {
      ppiVar1 = param_14 + 1;
      param_12 = *param_14;
      if ((int)param_12 < 0) {
        param_12 = (int *)-(int)param_12;
        param_11 = param_11 | 1;
      }
      param_14 = ppiVar1;
      iVar2 = SPRINTF_OBJ_1C0(in_stack_0000024c,(uint)*(byte *)(in_stack_0000024c + 2),0x23,uVar14,
                              param_5,param_6,param_7,param_8,param_9,param_10,DAT_80031cb8,ppiVar1,
                              in_stack_0000024c + 2);
      return iVar2;
    }
    while (uVar11 - 0x30 < 10) {
      param_12 = (int *)((int)param_12 * 10 + -0x30 + uVar11);
      uVar11 = (uint)*(byte *)(iVar2 + 1);
      iVar2 = iVar2 + 1;
    }
    iVar6 = in_stack_0000024c;
    in_stack_0000024c = iVar2;
    if (uVar11 == 0x2e) {
      uVar11 = (uint)*(byte *)(iVar2 + 1);
      iVar6 = iVar2;
      if (uVar11 == 0x2a) {
        param_13 = *param_14;
        param_14 = param_14 + 1;
        iVar2 = SPRINTF_OBJ_260(iVar2,(uint)*(byte *)(iVar2 + 2),0x23,uVar14,param_5,param_6,param_7
                                ,param_8,param_9,param_10,param_11,param_13);
        return iVar2;
      }
      while (in_stack_0000024c = iVar6 + 1, uVar11 - 0x30 < 10) {
        param_13 = (int *)((int)param_13 * 10 + -0x30 + uVar11);
        uVar11 = (uint)*(byte *)(iVar6 + 2);
        iVar6 = in_stack_0000024c;
      }
      iVar6 = iVar2;
      if (-1 < (int)param_13) {
        param_11 = param_11 | 0x10;
      }
    }
    unaff_s1 = (int *)&param_11;
    if ((param_11 & 1) != 0) {
      param_11 = param_11 & 0xfffffff7;
    }
    bVar10 = (byte)uVar11;
    uVar5 = (undefined)iVar6;
    switch(uVar11) {
    case 0x4c:
      param_11 = param_11 | 0x80;
      iVar2 = SPRINTF_OBJ_2A4(iVar6,(uint)*(byte *)(in_stack_0000024c + 1));
      return iVar2;
    default:
      if (uVar11 != 0x25) goto SPRINTF_OBJ_824;
      goto SPRINTF_OBJ_764;
    case 99:
      param_14 = param_14 + 1;
      iVar2 = SPRINTF_OBJ_770(uVar5,bVar10,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12);
      return iVar2;
    case 100:
    case 0x69:
      goto SPRINTF_OBJ_30C;
    case 0x68:
      iVar2 = SPRINTF_OBJ_2EC(iVar6,bVar10,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar2;
    case 0x6c:
      iVar2 = SPRINTF_OBJ_2EC(iVar6,bVar10,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar2;
    case 0x6e:
      if ((param_11 & 0x20) != 0) {
        *(short *)*param_14 = (short)unaff_s2;
        param_14 = param_14 + 1;
        iVar2 = SPRINTF_OBJ_804(uVar5,bVar10,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12,param_13,in_stack_00000228,
                                in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                                in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                                in_stack_00000244,in_stack_0000024c);
        return iVar2;
      }
      **param_14 = unaff_s2;
      param_14 = param_14 + 1;
      iVar2 = SPRINTF_OBJ_804(uVar5,bVar10,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12,param_13,in_stack_00000228,
                              in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                              in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                              in_stack_00000244,in_stack_0000024c);
      return iVar2;
    case 0x6f:
      goto code_r0x800227b0;
    case 0x70:
      param_13 = (int *)0x8;
      param_11 = param_11 | 0x50;
    case 0x58:
      iVar2 = SPRINTF_OBJ_590(iVar6,uVar11,0x23,s_0123456789ABCDEF_8001047c,param_5,param_6,param_7,
                              param_8,param_9,param_10,param_11,param_12,param_13,param_14);
      return iVar2;
    case 0x73:
      ppiVar1 = param_14 + 1;
      unaff_s1 = *param_14;
      param_14 = ppiVar1;
      if ((param_11 & 4) == 0) {
        if ((param_11 & 0x10) == 0) {
          strlen((char *)unaff_s1);
          iVar2 = SPRINTF_OBJ_770((char)unaff_s1,(char)uVar11,uVar12,uVar14,param_5,param_6,param_7,
                                  param_8,param_9,param_10,param_11,param_12);
          return iVar2;
        }
        uVar14 = 0;
        piVar8 = unaff_s1;
        uVar13 = (uint)param_13;
        pvVar3 = memchr((uchar *)unaff_s1,'\0',(int)param_13);
        uVar16 = (int)pvVar3 - (int)unaff_s1;
        if (pvVar3 == (void *)0x0) {
          iVar2 = SPRINTF_OBJ_770((char)piVar8,uVar14,(char)uVar13,(char)pcVar15,param_5,param_6,
                                  param_7,param_8,param_9,param_10,param_11,param_12);
          return iVar2;
        }
      }
      else {
        uVar16 = (uint)*(byte *)unaff_s1;
        unaff_s1 = (int *)((int)unaff_s1 + 1);
        if (((param_11 & 0x10) != 0) && ((int)param_13 < (int)uVar16)) {
          iVar2 = SPRINTF_OBJ_770(uVar5,bVar10,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                                  param_10,param_11,param_12);
          return iVar2;
        }
      }
      break;
    case 0x75:
      piVar8 = *param_14;
      uVar13 = param_11 & 0x20;
      param_11._0_2_ = (ushort)(byte)param_11;
      if (uVar13 != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      goto code_r0x800226c4;
    case 0x78:
      pcVar15 = s_0123456789abcdef_80010490;
      ppiVar1 = param_14 + 1;
      piVar8 = *param_14;
      if ((param_11 & 0x20) != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      if ((param_11 & 0x10) == 0) {
        if (((param_11 & 8) != 0) &&
           (param_13 = param_12, uVar13 = (uint)param_12, (param_11 & 4) != 0)) {
          param_13 = (int *)((int)param_12 - 2);
        }
        uVar12 = (undefined)uVar13;
        if ((int)param_13 < 1) {
          param_13 = (int *)0x1;
        }
      }
      uVar16 = 0;
      for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 4)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        uVar16 = uVar16 + 1;
        *(char *)unaff_s1 = s_0123456789abcdef_80010490[(uint)piVar8 & 0xf];
      }
      for (; (int)uVar16 < (int)param_13; uVar16 = uVar16 + 1) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
      }
      param_14 = ppiVar1;
      if ((param_11 & 4) != 0) {
        *(byte *)((int)unaff_s1 + -1) = bVar10;
        *(byte *)((int)unaff_s1 + -2) = 0x30;
        iVar2 = SPRINTF_OBJ_770(0,bVar10,uVar12,0x90,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12);
        return iVar2;
      }
    }
  } while( true );
SPRINTF_OBJ_30C:
  piVar8 = *param_14;
  if ((param_11 & 0x20) != 0) {
    piVar8 = (int *)(int)(short)piVar8;
  }
  if ((int)piVar8 < 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
    param_14 = param_14 + 1;
    iVar2 = SPRINTF_OBJ_388((int *)-(int)piVar8,bVar10,0x23,uVar14,param_5,param_6,param_7,param_8,
                            param_9,param_10,param_11,param_12,param_13);
    return iVar2;
  }
  if ((param_11 & 2) != 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
    param_14 = param_14 + 1;
    iVar2 = SPRINTF_OBJ_388(piVar8,bVar10,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,param_12,param_13);
    return iVar2;
  }
code_r0x800226c4:
  param_14 = param_14 + 1;
  if ((param_11 & 0x10) == 0) {
    if (((param_11 & 8) != 0) && (param_13 = param_12, param_11._1_1_ != 0)) {
      param_13 = (int *)((int)param_12 - 1);
    }
    if ((int)param_13 < 1) {
      param_13 = (int *)0x1;
    }
  }
  uVar16 = 0;
  if (piVar8 != (int *)0x0) {
    uVar11 = 0xcccccccd;
    piVar7 = piVar8;
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      uVar16 = uVar16 + 1;
      piVar8 = (int *)((uint)piVar7 / 10);
      *(byte *)unaff_s1 = (char)piVar7 + (char)piVar8 * -10 + 0x30;
      piVar7 = piVar8;
    } while (piVar8 != (int *)0x0);
  }
  for (; (int)uVar16 < (int)param_13; uVar16 = uVar16 + 1) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = 0x30;
  }
  if (param_11._1_1_ != 0) {
    *(byte *)((int)unaff_s1 + -1) = param_11._1_1_;
    iVar2 = SPRINTF_OBJ_770((char)piVar8,(char)uVar11,0x23,uVar14,param_5,param_6,param_7,param_8,
                            param_9,param_10,param_11,param_12);
    return iVar2;
  }
  goto code_r0x80022aac;
}



void SPRINTF_OBJ_564(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                    undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                    undefined param_9,undefined param_10,uint param_11,undefined4 param_12)

{
  undefined3 in_register_00000011;
  undefined3 in_register_00000015;
  undefined3 in_register_00000019;
  undefined4 in_stack_00000214;
  undefined4 in_stack_00000220;
  
  SPRINTF_OBJ_590(CONCAT31(in_register_00000011,param_1),CONCAT31(in_register_00000015,param_2),
                  CONCAT31(in_register_00000019,param_3),s_0123456789ABCDEF_8001047c,param_5,param_6
                  ,param_7,param_8,param_9,param_10,param_11 | 0x50,in_stack_00000214,8,
                  in_stack_00000220);
  return;
}



void SPRINTF_OBJ_578(undefined4 param_1,uint param_2,undefined4 param_3)

{
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  undefined4 in_stack_00000210;
  undefined4 in_stack_00000214;
  undefined4 in_stack_00000218;
  undefined4 in_stack_00000220;
  
  SPRINTF_OBJ_590(param_1,param_2,param_3,s_0123456789ABCDEF_8001047c,in_stack_00000010,
                  in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                  in_stack_00000024,in_stack_00000210,in_stack_00000214,in_stack_00000218,
                  in_stack_00000220);
  return;
}



int SPRINTF_OBJ_588(undefined4 param_1,uint param_2)

{
  int iVar1;
  void *pvVar2;
  undefined *puVar3;
  undefined uVar4;
  int iVar5;
  int *piVar6;
  int *piVar7;
  uchar *puVar8;
  undefined uVar9;
  undefined uVar10;
  undefined uVar11;
  int in_a2;
  char *pcVar12;
  uint uVar13;
  int *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  byte bVar14;
  undefined2 uVar15;
  uint in_stack_00000210;
  int in_stack_00000214;
  int in_stack_00000218;
  int **in_stack_00000220;
  int **ppiVar16;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int in_stack_0000024c;
  
code_r0x800228c4:
  uVar11 = (undefined)in_a2;
  pcVar12 = s_0123456789abcdef_80010490;
  ppiVar16 = in_stack_00000220 + 1;
  piVar7 = *in_stack_00000220;
  if ((in_stack_00000210 & 0x20) != 0) {
    piVar7 = (int *)((uint)piVar7 & 0xffff);
  }
  if ((in_stack_00000210 & 0x10) == 0) {
    if (((in_stack_00000210 & 8) != 0) &&
       (in_a2 = in_stack_00000214, in_stack_00000218 = in_stack_00000214,
       (in_stack_00000210 & 4) != 0)) {
      in_stack_00000218 = in_stack_00000214 + -2;
    }
    uVar11 = (undefined)in_a2;
    if (in_stack_00000218 < 1) {
      in_stack_00000218 = 1;
    }
  }
  uVar13 = 0;
  for (; piVar7 != (int *)0x0; piVar7 = (int *)((uint)piVar7 >> 4)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    uVar13 = uVar13 + 1;
    *(char *)unaff_s1 = s_0123456789abcdef_80010490[(uint)piVar7 & 0xf];
  }
  if ((int)uVar13 < in_stack_00000218) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar13 = uVar13 + 1;
    } while ((int)uVar13 < in_stack_00000218);
  }
  in_stack_00000220 = ppiVar16;
  if ((in_stack_00000210 & 4) != 0) {
    *(byte *)((int)unaff_s1 + -1) = (byte)param_2;
    *(byte *)((int)unaff_s1 + -2) = 0x30;
    iVar1 = SPRINTF_OBJ_770(0,(byte)param_2,uVar11,0x90,in_stack_00000010,in_stack_00000014,
                            in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                            in_stack_00000210,in_stack_00000214);
    return iVar1;
  }
code_r0x80022aac:
  do {
    puVar8 = (uchar *)(unaff_s3 + unaff_s2);
    if (((int)uVar13 < in_stack_00000214) && ((in_stack_00000210 & 1) == 0)) {
      puVar3 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar3 = (char)unaff_s4;
        puVar3 = puVar3 + 1;
        in_stack_00000214 = in_stack_00000214 + -1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar13 < in_stack_00000214);
      puVar8 = (uchar *)(unaff_s3 + unaff_s2);
    }
    memmove(puVar8,(uchar *)unaff_s1,uVar13);
    uVar11 = SUB41(pcVar12,0);
    unaff_s2 = unaff_s2 + uVar13;
    iVar1 = in_stack_0000024c;
    if ((int)uVar13 < in_stack_00000214) {
      puVar3 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar3 = (char)unaff_s4;
        puVar3 = puVar3 + 1;
        uVar13 = uVar13 + 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar13 < in_stack_00000214);
    }
code_r0x80022b40:
    in_stack_0000024c = iVar1 + 1;
    param_2 = (uint)*(byte *)(iVar1 + 1);
    if (param_2 == 0) {
SPRINTF_OBJ_824:
      *(undefined *)(unaff_s3 + unaff_s2) = 0;
      return unaff_s2;
    }
    if (param_2 != 0x25) {
SPRINTF_OBJ_764:
      *(char *)(unaff_s3 + unaff_s2) = (char)param_2;
      unaff_s2 = unaff_s2 + 1;
      iVar1 = in_stack_0000024c;
      goto code_r0x80022b40;
    }
    in_a2 = 0x23;
    uVar10 = 0x23;
    in_stack_00000210 = DAT_80031cb0;
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              iVar1 = in_stack_0000024c + 1;
              param_2 = (uint)*(byte *)(in_stack_0000024c + 1);
              if (param_2 != unaff_s6) break;
              in_stack_00000210 = in_stack_00000210 | 1;
              in_stack_0000024c = iVar1;
            }
            if (param_2 != unaff_s5) break;
            in_stack_00000210 = in_stack_00000210 | 2;
            in_stack_0000024c = iVar1;
          }
          if (param_2 != unaff_s4) break;
          in_stack_00000210 =
               CONCAT22((short)(in_stack_00000210 >> 0x10),
                        CONCAT11(*(byte *)(in_stack_0000024c + 1),(char)in_stack_00000210));
          in_stack_0000024c = iVar1;
        }
        if (param_2 != 0x23) break;
        in_stack_00000210 = in_stack_00000210 | 4;
        in_stack_0000024c = iVar1;
      }
      if (param_2 != 0x30) break;
      in_stack_00000210 = in_stack_00000210 | 8;
      in_stack_0000024c = iVar1;
    }
    in_stack_00000214 = DAT_80031cb4;
    if (param_2 == 0x2a) {
      iVar1 = SPRINTF_OBJ_1C0(in_stack_0000024c,(uint)*(byte *)(in_stack_0000024c + 2),0x23,uVar11,
                              in_stack_00000010,in_stack_00000014,in_stack_00000018,
                              in_stack_0000001c,in_stack_00000020,in_stack_00000024,DAT_80031cb8,
                              in_stack_00000220 + 1,in_stack_0000024c + 2);
      return iVar1;
    }
    while (param_2 - 0x30 < 10) {
      in_stack_00000214 = in_stack_00000214 * 10 + -0x30 + param_2;
      param_2 = (uint)*(byte *)(iVar1 + 1);
      iVar1 = iVar1 + 1;
    }
    iVar5 = in_stack_0000024c;
    in_stack_00000218 = DAT_80031cb8;
    in_stack_0000024c = iVar1;
    if (param_2 == 0x2e) {
      param_2 = (uint)*(byte *)(iVar1 + 1);
      iVar5 = iVar1;
      if (param_2 == 0x2a) {
        iVar1 = SPRINTF_OBJ_260(iVar1,(uint)*(byte *)(iVar1 + 2),0x23,uVar11,in_stack_00000010,
                                in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                in_stack_00000020,in_stack_00000024,in_stack_00000210,
                                *in_stack_00000220);
        return iVar1;
      }
      while (in_stack_0000024c = iVar5 + 1, param_2 - 0x30 < 10) {
        in_stack_00000218 = in_stack_00000218 * 10 + -0x30 + param_2;
        param_2 = (uint)*(byte *)(iVar5 + 2);
        iVar5 = in_stack_0000024c;
      }
      iVar5 = iVar1;
      if (-1 < in_stack_00000218) {
        in_stack_00000210 = in_stack_00000210 | 0x10;
      }
    }
    unaff_s1 = (int *)&stack0x00000210;
    if ((in_stack_00000210 & 1) != 0) {
      in_stack_00000210 = in_stack_00000210 & 0xfffffff7;
    }
    uVar9 = (undefined)param_2;
    uVar4 = (undefined)iVar5;
    bVar14 = (byte)in_stack_00000210;
    uVar15 = (undefined2)(in_stack_00000210 >> 0x10);
    switch(param_2) {
    case 0x4c:
      iVar1 = SPRINTF_OBJ_2A4(iVar5,(uint)*(byte *)(in_stack_0000024c + 1));
      return iVar1;
    default:
      if (param_2 != 0x25) goto SPRINTF_OBJ_824;
      goto SPRINTF_OBJ_764;
    case 99:
      iVar1 = SPRINTF_OBJ_770(uVar4,uVar9,0x23,uVar11,in_stack_00000010,in_stack_00000014,
                              in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                              in_stack_00000024,in_stack_00000210,in_stack_00000214);
      return iVar1;
    case 100:
    case 0x69:
      goto SPRINTF_OBJ_30C;
    case 0x68:
      iVar1 = SPRINTF_OBJ_2EC(iVar5,uVar9,0x23,uVar11,in_stack_00000010,in_stack_00000014,
                              in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                              in_stack_00000024,in_stack_00000210,in_stack_0000024c);
      return iVar1;
    case 0x6c:
      iVar1 = SPRINTF_OBJ_2EC(iVar5,uVar9,0x23,uVar11,in_stack_00000010,in_stack_00000014,
                              in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                              in_stack_00000024,in_stack_00000210,in_stack_0000024c);
      return iVar1;
    case 0x6e:
      if ((in_stack_00000210 & 0x20) != 0) {
        *(short *)*in_stack_00000220 = (short)unaff_s2;
        iVar1 = SPRINTF_OBJ_804(uVar4,uVar9,0x23,uVar11,in_stack_00000010,in_stack_00000014,
                                in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                in_stack_00000024,in_stack_00000210,in_stack_00000214,
                                in_stack_00000218,in_stack_00000228,in_stack_0000022c,
                                in_stack_00000230,in_stack_00000234,in_stack_00000238,
                                in_stack_0000023c,in_stack_00000240,in_stack_00000244,
                                in_stack_0000024c);
        return iVar1;
      }
      **in_stack_00000220 = unaff_s2;
      iVar1 = SPRINTF_OBJ_804(uVar4,uVar9,0x23,uVar11,in_stack_00000010,in_stack_00000014,
                              in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                              in_stack_00000024,in_stack_00000210,in_stack_00000214,
                              in_stack_00000218,in_stack_00000228,in_stack_0000022c,
                              in_stack_00000230,in_stack_00000234,in_stack_00000238,
                              in_stack_0000023c,in_stack_00000240,in_stack_00000244,
                              in_stack_0000024c);
      return iVar1;
    case 0x6f:
      ppiVar16 = in_stack_00000220 + 1;
      piVar7 = *in_stack_00000220;
      if ((in_stack_00000210 & 0x20) != 0) {
        piVar7 = (int *)((uint)piVar7 & 0xffff);
      }
      if ((in_stack_00000210 & 0x10) == 0) {
        if ((in_stack_00000210 & 8) != 0) {
          in_stack_00000218 = in_stack_00000214;
        }
        if (in_stack_00000218 < 1) {
          in_stack_00000218 = 1;
        }
      }
      uVar13 = 0;
      for (; piVar7 != (int *)0x0; piVar7 = (int *)((uint)piVar7 >> 3)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = ((byte)piVar7 & 7) + 0x30;
        uVar13 = uVar13 + 1;
      }
      if ((((in_stack_00000210 & 4) != 0) && (uVar13 != 0)) && (*(byte *)unaff_s1 != 0x30)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
        uVar13 = uVar13 + 1;
      }
      in_stack_00000220 = ppiVar16;
      if ((int)uVar13 < in_stack_00000218) {
        do {
          unaff_s1 = (int *)((int)unaff_s1 + -1);
          *(byte *)unaff_s1 = 0x30;
          uVar13 = uVar13 + 1;
        } while ((int)uVar13 < in_stack_00000218);
        iVar1 = SPRINTF_OBJ_770((byte)piVar7,uVar9,0x23,uVar11,in_stack_00000010,in_stack_00000014,
                                in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                in_stack_00000024,in_stack_00000210,in_stack_00000214);
        return iVar1;
      }
      break;
    case 0x70:
      in_stack_00000218 = 8;
      in_stack_00000210 = in_stack_00000210 | 0x50;
    case 0x58:
      iVar1 = SPRINTF_OBJ_590(iVar5,param_2,0x23,s_0123456789ABCDEF_8001047c,in_stack_00000010,
                              in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                              in_stack_00000020,in_stack_00000024,in_stack_00000210,
                              in_stack_00000214,in_stack_00000218,in_stack_00000220);
      return iVar1;
    case 0x73:
      ppiVar16 = in_stack_00000220 + 1;
      unaff_s1 = *in_stack_00000220;
      if ((in_stack_00000210 & 4) == 0) {
        if ((in_stack_00000210 & 0x10) == 0) {
          strlen((char *)unaff_s1);
          iVar1 = SPRINTF_OBJ_770((char)unaff_s1,(char)param_2,uVar10,uVar11,in_stack_00000010,
                                  in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                  in_stack_00000020,in_stack_00000024,in_stack_00000210,
                                  in_stack_00000214);
          return iVar1;
        }
        uVar11 = 0;
        piVar7 = unaff_s1;
        pvVar2 = memchr((uchar *)unaff_s1,'\0',in_stack_00000218);
        uVar13 = (int)pvVar2 - (int)unaff_s1;
        in_stack_00000220 = ppiVar16;
        if (pvVar2 == (void *)0x0) {
          iVar1 = SPRINTF_OBJ_770((char)piVar7,uVar11,(char)in_stack_00000218,(char)pcVar12,
                                  in_stack_00000010,in_stack_00000014,in_stack_00000018,
                                  in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                                  in_stack_00000210,in_stack_00000214);
          return iVar1;
        }
      }
      else {
        uVar13 = (uint)*(byte *)unaff_s1;
        unaff_s1 = (int *)((int)unaff_s1 + 1);
        in_stack_00000220 = ppiVar16;
        if (((in_stack_00000210 & 0x10) != 0) && (in_stack_00000218 < (int)uVar13)) {
          iVar1 = SPRINTF_OBJ_770(uVar4,uVar9,0x23,uVar11,in_stack_00000010,in_stack_00000014,
                                  in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                  in_stack_00000024,in_stack_00000210,in_stack_00000214);
          return iVar1;
        }
      }
      break;
    case 0x75:
      piVar7 = *in_stack_00000220;
      uVar13 = in_stack_00000210 & 0x20;
      in_stack_00000210 = CONCAT22(uVar15,(ushort)bVar14);
      if (uVar13 != 0) {
        piVar7 = (int *)((uint)piVar7 & 0xffff);
      }
      goto code_r0x800226c4;
    case 0x78:
      goto code_r0x800228c4;
    }
  } while( true );
SPRINTF_OBJ_30C:
  piVar7 = *in_stack_00000220;
  if ((in_stack_00000210 & 0x20) != 0) {
    piVar7 = (int *)(int)(short)piVar7;
  }
  if ((int)piVar7 < 0) {
    iVar1 = SPRINTF_OBJ_388((int *)-(int)piVar7,uVar9,0x23,uVar11,in_stack_00000010,
                            in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                            in_stack_00000024,CONCAT22(uVar15,CONCAT11((char)unaff_s6,bVar14)),
                            in_stack_00000214,in_stack_00000218);
    return iVar1;
  }
  if ((in_stack_00000210 & 2) != 0) {
    iVar1 = SPRINTF_OBJ_388(piVar7,uVar9,0x23,uVar11,in_stack_00000010,in_stack_00000014,
                            in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                            CONCAT22(uVar15,CONCAT11((char)unaff_s5,bVar14)),in_stack_00000214,
                            in_stack_00000218);
    return iVar1;
  }
code_r0x800226c4:
  bVar14 = (byte)(in_stack_00000210 >> 8);
  if ((in_stack_00000210 & 0x10) == 0) {
    if (((in_stack_00000210 & 8) != 0) && (in_stack_00000218 = in_stack_00000214, bVar14 != 0)) {
      in_stack_00000218 = in_stack_00000214 + -1;
    }
    if (in_stack_00000218 < 1) {
      in_stack_00000218 = 1;
    }
  }
  uVar13 = 0;
  if (piVar7 != (int *)0x0) {
    param_2 = 0xcccccccd;
    piVar6 = piVar7;
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      uVar13 = uVar13 + 1;
      piVar7 = (int *)((uint)piVar6 / 10);
      *(byte *)unaff_s1 = (char)piVar6 + (char)piVar7 * -10 + 0x30;
      piVar6 = piVar7;
    } while (piVar7 != (int *)0x0);
  }
  for (; (int)uVar13 < in_stack_00000218; uVar13 = uVar13 + 1) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = 0x30;
  }
  in_stack_00000220 = in_stack_00000220 + 1;
  if (bVar14 != 0) {
    *(byte *)((int)unaff_s1 + -1) = bVar14;
    iVar1 = SPRINTF_OBJ_770((char)piVar7,(char)param_2,0x23,uVar11,in_stack_00000010,
                            in_stack_00000014,in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                            in_stack_00000024,in_stack_00000210,in_stack_00000214);
    return iVar1;
  }
  goto code_r0x80022aac;
}



int SPRINTF_OBJ_590(undefined4 param_1,uint param_2,int param_3,char *param_4,undefined param_5,
                   undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                   undefined param_10,uint param_11,int *param_12,int *param_13,int **param_14)

{
  int **ppiVar1;
  int iVar2;
  void *pvVar3;
  undefined *puVar4;
  undefined uVar5;
  int iVar6;
  int *piVar7;
  int *piVar8;
  uchar *puVar9;
  undefined uVar10;
  undefined uVar11;
  undefined uVar12;
  uint uVar13;
  int *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int in_stack_0000024c;
  
code_r0x800228cc:
  uVar12 = (undefined)param_3;
  piVar8 = *param_14;
  if ((param_11 & 0x20) != 0) {
    piVar8 = (int *)((uint)piVar8 & 0xffff);
  }
  if ((param_11 & 0x10) == 0) {
    if (((param_11 & 8) != 0) && (param_13 = param_12, param_3 = (int)param_12, (param_11 & 4) != 0)
       ) {
      param_13 = (int *)((int)param_12 + -2);
    }
    uVar12 = (undefined)param_3;
    if ((int)param_13 < 1) {
      param_13 = (int *)0x1;
    }
  }
  uVar13 = 0;
  param_14 = param_14 + 1;
  for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 4)) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    uVar13 = uVar13 + 1;
    *(char *)unaff_s1 = param_4[(uint)piVar8 & 0xf];
  }
  if ((int)uVar13 < (int)param_13) {
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      *(byte *)unaff_s1 = 0x30;
      uVar13 = uVar13 + 1;
    } while ((int)uVar13 < (int)param_13);
  }
  if ((param_11 & 4) != 0) {
    *(byte *)((int)unaff_s1 + -1) = (byte)param_2;
    *(byte *)((int)unaff_s1 + -2) = 0x30;
    iVar2 = SPRINTF_OBJ_770(0,(byte)param_2,uVar12,(char)param_4,param_5,param_6,param_7,param_8,
                            param_9,param_10,param_11,param_12);
    return iVar2;
  }
code_r0x80022aac:
  do {
    puVar9 = (uchar *)(unaff_s3 + unaff_s2);
    if (((int)uVar13 < (int)param_12) && ((param_11 & 1) == 0)) {
      puVar4 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar4 = (char)unaff_s4;
        puVar4 = puVar4 + 1;
        param_12 = (int *)((int)param_12 + -1);
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar13 < (int)param_12);
      puVar9 = (uchar *)(unaff_s3 + unaff_s2);
    }
    memmove(puVar9,(uchar *)unaff_s1,uVar13);
    ppiVar1 = param_14;
    uVar12 = SUB41(param_4,0);
    unaff_s2 = unaff_s2 + uVar13;
    iVar2 = in_stack_0000024c;
    if ((int)uVar13 < (int)param_12) {
      puVar4 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar4 = (char)unaff_s4;
        puVar4 = puVar4 + 1;
        uVar13 = uVar13 + 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar13 < (int)param_12);
    }
code_r0x80022b40:
    in_stack_0000024c = iVar2 + 1;
    param_2 = (uint)*(byte *)(iVar2 + 1);
    if (param_2 == 0) {
SPRINTF_OBJ_824:
      *(undefined *)(unaff_s3 + unaff_s2) = 0;
      return unaff_s2;
    }
    if (param_2 != 0x25) {
SPRINTF_OBJ_764:
      *(char *)(unaff_s3 + unaff_s2) = (char)param_2;
      unaff_s2 = unaff_s2 + 1;
      iVar2 = in_stack_0000024c;
      goto code_r0x80022b40;
    }
    param_11 = DAT_80031cb0;
    param_12 = (int *)DAT_80031cb4;
    param_13 = (int *)DAT_80031cb8;
    param_3 = 0x23;
    uVar11 = 0x23;
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              iVar2 = in_stack_0000024c + 1;
              param_2 = (uint)*(byte *)(in_stack_0000024c + 1);
              if (param_2 != unaff_s6) break;
              param_11 = param_11 | 1;
              in_stack_0000024c = iVar2;
            }
            if (param_2 != unaff_s5) break;
            param_11 = param_11 | 2;
            in_stack_0000024c = iVar2;
          }
          if (param_2 != unaff_s4) break;
          param_11._0_2_ = CONCAT11(*(byte *)(in_stack_0000024c + 1),(byte)param_11);
          in_stack_0000024c = iVar2;
        }
        if (param_2 != 0x23) break;
        param_11 = param_11 | 4;
        in_stack_0000024c = iVar2;
      }
      if (param_2 != 0x30) break;
      param_11 = param_11 | 8;
      in_stack_0000024c = iVar2;
    }
    if (param_2 == 0x2a) {
      ppiVar1 = param_14 + 1;
      param_12 = *param_14;
      if ((int)param_12 < 0) {
        param_12 = (int *)-(int)param_12;
        param_11 = param_11 | 1;
      }
      param_14 = ppiVar1;
      iVar2 = SPRINTF_OBJ_1C0(in_stack_0000024c,(uint)*(byte *)(in_stack_0000024c + 2),0x23,uVar12,
                              param_5,param_6,param_7,param_8,param_9,param_10,DAT_80031cb8,ppiVar1,
                              in_stack_0000024c + 2);
      return iVar2;
    }
    while (param_2 - 0x30 < 10) {
      param_12 = (int *)((int)param_12 * 10 + -0x30 + param_2);
      param_2 = (uint)*(byte *)(iVar2 + 1);
      iVar2 = iVar2 + 1;
    }
    iVar6 = in_stack_0000024c;
    in_stack_0000024c = iVar2;
    if (param_2 == 0x2e) {
      param_2 = (uint)*(byte *)(iVar2 + 1);
      iVar6 = iVar2;
      if (param_2 == 0x2a) {
        param_13 = *param_14;
        param_14 = param_14 + 1;
        iVar2 = SPRINTF_OBJ_260(iVar2,(uint)*(byte *)(iVar2 + 2),0x23,uVar12,param_5,param_6,param_7
                                ,param_8,param_9,param_10,param_11,param_13);
        return iVar2;
      }
      while (in_stack_0000024c = iVar6 + 1, param_2 - 0x30 < 10) {
        param_13 = (int *)((int)param_13 * 10 + -0x30 + param_2);
        param_2 = (uint)*(byte *)(iVar6 + 2);
        iVar6 = in_stack_0000024c;
      }
      iVar6 = iVar2;
      if (-1 < (int)param_13) {
        param_11 = param_11 | 0x10;
      }
    }
    unaff_s1 = (int *)&param_11;
    if ((param_11 & 1) != 0) {
      param_11 = param_11 & 0xfffffff7;
    }
    uVar10 = (undefined)param_2;
    uVar5 = (undefined)iVar6;
    switch(param_2) {
    case 0x4c:
      param_11 = param_11 | 0x80;
      iVar2 = SPRINTF_OBJ_2A4(iVar6,(uint)*(byte *)(in_stack_0000024c + 1));
      return iVar2;
    default:
      if (param_2 != 0x25) goto SPRINTF_OBJ_824;
      goto SPRINTF_OBJ_764;
    case 99:
      param_14 = param_14 + 1;
      iVar2 = SPRINTF_OBJ_770(uVar5,uVar10,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12);
      return iVar2;
    case 100:
    case 0x69:
      goto SPRINTF_OBJ_30C;
    case 0x68:
      iVar2 = SPRINTF_OBJ_2EC(iVar6,uVar10,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar2;
    case 0x6c:
      iVar2 = SPRINTF_OBJ_2EC(iVar6,uVar10,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar2;
    case 0x6e:
      if ((param_11 & 0x20) != 0) {
        *(short *)*param_14 = (short)unaff_s2;
        param_14 = param_14 + 1;
        iVar2 = SPRINTF_OBJ_804(uVar5,uVar10,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12,param_13,in_stack_00000228,
                                in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                                in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                                in_stack_00000244,in_stack_0000024c);
        return iVar2;
      }
      **param_14 = unaff_s2;
      param_14 = param_14 + 1;
      iVar2 = SPRINTF_OBJ_804(uVar5,uVar10,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12,param_13,in_stack_00000228,
                              in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                              in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                              in_stack_00000244,in_stack_0000024c);
      return iVar2;
    case 0x6f:
      param_14 = param_14 + 1;
      piVar8 = *ppiVar1;
      if ((param_11 & 0x20) != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      if ((param_11 & 0x10) == 0) {
        if ((param_11 & 8) != 0) {
          param_13 = param_12;
        }
        if ((int)param_13 < 1) {
          param_13 = (int *)0x1;
        }
      }
      uVar13 = 0;
      for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 3)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = ((byte)piVar8 & 7) + 0x30;
        uVar13 = uVar13 + 1;
      }
      if ((((param_11 & 4) != 0) && (uVar13 != 0)) && (*(byte *)unaff_s1 != 0x30)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
        uVar13 = uVar13 + 1;
      }
      if ((int)uVar13 < (int)param_13) {
        do {
          unaff_s1 = (int *)((int)unaff_s1 + -1);
          *(byte *)unaff_s1 = 0x30;
          uVar13 = uVar13 + 1;
        } while ((int)uVar13 < (int)param_13);
        iVar2 = SPRINTF_OBJ_770((byte)piVar8,uVar10,0x23,uVar12,param_5,param_6,param_7,param_8,
                                param_9,param_10,param_11,param_12);
        return iVar2;
      }
      break;
    case 0x70:
      param_13 = (int *)0x8;
      param_11 = param_11 | 0x50;
    case 0x58:
      iVar2 = SPRINTF_OBJ_590(iVar6,param_2,0x23,s_0123456789ABCDEF_8001047c,param_5,param_6,param_7
                              ,param_8,param_9,param_10,param_11,param_12,param_13,param_14);
      return iVar2;
    case 0x73:
      ppiVar1 = param_14 + 1;
      unaff_s1 = *param_14;
      param_14 = ppiVar1;
      if ((param_11 & 4) == 0) {
        if ((param_11 & 0x10) == 0) {
          strlen((char *)unaff_s1);
          iVar2 = SPRINTF_OBJ_770((char)unaff_s1,(char)param_2,uVar11,uVar12,param_5,param_6,param_7
                                  ,param_8,param_9,param_10,param_11,param_12);
          return iVar2;
        }
        uVar12 = 0;
        piVar8 = unaff_s1;
        iVar2 = (int)param_13;
        pvVar3 = memchr((uchar *)unaff_s1,'\0',(int)param_13);
        uVar13 = (int)pvVar3 - (int)unaff_s1;
        if (pvVar3 == (void *)0x0) {
          iVar2 = SPRINTF_OBJ_770((char)piVar8,uVar12,(char)iVar2,(char)param_4,param_5,param_6,
                                  param_7,param_8,param_9,param_10,param_11,param_12);
          return iVar2;
        }
      }
      else {
        uVar13 = (uint)*(byte *)unaff_s1;
        unaff_s1 = (int *)((int)unaff_s1 + 1);
        if (((param_11 & 0x10) != 0) && ((int)param_13 < (int)uVar13)) {
          iVar2 = SPRINTF_OBJ_770(uVar5,uVar10,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                                  param_10,param_11,param_12);
          return iVar2;
        }
      }
      break;
    case 0x75:
      piVar8 = *param_14;
      uVar13 = param_11 & 0x20;
      param_11._0_2_ = (ushort)(byte)param_11;
      if (uVar13 != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      goto code_r0x800226c4;
    case 0x78:
      param_4 = s_0123456789abcdef_80010490;
      goto code_r0x800228cc;
    }
  } while( true );
SPRINTF_OBJ_30C:
  piVar8 = *param_14;
  if ((param_11 & 0x20) != 0) {
    piVar8 = (int *)(int)(short)piVar8;
  }
  if ((int)piVar8 < 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
    param_14 = param_14 + 1;
    iVar2 = SPRINTF_OBJ_388((int *)-(int)piVar8,uVar10,0x23,uVar12,param_5,param_6,param_7,param_8,
                            param_9,param_10,param_11,param_12,param_13);
    return iVar2;
  }
  if ((param_11 & 2) != 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
    param_14 = param_14 + 1;
    iVar2 = SPRINTF_OBJ_388(piVar8,uVar10,0x23,uVar12,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,param_12,param_13);
    return iVar2;
  }
code_r0x800226c4:
  param_14 = param_14 + 1;
  if ((param_11 & 0x10) == 0) {
    if (((param_11 & 8) != 0) && (param_13 = param_12, param_11._1_1_ != 0)) {
      param_13 = (int *)((int)param_12 + -1);
    }
    if ((int)param_13 < 1) {
      param_13 = (int *)0x1;
    }
  }
  uVar13 = 0;
  if (piVar8 != (int *)0x0) {
    param_2 = 0xcccccccd;
    piVar7 = piVar8;
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      uVar13 = uVar13 + 1;
      piVar8 = (int *)((uint)piVar7 / 10);
      *(byte *)unaff_s1 = (char)piVar7 + (char)piVar8 * -10 + 0x30;
      piVar7 = piVar8;
    } while (piVar8 != (int *)0x0);
  }
  for (; (int)uVar13 < (int)param_13; uVar13 = uVar13 + 1) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = 0x30;
  }
  if (param_11._1_1_ != 0) {
    *(byte *)((int)unaff_s1 + -1) = param_11._1_1_;
    iVar2 = SPRINTF_OBJ_770((char)piVar8,(char)param_2,0x23,uVar12,param_5,param_6,param_7,param_8,
                            param_9,param_10,param_11,param_12);
    return iVar2;
  }
  goto code_r0x80022aac;
}



void SPRINTF_OBJ_680(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                    undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                    undefined param_9,undefined param_10,undefined *param_11)

{
  int unaff_s1;
  undefined4 in_stack_00000210;
  undefined4 in_stack_00000214;
  
  *(undefined *)(unaff_s1 + -1) = *param_11;
  SPRINTF_OBJ_770(param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10,
                  in_stack_00000210,in_stack_00000214);
  return;
}



int SPRINTF_OBJ_6A0(byte param_1,byte param_2,byte param_3,byte param_4,undefined param_5,
                   undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                   undefined param_10,uint param_11,int *param_12,int **param_13)

{
  uint uVar1;
  int **ppiVar2;
  uint uVar3;
  int iVar4;
  void *pvVar5;
  undefined *puVar6;
  int *piVar7;
  int *piVar8;
  uchar *puVar9;
  byte bVar10;
  undefined uVar11;
  uint uVar12;
  undefined uVar13;
  undefined uVar14;
  char *pcVar15;
  uint uVar16;
  int *piVar17;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  uint in_stack_00000214;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  uint in_stack_0000024c;
  
  pcVar15 = (char *)(uint)param_4;
  uVar16 = (uint)param_3;
  uVar12 = (uint)param_2;
  uVar3 = (uint)param_1;
code_r0x800229dc:
  uVar14 = SUB41(pcVar15,0);
  uVar13 = (undefined)uVar16;
  uVar11 = (undefined)uVar12;
  ppiVar2 = param_13 + 1;
  piVar17 = *param_13;
  param_13 = ppiVar2;
  if ((param_11 & 4) == 0) {
    if ((param_11 & 0x10) == 0) {
      strlen((char *)piVar17);
      iVar4 = SPRINTF_OBJ_770((char)piVar17,uVar11,uVar13,uVar14,param_5,param_6,param_7,param_8,
                              param_9,param_10,param_11,in_stack_00000214);
      return iVar4;
    }
    uVar11 = 0;
    piVar8 = piVar17;
    uVar3 = (uint)param_12;
    pvVar5 = memchr((uchar *)piVar17,'\0',(int)param_12);
    uVar16 = (int)pvVar5 - (int)piVar17;
    if (pvVar5 == (void *)0x0) {
      iVar4 = SPRINTF_OBJ_770((char)piVar8,uVar11,(char)uVar3,(char)pcVar15,param_5,param_6,param_7,
                              param_8,param_9,param_10,param_11,in_stack_00000214);
      return iVar4;
    }
  }
  else {
    uVar16 = (uint)*(byte *)piVar17;
    piVar17 = (int *)((int)piVar17 + 1);
    if (((param_11 & 0x10) != 0) && ((int)param_12 < (int)uVar16)) {
      iVar4 = SPRINTF_OBJ_770((char)uVar3,uVar11,uVar13,uVar14,param_5,param_6,param_7,param_8,
                              param_9,param_10,param_11,in_stack_00000214);
      return iVar4;
    }
  }
code_r0x80022aac:
  do {
    puVar9 = (uchar *)(unaff_s3 + unaff_s2);
    if (((int)uVar16 < (int)in_stack_00000214) && ((param_11 & 1) == 0)) {
      puVar6 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar6 = (char)unaff_s4;
        puVar6 = puVar6 + 1;
        in_stack_00000214 = in_stack_00000214 - 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar16 < (int)in_stack_00000214);
      puVar9 = (uchar *)(unaff_s3 + unaff_s2);
    }
    memmove(puVar9,(uchar *)piVar17,uVar16);
    ppiVar2 = param_13;
    unaff_s2 = unaff_s2 + uVar16;
    uVar3 = in_stack_0000024c;
    if ((int)uVar16 < (int)in_stack_00000214) {
      puVar6 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar6 = (char)unaff_s4;
        puVar6 = puVar6 + 1;
        uVar16 = uVar16 + 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)uVar16 < (int)in_stack_00000214);
    }
code_r0x80022b40:
    in_stack_0000024c = uVar3 + 1;
    uVar12 = (uint)*(byte *)(uVar3 + 1);
    if (uVar12 == 0) {
SPRINTF_OBJ_824:
      *(undefined *)(unaff_s3 + unaff_s2) = 0;
      return unaff_s2;
    }
    if (uVar12 != 0x25) {
SPRINTF_OBJ_764:
      *(char *)(unaff_s3 + unaff_s2) = (char)uVar12;
      unaff_s2 = unaff_s2 + 1;
      uVar3 = in_stack_0000024c;
      goto code_r0x80022b40;
    }
    param_11 = DAT_80031cb0;
    param_12 = (int *)DAT_80031cb8;
    uVar16 = 0x23;
    uVar11 = 0x23;
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              uVar1 = in_stack_0000024c + 1;
              uVar12 = (uint)*(byte *)(in_stack_0000024c + 1);
              if (uVar12 != unaff_s6) break;
              param_11 = param_11 | 1;
              in_stack_0000024c = uVar1;
            }
            if (uVar12 != unaff_s5) break;
            param_11 = param_11 | 2;
            in_stack_0000024c = uVar1;
          }
          if (uVar12 != unaff_s4) break;
          param_11._0_2_ = CONCAT11(*(byte *)(in_stack_0000024c + 1),(byte)param_11);
          in_stack_0000024c = uVar1;
        }
        if (uVar12 != 0x23) break;
        param_11 = param_11 | 4;
        in_stack_0000024c = uVar1;
      }
      if (uVar12 != 0x30) break;
      param_11 = param_11 | 8;
      in_stack_0000024c = uVar1;
    }
    uVar13 = SUB41(pcVar15,0);
    in_stack_00000214 = DAT_80031cb4;
    if (uVar12 == 0x2a) {
      ppiVar2 = param_13 + 1;
      if ((int)*param_13 < 0) {
        param_11 = param_11 | 1;
      }
      param_13 = ppiVar2;
      iVar4 = SPRINTF_OBJ_1C0(in_stack_0000024c,(uint)*(byte *)(in_stack_0000024c + 2),0x23,uVar13,
                              param_5,param_6,param_7,param_8,param_9,param_10,DAT_80031cb8,ppiVar2,
                              in_stack_0000024c + 2);
      return iVar4;
    }
    while (uVar12 - 0x30 < 10) {
      in_stack_00000214 = in_stack_00000214 * 10 + -0x30 + uVar12;
      uVar12 = (uint)*(byte *)(uVar1 + 1);
      uVar1 = uVar1 + 1;
    }
    uVar3 = in_stack_0000024c;
    in_stack_0000024c = uVar1;
    if (uVar12 == 0x2e) {
      uVar12 = (uint)*(byte *)(uVar1 + 1);
      uVar3 = uVar1;
      if (uVar12 == 0x2a) {
        param_12 = *param_13;
        param_13 = param_13 + 1;
        iVar4 = SPRINTF_OBJ_260(uVar1,(uint)*(byte *)(uVar1 + 2),0x23,uVar13,param_5,param_6,param_7
                                ,param_8,param_9,param_10,param_11,param_12);
        return iVar4;
      }
      while (in_stack_0000024c = uVar3 + 1, uVar12 - 0x30 < 10) {
        param_12 = (int *)((int)param_12 * 10 + -0x30 + uVar12);
        uVar12 = (uint)*(byte *)(uVar3 + 2);
        uVar3 = in_stack_0000024c;
      }
      uVar3 = uVar1;
      if (-1 < (int)param_12) {
        param_11 = param_11 | 0x10;
      }
    }
    piVar17 = (int *)&param_11;
    if ((param_11 & 1) != 0) {
      param_11 = param_11 & 0xfffffff7;
    }
    bVar10 = (byte)uVar12;
    uVar14 = (undefined)uVar3;
    switch(uVar12) {
    case 0x4c:
      param_11 = param_11 | 0x80;
      iVar4 = SPRINTF_OBJ_2A4(uVar3,(uint)*(byte *)(in_stack_0000024c + 1));
      return iVar4;
    default:
      if (uVar12 != 0x25) goto SPRINTF_OBJ_824;
      goto SPRINTF_OBJ_764;
    case 99:
      param_13 = param_13 + 1;
      iVar4 = SPRINTF_OBJ_770(uVar14,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_00000214);
      return iVar4;
    case 100:
    case 0x69:
      goto SPRINTF_OBJ_30C;
    case 0x68:
      iVar4 = SPRINTF_OBJ_2EC(uVar3,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar4;
    case 0x6c:
      iVar4 = SPRINTF_OBJ_2EC(uVar3,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar4;
    case 0x6e:
      if ((param_11 & 0x20) != 0) {
        *(short *)*param_13 = (short)unaff_s2;
        param_13 = param_13 + 1;
        iVar4 = SPRINTF_OBJ_804(uVar14,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,in_stack_00000214,param_12,in_stack_00000228,
                                in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                                in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                                in_stack_00000244,in_stack_0000024c);
        return iVar4;
      }
      **param_13 = unaff_s2;
      param_13 = param_13 + 1;
      iVar4 = SPRINTF_OBJ_804(uVar14,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_00000214,param_12,in_stack_00000228,
                              in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                              in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                              in_stack_00000244,in_stack_0000024c);
      return iVar4;
    case 0x6f:
      param_13 = param_13 + 1;
      piVar8 = *ppiVar2;
      if ((param_11 & 0x20) != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      if ((param_11 & 0x10) == 0) {
        if ((param_11 & 8) != 0) {
          param_12 = (int *)in_stack_00000214;
        }
        if ((int)param_12 < 1) {
          param_12 = (int *)0x1;
        }
      }
      uVar16 = 0;
      for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 3)) {
        piVar17 = (int *)((int)piVar17 + -1);
        *(byte *)piVar17 = ((byte)piVar8 & 7) + 0x30;
        uVar16 = uVar16 + 1;
      }
      if ((((param_11 & 4) != 0) && (uVar16 != 0)) && (*(byte *)piVar17 != 0x30)) {
        piVar17 = (int *)((int)piVar17 + -1);
        *(byte *)piVar17 = 0x30;
        uVar16 = uVar16 + 1;
      }
      if ((int)uVar16 < (int)param_12) {
        do {
          piVar17 = (int *)((int)piVar17 + -1);
          *(byte *)piVar17 = 0x30;
          uVar16 = uVar16 + 1;
        } while ((int)uVar16 < (int)param_12);
        iVar4 = SPRINTF_OBJ_770((byte)piVar8,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,
                                param_9,param_10,param_11,in_stack_00000214);
        return iVar4;
      }
      break;
    case 0x70:
      param_12 = (int *)0x8;
      param_11 = param_11 | 0x50;
    case 0x58:
      iVar4 = SPRINTF_OBJ_590(uVar3,uVar12,0x23,s_0123456789ABCDEF_8001047c,param_5,param_6,param_7,
                              param_8,param_9,param_10,param_11,in_stack_00000214,param_12,param_13)
      ;
      return iVar4;
    case 0x73:
      goto code_r0x800229dc;
    case 0x75:
      piVar8 = *param_13;
      uVar3 = param_11 & 0x20;
      param_11._0_2_ = (ushort)(byte)param_11;
      if (uVar3 != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      goto code_r0x800226c4;
    case 0x78:
      pcVar15 = s_0123456789abcdef_80010490;
      ppiVar2 = param_13 + 1;
      piVar8 = *param_13;
      if ((param_11 & 0x20) != 0) {
        piVar8 = (int *)((uint)piVar8 & 0xffff);
      }
      if ((param_11 & 0x10) == 0) {
        if (((param_11 & 8) != 0) &&
           (uVar16 = in_stack_00000214, param_12 = (int *)in_stack_00000214, (param_11 & 4) != 0)) {
          param_12 = (int *)(in_stack_00000214 - 2);
        }
        uVar11 = (undefined)uVar16;
        if ((int)param_12 < 1) {
          param_12 = (int *)0x1;
        }
      }
      uVar16 = 0;
      for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 4)) {
        piVar17 = (int *)((int)piVar17 + -1);
        uVar16 = uVar16 + 1;
        *(char *)piVar17 = s_0123456789abcdef_80010490[(uint)piVar8 & 0xf];
      }
      for (; (int)uVar16 < (int)param_12; uVar16 = uVar16 + 1) {
        piVar17 = (int *)((int)piVar17 + -1);
        *(byte *)piVar17 = 0x30;
      }
      param_13 = ppiVar2;
      if ((param_11 & 4) != 0) {
        *(byte *)((int)piVar17 + -1) = bVar10;
        *(byte *)((int)piVar17 + -2) = 0x30;
        iVar4 = SPRINTF_OBJ_770(0,bVar10,uVar11,0x90,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,in_stack_00000214);
        return iVar4;
      }
    }
  } while( true );
SPRINTF_OBJ_30C:
  piVar8 = *param_13;
  if ((param_11 & 0x20) != 0) {
    piVar8 = (int *)(int)(short)piVar8;
  }
  if ((int)piVar8 < 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
    param_13 = param_13 + 1;
    iVar4 = SPRINTF_OBJ_388((int *)-(int)piVar8,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,
                            param_9,param_10,param_11,in_stack_00000214,param_12);
    return iVar4;
  }
  if ((param_11 & 2) != 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
    param_13 = param_13 + 1;
    iVar4 = SPRINTF_OBJ_388(piVar8,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,in_stack_00000214,param_12);
    return iVar4;
  }
code_r0x800226c4:
  param_13 = param_13 + 1;
  if ((param_11 & 0x10) == 0) {
    if (((param_11 & 8) != 0) && (param_12 = (int *)in_stack_00000214, param_11._1_1_ != 0)) {
      param_12 = (int *)(in_stack_00000214 - 1);
    }
    if ((int)param_12 < 1) {
      param_12 = (int *)0x1;
    }
  }
  uVar16 = 0;
  if (piVar8 != (int *)0x0) {
    uVar12 = 0xcccccccd;
    piVar7 = piVar8;
    do {
      piVar17 = (int *)((int)piVar17 + -1);
      uVar16 = uVar16 + 1;
      piVar8 = (int *)((uint)piVar7 / 10);
      *(byte *)piVar17 = (char)piVar7 + (char)piVar8 * -10 + 0x30;
      piVar7 = piVar8;
    } while (piVar8 != (int *)0x0);
  }
  for (; (int)uVar16 < (int)param_12; uVar16 = uVar16 + 1) {
    piVar17 = (int *)((int)piVar17 + -1);
    *(byte *)piVar17 = 0x30;
  }
  if (param_11._1_1_ != 0) {
    *(byte *)((int)piVar17 + -1) = param_11._1_1_;
    iVar4 = SPRINTF_OBJ_770((char)piVar8,(char)uVar12,0x23,uVar13,param_5,param_6,param_7,param_8,
                            param_9,param_10,param_11,in_stack_00000214);
    return iVar4;
  }
  goto code_r0x80022aac;
}



void SPRINTF_OBJ_724(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                    undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                    undefined param_9,undefined param_10,uint param_11,undefined4 *param_12)

{
  undefined4 unaff_s2;
  undefined4 in_stack_00000214;
  undefined4 in_stack_00000218;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  undefined4 in_stack_0000024c;
  
  if ((param_11 & 0x20) != 0) {
    *(short *)(undefined4 *)*param_12 = (short)unaff_s2;
    SPRINTF_OBJ_804(param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10
                    ,param_11,in_stack_00000214,in_stack_00000218,in_stack_00000228,
                    in_stack_0000022c,in_stack_00000230,in_stack_00000234,in_stack_00000238,
                    in_stack_0000023c,in_stack_00000240,in_stack_00000244,in_stack_0000024c);
    return;
  }
  *(undefined4 *)*param_12 = unaff_s2;
  SPRINTF_OBJ_804(param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10,
                  param_11,in_stack_00000214,in_stack_00000218,in_stack_00000228,in_stack_0000022c,
                  in_stack_00000230,in_stack_00000234,in_stack_00000238,in_stack_0000023c,
                  in_stack_00000240,in_stack_00000244,in_stack_0000024c);
  return;
}



int SPRINTF_OBJ_758(undefined4 param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  void *pvVar5;
  int iVar6;
  undefined *puVar7;
  undefined uVar8;
  int *piVar9;
  int *piVar10;
  uchar *puVar11;
  byte bVar12;
  undefined uVar13;
  undefined uVar14;
  char *in_a3;
  uint uVar15;
  int *piVar16;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  byte bVar17;
  undefined2 uVar18;
  int **ppiVar19;
  int **in_stack_00000220;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int in_stack_0000024c;
  
code_r0x80022a94:
  if (param_2 == 0x25) {
    do {
      *(char *)(unaff_s3 + unaff_s2) = (char)param_2;
      unaff_s2 = unaff_s2 + 1;
      while( true ) {
        uVar14 = SUB41(in_a3,0);
        iVar6 = in_stack_0000024c + 1;
        param_2 = (uint)*(byte *)(in_stack_0000024c + 1);
        if (param_2 == 0) goto SPRINTF_OBJ_824;
        in_stack_0000024c = iVar6;
        if (param_2 != 0x25) break;
        uVar13 = 0x23;
        uVar2 = DAT_80031cb0;
        while( true ) {
          while( true ) {
            while( true ) {
              while( true ) {
                while( true ) {
                  iVar1 = iVar6 + 1;
                  param_2 = (uint)*(byte *)(iVar6 + 1);
                  if (param_2 != unaff_s6) break;
                  uVar2 = uVar2 | 1;
                  iVar6 = iVar1;
                }
                if (param_2 != unaff_s5) break;
                uVar2 = uVar2 | 2;
                iVar6 = iVar1;
              }
              if (param_2 != unaff_s4) break;
              uVar2 = CONCAT22((short)(uVar2 >> 0x10),CONCAT11(*(byte *)(iVar6 + 1),(char)uVar2));
              iVar6 = iVar1;
            }
            if (param_2 != 0x23) break;
            uVar2 = uVar2 | 4;
            iVar6 = iVar1;
          }
          if (param_2 != 0x30) break;
          uVar2 = uVar2 | 8;
          iVar6 = iVar1;
        }
        iVar3 = DAT_80031cb4;
        if (param_2 == 0x2a) {
          iVar6 = SPRINTF_OBJ_1C0(iVar6,(uint)*(byte *)(iVar6 + 2),0x23,uVar14,in_stack_00000010,
                                  in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                  in_stack_00000020,in_stack_00000024,DAT_80031cb8,
                                  in_stack_00000220 + 1,iVar6 + 2);
          return iVar6;
        }
        while (param_2 - 0x30 < 10) {
          iVar3 = iVar3 * 10 + -0x30 + param_2;
          param_2 = (uint)*(byte *)(iVar1 + 1);
          iVar1 = iVar1 + 1;
        }
        iVar4 = DAT_80031cb8;
        in_stack_0000024c = iVar1;
        if (param_2 == 0x2e) {
          param_2 = (uint)*(byte *)(iVar1 + 1);
          iVar6 = iVar1;
          if (param_2 == 0x2a) {
            iVar6 = SPRINTF_OBJ_260(iVar1,(uint)*(byte *)(iVar1 + 2),0x23,uVar14,in_stack_00000010,
                                    in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                    in_stack_00000020,in_stack_00000024,uVar2,*in_stack_00000220);
            return iVar6;
          }
          while (in_stack_0000024c = iVar6 + 1, param_2 - 0x30 < 10) {
            iVar4 = iVar4 * 10 + -0x30 + param_2;
            param_2 = (uint)*(byte *)(iVar6 + 2);
            iVar6 = in_stack_0000024c;
          }
          iVar6 = iVar1;
          if (-1 < iVar4) {
            uVar2 = uVar2 | 0x10;
          }
        }
        piVar16 = (int *)&stack0x00000210;
        if ((uVar2 & 1) != 0) {
          uVar2 = uVar2 & 0xfffffff7;
        }
        bVar12 = (byte)param_2;
        uVar8 = (undefined)iVar6;
        bVar17 = (byte)uVar2;
        uVar18 = (undefined2)(uVar2 >> 0x10);
        switch(param_2) {
        case 0x4c:
          iVar6 = SPRINTF_OBJ_2A4(iVar6,(uint)*(byte *)(in_stack_0000024c + 1));
          return iVar6;
        default:
          goto code_r0x80022a94;
        case 99:
          iVar6 = SPRINTF_OBJ_770(uVar8,bVar12,0x23,uVar14,in_stack_00000010,in_stack_00000014,
                                  in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                  in_stack_00000024,uVar2,iVar3);
          return iVar6;
        case 100:
        case 0x69:
          piVar10 = *in_stack_00000220;
          if ((uVar2 & 0x20) != 0) {
            piVar10 = (int *)(int)(short)piVar10;
          }
          if ((int)piVar10 < 0) {
            iVar6 = SPRINTF_OBJ_388((int *)-(int)piVar10,bVar12,0x23,uVar14,in_stack_00000010,
                                    in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                    in_stack_00000020,in_stack_00000024,
                                    CONCAT22(uVar18,CONCAT11((char)unaff_s6,bVar17)),iVar3,iVar4);
            return iVar6;
          }
          if ((uVar2 & 2) != 0) {
            iVar6 = SPRINTF_OBJ_388(piVar10,bVar12,0x23,uVar14,in_stack_00000010,in_stack_00000014,
                                    in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                    in_stack_00000024,
                                    CONCAT22(uVar18,CONCAT11((char)unaff_s5,bVar17)),iVar3,iVar4);
            return iVar6;
          }
          goto code_r0x800226c4;
        case 0x68:
          iVar6 = SPRINTF_OBJ_2EC(iVar6,bVar12,0x23,uVar14,in_stack_00000010,in_stack_00000014,
                                  in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                  in_stack_00000024,uVar2,in_stack_0000024c);
          return iVar6;
        case 0x6c:
          iVar6 = SPRINTF_OBJ_2EC(iVar6,bVar12,0x23,uVar14,in_stack_00000010,in_stack_00000014,
                                  in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                  in_stack_00000024,uVar2,in_stack_0000024c);
          return iVar6;
        case 0x6e:
          if ((uVar2 & 0x20) != 0) {
            *(short *)*in_stack_00000220 = (short)unaff_s2;
            iVar6 = SPRINTF_OBJ_804(uVar8,bVar12,0x23,uVar14,in_stack_00000010,in_stack_00000014,
                                    in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                    in_stack_00000024,uVar2,iVar3,iVar4,in_stack_00000228,
                                    in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                                    in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                                    in_stack_00000244,in_stack_0000024c);
            return iVar6;
          }
          **in_stack_00000220 = unaff_s2;
          iVar6 = SPRINTF_OBJ_804(uVar8,bVar12,0x23,uVar14,in_stack_00000010,in_stack_00000014,
                                  in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                  in_stack_00000024,uVar2,iVar3,iVar4,in_stack_00000228,
                                  in_stack_0000022c,in_stack_00000230,in_stack_00000234,
                                  in_stack_00000238,in_stack_0000023c,in_stack_00000240,
                                  in_stack_00000244,in_stack_0000024c);
          return iVar6;
        case 0x6f:
          ppiVar19 = in_stack_00000220 + 1;
          piVar10 = *in_stack_00000220;
          if ((uVar2 & 0x20) != 0) {
            piVar10 = (int *)((uint)piVar10 & 0xffff);
          }
          if ((uVar2 & 0x10) == 0) {
            if ((uVar2 & 8) != 0) {
              iVar4 = iVar3;
            }
            if (iVar4 < 1) {
              iVar4 = 1;
            }
          }
          uVar15 = 0;
          for (; piVar10 != (int *)0x0; piVar10 = (int *)((uint)piVar10 >> 3)) {
            piVar16 = (int *)((int)piVar16 + -1);
            *(byte *)piVar16 = ((byte)piVar10 & 7) + 0x30;
            uVar15 = uVar15 + 1;
          }
          if ((((uVar2 & 4) != 0) && (uVar15 != 0)) && (*(byte *)piVar16 != 0x30)) {
            piVar16 = (int *)((int)piVar16 + -1);
            *(byte *)piVar16 = 0x30;
            uVar15 = uVar15 + 1;
          }
          if ((int)uVar15 < iVar4) {
            do {
              piVar16 = (int *)((int)piVar16 + -1);
              *(byte *)piVar16 = 0x30;
              uVar15 = uVar15 + 1;
            } while ((int)uVar15 < iVar4);
            iVar6 = SPRINTF_OBJ_770((byte)piVar10,bVar12,0x23,uVar14,in_stack_00000010,
                                    in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                    in_stack_00000020,in_stack_00000024,uVar2,iVar3);
            return iVar6;
          }
          break;
        case 0x70:
          iVar4 = 8;
          uVar2 = uVar2 | 0x50;
        case 0x58:
          iVar6 = SPRINTF_OBJ_590(iVar6,param_2,0x23,s_0123456789ABCDEF_8001047c,in_stack_00000010,
                                  in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                  in_stack_00000020,in_stack_00000024,uVar2,iVar3,iVar4,
                                  in_stack_00000220);
          return iVar6;
        case 0x73:
          ppiVar19 = in_stack_00000220 + 1;
          piVar16 = *in_stack_00000220;
          if ((uVar2 & 4) == 0) {
            if ((uVar2 & 0x10) == 0) {
              strlen((char *)piVar16);
              iVar6 = SPRINTF_OBJ_770((char)piVar16,(char)param_2,uVar13,uVar14,in_stack_00000010,
                                      in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                      in_stack_00000020,in_stack_00000024,uVar2,iVar3);
              return iVar6;
            }
            uVar14 = 0;
            piVar10 = piVar16;
            pvVar5 = memchr((uchar *)piVar16,'\0',iVar4);
            uVar15 = (int)pvVar5 - (int)piVar16;
            if (pvVar5 == (void *)0x0) {
              iVar6 = SPRINTF_OBJ_770((char)piVar10,uVar14,(char)iVar4,(char)in_a3,in_stack_00000010
                                      ,in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                      in_stack_00000020,in_stack_00000024,uVar2,iVar3);
              return iVar6;
            }
          }
          else {
            uVar15 = (uint)*(byte *)piVar16;
            piVar16 = (int *)((int)piVar16 + 1);
            if (((uVar2 & 0x10) != 0) && (iVar4 < (int)uVar15)) {
              iVar6 = SPRINTF_OBJ_770(uVar8,bVar12,0x23,uVar14,in_stack_00000010,in_stack_00000014,
                                      in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                      in_stack_00000024,uVar2,iVar3);
              return iVar6;
            }
          }
          break;
        case 0x75:
          piVar10 = *in_stack_00000220;
          uVar15 = uVar2 & 0x20;
          uVar2 = CONCAT22(uVar18,(ushort)bVar17);
          if (uVar15 != 0) {
            piVar10 = (int *)((uint)piVar10 & 0xffff);
          }
code_r0x800226c4:
          ppiVar19 = in_stack_00000220 + 1;
          bVar12 = (byte)(uVar2 >> 8);
          if ((uVar2 & 0x10) == 0) {
            if (((uVar2 & 8) != 0) && (iVar4 = iVar3, bVar12 != 0)) {
              iVar4 = iVar3 + -1;
            }
            if (iVar4 < 1) {
              iVar4 = 1;
            }
          }
          uVar15 = 0;
          if (piVar10 != (int *)0x0) {
            param_2 = 0xcccccccd;
            piVar9 = piVar10;
            do {
              piVar16 = (int *)((int)piVar16 + -1);
              uVar15 = uVar15 + 1;
              piVar10 = (int *)((uint)piVar9 / 10);
              *(byte *)piVar16 = (char)piVar9 + (char)piVar10 * -10 + 0x30;
              piVar9 = piVar10;
            } while (piVar10 != (int *)0x0);
          }
          for (; (int)uVar15 < iVar4; uVar15 = uVar15 + 1) {
            piVar16 = (int *)((int)piVar16 + -1);
            *(byte *)piVar16 = 0x30;
          }
          if (bVar12 != 0) {
            *(byte *)((int)piVar16 + -1) = bVar12;
            iVar6 = SPRINTF_OBJ_770((char)piVar10,(char)param_2,0x23,uVar14,in_stack_00000010,
                                    in_stack_00000014,in_stack_00000018,in_stack_0000001c,
                                    in_stack_00000020,in_stack_00000024,uVar2,iVar3);
            return iVar6;
          }
          break;
        case 0x78:
          in_a3 = s_0123456789abcdef_80010490;
          ppiVar19 = in_stack_00000220 + 1;
          piVar10 = *in_stack_00000220;
          if ((uVar2 & 0x20) != 0) {
            piVar10 = (int *)((uint)piVar10 & 0xffff);
          }
          if ((uVar2 & 0x10) == 0) {
            iVar6 = 0x23;
            if (((uVar2 & 8) != 0) && (iVar6 = iVar3, iVar4 = iVar3, (uVar2 & 4) != 0)) {
              iVar4 = iVar3 + -2;
            }
            uVar13 = (undefined)iVar6;
            if (iVar4 < 1) {
              iVar4 = 1;
            }
          }
          uVar15 = 0;
          for (; piVar10 != (int *)0x0; piVar10 = (int *)((uint)piVar10 >> 4)) {
            piVar16 = (int *)((int)piVar16 + -1);
            uVar15 = uVar15 + 1;
            *(char *)piVar16 = s_0123456789abcdef_80010490[(uint)piVar10 & 0xf];
          }
          for (; (int)uVar15 < iVar4; uVar15 = uVar15 + 1) {
            piVar16 = (int *)((int)piVar16 + -1);
            *(byte *)piVar16 = 0x30;
          }
          if ((uVar2 & 4) != 0) {
            *(byte *)((int)piVar16 + -1) = bVar12;
            *(byte *)((int)piVar16 + -2) = 0x30;
            iVar6 = SPRINTF_OBJ_770(0,bVar12,uVar13,0x90,in_stack_00000010,in_stack_00000014,
                                    in_stack_00000018,in_stack_0000001c,in_stack_00000020,
                                    in_stack_00000024,uVar2,iVar3);
            return iVar6;
          }
        }
        puVar11 = (uchar *)(unaff_s3 + unaff_s2);
        if (((int)uVar15 < iVar3) && ((uVar2 & 1) == 0)) {
          puVar7 = (undefined *)(unaff_s2 + unaff_s3);
          do {
            *puVar7 = (char)unaff_s4;
            puVar7 = puVar7 + 1;
            iVar3 = iVar3 + -1;
            unaff_s2 = unaff_s2 + 1;
          } while ((int)uVar15 < iVar3);
          puVar11 = (uchar *)(unaff_s3 + unaff_s2);
        }
        memmove(puVar11,(uchar *)piVar16,uVar15);
        unaff_s2 = unaff_s2 + uVar15;
        in_stack_00000220 = ppiVar19;
        if ((int)uVar15 < iVar3) {
          puVar7 = (undefined *)(unaff_s2 + unaff_s3);
          do {
            *puVar7 = (char)unaff_s4;
            puVar7 = puVar7 + 1;
            uVar15 = uVar15 + 1;
            unaff_s2 = unaff_s2 + 1;
          } while ((int)uVar15 < iVar3);
        }
      }
    } while( true );
  }
SPRINTF_OBJ_824:
  *(undefined *)(unaff_s3 + unaff_s2) = 0;
  return unaff_s2;
}



int SPRINTF_OBJ_770(undefined param_1,undefined param_2,undefined param_3,byte param_4,
                   undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                   undefined param_9,undefined param_10,uint param_11,int *param_12)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  void *pvVar4;
  undefined *puVar5;
  undefined uVar6;
  int iVar7;
  int *piVar8;
  int *piVar9;
  uchar *puVar10;
  byte bVar11;
  uint uVar12;
  undefined uVar13;
  undefined uVar14;
  char *pcVar15;
  uint unaff_s0;
  int *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int **ppiVar16;
  int **in_stack_00000220;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  undefined4 in_stack_00000234;
  undefined4 in_stack_00000238;
  undefined4 in_stack_0000023c;
  undefined4 in_stack_00000240;
  undefined4 in_stack_00000244;
  int in_stack_0000024c;
  
  pcVar15 = (char *)(uint)param_4;
code_r0x80022aac:
  do {
    puVar10 = (uchar *)(unaff_s3 + unaff_s2);
    if (((int)unaff_s0 < (int)param_12) && ((param_11 & 1) == 0)) {
      puVar5 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar5 = (char)unaff_s4;
        puVar5 = puVar5 + 1;
        param_12 = (int *)((int)param_12 + -1);
        unaff_s2 = unaff_s2 + 1;
      } while ((int)unaff_s0 < (int)param_12);
      puVar10 = (uchar *)(unaff_s3 + unaff_s2);
    }
    memmove(puVar10,(uchar *)unaff_s1,unaff_s0);
    uVar14 = SUB41(pcVar15,0);
    unaff_s2 = unaff_s2 + unaff_s0;
    iVar1 = in_stack_0000024c;
    if ((int)unaff_s0 < (int)param_12) {
      puVar5 = (undefined *)(unaff_s2 + unaff_s3);
      do {
        *puVar5 = (char)unaff_s4;
        puVar5 = puVar5 + 1;
        unaff_s0 = unaff_s0 + 1;
        unaff_s2 = unaff_s2 + 1;
      } while ((int)unaff_s0 < (int)param_12);
    }
code_r0x80022b40:
    in_stack_0000024c = iVar1 + 1;
    uVar12 = (uint)*(byte *)(iVar1 + 1);
    if (uVar12 == 0) {
SPRINTF_OBJ_824:
      *(undefined *)(unaff_s3 + unaff_s2) = 0;
      return unaff_s2;
    }
    if (uVar12 != 0x25) {
SPRINTF_OBJ_764:
      *(char *)(unaff_s3 + unaff_s2) = (char)uVar12;
      unaff_s2 = unaff_s2 + 1;
      iVar1 = in_stack_0000024c;
      goto code_r0x80022b40;
    }
    param_11 = DAT_80031cb0;
    param_12 = (int *)DAT_80031cb4;
    uVar13 = 0x23;
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              iVar1 = in_stack_0000024c + 1;
              uVar12 = (uint)*(byte *)(in_stack_0000024c + 1);
              if (uVar12 != unaff_s6) break;
              param_11 = param_11 | 1;
              in_stack_0000024c = iVar1;
            }
            if (uVar12 != unaff_s5) break;
            param_11 = param_11 | 2;
            in_stack_0000024c = iVar1;
          }
          if (uVar12 != unaff_s4) break;
          param_11._0_2_ = CONCAT11(*(byte *)(in_stack_0000024c + 1),(byte)param_11);
          in_stack_0000024c = iVar1;
        }
        if (uVar12 != 0x23) break;
        param_11 = param_11 | 4;
        in_stack_0000024c = iVar1;
      }
      if (uVar12 != 0x30) break;
      param_11 = param_11 | 8;
      in_stack_0000024c = iVar1;
    }
    if (uVar12 == 0x2a) {
      param_12 = *in_stack_00000220;
      if ((int)param_12 < 0) {
        param_12 = (int *)-(int)param_12;
        param_11 = param_11 | 1;
      }
      iVar1 = SPRINTF_OBJ_1C0(in_stack_0000024c,(uint)*(byte *)(in_stack_0000024c + 2),0x23,uVar14,
                              param_5,param_6,param_7,param_8,param_9,param_10,DAT_80031cb8,
                              in_stack_00000220 + 1,in_stack_0000024c + 2);
      return iVar1;
    }
    while (uVar12 - 0x30 < 10) {
      param_12 = (int *)((int)param_12 * 10 + -0x30 + uVar12);
      uVar12 = (uint)*(byte *)(iVar1 + 1);
      iVar1 = iVar1 + 1;
    }
    iVar7 = in_stack_0000024c;
    iVar2 = DAT_80031cb8;
    in_stack_0000024c = iVar1;
    if (uVar12 == 0x2e) {
      uVar12 = (uint)*(byte *)(iVar1 + 1);
      iVar7 = iVar1;
      if (uVar12 == 0x2a) {
        iVar1 = SPRINTF_OBJ_260(iVar1,(uint)*(byte *)(iVar1 + 2),0x23,uVar14,param_5,param_6,param_7
                                ,param_8,param_9,param_10,param_11,*in_stack_00000220);
        return iVar1;
      }
      while (in_stack_0000024c = iVar7 + 1, uVar12 - 0x30 < 10) {
        iVar2 = iVar2 * 10 + -0x30 + uVar12;
        uVar12 = (uint)*(byte *)(iVar7 + 2);
        iVar7 = in_stack_0000024c;
      }
      iVar7 = iVar1;
      if (-1 < iVar2) {
        param_11 = param_11 | 0x10;
      }
    }
    unaff_s1 = (int *)&param_11;
    if ((param_11 & 1) != 0) {
      param_11 = param_11 & 0xfffffff7;
    }
    bVar11 = (byte)uVar12;
    uVar6 = (undefined)iVar7;
    switch(uVar12) {
    case 0x4c:
      param_11 = param_11 | 0x80;
      iVar1 = SPRINTF_OBJ_2A4(iVar7,(uint)*(byte *)(in_stack_0000024c + 1));
      return iVar1;
    default:
      if (uVar12 != 0x25) goto SPRINTF_OBJ_824;
      goto SPRINTF_OBJ_764;
    case 99:
      iVar1 = SPRINTF_OBJ_770(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12);
      return iVar1;
    case 100:
    case 0x69:
      goto SPRINTF_OBJ_30C;
    case 0x68:
      iVar1 = SPRINTF_OBJ_2EC(iVar7,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar1;
    case 0x6c:
      iVar1 = SPRINTF_OBJ_2EC(iVar7,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,in_stack_0000024c);
      return iVar1;
    case 0x6e:
      if ((param_11 & 0x20) != 0) {
        *(short *)*in_stack_00000220 = (short)unaff_s2;
        iVar1 = SPRINTF_OBJ_804(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12,iVar2,in_stack_00000228,in_stack_0000022c
                                ,in_stack_00000230,in_stack_00000234,in_stack_00000238,
                                in_stack_0000023c,in_stack_00000240,in_stack_00000244,
                                in_stack_0000024c);
        return iVar1;
      }
      **in_stack_00000220 = unaff_s2;
      iVar1 = SPRINTF_OBJ_804(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                              param_10,param_11,param_12,iVar2,in_stack_00000228,in_stack_0000022c,
                              in_stack_00000230,in_stack_00000234,in_stack_00000238,
                              in_stack_0000023c,in_stack_00000240,in_stack_00000244,
                              in_stack_0000024c);
      return iVar1;
    case 0x6f:
      ppiVar16 = in_stack_00000220 + 1;
      piVar9 = *in_stack_00000220;
      if ((param_11 & 0x20) != 0) {
        piVar9 = (int *)((uint)piVar9 & 0xffff);
      }
      if ((param_11 & 0x10) == 0) {
        if ((param_11 & 8) != 0) {
          iVar2 = (int)param_12;
        }
        if (iVar2 < 1) {
          iVar2 = 1;
        }
      }
      unaff_s0 = 0;
      for (; piVar9 != (int *)0x0; piVar9 = (int *)((uint)piVar9 >> 3)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = ((byte)piVar9 & 7) + 0x30;
        unaff_s0 = unaff_s0 + 1;
      }
      if ((((param_11 & 4) != 0) && (unaff_s0 != 0)) && (*(byte *)unaff_s1 != 0x30)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
        unaff_s0 = unaff_s0 + 1;
      }
      in_stack_00000220 = ppiVar16;
      if ((int)unaff_s0 < iVar2) {
        do {
          unaff_s1 = (int *)((int)unaff_s1 + -1);
          *(byte *)unaff_s1 = 0x30;
          unaff_s0 = unaff_s0 + 1;
        } while ((int)unaff_s0 < iVar2);
        iVar1 = SPRINTF_OBJ_770((byte)piVar9,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,
                                param_9,param_10,param_11,param_12);
        return iVar1;
      }
      break;
    case 0x70:
      iVar2 = 8;
      param_11 = param_11 | 0x50;
    case 0x58:
      iVar1 = SPRINTF_OBJ_590(iVar7,uVar12,0x23,s_0123456789ABCDEF_8001047c,param_5,param_6,param_7,
                              param_8,param_9,param_10,param_11,param_12,iVar2,in_stack_00000220);
      return iVar1;
    case 0x73:
      ppiVar16 = in_stack_00000220 + 1;
      unaff_s1 = *in_stack_00000220;
      if ((param_11 & 4) == 0) {
        if ((param_11 & 0x10) == 0) {
          strlen((char *)unaff_s1);
          iVar1 = SPRINTF_OBJ_770((char)unaff_s1,(char)uVar12,uVar13,uVar14,param_5,param_6,param_7,
                                  param_8,param_9,param_10,param_11,param_12);
          return iVar1;
        }
        uVar14 = 0;
        piVar9 = unaff_s1;
        pvVar4 = memchr((uchar *)unaff_s1,'\0',iVar2);
        unaff_s0 = (int)pvVar4 - (int)unaff_s1;
        in_stack_00000220 = ppiVar16;
        if (pvVar4 == (void *)0x0) {
          iVar1 = SPRINTF_OBJ_770((char)piVar9,uVar14,(char)iVar2,(char)pcVar15,param_5,param_6,
                                  param_7,param_8,param_9,param_10,param_11,param_12);
          return iVar1;
        }
      }
      else {
        unaff_s0 = (uint)*(byte *)unaff_s1;
        unaff_s1 = (int *)((int)unaff_s1 + 1);
        in_stack_00000220 = ppiVar16;
        if (((param_11 & 0x10) != 0) && (iVar2 < (int)unaff_s0)) {
          iVar1 = SPRINTF_OBJ_770(uVar6,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                                  param_10,param_11,param_12);
          return iVar1;
        }
      }
      break;
    case 0x75:
      piVar9 = *in_stack_00000220;
      uVar3 = param_11 & 0x20;
      param_11._0_2_ = (ushort)(byte)param_11;
      if (uVar3 != 0) {
        piVar9 = (int *)((uint)piVar9 & 0xffff);
      }
      goto code_r0x800226c4;
    case 0x78:
      pcVar15 = s_0123456789abcdef_80010490;
      piVar9 = *in_stack_00000220;
      if ((param_11 & 0x20) != 0) {
        piVar9 = (int *)((uint)piVar9 & 0xffff);
      }
      if ((param_11 & 0x10) == 0) {
        iVar1 = 0x23;
        if (((param_11 & 8) != 0) &&
           (iVar1 = (int)param_12, iVar2 = (int)param_12, (param_11 & 4) != 0)) {
          iVar2 = (int)param_12 + -2;
        }
        uVar13 = (undefined)iVar1;
        if (iVar2 < 1) {
          iVar2 = 1;
        }
      }
      unaff_s0 = 0;
      for (; piVar9 != (int *)0x0; piVar9 = (int *)((uint)piVar9 >> 4)) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        unaff_s0 = unaff_s0 + 1;
        *(char *)unaff_s1 = s_0123456789abcdef_80010490[(uint)piVar9 & 0xf];
      }
      for (; (int)unaff_s0 < iVar2; unaff_s0 = unaff_s0 + 1) {
        unaff_s1 = (int *)((int)unaff_s1 + -1);
        *(byte *)unaff_s1 = 0x30;
      }
      in_stack_00000220 = in_stack_00000220 + 1;
      if ((param_11 & 4) != 0) {
        *(byte *)((int)unaff_s1 + -1) = bVar11;
        *(byte *)((int)unaff_s1 + -2) = 0x30;
        iVar1 = SPRINTF_OBJ_770(0,bVar11,uVar13,0x90,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12);
        return iVar1;
      }
    }
  } while( true );
SPRINTF_OBJ_30C:
  piVar9 = *in_stack_00000220;
  if ((param_11 & 0x20) != 0) {
    piVar9 = (int *)(int)(short)piVar9;
  }
  if ((int)piVar9 < 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
    iVar1 = SPRINTF_OBJ_388((int *)-(int)piVar9,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,
                            param_9,param_10,param_11,param_12,iVar2);
    return iVar1;
  }
  if ((param_11 & 2) != 0) {
    param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
    iVar1 = SPRINTF_OBJ_388(piVar9,bVar11,0x23,uVar14,param_5,param_6,param_7,param_8,param_9,
                            param_10,param_11,param_12,iVar2);
    return iVar1;
  }
code_r0x800226c4:
  if ((param_11 & 0x10) == 0) {
    if (((param_11 & 8) != 0) && (iVar2 = (int)param_12, param_11._1_1_ != 0)) {
      iVar2 = (int)param_12 + -1;
    }
    if (iVar2 < 1) {
      iVar2 = 1;
    }
  }
  unaff_s0 = 0;
  if (piVar9 != (int *)0x0) {
    uVar12 = 0xcccccccd;
    piVar8 = piVar9;
    do {
      unaff_s1 = (int *)((int)unaff_s1 + -1);
      unaff_s0 = unaff_s0 + 1;
      piVar9 = (int *)((uint)piVar8 / 10);
      *(byte *)unaff_s1 = (char)piVar8 + (char)piVar9 * -10 + 0x30;
      piVar8 = piVar9;
    } while (piVar9 != (int *)0x0);
  }
  for (; (int)unaff_s0 < iVar2; unaff_s0 = unaff_s0 + 1) {
    unaff_s1 = (int *)((int)unaff_s1 + -1);
    *(byte *)unaff_s1 = 0x30;
  }
  in_stack_00000220 = in_stack_00000220 + 1;
  if (param_11._1_1_ != 0) {
    *(byte *)((int)unaff_s1 + -1) = param_11._1_1_;
    iVar1 = SPRINTF_OBJ_770((char)piVar9,(char)uVar12,0x23,uVar14,param_5,param_6,param_7,param_8,
                            param_9,param_10,param_11,param_12);
    return iVar1;
  }
  goto code_r0x80022aac;
}



int SPRINTF_OBJ_804(undefined param_1,undefined param_2,undefined param_3,byte param_4,
                   undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                   undefined param_9,undefined param_10,uint param_11,int *param_12,int *param_13,
                   undefined4 param_14,undefined4 param_15,undefined4 param_16,undefined4 param_17,
                   undefined4 param_18,undefined4 param_19,undefined4 param_20,undefined4 param_21,
                   int param_22)

{
  byte *pbVar1;
  int iVar2;
  void *pvVar3;
  int iVar4;
  undefined *puVar5;
  undefined uVar6;
  int *piVar7;
  int *piVar8;
  uchar *puVar9;
  byte bVar10;
  uint uVar11;
  undefined uVar12;
  undefined uVar13;
  char *pcVar14;
  uint uVar15;
  int *piVar16;
  int unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int **ppiVar17;
  int **in_stack_00000220;
  
  pcVar14 = (char *)(uint)param_4;
  while( true ) {
    uVar13 = SUB41(pcVar14,0);
    iVar4 = param_22 + 1;
    uVar11 = (uint)*(byte *)(param_22 + 1);
    if (uVar11 == 0) break;
    param_22 = iVar4;
    if (uVar11 == 0x25) {
      param_11 = DAT_80031cb0;
      param_12 = (int *)DAT_80031cb4;
      param_13 = (int *)DAT_80031cb8;
      uVar12 = 0x23;
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              while( true ) {
                iVar4 = param_22;
                param_22 = param_22 + 1;
                uVar11 = (uint)*(byte *)(iVar4 + 1);
                if (uVar11 != unaff_s6) break;
                param_11 = param_11 | 1;
              }
              if (uVar11 != unaff_s5) break;
              param_11 = param_11 | 2;
            }
            if (uVar11 != unaff_s4) break;
            param_11._0_2_ = CONCAT11(*(byte *)(iVar4 + 1),(byte)param_11);
          }
          if (uVar11 != 0x23) break;
          param_11 = param_11 | 4;
        }
        if (uVar11 != 0x30) break;
        param_11 = param_11 | 8;
      }
      if (uVar11 == 0x2a) {
        param_12 = *in_stack_00000220;
        if ((int)param_12 < 0) {
          param_12 = (int *)-(int)param_12;
          param_11 = param_11 | 1;
        }
        param_22 = iVar4 + 2;
        iVar4 = SPRINTF_OBJ_1C0(iVar4,(uint)*(byte *)(iVar4 + 2),0x23,uVar13,param_5,param_6,param_7
                                ,param_8,param_9,param_10,DAT_80031cb8,in_stack_00000220 + 1,
                                param_22);
        return iVar4;
      }
      while (iVar2 = param_22, uVar11 - 0x30 < 10) {
        param_12 = (int *)((int)param_12 * 10 + -0x30 + uVar11);
        param_22 = param_22 + 1;
        uVar11 = (uint)*(byte *)(iVar2 + 1);
      }
      if (uVar11 == 0x2e) {
        param_22 = param_22 + 1;
        uVar11 = (uint)*(byte *)(iVar2 + 1);
        if (uVar11 == 0x2a) {
          param_13 = *in_stack_00000220;
          param_22 = iVar2 + 2;
          iVar4 = SPRINTF_OBJ_260(iVar2,(uint)*(byte *)(iVar2 + 2),0x23,uVar13,param_5,param_6,
                                  param_7,param_8,param_9,param_10,param_11,param_13);
          return iVar4;
        }
        while (iVar4 = param_22, uVar11 - 0x30 < 10) {
          param_13 = (int *)((int)param_13 * 10 + -0x30 + uVar11);
          param_22 = param_22 + 1;
          uVar11 = (uint)*(byte *)(iVar4 + 1);
        }
        iVar4 = iVar2;
        if (-1 < (int)param_13) {
          param_11 = param_11 | 0x10;
        }
      }
      piVar16 = (int *)&param_11;
      if ((param_11 & 1) != 0) {
        param_11 = param_11 & 0xfffffff7;
      }
      bVar10 = (byte)uVar11;
      uVar6 = (undefined)iVar4;
      switch(uVar11) {
      case 0x4c:
        param_11 = param_11 | 0x80;
        pbVar1 = (byte *)(param_22 + 1);
        param_22 = param_22 + 1;
        iVar4 = SPRINTF_OBJ_2A4(iVar4,(uint)*pbVar1);
        return iVar4;
      default:
        if (uVar11 == 0x25) goto SPRINTF_OBJ_764;
        goto SPRINTF_OBJ_824;
      case 99:
        iVar4 = SPRINTF_OBJ_770(uVar6,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12);
        return iVar4;
      case 100:
      case 0x69:
        piVar8 = *in_stack_00000220;
        if ((param_11 & 0x20) != 0) {
          piVar8 = (int *)(int)(short)piVar8;
        }
        if ((int)piVar8 < 0) {
          param_11._0_2_ = CONCAT11((char)unaff_s6,(byte)param_11);
          iVar4 = SPRINTF_OBJ_388((int *)-(int)piVar8,bVar10,0x23,uVar13,param_5,param_6,param_7,
                                  param_8,param_9,param_10,param_11,param_12,param_13);
          return iVar4;
        }
        if ((param_11 & 2) != 0) {
          param_11._0_2_ = CONCAT11((char)unaff_s5,(byte)param_11);
          iVar4 = SPRINTF_OBJ_388(piVar8,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                                  param_10,param_11,param_12,param_13);
          return iVar4;
        }
        goto code_r0x800226c4;
      case 0x68:
        iVar4 = SPRINTF_OBJ_2EC(iVar4,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_22);
        return iVar4;
      case 0x6c:
        iVar4 = SPRINTF_OBJ_2EC(iVar4,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_22);
        return iVar4;
      case 0x6e:
        if ((param_11 & 0x20) != 0) {
          *(short *)*in_stack_00000220 = (short)unaff_s2;
          iVar4 = SPRINTF_OBJ_804(uVar6,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                                  param_10,param_11,param_12,param_13,param_14,param_15,param_16,
                                  param_17,param_18,param_19,param_20,param_21,param_22);
          return iVar4;
        }
        **in_stack_00000220 = unaff_s2;
        iVar4 = SPRINTF_OBJ_804(uVar6,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9,
                                param_10,param_11,param_12,param_13,param_14,param_15,param_16,
                                param_17,param_18,param_19,param_20,param_21,param_22);
        return iVar4;
      case 0x6f:
        ppiVar17 = in_stack_00000220 + 1;
        piVar8 = *in_stack_00000220;
        if ((param_11 & 0x20) != 0) {
          piVar8 = (int *)((uint)piVar8 & 0xffff);
        }
        if ((param_11 & 0x10) == 0) {
          if ((param_11 & 8) != 0) {
            param_13 = param_12;
          }
          if ((int)param_13 < 1) {
            param_13 = (int *)0x1;
          }
        }
        uVar15 = 0;
        for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 3)) {
          piVar16 = (int *)((int)piVar16 + -1);
          *(byte *)piVar16 = ((byte)piVar8 & 7) + 0x30;
          uVar15 = uVar15 + 1;
        }
        if ((((param_11 & 4) != 0) && (uVar15 != 0)) && (*(byte *)piVar16 != 0x30)) {
          piVar16 = (int *)((int)piVar16 + -1);
          *(byte *)piVar16 = 0x30;
          uVar15 = uVar15 + 1;
        }
        if ((int)uVar15 < (int)param_13) {
          do {
            piVar16 = (int *)((int)piVar16 + -1);
            *(byte *)piVar16 = 0x30;
            uVar15 = uVar15 + 1;
          } while ((int)uVar15 < (int)param_13);
          iVar4 = SPRINTF_OBJ_770((byte)piVar8,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,
                                  param_9,param_10,param_11,param_12);
          return iVar4;
        }
        break;
      case 0x70:
        param_13 = (int *)0x8;
        param_11 = param_11 | 0x50;
      case 0x58:
        iVar4 = SPRINTF_OBJ_590(iVar4,uVar11,0x23,s_0123456789ABCDEF_8001047c,param_5,param_6,
                                param_7,param_8,param_9,param_10,param_11,param_12,param_13,
                                in_stack_00000220);
        return iVar4;
      case 0x73:
        ppiVar17 = in_stack_00000220 + 1;
        piVar16 = *in_stack_00000220;
        if ((param_11 & 4) == 0) {
          if ((param_11 & 0x10) == 0) {
            strlen((char *)piVar16);
            iVar4 = SPRINTF_OBJ_770((char)piVar16,(char)uVar11,uVar12,uVar13,param_5,param_6,param_7
                                    ,param_8,param_9,param_10,param_11,param_12);
            return iVar4;
          }
          uVar13 = 0;
          piVar8 = piVar16;
          iVar4 = (int)param_13;
          pvVar3 = memchr((uchar *)piVar16,'\0',(int)param_13);
          uVar15 = (int)pvVar3 - (int)piVar16;
          if (pvVar3 == (void *)0x0) {
            iVar4 = SPRINTF_OBJ_770((char)piVar8,uVar13,(char)iVar4,(char)pcVar14,param_5,param_6,
                                    param_7,param_8,param_9,param_10,param_11,param_12);
            return iVar4;
          }
        }
        else {
          uVar15 = (uint)*(byte *)piVar16;
          piVar16 = (int *)((int)piVar16 + 1);
          if (((param_11 & 0x10) != 0) && ((int)param_13 < (int)uVar15)) {
            iVar4 = SPRINTF_OBJ_770(uVar6,bVar10,0x23,uVar13,param_5,param_6,param_7,param_8,param_9
                                    ,param_10,param_11,param_12);
            return iVar4;
          }
        }
        break;
      case 0x75:
        piVar8 = *in_stack_00000220;
        uVar15 = param_11 & 0x20;
        param_11._0_2_ = (ushort)(byte)param_11;
        if (uVar15 != 0) {
          piVar8 = (int *)((uint)piVar8 & 0xffff);
        }
code_r0x800226c4:
        ppiVar17 = in_stack_00000220 + 1;
        if ((param_11 & 0x10) == 0) {
          if (((param_11 & 8) != 0) && (param_13 = param_12, param_11._1_1_ != 0)) {
            param_13 = (int *)((int)param_12 + -1);
          }
          if ((int)param_13 < 1) {
            param_13 = (int *)0x1;
          }
        }
        uVar15 = 0;
        if (piVar8 != (int *)0x0) {
          uVar11 = 0xcccccccd;
          piVar7 = piVar8;
          do {
            piVar16 = (int *)((int)piVar16 + -1);
            uVar15 = uVar15 + 1;
            piVar8 = (int *)((uint)piVar7 / 10);
            *(byte *)piVar16 = (char)piVar7 + (char)piVar8 * -10 + 0x30;
            piVar7 = piVar8;
          } while (piVar8 != (int *)0x0);
        }
        for (; (int)uVar15 < (int)param_13; uVar15 = uVar15 + 1) {
          piVar16 = (int *)((int)piVar16 + -1);
          *(byte *)piVar16 = 0x30;
        }
        if (param_11._1_1_ != 0) {
          *(byte *)((int)piVar16 + -1) = param_11._1_1_;
          iVar4 = SPRINTF_OBJ_770((char)piVar8,(char)uVar11,0x23,uVar13,param_5,param_6,param_7,
                                  param_8,param_9,param_10,param_11,param_12);
          return iVar4;
        }
        break;
      case 0x78:
        pcVar14 = s_0123456789abcdef_80010490;
        ppiVar17 = in_stack_00000220 + 1;
        piVar8 = *in_stack_00000220;
        if ((param_11 & 0x20) != 0) {
          piVar8 = (int *)((uint)piVar8 & 0xffff);
        }
        if ((param_11 & 0x10) == 0) {
          iVar4 = 0x23;
          if (((param_11 & 8) != 0) &&
             (param_13 = param_12, iVar4 = (int)param_12, (param_11 & 4) != 0)) {
            param_13 = (int *)((int)param_12 + -2);
          }
          uVar12 = (undefined)iVar4;
          if ((int)param_13 < 1) {
            param_13 = (int *)0x1;
          }
        }
        uVar15 = 0;
        for (; piVar8 != (int *)0x0; piVar8 = (int *)((uint)piVar8 >> 4)) {
          piVar16 = (int *)((int)piVar16 + -1);
          uVar15 = uVar15 + 1;
          *(char *)piVar16 = s_0123456789abcdef_80010490[(uint)piVar8 & 0xf];
        }
        for (; (int)uVar15 < (int)param_13; uVar15 = uVar15 + 1) {
          piVar16 = (int *)((int)piVar16 + -1);
          *(byte *)piVar16 = 0x30;
        }
        if ((param_11 & 4) != 0) {
          *(byte *)((int)piVar16 + -1) = bVar10;
          *(byte *)((int)piVar16 + -2) = 0x30;
          iVar4 = SPRINTF_OBJ_770(0,bVar10,uVar12,0x90,param_5,param_6,param_7,param_8,param_9,
                                  param_10,param_11,param_12);
          return iVar4;
        }
      }
      puVar9 = (uchar *)(unaff_s3 + unaff_s2);
      if (((int)uVar15 < (int)param_12) && ((param_11 & 1) == 0)) {
        puVar5 = (undefined *)(unaff_s2 + unaff_s3);
        do {
          *puVar5 = (char)unaff_s4;
          puVar5 = puVar5 + 1;
          param_12 = (int *)((int)param_12 + -1);
          unaff_s2 = unaff_s2 + 1;
        } while ((int)uVar15 < (int)param_12);
        puVar9 = (uchar *)(unaff_s3 + unaff_s2);
      }
      memmove(puVar9,(uchar *)piVar16,uVar15);
      unaff_s2 = unaff_s2 + uVar15;
      in_stack_00000220 = ppiVar17;
      if ((int)uVar15 < (int)param_12) {
        puVar5 = (undefined *)(unaff_s2 + unaff_s3);
        do {
          *puVar5 = (char)unaff_s4;
          puVar5 = puVar5 + 1;
          uVar15 = uVar15 + 1;
          unaff_s2 = unaff_s2 + 1;
        } while ((int)uVar15 < (int)param_12);
      }
    }
    else {
SPRINTF_OBJ_764:
      *(char *)(unaff_s3 + unaff_s2) = (char)uVar11;
      unaff_s2 = unaff_s2 + 1;
    }
  }
SPRINTF_OBJ_824:
  *(undefined *)(unaff_s3 + unaff_s2) = 0;
  return unaff_s2;
}



int strlen(char *param_1)

{
  int iVar1;
  
                    // WARNING: Treating indirect jump as call
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



void * memchr(uchar *param_1,uchar param_2,int param_3)

{
  void *pvVar1;
  
                    // WARNING: Treating indirect jump as call
  pvVar1 = (void *)(*(code *)&LAB_000000a0)();
  return pvVar1;
}



void * memmove(uchar *param_1,uchar *param_2,int param_3)

{
  bool bVar1;
  uchar uVar2;
  void *pvVar3;
  uchar *puVar4;
  int iVar5;
  uchar *puVar6;
  
  if (param_1 < param_2) {
    iVar5 = param_3 + -1;
    if (0 < param_3) {
      do {
        uVar2 = *param_2;
        param_2 = param_2 + 1;
        *param_1 = uVar2;
        bVar1 = 0 < iVar5;
        param_1 = param_1 + 1;
        iVar5 = iVar5 + -1;
      } while (bVar1);
    }
  }
  else {
    iVar5 = param_3 + -1;
    if (0 < param_3) {
      puVar6 = param_1 + iVar5;
      puVar4 = param_2 + iVar5;
      do {
        uVar2 = *puVar4;
        puVar4 = puVar4 + -1;
        *puVar6 = uVar2;
        bVar1 = 0 < iVar5;
        puVar6 = puVar6 + -1;
        iVar5 = iVar5 + -1;
      } while (bVar1);
      pvVar3 = (void *)MEMMOVE_OBJ_64(param_1);
      return pvVar3;
    }
  }
  return param_1;
}



undefined4 MEMMOVE_OBJ_64(undefined4 param_1)

{
  return param_1;
}



u_short LoadTPage(u_long *pix,int tp,int abr,int x,int y,int w,int h)

{
  u_short uVar1;
  uint uVar2;
  undefined uVar3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_retaddr;
  undefined in_stack_ffffffe4;
  
  if (tp == 1) {
    uVar1 = EXT_OBJ_A8();
    return uVar1;
  }
  uVar3 = (undefined)x;
  if (tp < 2) {
    if (tp != 0) {
      uVar2 = EXT_OBJ_AC((RECT *)&stack0xffffffe0,(char)tp,(char)abr,uVar3,uVar3,in_stack_ffffffe4,
                         unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_retaddr);
      return (u_short)uVar2;
    }
    uVar1 = EXT_OBJ_A8();
    return uVar1;
  }
  if (tp != 2) {
    uVar2 = EXT_OBJ_AC((RECT *)&stack0xffffffe0,(char)tp,(char)abr,uVar3,uVar3,in_stack_ffffffe4,
                       unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_retaddr);
    return (u_short)uVar2;
  }
  LoadImage((RECT *)&stack0xffffffe0,pix);
  uVar1 = GetTPage(2,abr,x,y);
  return uVar1;
}



u_short EXT_OBJ_A8(void)

{
  u_short uVar1;
  u_long *in_t0;
  int unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  
  LoadImage((RECT *)&stack0x00000010,in_t0);
  uVar1 = GetTPage(unaff_s0,unaff_s2,unaff_s1,unaff_s3);
  return uVar1;
}



uint EXT_OBJ_AC(RECT *param_1,undefined param_2,undefined param_3,undefined param_4,
               undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8,
               undefined4 param_9,undefined4 param_10,undefined4 param_11)

{
  u_short uVar1;
  u_long *in_t0;
  int unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  
  LoadImage(param_1,in_t0);
  uVar1 = GetTPage(unaff_s0,unaff_s2,unaff_s1,unaff_s3);
  return (uint)uVar1;
}



u_short LoadClut(u_long *clut,int x,int y)

{
  u_short uVar1;
  RECT local_18;
  
  local_18.w = 0x100;
  local_18.x = (short)x;
  local_18.y = (short)y;
  local_18.h = 1;
  LoadImage(&local_18,clut);
  uVar1 = GetClut(x,y);
  return uVar1;
}



uint LoadClut2(u_long *param_1,int param_2,uint param_3)

{
  u_short uVar1;
  RECT local_18;
  
  local_18.w = 0x10;
  local_18.x = (short)param_2;
  local_18.y = (short)param_3;
  local_18.h = 1;
  LoadImage(&local_18,param_1);
  uVar1 = GetClut(param_2,param_3);
  return (uint)uVar1;
}



DRAWENV * SetDefDrawEnv(DRAWENV *env,int x,int y,int w,int h)

{
  int iVar1;
  DRAWENV *pDVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_retaddr;
  
  pDVar2 = env;
  iVar3 = x;
  iVar4 = y;
  iVar5 = w;
  iVar1 = GetVideoMode();
  (env->clip).x = (short)x;
  (env->clip).y = (short)y;
  (env->clip).w = (short)w;
  (env->tw).x = 0;
  (env->tw).y = 0;
  (env->tw).w = 0;
  (env->tw).h = 0;
  env->r0 = '\0';
  env->g0 = '\0';
  env->b0 = '\0';
  env->dtd = '\x01';
  (env->clip).h = (short)h;
  if (iVar1 != 0) {
    pDVar2 = (DRAWENV *)
             EXT_OBJ_234((char)pDVar2,(char)iVar3,(char)iVar4,(char)iVar5,unaff_s0,unaff_s1,unaff_s2
                         ,unaff_s3,unaff_s4,unaff_retaddr);
    return pDVar2;
  }
  env->dfe = h < 0x101;
  env->ofs[0] = (short)x;
  env->ofs[1] = (short)y;
  iVar3 = GetGraphType();
  if (iVar3 != 1) {
    GetGraphType();
  }
  env->tpage = 10;
  env->isbg = '\0';
  return env;
}



void EXT_OBJ_234(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                undefined4 param_9,undefined4 param_10)

{
  undefined in_v0;
  int iVar1;
  int unaff_s1;
  undefined2 unaff_s3;
  undefined2 unaff_s4;
  
  *(undefined *)(unaff_s1 + 0x17) = in_v0;
  *(undefined2 *)(unaff_s1 + 8) = unaff_s3;
  *(undefined2 *)(unaff_s1 + 10) = unaff_s4;
  iVar1 = GetGraphType();
  if (iVar1 != 1) {
    GetGraphType();
  }
  *(undefined2 *)(unaff_s1 + 0x14) = 10;
  *(undefined *)(unaff_s1 + 0x18) = 0;
  return;
}



DISPENV * SetDefDispEnv(DISPENV *env,int x,int y,int w,int h)

{
  (env->disp).x = (short)x;
  (env->disp).y = (short)y;
  (env->disp).w = (short)w;
  (env->screen).x = 0;
  (env->screen).y = 0;
  (env->screen).w = 0;
  (env->screen).h = 0;
  env->isrgb24 = '\0';
  env->isinter = '\0';
  env->pad1 = '\0';
  env->pad0 = '\0';
  (env->disp).h = (short)h;
  return env;
}



void SetDumpFnt(int id)

{
  if ((-1 < id) && (id <= DAT_80031e3c)) {
    PTR_printf_80032890 = FntPrint;
    DAT_80031e40 = id;
  }
  return;
}



void FntLoad(int tx,int ty)

{
  uint uVar1;
  
  uVar1 = LoadClut2(&DAT_80031e44,tx,ty + 0x80);
  DAT_80036eb0 = (undefined2)uVar1;
  DAT_80036eac = LoadTPage((u_long *)&DAT_80032044,0,0,tx,ty,0x80,0x20);
  DAT_80031e3c = 0;
  memset(&DAT_80031cbc,'\0',0x180);
  return;
}



int FntOpen(int x,int y,int w,int h,int isbg,int n)

{
  int iVar1;
  int iVar2;
  undefined4 unaff_s0;
  SPRT_8 *p;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_s6;
  undefined4 unaff_s7;
  undefined4 unaff_retaddr;
  undefined in_stack_ffffffc0;
  undefined in_stack_ffffffc4;
  undefined in_stack_ffffffc8;
  undefined in_stack_ffffffcc;
  undefined in_stack_ffffffd0;
  undefined in_stack_ffffffd4;
  
  if (7 < DAT_80031e3c) {
    iVar1 = FONT_OBJ_36C((char)x,(char)y,(char)w,(char)h,in_stack_ffffffc0,in_stack_ffffffc4,
                         in_stack_ffffffc8,in_stack_ffffffcc,in_stack_ffffffd0,in_stack_ffffffd4,
                         unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,unaff_s5,unaff_s6,unaff_s7,
                         unaff_retaddr);
    return iVar1;
  }
  if (DAT_80031e3c == 0) {
    DAT_80032844 = 0;
  }
  iVar1 = DAT_80032844;
  iVar2 = DAT_80031e3c * 0x30;
  *(uint *)(&DAT_80031ce8 + iVar2) = (uint)(w == 0);
  if (0x400 < n + iVar1) {
    n = 0x400 - iVar1;
  }
  SetDrawMode((DR_MODE *)(iVar2 + -0x7ffce334),0,0,(uint)DAT_80036eac,(RECT *)&stack0xffffffc8);
  if (isbg != 0) {
    SetTile((TILE *)(&DAT_80031cbc + DAT_80031e3c * 0x30));
    (&DAT_80031cc0)[DAT_80031e3c * 0x30] = 0;
    (&DAT_80031cc1)[DAT_80031e3c * 0x30] = 0;
    (&DAT_80031cc2)[DAT_80031e3c * 0x30] = 0;
    SetSemiTrans(&DAT_80031cbc + DAT_80031e3c * 0x30,(uint)(isbg == 2));
  }
  iVar1 = DAT_80032844;
  iVar2 = DAT_80031e3c * 0x30;
  *(short *)(&DAT_80031cc4 + iVar2) = (short)x;
  *(short *)(&DAT_80031cc6 + iVar2) = (short)y;
  *(short *)(&DAT_80031cc8 + iVar2) = (short)w;
  *(short *)(&DAT_80031cca + iVar2) = (short)h;
  *(int *)(&DAT_80031cd8 + iVar2) = n;
  *(undefined4 *)(&DAT_80031ce4 + iVar2) = 0;
  *(undefined1 **)(&DAT_80031ce0 + iVar2) = &DAT_80032aac + iVar1;
  *(undefined **)(&DAT_80031cdc + iVar2) = &DAT_80032eac + iVar1 * 0x10;
  **(undefined **)(&DAT_80031ce0 + iVar2) = 0;
  p = *(SPRT_8 **)(&DAT_80031cdc + DAT_80031e3c * 0x30);
  iVar1 = 0;
  if (0 < n) {
    do {
      SetSprt8(p);
      iVar1 = iVar1 + 1;
      p->clut = DAT_80036eb0;
      p = p + 1;
    } while (iVar1 < n);
  }
  iVar1 = DAT_80031e3c;
  DAT_80032844 = n + DAT_80032844;
  DAT_80031e3c = DAT_80031e3c + 1;
  return iVar1;
}



void FONT_OBJ_36C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                 undefined param_9,undefined param_10,undefined4 param_11,undefined4 param_12,
                 undefined4 param_13,undefined4 param_14,undefined4 param_15,undefined4 param_16,
                 undefined4 param_17,undefined4 param_18,undefined4 param_19)

{
  return;
}



u_long * FntFlush(int id)

{
  byte bVar1;
  bool bVar2;
  int iVar3;
  u_long *puVar4;
  int iVar5;
  uint *puVar6;
  int iVar7;
  u_long *puVar8;
  int iVar9;
  u_long *ot;
  void *in_a1;
  u_long *puVar10;
  undefined in_a3;
  undefined4 unaff_s0;
  byte *pbVar11;
  byte *pbVar12;
  undefined4 unaff_s1;
  int iVar13;
  undefined4 unaff_s2;
  void *p;
  void *pvVar14;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  int iVar15;
  undefined4 unaff_s6;
  int iVar16;
  undefined4 unaff_s7;
  int iVar17;
  undefined4 unaff_s8;
  undefined4 unaff_retaddr;
  undefined in_stack_ffffffa8;
  u_long *p_00;
  undefined in_stack_ffffffac;
  short sVar18;
  int iVar19;
  undefined in_stack_ffffffb4;
  undefined in_stack_ffffffb8;
  undefined in_stack_ffffffbc;
  int iVar20;
  int iVar21;
  uint uVar22;
  
  iVar20 = 0x80;
  iVar21 = 0x80;
  iVar19 = 0;
  uVar22 = 0x80;
  if (((id < 0) || (iVar3 = id << 1, DAT_80031e3c <= id)) &&
     (iVar3 = DAT_80031e40 << 1, id = DAT_80031e40,
     *(int *)(&DAT_80031ce0 + DAT_80031e40 * 0x30) == 0)) {
    puVar4 = (u_long *)
             FONT_OBJ_68C((char)DAT_80031e40,(char)in_a1,0x80,in_a3,in_stack_ffffffa8,
                          in_stack_ffffffac,0,in_stack_ffffffb4,in_stack_ffffffb8,in_stack_ffffffbc,
                          unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,unaff_s5,unaff_s6,unaff_s7,
                          unaff_s8,unaff_retaddr);
    return puVar4;
  }
  iVar5 = (iVar3 + id) * 0x10;
  puVar4 = (u_long *)(iVar5 + -0x7ffce334);
  pbVar11 = *(byte **)(&DAT_80031ce0 + iVar5);
  iVar3 = *(int *)(&DAT_80031cd8 + iVar5);
  iVar13 = (int)*(short *)(&DAT_80031cc4 + iVar5);
  iVar15 = (int)*(short *)(&DAT_80031cc6 + iVar5);
  puVar8 = (u_long *)(iVar15 + *(short *)(&DAT_80031cca + iVar5));
  p = *(void **)(&DAT_80031cdc + iVar5);
  iVar16 = *(int *)(&DAT_80031ce8 + iVar5);
  iVar17 = iVar13 + *(short *)(&DAT_80031cc8 + iVar5);
  puVar10 = puVar4;
  ot = puVar4;
  TermPrim(puVar4);
  bVar1 = *pbVar11;
  for (; (p_00 = ot, bVar1 != 0 && (iVar3 != 0)); iVar3 = iVar3 + -1) {
    bVar1 = *pbVar11;
    bVar2 = false;
    pvVar14 = p;
    pbVar12 = pbVar11;
    if (bVar1 == 0x20) {
FONT_OBJ_5C8:
      iVar13 = iVar13 + 8;
      if ((iVar17 <= iVar13) && (iVar16 == 0)) {
FONT_OBJ_5E0:
        bVar2 = true;
      }
    }
    else {
      if (bVar1 < 0x21) {
        if (bVar1 == 9) {
          puVar6 = FONT_OBJ_5CC();
          return puVar6;
        }
        if (bVar1 != 10) {
          puVar6 = FONT_OBJ_538();
          return puVar6;
        }
        goto FONT_OBJ_5E0;
      }
      if (bVar1 != 0x7e) {
        if (*pbVar11 - 0x61 < 0x1a) {
          puVar6 = FONT_OBJ_568((char)puVar4,(char)in_a1,(char)puVar10,in_a3,ot,in_stack_ffffffac,
                                (char)iVar19,in_stack_ffffffb4,(char)puVar8,in_stack_ffffffbc,
                                (char)iVar20,(char)iVar21,(char)uVar22);
          return puVar6;
        }
        iVar9 = *pbVar11 - 0x20;
        iVar7 = iVar9;
        if (iVar9 < 0) {
          iVar7 = *pbVar11 - 0x11;
        }
        *(char *)((int)p + 0xc) = ((char)iVar9 + (char)(iVar7 >> 4) * -0x10) * '\b';
        *(char *)((int)p + 0xd) = (char)((iVar7 >> 4) << 3);
        *(short *)((int)p + 8) = (short)iVar13;
        *(short *)((int)p + 10) = (short)iVar15;
        *(char *)((int)p + 4) = (char)iVar20;
        *(char *)((int)p + 5) = (char)iVar21;
        puVar10 = (u_long *)(uVar22 & 0xff);
        *(char *)((int)p + 6) = (char)uVar22;
        pvVar14 = (void *)((int)p + 0x10);
        AddPrim(ot,p);
        puVar4 = ot;
        in_a1 = p;
        goto FONT_OBJ_5C8;
      }
      pbVar12 = pbVar11 + 1;
      if (pbVar11[1] == 99) {
        iVar20 = (pbVar11[2] - 0x30) * 0x10;
        iVar21 = (pbVar11[3] - 0x30) * 0x10;
        uVar22 = (pbVar11[4] - 0x30) * 0x10;
        pbVar12 = pbVar11 + 4;
      }
    }
    if (bVar2) {
      iVar15 = iVar15 + 8;
      if (iVar19 < iVar13) {
        iVar19 = iVar13;
      }
      iVar13 = (int)*(short *)(&DAT_80031cc4 + iVar5);
      puVar10 = puVar8;
      if ((int)puVar8 <= iVar15) break;
    }
    pbVar11 = pbVar12 + 1;
    bVar1 = *pbVar11;
    p = pvVar14;
    ot = p_00;
  }
  sVar18 = (short)iVar19;
  if (((&DAT_80031cc3)[iVar5] != '\0') && (AddPrim(p_00,&DAT_80031cbc + iVar5), iVar16 != 0)) {
    *(short *)(&DAT_80031cc8 + iVar5) = sVar18 - *(short *)(&DAT_80031cc4 + iVar5);
    *(short *)(&DAT_80031cca + iVar5) = (short)iVar15 - (*(short *)(&DAT_80031cc6 + iVar5) + -8);
  }
  DrawOTag(p_00);
  *(undefined4 *)(&DAT_80031ce4 + iVar5) = 0;
  **(undefined **)(&DAT_80031ce0 + iVar5) = 0;
  return p_00;
}



uint * FONT_OBJ_538(void)

{
  byte bVar1;
  uint *puVar2;
  int iVar3;
  int iVar4;
  u_long *in_a0;
  void *in_a1;
  void *p;
  uint in_a2;
  undefined in_a3;
  byte *unaff_s0;
  byte *pbVar5;
  int unaff_s1;
  void *unaff_s2;
  void *unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  u_long *in_stack_00000010;
  undefined in_stack_00000014;
  undefined uVar6;
  int in_stack_00000018;
  undefined in_stack_0000001c;
  undefined uVar7;
  uint in_stack_00000020;
  undefined in_stack_00000024;
  char in_stack_00000028;
  char in_stack_00000030;
  undefined uVar8;
  uint in_stack_00000038;
  
code_r0x80023424:
  p = unaff_s2;
  if (*unaff_s0 - 0x61 < 0x1a) {
    puVar2 = FONT_OBJ_568((char)in_a0,(char)in_a1,(char)in_a2,in_a3,in_stack_00000010,
                          in_stack_00000014,uVar6,in_stack_0000001c,uVar7,in_stack_00000024,
                          in_stack_00000028,in_stack_00000030,uVar8);
    return puVar2;
  }
  iVar4 = *unaff_s0 - 0x20;
  iVar3 = iVar4;
  if (iVar4 < 0) {
    iVar3 = *unaff_s0 - 0x11;
  }
  *(char *)((int)p + 0xc) = ((char)iVar4 + (char)(iVar3 >> 4) * -0x10) * '\b';
  *(char *)((int)p + 0xd) = (char)((iVar3 >> 4) << 3);
  *(short *)((int)p + 8) = (short)unaff_s1;
  *(short *)((int)p + 10) = (short)unaff_s5;
  *(char *)((int)p + 4) = in_stack_00000028;
  *(char *)((int)p + 5) = in_stack_00000030;
  in_a2 = in_stack_00000038 & 0xff;
  *(undefined *)((int)p + 6) = uVar8;
  unaff_s2 = (void *)((int)p + 0x10);
  in_a0 = in_stack_00000010;
  AddPrim(in_stack_00000010,p);
FONT_OBJ_5C8:
  unaff_s1 = unaff_s1 + 8;
  if (unaff_s1 < unaff_s7) goto FONT_OBJ_5E4;
  if (unaff_s6 != 0) goto FONT_OBJ_5E4;
  do {
    unaff_s4 = 1;
FONT_OBJ_5E4:
    pbVar5 = unaff_s0;
    if (unaff_s4 != 0) {
      unaff_s5 = unaff_s5 + 8;
      if (in_stack_00000018 < unaff_s1) {
        in_stack_00000018 = unaff_s1;
      }
      unaff_s1 = (int)*(short *)((int)unaff_s3 + 8);
      in_a2 = in_stack_00000020;
      if ((int)in_stack_00000020 <= unaff_s5) goto FONT_OBJ_62C;
    }
    unaff_s0 = pbVar5 + 1;
    unaff_s8 = unaff_s8 + -1;
    if ((*unaff_s0 == 0) || (unaff_s8 == 0)) {
FONT_OBJ_62C:
      if ((*(char *)((int)unaff_s3 + 7) != '\0') &&
         (AddPrim(in_stack_00000010,unaff_s3), unaff_s6 != 0)) {
        *(short *)((int)unaff_s3 + 0xc) = (short)in_stack_00000018 - *(short *)((int)unaff_s3 + 8);
        *(short *)((int)unaff_s3 + 0xe) = (short)unaff_s5 - (*(short *)((int)unaff_s3 + 10) + -8);
      }
      DrawOTag(in_stack_00000010);
      *(undefined4 *)((int)unaff_s3 + 0x28) = 0;
      **(undefined **)((int)unaff_s3 + 0x24) = 0;
      return in_stack_00000010;
    }
    bVar1 = *unaff_s0;
    unaff_s4 = 0;
    if (bVar1 == 0x20) goto FONT_OBJ_5C8;
    if (0x20 < bVar1) {
      in_a1 = p;
      if (bVar1 != 0x7e) goto code_r0x80023424;
      unaff_s0 = pbVar5 + 2;
      if (pbVar5[2] == 99) {
        in_stack_00000028 = pbVar5[3] * '\x10';
        in_stack_00000030 = pbVar5[4] * '\x10';
        in_stack_00000038 = (pbVar5[5] - 0x30) * 0x10;
        unaff_s0 = pbVar5 + 5;
      }
      goto FONT_OBJ_5E4;
    }
    if (bVar1 == 9) {
      puVar2 = FONT_OBJ_5CC();
      return puVar2;
    }
    if (bVar1 != 10) {
      puVar2 = FONT_OBJ_538();
      return puVar2;
    }
  } while( true );
}



uint * FONT_OBJ_568(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   u_long *param_5,undefined param_6,undefined param_7,undefined param_8,
                   undefined param_9,undefined param_10,char param_11,char param_12,byte param_13)

{
  byte bVar1;
  uint *puVar2;
  int iVar3;
  int in_v1;
  u_long *puVar4;
  uint uVar5;
  byte *unaff_s0;
  byte *pbVar6;
  int unaff_s1;
  void *unaff_s2;
  void *pvVar7;
  void *unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  undefined3 in_stack_00000019;
  undefined3 in_stack_00000021;
  
  _param_13 = (uint)param_13;
code_r0x80023454:
  iVar3 = in_v1;
  if (in_v1 < 0) {
    iVar3 = in_v1 + 0xf;
  }
  *(char *)((int)unaff_s2 + 0xc) = ((char)in_v1 + (char)(iVar3 >> 4) * -0x10) * '\b';
  *(char *)((int)unaff_s2 + 0xd) = (char)((iVar3 >> 4) << 3);
  *(short *)((int)unaff_s2 + 8) = (short)unaff_s1;
  *(short *)((int)unaff_s2 + 10) = (short)unaff_s5;
  *(char *)((int)unaff_s2 + 4) = param_11;
  *(char *)((int)unaff_s2 + 5) = param_12;
  uVar5 = _param_13 & 0xff;
  *(byte *)((int)unaff_s2 + 6) = param_13;
  pvVar7 = (void *)((int)unaff_s2 + 0x10);
  puVar4 = param_5;
  AddPrim(param_5,unaff_s2);
FONT_OBJ_5C8:
  unaff_s1 = unaff_s1 + 8;
  if (unaff_s1 < unaff_s7) goto FONT_OBJ_5E4;
  if (unaff_s6 != 0) goto FONT_OBJ_5E4;
  do {
    unaff_s4 = 1;
FONT_OBJ_5E4:
    pbVar6 = unaff_s0;
    if (unaff_s4 != 0) {
      unaff_s5 = unaff_s5 + 8;
      if (_param_7 < unaff_s1) {
        _param_7 = unaff_s1;
      }
      unaff_s1 = (int)*(short *)((int)unaff_s3 + 8);
      uVar5 = _param_9;
      if ((int)_param_9 <= unaff_s5) goto FONT_OBJ_62C;
    }
    unaff_s0 = pbVar6 + 1;
    unaff_s8 = unaff_s8 + -1;
    if ((*unaff_s0 == 0) || (unaff_s8 == 0)) {
FONT_OBJ_62C:
      if ((*(char *)((int)unaff_s3 + 7) != '\0') && (AddPrim(param_5,unaff_s3), unaff_s6 != 0)) {
        *(short *)((int)unaff_s3 + 0xc) = (short)_param_7 - *(short *)((int)unaff_s3 + 8);
        *(short *)((int)unaff_s3 + 0xe) = (short)unaff_s5 - (*(short *)((int)unaff_s3 + 10) + -8);
      }
      DrawOTag(param_5);
      *(undefined4 *)((int)unaff_s3 + 0x28) = 0;
      **(undefined **)((int)unaff_s3 + 0x24) = 0;
      return param_5;
    }
    bVar1 = *unaff_s0;
    unaff_s4 = 0;
    if (bVar1 == 0x20) goto FONT_OBJ_5C8;
    if (0x20 < bVar1) {
      if (bVar1 != 0x7e) {
        if (*unaff_s0 - 0x61 < 0x1a) {
          puVar2 = FONT_OBJ_568((char)puVar4,(char)unaff_s2,(char)uVar5,param_4,param_5,param_6,
                                param_7,param_8,param_9,param_10,param_11,param_12,param_13);
          return puVar2;
        }
        in_v1 = *unaff_s0 - 0x20;
        unaff_s2 = pvVar7;
        goto code_r0x80023454;
      }
      unaff_s0 = pbVar6 + 2;
      if (pbVar6[2] == 99) {
        param_11 = pbVar6[3] * '\x10';
        param_12 = pbVar6[4] * '\x10';
        _param_13 = (pbVar6[5] - 0x30) * 0x10;
        unaff_s0 = pbVar6 + 5;
      }
      goto FONT_OBJ_5E4;
    }
    if (bVar1 == 9) {
      puVar2 = FONT_OBJ_5CC();
      return puVar2;
    }
    if (bVar1 != 10) {
      puVar2 = FONT_OBJ_538();
      return puVar2;
    }
  } while( true );
}



uint * FONT_OBJ_5CC(void)

{
  byte bVar1;
  uint *puVar2;
  int iVar3;
  int iVar4;
  u_long *in_a0;
  void *in_a1;
  uint in_a2;
  undefined in_a3;
  byte *unaff_s0;
  byte *pbVar5;
  int unaff_s1;
  void *pvVar6;
  void *unaff_s2;
  void *unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  u_long *in_stack_00000010;
  undefined in_stack_00000014;
  undefined uVar7;
  int in_stack_00000018;
  undefined in_stack_0000001c;
  undefined uVar8;
  uint in_stack_00000020;
  undefined in_stack_00000024;
  char in_stack_00000028;
  char in_stack_00000030;
  undefined uVar9;
  uint in_stack_00000038;
  
code_r0x800234b8:
  if (unaff_s1 < unaff_s7) goto FONT_OBJ_5E4;
  if (unaff_s6 != 0) goto FONT_OBJ_5E4;
  do {
    unaff_s4 = 1;
FONT_OBJ_5E4:
    pbVar5 = unaff_s0;
    if (unaff_s4 != 0) {
      unaff_s5 = unaff_s5 + 8;
      if (in_stack_00000018 < unaff_s1) {
        in_stack_00000018 = unaff_s1;
      }
      unaff_s1 = (int)*(short *)((int)unaff_s3 + 8);
      in_a2 = in_stack_00000020;
      if ((int)in_stack_00000020 <= unaff_s5) goto FONT_OBJ_62C;
    }
    unaff_s0 = pbVar5 + 1;
    unaff_s8 = unaff_s8 + -1;
    if ((*unaff_s0 == 0) || (unaff_s8 == 0)) {
FONT_OBJ_62C:
      if ((*(char *)((int)unaff_s3 + 7) != '\0') &&
         (AddPrim(in_stack_00000010,unaff_s3), unaff_s6 != 0)) {
        *(short *)((int)unaff_s3 + 0xc) = (short)in_stack_00000018 - *(short *)((int)unaff_s3 + 8);
        *(short *)((int)unaff_s3 + 0xe) = (short)unaff_s5 - (*(short *)((int)unaff_s3 + 10) + -8);
      }
      DrawOTag(in_stack_00000010);
      *(undefined4 *)((int)unaff_s3 + 0x28) = 0;
      **(undefined **)((int)unaff_s3 + 0x24) = 0;
      return in_stack_00000010;
    }
    bVar1 = *unaff_s0;
    unaff_s4 = 0;
    pvVar6 = unaff_s2;
    if (bVar1 == 0x20) {
FONT_OBJ_5C8:
      unaff_s1 = unaff_s1 + 8;
      unaff_s2 = pvVar6;
      goto code_r0x800234b8;
    }
    if (0x20 < bVar1) {
      if (bVar1 != 0x7e) {
        if (*unaff_s0 - 0x61 < 0x1a) {
          puVar2 = FONT_OBJ_568((char)in_a0,(char)in_a1,(char)in_a2,in_a3,in_stack_00000010,
                                in_stack_00000014,uVar7,in_stack_0000001c,uVar8,in_stack_00000024,
                                in_stack_00000028,in_stack_00000030,uVar9);
          return puVar2;
        }
        iVar4 = *unaff_s0 - 0x20;
        iVar3 = iVar4;
        if (iVar4 < 0) {
          iVar3 = *unaff_s0 - 0x11;
        }
        *(char *)((int)unaff_s2 + 0xc) = ((char)iVar4 + (char)(iVar3 >> 4) * -0x10) * '\b';
        *(char *)((int)unaff_s2 + 0xd) = (char)((iVar3 >> 4) << 3);
        *(short *)((int)unaff_s2 + 8) = (short)unaff_s1;
        *(short *)((int)unaff_s2 + 10) = (short)unaff_s5;
        *(char *)((int)unaff_s2 + 4) = in_stack_00000028;
        *(char *)((int)unaff_s2 + 5) = in_stack_00000030;
        in_a2 = in_stack_00000038 & 0xff;
        *(undefined *)((int)unaff_s2 + 6) = uVar9;
        pvVar6 = (void *)((int)unaff_s2 + 0x10);
        in_a0 = in_stack_00000010;
        AddPrim(in_stack_00000010,unaff_s2);
        in_a1 = unaff_s2;
        goto FONT_OBJ_5C8;
      }
      unaff_s0 = pbVar5 + 2;
      if (pbVar5[2] == 99) {
        in_stack_00000028 = pbVar5[3] * '\x10';
        in_stack_00000030 = pbVar5[4] * '\x10';
        in_stack_00000038 = (pbVar5[5] - 0x30) * 0x10;
        unaff_s0 = pbVar5 + 5;
      }
      goto FONT_OBJ_5E4;
    }
    if (bVar1 == 9) {
      puVar2 = FONT_OBJ_5CC();
      return puVar2;
    }
    if (bVar1 != 10) {
      puVar2 = FONT_OBJ_538();
      return puVar2;
    }
  } while( true );
}



uint * FONT_OBJ_5E4(byte param_1,byte param_2,byte param_3,undefined param_4,u_long *param_5,
                   undefined param_6,int param_7,undefined param_8,uint param_9,undefined param_10,
                   undefined4 param_11,undefined4 param_12,uint param_13)

{
  byte bVar1;
  uint *puVar2;
  int iVar3;
  int iVar4;
  u_long *puVar5;
  void *pvVar6;
  uint uVar7;
  byte *unaff_s0;
  byte *pbVar8;
  int unaff_s1;
  void *pvVar9;
  void *unaff_s2;
  void *unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  
  uVar7 = (uint)param_3;
  pvVar6 = (void *)(uint)param_2;
  puVar5 = (u_long *)(uint)param_1;
code_r0x800234d0:
  do {
    pbVar8 = unaff_s0;
    if (unaff_s4 != 0) {
      unaff_s5 = unaff_s5 + 8;
      if (param_7 < unaff_s1) {
        param_7 = unaff_s1;
      }
      unaff_s1 = (int)*(short *)((int)unaff_s3 + 8);
      uVar7 = param_9;
      if ((int)param_9 <= unaff_s5) goto FONT_OBJ_62C;
    }
    unaff_s0 = pbVar8 + 1;
    unaff_s8 = unaff_s8 + -1;
    if ((*unaff_s0 == 0) || (unaff_s8 == 0)) {
FONT_OBJ_62C:
      if ((*(char *)((int)unaff_s3 + 7) != '\0') && (AddPrim(param_5,unaff_s3), unaff_s6 != 0)) {
        *(short *)((int)unaff_s3 + 0xc) = (short)param_7 - *(short *)((int)unaff_s3 + 8);
        *(short *)((int)unaff_s3 + 0xe) = (short)unaff_s5 - (*(short *)((int)unaff_s3 + 10) + -8);
      }
      DrawOTag(param_5);
      *(undefined4 *)((int)unaff_s3 + 0x28) = 0;
      **(undefined **)((int)unaff_s3 + 0x24) = 0;
      return param_5;
    }
    bVar1 = *unaff_s0;
    unaff_s4 = 0;
    pvVar9 = unaff_s2;
    if (bVar1 == 0x20) break;
    if (bVar1 < 0x21) {
      if (bVar1 == 9) {
        puVar2 = FONT_OBJ_5CC();
        return puVar2;
      }
      if (bVar1 != 10) {
        puVar2 = FONT_OBJ_538();
        return puVar2;
      }
      goto FONT_OBJ_5E0;
    }
    if (bVar1 != 0x7e) {
      if (*unaff_s0 - 0x61 < 0x1a) {
        puVar2 = FONT_OBJ_568((char)puVar5,(char)pvVar6,(char)uVar7,param_4,param_5,param_6,
                              (undefined)param_7,param_8,(undefined)param_9,param_10,(char)param_11,
                              (char)param_12,(undefined)param_13);
        return puVar2;
      }
      iVar4 = *unaff_s0 - 0x20;
      iVar3 = iVar4;
      if (iVar4 < 0) {
        iVar3 = *unaff_s0 - 0x11;
      }
      *(char *)((int)unaff_s2 + 0xc) = ((char)iVar4 + (char)(iVar3 >> 4) * -0x10) * '\b';
      *(char *)((int)unaff_s2 + 0xd) = (char)((iVar3 >> 4) << 3);
      *(short *)((int)unaff_s2 + 8) = (short)unaff_s1;
      *(short *)((int)unaff_s2 + 10) = (short)unaff_s5;
      *(char *)((int)unaff_s2 + 4) = (char)param_11;
      *(char *)((int)unaff_s2 + 5) = (char)param_12;
      uVar7 = param_13 & 0xff;
      *(undefined *)((int)unaff_s2 + 6) = (undefined)param_13;
      pvVar9 = (void *)((int)unaff_s2 + 0x10);
      puVar5 = param_5;
      AddPrim(param_5,unaff_s2);
      pvVar6 = unaff_s2;
      break;
    }
    unaff_s0 = pbVar8 + 2;
    if (pbVar8[2] == 99) {
      param_11._0_1_ = pbVar8[3] * '\x10';
      param_12._0_1_ = pbVar8[4] * '\x10';
      param_13 = (pbVar8[5] - 0x30) * 0x10;
      unaff_s0 = pbVar8 + 5;
    }
  } while( true );
  unaff_s1 = unaff_s1 + 8;
  unaff_s2 = pvVar9;
  if ((unaff_s7 <= unaff_s1) && (unaff_s6 == 0)) {
FONT_OBJ_5E0:
    unaff_s4 = 1;
    unaff_s2 = pvVar9;
  }
  goto code_r0x800234d0;
}



void FONT_OBJ_68C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                 undefined param_9,undefined param_10,undefined4 param_11,undefined4 param_12,
                 undefined4 param_13,undefined4 param_14,undefined4 param_15,undefined4 param_16,
                 undefined4 param_17,undefined4 param_18,undefined4 param_19,undefined4 param_20)

{
  return;
}



int FntPrint(void)

{
  int iVar1;
  byte *in_a0;
  byte bVar2;
  byte *in_a1;
  uint uVar3;
  size_t in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  byte *pbVar4;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_retaddr;
  byte *local_res0;
  undefined in_stack_fffffdd8;
  undefined in_stack_fffffddc;
  undefined in_stack_fffffde0;
  undefined in_stack_fffffde4;
  undefined in_stack_fffffde8;
  undefined in_stack_fffffdec;
  
  if ((((-1 < (int)in_a0) && (pbVar4 = in_a1, local_res0 = in_a0, (int)in_a0 < DAT_80031e3c)) ||
      (local_res0 = DAT_80031e40, pbVar4 = in_a0,
      *(int *)(&DAT_80031ce0 + (int)DAT_80031e40 * 0x30) != 0)) &&
     (iVar1 = (int)local_res0 * 0x30,
     *(int *)(&DAT_80031ce4 + iVar1) <= *(int *)(&DAT_80031cd8 + iVar1))) {
    bVar2 = *pbVar4;
    while( true ) {
      if (bVar2 == 0) {
        *(undefined *)(*(int *)(&DAT_80031ce0 + iVar1) + *(int *)(&DAT_80031ce4 + iVar1)) = 0;
        return *(int *)(&DAT_80031ce4 + iVar1);
      }
      if (bVar2 == 0x25) {
        pbVar4 = pbVar4 + 1;
        bVar2 = *pbVar4;
        uVar3 = (uint)bVar2;
        if (uVar3 != 0x25) {
          iVar1 = FONT_OBJ_82C(in_a0,uVar3,in_a2,uVar3 == 0x30);
          return iVar1;
        }
      }
      in_a0 = *(byte **)(&DAT_80031ce4 + iVar1);
      *(byte **)(&DAT_80031ce4 + iVar1) = in_a0 + 1;
      in_a0[*(int *)(&DAT_80031ce0 + iVar1)] = bVar2;
      pbVar4 = pbVar4 + 1;
      if (*(int *)(&DAT_80031cd8 + iVar1) < *(int *)(&DAT_80031ce4 + iVar1)) break;
      bVar2 = *pbVar4;
    }
    iVar1 = FONT_OBJ_A78((char)in_a0,bVar2,(char)in_a2,in_a3,in_stack_fffffdd8,in_stack_fffffddc,
                         in_stack_fffffde0,in_stack_fffffde4,in_stack_fffffde8,in_stack_fffffdec,
                         unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,unaff_s5,unaff_retaddr);
    return iVar1;
  }
  iVar1 = FONT_OBJ_A78((char)in_a0,(char)in_a1,(char)in_a2,in_a3,in_stack_fffffdd8,in_stack_fffffddc
                       ,in_stack_fffffde0,in_stack_fffffde4,in_stack_fffffde8,in_stack_fffffdec,
                       unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,unaff_s5,unaff_retaddr);
  return iVar1;
}



undefined4 FONT_OBJ_82C(char *param_1,uint param_2,size_t param_3,char param_4)

{
  undefined4 uVar1;
  char *pcVar2;
  char *pcVar3;
  byte bVar4;
  undefined uVar5;
  uint uVar6;
  int iVar7;
  size_t sVar8;
  char *pcVar9;
  char *pcVar10;
  int unaff_s1;
  int unaff_s2;
  byte *unaff_s3;
  byte *pbVar11;
  uint unaff_s4;
  uint unaff_s5;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  char **in_stack_00000210;
  undefined4 in_stack_00000218;
  undefined4 in_stack_0000021c;
  undefined4 in_stack_00000220;
  undefined4 in_stack_00000224;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  
  while (param_2 - 0x30 < 10) {
    unaff_s2 = unaff_s2 * 10 + -0x30 + param_2;
    unaff_s3 = unaff_s3 + 1;
    param_2 = (uint)*unaff_s3;
  }
  pcVar10 = &stack0x00000210;
  if (unaff_s2 < 1) {
    unaff_s2 = 1;
  }
  switch(param_2) {
  case 0x58:
  case 0x78:
    param_3 = 0;
    pcVar3 = *in_stack_00000210;
    do {
      do {
        pcVar10 = pcVar10 + -1;
        uVar6 = (uint)pcVar3 & 0xf;
        pcVar3 = (char *)((uint)pcVar3 >> 4);
        param_3 = param_3 + 1;
        *pcVar10 = PTR_s_0123456789ABCDEF_80032848[uVar6];
      } while (param_3 == 0);
    } while (pcVar3 != (char *)0x0);
    param_1 = (char *)0x0;
    if (param_4 != '\0') {
      if ((int)param_3 < unaff_s2) {
        do {
          pcVar10 = pcVar10 + -1;
          param_3 = param_3 + 1;
          *pcVar10 = '0';
        } while ((int)param_3 < unaff_s2);
        uVar1 = FONT_OBJ_9B0(0,param_2,param_3);
        return uVar1;
      }
      goto FONT_OBJ_9F8;
    }
    break;
  case 99:
    uVar1 = FONT_OBJ_9AC(param_1,param_2,1);
    return uVar1;
  case 100:
    pcVar3 = *in_stack_00000210;
    iVar7 = 0;
    if ((int)pcVar3 < 0) {
      pcVar3 = (char *)-(int)pcVar3;
      iVar7 = 0x2d;
    }
    param_3 = 0;
    do {
      do {
        pcVar9 = pcVar10;
        sVar8 = param_3;
        pcVar10 = pcVar9 + -1;
        param_3 = sVar8 + 1;
        pcVar2 = (char *)(ZEXT48(pcVar3) * (ulonglong)unaff_s4 >> 0x23);
        *pcVar10 = (char)pcVar3 + (char)pcVar2 * -10 + '0';
        pcVar3 = pcVar2;
      } while (param_3 == 0);
    } while (pcVar2 != (char *)0x0);
    param_1 = (char *)0x0;
    if (iVar7 != 0) {
      pcVar9[-2] = (char)iVar7;
      uVar1 = FONT_OBJ_9AC(0,iVar7,sVar8 + 2);
      return uVar1;
    }
    break;
  case 0x73:
    pcVar10 = *in_stack_00000210;
    param_1 = pcVar10;
    param_3 = strlen(pcVar10);
  }
  if ((int)param_3 < unaff_s2) {
    uVar5 = 0x20;
    do {
      param_1 = *(char **)(unaff_s1 + 0x28);
      *(char **)(unaff_s1 + 0x28) = param_1 + 1;
      param_1[*(int *)(unaff_s1 + 0x24)] = ' ';
      unaff_s2 = unaff_s2 + -1;
      if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_748;
    } while ((int)param_3 < unaff_s2);
  }
FONT_OBJ_9F8:
  uVar5 = 0xff;
  do {
    param_3 = param_3 - 1;
    if (param_3 == 0xffffffff) {
      do {
        pbVar11 = unaff_s3 + 1;
        bVar4 = *pbVar11;
        if (bVar4 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar4 == unaff_s5) {
          pbVar11 = unaff_s3 + 2;
          bVar4 = *pbVar11;
          uVar6 = (uint)bVar4;
          if (uVar6 != unaff_s5) {
            uVar1 = FONT_OBJ_82C(param_1,uVar6,0xffffffff,uVar6 == 0x30);
            return uVar1;
          }
        }
        param_1 = *(char **)(unaff_s1 + 0x28);
        *(char **)(unaff_s1 + 0x28) = param_1 + 1;
        param_1[*(int *)(unaff_s1 + 0x24)] = bVar4;
        unaff_s3 = pbVar11;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar1 = FONT_OBJ_A78((char)param_1,bVar4,0xff,param_4,in_stack_00000010,in_stack_00000014,
                           in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                           in_stack_00000218,in_stack_0000021c,in_stack_00000220,in_stack_00000224,
                           in_stack_00000228,in_stack_0000022c,in_stack_00000230);
      return uVar1;
    }
    param_1 = *(char **)(unaff_s1 + 0x28);
    *(char **)(unaff_s1 + 0x28) = param_1 + 1;
    param_1[*(int *)(unaff_s1 + 0x24)] = *pcVar10;
    pcVar10 = pcVar10 + 1;
  } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
FONT_OBJ_748:
  uVar1 = FONT_OBJ_A78((char)param_1,uVar5,(char)param_3,param_4,in_stack_00000010,in_stack_00000014
                       ,in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                       in_stack_00000218,in_stack_0000021c,in_stack_00000220,in_stack_00000224,
                       in_stack_00000228,in_stack_0000022c,in_stack_00000230);
  return uVar1;
}



undefined4
FONT_OBJ_874(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
            undefined param_5,undefined param_6,undefined param_7,undefined param_8,
            undefined param_9,undefined param_10,uint *param_11)

{
  undefined4 uVar1;
  uint uVar2;
  uint uVar3;
  byte bVar4;
  undefined uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  char *unaff_s0;
  char *pcVar9;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar10;
  uint unaff_s4;
  uint unaff_s5;
  undefined4 in_stack_00000218;
  undefined4 in_stack_0000021c;
  undefined4 in_stack_00000220;
  undefined4 in_stack_00000224;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  
  uVar3 = *param_11;
  iVar6 = 0;
  if ((int)uVar3 < 0) {
    uVar3 = -uVar3;
    iVar6 = 0x2d;
  }
  iVar8 = 0;
  do {
    do {
      pcVar9 = unaff_s0;
      iVar7 = iVar8;
      unaff_s0 = pcVar9 + -1;
      iVar8 = iVar7 + 1;
      uVar2 = (uint)((ulonglong)uVar3 * (ulonglong)unaff_s4 >> 0x23);
      *unaff_s0 = (char)uVar3 + (char)uVar2 * -10 + '0';
      uVar3 = uVar2;
    } while (iVar8 == 0);
  } while (uVar2 != 0);
  if (iVar6 != 0) {
    pcVar9[-2] = (char)iVar6;
    uVar1 = FONT_OBJ_9AC(0,iVar6,iVar7 + 2);
    return uVar1;
  }
  iVar6 = 0;
  if (iVar8 < unaff_s2) {
    uVar5 = 0x20;
    do {
      iVar6 = *(int *)(unaff_s1 + 0x28);
      *(int *)(unaff_s1 + 0x28) = iVar6 + 1;
      *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar6) = 0x20;
      unaff_s2 = unaff_s2 + -1;
      if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_748;
    } while (iVar8 < unaff_s2);
  }
  uVar5 = 0xff;
  iVar8 = iVar7;
  while( true ) {
    if (iVar8 == -1) {
      pbVar10 = (byte *)(unaff_s3 + 1);
      do {
        bVar4 = *pbVar10;
        if (bVar4 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar4 == unaff_s5) {
          pbVar10 = pbVar10 + 1;
          bVar4 = *pbVar10;
          uVar3 = (uint)bVar4;
          if (uVar3 != unaff_s5) {
            uVar1 = FONT_OBJ_82C(iVar6,uVar3,0xffffffff,uVar3 == 0x30);
            return uVar1;
          }
        }
        iVar6 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar6 + 1;
        *(byte *)(*(int *)(unaff_s1 + 0x24) + iVar6) = bVar4;
        pbVar10 = pbVar10 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar1 = FONT_OBJ_A78((char)iVar6,bVar4,0xff,param_4,param_5,param_6,param_7,param_8,param_9,
                           param_10,in_stack_00000218,in_stack_0000021c,in_stack_00000220,
                           in_stack_00000224,in_stack_00000228,in_stack_0000022c,in_stack_00000230);
      return uVar1;
    }
    iVar6 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = iVar6 + 1;
    *(char *)(*(int *)(unaff_s1 + 0x24) + iVar6) = *unaff_s0;
    unaff_s0 = unaff_s0 + 1;
    if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) break;
    iVar8 = iVar8 + -1;
  }
FONT_OBJ_748:
  uVar1 = FONT_OBJ_A78((char)iVar6,uVar5,(char)iVar8,param_4,param_5,param_6,param_7,param_8,param_9
                       ,param_10,in_stack_00000218,in_stack_0000021c,in_stack_00000220,
                       in_stack_00000224,in_stack_00000228,in_stack_0000022c,in_stack_00000230);
  return uVar1;
}



undefined4
FONT_OBJ_8F4(undefined4 param_1,undefined4 param_2,undefined4 param_3,char param_4,undefined param_5
            ,undefined param_6,undefined param_7,undefined param_8,undefined param_9,
            undefined param_10,uint *param_11)

{
  uint uVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  byte bVar5;
  undefined uVar6;
  int iVar7;
  int iVar8;
  undefined *unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar9;
  uint unaff_s5;
  undefined4 in_stack_00000218;
  undefined4 in_stack_0000021c;
  undefined4 in_stack_00000220;
  undefined4 in_stack_00000224;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  
  uVar3 = *param_11;
  iVar8 = 0;
  do {
    do {
      iVar7 = iVar8;
      unaff_s0 = unaff_s0 + -1;
      uVar1 = uVar3 & 0xf;
      uVar3 = uVar3 >> 4;
      iVar8 = iVar7 + 1;
      *unaff_s0 = PTR_s_0123456789ABCDEF_80032848[uVar1];
    } while (iVar8 == 0);
  } while (uVar3 != 0);
  iVar4 = 0;
  if (param_4 == '\0') {
    if (iVar8 < unaff_s2) {
      uVar6 = 0x20;
      do {
        iVar4 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar4 + 1;
        *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar4) = 0x20;
        unaff_s2 = unaff_s2 + -1;
        if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_748;
      } while (iVar8 < unaff_s2);
    }
  }
  else if (iVar8 < unaff_s2) {
    do {
      unaff_s0 = unaff_s0 + -1;
      iVar8 = iVar8 + 1;
                    // Possible PsyQ macro: setPolyG3()
      *unaff_s0 = 0x30;
    } while (iVar8 < unaff_s2);
    uVar2 = FONT_OBJ_9B0(0,param_2,iVar8);
    return uVar2;
  }
  uVar6 = 0xff;
  iVar8 = iVar7;
  while( true ) {
    if (iVar8 == -1) {
      pbVar9 = (byte *)(unaff_s3 + 1);
      do {
        bVar5 = *pbVar9;
        if (bVar5 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar5 == unaff_s5) {
          pbVar9 = pbVar9 + 1;
          bVar5 = *pbVar9;
          uVar3 = (uint)bVar5;
          if (uVar3 != unaff_s5) {
            uVar2 = FONT_OBJ_82C(iVar4,uVar3,0xffffffff,uVar3 == 0x30);
            return uVar2;
          }
        }
        iVar4 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar4 + 1;
        *(byte *)(*(int *)(unaff_s1 + 0x24) + iVar4) = bVar5;
        pbVar9 = pbVar9 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar2 = FONT_OBJ_A78((char)iVar4,bVar5,0xff,param_4,param_5,param_6,param_7,param_8,param_9,
                           param_10,in_stack_00000218,in_stack_0000021c,in_stack_00000220,
                           in_stack_00000224,in_stack_00000228,in_stack_0000022c,in_stack_00000230);
      return uVar2;
    }
    iVar4 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = iVar4 + 1;
    *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar4) = *unaff_s0;
    unaff_s0 = unaff_s0 + 1;
    if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) break;
    iVar8 = iVar8 + -1;
  }
FONT_OBJ_748:
  uVar2 = FONT_OBJ_A78((char)iVar4,uVar6,(char)iVar8,param_4,param_5,param_6,param_7,param_8,param_9
                       ,param_10,in_stack_00000218,in_stack_0000021c,in_stack_00000220,
                       in_stack_00000224,in_stack_00000228,in_stack_0000022c,in_stack_00000230);
  return uVar2;
}



void FONT_OBJ_96C(undefined4 param_1,undefined4 param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                 undefined param_9,undefined param_10,undefined *param_11)

{
  int unaff_s0;
  
  *(undefined *)(unaff_s0 + -1) = *param_11;
  FONT_OBJ_9AC(param_1,param_2,1);
  return;
}



undefined4
FONT_OBJ_98C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
            undefined param_5,undefined param_6,undefined param_7,undefined param_8,
            undefined param_9,undefined param_10,char **param_11)

{
  undefined4 uVar1;
  int iVar2;
  char *pcVar3;
  byte bVar4;
  undefined uVar5;
  uint uVar6;
  char *pcVar7;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar8;
  uint unaff_s5;
  undefined4 in_stack_00000218;
  undefined4 in_stack_0000021c;
  undefined4 in_stack_00000220;
  undefined4 in_stack_00000224;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  
  pcVar7 = *param_11;
  pcVar3 = pcVar7;
  iVar2 = strlen(pcVar7);
  if (iVar2 < unaff_s2) {
    uVar5 = 0x20;
    do {
      pcVar3 = *(char **)(unaff_s1 + 0x28);
      *(char **)(unaff_s1 + 0x28) = pcVar3 + 1;
      pcVar3[*(int *)(unaff_s1 + 0x24)] = ' ';
      unaff_s2 = unaff_s2 + -1;
      if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_748;
    } while (iVar2 < unaff_s2);
  }
  uVar5 = 0xff;
  do {
    iVar2 = iVar2 + -1;
    if (iVar2 == -1) {
      pbVar8 = (byte *)(unaff_s3 + 1);
      do {
        bVar4 = *pbVar8;
        if (bVar4 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar4 == unaff_s5) {
          pbVar8 = pbVar8 + 1;
          bVar4 = *pbVar8;
          uVar6 = (uint)bVar4;
          if (uVar6 != unaff_s5) {
            uVar1 = FONT_OBJ_82C(pcVar3,uVar6,0xffffffff,uVar6 == 0x30);
            return uVar1;
          }
        }
        pcVar3 = *(char **)(unaff_s1 + 0x28);
        *(char **)(unaff_s1 + 0x28) = pcVar3 + 1;
        pcVar3[*(int *)(unaff_s1 + 0x24)] = bVar4;
        pbVar8 = pbVar8 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar1 = FONT_OBJ_A78((char)pcVar3,bVar4,0xff,param_4,param_5,param_6,param_7,param_8,param_9,
                           param_10,in_stack_00000218,in_stack_0000021c,in_stack_00000220,
                           in_stack_00000224,in_stack_00000228,in_stack_0000022c,in_stack_00000230);
      return uVar1;
    }
    pcVar3 = *(char **)(unaff_s1 + 0x28);
    *(char **)(unaff_s1 + 0x28) = pcVar3 + 1;
    pcVar3[*(int *)(unaff_s1 + 0x24)] = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
FONT_OBJ_748:
  uVar1 = FONT_OBJ_A78((char)pcVar3,uVar5,(char)iVar2,param_4,param_5,param_6,param_7,param_8,
                       param_9,param_10,in_stack_00000218,in_stack_0000021c,in_stack_00000220,
                       in_stack_00000224,in_stack_00000228,in_stack_0000022c,in_stack_00000230);
  return uVar1;
}



undefined4 FONT_OBJ_9AC(int param_1,undefined4 param_2,int param_3)

{
  undefined4 uVar1;
  byte bVar2;
  undefined uVar3;
  uint uVar4;
  undefined in_a3;
  undefined *unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar5;
  uint unaff_s5;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  undefined4 in_stack_00000218;
  undefined4 in_stack_0000021c;
  undefined4 in_stack_00000220;
  undefined4 in_stack_00000224;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  
  if (param_3 < unaff_s2) {
    uVar3 = 0x20;
    do {
      param_1 = *(int *)(unaff_s1 + 0x28);
      *(int *)(unaff_s1 + 0x28) = param_1 + 1;
      *(undefined *)(*(int *)(unaff_s1 + 0x24) + param_1) = 0x20;
      unaff_s2 = unaff_s2 + -1;
      if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_748;
    } while (param_3 < unaff_s2);
  }
  param_3 = param_3 + -1;
  uVar3 = 0xff;
  while( true ) {
    if (param_3 == -1) {
      pbVar5 = (byte *)(unaff_s3 + 1);
      do {
        bVar2 = *pbVar5;
        if (bVar2 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar2 == unaff_s5) {
          pbVar5 = pbVar5 + 1;
          bVar2 = *pbVar5;
          uVar4 = (uint)bVar2;
          if (uVar4 != unaff_s5) {
            uVar1 = FONT_OBJ_82C(param_1,uVar4,0xffffffff,uVar4 == 0x30);
            return uVar1;
          }
        }
        param_1 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = param_1 + 1;
        *(byte *)(*(int *)(unaff_s1 + 0x24) + param_1) = bVar2;
        pbVar5 = pbVar5 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar1 = FONT_OBJ_A78((char)param_1,bVar2,0xff,in_a3,in_stack_00000010,in_stack_00000014,
                           in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                           in_stack_00000218,in_stack_0000021c,in_stack_00000220,in_stack_00000224,
                           in_stack_00000228,in_stack_0000022c,in_stack_00000230);
      return uVar1;
    }
    param_1 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = param_1 + 1;
    *(undefined *)(*(int *)(unaff_s1 + 0x24) + param_1) = *unaff_s0;
    unaff_s0 = unaff_s0 + 1;
    if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) break;
    param_3 = param_3 + -1;
  }
FONT_OBJ_748:
  uVar1 = FONT_OBJ_A78((char)param_1,uVar3,(char)param_3,in_a3,in_stack_00000010,in_stack_00000014,
                       in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                       in_stack_00000218,in_stack_0000021c,in_stack_00000220,in_stack_00000224,
                       in_stack_00000228,in_stack_0000022c,in_stack_00000230);
  return uVar1;
}



undefined4 FONT_OBJ_9B0(int param_1,undefined4 param_2,int param_3)

{
  undefined4 uVar1;
  int in_v0;
  byte bVar2;
  undefined uVar3;
  uint uVar4;
  undefined in_a3;
  undefined *unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar5;
  uint unaff_s5;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  undefined4 in_stack_00000218;
  undefined4 in_stack_0000021c;
  undefined4 in_stack_00000220;
  undefined4 in_stack_00000224;
  undefined4 in_stack_00000228;
  undefined4 in_stack_0000022c;
  undefined4 in_stack_00000230;
  
  if (in_v0 != 0) {
    uVar3 = 0x20;
    do {
      param_1 = *(int *)(unaff_s1 + 0x28);
      *(int *)(unaff_s1 + 0x28) = param_1 + 1;
                    // Possible PsyQ macro: setPolyF3()
      *(undefined *)(*(int *)(unaff_s1 + 0x24) + param_1) = 0x20;
      unaff_s2 = unaff_s2 + -1;
      if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_748;
    } while (param_3 < unaff_s2);
  }
  param_3 = param_3 + -1;
  uVar3 = 0xff;
  while( true ) {
    if (param_3 == -1) {
      pbVar5 = (byte *)(unaff_s3 + 1);
      do {
        bVar2 = *pbVar5;
        if (bVar2 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar2 == unaff_s5) {
          pbVar5 = pbVar5 + 1;
          bVar2 = *pbVar5;
          uVar4 = (uint)bVar2;
          if (uVar4 != unaff_s5) {
            uVar1 = FONT_OBJ_82C(param_1,uVar4,0xffffffff,uVar4 == 0x30);
            return uVar1;
          }
        }
        param_1 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = param_1 + 1;
        *(byte *)(*(int *)(unaff_s1 + 0x24) + param_1) = bVar2;
        pbVar5 = pbVar5 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar1 = FONT_OBJ_A78((char)param_1,bVar2,0xff,in_a3,in_stack_00000010,in_stack_00000014,
                           in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                           in_stack_00000218,in_stack_0000021c,in_stack_00000220,in_stack_00000224,
                           in_stack_00000228,in_stack_0000022c,in_stack_00000230);
      return uVar1;
    }
    param_1 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = param_1 + 1;
    *(undefined *)(*(int *)(unaff_s1 + 0x24) + param_1) = *unaff_s0;
    unaff_s0 = unaff_s0 + 1;
    if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) break;
    param_3 = param_3 + -1;
  }
FONT_OBJ_748:
  uVar1 = FONT_OBJ_A78((char)param_1,uVar3,(char)param_3,in_a3,in_stack_00000010,in_stack_00000014,
                       in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                       in_stack_00000218,in_stack_0000021c,in_stack_00000220,in_stack_00000224,
                       in_stack_00000228,in_stack_0000022c,in_stack_00000230);
  return uVar1;
}



void FONT_OBJ_A78(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                 undefined param_9,undefined param_10,undefined4 param_11,undefined4 param_12,
                 undefined4 param_13,undefined4 param_14,undefined4 param_15,undefined4 param_16,
                 undefined4 param_17)

{
  return;
}



u_short GetTPage(int tp,int abr,int x,int y)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  undefined uVar4;
  undefined uVar5;
  undefined uVar6;
  undefined uVar7;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_retaddr;
  int iVar8;
  
  uVar5 = (undefined)abr;
  uVar4 = (undefined)tp;
  iVar2 = x;
  iVar8 = y;
  iVar1 = GetGraphType();
  uVar7 = (undefined)iVar8;
  uVar6 = (undefined)iVar2;
  if (iVar1 != 1) {
    iVar2 = GetGraphType();
    if (iVar2 != 2) {
      return (ushort)((tp & 3U) << 7) | (ushort)((abr & 3U) << 5) | (ushort)((int)(y & 0x100U) >> 4)
             | (ushort)((int)(x & 0x3ffU) >> 6) | (ushort)((y & 0x200U) << 2);
    }
  }
  uVar3 = PRIM_OBJ_A4(uVar4,uVar5,uVar6,uVar7,unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_retaddr);
  return (u_short)uVar3;
}



uint PRIM_OBJ_A4(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                undefined4 param_9)

{
  uint in_v0;
  uint in_v1;
  
  return in_v1 | in_v0;
}



u_short GetClut(int x,int y)

{
  return (ushort)(y << 6) | (ushort)(x >> 4) & 0x3f;
}



void DumpTPage(u_short tpage)

{
  int iVar1;
  
  iVar1 = GetGraphType();
  if (iVar1 != 1) {
    iVar1 = GetGraphType();
    if (iVar1 != 2) {
      (*(code *)PTR_printf_80032890)
                (s_tpage____d__d__d__d__800105f4,tpage >> 7 & 3,tpage >> 5 & 3,(tpage & 0x1f) << 6,
                 (tpage & 0x10) * 0x10 + (tpage >> 2 & 0x200));
      return;
    }
  }
  (*(code *)PTR_printf_80032890)
            (s_tpage____d__d__d__d__800105f4,tpage >> 9 & 3,tpage >> 7 & 3,(tpage & 0x1f) << 6,
             (tpage & 0x60) << 3);
  return;
}



void PRIM_OBJ_19C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8)

{
  return;
}



void DumpClut(u_short clut)

{
  (*(code *)PTR_printf_80032890)(s_clut____d__d__8001060c,(clut & 0x3f) << 4,clut >> 6);
  return;
}



void * NextPrim(void *p)

{
                    // WARNING: Load size is inaccurate
                    // Probable PsyQ macro: nextPrim(), with pattern: *pPrim & 0xffffff |
                    // 0x80000000.
  return (void *)(*p & 0xffffff | 0x80000000);
}



int IsEndPrim(void *p)

{
                    // WARNING: Load size is inaccurate
  return (uint)((*p & 0xffffff) == 0xffffff);
}



void AddPrim(void *ot,void *p)

{
                    // WARNING: Load size is inaccurate
                    // WARNING: Load size is inaccurate
                    // Probable PsyQ macro: addPrim().
  *(uint *)p = *p & 0xff000000 | *ot & 0xffffff;
                    // WARNING: Load size is inaccurate
  *(uint *)ot = *ot & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void AddPrims(void *ot,void *p0,void *p1)

{
                    // WARNING: Load size is inaccurate
                    // WARNING: Load size is inaccurate
                    // Probable PsyQ macro: addPrim().
  *(uint *)p1 = *p1 & 0xff000000 | *ot & 0xffffff;
                    // WARNING: Load size is inaccurate
  *(uint *)ot = *ot & 0xff000000 | (uint)p0 & 0xffffff;
  return;
}



void CatPrim(void *p0,void *p1)

{
                    // WARNING: Load size is inaccurate
  *(uint *)p0 = *p0 & 0xff000000 | (uint)p1 & 0xffffff;
  return;
}



void TermPrim(void *p)

{
                    // WARNING: Load size is inaccurate
  *(uint *)p = *p | 0xffffff;
  return;
}



void SetSemiTrans(void *p,int abe)

{
  if (abe != 0) {
    PRIM_OBJ_2FC((int)p);
    return;
  }
  *(byte *)((int)p + 7) = *(byte *)((int)p + 7) & 0xfd;
  return;
}



void PRIM_OBJ_2FC(int param_1)

{
  undefined in_v0;
  
  *(undefined *)(param_1 + 7) = in_v0;
  return;
}



void SetShadeTex(void *p,int tge)

{
  if (tge != 0) {
    PRIM_OBJ_324((int)p);
    return;
  }
  *(byte *)((int)p + 7) = *(byte *)((int)p + 7) & 0xfe;
  return;
}



void PRIM_OBJ_324(int param_1)

{
  undefined in_v0;
  
  *(undefined *)(param_1 + 7) = in_v0;
  return;
}



void SetPolyF3(POLY_F3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 4;
                    // Probable PsyQ macro: setPolyF3()
  p->code = ' ';
  return;
}



void SetPolyFT3(POLY_FT3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 7;
                    // Probable PsyQ macro: setPolyFT3()
  p->code = '$';
  return;
}



void SetPolyG3(POLY_G3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 6;
                    // Probable PsyQ macro: setPolyG3()
  p->code = '0';
  return;
}



void SetPolyGT3(POLY_GT3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 9;
                    // Probable PsyQ macro: setPolyGT3()
  p->code = '4';
  return;
}



void SetPolyF4(POLY_F4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 5;
                    // Probable PsyQ macro: setPolyF4()
  p->code = '(';
  return;
}



void SetPolyFT4(POLY_FT4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 9;
                    // Probable PsyQ macro: setPolyFT4()
  p->code = ',';
  return;
}



void SetPolyG4(POLY_G4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 8;
                    // Probable PsyQ macro: setPolyG4()
  p->code = '8';
  return;
}



void SetPolyGT4(POLY_GT4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 0xc;
                    // Probable PsyQ macro: setPolyGT4()
  p->code = '<';
  return;
}



void SetSprt8(SPRT_8 *p)

{
  *(undefined *)((int)&p->tag + 3) = 3;
                    // Probable PsyQ macro: setSprt8()
  p->code = 't';
  return;
}



void SetSprt16(SPRT_16 *p)

{
  *(undefined *)((int)&p->tag + 3) = 3;
                    // Probable PsyQ macro: setSprt16()
  p->code = '|';
  return;
}



void SetSprt(SPRT *p)

{
  *(undefined *)((int)&p->tag + 3) = 4;
                    // Probable PsyQ macro: setSprt()
  p->code = 'd';
  return;
}



void SetTile1(TILE_1 *p)

{
  *(undefined *)((int)&p->tag + 3) = 2;
                    // Probable PsyQ macro: setTile1()
  p->code = 'h';
  return;
}



void SetTile8(TILE_8 *p)

{
  *(undefined *)((int)&p->tag + 3) = 2;
                    // Probable PsyQ macro: setTile16()
  p->code = 'p';
  return;
}



void SetTile16(TILE_16 *p)

{
  *(undefined *)((int)&p->tag + 3) = 2;
                    // Probable PsyQ macro: setTile8()
  p->code = 'x';
  return;
}



void SetTile(TILE *p)

{
  *(undefined *)((int)&p->tag + 3) = 3;
                    // Probable PsyQ macro: setTile()
  p->code = '`';
  return;
}



void SetLineF2(LINE_F2 *p)

{
  *(undefined *)((int)&p->tag + 3) = 3;
                    // Probable PsyQ macro: setLineF2()
  p->code = '@';
  return;
}



void SetLineG2(LINE_G2 *p)

{
  *(undefined *)((int)&p->tag + 3) = 4;
                    // Probable PsyQ macro: setLineG2()
  p->code = 'P';
  return;
}



void SetLineF3(LINE_F3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 5;
                    // Probable PsyQ macro: setLineF3()
  p->code = 'H';
  p->pad = 0x55555555;
  return;
}



void SetLineG3(LINE_G3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 7;
                    // Probable PsyQ macro: setLineG3()
  p->code = 'X';
  p->pad = 0x55555555;
  return;
}



void SetLineF4(LINE_F4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 6;
                    // Probable PsyQ macro: setLineF4()
  p->code = 'L';
  p->pad = 0x55555555;
  return;
}



void SetLineG4(LINE_G4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 9;
                    // Probable PsyQ macro: setLineG4()
  p->code = '\\';
  p->pad = 0x55555555;
  return;
}



void SetBlockFill(int param_1)

{
  *(undefined *)(param_1 + 3) = 3;
  *(undefined *)(param_1 + 7) = 2;
  return;
}



void SetDrawMove(DR_MOVE *p)

{
  *(undefined *)((int)&p->tag + 3) = 5;
  *(undefined *)((int)&p->code + 3) = 1;
  p->code2 = 0x80000000;
  return;
}



void SetDrawTPage(DR_TPAGE *p,int dfe,int dtd,int tpage)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  undefined uVar4;
  undefined uVar6;
  undefined uVar7;
  undefined uVar9;
  uint uVar11;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_retaddr;
  DR_TPAGE *pDVar5;
  int iVar8;
  int iVar10;
  
  *(undefined *)((int)&p->tag + 3) = 1;
  pDVar5 = p;
  iVar2 = dfe;
  iVar8 = dtd;
  iVar10 = tpage;
  iVar1 = GetGraphType();
  uVar9 = (undefined)iVar10;
  uVar7 = (undefined)iVar8;
  uVar6 = (undefined)iVar2;
  uVar4 = SUB41(pDVar5,0);
  if ((iVar1 != 1) && (iVar2 = GetGraphType(), iVar2 != 2)) {
    uVar11 = 0xe1000000;
    if (dtd != 0) {
      uVar11 = 0xe1000200;
    }
    uVar3 = tpage & 0x9ff;
    if (dfe != 0) {
      uVar3 = uVar3 | 0x400;
    }
    p->code[0] = uVar11 | uVar3;
    return;
  }
  PRIM_OBJ_5C0(uVar4,uVar6,uVar7,uVar9,unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_retaddr);
  return;
}



void PRIM_OBJ_5C0(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                 undefined4 param_9)

{
  undefined4 in_v0;
  int unaff_s3;
  
  *(undefined4 *)(unaff_s3 + 4) = in_v0;
  return;
}



void SetDrawLoad(DR_LOAD *p,RECT *rect)

{
  int iVar1;
  char cVar2;
  
  iVar1 = ((int)rect->w * (int)rect->h + 1) / 2;
  cVar2 = (char)iVar1 + '\x04';
  if (10 < iVar1 - 1U) {
    cVar2 = '\0';
  }
  p->code[0] = 0x1000000;
  *(char *)((int)&p->tag + 3) = cVar2;
  p->code[1] = 0xa0000000;
  p->code[2] = *(u_long *)rect;
  p->code[3] = *(u_long *)&rect->w;
  return;
}



int MargePrim(void *p0,void *p1)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = (uint)*(byte *)((int)p0 + 3) + (uint)*(byte *)((int)p1 + 3) + 1;
  if (uVar2 < 0x21) {
    *(char *)((int)p0 + 3) = (char)uVar2;
    *(undefined4 *)p1 = 0;
    iVar1 = PRIM_OBJ_678();
    return iVar1;
  }
  return -1;
}



void PRIM_OBJ_678(void)

{
  return;
}



void DumpDrawEnv(DRAWENV *env)

{
  (*(code *)PTR_printf_80032890)
            (s_clip___3d__3d____d__d__8001061c,(int)(env->clip).x,(int)(env->clip).y,
             (int)(env->clip).w,(int)(env->clip).h);
  return;
}



void PRIM_OBJ_7EC(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8)

{
  return;
}



void DumpDispEnv(DISPENV *env)

{
  (*(code *)PTR_printf_80032890)
            (s_disp___3d__3d____d__d__80010674,(int)(env->disp).x,(int)(env->disp).y,
             (int)(env->disp).w,(int)(env->disp).h);
  return;
}



int ResetGraph(int mode)

{
  int iVar1;
  
  if (((mode & 7U) != 0) && ((mode & 7U) != 3)) {
    if (1 < DAT_80032896) {
      iVar1 = (*(code *)PTR_printf_80032890)(s_ResetGraph__d_____80010718);
      return iVar1;
    }
    iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x34))(1);
    return iVar1;
  }
                    // WARNING: Subroutine does not return
  printf(s_ResetGraph_jtb__08x_env__08x_800106f8,&PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003284c,
         &DAT_80032894);
}



void SYS_OBJ_140(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  return;
}



int SetGraphReverse(int mode)

{
  int iVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  uint uVar4;
  undefined4 unaff_retaddr;
  
  uVar4 = (uint)DAT_80032897;
  if (1 < DAT_80032896) {
    iVar1 = (*(code *)PTR_printf_80032890)(s_SetGraphReverse__d_____8001072c,mode);
    return iVar1;
  }
  DAT_80032897 = (byte)mode;
  uVar2 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x28))(8);
  if (DAT_80032897 != '\0') {
    iVar1 = SYS_OBJ_1E4(uVar2,in_a1,in_a2,in_a3,unaff_s0,unaff_s1,unaff_s2,unaff_retaddr);
    return iVar1;
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(uVar2 | 0x8000000);
  if (DAT_80032894 == '\x02') {
    uVar3 = 0x20000504;
    if (DAT_80032897 != '\0') {
      uVar3 = 0x20000501;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(uVar3);
  }
  return uVar4;
}



void SYS_OBJ_1E4(uint param_1,undefined param_2,undefined param_3,undefined param_4,
                undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  uint in_v0;
  undefined4 uVar1;
  
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(param_1 | in_v0);
  if (DAT_80032894 == '\x02') {
    uVar1 = 0x20000504;
    if (DAT_80032897 != '\0') {
      uVar1 = 0x20000501;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(uVar1);
  }
  return;
}



int SetGraphDebug(int level)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = (uint)DAT_80032896;
  DAT_80032896 = (byte)level;
  if ((level & 0xffU) != 0) {
    iVar1 = (*(code *)PTR_printf_80032890)
                      (s_SetGraphDebug_level__d_type__d_r_80010744,level & 0xff,DAT_80032894,
                       DAT_80032897);
    return iVar1;
  }
  return uVar2;
}



int SetGraphQueue(int mode)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = (uint)DAT_80032895;
  if (1 < DAT_80032896) {
    iVar1 = (*(code *)PTR_printf_80032890)(s_SetGrapQue__d_____80010770,mode);
    return iVar1;
  }
  if (mode != (uint)DAT_80032895) {
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x34))(1);
    DAT_80032895 = (byte)mode;
    DMACallback();
  }
  return uVar2;
}



undefined GetGraphType(void)

{
  return DAT_80032894;
}



int GetGraphDebug(void)

{
  return (uint)DAT_80032896;
}



u_long DrawSyncCallback(func *func)

{
  u_long uVar1;
  
  if (1 < DAT_80032896) {
    uVar1 = (*(code *)PTR_printf_80032890)(s_DrawSyncCallback__08x_____80010784,func);
    return uVar1;
  }
  uVar1 = (u_long)DAT_800328a0;
  DAT_800328a0 = func;
  return uVar1;
}



void SetDispMask(int mask)

{
  undefined4 uVar1;
  
  if (1 < DAT_80032896) {
    (*(code *)PTR_printf_80032890)(s_SetDispMask__d_____800107a0,mask);
    return;
  }
  if (mask == 0) {
    memset((uchar *)&DAT_80032900,0xff,0x14);
  }
  uVar1 = 0x3000001;
  if (mask != 0) {
    uVar1 = 0x3000000;
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(uVar1);
  return;
}



int DrawSync(int mode)

{
  int iVar1;
  
  if (1 < DAT_80032896) {
    iVar1 = (*(code *)PTR_printf_80032890)(s_DrawSync__d_____800107b4,mode);
    return iVar1;
  }
  iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x3c))(mode);
  return iVar1;
}



void checkRECT(char *CallerName,RECT *recp)

{
  int iVar1;
  int iVar2;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_retaddr;
  undefined in_stack_fffffff0;
  undefined in_stack_fffffff4;
  
  if (DAT_80032896 != '\x01') {
    if (DAT_80032896 != '\x02') {
      SYS_OBJ_61C((char)CallerName,(char)recp,in_a2,in_a3,in_stack_fffffff0,in_stack_fffffff4,
                  unaff_s0,unaff_retaddr);
      return;
    }
    (*(code *)PTR_printf_80032890)(&DAT_800107e8,CallerName);
    return;
  }
  iVar2 = (int)recp->w;
  if ((iVar2 <= DAT_80032898) && (iVar2 + recp->x <= (int)DAT_80032898)) {
    iVar1 = (int)recp->y;
    if (((iVar1 <= DAT_8003289a) &&
        (((iVar1 + recp->h <= (int)DAT_8003289a && (0 < iVar2)) && (-1 < recp->x)))) &&
       ((-1 < iVar1 && (0 < recp->h)))) {
      return;
    }
  }
  SYS_OBJ_5E0();
  return;
}



void SYS_OBJ_5E0(void)

{
  (*(code *)PTR_printf_80032890)();
  return;
}



void SYS_OBJ_61C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8)

{
  return;
}



int ClearImage(RECT *rect,u_char r,u_char g,u_char b)

{
  int iVar1;
  
  checkRECT(s_ClearImage_800107ec,rect);
  iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 8))
                    (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0xc),rect
                     ,8,(uint)b << 0x10 | (uint)g << 8 | (uint)r);
  return iVar1;
}



int LoadImage(RECT *rect,u_long *p)

{
  int iVar1;
  
  checkRECT(s_LoadImage_800107f8,rect);
  iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 8))
                    (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x20),
                     rect,8,p);
  return iVar1;
}



int StoreImage(RECT *rect,u_long *p)

{
  int iVar1;
  
  checkRECT(s_StoreImage_80010804,rect);
  iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 8))
                    (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x1c),
                     rect,8,p);
  return iVar1;
}



int MoveImage(RECT *rect,int x,int y)

{
  int iVar1;
  int iVar2;
  undefined uVar3;
  RECT *pRVar4;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_retaddr;
  
  uVar3 = 0x10;
  pRVar4 = rect;
  iVar2 = y;
  checkRECT(s_MoveImage_80010810,rect);
  iVar1 = -1;
  if (rect->w != 0) {
    if (rect->h == 0) {
      iVar2 = SYS_OBJ_834(uVar3,(char)pRVar4,(char)iVar2,in_a3,unaff_s0,unaff_s1,unaff_s2,
                          unaff_retaddr);
      return iVar2;
    }
    DAT_80032948 = y << 0x10 | x & 0xffffU;
    DAT_80032944._0_2_ = rect->x;
    DAT_80032944._2_2_ = rect->y;
    DAT_8003294c._0_2_ = rect->w;
    DAT_8003294c._2_2_ = rect->h;
    iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 8))
                      (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x18),
                       &DAT_8003293c,0x14,0);
  }
  return iVar1;
}



void SYS_OBJ_834(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  return;
}



u_long * ClearOTag(u_long *ot,int n)

{
  u_long *puVar1;
  int iVar2;
  
  if (1 < DAT_80032896) {
    puVar1 = (u_long *)(*(code *)PTR_printf_80032890)(s_ClearOTag__08x__d_____8001081c,ot,n);
    return puVar1;
  }
  for (iVar2 = n + -1; iVar2 != 0; iVar2 = iVar2 + -1) {
    *(undefined *)((int)ot + 3) = 0;
    *ot = *ot & 0xff000000 | (uint)(ot + 1) & 0xffffff;
    ot = ot + 1;
  }
  *ot = 0x32950;
  return ot;
}



u_long * ClearOTagR(u_long *ot,int n)

{
  u_long *puVar1;
  
  if (1 < DAT_80032896) {
    puVar1 = (u_long *)(*(code *)PTR_printf_80032890)(s_ClearOTagR__08x__d_____80010834,ot,n);
    return puVar1;
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x2c))(ot,n);
  *ot = 0x32950;
  return ot;
}



void DrawPrim(void *p)

{
  undefined uVar1;
  
  uVar1 = *(undefined *)((int)p + 3);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x3c))(0);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x14))((int)p + 4,uVar1);
  return;
}



void DrawOTag(u_long *p)

{
  if (1 < DAT_80032896) {
    (*(code *)PTR_printf_80032890)(s_DrawOTag__08x_____8001084c,p);
    return;
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 8))
            (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x18),p,0,0);
  return;
}



DRAWENV * PutDrawEnv(DRAWENV *env)

{
  undefined *puVar1;
  DRAWENV *pDVar2;
  
  if (1 < DAT_80032896) {
    pDVar2 = (DRAWENV *)(*(code *)PTR_printf_80032890)(s_PutDrawEnv__08x_____80010860,env);
    return pDVar2;
  }
  SetDrawEnv(&env->dr_env,env);
  puVar1 = PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c;
  (env->dr_env).tag = (env->dr_env).tag | 0xffffff;
  (**(code **)(puVar1 + 8))(*(undefined4 *)(puVar1 + 0x18),&env->dr_env,0x40,0);
  memcpy(&DAT_800328a4,(uchar *)env,0x5c);
  return env;
}



void DrawOTagEnv(uint param_1,undefined4 *param_2)

{
  undefined *puVar1;
  
  if (1 < DAT_80032896) {
    (*(code *)PTR_printf_80032890)(s_DrawOTagEnv__08x__08x_____80010878,param_1,param_2);
    return;
  }
  SetDrawEnv((DR_ENV *)(param_2 + 7),(DRAWENV *)param_2);
  puVar1 = PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c;
  param_2[7] = param_2[7] & 0xff000000 | param_1 & 0xffffff;
  (**(code **)(puVar1 + 8))(*(undefined4 *)(puVar1 + 0x18),(DR_ENV *)(param_2 + 7),0x40,0);
  memcpy(&DAT_800328a4,(uchar *)param_2,0x5c);
  return;
}



DRAWENV * GetDrawEnv(DRAWENV *env)

{
  memcpy((uchar *)env,&DAT_800328a4,0x5c);
  return env;
}



DISPENV * PutDispEnv(DISPENV *env)

{
  short sVar1;
  bool bVar2;
  DISPENV *pDVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  undefined uVar7;
  int iVar8;
  uint uVar9;
  undefined in_a1;
  uint uVar10;
  undefined *puVar11;
  undefined in_a2;
  uint uVar12;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  uint uVar13;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  uint uVar14;
  undefined4 unaff_retaddr;
  
  uVar14 = 0x8000000;
  if (1 < DAT_80032896) {
    pDVar3 = (DISPENV *)(*(code *)PTR_printf_80032890)(s_PutDispEnv__08x_____80010894,env);
    return pDVar3;
  }
  if (DAT_80032894 - 1 < 2) {
    get_dx((short *)env);
    pDVar3 = (DISPENV *)SYS_OBJ_CFC();
    return pDVar3;
  }
  uVar7 = (undefined)(env->disp).x;
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))();
  if ((((DAT_80032908 == (env->screen).x) && (DAT_8003290a == (env->screen).y)) &&
      (DAT_8003290c == (env->screen).w)) && (DAT_8003290e == (env->screen).h)) goto SYS_OBJ_F54;
  uVar4 = GetVideoMode();
  sVar1 = (env->screen).x;
  env->pad0 = (u_char)uVar4;
  iVar5 = sVar1 * 10;
  uVar10 = iVar5 + 0x260;
  iVar8 = (int)(env->screen).y;
  uVar13 = iVar8 + 0x13;
  if (env->pad0 == '\0') {
    uVar13 = iVar8 + 0x10;
  }
  iVar6 = (int)(env->screen).w;
  if (iVar6 != 0) {
    pDVar3 = (DISPENV *)SYS_OBJ_DE8(iVar8,uVar10,uVar10 + iVar6 * 10);
    return pDVar3;
  }
  uVar12 = iVar5 + 0xc60;
  iVar5 = (int)(env->screen).h;
  iVar8 = uVar13 + iVar5;
  if (iVar5 == 0) {
    iVar8 = uVar13 + 0xf0;
  }
  uVar9 = 500;
  if ((499 < (int)uVar10) && (uVar9 = uVar10, 0xcda < (int)uVar10)) {
    uVar9 = 0xcda;
  }
  uVar10 = uVar9 + 0x50;
  if (((int)(uVar9 + 0x50) <= (int)uVar12) && (uVar10 = uVar12, 0xcda < (int)uVar12)) {
    uVar10 = 0xcda;
  }
  if ((int)uVar13 < 0x10) {
    iVar5 = 0x10;
  }
  else {
    if (env->pad0 == '\0') {
      if ((int)uVar13 < 0x101) {
        pDVar3 = (DISPENV *)SYS_OBJ_E9C(uVar13,uVar9,uVar10);
        return pDVar3;
      }
    }
    else if ((int)uVar13 < 0x137) {
      pDVar3 = (DISPENV *)SYS_OBJ_E9C(uVar13,uVar9,uVar10);
      return pDVar3;
    }
    iVar5 = 0x100;
    if (env->pad0 != '\0') {
      pDVar3 = (DISPENV *)SYS_OBJ_E9C(0x136,uVar9,uVar10);
      return pDVar3;
    }
  }
  if (iVar5 + 2 <= iVar8) {
    if (env->pad0 == '\0') {
      if (iVar8 < 0x103) goto code_r0x80025130;
    }
    else if (iVar8 < 0x139) {
      pDVar3 = (DISPENV *)SYS_OBJ_EF8(iVar5,uVar9,uVar10);
      return pDVar3;
    }
    if (env->pad0 != '\0') {
      pDVar3 = (DISPENV *)SYS_OBJ_EF8(iVar5,uVar9,uVar10);
      return pDVar3;
    }
  }
code_r0x80025130:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))
            ((uVar10 & 0xfff) << 0xc | uVar9 & 0xfff | 0x6000000);
  in_a2 = (undefined)uVar10;
  puVar11 = PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c;
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))();
  in_a1 = SUB41(puVar11,0);
  uVar7 = (undefined)iVar5;
SYS_OBJ_F54:
  iVar5._0_1_ = env->isinter;
  iVar5._1_1_ = env->isrgb24;
  iVar5._2_1_ = env->pad0;
  iVar5._3_1_ = env->pad1;
  if ((((DAT_80032910 != iVar5) || (DAT_80032900 != (env->disp).x)) ||
      (DAT_80032902 != (env->disp).y)) ||
     ((DAT_80032904 != (env->disp).w || (DAT_80032906 != (env->disp).h)))) {
    uVar4 = GetVideoMode();
    env->pad0 = (u_char)uVar4;
    if (env->pad0 == '\x01') {
      uVar14 = 0x8000008;
    }
    if (env->isrgb24 != '\0') {
      uVar14 = uVar14 | 0x10;
    }
    if (env->isinter != '\0') {
      uVar14 = uVar14 | 0x20;
    }
    if (DAT_80032897 != '\0') {
      uVar14 = uVar14 | 0x80;
    }
    sVar1 = (env->disp).w;
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        pDVar3 = (DISPENV *)
                 SYS_OBJ_1088(uVar7,in_a1,in_a2,in_a3,unaff_s0,unaff_s1,unaff_s2,unaff_s3,
                              unaff_retaddr);
        return pDVar3;
      }
      if (sVar1 < 0x191) {
        pDVar3 = (DISPENV *)
                 SYS_OBJ_1088(uVar7,in_a1,in_a2,in_a3,unaff_s0,unaff_s1,unaff_s2,unaff_s3,
                              unaff_retaddr);
        return pDVar3;
      }
      if (sVar1 < 0x231) {
        pDVar3 = (DISPENV *)
                 SYS_OBJ_1088(uVar7,in_a1,in_a2,in_a3,unaff_s0,unaff_s1,unaff_s2,unaff_s3,
                              unaff_retaddr);
        return pDVar3;
      }
      uVar14 = uVar14 | 3;
    }
    sVar1 = (env->disp).h;
    bVar2 = sVar1 < 0x121;
    if (env->pad0 == '\0') {
      bVar2 = sVar1 < 0x101;
    }
    if (!bVar2) {
      uVar14 = uVar14 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(uVar14);
  }
  memcpy((uchar *)&DAT_80032900,(uchar *)env,0x14);
  return env;
}



void SYS_OBJ_CFC(void)

{
  short sVar1;
  bool bVar2;
  byte in_v0;
  undefined4 uVar3;
  byte in_v1;
  byte bVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  undefined in_a1;
  uint uVar8;
  undefined *puVar9;
  undefined in_a2;
  uint uVar10;
  undefined in_a3;
  short *unaff_s0;
  uint uVar11;
  uint unaff_s3;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  
  bVar4 = in_v0 | in_v1;
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))();
  if ((((DAT_80032908 == unaff_s0[4]) && (DAT_8003290a == unaff_s0[5])) &&
      (DAT_8003290c == unaff_s0[6])) && (DAT_8003290e == unaff_s0[7])) goto SYS_OBJ_F54;
  uVar3 = GetVideoMode();
  *(char *)(unaff_s0 + 9) = (char)uVar3;
  uVar8 = unaff_s0[4] * 10 + 0x260;
  iVar5 = (int)unaff_s0[5];
  uVar11 = iVar5 + 0x13;
  if (*(char *)(unaff_s0 + 9) == '\0') {
    uVar11 = iVar5 + 0x10;
  }
  if (unaff_s0[6] != 0) {
    SYS_OBJ_DE8(iVar5,uVar8,uVar8 + unaff_s0[6] * 10);
    return;
  }
  uVar10 = unaff_s0[4] * 10 + 0xc60;
  iVar5 = uVar11 + (int)unaff_s0[7];
  if (unaff_s0[7] == 0) {
    iVar5 = uVar11 + 0xf0;
  }
  uVar6 = 500;
  if ((499 < (int)uVar8) && (uVar6 = uVar8, 0xcda < (int)uVar8)) {
    uVar6 = 0xcda;
  }
  uVar8 = uVar6 + 0x50;
  if (((int)(uVar6 + 0x50) <= (int)uVar10) && (uVar8 = uVar10, 0xcda < (int)uVar10)) {
    uVar8 = 0xcda;
  }
  if ((int)uVar11 < 0x10) {
    iVar7 = 0x10;
  }
  else {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      if ((int)uVar11 < 0x101) {
        SYS_OBJ_E9C(uVar11,uVar6,uVar8);
        return;
      }
    }
    else if ((int)uVar11 < 0x137) {
      SYS_OBJ_E9C(uVar11,uVar6,uVar8);
      return;
    }
    iVar7 = 0x100;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_E9C(0x136,uVar6,uVar8);
      return;
    }
  }
  if (iVar7 + 2 <= iVar5) {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      if (iVar5 < 0x103) goto code_r0x80025130;
    }
    else if (iVar5 < 0x139) {
      SYS_OBJ_EF8(iVar7,uVar6,uVar8);
      return;
    }
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_EF8(iVar7,uVar6,uVar8);
      return;
    }
  }
code_r0x80025130:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))
            ((uVar8 & 0xfff) << 0xc | uVar6 & 0xfff | 0x6000000);
  in_a2 = (undefined)uVar8;
  puVar9 = PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c;
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))();
  in_a1 = SUB41(puVar9,0);
  bVar4 = (byte)iVar7;
SYS_OBJ_F54:
  if ((((DAT_80032910 != *(int *)(unaff_s0 + 8)) || (DAT_80032900 != *unaff_s0)) ||
      (DAT_80032902 != unaff_s0[1])) ||
     ((DAT_80032904 != unaff_s0[2] || (DAT_80032906 != unaff_s0[3])))) {
    uVar3 = GetVideoMode();
    *(char *)(unaff_s0 + 9) = (char)uVar3;
    if (*(char *)(unaff_s0 + 9) == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_80032897 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_1088(bVar4,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                     in_stack_0000001c,in_stack_00000020);
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_1088(bVar4,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                     in_stack_0000001c,in_stack_00000020);
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_1088(bVar4,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                     in_stack_0000001c,in_stack_00000020);
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_80032900,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_DE8(undefined4 param_1,uint param_2,uint param_3)

{
  short sVar1;
  bool bVar2;
  undefined4 uVar3;
  uint uVar4;
  undefined uVar5;
  uint uVar6;
  int iVar7;
  undefined uVar8;
  undefined uVar10;
  undefined in_a3;
  short *unaff_s0;
  uint unaff_s1;
  int iVar11;
  uint unaff_s3;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined *puVar9;
  
  iVar11 = unaff_s1 + (int)unaff_s0[7];
  if (unaff_s0[7] == 0) {
    iVar11 = unaff_s1 + 0xf0;
  }
  uVar6 = 500;
  if ((499 < (int)param_2) && (uVar6 = param_2, 0xcda < (int)param_2)) {
    uVar6 = 0xcda;
  }
  uVar4 = uVar6 + 0x50;
  if (((int)(uVar6 + 0x50) <= (int)param_3) && (uVar4 = param_3, 0xcda < (int)param_3)) {
    uVar4 = 0xcda;
  }
  if ((int)unaff_s1 < 0x10) {
    iVar7 = 0x10;
  }
  else {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      if ((int)unaff_s1 < 0x101) {
        SYS_OBJ_E9C(unaff_s1,uVar6,uVar4);
        return;
      }
    }
    else if ((int)unaff_s1 < 0x137) {
      SYS_OBJ_E9C(unaff_s1,uVar6,uVar4);
      return;
    }
    iVar7 = 0x100;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_E9C(0x136,uVar6,uVar4);
      return;
    }
  }
  if (iVar7 + 2 <= iVar11) {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      if (iVar11 < 0x103) goto code_r0x80025130;
    }
    else if (iVar11 < 0x139) {
      SYS_OBJ_EF8(iVar7,uVar6,uVar4);
      return;
    }
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_EF8(iVar7,uVar6,uVar4);
      return;
    }
  }
code_r0x80025130:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))
            ((uVar4 & 0xfff) << 0xc | uVar6 & 0xfff | 0x6000000);
  uVar10 = (undefined)uVar4;
  puVar9 = PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c;
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))();
  uVar8 = SUB41(puVar9,0);
  uVar5 = (undefined)iVar7;
  if ((((DAT_80032910 != *(int *)(unaff_s0 + 8)) || (DAT_80032900 != *unaff_s0)) ||
      (DAT_80032902 != unaff_s0[1])) ||
     ((DAT_80032904 != unaff_s0[2] || (DAT_80032906 != unaff_s0[3])))) {
    uVar3 = GetVideoMode();
    *(char *)(unaff_s0 + 9) = (char)uVar3;
    if (*(char *)(unaff_s0 + 9) == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_80032897 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_1088(uVar5,uVar8,uVar10,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                     in_stack_0000001c,in_stack_00000020);
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_1088(uVar5,uVar8,uVar10,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                     in_stack_0000001c,in_stack_00000020);
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_1088(uVar5,uVar8,uVar10,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                     in_stack_0000001c,in_stack_00000020);
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_80032900,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_E9C(uint param_1,uint param_2,uint param_3)

{
  short sVar1;
  bool bVar2;
  undefined4 uVar3;
  undefined uVar4;
  undefined uVar5;
  undefined uVar7;
  undefined in_a3;
  short *unaff_s0;
  int unaff_s2;
  uint unaff_s3;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined *puVar6;
  
  if ((int)(param_1 + 2) <= unaff_s2) {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      if (unaff_s2 < 0x103) goto code_r0x80025130;
    }
    else if (unaff_s2 < 0x139) {
      SYS_OBJ_EF8(param_1,param_2,param_3);
      return;
    }
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_EF8(param_1,param_2,param_3);
      return;
    }
  }
code_r0x80025130:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))
            ((param_3 & 0xfff) << 0xc | param_2 & 0xfff | 0x6000000);
  uVar7 = (undefined)param_3;
  uVar4 = (undefined)param_1;
  puVar6 = PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c;
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))();
  uVar5 = SUB41(puVar6,0);
  if ((((DAT_80032910 != *(int *)(unaff_s0 + 8)) || (DAT_80032900 != *unaff_s0)) ||
      (DAT_80032902 != unaff_s0[1])) ||
     ((DAT_80032904 != unaff_s0[2] || (DAT_80032906 != unaff_s0[3])))) {
    uVar3 = GetVideoMode();
    *(char *)(unaff_s0 + 9) = (char)uVar3;
    if (*(char *)(unaff_s0 + 9) == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_80032897 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_1088(uVar4,uVar5,uVar7,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                     in_stack_0000001c,in_stack_00000020);
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_1088(uVar4,uVar5,uVar7,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                     in_stack_0000001c,in_stack_00000020);
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_1088(uVar4,uVar5,uVar7,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                     in_stack_0000001c,in_stack_00000020);
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_80032900,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_EF8(undefined4 param_1,uint param_2,uint param_3)

{
  short sVar1;
  bool bVar2;
  undefined4 uVar3;
  undefined uVar4;
  undefined uVar6;
  undefined in_a3;
  short *unaff_s0;
  undefined unaff_s1;
  uint unaff_s3;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined *puVar5;
  
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))
            ((param_3 & 0xfff) << 0xc | param_2 & 0xfff | 0x6000000);
  uVar6 = (undefined)param_3;
  puVar5 = PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c;
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))();
  uVar4 = SUB41(puVar5,0);
  if ((((DAT_80032910 != *(int *)(unaff_s0 + 8)) || (DAT_80032900 != *unaff_s0)) ||
      (DAT_80032902 != unaff_s0[1])) ||
     ((DAT_80032904 != unaff_s0[2] || (DAT_80032906 != unaff_s0[3])))) {
    uVar3 = GetVideoMode();
    *(char *)(unaff_s0 + 9) = (char)uVar3;
    if (*(char *)(unaff_s0 + 9) == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_80032897 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_1088(unaff_s1,uVar4,uVar6,in_a3,in_stack_00000010,in_stack_00000014,
                     in_stack_00000018,in_stack_0000001c,in_stack_00000020);
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_1088(unaff_s1,uVar4,uVar6,in_a3,in_stack_00000010,in_stack_00000014,
                     in_stack_00000018,in_stack_0000001c,in_stack_00000020);
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_1088(unaff_s1,uVar4,uVar6,in_a3,in_stack_00000010,in_stack_00000014,
                     in_stack_00000018,in_stack_0000001c,in_stack_00000020);
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_80032900,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_1088(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                 undefined4 param_9)

{
  bool bVar1;
  uchar *unaff_s0;
  uint unaff_s3;
  
  bVar1 = *(short *)(unaff_s0 + 6) < 0x121;
  if (unaff_s0[0x12] == '\0') {
    bVar1 = *(short *)(unaff_s0 + 6) < 0x101;
  }
  if (!bVar1) {
    unaff_s3 = unaff_s3 | 0x24;
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x10))(unaff_s3);
  memcpy((uchar *)&DAT_80032900,unaff_s0,0x14);
  return;
}



DISPENV * GetDispEnv(DISPENV *env)

{
  memcpy((uchar *)env,(uchar *)&DAT_80032900,0x14);
  return env;
}



uint GetODE(void)

{
  uint uVar1;
  
  uVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_120_1996_05_01_12_8003288c + 0x38))();
  return uVar1 >> 0x1f;
}



void SetTexWindow(DR_TWIN *p,RECT *tw)

{
  uint uVar1;
  
  *(undefined *)((int)&p->tag + 3) = 2;
  uVar1 = get_tw((byte *)tw);
  p->code[0] = uVar1;
  p->code[1] = 0;
  return;
}



void SetDrawArea(DR_AREA *p,RECT *r)

{
  uint uVar1;
  
  *(undefined *)((int)&p->tag + 3) = 2;
  uVar1 = get_cs(r->x,r->y);
  p->code[0] = uVar1;
  uVar1 = get_ce(r->x + r->w + -1,r->y + r->h + -1);
  p->code[1] = uVar1;
  return;
}



void SetDrawOffset(DR_OFFSET *p,u_short *ofs)

{
  uint uVar1;
  
  *(undefined *)((int)&p->tag + 3) = 2;
  uVar1 = get_ofs((int)(short)*ofs,(int)(short)ofs[1]);
  p->code[0] = uVar1;
  p->code[1] = 0;
  return;
}



void SetPriority(DR_PRIO *p,int pbc,int pbw)

{
  uint uVar1;
  
  *(undefined *)((int)&p->tag + 3) = 2;
  uVar1 = 0xe6000000;
  if (pbc != 0) {
    uVar1 = 0xe6000002;
  }
  p->code[0] = uVar1 | pbw != 0;
  p->code[1] = 0;
  return;
}



void SetDrawMode(DR_MODE *p,int dfe,int dtd,int tpage,RECT *tw)

{
  uint uVar1;
  
  *(undefined *)((int)&p->tag + 3) = 2;
  uVar1 = get_mode(dfe,dtd,tpage & 0xffff);
  p->code[0] = uVar1;
  uVar1 = get_tw((byte *)tw);
  p->code[1] = uVar1;
  return;
}



void SetDrawEnv(DR_ENV *dr_env,DRAWENV *env)

{
  byte bVar1;
  ushort uVar2;
  short sVar3;
  ushort uVar4;
  short sVar5;
  u_long uVar6;
  ushort uVar7;
  short sVar8;
  short sVar9;
  uint uVar10;
  undefined uVar11;
  uint uVar12;
  undefined uVar13;
  uint uVar14;
  undefined in_a3;
  char cVar15;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_retaddr;
  
  uVar10 = get_cs((env->clip).x,(env->clip).y);
  dr_env->code[0] = uVar10;
  uVar10 = get_ce((env->clip).w + (env->clip).x + -1,(env->clip).y + (env->clip).h + -1);
  dr_env->code[1] = uVar10;
  uVar10 = get_ofs((int)env->ofs[0],(int)env->ofs[1]);
  dr_env->code[2] = uVar10;
  uVar12 = (uint)env->dtd;
  uVar14 = (uint)env->tpage;
  uVar10 = get_mode((uint)env->dfe,uVar12,uVar14);
  uVar13 = (undefined)uVar14;
  uVar11 = (undefined)uVar12;
  dr_env->code[3] = uVar10;
  uVar10 = get_tw((byte *)&env->tw);
  dr_env->code[4] = uVar10;
  dr_env->code[5] = 0xe6000000;
  cVar15 = '\a';
  if (env->isbg != '\0') {
    uVar2 = (env->clip).x;
    sVar3 = (env->clip).y;
    uVar6._0_2_ = (env->clip).x;
    uVar6._2_2_ = (env->clip).y;
    uVar4 = (env->clip).w;
    sVar8 = (env->clip).h;
    uVar7 = 0;
    if ((-1 < (short)uVar4) && (uVar7 = uVar4, DAT_80032898 + -1 < (int)(short)uVar4)) {
      uVar7 = (ushort)(DAT_80032898 + -1);
    }
    if (sVar8 < 0) {
      sVar8 = 0;
    }
    else if (DAT_8003289a + -1 < (int)sVar8) {
      SYS_OBJ_1454((char)(DAT_8003289a + -1),uVar11,uVar13,in_a3,uVar6,CONCAT22(sVar8,uVar7));
      return;
    }
    if (((uVar2 & 0x3f) != 0) || ((uVar7 & 0x3f) != 0)) {
      sVar9 = uVar2 - env->ofs[0];
      sVar5 = env->ofs[1];
      bVar1 = env->r0;
      dr_env->code[6] = (uint)env->b0 << 0x10 | (uint)env->g0 << 8 | 0x60000000 | (uint)bVar1;
      dr_env->code[7] = CONCAT22(sVar3 - sVar5,sVar9);
      dr_env->code[8] = CONCAT22(sVar8,uVar7);
      SYS_OBJ_1570(bVar1,(char)(dr_env->code + 7),(char)(dr_env->code + 6),in_a3,
                   (char)sVar9 + (char)env->ofs[0],(char)uVar7,unaff_s0,unaff_s1,unaff_retaddr);
      return;
    }
    cVar15 = '\n';
    dr_env->code[6] = (uint)env->b0 << 0x10 | (uint)env->g0 << 8 | 0x2000000 | (uint)env->r0;
    dr_env->code[7] = uVar6;
    dr_env->code[8] = CONCAT22(sVar8,uVar7);
  }
  *(char *)((int)&dr_env->tag + 3) = cVar15 + -1;
  return;
}



void SYS_OBJ_1454(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 uint param_5,undefined4 param_6)

{
  byte bVar1;
  undefined2 in_v0;
  short sVar2;
  undefined4 *puVar3;
  uint *puVar4;
  int in_t0;
  int unaff_s0;
  int unaff_s1;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  
  param_6 = CONCAT22(in_v0,(ushort)param_6);
  if (((param_5 & 0x3f) == 0) && (((ushort)param_6 & 0x3f) == 0)) {
    *(uint *)(in_t0 * 4 + unaff_s1) =
         (uint)*(byte *)(unaff_s0 + 0x1b) << 0x10 |
         (uint)*(byte *)(unaff_s0 + 0x1a) << 8 | 0x2000000 | (uint)*(byte *)(unaff_s0 + 0x19);
    *(uint *)((in_t0 + 1) * 4 + unaff_s1) = param_5;
    *(undefined4 *)((in_t0 + 2) * 4 + unaff_s1) = param_6;
    *(char *)(unaff_s1 + 3) = (char)in_t0 + '\x02';
    return;
  }
  puVar4 = (uint *)(in_t0 * 4 + unaff_s1);
  sVar2 = (short)param_5 - *(short *)(unaff_s0 + 8);
  param_5 = CONCAT22(param_5._2_2_ - *(short *)(unaff_s0 + 10),sVar2);
  bVar1 = *(byte *)(unaff_s0 + 0x19);
  *puVar4 = (uint)*(byte *)(unaff_s0 + 0x1b) << 0x10 |
            (uint)*(byte *)(unaff_s0 + 0x1a) << 8 | 0x60000000 | (uint)bVar1;
  puVar3 = (undefined4 *)((in_t0 + 1) * 4 + unaff_s1);
  *puVar3 = param_5;
  *(undefined4 *)((in_t0 + 2) * 4 + unaff_s1) = param_6;
  param_5._0_1_ = (char)sVar2 + (char)*(undefined2 *)(unaff_s0 + 8);
  SYS_OBJ_1570(bVar1,(char)puVar3,(char)puVar4,param_4,(char)param_5,(undefined)param_6,
               in_stack_00000018,in_stack_0000001c,in_stack_00000020);
  return;
}



void SYS_OBJ_1570(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined4 param_7,undefined4 param_8,
                 undefined4 param_9)

{
  char in_t0;
  int unaff_s1;
  
  *(char *)(unaff_s1 + 3) = in_t0 + -1;
  return;
}



uint get_mode(int param_1,int param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  
  if (DAT_80032894 - 1 < 2) {
    uVar2 = 0xe1000000;
    if (param_2 != 0) {
      uVar2 = 0xe1000800;
    }
    uVar1 = param_3 & 0x27ff;
    if (param_1 != 0) {
      uVar2 = SYS_OBJ_15E4();
      return uVar2;
    }
  }
  else {
    uVar2 = 0xe1000000;
    if (param_2 != 0) {
      uVar2 = 0xe1000200;
    }
    uVar1 = param_3 & 0x9ff;
    if (param_1 != 0) {
      uVar1 = uVar1 | 0x400;
    }
  }
  return uVar2 | uVar1;
}



uint SYS_OBJ_15E4(void)

{
  uint in_v0;
  uint in_v1;
  
  return in_v1 | in_v0;
}



uint get_cs(short param_1,short param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar3 = (uint)param_1;
  uVar1 = 0;
  if ((-1 < (int)uVar3) && (uVar1 = uVar3, (int)((int)DAT_80032898 - 1U) < (int)uVar3)) {
    uVar1 = (int)DAT_80032898 - 1U;
  }
  uVar2 = (uint)param_2;
  uVar3 = 0;
  if ((-1 < (int)uVar2) && (uVar3 = uVar2, (int)((int)DAT_8003289a - 1U) < (int)uVar2)) {
    uVar3 = (int)DAT_8003289a - 1U;
  }
  if (DAT_80032894 - 1 < 2) {
    return (uVar3 & 0xfff) << 0xc | uVar1 & 0xfff | 0xe3000000;
  }
  uVar1 = SYS_OBJ_16A8();
  return uVar1;
}



uint SYS_OBJ_16A8(void)

{
  uint in_v0;
  uint in_v1;
  
  return in_v1 | in_v0 | 0xe3000000;
}



uint get_ce(short param_1,short param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar3 = (uint)param_1;
  uVar1 = 0;
  if ((-1 < (int)uVar3) && (uVar1 = uVar3, (int)((int)DAT_80032898 - 1U) < (int)uVar3)) {
    uVar1 = (int)DAT_80032898 - 1U;
  }
  uVar2 = (uint)param_2;
  uVar3 = 0;
  if ((-1 < (int)uVar2) && (uVar3 = uVar2, (int)((int)DAT_8003289a - 1U) < (int)uVar2)) {
    uVar3 = (int)DAT_8003289a - 1U;
  }
  if (DAT_80032894 - 1 < 2) {
    return (uVar3 & 0xfff) << 0xc | uVar1 & 0xfff | 0xe4000000;
  }
  uVar1 = SYS_OBJ_1774();
  return uVar1;
}



uint SYS_OBJ_1774(void)

{
  uint in_v0;
  uint in_v1;
  
  return in_v1 | in_v0 | 0xe4000000;
}



uint get_ofs(uint param_1,uint param_2)

{
  uint uVar1;
  
  if (1 < DAT_80032894 - 1) {
    uVar1 = SYS_OBJ_17BC();
    return uVar1;
  }
  return (param_2 & 0xfff) << 0xc | param_1 & 0xfff | 0xe5000000;
}



uint SYS_OBJ_17BC(void)

{
  uint in_v0;
  uint in_v1;
  
  return in_v1 | in_v0 | 0xe5000000;
}



uint get_tw(byte *param_1)

{
  uint uVar1;
  
  if (param_1 == (byte *)0x0) {
    uVar1 = SYS_OBJ_1844();
    return uVar1;
  }
  return (uint)(param_1[2] >> 3) << 0xf | (uint)(*param_1 >> 3) << 10 | 0xe2000000 |
         ((int)(-(int)*(short *)(param_1 + 6) & 0xffU) >> 3) << 5 |
         (int)(-(int)*(short *)(param_1 + 4) & 0xffU) >> 3;
}



void SYS_OBJ_1844(void)

{
  return;
}



int get_dx(short *param_1)

{
  int iVar1;
  
  if (DAT_80032894 == '\x01') {
    if (DAT_80032897 != '\0') {
      iVar1 = SYS_OBJ_1904();
      return iVar1;
    }
    return (int)*param_1;
  }
  if (DAT_80032894 != '\x02') {
    iVar1 = SYS_OBJ_1900(param_1);
    return iVar1;
  }
  if (DAT_80032897 != '\0') {
    iVar1 = SYS_OBJ_189C();
    return iVar1;
  }
  iVar1 = SYS_OBJ_1904();
  return iVar1;
}



void SYS_OBJ_189C(void)

{
  SYS_OBJ_1904();
  return;
}



int SYS_OBJ_1900(short *param_1)

{
  return (int)*param_1;
}



void SYS_OBJ_1904(void)

{
  return;
}



undefined4 _status(void)

{
  return *(undefined4 *)PTR_GPU_REG1_80032968;
}



int _otc(int param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  
  *(uint *)PTR_DMA_DPCR_80032984 = *(uint *)PTR_DMA_DPCR_80032984 | 0x8000000;
  *(undefined4 *)PTR_DMA_OTC_CHCR_80032980 = 0;
  *(int *)PTR_DMA_OTC_MADR_80032978 = param_1 + param_2 * 4 + -4;
  *(int *)PTR_DMA_OTC_BCR_8003297c = param_2;
  *(undefined4 *)PTR_DMA_OTC_CHCR_80032980 = 0x11000002;
  set_alarm();
  uVar1 = *(uint *)PTR_DMA_OTC_CHCR_80032980;
  while( true ) {
    if ((uVar1 & 0x1000000) == 0) {
      return param_2;
    }
    iVar2 = get_alarm();
    if (iVar2 != 0) break;
    uVar1 = *(uint *)PTR_DMA_OTC_CHCR_80032980;
  }
  return -1;
}



undefined4 _clr(undefined4 *param_1,uint param_2)

{
  short sVar1;
  undefined4 uVar2;
  uint uVar3;
  short sVar4;
  undefined uVar5;
  undefined uVar6;
  undefined uVar7;
  undefined uVar8;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_retaddr;
  
  sVar1 = *(short *)(param_1 + 1);
  if (sVar1 < 0) {
    sVar1 = 0;
  }
  else if (DAT_80032898 + -1 < (int)sVar1) {
    uVar2 = SYS_OBJ_1A68();
    return uVar2;
  }
  sVar4 = *(short *)((int)param_1 + 6);
  *(short *)(param_1 + 1) = sVar1;
  if (sVar4 < 0) {
    sVar4 = 0;
  }
  else if (DAT_8003289a + -1 < (int)sVar4) {
    uVar2 = SYS_OBJ_1AAC();
    return uVar2;
  }
  *(short *)((int)param_1 + 6) = sVar4;
  if (((*(ushort *)param_1 & 0x3f) == 0) && ((*(ushort *)(param_1 + 1) & 0x3f) == 0)) {
    DAT_80036eb4 = 0x4ffffff;
    DAT_80036eb8 = 0xe6000000;
    DAT_80036ebc = param_2 & 0xffffff | 0x2000000;
    DAT_80036ec0 = *param_1;
    DAT_80036ec4 = param_1[1];
    _cwc(&DAT_80036eb4);
    return 0;
  }
  uVar6 = 0xff;
  uVar7 = 0xd4;
  DAT_80036eb4 = 0x7036ed4;
  DAT_80036ec4 = 0xe6000000;
  DAT_80036ec8 = param_2 & 0xffffff | 0x60000000;
  DAT_80036eb8 = 0xe3000000;
  DAT_80036ebc = 0xe4ffffff;
  DAT_80036ec0 = 0xe5000000;
  DAT_80036ecc = *param_1;
  uVar8 = 0xff;
  DAT_80036ed0 = param_1[1];
  DAT_80036ed4 = 0x3ffffff;
  uVar3 = _param(3);
  DAT_80036ed8 = uVar3 | 0xe3000000;
  uVar3 = _param(4);
  DAT_80036edc = uVar3 | 0xe4000000;
  uVar5 = 5;
  uVar3 = _param(5);
  DAT_80036ee0 = uVar3 | 0xe5000000;
  uVar2 = SYS_OBJ_1BF8(uVar5,uVar6,uVar7,uVar8,unaff_s0,unaff_s1,unaff_retaddr);
  return uVar2;
}



undefined4 SYS_OBJ_1A68(void)

{
  ushort in_v0;
  undefined4 uVar1;
  uint uVar2;
  ushort uVar3;
  undefined uVar4;
  undefined uVar5;
  undefined uVar6;
  undefined uVar7;
  undefined4 *in_t0;
  uint in_t1;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  
  uVar3 = *(ushort *)((int)in_t0 + 6);
  *(ushort *)(in_t0 + 1) = in_v0;
  if ((short)uVar3 < 0) {
    uVar3 = 0;
  }
  else if (DAT_8003289a + -1 < (int)(short)uVar3) {
    uVar1 = SYS_OBJ_1AAC();
    return uVar1;
  }
  *(ushort *)((int)in_t0 + 6) = uVar3;
  if (((*(ushort *)in_t0 & 0x3f) == 0) && ((*(ushort *)(in_t0 + 1) & 0x3f) == 0)) {
    DAT_80036eb4 = 0x4ffffff;
    DAT_80036eb8 = 0xe6000000;
    DAT_80036ebc = in_t1 & 0xffffff | 0x2000000;
    DAT_80036ec0 = *in_t0;
    DAT_80036ec4 = in_t0[1];
    _cwc(&DAT_80036eb4);
    return 0;
  }
  uVar5 = 0xff;
  uVar6 = 0xd4;
  DAT_80036eb4 = 0x7036ed4;
  DAT_80036ec4 = 0xe6000000;
  DAT_80036ec8 = in_t1 & 0xffffff | 0x60000000;
  DAT_80036eb8 = 0xe3000000;
  DAT_80036ebc = 0xe4ffffff;
  DAT_80036ec0 = 0xe5000000;
  DAT_80036ecc = *in_t0;
  uVar7 = 0xff;
  DAT_80036ed0 = in_t0[1];
  DAT_80036ed4 = 0x3ffffff;
  uVar2 = _param(3);
  DAT_80036ed8 = uVar2 | 0xe3000000;
  uVar2 = _param(4);
  DAT_80036edc = uVar2 | 0xe4000000;
  uVar4 = 5;
  uVar2 = _param(5);
  DAT_80036ee0 = uVar2 | 0xe5000000;
  uVar1 = SYS_OBJ_1BF8(uVar4,uVar5,uVar6,uVar7,in_stack_00000010,in_stack_00000014,in_stack_00000018
                      );
  return uVar1;
}



undefined4 SYS_OBJ_1AAC(void)

{
  uint uVar1;
  undefined4 uVar2;
  ushort in_v1;
  undefined uVar3;
  undefined uVar4;
  undefined uVar5;
  undefined uVar6;
  undefined4 *in_t0;
  uint in_t1;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  
  *(ushort *)((int)in_t0 + 6) = in_v1;
  if (((*(ushort *)in_t0 & 0x3f) == 0) && ((*(ushort *)(in_t0 + 1) & 0x3f) == 0)) {
    DAT_80036eb4 = 0x4ffffff;
    DAT_80036eb8 = 0xe6000000;
    DAT_80036ebc = in_t1 & 0xffffff | 0x2000000;
    DAT_80036ec0 = *in_t0;
    DAT_80036ec4 = in_t0[1];
    _cwc(&DAT_80036eb4);
    return 0;
  }
  uVar4 = 0xff;
  uVar5 = 0xd4;
  DAT_80036eb4 = 0x7036ed4;
  DAT_80036ec4 = 0xe6000000;
  DAT_80036ec8 = in_t1 & 0xffffff | 0x60000000;
  DAT_80036eb8 = 0xe3000000;
  DAT_80036ebc = 0xe4ffffff;
  DAT_80036ec0 = 0xe5000000;
  DAT_80036ecc = *in_t0;
  uVar6 = 0xff;
  DAT_80036ed0 = in_t0[1];
  DAT_80036ed4 = 0x3ffffff;
  uVar1 = _param(3);
  DAT_80036ed8 = uVar1 | 0xe3000000;
  uVar1 = _param(4);
  DAT_80036edc = uVar1 | 0xe4000000;
  uVar3 = 5;
  uVar1 = _param(5);
  DAT_80036ee0 = uVar1 | 0xe5000000;
  uVar2 = SYS_OBJ_1BF8(uVar3,uVar4,uVar5,uVar6,in_stack_00000010,in_stack_00000014,in_stack_00000018
                      );
  return uVar2;
}



undefined4
SYS_OBJ_1BF8(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  _cwc(&DAT_80036eb4);
  return 0;
}



// WARNING: Removing unreachable block (ram,0x80025fd8)

undefined4 _dws(undefined4 *param_1,undefined4 *param_2)

{
  short sVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  short sVar6;
  int iVar7;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_retaddr;
  undefined in_stack_ffffffd0;
  undefined in_stack_ffffffd4;
  undefined in_stack_ffffffd8;
  undefined in_stack_ffffffdc;
  
  set_alarm();
  sVar6 = *(short *)(param_1 + 1);
  if (sVar6 < 0) {
    sVar6 = 0;
  }
  else if (DAT_80032898 < sVar6) {
    uVar2 = SYS_OBJ_1C94();
    return uVar2;
  }
  sVar1 = *(short *)((int)param_1 + 6);
  *(short *)(param_1 + 1) = sVar6;
  if (sVar1 < 0) {
    sVar6 = 0;
  }
  else {
    in_a2 = 0x9a;
    sVar6 = sVar1;
    if (DAT_8003289a < sVar1) {
      uVar2 = SYS_OBJ_1CDC(DAT_8003289a);
      return uVar2;
    }
  }
  *(short *)((int)param_1 + 6) = sVar6;
  iVar3 = (int)*(short *)(param_1 + 1) * (int)sVar6 + 1;
  iVar7 = iVar3 / 2;
  iVar3 = iVar3 - (iVar3 >> 0x1f) >> 5;
  if (0 < iVar7) {
    iVar7 = iVar7 + iVar3 * -0x10;
    uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    while( true ) {
      if ((uVar4 & 0x4000000) != 0) {
        *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000000;
        *(undefined4 *)PTR_GPU_REG0_80032964 = 0x1000000;
        *(undefined4 *)PTR_GPU_REG0_80032964 = 0xa0000000;
        *(undefined4 *)PTR_GPU_REG0_80032964 = *param_1;
        *(undefined4 *)PTR_GPU_REG0_80032964 = param_1[1];
        while (iVar7 = iVar7 + -1, iVar7 != -1) {
          uVar2 = *param_2;
          param_2 = param_2 + 1;
          *(undefined4 *)PTR_GPU_REG0_80032964 = uVar2;
        }
        if (iVar3 != 0) {
          *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000002;
          *(undefined4 **)PTR_DMA_GPU_MADR_8003296c = param_2;
          *(uint *)PTR_DMA_GPU_BCR_80032970 = iVar3 << 0x10 | 0x10;
          *(undefined4 *)PTR_DMA_GPU_CHCR_80032974 = 0x1000201;
        }
        return 0;
      }
      iVar5 = get_alarm();
      if (iVar5 != 0) break;
      uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    }
    return 0xffffffff;
  }
  uVar2 = SYS_OBJ_1E50((char)iVar7,(char)sVar1,in_a2,in_a3,in_stack_ffffffd0,in_stack_ffffffd4,
                       in_stack_ffffffd8,in_stack_ffffffdc,unaff_s0,unaff_s1,unaff_s2,unaff_s3,
                       unaff_s4,unaff_s5,unaff_retaddr);
  return uVar2;
}



undefined4 SYS_OBJ_1C94(void)

{
  short sVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  undefined2 in_v1;
  short sVar6;
  int iVar7;
  undefined in_a2;
  undefined in_a3;
  undefined4 *unaff_s1;
  undefined4 *unaff_s2;
  int unaff_s5;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  undefined4 in_stack_00000034;
  undefined4 in_stack_00000038;
  
  sVar1 = *(short *)((int)unaff_s1 + 6);
  *(undefined2 *)(unaff_s1 + 1) = in_v1;
  if (sVar1 < 0) {
    sVar6 = 0;
  }
  else {
    in_a2 = 0x9a;
    sVar6 = sVar1;
    if (DAT_8003289a < sVar1) {
      uVar2 = SYS_OBJ_1CDC(DAT_8003289a);
      return uVar2;
    }
  }
  *(short *)((int)unaff_s1 + 6) = sVar6;
  iVar3 = (int)*(short *)(unaff_s1 + 1) * (int)sVar6 + 1;
  iVar7 = iVar3 / 2;
  iVar3 = iVar3 - (iVar3 >> 0x1f) >> 5;
  if (0 < iVar7) {
    iVar7 = iVar7 + iVar3 * -0x10;
    uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    while( true ) {
      if ((uVar4 & 0x4000000) != 0) {
        uVar2 = 0xa0000000;
        *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000000;
        *(undefined4 *)PTR_GPU_REG0_80032964 = 0x1000000;
        if (unaff_s5 != 0) {
          uVar2 = 0xb0000000;
        }
        *(undefined4 *)PTR_GPU_REG0_80032964 = uVar2;
        *(undefined4 *)PTR_GPU_REG0_80032964 = *unaff_s1;
        *(undefined4 *)PTR_GPU_REG0_80032964 = unaff_s1[1];
        while (iVar7 = iVar7 + -1, iVar7 != -1) {
          uVar2 = *unaff_s2;
          unaff_s2 = unaff_s2 + 1;
          *(undefined4 *)PTR_GPU_REG0_80032964 = uVar2;
        }
        if (iVar3 != 0) {
          *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000002;
          *(undefined4 **)PTR_DMA_GPU_MADR_8003296c = unaff_s2;
          *(uint *)PTR_DMA_GPU_BCR_80032970 = iVar3 << 0x10 | 0x10;
          *(undefined4 *)PTR_DMA_GPU_CHCR_80032974 = 0x1000201;
        }
        return 0;
      }
      iVar5 = get_alarm();
      if (iVar5 != 0) break;
      uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    }
    return 0xffffffff;
  }
  uVar2 = SYS_OBJ_1E50((char)iVar7,(char)sVar1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,
                       in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                       in_stack_00000028,in_stack_0000002c,in_stack_00000030,in_stack_00000034,
                       in_stack_00000038);
  return uVar2;
}



undefined4 SYS_OBJ_1CDC(undefined2 param_1)

{
  int in_v0;
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 *unaff_s1;
  undefined4 *unaff_s2;
  int unaff_s5;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  undefined4 in_stack_00000034;
  undefined4 in_stack_00000038;
  
  *(undefined2 *)((int)unaff_s1 + 6) = param_1;
  iVar1 = (int)*(short *)(unaff_s1 + 1) * (in_v0 >> 0x10) + 1;
  iVar5 = iVar1 / 2;
  iVar1 = iVar1 - (iVar1 >> 0x1f) >> 5;
  if (iVar5 < 1) {
    uVar2 = SYS_OBJ_1E50((char)iVar5,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,
                         in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                         in_stack_00000028,in_stack_0000002c,in_stack_00000030,in_stack_00000034,
                         in_stack_00000038);
    return uVar2;
  }
  iVar5 = iVar5 + iVar1 * -0x10;
  uVar3 = *(uint *)PTR_GPU_REG1_80032968;
  while( true ) {
    if ((uVar3 & 0x4000000) != 0) {
      uVar2 = 0xa0000000;
      *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000000;
      *(undefined4 *)PTR_GPU_REG0_80032964 = 0x1000000;
      if (unaff_s5 != 0) {
        uVar2 = 0xb0000000;
      }
      *(undefined4 *)PTR_GPU_REG0_80032964 = uVar2;
      *(undefined4 *)PTR_GPU_REG0_80032964 = *unaff_s1;
      *(undefined4 *)PTR_GPU_REG0_80032964 = unaff_s1[1];
      while (iVar5 = iVar5 + -1, iVar5 != -1) {
        uVar2 = *unaff_s2;
        unaff_s2 = unaff_s2 + 1;
        *(undefined4 *)PTR_GPU_REG0_80032964 = uVar2;
      }
      if (iVar1 != 0) {
        *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000002;
        *(undefined4 **)PTR_DMA_GPU_MADR_8003296c = unaff_s2;
        *(uint *)PTR_DMA_GPU_BCR_80032970 = iVar1 << 0x10 | 0x10;
        *(undefined4 *)PTR_DMA_GPU_CHCR_80032974 = 0x1000201;
      }
      return 0;
    }
    iVar4 = get_alarm();
    if (iVar4 != 0) break;
    uVar3 = *(uint *)PTR_GPU_REG1_80032968;
  }
  return 0xffffffff;
}



void SYS_OBJ_1E50(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                 undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12,
                 undefined4 param_13,undefined4 param_14,undefined4 param_15)

{
  return;
}



undefined4 _drs(undefined4 *param_1,undefined4 *param_2)

{
  short sVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  short sVar6;
  int iVar7;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_retaddr;
  undefined in_stack_ffffffd8;
  undefined in_stack_ffffffdc;
  undefined in_stack_ffffffe0;
  undefined in_stack_ffffffe4;
  
  set_alarm();
  sVar6 = *(short *)(param_1 + 1);
  if (sVar6 < 0) {
    sVar6 = 0;
  }
  else if (DAT_80032898 < sVar6) {
    uVar2 = SYS_OBJ_1EE4();
    return uVar2;
  }
  sVar1 = *(short *)((int)param_1 + 6);
  *(short *)(param_1 + 1) = sVar6;
  if (sVar1 < 0) {
    sVar6 = 0;
  }
  else {
    in_a2 = 0x9a;
    sVar6 = sVar1;
    if (DAT_8003289a < sVar1) {
      uVar2 = SYS_OBJ_1F2C(DAT_8003289a);
      return uVar2;
    }
  }
  *(short *)((int)param_1 + 6) = sVar6;
  iVar3 = (int)*(short *)(param_1 + 1) * (int)sVar6 + 1;
  iVar7 = iVar3 / 2;
  iVar3 = iVar3 - (iVar3 >> 0x1f) >> 5;
  if (0 < iVar7) {
    iVar7 = iVar7 + iVar3 * -0x10;
    uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    while ((uVar4 & 0x4000000) == 0) {
      iVar5 = get_alarm();
      if (iVar5 != 0) {
        return 0xffffffff;
      }
      uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    }
    *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000000;
    *(undefined4 *)PTR_GPU_REG0_80032964 = 0x1000000;
    *(undefined4 *)PTR_GPU_REG0_80032964 = 0xc0000000;
    *(undefined4 *)PTR_GPU_REG0_80032964 = *param_1;
    *(undefined4 *)PTR_GPU_REG0_80032964 = param_1[1];
    uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    while( true ) {
      if ((uVar4 & 0x8000000) != 0) {
        while (iVar7 = iVar7 + -1, iVar7 != -1) {
          *param_2 = *(undefined4 *)PTR_GPU_REG0_80032964;
          param_2 = param_2 + 1;
        }
        if (iVar3 != 0) {
          *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000003;
          *(undefined4 **)PTR_DMA_GPU_MADR_8003296c = param_2;
          *(uint *)PTR_DMA_GPU_BCR_80032970 = iVar3 << 0x10 | 0x10;
          *(undefined4 *)PTR_DMA_GPU_CHCR_80032974 = 0x1000200;
        }
        return 0;
      }
      iVar5 = get_alarm();
      if (iVar5 != 0) break;
      uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    }
    return 0xffffffff;
  }
  uVar2 = SYS_OBJ_20F0((char)iVar7,(char)sVar1,in_a2,in_a3,in_stack_ffffffd8,in_stack_ffffffdc,
                       in_stack_ffffffe0,in_stack_ffffffe4,unaff_s0,unaff_s1,unaff_s2,unaff_s3,
                       unaff_s4,unaff_retaddr);
  return uVar2;
}



undefined4 SYS_OBJ_1EE4(void)

{
  short sVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  undefined2 in_v1;
  short sVar6;
  int iVar7;
  undefined in_a2;
  undefined in_a3;
  undefined4 *unaff_s1;
  undefined4 *unaff_s2;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  undefined4 in_stack_00000034;
  
  sVar1 = *(short *)((int)unaff_s1 + 6);
  *(undefined2 *)(unaff_s1 + 1) = in_v1;
  if (sVar1 < 0) {
    sVar6 = 0;
  }
  else {
    in_a2 = 0x9a;
    sVar6 = sVar1;
    if (DAT_8003289a < sVar1) {
      uVar2 = SYS_OBJ_1F2C(DAT_8003289a);
      return uVar2;
    }
  }
  *(short *)((int)unaff_s1 + 6) = sVar6;
  iVar3 = (int)*(short *)(unaff_s1 + 1) * (int)sVar6 + 1;
  iVar7 = iVar3 / 2;
  iVar3 = iVar3 - (iVar3 >> 0x1f) >> 5;
  if (0 < iVar7) {
    iVar7 = iVar7 + iVar3 * -0x10;
    uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    while ((uVar4 & 0x4000000) == 0) {
      iVar5 = get_alarm();
      if (iVar5 != 0) {
        return 0xffffffff;
      }
      uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    }
    *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000000;
    *(undefined4 *)PTR_GPU_REG0_80032964 = 0x1000000;
    *(undefined4 *)PTR_GPU_REG0_80032964 = 0xc0000000;
    *(undefined4 *)PTR_GPU_REG0_80032964 = *unaff_s1;
    *(undefined4 *)PTR_GPU_REG0_80032964 = unaff_s1[1];
    uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    while( true ) {
      if ((uVar4 & 0x8000000) != 0) {
        while (iVar7 = iVar7 + -1, iVar7 != -1) {
          *unaff_s2 = *(undefined4 *)PTR_GPU_REG0_80032964;
          unaff_s2 = unaff_s2 + 1;
        }
        if (iVar3 != 0) {
          *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000003;
          *(undefined4 **)PTR_DMA_GPU_MADR_8003296c = unaff_s2;
          *(uint *)PTR_DMA_GPU_BCR_80032970 = iVar3 << 0x10 | 0x10;
          *(undefined4 *)PTR_DMA_GPU_CHCR_80032974 = 0x1000200;
        }
        return 0;
      }
      iVar5 = get_alarm();
      if (iVar5 != 0) break;
      uVar4 = *(uint *)PTR_GPU_REG1_80032968;
    }
    return 0xffffffff;
  }
  uVar2 = SYS_OBJ_20F0((char)iVar7,(char)sVar1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,
                       in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                       in_stack_00000028,in_stack_0000002c,in_stack_00000030,in_stack_00000034);
  return uVar2;
}



undefined4 SYS_OBJ_1F2C(undefined2 param_1)

{
  int in_v0;
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 *unaff_s1;
  undefined4 *unaff_s2;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined4 in_stack_00000020;
  undefined4 in_stack_00000024;
  undefined4 in_stack_00000028;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  undefined4 in_stack_00000034;
  
  *(undefined2 *)((int)unaff_s1 + 6) = param_1;
  iVar1 = (int)*(short *)(unaff_s1 + 1) * (in_v0 >> 0x10) + 1;
  iVar5 = iVar1 / 2;
  iVar1 = iVar1 - (iVar1 >> 0x1f) >> 5;
  if (iVar5 < 1) {
    uVar2 = SYS_OBJ_20F0((char)iVar5,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,
                         in_stack_00000018,in_stack_0000001c,in_stack_00000020,in_stack_00000024,
                         in_stack_00000028,in_stack_0000002c,in_stack_00000030,in_stack_00000034);
    return uVar2;
  }
  iVar5 = iVar5 + iVar1 * -0x10;
  uVar3 = *(uint *)PTR_GPU_REG1_80032968;
  while ((uVar3 & 0x4000000) == 0) {
    iVar4 = get_alarm();
    if (iVar4 != 0) {
      return 0xffffffff;
    }
    uVar3 = *(uint *)PTR_GPU_REG1_80032968;
  }
  *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000000;
  *(undefined4 *)PTR_GPU_REG0_80032964 = 0x1000000;
  *(undefined4 *)PTR_GPU_REG0_80032964 = 0xc0000000;
  *(undefined4 *)PTR_GPU_REG0_80032964 = *unaff_s1;
  *(undefined4 *)PTR_GPU_REG0_80032964 = unaff_s1[1];
  uVar3 = *(uint *)PTR_GPU_REG1_80032968;
  while( true ) {
    if ((uVar3 & 0x8000000) != 0) {
      while (iVar5 = iVar5 + -1, iVar5 != -1) {
        *unaff_s2 = *(undefined4 *)PTR_GPU_REG0_80032964;
        unaff_s2 = unaff_s2 + 1;
      }
      if (iVar1 != 0) {
        *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000003;
        *(undefined4 **)PTR_DMA_GPU_MADR_8003296c = unaff_s2;
        *(uint *)PTR_DMA_GPU_BCR_80032970 = iVar1 << 0x10 | 0x10;
        *(undefined4 *)PTR_DMA_GPU_CHCR_80032974 = 0x1000200;
      }
      return 0;
    }
    iVar4 = get_alarm();
    if (iVar4 != 0) break;
    uVar3 = *(uint *)PTR_GPU_REG1_80032968;
  }
  return 0xffffffff;
}



void SYS_OBJ_20F0(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                 undefined4 param_9,undefined4 param_10,undefined4 param_11,undefined4 param_12,
                 undefined4 param_13,undefined4 param_14)

{
  return;
}



void _ctl(uint param_1)

{
  *(uint *)PTR_GPU_REG1_80032968 = param_1;
  (&DAT_80036ef4)[param_1 >> 0x18] = (char)param_1;
  return;
}



undefined _getctl(int param_1)

{
  return (&DAT_80036ef4)[param_1];
}



undefined4 _cwb(undefined4 *param_1,int param_2)

{
  undefined4 uVar1;
  int iVar2;
  
  iVar2 = param_2 + -1;
  *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000000;
  if (param_2 != 0) {
    do {
      uVar1 = *param_1;
      param_1 = param_1 + 1;
      iVar2 = iVar2 + -1;
      *(undefined4 *)PTR_GPU_REG0_80032964 = uVar1;
    } while (iVar2 != -1);
  }
  return 0;
}



void _cwc(undefined4 param_1)

{
  *(undefined4 *)PTR_GPU_REG1_80032968 = 0x4000002;
  *(undefined4 *)PTR_DMA_GPU_MADR_8003296c = param_1;
  *(undefined4 *)PTR_DMA_GPU_BCR_80032970 = 0;
  *(undefined4 *)PTR_DMA_GPU_CHCR_80032974 = 0x1000401;
  return;
}



uint _param(uint param_1)

{
  *(uint *)PTR_GPU_REG1_80032968 = param_1 | 0x10000000;
  return *(uint *)PTR_GPU_REG0_80032964 & 0xffffff;
}



void _addque(void)

{
  _addque2();
  return;
}



uint _addque2(void)

{
  uint uVar1;
  
  set_alarm();
  uVar1 = SYS_OBJ_228C();
  return uVar1;
}



uint SYS_OBJ_228C(void)

{
  undefined2 uVar1;
  undefined2 extraout_var;
  uint uVar2;
  int iVar3;
  int iVar4;
  undefined uVar5;
  undefined4 uVar6;
  undefined uVar7;
  undefined4 in_a2;
  int iVar8;
  undefined uVar9;
  undefined4 in_a3;
  undefined4 *unaff_s0;
  int unaff_s1;
  undefined4 unaff_s2;
  code *unaff_s3;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  undefined4 in_stack_00000020;
  
  while( true ) {
    uVar9 = (undefined)in_a3;
    uVar7 = (undefined)in_a2;
    if ((DAT_80032998 + 1 & 0x3f) != DAT_8003299c) break;
    iVar8 = get_alarm();
    if (iVar8 != 0) {
      return 0xffffffff;
    }
    _exeque();
  }
  uVar1 = SetIntrMask(0);
  DAT_800329a0 = CONCAT22(extraout_var,uVar1);
  DAT_8003289c = 1;
  if ((DAT_80032895 != '\0') &&
     (((DAT_80032998 != DAT_8003299c || ((*(uint *)PTR_DMA_GPU_CHCR_80032974 & 0x1000000) != 0)) ||
      (DAT_800328a0 != 0)))) {
    DMACallback();
    iVar8 = 0;
    if (unaff_s1 == 0) {
      *(undefined4 **)(&DAT_8003f0c0 + DAT_80032998 * 0x60) = unaff_s0;
      *(undefined4 *)(&DAT_8003f0c4 + DAT_80032998 * 0x60) = unaff_s2;
      *(code **)(&DAT_8003f0bc + DAT_80032998 * 0x60) = unaff_s3;
      DAT_80032998 = DAT_80032998 + 1 & 0x3f;
      SetIntrMask((short)DAT_800329a0);
      _exeque();
      return DAT_80032998 - DAT_8003299c & 0x3f;
    }
    while( true ) {
      iVar3 = unaff_s1;
      if (unaff_s1 < 0) {
        iVar3 = unaff_s1 + 3;
      }
      iVar4 = iVar8 * 4;
      if (iVar3 >> 2 <= iVar8) break;
      uVar6 = *unaff_s0;
      unaff_s0 = unaff_s0 + 1;
      iVar8 = iVar8 + 1;
      *(undefined4 *)(&DAT_8003f0c8 + iVar4 + DAT_80032998 * 0x60) = uVar6;
    }
    *(undefined **)(&DAT_8003f0c0 + DAT_80032998 * 0x60) = &DAT_8003f0c8 + DAT_80032998 * 0x60;
    uVar2 = SYS_OBJ_2470();
    return uVar2;
  }
  do {
  } while ((*(uint *)PTR_GPU_REG1_80032968 & 0x4000000) == 0);
  uVar6 = unaff_s2;
  (*unaff_s3)();
  uVar5 = (undefined)uVar6;
  uVar6 = DAT_800329a0;
  DAT_80032988 = unaff_s3;
  DAT_8003298c = unaff_s0;
  DAT_80032990 = unaff_s2;
  SetIntrMask((short)DAT_800329a0);
  uVar2 = SYS_OBJ_2504((char)uVar6,uVar5,uVar7,uVar9,in_stack_00000010,in_stack_00000014,
                       in_stack_00000018,in_stack_0000001c,in_stack_00000020);
  return uVar2;
}



void SYS_OBJ_23B4(undefined4 param_1,undefined4 param_2,int param_3,undefined4 *param_4)

{
  int in_v0;
  int iVar1;
  undefined4 uVar2;
  int in_t0;
  int unaff_s1;
  
  while( true ) {
    if (in_v0 < 0) {
      in_v0 = in_v0 + 3;
    }
    iVar1 = param_3 * 4;
    if (in_v0 >> 2 <= param_3) break;
    uVar2 = *param_4;
    param_4 = param_4 + 1;
    param_3 = param_3 + 1;
    *(undefined4 *)(iVar1 + DAT_80032998 * 0x60 + in_t0) = uVar2;
    in_v0 = unaff_s1;
  }
  *(undefined **)(&DAT_8003f0c0 + DAT_80032998 * 0x60) = &DAT_8003f0c8 + DAT_80032998 * 0x60;
  SYS_OBJ_2470();
  return;
}



uint SYS_OBJ_2470(void)

{
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  
  *(undefined4 *)(&DAT_8003f0c4 + DAT_80032998 * 0x60) = unaff_s2;
  *(undefined4 *)(&DAT_8003f0bc + DAT_80032998 * 0x60) = unaff_s3;
  DAT_80032998 = DAT_80032998 + 1 & 0x3f;
  SetIntrMask((short)DAT_800329a0);
  _exeque();
  return DAT_80032998 - DAT_8003299c & 0x3f;
}



void SYS_OBJ_2504(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                 undefined4 param_9)

{
  return;
}



uint _exeque(void)

{
  undefined2 uVar1;
  uint uVar2;
  undefined2 extraout_var;
  
  uVar2 = 1;
  if ((*(uint *)PTR_DMA_GPU_CHCR_80032974 & 0x1000000) == 0) {
    uVar1 = SetIntrMask(0);
    DAT_800329a4 = CONCAT22(extraout_var,uVar1);
    if (DAT_80032998 != DAT_8003299c) {
      uVar2 = *(uint *)PTR_DMA_GPU_CHCR_80032974;
      while ((uVar2 & 0x1000000) == 0) {
        if (((DAT_8003299c + 1 & 0x3f) == DAT_80032998) && (DAT_800328a0 == (code *)0x0)) {
          DMACallback();
        }
        uVar2 = *(uint *)PTR_GPU_REG1_80032968;
        while ((uVar2 & 0x4000000) == 0) {
          uVar2 = *(uint *)PTR_GPU_REG1_80032968;
        }
        (**(code **)(&DAT_8003f0bc + DAT_8003299c * 0x60))
                  (*(undefined4 *)(&DAT_8003f0c0 + DAT_8003299c * 0x60),
                   *(undefined4 *)(&DAT_8003f0c4 + DAT_8003299c * 0x60));
        DAT_80032988 = *(undefined4 *)(&DAT_8003f0bc + DAT_8003299c * 0x60);
        DAT_8003298c = *(undefined4 *)(&DAT_8003f0c0 + DAT_8003299c * 0x60);
        DAT_80032990 = *(undefined4 *)(&DAT_8003f0c4 + DAT_8003299c * 0x60);
        DAT_8003299c = DAT_8003299c + 1 & 0x3f;
        if (DAT_80032998 == DAT_8003299c) break;
        uVar2 = *(uint *)PTR_DMA_GPU_CHCR_80032974;
      }
    }
    SetIntrMask((short)DAT_800329a4);
    if ((((DAT_80032998 == DAT_8003299c) && ((*(uint *)PTR_DMA_GPU_CHCR_80032974 & 0x1000000) == 0))
        && (DAT_8003289c != 0)) && (DAT_800328a0 != (code *)0x0)) {
      DAT_8003289c = 0;
      (*DAT_800328a0)();
    }
    uVar2 = DAT_80032998 - DAT_8003299c & 0x3f;
  }
  return uVar2;
}



undefined4 _reset(uint param_1)

{
  undefined2 uVar1;
  undefined2 extraout_var;
  undefined4 uVar2;
  undefined uVar3;
  undefined in_a1;
  undefined uVar4;
  undefined in_a2;
  undefined uVar5;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_retaddr;
  
  uVar3 = 0;
  uVar1 = SetIntrMask(0);
  DAT_800329a8 = CONCAT22(extraout_var,uVar1);
  DAT_8003299c = 0;
  DAT_80032998 = 0;
  if ((param_1 & 7) == 0) {
    *(undefined4 *)PTR_DMA_GPU_CHCR_80032974 = 0x401;
    *(uint *)PTR_DMA_DPCR_80032984 = *(uint *)PTR_DMA_DPCR_80032984 | 0x800;
    *(undefined4 *)PTR_GPU_REG1_80032968 = 0;
    memset(&DAT_80036ef4,'\0',0x100);
    uVar3 = 0xbc;
    uVar4 = 0;
    uVar5 = 0;
    memset(&DAT_8003f0bc,'\0',0x1800);
    uVar2 = SYS_OBJ_2924(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_retaddr);
    return uVar2;
  }
  if ((param_1 & 7) != 1) {
    uVar2 = SYS_OBJ_2924(uVar3,in_a1,in_a2,in_a3,unaff_s0,unaff_retaddr);
    return uVar2;
  }
  *(undefined4 *)PTR_DMA_GPU_CHCR_80032974 = 0x401;
  *(uint *)PTR_DMA_DPCR_80032984 = *(uint *)PTR_DMA_DPCR_80032984 | 0x800;
  *(undefined4 *)PTR_GPU_REG1_80032968 = 0x2000000;
  *(undefined4 *)PTR_GPU_REG1_80032968 = 0x1000000;
  SetIntrMask((short)DAT_800329a8);
  uVar2 = 0;
  if ((param_1 & 7) == 0) {
    uVar2 = _version(param_1);
  }
  return uVar2;
}



undefined4
SYS_OBJ_2924(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
            undefined4 param_5,undefined4 param_6)

{
  undefined4 uVar1;
  uint unaff_s0;
  
  SetIntrMask((short)DAT_800329a8);
  uVar1 = 0;
  if ((unaff_s0 & 7) == 0) {
    uVar1 = _version(unaff_s0);
  }
  return uVar1;
}



void _sync(void)

{
  int in_a0;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  uint uVar1;
  undefined4 unaff_retaddr;
  
  if (in_a0 == 0) {
    set_alarm();
    SYS_OBJ_2994();
    return;
  }
  uVar1 = DAT_80032998 - DAT_8003299c & 0x3f;
  if (uVar1 != 0) {
    _exeque();
  }
  if ((((*(uint *)PTR_DMA_GPU_CHCR_80032974 & 0x1000000) != 0) ||
      ((*(uint *)PTR_GPU_REG1_80032968 & 0x4000000) == 0)) && (uVar1 == 0)) {
    SYS_OBJ_2A90((char)in_a0,in_a1,in_a2,in_a3,unaff_s0,unaff_retaddr);
    return;
  }
  return;
}



undefined4 SYS_OBJ_297C(void)

{
  int iVar1;
  undefined4 uVar2;
  undefined in_a0;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  
  _exeque();
  iVar1 = get_alarm();
  if (iVar1 == 0) {
    if (DAT_80032998 != DAT_8003299c) {
      uVar2 = SYS_OBJ_297C();
      return uVar2;
    }
    do {
      if (((*(uint *)PTR_DMA_GPU_CHCR_80032974 & 0x1000000) == 0) &&
         ((*(uint *)PTR_GPU_REG1_80032968 & 0x4000000) != 0)) {
        uVar2 = SYS_OBJ_2A90(in_a0,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014);
        return uVar2;
      }
      iVar1 = get_alarm();
    } while (iVar1 == 0);
  }
  return 0xffffffff;
}



undefined4 SYS_OBJ_2994(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined in_a0;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  
  if (DAT_80032998 != DAT_8003299c) {
    uVar1 = SYS_OBJ_297C();
    return uVar1;
  }
  while (((*(uint *)PTR_DMA_GPU_CHCR_80032974 & 0x1000000) != 0 ||
         ((*(uint *)PTR_GPU_REG1_80032968 & 0x4000000) == 0))) {
    iVar2 = get_alarm();
    if (iVar2 != 0) {
      return 0xffffffff;
    }
  }
  uVar1 = SYS_OBJ_2A90(in_a0,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014);
  return uVar1;
}



void SYS_OBJ_2A90(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6)

{
  return;
}



void set_alarm(void)

{
  int iVar1;
  
  iVar1 = VSync(-1);
  DAT_800329ac = iVar1 + 0xf0;
  DAT_800329b0 = 0;
  return;
}



undefined4 get_alarm(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = VSync(-1);
  iVar1 = DAT_800329b0;
  if ((iVar2 <= DAT_800329ac) && (DAT_800329b0 = DAT_800329b0 + 1, iVar1 < 0xf0001)) {
    return 0;
  }
                    // WARNING: Subroutine does not return
  printf(s_GPU_timeout_que__d_stat__08x_chc_800108ac,DAT_80032998 - DAT_8003299c & 0x3f,
         *(undefined4 *)PTR_GPU_REG1_80032968,*(undefined4 *)PTR_DMA_GPU_CHCR_80032974,
         *(undefined4 *)PTR_DMA_GPU_MADR_8003296c);
}



void SYS_OBJ_2C34(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,undefined param_6,undefined4 param_7)

{
  return;
}



undefined4 _version(uint param_1)

{
  undefined4 uVar1;
  
  *(undefined4 *)PTR_GPU_REG1_80032968 = 0x10000007;
  if ((*(uint *)PTR_GPU_REG0_80032964 & 0xffffff) == 2) {
    if ((param_1 & 8) != 0) {
      *(undefined4 *)PTR_GPU_REG1_80032968 = 0x9000001;
      uVar1 = SYS_OBJ_2D18();
      return uVar1;
    }
    return 3;
  }
  *(uint *)PTR_GPU_REG0_80032964 = *(uint *)PTR_GPU_REG1_80032968 & 0x3fff | 0xe1001000;
  if ((*(uint *)PTR_GPU_REG1_80032968 & 0x1000) == 0) {
    uVar1 = SYS_OBJ_2D18();
    return uVar1;
  }
  if ((param_1 & 8) == 0) {
    uVar1 = SYS_OBJ_2D18();
    return uVar1;
  }
  *(undefined4 *)PTR_GPU_REG1_80032968 = 0x20000504;
  uVar1 = SYS_OBJ_2D18();
  return uVar1;
}



void SYS_OBJ_2D18(void)

{
  return;
}



void * memset(uchar *param_1,uchar param_2,int param_3)

{
  void *pvVar1;
  
  pvVar1 = (void *)(param_3 + -1);
  if (param_3 != 0) {
    do {
      *param_1 = param_2;
      pvVar1 = (void *)((int)pvVar1 + -1);
      param_1 = param_1 + 1;
    } while (pvVar1 != (void *)0xffffffff);
  }
  return pvVar1;
}



// Possible C73.OBJ/GPU_cw

void GPU_cw(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



void * memcpy(uchar *param_1,uchar *param_2,int param_3)

{
  void *pvVar1;
  
                    // WARNING: Treating indirect jump as call
  pvVar1 = (void *)(*(code *)&LAB_000000a0)();
  return pvVar1;
}



int OpenTIM(u_long *addr)

{
  DAT_80036ff4 = addr;
  return 0;
}



TIM_IMAGE * ReadTIM(TIM_IMAGE *timimg)

{
  int iVar1;
  TIM_IMAGE *pTVar2;
  undefined uVar3;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_retaddr;
  
  iVar1 = get_tim_addr(DAT_80036ff4,&timimg->mode);
  if (iVar1 != -1) {
    uVar3 = SUB41(DAT_80036ff4,0);
    DAT_80036ff4 = DAT_80036ff4 + iVar1;
    pTVar2 = (TIM_IMAGE *)TMD_OBJ_64(uVar3,(char)timimg,in_a2,in_a3,unaff_s0,unaff_retaddr);
    return pTVar2;
  }
  return (TIM_IMAGE *)0x0;
}



void TMD_OBJ_64(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
               undefined4 param_5,undefined4 param_6)

{
  return;
}



int OpenTMD(u_long *tmd,int obj_no)

{
  DAT_80037004 = get_tmd_addr(tmd,obj_no,&DAT_80037000,&DAT_80036ff8,&DAT_80036ffc);
  return DAT_80037004;
}



TMD_PRIM * ReadTMD(TMD_PRIM *tmdprim)

{
  ushort uVar1;
  ushort uVar2;
  SVECTOR *pSVar3;
  SVECTOR *pSVar4;
  int iVar5;
  SVECTOR *pSVar6;
  TMD_PRIM *pTVar7;
  
  iVar5 = unpack_packet(DAT_80037000,&tmdprim->id);
  pSVar4 = DAT_80036ffc;
  pSVar3 = DAT_80036ff8;
  pTVar7 = (TMD_PRIM *)0x0;
  if (-1 < iVar5) {
    pSVar6 = DAT_80036ffc + tmdprim->norm0;
    tmdprim->v_ofs = DAT_80036ff8;
    tmdprim->n_ofs = pSVar4;
    uVar1 = tmdprim->norm0;
    (tmdprim->n0).vx = pSVar6->vx;
    uVar2 = tmdprim->norm0;
    (tmdprim->n0).vy = pSVar4[uVar1].vy;
    uVar1 = tmdprim->norm1;
    (tmdprim->n0).vz = pSVar4[uVar2].vz;
    uVar2 = tmdprim->norm1;
    (tmdprim->n1).vx = pSVar4[uVar1].vx;
    uVar1 = tmdprim->norm1;
    (tmdprim->n1).vy = pSVar4[uVar2].vy;
    uVar2 = tmdprim->norm2;
    (tmdprim->n1).vz = pSVar4[uVar1].vz;
    uVar1 = tmdprim->norm2;
    (tmdprim->n2).vx = pSVar4[uVar2].vx;
    uVar2 = tmdprim->norm2;
    (tmdprim->n2).vy = pSVar4[uVar1].vy;
    uVar1 = tmdprim->norm3;
    (tmdprim->n2).vz = pSVar4[uVar2].vz;
    DAT_80037000 = (uint *)(iVar5 + (int)DAT_80037000);
    (tmdprim->n3).vx = pSVar4[uVar1].vx;
    uVar1 = tmdprim->norm3;
    (tmdprim->n3).vy = pSVar4[tmdprim->norm3].vy;
    uVar2 = tmdprim->vert0;
    (tmdprim->n3).vz = pSVar4[uVar1].vz;
    uVar1 = tmdprim->vert0;
    (tmdprim->x0).vx = pSVar3[uVar2].vx;
    uVar2 = tmdprim->vert0;
    (tmdprim->x0).vy = pSVar3[uVar1].vy;
    uVar1 = tmdprim->vert1;
    (tmdprim->x0).vz = pSVar3[uVar2].vz;
    uVar2 = tmdprim->vert1;
    (tmdprim->x1).vx = pSVar3[uVar1].vx;
    uVar1 = tmdprim->vert1;
    (tmdprim->x1).vy = pSVar3[uVar2].vy;
    uVar2 = tmdprim->vert2;
    (tmdprim->x1).vz = pSVar3[uVar1].vz;
    uVar1 = tmdprim->vert2;
    (tmdprim->x2).vx = pSVar3[uVar2].vx;
    uVar2 = tmdprim->vert2;
    (tmdprim->x2).vy = pSVar3[uVar1].vy;
    uVar1 = tmdprim->vert3;
    (tmdprim->x2).vz = pSVar3[uVar2].vz;
    (tmdprim->x3).vx = pSVar3[uVar1].vx;
    uVar1 = tmdprim->vert3;
    (tmdprim->x3).vy = pSVar3[tmdprim->vert3].vy;
    (tmdprim->x3).vz = pSVar3[uVar1].vz;
    pTVar7 = tmdprim;
  }
  return pTVar7;
}



int get_tim_addr(int *param_1,uint *param_2)

{
  int iVar1;
  uint uVar2;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  uint *puVar3;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_retaddr;
  
  if (*param_1 != 0x10) {
    iVar1 = TMD_OBJ_468((char)param_1,(char)param_2,in_a2,in_a3,unaff_s0,unaff_s1,unaff_s2,
                        unaff_retaddr);
    return iVar1;
  }
  puVar3 = (uint *)(param_1 + 2);
  *param_2 = param_1[1];
  iVar1 = GetGraphDebug();
  if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
    printf(s_id___08x_800108f8,0x10);
  }
  iVar1 = GetGraphDebug();
  if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
    printf(s_mode__08x_80010904,*param_2);
  }
  iVar1 = GetGraphDebug();
  if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
    printf(s_timaddr__08x_80010910,puVar3);
  }
  if ((*param_2 & 8) != 0) {
    uVar2 = *puVar3;
    param_2[1] = (uint)(param_1 + 3);
    param_2[2] = (uint)(param_1 + 5);
    iVar1 = TMD_OBJ_448(uVar2 >> 2);
    return iVar1;
  }
  param_2[1] = 0;
  param_2[2] = 0;
  uVar2 = *puVar3;
  param_2[3] = (uint)(param_1 + 3);
  param_2[4] = (uint)(param_1 + 5);
  return (uVar2 >> 2) + 2;
}



int TMD_OBJ_448(int param_1)

{
  uint uVar1;
  uint *unaff_s0;
  int unaff_s1;
  
  uVar1 = *unaff_s0;
  *(uint **)(unaff_s1 + 0xc) = unaff_s0 + 1;
  *(uint **)(unaff_s1 + 0x10) = unaff_s0 + 3;
  return param_1 + (uVar1 >> 2) + 2;
}



void TMD_OBJ_468(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  return;
}



int get_tmd_addr(undefined4 *param_1,int param_2,int *param_3,int *param_4,int *param_5)

{
  int iVar1;
  int *piVar2;
  
  iVar1 = GetGraphDebug();
  if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
    printf(s_analizing_TMD____80010920);
  }
  iVar1 = GetGraphDebug();
  if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
    printf(s__id__08X__flags__d__nobj__d__obj_80010934,*param_1,param_1[1],param_1[2],param_2);
  }
  iVar1 = GetGraphDebug();
  if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
    printf(s__vert__08X__nvert__d_8001095c,param_1[param_2 * 7 + 3],(param_1 + param_2 * 7 + 3)[1]);
  }
  iVar1 = GetGraphDebug();
  if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
    printf(s__norm__08X__nnorm__d_80010974,param_1[param_2 * 7 + 5],param_1[param_2 * 7 + 6]);
  }
  iVar1 = GetGraphDebug();
  if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
    printf(s__prim__08X__nprim__d_8001098c,param_1[param_2 * 7 + 7],param_1[param_2 * 7 + 8]);
  }
  piVar2 = param_1 + param_2 * 7 + 3;
  *param_4 = (int)param_1 + *piVar2 + 0xc;
  *param_5 = (int)param_1 + piVar2[2] + 0xc;
  *param_3 = (int)param_1 + piVar2[4] + 0xc;
  return piVar2[5];
}



void unpack_packet(uint *param_1,uint *param_2)

{
  int iVar1;
  uint uVar2;
  undefined uVar3;
  undefined uVar4;
  undefined uVar5;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_retaddr;
  
  uVar4 = 0;
  uVar5 = 0x78;
  memset((uchar *)param_2,'\0',0x78);
  uVar3 = 9;
  uVar2 = *param_1 & 0xfdffffff;
  *param_2 = *param_1;
  if (uVar2 == 0x2d010709) {
    iVar1 = GetGraphDebug();
    if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
      printf(&DAT_80010a04);
    }
    *(undefined2 *)(param_2 + 5) = *(undefined2 *)((int)param_1 + 10);
    *(undefined2 *)((int)param_2 + 0x16) = *(undefined2 *)((int)param_1 + 6);
    *(undefined *)(param_2 + 6) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 0x19) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 0x1a) = *(undefined *)(param_1 + 2);
    *(undefined *)((int)param_2 + 0x1b) = *(undefined *)((int)param_1 + 9);
    *(undefined *)(param_2 + 7) = *(undefined *)(param_1 + 3);
    *(undefined *)((int)param_2 + 0x1d) = *(undefined *)((int)param_1 + 0xd);
    *(undefined *)((int)param_2 + 0x1e) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)param_2 + 0x1f) = *(undefined *)((int)param_1 + 0x11);
    *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 5);
    *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 0x15);
    *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 0x16);
    *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 5);
    *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 0x15);
    *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 0x16);
    *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 5);
    *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 0x15);
    *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 0x16);
    *(undefined *)(param_2 + 4) = *(undefined *)(param_1 + 5);
    *(undefined *)((int)param_2 + 0x11) = *(undefined *)((int)param_1 + 0x15);
    *(undefined *)((int)param_2 + 0x12) = *(undefined *)((int)param_1 + 0x16);
    *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)(param_1 + 6);
    *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0x1a);
    *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)(param_1 + 7);
    *(undefined2 *)((int)param_2 + 0x6e) = *(undefined2 *)((int)param_1 + 0x1e);
    TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return;
  }
  if (0x2d010709 < uVar2) {
    if (uVar2 == 0x35010809) {
      iVar1 = GetGraphDebug();
      if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
        printf(&DAT_800109d4);
      }
      *(undefined2 *)(param_2 + 5) = *(undefined2 *)((int)param_1 + 10);
      *(undefined2 *)((int)param_2 + 0x16) = *(undefined2 *)((int)param_1 + 6);
      *(undefined *)(param_2 + 6) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 0x19) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 0x1a) = *(undefined *)(param_1 + 2);
      *(undefined *)((int)param_2 + 0x1b) = *(undefined *)((int)param_1 + 9);
      *(undefined *)(param_2 + 7) = *(undefined *)(param_1 + 3);
      *(undefined *)((int)param_2 + 0x1d) = *(undefined *)((int)param_1 + 0xd);
      *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)(param_1 + 7);
      *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0x1e);
      *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)(param_1 + 8);
      *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 4);
      *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 0x11);
      *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 0x12);
      *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 5);
      *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 0x15);
      *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 0x16);
      *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 6);
      *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 0x19);
      *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 0x1a);
      TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
      return;
    }
    if (0x35010809 < uVar2) {
      if (uVar2 == 0x39010608) {
        iVar1 = GetGraphDebug();
        if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
          printf(&DAT_80010a00);
        }
        *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 1);
        *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 5);
        *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 6);
        *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 2);
        *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 9);
        *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 10);
        *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 3);
        *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 0xd);
        *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 0xe);
        *(undefined *)(param_2 + 4) = *(undefined *)(param_1 + 4);
        *(undefined *)((int)param_2 + 0x11) = *(undefined *)((int)param_1 + 0x11);
        *(undefined *)((int)param_2 + 0x12) = *(undefined *)((int)param_1 + 0x12);
        *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)(param_1 + 5);
        *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0x16);
        *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)(param_1 + 6);
        *(undefined2 *)((int)param_2 + 0x6e) = *(undefined2 *)((int)param_1 + 0x1a);
        TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
        return;
      }
      if (0x39010608 < uVar2) {
        if (uVar2 == 0x3c00080c) {
          iVar1 = GetGraphDebug();
          if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
            printf(s_GT4L_800109f4);
          }
          *(undefined2 *)(param_2 + 5) = *(undefined2 *)((int)param_1 + 10);
          *(undefined2 *)((int)param_2 + 0x16) = *(undefined2 *)((int)param_1 + 6);
          *(undefined *)(param_2 + 6) = *(undefined *)(param_1 + 1);
          *(undefined *)((int)param_2 + 0x19) = *(undefined *)((int)param_1 + 5);
          *(undefined *)((int)param_2 + 0x1a) = *(undefined *)(param_1 + 2);
          *(undefined *)((int)param_2 + 0x1b) = *(undefined *)((int)param_1 + 9);
          *(undefined *)(param_2 + 7) = *(undefined *)(param_1 + 3);
          *(undefined *)((int)param_2 + 0x1d) = *(undefined *)((int)param_1 + 0xd);
          *(undefined *)((int)param_2 + 0x1e) = *(undefined *)(param_1 + 4);
          *(undefined *)((int)param_2 + 0x1f) = *(undefined *)((int)param_1 + 0x11);
          *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)((int)param_1 + 0x16);
          *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0x1a);
          *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)((int)param_1 + 0x1e);
          *(undefined2 *)((int)param_2 + 0x6e) = *(undefined2 *)((int)param_1 + 0x22);
          *(undefined2 *)(param_2 + 0x1c) = *(undefined2 *)(param_1 + 5);
          *(undefined2 *)((int)param_2 + 0x72) = *(undefined2 *)(param_1 + 6);
          *(undefined2 *)(param_2 + 0x1d) = *(undefined2 *)(param_1 + 7);
          *(undefined2 *)((int)param_2 + 0x76) = *(undefined2 *)(param_1 + 8);
          TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
          return;
        }
        if (uVar2 != 0x3d010a0c) {
          TMD_OBJ_1768();
          return;
        }
        iVar1 = GetGraphDebug();
        if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
          printf(&DAT_80010a0c);
        }
        *(undefined2 *)(param_2 + 5) = *(undefined2 *)((int)param_1 + 10);
        *(undefined2 *)((int)param_2 + 0x16) = *(undefined2 *)((int)param_1 + 6);
        *(undefined *)(param_2 + 6) = *(undefined *)(param_1 + 1);
        *(undefined *)((int)param_2 + 0x19) = *(undefined *)((int)param_1 + 5);
        *(undefined *)((int)param_2 + 0x1a) = *(undefined *)(param_1 + 2);
        *(undefined *)((int)param_2 + 0x1b) = *(undefined *)((int)param_1 + 9);
        *(undefined *)(param_2 + 7) = *(undefined *)(param_1 + 3);
        *(undefined *)((int)param_2 + 0x1d) = *(undefined *)((int)param_1 + 0xd);
        *(undefined *)((int)param_2 + 0x1e) = *(undefined *)(param_1 + 4);
        *(undefined *)((int)param_2 + 0x1f) = *(undefined *)((int)param_1 + 0x11);
        *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)(param_1 + 9);
        *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0x26);
        *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)(param_1 + 10);
        *(undefined2 *)((int)param_2 + 0x6e) = *(undefined2 *)((int)param_1 + 0x2a);
        *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 5);
        *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 0x15);
        *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 0x16);
        *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 6);
        *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 0x19);
        *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 0x1a);
        *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 7);
        *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 0x1d);
        *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 0x1e);
        *(undefined *)(param_2 + 4) = *(undefined *)(param_1 + 8);
        *(undefined *)((int)param_2 + 0x11) = *(undefined *)((int)param_1 + 0x21);
        *(undefined *)((int)param_2 + 0x12) = *(undefined *)((int)param_1 + 0x22);
        TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
        return;
      }
      if (uVar2 != 0x38000508) {
        TMD_OBJ_1768();
        return;
      }
      iVar1 = GetGraphDebug();
      if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
        printf(&DAT_800109e4);
      }
      *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 6);
      *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 6);
      *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 6);
      *(undefined *)(param_2 + 4) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 0x11) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 0x12) = *(undefined *)((int)param_1 + 6);
      *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)((int)param_1 + 10);
      *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0xe);
      *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)((int)param_1 + 0x12);
      *(undefined2 *)((int)param_2 + 0x6e) = *(undefined2 *)((int)param_1 + 0x16);
      *(undefined2 *)(param_2 + 0x1c) = *(undefined2 *)(param_1 + 2);
      *(undefined2 *)((int)param_2 + 0x72) = *(undefined2 *)(param_1 + 3);
      *(undefined2 *)(param_2 + 0x1d) = *(undefined2 *)(param_1 + 4);
      *(undefined2 *)((int)param_2 + 0x76) = *(undefined2 *)(param_1 + 5);
      TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
      return;
    }
    if (uVar2 == 0x31010506) {
      iVar1 = GetGraphDebug();
      if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
        printf(&DAT_800109c8);
      }
      *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 6);
      *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 2);
      *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 9);
      *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 10);
      *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 3);
      *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 0xd);
      *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 0xe);
      *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)(param_1 + 4);
      *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0x12);
      *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)(param_1 + 5);
      TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
      return;
    }
    if (0x31010506 < uVar2) {
      if (uVar2 != 0x34000609) {
        TMD_OBJ_1768();
        return;
      }
      iVar1 = GetGraphDebug();
      if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
        printf(s_GT3L_800109bc);
      }
      *(undefined2 *)(param_2 + 5) = *(undefined2 *)((int)param_1 + 10);
      *(undefined2 *)((int)param_2 + 0x16) = *(undefined2 *)((int)param_1 + 6);
      *(undefined *)(param_2 + 6) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 0x19) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 0x1a) = *(undefined *)(param_1 + 2);
      *(undefined *)((int)param_2 + 0x1b) = *(undefined *)((int)param_1 + 9);
      *(undefined *)(param_2 + 7) = *(undefined *)(param_1 + 3);
      *(undefined *)((int)param_2 + 0x1d) = *(undefined *)((int)param_1 + 0xd);
      *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)((int)param_1 + 0x12);
      *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0x16);
      *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)((int)param_1 + 0x1a);
      *(undefined2 *)(param_2 + 0x1c) = *(undefined2 *)(param_1 + 4);
      *(undefined2 *)((int)param_2 + 0x72) = *(undefined2 *)(param_1 + 5);
      *(undefined2 *)(param_2 + 0x1d) = *(undefined2 *)(param_1 + 6);
      TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
      return;
    }
    if (uVar2 != 0x30000406) {
      TMD_OBJ_1768();
      return;
    }
    iVar1 = GetGraphDebug();
    if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
      printf(&DAT_800109ac);
    }
    *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 6);
    *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 6);
    *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 6);
    *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)((int)param_1 + 10);
    *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0xe);
    *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)((int)param_1 + 0x12);
    *(undefined2 *)(param_2 + 0x1c) = *(undefined2 *)(param_1 + 2);
    *(undefined2 *)((int)param_2 + 0x72) = *(undefined2 *)(param_1 + 3);
    *(undefined2 *)(param_2 + 0x1d) = *(undefined2 *)(param_1 + 4);
    TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return;
  }
  if (uVar2 == 0x25010607) {
    iVar1 = GetGraphDebug();
    if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
      printf(&DAT_800109cc);
    }
    *(undefined2 *)(param_2 + 5) = *(undefined2 *)((int)param_1 + 10);
    *(undefined2 *)((int)param_2 + 0x16) = *(undefined2 *)((int)param_1 + 6);
    *(undefined *)(param_2 + 6) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 0x19) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 0x1a) = *(undefined *)(param_1 + 2);
    *(undefined *)((int)param_2 + 0x1b) = *(undefined *)((int)param_1 + 9);
    *(undefined *)(param_2 + 7) = *(undefined *)(param_1 + 3);
    *(undefined *)((int)param_2 + 0x1d) = *(undefined *)((int)param_1 + 0xd);
    *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 0x11);
    *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 0x12);
    *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 0x11);
    *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 0x12);
    *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 0x11);
    *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 0x12);
    *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)(param_1 + 5);
    *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 0x16);
    *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)(param_1 + 6);
    TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return;
  }
  if (0x25010607 < uVar2) {
    if (uVar2 == 0x29010305) {
      iVar1 = GetGraphDebug();
      if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
        printf(&DAT_800109fc);
      }
      *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 6);
      *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 6);
      *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 6);
      *(undefined *)(param_2 + 4) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 0x11) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 0x12) = *(undefined *)((int)param_1 + 6);
      *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)(param_1 + 2);
      *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 10);
      *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)(param_1 + 3);
      *(undefined2 *)((int)param_2 + 0x6e) = *(undefined2 *)((int)param_1 + 0xe);
      TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
      return;
    }
    if (0x29010305 < uVar2) {
      if (uVar2 != 0x2c000709) {
        TMD_OBJ_1768();
        return;
      }
      iVar1 = GetGraphDebug();
      if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
        printf(s_FT4L_800109ec);
      }
      *(undefined2 *)(param_2 + 5) = *(undefined2 *)((int)param_1 + 10);
      *(undefined2 *)((int)param_2 + 0x16) = *(undefined2 *)((int)param_1 + 6);
      *(undefined *)(param_2 + 6) = *(undefined *)(param_1 + 1);
      *(undefined *)((int)param_2 + 0x19) = *(undefined *)((int)param_1 + 5);
      *(undefined *)((int)param_2 + 0x1a) = *(undefined *)(param_1 + 2);
      *(undefined *)((int)param_2 + 0x1b) = *(undefined *)((int)param_1 + 9);
      *(undefined *)(param_2 + 7) = *(undefined *)(param_1 + 3);
      *(undefined *)((int)param_2 + 0x1d) = *(undefined *)((int)param_1 + 0xd);
      *(undefined *)((int)param_2 + 0x1e) = *(undefined *)(param_1 + 4);
      *(undefined *)((int)param_2 + 0x1f) = *(undefined *)((int)param_1 + 0x11);
      *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)((int)param_1 + 0x16);
      *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)(param_1 + 6);
      *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)((int)param_1 + 0x1a);
      *(undefined2 *)((int)param_2 + 0x6e) = *(undefined2 *)(param_1 + 7);
      *(undefined2 *)(param_2 + 0x1c) = *(undefined2 *)(param_1 + 5);
      *(undefined2 *)((int)param_2 + 0x72) = *(undefined2 *)(param_1 + 5);
      *(undefined2 *)(param_2 + 0x1d) = *(undefined2 *)(param_1 + 5);
      *(undefined2 *)((int)param_2 + 0x76) = *(undefined2 *)(param_1 + 5);
      TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
      return;
    }
    if (uVar2 != 0x28000405) {
      TMD_OBJ_1768();
      return;
    }
    iVar1 = GetGraphDebug();
    if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
      printf(&DAT_800109dc);
    }
    *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 6);
    *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 6);
    *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 6);
    *(undefined *)(param_2 + 4) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 0x11) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 0x12) = *(undefined *)((int)param_1 + 6);
    *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)((int)param_1 + 10);
    *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)(param_1 + 3);
    *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)((int)param_1 + 0xe);
    *(undefined2 *)((int)param_2 + 0x6e) = *(undefined2 *)(param_1 + 4);
    *(undefined2 *)(param_2 + 0x1c) = *(undefined2 *)(param_1 + 2);
    *(undefined2 *)((int)param_2 + 0x72) = *(undefined2 *)(param_1 + 2);
    *(undefined2 *)(param_2 + 0x1d) = *(undefined2 *)(param_1 + 2);
    *(undefined2 *)((int)param_2 + 0x76) = *(undefined2 *)(param_1 + 2);
    TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return;
  }
  if (uVar2 == 0x21010304) {
    iVar1 = GetGraphDebug();
    if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
      printf(&DAT_800109c4);
    }
    *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 6);
    *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 6);
    *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 6);
    *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)(param_1 + 2);
    *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)((int)param_1 + 10);
    *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)(param_1 + 3);
    TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return;
  }
  if (0x21010304 < uVar2) {
    if (uVar2 != 0x24000507) {
      TMD_OBJ_1768();
      return;
    }
    iVar1 = GetGraphDebug();
    if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
      printf(s_FT3L_800109b4);
    }
    *(undefined2 *)(param_2 + 5) = *(undefined2 *)((int)param_1 + 10);
    *(undefined2 *)((int)param_2 + 0x16) = *(undefined2 *)((int)param_1 + 6);
    *(undefined *)(param_2 + 6) = *(undefined *)(param_1 + 1);
    *(undefined *)((int)param_2 + 0x19) = *(undefined *)((int)param_1 + 5);
    *(undefined *)((int)param_2 + 0x1a) = *(undefined *)(param_1 + 2);
    *(undefined *)((int)param_2 + 0x1b) = *(undefined *)((int)param_1 + 9);
    *(undefined *)(param_2 + 7) = *(undefined *)(param_1 + 3);
    *(undefined *)((int)param_2 + 0x1d) = *(undefined *)((int)param_1 + 0xd);
    *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)((int)param_1 + 0x12);
    *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)(param_1 + 5);
    *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)((int)param_1 + 0x16);
    *(undefined2 *)(param_2 + 0x1c) = *(undefined2 *)(param_1 + 4);
    *(undefined2 *)((int)param_2 + 0x72) = *(undefined2 *)(param_1 + 4);
    *(undefined2 *)(param_2 + 0x1d) = *(undefined2 *)(param_1 + 4);
    TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return;
  }
  if (uVar2 != 0x20000304) {
    TMD_OBJ_1768();
    return;
  }
  iVar1 = GetGraphDebug();
  if (iVar1 == 2) {
                    // WARNING: Subroutine does not return
    printf(&DAT_800109a4);
  }
  *(undefined *)(param_2 + 1) = *(undefined *)(param_1 + 1);
  *(undefined *)((int)param_2 + 5) = *(undefined *)((int)param_1 + 5);
  *(undefined *)((int)param_2 + 6) = *(undefined *)((int)param_1 + 6);
  *(undefined *)(param_2 + 2) = *(undefined *)(param_1 + 1);
  *(undefined *)((int)param_2 + 9) = *(undefined *)((int)param_1 + 5);
  *(undefined *)((int)param_2 + 10) = *(undefined *)((int)param_1 + 6);
  *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 1);
  *(undefined *)((int)param_2 + 0xd) = *(undefined *)((int)param_1 + 5);
  *(undefined *)((int)param_2 + 0xe) = *(undefined *)((int)param_1 + 6);
  *(undefined2 *)(param_2 + 0x1a) = *(undefined2 *)((int)param_1 + 10);
  *(undefined2 *)((int)param_2 + 0x6a) = *(undefined2 *)(param_1 + 3);
  *(undefined2 *)(param_2 + 0x1b) = *(undefined2 *)((int)param_1 + 0xe);
  *(undefined2 *)(param_2 + 0x1c) = *(undefined2 *)(param_1 + 2);
  *(undefined2 *)((int)param_2 + 0x72) = *(undefined2 *)(param_1 + 2);
  *(undefined2 *)(param_2 + 0x1d) = *(undefined2 *)(param_1 + 2);
  TMD_OBJ_1784(uVar3,uVar4,uVar5,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
  return;
}



undefined4 TMD_OBJ_1768(void)

{
  uint in_v0;
  uint *unaff_s1;
  
                    // WARNING: Subroutine does not return
  printf(s_unsupported_type___08x__80010a14,*unaff_s1 & (in_v0 | 0xffff));
}



void TMD_OBJ_1784(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  return;
}



void _card_info(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



void _card_load(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



void _card_auto(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&LAB_000000a0)();
  return;
}



void _card_status(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void _card_clear(void)

{
  _new_card();
  _card_write();
  return;
}



void _card_write(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void _new_card(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void init_card_earlysafe(void)

{
  ChangeClearPAD();
  EnterCriticalSection();
  InitCARD();
  early_card_irq_patch();
  patch_card_specific_delay();
  ExitCriticalSection();
  return;
}



void StartCARD_earlysafe(void)

{
  EnterCriticalSection();
  StartCARD();
  ChangeClearPAD();
  ExitCriticalSection();
  return;
}



// Possible SSINIT_C.OBJ/SsInit
// Possible SSINIT_H.OBJ/SsInitHot

void StopCARD_earlysafe(void)

{
  StopCARD();
  patch_card_specific_delay();
  patch_uninstall_early_card_irq_handler();
  return;
}



void InitCARD(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void StartCARD(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void StopCARD(void)

{
                    // WARNING: Treating indirect jump as call
  (*(code *)&SUB_000000b0)();
  return;
}



void early_card_irq_patch(void)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  undefined *unaff_retaddr;
  
  early_card_irq_patchReturnAddress = unaff_retaddr;
  EnterCriticalSection();
  iVar1 = (*(code *)&SUB_000000b0)();
  puVar4 = &DAT_800288c4;
  puVar2 = (undefined4 *)
           (*(int *)(*(int *)(iVar1 + 0x18) + 0x70) * 0x10000 +
            (*(uint *)(*(int *)(iVar1 + 0x18) + 0x74) & 0xffff) + 0x28);
  do {
    uVar3 = *puVar4;
    puVar4 = puVar4 + 1;
    EndPtrEarlyCardIRQHander = (undefined *)(puVar2 + 1);
    *puVar2 = uVar3;
    puVar2 = (undefined4 *)EndPtrEarlyCardIRQHander;
  } while (puVar4 != (undefined4 *)0x800288d8);
  FlushCache();
  return;
}



void patch_card_specific_delay(void)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined *unaff_retaddr;
  
  early_card_irq_patchReturnAddress = unaff_retaddr;
  EnterCriticalSection();
  iVar1 = (*(code *)&SUB_000000b0)();
  iVar1 = *(int *)(iVar1 + 0x16c);
  puVar3 = &DAT_800289a4;
  do {
    uVar2 = *puVar3;
    puVar4 = puVar3 + 1;
    *puVar3 = *(undefined4 *)(iVar1 + 0x9c8);
    *(undefined4 *)(iVar1 + 0x9c8) = uVar2;
    iVar1 = iVar1 + 4;
    puVar3 = puVar4;
  } while (puVar4 != (undefined4 *)0x800289b8);
  FlushCache();
  return;
}



void patch_uninstall_early_card_irq_handler(void)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  undefined *unaff_retaddr;
  
  patch_uninstall_early_card_irq_handlerReturnAddress = unaff_retaddr;
  EnterCriticalSection();
  iVar1 = (*(code *)&SUB_000000b0)();
  puVar3 = &DAT_80028acc;
  iVar1 = *(int *)(iVar1 + 0x18);
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
    *(undefined4 *)(iVar1 + 0x70) = uVar2;
    iVar1 = iVar1 + 4;
  } while (puVar3 != (undefined4 *)0x80028ad8);
  FlushCache();
  ExitCriticalSection();
  return;
}



void MidState_ResetSPU(void)

{
  DrawSync(0);
  DrawSync(0);
  SetDispMask(0);
  SetAllVoicesReleaseShift6();
  FUN_80019448();
  return;
}



void MidState_QuitSound_GetStack(void)

{
  MidState_ResetSPU();
  CallInitialiseGameState();
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void Call_BATTLE_Entrypoint(void)

{
  BATTLE_ENTRY_DEPRECATED();
  return;
}



void Get_BATTLE_BIN(void)

{
  Get_DAT_BIN_as_File(1000,(int)PTR_DAT_80010010 - (int)PTR_FUN_80010000,(u_long *)PTR_FUN_80010000)
  ;
  Call_BATTLE_Entrypoint();
  return;
}



void Initialise_GameState(void)

{
  bool bVar1;
  int iVar2;
  
  DAT_80045978 = 0;
  do {
    StartingInventory();
    bVar1 = DAT_80045978 == 5;
    if (!bVar1) {
      FUN_80042690();
    }
    iVar2 = Get_OPEN_CDROM_to_RAM((uint)bVar1);
    if (iVar2 == 0) {
      DAT_800473a0 = '\x01';
      DAT_80045978 = 0;
    }
    else {
      DAT_800473a0 = '\0';
    }
    do {
      if (DAT_800473a0 == '\0') {
        DAT_80045978 = Open_WORLD_WLDCORE(1);
      }
      if (DAT_80045978 == 5) break;
      Get_BATTLE_BIN();
      BATTLE_main();
      FUN_800440cc();
      DAT_800473a0 = '\0';
      if (DAT_800a778c == 2) {
        MidState_ResetSPU();
        break;
      }
    } while (DAT_800a778c != 3);
    if (DAT_800a778c == 3) {
      FUN_800440cc();
      FUN_80043f00();
      FUN_BATTLE_BIN__8013b644(100,1);
      FUN_BATTLE_BIN__8013b644(0x27,0x12a);
      Get_OPEN_CDROM_to_RAM2();
      Get_BATTLE_BIN();
      Get_ZODIAC_CDROM_to_FrameBuffer();
      FUN_80079a98();
      MidState_ResetSPU();
    }
  } while( true );
}



void main(void)

{
  SetGameRunning();
  Initialise_Game_Environment();
  Put_Stack_Pointer(&GlobalStackPointer);
  Initialise_GameState();
  PadStop();
  StopCallback();
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: ram

void BuildNowLoadingImages(int shouldDisp,short x_pos,short y_pos)

{
  u_char uVar1;
  u_char uVar2;
  u_char uVar3;
  u_char uVar4;
  short sVar5;
  short sVar6;
  u_char uVar7;
  u_char uVar8;
  u_short uVar9;
  undefined4 uVar10;
  u_long *puVar11;
  POLY_FT4 *pPVar12;
  u_long uVar13;
  u_long uVar14;
  u_long uVar15;
  POLY_FT4 *pPVar16;
  POLY_FT4 *pPVar17;
  POLY_FT4 *pPVar18;
  u_long *puVar19;
  POLY_FT4 *pPVar20;
  int iVar21;
  
  uVar10 = NowLoadingBlock0._32_4_;
  NowLoadingBlock0.tag._3_1_ = 9;
  NowLoadingBlock0.code = ',';
  DAT_8004e5b8 = 0;
  NowLoadingBlock0.r0 = 0x80;
  NowLoadingBlock0.g0 = 0x80;
  NowLoadingBlock0.b0 = 0x80;
  DAT_8004760c = shouldDisp;
  SetSemiTrans(&NowLoadingBlock0,0);
  iVar21 = 1;
  NowLoadingBlock0.tpage = 0x1f;
  NowLoadingBlock0.clut = 0x7887;
  pPVar20 = &NowLoadingBlock0;
  do {
    pPVar20 = pPVar20 + 1;
    pPVar17 = &NowLoadingBlock0;
    pPVar12 = pPVar20;
    do {
      pPVar18 = pPVar12;
      pPVar16 = pPVar17;
      uVar1 = pPVar16->r0;
      uVar2 = pPVar16->g0;
      uVar3 = pPVar16->b0;
      uVar4 = pPVar16->code;
      sVar5 = pPVar16->x0;
      sVar6 = pPVar16->y0;
      uVar7 = pPVar16->u0;
      uVar8 = pPVar16->v1;
      uVar9 = pPVar16->clut;
      pPVar18->tag = pPVar16->tag;
      pPVar18->r0 = uVar1;
      pPVar18->g0 = uVar2;
      pPVar18->b0 = uVar3;
      pPVar18->code = uVar4;
      pPVar18->x0 = sVar5;
      pPVar18->y0 = sVar6;
      pPVar18->u0 = uVar7;
      pPVar18->v1 = uVar8;
      pPVar18->clut = uVar9;
      pPVar17 = (POLY_FT4 *)&pPVar16->x1;
      pPVar12 = (POLY_FT4 *)&pPVar18->x1;
    } while (&pPVar16->x1 != &NowLoadingBlock0.x3);
    uVar1 = pPVar16->u1;
    uVar2 = pPVar16->v0;
    uVar9 = pPVar16->tpage;
    NowLoadingBlock0.x3 = (short)uVar10;
    NowLoadingBlock0.y3 = SUB42(uVar10,2);
    pPVar18->x1 = NowLoadingBlock0.x3;
    pPVar18->y1 = NowLoadingBlock0.y3;
    pPVar18->u1 = uVar1;
    pPVar18->v0 = uVar2;
    pPVar18->tpage = uVar9;
    iVar21 = iVar21 + 1;
  } while (iVar21 < 7);
  NowLoadingBlock0.x0 = x_pos + 0xa0;
  NowLoadingBlock0.y0 = y_pos + 200;
  NowLoadingBlock0.x3 = x_pos + 0xac;
  NowLoadingBlock0.y3 = y_pos + 0xd0;
  NowLoadingBlock0.v1 = 0x9b;
  NowLoadingBlock0.v0 = 0x9b;
  NowLoadingBlock0.u0 = 0xe4;
  NowLoadingBlock0.u1 = 0xf0;
  NowLoadingBlock0.u2 = 0xe4;
  NowLoadingBlock0.v2 = 0xa3;
  NowLoadingBlock0.u3 = 0xf0;
  NowLoadingBlock0.v3 = 0xa3;
  pPVar20 = &NowLoadingBlock0;
  puVar11 = &DAT_8004d838;
  NowLoadingBlock0.x1 = NowLoadingBlock0.x3;
  NowLoadingBlock0.y1 = NowLoadingBlock0.y0;
  NowLoadingBlock0.x2 = NowLoadingBlock0.x0;
  NowLoadingBlock0.y2 = NowLoadingBlock0.y3;
  do {
    puVar19 = puVar11;
    pPVar17 = pPVar20;
    uVar13 = *(u_long *)&pPVar17->r0;
    uVar14 = *(u_long *)&pPVar17->x0;
    uVar15 = *(u_long *)&pPVar17->u0;
    *puVar19 = pPVar17->tag;
    puVar19[1] = uVar13;
    puVar19[2] = uVar14;
    puVar19[3] = uVar15;
    pPVar20 = (POLY_FT4 *)&pPVar17->x1;
    puVar11 = puVar19 + 4;
  } while (&pPVar17->x1 != &NowLoadingBlock0.x3);
  uVar13 = *(u_long *)&pPVar17->u1;
  puVar19[4] = NowLoadingBlock0._32_4_;
  puVar19[5] = uVar13;
  NowLoadingBlock1.x0 = x_pos + 0xab;
  NowLoadingBlock1.y0 = y_pos + 200;
  NowLoadingBlock1.x3 = x_pos + 0xb2;
  NowLoadingBlock1.y3 = y_pos + 0xd0;
  NowLoadingBlock1.v1 = 0xa3;
  NowLoadingBlock1.v0 = 0xa3;
  NowLoadingBlock1.u0 = 0xe4;
  NowLoadingBlock1.u1 = 0xeb;
  NowLoadingBlock1.u2 = 0xe4;
  NowLoadingBlock1.v2 = 0xab;
  NowLoadingBlock1.u3 = 0xeb;
  NowLoadingBlock1.v3 = 0xab;
  pPVar20 = &NowLoadingBlock1;
  puVar11 = &DAT_8004d860;
  NowLoadingBlock1.x1 = NowLoadingBlock1.x3;
  NowLoadingBlock1.y1 = NowLoadingBlock1.y0;
  NowLoadingBlock1.x2 = NowLoadingBlock1.x0;
  NowLoadingBlock1.y2 = NowLoadingBlock1.y3;
  do {
    puVar19 = puVar11;
    pPVar17 = pPVar20;
    uVar13 = *(u_long *)&pPVar17->r0;
    uVar14 = *(u_long *)&pPVar17->x0;
    uVar15 = *(u_long *)&pPVar17->u0;
    *puVar19 = pPVar17->tag;
    puVar19[1] = uVar13;
    puVar19[2] = uVar14;
    puVar19[3] = uVar15;
    pPVar20 = (POLY_FT4 *)&pPVar17->x1;
    puVar11 = puVar19 + 4;
  } while (&pPVar17->x1 != &NowLoadingBlock1.x3);
  uVar13 = *(u_long *)&pPVar17->u1;
  puVar19[4] = NowLoadingBlock1._32_4_;
  puVar19[5] = uVar13;
  NowLoadingBlock2.x0 = x_pos + 0xb7;
  NowLoadingBlock2.y0 = y_pos + 200;
  NowLoadingBlock2.x3 = x_pos + 0xc3;
  NowLoadingBlock2.y3 = y_pos + 0xd0;
  NowLoadingBlock2.v1 = 'U';
  NowLoadingBlock2.v0 = 'U';
  NowLoadingBlock2.u0 = 0xad;
  NowLoadingBlock2.u1 = 0xb9;
  NowLoadingBlock2.u2 = 0xad;
  NowLoadingBlock2.v2 = ']';
  NowLoadingBlock2.u3 = 0xb9;
  NowLoadingBlock2.v3 = ']';
  pPVar20 = &NowLoadingBlock2;
  puVar11 = &DAT_8004d888;
  NowLoadingBlock2.x1 = NowLoadingBlock2.x3;
  NowLoadingBlock2.y1 = NowLoadingBlock2.y0;
  NowLoadingBlock2.x2 = NowLoadingBlock2.x0;
  NowLoadingBlock2.y2 = NowLoadingBlock2.y3;
  do {
    puVar19 = puVar11;
    pPVar17 = pPVar20;
    uVar13 = *(u_long *)&pPVar17->r0;
    uVar14 = *(u_long *)&pPVar17->x0;
    uVar15 = *(u_long *)&pPVar17->u0;
    *puVar19 = pPVar17->tag;
    puVar19[1] = uVar13;
    puVar19[2] = uVar14;
    puVar19[3] = uVar15;
    pPVar20 = (POLY_FT4 *)&pPVar17->x1;
    puVar11 = puVar19 + 4;
  } while (&pPVar17->x1 != &NowLoadingBlock2.x3);
  uVar13 = *(u_long *)&pPVar17->u1;
  puVar19[4] = NowLoadingBlock2._32_4_;
  puVar19[5] = uVar13;
  NowLoadingBlock3.x0 = x_pos + 0xc3;
  NowLoadingBlock3.y0 = y_pos + 200;
  NowLoadingBlock3.x3 = x_pos + 200;
  NowLoadingBlock3.y3 = y_pos + 0xd0;
  NowLoadingBlock3.v1 = '`';
  NowLoadingBlock3.v0 = '`';
  NowLoadingBlock3.u0 = 0xd1;
  NowLoadingBlock3.u1 = 0xd6;
  NowLoadingBlock3.u2 = 0xd1;
  NowLoadingBlock3.v2 = 'h';
  NowLoadingBlock3.u3 = 0xd6;
  NowLoadingBlock3.v3 = 'h';
  pPVar20 = &NowLoadingBlock3;
  puVar11 = &DAT_8004d8b0;
  NowLoadingBlock3.x1 = NowLoadingBlock3.x3;
  NowLoadingBlock3.y1 = NowLoadingBlock3.y0;
  NowLoadingBlock3.x2 = NowLoadingBlock3.x0;
  NowLoadingBlock3.y2 = NowLoadingBlock3.y3;
  do {
    puVar19 = puVar11;
    pPVar17 = pPVar20;
    uVar13 = *(u_long *)&pPVar17->r0;
    uVar14 = *(u_long *)&pPVar17->x0;
    uVar15 = *(u_long *)&pPVar17->u0;
    *puVar19 = pPVar17->tag;
    puVar19[1] = uVar13;
    puVar19[2] = uVar14;
    puVar19[3] = uVar15;
    pPVar20 = (POLY_FT4 *)&pPVar17->x1;
    puVar11 = puVar19 + 4;
  } while (&pPVar17->x1 != &NowLoadingBlock3.x3);
  uVar13 = *(u_long *)&pPVar17->u1;
  puVar19[4] = NowLoadingBlock3._32_4_;
  puVar19[5] = uVar13;
  NowLoadingBlock4.x0 = x_pos + 199;
  NowLoadingBlock4.y0 = y_pos + 200;
  NowLoadingBlock4.x3 = x_pos + 0xca;
  NowLoadingBlock4.y3 = y_pos + 0xd0;
  NowLoadingBlock4.v1 = 'R';
  NowLoadingBlock4.v0 = 'R';
  NowLoadingBlock4.u0 = '|';
  NowLoadingBlock4.u1 = '\x7f';
  NowLoadingBlock4.u2 = '|';
  NowLoadingBlock4.v2 = 'Z';
  NowLoadingBlock4.u3 = '\x7f';
  NowLoadingBlock4.v3 = 'Z';
  pPVar20 = &NowLoadingBlock4;
  puVar11 = &DAT_8004d8d8;
  NowLoadingBlock4.x1 = NowLoadingBlock4.x3;
  NowLoadingBlock4.y1 = NowLoadingBlock4.y0;
  NowLoadingBlock4.x2 = NowLoadingBlock4.x0;
  NowLoadingBlock4.y2 = NowLoadingBlock4.y3;
  do {
    puVar19 = puVar11;
    pPVar17 = pPVar20;
    uVar13 = *(u_long *)&pPVar17->r0;
    uVar14 = *(u_long *)&pPVar17->x0;
    uVar15 = *(u_long *)&pPVar17->u0;
    *puVar19 = pPVar17->tag;
    puVar19[1] = uVar13;
    puVar19[2] = uVar14;
    puVar19[3] = uVar15;
    pPVar20 = (POLY_FT4 *)&pPVar17->x1;
    puVar11 = puVar19 + 4;
  } while (&pPVar17->x1 != &NowLoadingBlock4.x3);
  uVar13 = *(u_long *)&pPVar17->u1;
  puVar19[4] = NowLoadingBlock4._32_4_;
  puVar19[5] = uVar13;
  NowLoadingBlock5.x0 = x_pos + 0xc9;
  NowLoadingBlock5.y0 = y_pos + 200;
  NowLoadingBlock5.x3 = x_pos + 0xce;
  NowLoadingBlock5.y3 = y_pos + 0xd0;
  NowLoadingBlock5.v1 = 0xcc;
  NowLoadingBlock5.v0 = 0xcc;
  NowLoadingBlock5.u0 = 0xce;
  NowLoadingBlock5.u1 = 0xd3;
  NowLoadingBlock5.u2 = 0xce;
  NowLoadingBlock5.v2 = 0xd4;
  NowLoadingBlock5.u3 = 0xd3;
  NowLoadingBlock5.v3 = 0xd4;
  pPVar20 = &NowLoadingBlock5;
  puVar11 = &DAT_8004d900;
  NowLoadingBlock5.x1 = NowLoadingBlock5.x3;
  NowLoadingBlock5.y1 = NowLoadingBlock5.y0;
  NowLoadingBlock5.x2 = NowLoadingBlock5.x0;
  NowLoadingBlock5.y2 = NowLoadingBlock5.y3;
  do {
    puVar19 = puVar11;
    pPVar17 = pPVar20;
    uVar13 = *(u_long *)&pPVar17->r0;
    uVar14 = *(u_long *)&pPVar17->x0;
    uVar15 = *(u_long *)&pPVar17->u0;
    *puVar19 = pPVar17->tag;
    puVar19[1] = uVar13;
    puVar19[2] = uVar14;
    puVar19[3] = uVar15;
    pPVar20 = (POLY_FT4 *)&pPVar17->x1;
    puVar11 = puVar19 + 4;
  } while (&pPVar17->x1 != &NowLoadingBlock5.x3);
  uVar13 = *(u_long *)&pPVar17->u1;
  puVar19[4] = NowLoadingBlock5._32_4_;
  puVar19[5] = uVar13;
  NowLoadingBlock6.x0 = x_pos + 0xcd;
  NowLoadingBlock6.y0 = y_pos + 0xca;
  NowLoadingBlock6.x3 = x_pos + 0xd2;
  NowLoadingBlock6.y3 = y_pos + 0xd2;
  NowLoadingBlock6.v1 = 0xa4;
  NowLoadingBlock6.v0 = 0xa4;
  NowLoadingBlock6.u0 = 0xeb;
  NowLoadingBlock6.u1 = 0xf0;
  NowLoadingBlock6.u2 = 0xeb;
  NowLoadingBlock6.v2 = 0xac;
  NowLoadingBlock6.u3 = 0xf0;
  NowLoadingBlock6.v3 = 0xac;
  pPVar20 = &NowLoadingBlock6;
  puVar11 = &DAT_8004d928;
  NowLoadingBlock6.x1 = NowLoadingBlock6.x3;
  NowLoadingBlock6.y1 = NowLoadingBlock6.y0;
  NowLoadingBlock6.x2 = NowLoadingBlock6.x0;
  NowLoadingBlock6.y2 = NowLoadingBlock6.y3;
  do {
    puVar19 = puVar11;
    pPVar17 = pPVar20;
    uVar13 = *(u_long *)&pPVar17->r0;
    uVar14 = *(u_long *)&pPVar17->x0;
    uVar15 = *(u_long *)&pPVar17->u0;
    *puVar19 = pPVar17->tag;
    puVar19[1] = uVar13;
    puVar19[2] = uVar14;
    puVar19[3] = uVar15;
    pPVar20 = (POLY_FT4 *)&pPVar17->x1;
    puVar11 = puVar19 + 4;
  } while (&pPVar17->x1 != &NowLoadingBlock6.x3);
  uVar13 = *(u_long *)&pPVar17->u1;
  puVar19[4] = NowLoadingBlock6._32_4_;
  puVar19[5] = uVar13;
  LoadClut2(&NowLoadingPalette,0x70,0x1e2);
  return;
}



void BuildNowLoading_128_00(int param_1)

{
  BuildNowLoadingImages(param_1,0x80,0);
  return;
}



void Put_NowLoading_ToOTAG(uint *param_1)

{
  POLY_FT4 *pPVar1;
  int iVar2;
  
  if (DAT_8004760c != 0) {
    if ((DAT_8004e5b8 / 0x3c & 1) == 0) {
      iVar2 = 0;
      pPVar1 = &NowLoadingBlock0;
      do {
        iVar2 = iVar2 + 1;
        AddPrim(param_1,pPVar1 + ScreenPolarity * 7);
        pPVar1 = pPVar1 + 1;
      } while (iVar2 < 7);
    }
    DAT_8004e5b8 = DAT_8004e5b8 + 1;
  }
  return;
}



void Get_EFC_FNT(void)

{
  bool bVar1;
  u_long *addr;
  int iVar2;
  TIM_IMAGE *pTVar3;
  TIM_IMAGE TStack_28;
  
  bVar1 = false;
                    // WARNING: Read-only address (ram,0x80022f5c) is written
  uRam80022f5c = 0x7f;
  FntLoad(0x280,0);
  do {
    addr = Get_BIN_as_TIM(57000,0x8800);
    if (addr == (u_long *)0x0) {
      VSync(0);
      Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
    }
    else {
      iVar2 = OpenTIM(addr);
      if ((iVar2 == 0) && (pTVar3 = ReadTIM(&TStack_28), pTVar3 != (TIM_IMAGE *)0x0)) {
        bVar1 = true;
        LoadTPage(TStack_28.paddr,0,0,0x280,0,(int)(TStack_28.prect)->w << 2,
                  (int)(TStack_28.prect)->h);
        LoadClut2(TStack_28.caddr,0x280,0x7f);
      }
      Call_BIN_Free_FFT((int)addr);
    }
  } while (!bVar1);
  iVar2 = FntOpen(0x88,0x10,0x100,0x100,0,0x200);
  SetDumpFnt(iVar2);
  DrawSync(0);
  DrawSync(0);
  return;
}



void InitialiseDrawDispEnv
               (int param_1,int param_2,undefined4 param_3,u_char param_4,u_char param_5,
               u_char param_6)

{
  uint y;
  
  y = -(uint)(param_2 != 0x1e0) & 0xf0;
  SetDispMask(0);
  PutScreentoGTE(param_1 / 2,param_2 / 2);
  PutProjectionPlacetoGTE(param_3);
  SetDefDrawEnv(&DRAWENV1,0,0,param_1,param_2);
  SetDefDispEnv(&DISPENV1,0,y,param_1,param_2);
  SetDefDrawEnv(&DRAWENV2,0,y,param_1,param_2);
  SetDefDispEnv(&DISPENV2,0,0,param_1,param_2);
  DRAWENV2.dtd = '\0';
  DRAWENV1.dtd = '\0';
  DRAWENV2.isbg = '\x01';
  DRAWENV1.isbg = '\x01';
  DRAWENV1.g0 = param_5;
  DRAWENV1.b0 = param_6;
  DRAWENV2.g0 = param_5;
  DRAWENV2.b0 = param_6;
  DRAWENV1.r0 = param_4;
  DRAWENV2.r0 = param_4;
  PutDispEnv(&DISPENV1 + ScreenPolarity);
  PutDrawEnv(&DRAWENV1 + ScreenPolarity);
  return;
}



uint DrawSquaresoftLogo(u_long *Otag,undefined *ImageSrc)

{
  uint uVar1;
  RECT ImageRECT;
  
  ScreenPolarity = (uint)(ScreenPolarity == 0);
  DrawSync(0);
  uVar1 = VSync(0);
  PutDispEnv(&DISPENV1 + ScreenPolarity);
  PutDrawEnv(&DRAWENV1 + ScreenPolarity);
  ImageRECT.x = 0x46;
  ImageRECT.w = 0xb4;
  ImageRECT.h = 0x10;
  ImageRECT.y = (&DRAWENV1)[ScreenPolarity].clip.y + 0x70;
  LoadImage(&ImageRECT,(u_long *)ImageSrc);
  DrawOTag(Otag);
  FntFlush(-1);
  return uVar1;
}



void BuildDrawSquaresoft(void)

{
  int VsyncWaitLoop;
  u_long *ot;
  u_char ColFade;
  int FadeInAmount;
  POLY_F4 SquaresoftPoly;
  u_long local_60;
  uint local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  DR_MODE local_48;
  u_long local_3c;
  u_long local_38;
  u_long local_34;
  u_long auStack_30 [4];
  RECT BlackRectangle;
  
  BlackRectangle._0_4_ = DAT_80040924;
  BlackRectangle._4_4_ = DAT_80040928;
  FadeInAmount = 0xf8;
  InitialiseDrawDispEnv(0x140,0xf0,0x200,'\0','\0','\0');
  SetPolyF4(&SquaresoftPoly);
  SquaresoftPoly._4_4_ = SquaresoftPoly._4_4_ & 0xff000000;
  SquaresoftPoly.x0 = 0;
  SquaresoftPoly.y0 = 0;
  SquaresoftPoly.x1 = 0x140;
  SquaresoftPoly.y1 = 0;
  SquaresoftPoly.x2 = 0;
  SquaresoftPoly.y2 = 0x100;
  SquaresoftPoly.x3 = 0x140;
  SquaresoftPoly.y3 = 0x100;
  SetSemiTrans(&SquaresoftPoly,1);
  local_60 = SquaresoftPoly.tag;
  local_5c = SquaresoftPoly._4_4_;
  local_58._0_2_ = SquaresoftPoly.x0;
  local_58._2_2_ = SquaresoftPoly.y0;
  local_54._0_2_ = SquaresoftPoly.x1;
  local_54._2_2_ = SquaresoftPoly.y1;
  local_50._0_2_ = SquaresoftPoly.x2;
  local_50._2_2_ = SquaresoftPoly.y2;
  local_4c._0_2_ = SquaresoftPoly.x3;
  local_4c._2_2_ = SquaresoftPoly.y3;
  SetDrawMode(&local_48,0,0,0x40,&BlackRectangle);
  local_3c = local_48.tag;
  local_38 = local_48.code[0];
  local_34 = local_48.code[1];
  BlackRectangle.x = 0;
  BlackRectangle.y = 0;
  BlackRectangle.w = 0x100;
  BlackRectangle.h = 0x1e0;
  ClearImage(&BlackRectangle,'\0','\0','\0');
  DrawSync(0);
  SetDispMask(1);
  VsyncWaitLoop = 0;
  do {
    VSync(0);
    VsyncWaitLoop = VsyncWaitLoop + 1;
  } while (VsyncWaitLoop < 0xf);
  do {
    ot = auStack_30 + ScreenPolarity * 2;
    ClearOTag(ot,2);
    ColFade = (u_char)FadeInAmount;
    (&SquaresoftPoly)[ScreenPolarity].r0 = ColFade;
    (&SquaresoftPoly)[ScreenPolarity].g0 = ColFade;
    (&SquaresoftPoly)[ScreenPolarity].b0 = ColFade;
    AddPrim(ot,&SquaresoftPoly + ScreenPolarity);
    AddPrim(ot,&local_48 + ScreenPolarity);
    DrawSquaresoftLogo(ot,(undefined *)&SquaresoftLogo);
    FadeInAmount = FadeInAmount + -8;
  } while (-1 < FadeInAmount * 0x10000);
  DrawSync(0);
  DrawSync(0);
  return;
}



void DrawFadeSquaresoft(void)

{
  int iVar1;
  u_long *ot;
  u_char uVar2;
  int iVar3;
  POLY_F4 FadeinPoly;
  u_long local_60;
  uint local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  DR_MODE local_48;
  u_long local_3c;
  u_long local_38;
  u_long local_34;
  u_long auStack_30 [4];
  RECT local_20;
  
  local_20._0_4_ = DAT_80040924;
  local_20._4_4_ = DAT_80040928;
  iVar3 = 0;
  SetPolyF4(&FadeinPoly);
  FadeinPoly._4_4_ = FadeinPoly._4_4_ & 0xff000000;
  FadeinPoly.x0 = 0;
  FadeinPoly.y0 = 0;
  FadeinPoly.x1 = 0x140;
  FadeinPoly.y1 = 0;
  FadeinPoly.x2 = 0;
  FadeinPoly.y2 = 0x100;
  FadeinPoly.x3 = 0x140;
  FadeinPoly.y3 = 0x100;
  SetSemiTrans(&FadeinPoly,1);
  local_60 = FadeinPoly.tag;
  local_5c = FadeinPoly._4_4_;
  local_58._0_2_ = FadeinPoly.x0;
  local_58._2_2_ = FadeinPoly.y0;
  local_54._0_2_ = FadeinPoly.x1;
  local_54._2_2_ = FadeinPoly.y1;
  local_50._0_2_ = FadeinPoly.x2;
  local_50._2_2_ = FadeinPoly.y2;
  local_4c._0_2_ = FadeinPoly.x3;
  local_4c._2_2_ = FadeinPoly.y3;
  SetDrawMode(&local_48,0,0,0x40,&local_20);
  local_3c = local_48.tag;
  local_38 = local_48.code[0];
  local_34 = local_48.code[1];
  iVar1 = 0;
  do {
    if (0xf7 < iVar1 >> 0x10) {
      iVar3 = 0xff;
    }
    ot = auStack_30 + ScreenPolarity * 2;
    ClearOTag(ot,2);
    uVar2 = (u_char)iVar3;
    (&FadeinPoly)[ScreenPolarity].r0 = uVar2;
    (&FadeinPoly)[ScreenPolarity].g0 = uVar2;
    (&FadeinPoly)[ScreenPolarity].b0 = uVar2;
    AddPrim(ot,&FadeinPoly + ScreenPolarity);
    AddPrim(ot,&local_48 + ScreenPolarity);
    DrawSquaresoftLogo(ot,(undefined *)&SquaresoftLogo);
    iVar3 = iVar3 + 8;
    iVar1 = iVar3 * 0x10000;
  } while (iVar3 * 0x10000 >> 0x10 < 0x100);
  DrawSync(0);
  local_20.x = 0;
  local_20.y = 0;
  local_20.w = 0x100;
  local_20.h = 0x1e0;
  ClearImage(&local_20,'\0','\0','\0');
  DrawSync(0);
  return;
}



uint Draw_SCEAP(u_long *Otag,u_long *ImageSrc)

{
  uint uVar1;
  RECT ImageRECT;
  
  ScreenPolarity = (uint)(ScreenPolarity == 0);
  DrawSync(0);
  uVar1 = VSync(0);
  PutDispEnv(&DISPENV1 + ScreenPolarity);
  PutDrawEnv(&DRAWENV1 + ScreenPolarity);
  ImageRECT.x = 0;
  ImageRECT.w = 0x140;
  ImageRECT.h = 0x20;
  ImageRECT.y = (&DRAWENV1)[ScreenPolarity].clip.y + 0x68;
  LoadImage(&ImageRECT,ImageSrc);
  DrawOTag(Otag);
  FntFlush(-1);
  return uVar1;
}



void BuildDrawSCEAPDAT(void)

{
  u_long *Otag;
  u_char uVar1;
  int iVar2;
  int iVar3;
  POLY_F4 local_78;
  u_long local_60;
  uint local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  DR_MODE local_48;
  u_long local_3c;
  u_long local_38;
  u_long local_34;
  u_long auStack_30 [4];
  RECT local_20;
  
  local_20._0_4_ = DAT_80040924;
  local_20._4_4_ = DAT_80040928;
  InitialiseDrawDispEnv(0x140,0xf0,0x200,'\0','\0','\0');
  iVar3 = 0;
  Get_DAT_BIN_as_File(0xc6,0x5000,(u_long *)PTR_DAT_80010010);
  SetPolyF4(&local_78);
  local_78._4_4_ = local_78._4_4_ & 0xff000000;
  local_78.x0 = 0;
  local_78.y0 = 0;
  local_78.x1 = 0x140;
  local_78.y1 = 0;
  local_78.x2 = 0;
  local_78.y2 = 0xf0;
  local_78.x3 = 0x140;
  local_78.y3 = 0xf0;
  SetSemiTrans(&local_78,1);
  local_60 = local_78.tag;
  local_5c = local_78._4_4_;
  local_58._0_2_ = local_78.x0;
  local_58._2_2_ = local_78.y0;
  local_54._0_2_ = local_78.x1;
  local_54._2_2_ = local_78.y1;
  local_50._0_2_ = local_78.x2;
  local_50._2_2_ = local_78.y2;
  local_4c._0_2_ = local_78.x3;
  local_4c._2_2_ = local_78.y3;
  SetDrawMode(&local_48,0,0,0x40,&local_20);
  local_3c = local_48.tag;
  local_38 = local_48.code[0];
  local_34 = local_48.code[1];
  local_20.x = 0;
  local_20.y = 0;
  local_20.w = 0x140;
  local_20.h = 0x1e0;
  ClearImage(&local_20,'\0','\0','\0');
  DrawSync(0);
  SetDispMask(1);
  do {
    VSync(0);
    iVar3 = iVar3 + 1;
    iVar2 = 0xf8;
  } while (iVar3 < 0xf);
  do {
    Otag = auStack_30 + ScreenPolarity * 2;
    ClearOTag(Otag,2);
    uVar1 = (u_char)iVar2;
    (&local_78)[ScreenPolarity].r0 = uVar1;
    (&local_78)[ScreenPolarity].g0 = uVar1;
    (&local_78)[ScreenPolarity].b0 = uVar1;
    AddPrim(Otag,&local_78 + ScreenPolarity);
    AddPrim(Otag,&local_48 + ScreenPolarity);
    Draw_SCEAP(Otag,(u_long *)PTR_DAT_80010010);
    iVar2 = iVar2 + -8;
  } while (-1 < iVar2 * 0x10000);
  iVar3 = 0;
  do {
    VSync(0);
    iVar3 = iVar3 + 1;
  } while (iVar3 < 0xb4);
  iVar2 = 0;
  iVar3 = 0;
  do {
    if (0xf7 < iVar3 >> 0x10) {
      iVar2 = 0xff;
    }
    Otag = auStack_30 + ScreenPolarity * 2;
    ClearOTag(Otag,2);
    uVar1 = (u_char)iVar2;
    (&local_78)[ScreenPolarity].r0 = uVar1;
    (&local_78)[ScreenPolarity].g0 = uVar1;
    (&local_78)[ScreenPolarity].b0 = uVar1;
    AddPrim(Otag,&local_78 + ScreenPolarity);
    AddPrim(Otag,&local_48 + ScreenPolarity);
    Draw_SCEAP(Otag,(u_long *)PTR_DAT_80010010);
    iVar2 = iVar2 + 8;
    iVar3 = iVar2 * 0x10000;
  } while (iVar2 * 0x10000 >> 0x10 < 0x100);
  DrawSync(0);
  local_20.x = 0;
  local_20.y = 0;
  local_20.w = 0x140;
  local_20.h = 0x1e0;
  ClearImage(&local_20,'\0','\0','\0');
  DrawSync(0);
  return;
}



void ResetFrameBuffer(int w,int h,undefined4 ProjectionPlane,u_char r,u_char g,u_char b)

{
  int id;
  uint y;
  RECT local_30;
  
  local_30._0_4_ = DAT_8004091c;
  local_30._4_4_ = DAT_80040920;
  y = -(uint)(h != 0x1e0) & 0xf0;
  SetDispMask(0);
  ResetGraph(0);
  InitGeom();
  PutScreentoGTE(w / 2,h / 2);
  PutProjectionPlacetoGTE(ProjectionPlane);
  SetDefDrawEnv(&DRAWENV1,0,0,w,h);
  SetDefDispEnv(&DISPENV1,0,y,w,h);
  SetDefDrawEnv(&DRAWENV2,0,y,w,h);
  SetDefDispEnv(&DISPENV2,0,0,w,h);
  DRAWENV2.dtd = '\0';
  DRAWENV1.dtd = '\0';
  DRAWENV2.isbg = '\0';
  DRAWENV1.isbg = '\0';
  DRAWENV1.g0 = g;
  DRAWENV1.b0 = b;
  DRAWENV2.g0 = g;
  DRAWENV2.b0 = b;
  DRAWENV1.r0 = r;
  DRAWENV2.r0 = r;
  ClearImage(&local_30,'\0','\0','\0');
  DrawSync(0);
  FntLoad(0x280,0);
  id = FntOpen(0x28,0x10,0x200,0x100,0,0x200);
  SetDumpFnt(id);
  PutDispEnv(&DISPENV1 + ScreenPolarity);
  PutDrawEnv(&DRAWENV1 + ScreenPolarity);
  return;
}



void Reset_CDROM_CPURAM(void)

{
  SetMem(2);
  CdInit();
  CdSetDebug(0);
  Reset_Pause_CDROM((int)&fileOpenDesc_8004eaf4);
  fileOpenDesc_8004eaf4.busy = 0;
  return;
}



void Get_ZODIAC_CDROM_to_FrameBuffer(void)

{
  u_long *p;
  RECT local_10;
  
  local_10._0_4_ = ZODIACTW._0_4_;
  local_10._4_4_ = ZODIACTW._4_4_;
  p = Get_BIN_as_TIM(0xec61,0x10000);
  LoadImage(&local_10,p);
  DrawSync(0);
  BIN_Free_FFT((int)p);
  Get_FRAME_CDROM_to_FrameBuffer();
  return;
}



void Initialise_Game_Environment(void)

{
  FUN_80044670();
  ResetCallback();
  DAT_800459c4 = 0;
  DAT_800459c0 = 0;
  DAT_800459bc = 0;
  DAT_800459b8 = 0;
  VSyncCallback(FUN_800434dc);
  DrawSyncCallback(FUN_800435ac);
  CdReadyCallback(FUN_800435b4);
  CdReadCallback(FUN_800435bc);
  ResetGraph(0);
  SetGraphDebug(0);
  PadInit(0);
  FUN_800186c4();
  Reset_CDROM_CPURAM();
  ResetFrameBuffer(0x100,0xf0,0x200,'\0','\0','\0');
  BuildDrawSCEAPDAT();
  BuildDrawSquaresoft();
  Initialise_MEMCARD_events();
  Open_Permanent_SoundFiles();
  Get_ZODIAC_CDROM_to_FrameBuffer();
  srand(1);
  DrawFadeSquaresoft();
  DAT_8004d9b4 = 0;
  return;
}



void FUN_80042690(void)

{
  int iVar1;
  
  if (DAT_8004d9b4 != 0) {
    FUN_80044670();
    FUN_80043f00();
    DAT_800459c4 = 0;
    DAT_800459c0 = 0;
    DAT_800459bc = 0;
    DAT_800459b8 = 0;
    ResetGraph(1);
    SetGraphDebug(0);
    SsUtReverbOn();
    Reset_CDROM_CPURAM();
    ResetFrameBuffer(0x100,0xf0,0x200,'\0','\0','\0');
    BuildDrawSquaresoft();
    Open_Permanent_SoundFiles();
    Get_ZODIAC_CDROM_to_FrameBuffer();
  }
  FUN_80044acc();
  Initialize_Status_Check_Data();
  FUN_800452ec();
  FUN_80045514();
  if (DAT_8004d9b4 != 0) {
    iVar1 = 0;
    do {
      VSync(0);
      iVar1 = iVar1 + 1;
    } while (iVar1 < 0x3c);
    DrawFadeSquaresoft();
  }
  DAT_8004d9b4 = 1;
  return;
}



undefined4 Open_ENTD_withEventID(void)

{
  undefined4 uVar1;
  int iVar2;
  
  if (DAT_80047600 == 0) {
    uVar1 = 1;
  }
  else {
    if (DAT_80047600 < 0x80) {
      DAT_80047604 = (u_long *)BIN_Malloc_FFT(0x14000);
      iVar2 = 0xebc1;
    }
    else if (DAT_80047600 < 0x100) {
      DAT_80047604 = (u_long *)BIN_Malloc_FFT(0x14000);
      iVar2 = 0xebe9;
    }
    else if (DAT_80047600 < 0x180) {
      DAT_80047604 = (u_long *)BIN_Malloc_FFT(0x14000);
      iVar2 = 0xec11;
    }
    else {
      DAT_80047604 = (u_long *)BIN_Malloc_FFT(0x14000);
      iVar2 = 0xec39;
    }
    iVar2 = Call_CalcFileHead_NNL(iVar2,0x14000,DAT_80047604);
    uVar1 = 1;
    if (iVar2 != 0) {
      Call_BIN_Free_FFT((int)DAT_80047604);
      uVar1 = 0;
    }
  }
  return uVar1;
}



int Get_Current_ENTD_Data_Pointer(void)

{
  int iVar1;
  int iVar2;
  
  iVar1 = -1;
  if (DAT_80047600 != 0) {
    iVar2 = Check_File_Still_Loading();
    iVar1 = 0;
    if (iVar2 == 0) {
      if (DAT_80047600 < 0x80) {
        iVar1 = DAT_80047600 * 0x280 + DAT_80047604;
      }
      else {
        iVar1 = DAT_80047600 + -0x80;
        if (0xff < DAT_80047600) {
          if (DAT_80047600 < 0x180) {
            iVar1 = DAT_80047600 + -0x100;
          }
          else {
            iVar1 = DAT_80047600 + -0x180;
          }
        }
        iVar1 = iVar1 * 0x280 + DAT_80047604;
      }
    }
  }
  return iVar1;
}



void ENTDStart_InitUnitData(undefined4 param_1)

{
  int iVar1;
  int iVar2;
  
  DAT_80047600 = param_1;
  while (iVar1 = Open_ENTD_withEventID(), iVar1 == 0) {
    VSync(0);
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
  }
  while( true ) {
    iVar1 = Get_Current_ENTD_Data_Pointer();
    if (iVar1 == -1) {
      return;
    }
    if (iVar1 != 0) break;
    VSync(0);
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
  }
  iVar2 = 0;
  Initialize_Party_ID_to_Neg1();
  do {
    Unit_Initialization(iVar1,iVar2,0,1);
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x10);
  Call_BIN_Free_FFT(DAT_80047604);
  return;
}



void StartingInventory(void)

{
  undefined *puVar1;
  int iVar2;
  
  iVar2 = 0xff;
  puVar1 = &DAT_800597df;
  do {
    *puVar1 = 0;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  DAT_800597d0 = 5;
  DAT_800597d1 = 2;
  DAT_800597d2 = 1;
  DAT_800597d3 = 1;
  DAT_800597d4 = 1;
  DAT_800597d5 = 1;
  DAT_800597d6 = 1;
  DAT_800597d7 = 2;
  DAT_800597d8 = 1;
  DAT_800597d9 = 1;
  DAT_800597da = 1;
  DAT_800597db = 1;
  DAT_800597dc = 1;
  DAT_800597dd = 2;
  return;
}



void NewGame_Setup(int param_1)

{
  FUN_WORLD__8010656c();
  Initialize_Party_ID_to_Neg1();
  if (param_1 == 0) {
    Generate_Unit_in_Empty_PartySlot(2);
  }
  else if (param_1 == 2) {
    ENTDStart_InitUnitData(0xfe);
  }
  StartingInventory();
  FUN_WORLD__800ef25c(0x2c,2000);
  return;
}



void Store_3_Halfwords(undefined2 *param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4)

{
  *param_1 = param_2;
  param_1[1] = param_3;
  param_1[2] = param_4;
  return;
}



void Store_3_Words(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  *param_1 = param_2;
  param_1[1] = param_3;
  param_1[2] = param_4;
  return;
}



void FUN_80042b3c(int param_1,int param_2,undefined4 param_3,u_char param_4,u_char param_5,
                 u_char param_6)

{
  uint y;
  
  y = -(uint)(param_2 != 0x1e0) & 0xf0;
  SetDispMask(0);
  PutScreentoGTE(param_1 / 2,param_2 / 2);
  PutProjectionPlacetoGTE(param_3);
  SetDefDrawEnv(&DRAWENV1,0,0,param_1,param_2);
  SetDefDispEnv(&DISPENV1,0,y,param_1,param_2);
  SetDefDrawEnv(&DRAWENV2,0,y,param_1,param_2);
  SetDefDispEnv(&DISPENV2,0,0,param_1,param_2);
  DRAWENV2.dtd = '\0';
  DRAWENV1.dtd = '\0';
  DRAWENV2.isbg = '\x01';
  DRAWENV1.isbg = '\x01';
  DRAWENV1.g0 = param_5;
  DRAWENV1.b0 = param_6;
  DRAWENV2.g0 = param_5;
  DRAWENV2.b0 = param_6;
  DRAWENV1.r0 = param_4;
  DRAWENV2.r0 = param_4;
  PutDispEnv(&DISPENV1 + ScreenPolarity);
  PutDrawEnv(&DRAWENV1 + ScreenPolarity);
  return;
}



int Swap_ScreenPolarity(u_long *param_1)

{
  int iVar1;
  
  ScreenPolarity = (uint)(ScreenPolarity == 0);
  DrawSync(0);
  iVar1 = VSync(0);
  PutDispEnv(&DISPENV1 + ScreenPolarity);
  PutDrawEnv(&DRAWENV1 + ScreenPolarity);
  DrawOTag(param_1);
  FntFlush(-1);
  return iVar1;
}



void FUN_80042dd4(void)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  u_long *ot;
  u_char uVar8;
  int iVar9;
  POLY_F4 local_d0;
  u_long local_b8;
  uint local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  DR_MODE local_a0;
  u_long local_94;
  u_long local_90;
  u_long local_8c;
  undefined4 local_88;
  undefined local_84;
  undefined uStack_83;
  undefined uStack_82;
  undefined uStack_81;
  undefined2 local_80;
  undefined2 uStack_7e;
  undefined local_7c;
  undefined uStack_7b;
  u_short uStack_7a;
  undefined2 local_78;
  undefined2 uStack_76;
  undefined local_74;
  undefined uStack_73;
  u_short uStack_72;
  undefined2 local_70;
  undefined2 local_6e;
  undefined local_6c;
  undefined local_6b;
  undefined2 local_68;
  undefined2 local_66;
  undefined local_64;
  undefined local_63;
  undefined4 local_60 [10];
  u_long auStack_38 [4];
  RECT local_28;
  
  local_28._0_4_ = DAT_80040924;
  local_28._4_4_ = DAT_80040928;
  iVar9 = 0xf8;
  FUN_80042b3c(0x100,0xf0,0x200,'\0','\0','\0');
  SetPolyF4(&local_d0);
  local_d0._4_4_ = local_d0._4_4_ & 0xff000000;
  local_d0.x0 = 0;
  local_d0.y0 = 0;
  local_d0.x1 = 0x100;
  local_d0.y1 = 0;
  local_d0.x2 = 0;
  local_d0.y2 = 0x100;
  local_d0.x3 = 0x100;
  local_d0.y3 = 0x100;
  SetSemiTrans(&local_d0,1);
  local_b8 = local_d0.tag;
  local_b4 = local_d0._4_4_;
  local_b0._0_2_ = local_d0.x0;
  local_b0._2_2_ = local_d0.y0;
  local_ac._0_2_ = local_d0.x1;
  local_ac._2_2_ = local_d0.y1;
  local_a8._0_2_ = local_d0.x2;
  local_a8._2_2_ = local_d0.y2;
  local_a4._0_2_ = local_d0.x3;
  local_a4._2_2_ = local_d0.y3;
  SetDrawMode(&local_a0,0,0,0x40,&local_28);
  local_94 = local_a0.tag;
  local_90 = local_a0.code[0];
  local_8c = local_a0.code[1];
  local_88._3_1_ = 9;
  uStack_81 = 0x2c;
  local_84 = 0x80;
  uStack_83 = 0x80;
  uStack_82 = 0x80;
  uStack_7e = 0x74;
  uStack_76 = 0x74;
  local_78 = 0xff;
  local_68 = 0xff;
  local_6e = 0x8c;
  local_66 = 0x8c;
  local_80 = 0;
  local_70 = 0;
  local_7c = 0;
  uStack_7b = 0;
  local_74 = 0xff;
  uStack_73 = 0;
  local_6c = 0;
  local_6b = 0x18;
  local_64 = 0xff;
  local_63 = 0x18;
  SetSemiTrans(&local_88,0);
  uStack_72 = GetTPage(0,0,0x380,0x100);
  uStack_7a = GetClut(0x380,0x11f);
  puVar1 = local_60;
  puVar7 = &local_88;
  do {
    puVar6 = puVar7;
    puVar5 = puVar1;
    uVar2 = puVar6[1];
    uVar3 = puVar6[2];
    uVar4 = puVar6[3];
    *puVar5 = *puVar6;
    puVar5[1] = uVar2;
    puVar5[2] = uVar3;
    puVar5[3] = uVar4;
    puVar7 = puVar6 + 4;
    puVar1 = puVar5 + 4;
  } while (puVar7 != (undefined4 *)&local_68);
  uVar2 = puVar6[5];
  puVar5[4] = *puVar7;
  puVar5[5] = uVar2;
  local_28.x = 0;
  local_28.y = 0;
  local_28.w = 0x100;
  local_28.h = 0x1e0;
  ClearImage(&local_28,'\0','\0','\0');
  DrawSync(0);
  SetDispMask(1);
  do {
    ot = auStack_38 + ScreenPolarity * 2;
    ClearOTag(ot,2);
    uVar8 = (u_char)iVar9;
    (&local_d0)[ScreenPolarity].r0 = uVar8;
    (&local_d0)[ScreenPolarity].g0 = uVar8;
    (&local_d0)[ScreenPolarity].b0 = uVar8;
    AddPrim(ot,&local_d0 + ScreenPolarity);
    AddPrim(ot,&local_a0 + ScreenPolarity);
    AddPrim(ot,&local_88 + ScreenPolarity * 10);
    Swap_ScreenPolarity(ot);
    iVar9 = iVar9 + -8;
  } while (-1 < iVar9 * 0x10000);
  DrawSync(0);
  DrawSync(0);
  return;
}



void FUN_8004315c(void)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  u_long *ot;
  u_char uVar9;
  int iVar10;
  POLY_F4 local_d0;
  u_long local_b8;
  uint local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  DR_MODE local_a0;
  u_long local_94;
  u_long local_90;
  u_long local_8c;
  undefined4 local_88;
  undefined local_84;
  undefined uStack_83;
  undefined uStack_82;
  undefined uStack_81;
  undefined2 local_80;
  undefined2 uStack_7e;
  undefined local_7c;
  undefined uStack_7b;
  u_short uStack_7a;
  undefined2 local_78;
  undefined2 uStack_76;
  undefined local_74;
  undefined uStack_73;
  u_short uStack_72;
  undefined2 local_70;
  undefined2 local_6e;
  undefined local_6c;
  undefined local_6b;
  undefined2 local_68;
  undefined2 local_66;
  undefined local_64;
  undefined local_63;
  undefined4 local_60 [10];
  u_long auStack_38 [4];
  RECT local_28;
  
  local_28._0_4_ = DAT_80040924;
  local_28._4_4_ = DAT_80040928;
  iVar10 = 0;
  SetPolyF4(&local_d0);
  local_d0._4_4_ = local_d0._4_4_ & 0xff000000;
  local_d0.x0 = 0;
  local_d0.y0 = 0;
  local_d0.x1 = 0x100;
  local_d0.y1 = 0;
  local_d0.x2 = 0;
  local_d0.y2 = 0x100;
  local_d0.x3 = 0x100;
  local_d0.y3 = 0x100;
  SetSemiTrans(&local_d0,1);
  local_b8 = local_d0.tag;
  local_b4 = local_d0._4_4_;
  local_b0._0_2_ = local_d0.x0;
  local_b0._2_2_ = local_d0.y0;
  local_ac._0_2_ = local_d0.x1;
  local_ac._2_2_ = local_d0.y1;
  local_a8._0_2_ = local_d0.x2;
  local_a8._2_2_ = local_d0.y2;
  local_a4._0_2_ = local_d0.x3;
  local_a4._2_2_ = local_d0.y3;
  SetDrawMode(&local_a0,0,0,0x40,&local_28);
  local_94 = local_a0.tag;
  local_90 = local_a0.code[0];
  local_8c = local_a0.code[1];
  local_88._3_1_ = 9;
  uStack_81 = 0x2c;
  local_84 = 0x80;
  uStack_83 = 0x80;
  uStack_82 = 0x80;
  uStack_7e = 0x74;
  uStack_76 = 0x74;
  local_78 = 0xff;
  local_68 = 0xff;
  local_6e = 0x8c;
  local_66 = 0x8c;
  local_80 = 0;
  local_70 = 0;
  local_7c = 0;
  uStack_7b = 0;
  local_74 = 0xff;
  uStack_73 = 0;
  local_6c = 0;
  local_6b = 0x18;
  local_64 = 0xff;
  local_63 = 0x18;
  SetSemiTrans(&local_88,0);
  uStack_72 = GetTPage(0,0,0x380,0x100);
  uStack_7a = GetClut(0x380,0x11f);
  puVar1 = local_60;
  puVar8 = &local_88;
  do {
    puVar7 = puVar8;
    puVar6 = puVar1;
    uVar3 = puVar7[1];
    uVar4 = puVar7[2];
    uVar5 = puVar7[3];
    *puVar6 = *puVar7;
    puVar6[1] = uVar3;
    puVar6[2] = uVar4;
    puVar6[3] = uVar5;
    puVar8 = puVar7 + 4;
    puVar1 = puVar6 + 4;
  } while (puVar8 != (undefined4 *)&local_68);
  uVar3 = puVar7[5];
  puVar6[4] = *puVar8;
  puVar6[5] = uVar3;
  iVar2 = 0;
  do {
    if (0xf7 < iVar2 >> 0x10) {
      iVar10 = 0xff;
    }
    ot = auStack_38 + ScreenPolarity * 2;
    ClearOTag(ot,2);
    uVar9 = (u_char)iVar10;
    (&local_d0)[ScreenPolarity].r0 = uVar9;
    (&local_d0)[ScreenPolarity].g0 = uVar9;
    (&local_d0)[ScreenPolarity].b0 = uVar9;
    AddPrim(ot,&local_d0 + ScreenPolarity);
    AddPrim(ot,&local_a0 + ScreenPolarity);
    AddPrim(ot,&local_88 + ScreenPolarity * 10);
    Swap_ScreenPolarity(ot);
    iVar10 = iVar10 + 8;
    iVar2 = iVar10 * 0x10000;
  } while (iVar10 * 0x10000 >> 0x10 < 0x100);
  DrawSync(0);
  local_28.x = 0;
  local_28.y = 0;
  local_28.w = 0x100;
  local_28.h = 0x1e0;
  ClearImage(&local_28,'\0','\0','\0');
  DrawSync(0);
  return;
}



void FUN_800434dc(void)

{
  rand();
  DAT_800459b8 = DAT_800459b8 + 1;
  if (0x3b < DAT_800459b8) {
    DAT_800459b8 = 0;
    DAT_800459bc = DAT_800459bc + 1;
    if (0x3b < DAT_800459bc) {
      DAT_800459bc = 0;
      DAT_800459c0 = DAT_800459c0 + 1;
      if (0x3b < DAT_800459c0) {
        DAT_800459c0 = 0;
        if (DAT_800459c4 < 1000) {
          DAT_800459c4 = DAT_800459c4 + 1;
        }
      }
    }
  }
  DAT_80057718 = DAT_80057718 + 1;
  return;
}



void FUN_800435ac(void)

{
  return;
}



void FUN_800435b4(void)

{
  return;
}



void FUN_800435bc(void)

{
  return;
}



int FUN_800435c4(int SMDID,int param_2)

{
  u_long *SMDPtr;
  MusicDataHeader *MusicData;
  int iVar1;
  
  iVar1 = 0;
  if ((u_long *)(&DAT_8004d98c)[param_2] == (u_long *)0x0) {
    SMDPtr = Get_SMD(*(int *)(&SMDLBA + SMDID * 8),*(uint *)(&SMDFileSize + SMDID * 8));
    (&DAT_8004d98c)[param_2] = SMDPtr;
    MusicData = FUN_800120f4((undefined *)SMDPtr);
    (&DAT_8004d970)[param_2] = MusicData;
    iVar1 = param_2;
  }
  return iVar1;
}



int FUN_80043660(int SMDID)

{
  u_long **ppuVar1;
  u_long *SMDPtr;
  MusicDataHeader *pMVar2;
  int iVar3;
  MusicDataHeader **ppMVar4;
  
  iVar3 = 0;
  ppuVar1 = (u_long **)&DAT_8004d990;
  ppMVar4 = (MusicDataHeader **)&DAT_8004d974;
  do {
    if (*ppuVar1 == (u_long *)0x0) {
      SMDPtr = Get_SMD(*(int *)(&SMDLBA + SMDID * 8),*(uint *)(&SMDFileSize + SMDID * 8));
      *ppuVar1 = SMDPtr;
      pMVar2 = FUN_800120f4((undefined *)SMDPtr);
      *ppMVar4 = pMVar2;
      return iVar3 + 1;
    }
    ppMVar4 = ppMVar4 + 1;
    iVar3 = iVar3 + 1;
    ppuVar1 = ppuVar1 + 1;
  } while (iVar3 < 2);
  return 0;
}



undefined4 FUN_80043708(void)

{
  return 0;
}



bool FUN_800439c0(int param_1)

{
  int iVar1;
  int *piVar2;
  
  piVar2 = &DAT_8004d98c + param_1;
  iVar1 = *piVar2;
  if (iVar1 != 0) {
    FUN_8001216c((MusicDataHeader *)(&DAT_8004d970)[param_1]);
    (&DAT_8004d970)[param_1] = (MusicDataHeader *)0x0;
    SMD_Realloc_FFT(*piVar2);
    *piVar2 = 0;
  }
  return iVar1 != 0;
}



bool FUN_80043a38(void)

{
  bool bVar1;
  
  bVar1 = DAT_8004d960 != 0;
  if (bVar1) {
    FUN_80012338(DAT_8004d960);
    DAT_8004d95c = 0;
    DAT_8004d964 = 0;
    DAT_8004d960 = 0;
  }
  return bVar1;
}



MusicDataHeader * FUN_80043a90(int param_1,undefined4 param_2,short param_3)

{
  MusicDataHeader *pMVar1;
  
  FUN_80043a38();
  if (param_1 == 0) {
    pMVar1 = (MusicDataHeader *)0x0;
  }
  else {
    pMVar1 = DAT_8004d960;
    if ((&DAT_8004d98c)[param_1] != 0) {
      DAT_8004d964 = (&DAT_8004d98c)[param_1];
      DAT_8004d960 = (MusicDataHeader *)(&DAT_8004d970)[param_1];
      DAT_8004d95c = param_1;
      DAT_8004d968 = param_2;
      FUN_800121dc(DAT_8004d960,(short)param_2,param_3);
      pMVar1 = DAT_8004d960;
    }
  }
  return pMVar1;
}



bool FUN_80043b54(short param_1,short param_2)

{
  bool bVar1;
  
  bVar1 = DAT_8004d960 != (MusicDataHeader *)0x0;
  if (bVar1) {
    FUN_80012f08(DAT_8004d960,(int)param_1,param_2);
  }
  return bVar1;
}



bool FUN_80043ba0(short param_1)

{
  bool bVar1;
  
  bVar1 = DAT_8004d960 != (MusicDataHeader *)0x0;
  if (bVar1) {
    FUN_80012f08(DAT_8004d960,(int)(short)DAT_8004d968,param_1);
  }
  return bVar1;
}



bool FUN_80043be8(undefined4 param_1,short param_2)

{
  bool bVar1;
  
  bVar1 = DAT_8004d960 != (MusicDataHeader *)0x0;
  if (bVar1) {
    DAT_8004d968 = param_1;
    FUN_80012f08(DAT_8004d960,(int)(short)param_1,param_2);
  }
  return bVar1;
}



undefined4 FUN_80043d20(uint param_1)

{
  if ((param_1 != 0) && (PermanentSoundID == 0)) {
    FUN_80043be8(0,0x78);
    PermanentSoundID = param_1 | 0x80;
  }
  return 1;
}



undefined4 FUN_80043d80(short param_1)

{
  if (PermanentSoundID != 0) {
    if ((PermanentSoundID & 0x80) == 0) {
      FUN_80012f08(*(MusicDataHeader **)(&DAT_8004d978 + (PermanentSoundID & 0x3f) * 4),0,param_1);
    }
    else {
      PermanentSoundID = 0;
    }
  }
  return 1;
}



bool FUN_80043de0(void)

{
  bool bVar1;
  ushort uVar2;
  undefined2 extraout_var;
  MusicDataHeader *MusicData;
  undefined2 extraout_var_00;
  uint soundID;
  MusicDataHeader **ppMVar3;
  
  if ((PermanentSoundID & 0x80) == 0) {
    if (PermanentSoundID == 0) {
      bVar1 = false;
    }
    else {
      ppMVar3 = (MusicDataHeader **)(&DAT_8004d978 + (PermanentSoundID & 0x3f) * 4);
      uVar2 = FUN_80012e7c((int)*ppMVar3);
      bVar1 = false;
      if (CONCAT22(extraout_var_00,uVar2) == 0) {
        FUN_80012338((int)*ppMVar3);
        if (*ppMVar3 != (MusicDataHeader *)0x0) {
          FUN_8001216c(*ppMVar3);
        }
        *ppMVar3 = (MusicDataHeader *)0x0;
        PermanentSoundID = 0;
        bVar1 = FUN_80043be8(0x7f,0x78);
      }
    }
  }
  else {
    uVar2 = FUN_80012e7c(DAT_8004d960);
    bVar1 = false;
    if (CONCAT22(extraout_var,uVar2) == 0) {
      soundID = PermanentSoundID & 0x3f;
      PermanentSoundID = PermanentSoundID & 0x7f;
      ppMVar3 = (MusicDataHeader **)(&DAT_8004d978 + soundID * 4);
      if (*ppMVar3 == (MusicDataHeader *)0x0) {
        MusicData = FUN_800120f4((undefined *)(&DAT_8004d994)[soundID]);
        *ppMVar3 = MusicData;
      }
      FUN_800121dc(*ppMVar3,0x7f,0);
      bVar1 = true;
    }
  }
  return bVar1;
}



void FUN_80043f00(void)

{
  FUN_80043a38();
  FUN_800439c0(1);
  FUN_800439c0(2);
  FUN_80043d80(0);
  return;
}



void FUN_80043f50(void)

{
  int iVar1;
  
  iVar1 = DAT_8004d95c;
  FUN_80043a38();
  FUN_800439c0(iVar1);
  return;
}



void FUN_80043f88(int param_1)

{
  int iVar1;
  
  iVar1 = DAT_8004d95c;
  if (DAT_8004d964 != 0) {
    FUN_80043a38();
    FUN_800439c0(iVar1);
  }
  iVar1 = FUN_80043660(param_1);
  if (iVar1 != 0) {
    FUN_80043a90(iVar1,0x7f,0);
  }
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void Call_Play_Sound(uint param_1)

{
  Play_Sound(param_1);
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void Call_Play_SoundEffect(MusicDataHeader *param_1)

{
  Play_SoundEffect(param_1);
  return;
}



void FUN_80044038(uint param_1)

{
  DAT_8004599c = param_1;
  FUN_80012560(param_1);
  return;
}



void __builtin_delete_a(void)

{
  if (DAT_8004599c != 0) {
    FUN_80012560(DAT_8004599c);
  }
  return;
}



void __builtin_delete(uint param_1)

{
  if (param_1 != 0) {
    FUN_80012560(param_1);
  }
  return;
}



void FUN_800440cc(void)

{
  DAT_8004599c = 0;
  FUN_80012860();
  return;
}



void FUN_800440f4(MusicDataHeader *param_1)

{
  if (param_1 == DAT_8004599c) {
    DAT_8004599c = (MusicDataHeader *)0x0;
  }
  FUN_80012990(param_1);
  return;
}



void FUN_80044128(void)

{
  if (DAT_8004599c != (MusicDataHeader *)0x0) {
    FUN_80012990(DAT_8004599c);
  }
  return;
}



void Open_Permanent_SoundFiles(void)

{
  SoundFontHeader *SoundFontPtr;
  u_long *puVar1;
  undefined4 *puVar2;
  int iVar3;
  
  FUN_80017920(0);
  SMD_Free_FFT();
                    // opens WAVESET.WD
  SoundFontPtr = (SoundFontHeader *)Get_File(0x14c0f,0x79000,(u_long *)PTR_FUN_80010000);
  FUN_80017c8c(SoundFontPtr);
                    // Opens SYSTEM.SED
  puVar1 = Get_File(0x14c0a,0x2800,(u_long *)&DAT_80047610);
  FUN_80017e7c((int)puVar1);
                    // Opens ENV.SED
  puVar1 = Get_File(85000,0x1000,(u_long *)&DAT_8004d9b8);
  FUN_80017e7c((int)puVar1);
  iVar3 = 6;
  puVar2 = &DAT_8004d98c;
  DAT_8004d964 = 0;
  PermanentSoundID = 0;
  DAT_8004d970 = 0;
  do {
    *puVar2 = 0;
    iVar3 = iVar3 + -1;
    puVar2 = puVar2 + -1;
  } while (-1 < iVar3);
  DAT_8004599c = 0;
  LevelUpSMD = Get_SMD(DAT_800471e8,DAT_800471ec);
  TreasureDiscoverySMD = Get_SMD(DAT_800471f0,DAT_800471f4);
  GeneralHappinessSMD = Get_SMD(DAT_800471f8,DAT_800471fc);
  GeneralUnhappinessSMD = Get_SMD(DAT_80047200,DAT_80047204);
  JobChangeSMD = Get_SMD(DAT_80047208,DAT_8004720c);
  return;
}



undefined * SMD_Malloc_FFT(uint param_1)

{
  undefined *puVar1;
  uint in_v1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  
  uVar4 = 0;
  uVar5 = param_1 >> 0xb;
  uVar6 = 1;
  if ((param_1 & 0x7ff) != 0) {
    uVar5 = uVar5 + 1;
  }
  uVar3 = 0;
  do {
    uVar2 = (uint)(byte)(&DAT_8004e5c0)[uVar3];
    if (uVar2 == 0) {
      if (uVar4 == 0) {
        in_v1 = uVar3;
      }
      uVar4 = uVar4 + 1;
      if (uVar5 <= uVar4) goto LAB_8004433c;
    }
    else {
      uVar4 = 0;
      if (uVar6 <= uVar2) {
        uVar6 = uVar2 + 1;
      }
    }
    uVar3 = uVar3 + 1;
  } while (uVar3 < 0x10);
  puVar1 = (undefined *)0x0;
  if (uVar5 <= uVar4) {
LAB_8004433c:
    uVar5 = 0;
    if (uVar4 != 0) {
      do {
        (&DAT_8004e5c0)[in_v1 + uVar5] = (char)uVar6;
        uVar5 = uVar5 + 1;
      } while (uVar5 < uVar4);
    }
    puVar1 = &DAT_8004eb18 + in_v1 * 0x800;
  }
  return puVar1;
}



undefined4 SMD_Realloc_FFT(int param_1)

{
  char cVar1;
  undefined4 uVar2;
  char *pcVar3;
  uint uVar4;
  
  uVar4 = param_1 + 0x7ffb14e8U >> 0xb;
  cVar1 = (&DAT_8004e5c0)[uVar4];
  uVar2 = 0;
  if (uVar4 == 0 || cVar1 != *(char *)((int)&DAT_8004e5bc + uVar4 + 3)) {
    pcVar3 = &DAT_8004e5c0 + uVar4;
    do {
      *pcVar3 = '\0';
      pcVar3 = pcVar3 + 1;
      uVar2 = 1;
    } while (*pcVar3 == cVar1);
  }
  return uVar2;
}



void SMD_Free_FFT(void)

{
  undefined *puVar1;
  int iVar2;
  
  iVar2 = 0xf;
  puVar1 = &DAT_8004e5cf;
  do {
    *puVar1 = 0;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  return;
}



undefined * BIN_Malloc_FFT(uint param_1)

{
  undefined *puVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint in_t0;
  
  uVar4 = 0;
  uVar5 = param_1 >> 0xb;
  uVar6 = 1;
  if ((param_1 & 0x7ff) != 0) {
    uVar5 = uVar5 + 1;
  }
  uVar3 = 0;
  do {
    uVar2 = (uint)(byte)(&DAT_8004e9d4)[uVar3];
    if (uVar2 == 0) {
      if (uVar4 == 0) {
        in_t0 = uVar3;
      }
      uVar4 = uVar4 + 1;
      if (uVar5 <= uVar4) goto LAB_80044494;
    }
    else {
      uVar4 = 0;
      if (uVar6 <= uVar2) {
        uVar6 = uVar2 + 1;
      }
    }
    uVar3 = uVar3 + 1;
  } while (uVar3 < 0x40);
  puVar1 = (undefined *)0x0;
  if (uVar5 <= uVar4) {
LAB_80044494:
    uVar5 = 0;
    if (uVar4 != 0) {
      do {
        (&DAT_8004e9d4)[in_t0 + uVar5] = (char)uVar6;
        uVar5 = uVar5 + 1;
      } while (uVar5 < uVar4);
    }
    puVar1 = PTR_DAT_80010010 + in_t0 * 0x800;
  }
  return puVar1;
}



undefined * BIN_Realloc_FFT(undefined *param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  iVar1 = (int)param_1 - (int)PTR_DAT_80010010;
  uVar3 = 1;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0x7ff;
  }
  uVar5 = iVar1 >> 0xb;
  uVar4 = param_2 >> 0xb;
  if ((param_2 & 0x7ff) != 0) {
    uVar4 = uVar4 + 1;
  }
  if ((PTR_DAT_80010010 <= param_1) && (param_1 < PTR_DAT_80010010 + 0x20000)) {
    do {
      uVar2 = 0;
      do {
        if ((byte)(&DAT_8004e9d4)[uVar2] == uVar3) {
          uVar3 = uVar3 + 1;
          break;
        }
        uVar2 = uVar2 + 1;
      } while (uVar2 < 0x40);
    } while (uVar2 != 0x40);
    for (uVar2 = uVar5; (uVar2 < uVar5 + uVar4 && ((&DAT_8004e9d4)[uVar2] == '\0'));
        uVar2 = uVar2 + 1) {
    }
    if (uVar2 == uVar5 + uVar4) {
      uVar2 = 0;
      if (uVar4 != 0) {
        do {
          (&DAT_8004e9d4)[uVar5 + uVar2] = (char)uVar3;
          uVar2 = uVar2 + 1;
        } while (uVar2 < uVar4);
      }
      return PTR_DAT_80010010 + uVar5 * 0x800;
    }
  }
  return (undefined *)0x0;
}



undefined4 BIN_Free_FFT(int param_1)

{
  char cVar1;
  undefined4 uVar2;
  char *pcVar3;
  uint uVar4;
  
  uVar4 = (uint)(param_1 - (int)PTR_DAT_80010010) >> 0xb;
  cVar1 = (&DAT_8004e9d4)[uVar4];
  uVar2 = 0;
  if (uVar4 == 0 || cVar1 != (&DAT_8004e9d3)[uVar4]) {
    pcVar3 = &DAT_8004e9d4 + uVar4;
    do {
      *pcVar3 = '\0';
      pcVar3 = pcVar3 + 1;
      uVar2 = 1;
    } while (*pcVar3 == cVar1);
  }
  return uVar2;
}



void FUN_80044670(void)

{
  undefined *puVar1;
  int iVar2;
  
  iVar2 = 0x3f;
  puVar1 = &DAT_8004ea13;
  do {
    *puVar1 = 0;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  return;
}



void Call_CalcFileHead_NNL(int param_1,uint param_2,u_long *param_3)

{
  Calculate_File_Header_NNL(&fileOpenDesc_8004eaf4,param_1,param_2 >> 0xb,param_3);
  return;
}



// Possible GS_125.OBJ/GsGetWorkBase

int Check_File_Still_Loading(void)

{
  return fileOpenDesc_8004eaf4.busy;
}



u_long * Get_SMD(int param_1,uint param_2)

{
  u_long *puVar1;
  int iVar2;
  
  puVar1 = (u_long *)SMD_Malloc_FFT(param_2);
  if (puVar1 == (u_long *)0x0) {
    ERROREXCEPTION_DEPRECATED();
  }
  while (iVar2 = Calculate_File_Header_NNL(&fileOpenDesc_8004eaf4,param_1,param_2 >> 0xb,puVar1),
        iVar2 != 0) {
    VSync(0);
    FUN_800449ec();
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
  }
  while (fileOpenDesc_8004eaf4.busy != 0) {
    VSync(0);
    FUN_800449ec();
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
  }
  return puVar1;
}



u_long * Get_TIM(int param_1,uint param_2)

{
  u_long *puVar1;
  int iVar2;
  
  puVar1 = (u_long *)BIN_Malloc_FFT(param_2);
  if (puVar1 == (u_long *)0x0) {
    ERROREXCEPTION_DEPRECATED();
  }
  while (iVar2 = Calculate_File_Header_NNL(&fileOpenDesc_8004eaf4,param_1,param_2 >> 0xb,puVar1),
        iVar2 != 0) {
    VSync(0);
    FUN_800449ec();
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
  }
  while (fileOpenDesc_8004eaf4.busy != 0) {
    VSync(0);
    FUN_800449ec();
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
  }
  return puVar1;
}



u_long * Get_File(int param_1,uint param_2,u_long *param_3)

{
  int iVar1;
  
  while (iVar1 = Calculate_File_Header_NNL(&fileOpenDesc_8004eaf4,param_1,param_2 >> 0xb,param_3),
        iVar1 != 0) {
    VSync(0);
    FUN_800449ec();
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
  }
  while (fileOpenDesc_8004eaf4.busy != 0) {
    VSync(0);
    FUN_800449ec();
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
  }
  return param_3;
}



u_long * Get_DAT_BIN_as_File(int param_1,uint param_2,u_long *param_3)

{
  u_long *puVar1;
  
  puVar1 = Get_File(param_1,param_2,param_3);
  if (puVar1 == (u_long *)0x0) {
    ERROREXCEPTION_DEPRECATED();
  }
  return puVar1;
}



u_long * Get_BIN_as_TIM(int param_1,uint param_2)

{
  u_long *puVar1;
  
  puVar1 = Get_TIM(param_1,param_2);
  if (puVar1 == (u_long *)0x0) {
    ERROREXCEPTION_DEPRECATED();
  }
  return puVar1;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void Call_BIN_Free_FFT(int param_1)

{
  BIN_Free_FFT(param_1);
  return;
}



void FUN_800449ec(void)

{
  return;
}



void FUN_800449f8(void)

{
  return;
}



void FUN_80044a00(void)

{
  return;
}



void ERROREXCEPTION_DEPRECATED(void)

{
  FUN_800449f8();
  DAT_8004c6c4 = 0;
  return;
}



void FUN_80044a34(void)

{
  FUN_80044a00();
  DAT_8004c6c4 = 0;
  return;
}



undefined4 Get_OTAG_List(void)

{
  return *(undefined4 *)(DAT_8011a2d4 + 0xe5b4);
}



void Set_OTAG_List(void)

{
  undefined *puVar1;
  
  puVar1 = &DAT_800fc55c;
  if (DAT_8011a2d4 == &DAT_800fc55c) {
    puVar1 = &DAT_8010b384;
  }
  DAT_8011a2d4 = puVar1;
  ClearOTagR(*(u_long **)(puVar1 + 0xe5b4),0x180);
  return;
}



void FUN_80044acc(void)

{
  undefined4 *puVar1;
  int iVar2;
  
  iVar2 = 0xff;
  puVar1 = &DAT_80057b18;
  do {
    *puVar1 = 0;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  DAT_800473a2 = 4;
  DAT_800473a5 = 4;
  DAT_800473a6 = 4;
  DAT_800577d4 = 1;
  DAT_800577d8 = 1;
  DAT_800473a1 = 0xe;
  DAT_800473a3 = 10;
  DAT_800473a4 = 0x20;
  DAT_800473a7 = 1;
  DAT_800473a8 = 0;
  DAT_800473ac = DAT_800473b0;
  return;
}



undefined4 Call_BATTLE_Return0(void)

{
  undefined4 uVar1;
  
  if (DAT_80057b18 == 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = FUN_BATTLE_BIN__8014a81c();
  }
  return uVar1;
}



void FUN_80044ba0(int param_1,short *param_2,short *param_3,char *param_4,short *param_5,int param_6
                 )

{
  short sVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  u_short uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  
  iVar10 = (int)*(short *)(param_4 + 8) * (int)*param_5;
  iVar11 = (int)*(short *)(param_4 + 10) * (int)param_5[1];
  iVar12 = (int)*(short *)(param_4 + 4) * (int)*param_5;
  iVar13 = (int)*(short *)(param_4 + 6) * (int)param_5[1];
  iVar6 = iVar10;
  if (iVar10 < 0) {
    iVar6 = iVar10 + 0xfff;
  }
  iVar7 = iVar11;
  if (iVar11 < 0) {
    iVar7 = iVar11 + 0xfff;
  }
  iVar8 = iVar12;
  if (iVar12 < 0) {
    iVar8 = iVar12 + 0xfff;
  }
  iVar9 = iVar13;
  if (iVar13 < 0) {
    iVar9 = iVar13 + 0xfff;
  }
  sVar1 = (short)(iVar6 >> 0xc) + (ushort)(0x7ff < iVar10 + (iVar6 >> 0xc) * -0x1000);
  sVar2 = (short)(iVar7 >> 0xc) + (ushort)(0x7ff < iVar11 + (iVar7 >> 0xc) * -0x1000);
  iVar6 = (iVar8 >> 0xc) + (uint)(0x7ff < iVar12 + (iVar8 >> 0xc) * -0x1000);
  iVar10 = (iVar9 >> 0xc) + (uint)(0x7ff < iVar13 + (iVar9 >> 0xc) * -0x1000);
  if (iVar6 < 0) {
    iVar6 = -iVar6;
  }
  if (iVar10 < 0) {
    iVar10 = -iVar10;
  }
  uVar5 = GetTPage(1,0,(int)*param_2,(ushort)param_2[1] & 0xf00);
  *(u_short *)(param_1 + 0x16) = uVar5;
  *(char *)(param_1 + 0xc) = *param_4;
  *(char *)(param_1 + 0xd) = param_4[2];
  *(char *)(param_1 + 0x14) = *param_4 + param_4[4];
  *(char *)(param_1 + 0x15) = param_4[2];
  *(char *)(param_1 + 0x1c) = *param_4;
  *(char *)(param_1 + 0x1d) = param_4[2] + param_4[6];
  sVar3 = (short)iVar6 + 0x100;
  *(char *)(param_1 + 0x24) = *param_4 + param_4[4];
  sVar4 = (short)iVar10 + 0x78;
  *(char *)(param_1 + 0x25) = param_4[2] + param_4[6];
  *(short *)(param_1 + 8) = *param_3 + sVar1 + *(short *)(param_6 + 8) + 0x100;
  *(short *)(param_1 + 10) = param_3[1] + sVar2 + *(short *)(param_6 + 10) + 0x78;
  *(short *)(param_1 + 0x10) = *param_3 + sVar1 + *(short *)(param_6 + 8) + sVar3;
  *(short *)(param_1 + 0x12) = param_3[1] + sVar2 + *(short *)(param_6 + 10) + 0x78;
  *(short *)(param_1 + 0x18) = *param_3 + sVar1 + *(short *)(param_6 + 8) + 0x100;
  *(short *)(param_1 + 0x1a) = param_3[1] + sVar2 + *(short *)(param_6 + 10) + sVar4;
  *(short *)(param_1 + 0x20) = *param_3 + sVar1 + *(short *)(param_6 + 8) + sVar3;
  *(short *)(param_1 + 0x22) = param_3[1] + sVar2 + *(short *)(param_6 + 10) + sVar4;
  return;
}



void Build_ZODIAC_Image(uint **param_1,uint *param_2)

{
  u_short uVar1;
  int iVar2;
  uint uVar3;
  undefined *puVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  short local_38;
  undefined2 local_36;
  
  iVar6 = 0;
  if (DAT_80047595 != 0) {
    iVar7 = 0;
    iVar5 = 0;
    puVar4 = (undefined *)((int)param_2 + 6);
    do {
      SetPolyFT4((POLY_FT4 *)param_2);
      uVar1 = GetClut(0,0x1fd);
      *(u_short *)(puVar4 + 8) = uVar1;
      puVar4[-2] = *(undefined *)(param_1 + 1);
      puVar4[-1] = *(undefined *)(param_1 + 1);
      *puVar4 = *(undefined *)(param_1 + 1);
      SetSemiTrans(param_2,1);
      SetShadeTex(param_2,0);
      iVar8 = (int)*(short *)((int)&DAT_80047520 + iVar5) * (int)*(short *)(param_1 + 3);
      iVar9 = (int)*(short *)((int)&DAT_80047522 + iVar5) * (int)*(short *)((int)param_1 + 0xe);
      iVar2 = iVar8;
      if (iVar8 < 0) {
        iVar2 = iVar8 + 0xfff;
      }
      if (0x7ff < iVar8 + (iVar2 >> 0xc) * -0x1000) {
        iVar8 = iVar8 + 1;
      }
      iVar2 = iVar9;
      if (iVar9 < 0) {
        iVar2 = iVar9 + 0xfff;
      }
      if (0x7ff < iVar9 + (iVar2 >> 0xc) * -0x1000) {
        iVar9 = iVar9 + 1;
      }
      if (iVar8 < 0) {
        iVar8 = iVar8 + 0xfff;
      }
      if (iVar9 < 0) {
        iVar9 = iVar9 + 0xfff;
      }
      local_38 = (short)(iVar8 >> 0xc);
      local_36 = (undefined2)(iVar9 >> 0xc);
      FUN_80044ba0((int)param_2,(short *)&DAT_800473bc,(short *)&DAT_800473b4,&DAT_800473c4 + iVar7,
                   &local_38,(int)(param_1 + 6));
      iVar7 = iVar7 + 0xc;
      if (param_1[2] != (uint *)0x0) {
        puVar4 = puVar4 + 0x28;
                    // Probable PsyQ macro: addPrim().
        *param_2 = *param_2 & 0xff000000 | **param_1 & 0xffffff;
        uVar3 = (uint)param_2 & 0xffffff;
        param_2 = (uint *)((int)param_2 + 0x28);
        **param_1 = **param_1 & 0xff000000 | uVar3;
      }
      iVar6 = iVar6 + 1;
      iVar5 = iVar5 + 4;
    } while (iVar6 < (int)(uint)DAT_80047595);
  }
  SetPolyF4((POLY_F4 *)param_2);
  *(u_char *)((int)param_2 + 4) = '\b';
  *(u_char *)((int)param_2 + 5) = '\b';
  *(u_char *)((int)param_2 + 6) = '\b';
  SetSemiTrans(param_2,1);
  SetShadeTex(param_2,0);
  *(short *)((int)param_2 + 8) = 0;
  *(short *)((int)param_2 + 10) = 0;
  *(short *)((int)param_2 + 0x10) = 0xff;
  *(short *)((int)param_2 + 0x12) = 0;
  *(short *)((int)param_2 + 0x18) = 0;
  *(short *)((int)param_2 + 0x1a) = 0xff;
  *(short *)((int)param_2 + 0x20) = 0xff;
  *(short *)((int)param_2 + 0x22) = 0xff;
                    // Probable PsyQ macro: addPrim().
  *param_2 = *param_2 & 0xff000000 | **param_1 & 0xffffff;
  **param_1 = **param_1 & 0xff000000 | (uint)param_2 & 0xffffff;
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void Call_Build_ZODIAC(uint **param_1,uint *param_2)

{
  Build_ZODIAC_Image(param_1,param_2);
  return;
}



void Get_FRAME_CDROM_to_FrameBuffer(void)

{
  u_long *puVar1;
  
  puVar1 = Get_BIN_as_TIM(0xe68,0x9800);
  LoadImage(&FRAMETW1,puVar1 + 0x400);
  LoadImage(&FRAMETW2,puVar1 + 0x2400);
  LoadImage(&FRAMETW3,puVar1 + 0x2480);
  DrawSync(0);
  Call_BIN_Free_FFT((int)puVar1);
  return;
}



void Open_WORLD_WLDCORE(int param_1)

{
  Open_WORLD_File(0x14849,0xdc,(u_long *)PTR_FUN_80010000,0);
  if (param_1 != 0) {
    Open_WORLD_File(0x14925,0x1e0,
                    (u_long *)PTR_s_ps_sort_sprite_bg__z_resolution_o_WORLD__800e0000_80010004,1);
  }
  WLDCORE_Entrypoint();
  return;
}



void OPEN_WORLD(int param_1)

{
  Open_WORLD_File(0x14925,0x1e0,
                  (u_long *)PTR_s_ps_sort_sprite_bg__z_resolution_o_WORLD__800e0000_80010004,
                  param_1 + -1);
  return;
}



void Open_WORLD_File(int param_1,int param_2,u_long *param_3,int param_4)

{
  _Calculate_File_Header(&fileOpenDesc_8004eaf4,param_1,param_2,param_3,param_4);
  while (fileOpenDesc_8004eaf4.busy != 0) {
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
    VSync(0);
  }
  return;
}



void FUN_800452ec(void)

{
  undefined *puVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  undefined4 uVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  
  iVar4 = 0;
  puVar2 = &DAT_80059594;
  iVar6 = 0;
  do {
    *(undefined2 *)((int)puVar2 + 0x26) = 0xffff;
    *(undefined2 *)(puVar2 + 9) = 0xffff;
    *(undefined2 *)((int)puVar2 + 0x22) = 0xffff;
    *(undefined2 *)(puVar2 + 8) = 0xffff;
    *(undefined2 *)((int)puVar2 + 0x1e) = 0xffff;
    *(undefined2 *)((int)&DAT_800595ae + iVar6) = 0xffff;
    *(undefined2 *)(puVar2 + 0xb) = 0;
    *(undefined2 *)((int)puVar2 + 0x2a) = 0;
    *(undefined2 *)(puVar2 + 3) = 0;
    *(undefined2 *)((int)&DAT_800595a2 + iVar6) = 0;
    *(undefined4 *)((int)&DAT_800595c8 + iVar6) = 0;
    *(undefined2 *)(puVar2 + 6) = 0;
    *(undefined2 *)(puVar2 + 5) = 0;
    puVar2 = puVar2 + 0xe;
    *(undefined2 *)((int)&DAT_800595a6 + iVar6) = 0;
    *(undefined **)((int)&DAT_80059594 + iVar6) = &DAT_800d0bbc;
    iVar4 = iVar4 + 1;
    iVar6 = iVar6 + 0x38;
  } while (iVar4 < 5);
  puVar8 = &DAT_80057f34;
  DAT_800595aa = 0x10;
  DAT_800595e2 = 0x10;
  DAT_8005961a = 0;
  DAT_80059652 = 0;
  DAT_8005968a = 0x10;
  puVar9 = (undefined4 *)(PTR_DAT_800454cc + 0x40);
  puVar2 = (undefined4 *)PTR_DAT_800454cc;
  if (((uint)PTR_DAT_800454cc & 3) == 0) {
    do {
      uVar3 = puVar2[1];
      uVar5 = puVar2[2];
      uVar7 = puVar2[3];
      *puVar8 = *puVar2;
      puVar8[1] = uVar3;
      puVar8[2] = uVar5;
      puVar8[3] = uVar7;
      puVar2 = puVar2 + 4;
      puVar8 = puVar8 + 4;
    } while (puVar2 != puVar9);
  }
  else {
    do {
      uVar3 = puVar2[1];
      uVar5 = puVar2[2];
      uVar7 = puVar2[3];
      *puVar8 = *puVar2;
      puVar8[1] = uVar3;
      puVar8[2] = uVar5;
      puVar8[3] = uVar7;
      puVar2 = puVar2 + 4;
      puVar8 = puVar8 + 4;
    } while (puVar2 != puVar9);
  }
  iVar4 = 0x27;
  puVar2 = &DAT_80059410;
  do {
    *puVar2 = 0;
    iVar4 = iVar4 + -1;
    puVar2 = puVar2 + -1;
  } while (-1 < iVar4);
  iVar4 = 1;
  puVar2 = &DAT_80059814;
  do {
    *puVar2 = 0;
    iVar4 = iVar4 + -1;
    puVar2 = puVar2 + -1;
  } while (-1 < iVar4);
  iVar4 = 0x5f;
  puVar1 = &DAT_80057d83;
  do {
    *puVar1 = 0;
    iVar4 = iVar4 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar4);
  DAT_80057ce8 = 0;
  DAT_8004d950 = 0;
  return;
}



void FUN_80045514(void)

{
  DAT_80057b26 = 6;
  DAT_80057b28 = 8;
  DAT_80057b2a = 10;
  DAT_80057b20 = 0;
  DAT_80057b21 = 1;
  DAT_80057b22 = 2;
  DAT_80057b23 = 3;
  DAT_80057b24 = 4;
  DAT_80057b25 = 5;
  DAT_80057b27 = 7;
  DAT_80057b29 = 9;
  DAT_80057b2b = 0xff;
  DAT_80057b2c = 0;
  DAT_80057b2d = 1;
  DAT_80057b2e = 2;
  DAT_80057b2f = 4;
  DAT_80057b30 = 5;
  DAT_80057b31 = 7;
  DAT_80057b32 = 9;
  DAT_80057b33 = 0xff;
  DAT_80057b34 = 0;
  DAT_80057b35 = 1;
  DAT_80057b36 = 2;
  DAT_80057b37 = 3;
  DAT_80057b38 = 4;
  DAT_80057b39 = 5;
  DAT_80057b3a = 0xff;
  DAT_80057b3c = 0;
  DAT_80057b3d = 1;
  DAT_80057b3e = 2;
  DAT_80057b3f = 5;
  DAT_80057b40 = 0xff;
  DAT_80057b44 = 0;
  DAT_80057b45 = 1;
  DAT_80057b48 = 0xff;
  DAT_80057b52 = 0xff;
  DAT_80057b58 = 0xff;
  DAT_80057b46 = 2;
  DAT_80057b4e = 2;
  DAT_80057b56 = 2;
  DAT_80057b4d = 1;
  DAT_80057b55 = 1;
  DAT_80057b47 = 5;
  DAT_80057b4c = 0;
  DAT_80057b4f = 3;
  DAT_80057b50 = 4;
  DAT_80057b51 = 5;
  DAT_80057b54 = 0;
  DAT_80057b57 = 5;
  DAT_80057b5c = 0xff;
  DAT_80057be8 = 0xff;
  DAT_80057c08 = 0xff;
  DAT_80057c30 = 0xff;
  DAT_80057c54 = 0xff;
  memset(&DAT_80059494,'\0',0x100);
  return;
}



void Initialise_MEMCARD_events(void)

{
  ulong Event;
  ulong *plVar1;
  int i;
  
  if (!cardEvtInitialised) {
    i = 0;
    EnterCriticalSection();
    cardokaydoneBIOS = OpenEvent(0xf4000001,4,0x2000,(func *)0x0);
    plVar1 = (ulong *)&cardokaydoneBIOS;
    carderrwriteBIOS = OpenEvent(0xf4000001,0x8000,0x2000,(func *)0x0);
    carderrbusyBIOS = OpenEvent(0xf4000001,0x100,0x2000,(func *)0x0);
    carderrejectBIOS = OpenEvent(0xf4000001,0x2000,0x2000,(func *)0x0);
    cardokayHRDWR = OpenEvent(0xf0000011,4,0x2000,(func *)0x0);
    carderrHRDWR = OpenEvent(0xf0000011,0x8000,0x2000,(func *)0x0);
    carderrbusyHRDWR = OpenEvent(0xf0000011,0x100,0x2000,(func *)0x0);
    carderr2HRDWR = OpenEvent(0xf0000011,0x2000,0x2000,(func *)0x0);
    init_card_earlysafe();
    StartCARD_earlysafe();
    ChangeClearPAD();
    _bu_init();
    _card_auto();
    do {
      Event = *plVar1;
      plVar1 = plVar1 + 1;
      i = i + 1;
      EnableEvent(Event);
    } while (i < 8);
    ExitCriticalSection();
    cardEvtInitialised = true;
  }
  return;
}



void Get_OPEN_CDROM_to_RAM(int param_1)

{
  Get_DAT_BIN_as_File(86000,0x36800,(u_long *)PTR_FUN_80010000);
  OPEN_Main(param_1);
  return;
}



void Get_OPEN_CDROM_to_RAM2(void)

{
  Get_DAT_BIN_as_File(86000,0x36800,(u_long *)PTR_FUN_80010000);
  OPEN_EndCredits_Main();
  return;
}



void Initialize_Status_Check_Data(void)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  
  Data_Null(&DAT_80059414,0x80);
  Data_Null(&DAT_800662d0,0x37);
  uVar6 = 0;
  iVar7 = 0;
  do {
    bVar1 = (&DAT_80065de8)[iVar7];
    bVar2 = (&DAT_80065de9)[iVar7];
    uVar4 = uVar6;
    if ((int)uVar6 < 0) {
      uVar4 = uVar6 + 7;
    }
    iVar5 = (int)uVar4 >> 3;
    bVar3 = (byte)(0x80 >> (uVar6 & 7));
    if ((bVar1 & 1) != 0) {
      (&DAT_800662d0)[iVar5] = bVar3 | (&DAT_800662d0)[iVar5];
    }
    if ((bVar1 & 2) != 0) {
      (&DAT_800662d5)[iVar5] = bVar3 | (&DAT_800662d5)[iVar5];
    }
    if ((bVar1 & 4) != 0) {
      (&DAT_800662da)[iVar5] = bVar3 | (&DAT_800662da)[iVar5];
    }
    if ((bVar1 & 0x80) != 0) {
      (&DAT_800662df)[iVar5] = bVar3 | (&DAT_800662df)[iVar5];
    }
    if ((bVar2 & 0x80) != 0) {
      (&DAT_800662e4)[iVar5] = bVar3 | (&DAT_800662e4)[iVar5];
    }
    if ((bVar2 & 1) != 0) {
      (&DAT_800662e9)[iVar5] = bVar3 | (&DAT_800662e9)[iVar5];
    }
    if ((bVar2 & 2) != 0) {
      (&DAT_800662ee)[iVar5] = bVar3 | (&DAT_800662ee)[iVar5];
    }
    if ((bVar2 & 4) != 0) {
      (&DAT_800662f3)[iVar5] = bVar3 | (&DAT_800662f3)[iVar5];
    }
    if ((bVar2 & 8) != 0) {
      (&DAT_800662f8)[iVar5] = bVar3 | (&DAT_800662f8)[iVar5];
    }
    iVar7 = iVar7 + 0x10;
    if ((bVar2 & 0x10) != 0) {
      (&DAT_800662fd)[iVar5] = bVar3 | (&DAT_800662fd)[iVar5];
    }
    uVar6 = uVar6 + 1;
  } while ((int)uVar6 < 0x28);
  DAT_80066302 = 0x60;
  DAT_80066303 = 0x85;
  DAT_80066304 = 0xe;
  DAT_80066306 = 0x20;
  return;
}



void Initialize_Party_ID_to_Neg1(void)

{
  int PartyIndexMacro;
  
  PartyIndexMacro = 0x1300;
  do {
    *(undefined *)((int)PartyData[0].JobJP + PartyIndexMacro + -0x6d) = 0xff;
    PartyIndexMacro = PartyIndexMacro + -0x100;
  } while (-1 < PartyIndexMacro);
  return;
}



PartyUnit * Get_Party_Data_Pointer(int param_1)

{
  PartyUnit *pPVar1;
  
  if (param_1 < 0x14) {
    pPVar1 = PartyData + param_1;
  }
  else {
    pPVar1 = (PartyUnit *)0x0;
  }
  return pPVar1;
}



undefined4 Unit_Initialization(int param_1,int param_2,int param_3,dword param_4)

{
  undefined4 uVar1;
  JobID JStack_1d0;
  undefined local_1cf;
  undefined local_1ce;
  undefined local_4d;
  undefined local_46;
  
  CurrentENTD = (undefined *)(param_1 + param_2 * 0x28);
  if (*CurrentENTD == None) {
    uVar1 = 0xfffffffe;
  }
  else {
    local_1cf = 0x20;
    local_46 = 0xff;
    local_4d = 1;
    local_1ce = 0xff;
    BATTLE_Initialize_UnitGen(&JStack_1d0,CurrentENTD,param_4,0);
    uVar1 = Save_unit_to_Party(&JStack_1d0,param_3);
  }
  return uVar1;
}



undefined4 Save_unit_to_Party(byte *param_1,int param_2)

{
  ushort uVar1;
  undefined2 uVar2;
  byte bVar3;
  PartyUnit *pPVar4;
  uint uVar5;
  uint uVar6;
  byte local_18 [8];
  
  uVar5 = param_1[6] & 1;
  if ((0x7f < *param_1) || (param_2 == 0)) {
    uVar5 = 0;
  }
  uVar6 = (uint)param_1[2];
  if ((uVar5 == 0) && (uVar6 - 0x10 < 4)) {
    Remove_Unit(uVar6);
    uVar5 = 0;
  }
  else if (uVar6 < 0x15) {
    Find_Free_Party_Slot(0,local_18);
    goto LAB_80059c58;
  }
  uVar6 = Find_Free_Party_Slot(uVar5,local_18);
  if (uVar6 == 0xffffffff) {
    return 0xffffffff;
  }
LAB_80059c58:
  pPVar4 = Get_Party_Data_Pointer(uVar6);
  bVar3 = *param_1;
  pPVar4->PartyID = (byte)uVar6;
  pPVar4->SpriteSet = bVar3;
  pPVar4->JobID = param_1[3];
  if ((int)uVar6 < 0x10) {
    pPVar4->Palette = local_18[0];
    bVar3 = param_1[6] & 0xfa;
  }
  else {
    pPVar4->Palette = param_1[4];
    bVar3 = param_1[6] & 0xfb;
  }
  pPVar4->field_0x4 = bVar3;
  uVar1 = *(ushort *)(param_1 + 8);
  uVar2 = *(undefined2 *)(param_1 + 8);
  pPVar4->field_0x5 = (char)(uVar1 & 0x1ff);
  pPVar4->field_0x6 = (byte)((uVar1 & 0x1ff) >> 8) | (byte)((ushort)uVar2 >> 8) & 0xf0;
  StoreArg1_IntoArg2_(param_1 + 0x13,&pPVar4->SecondarySkillset,0x10);
  pPVar4->Brave = param_1[0x23];
  pPVar4->Faith = param_1[0x25];
  StoreArg1_IntoArg2_(param_1 + 0x72,&pPVar4->field_0x19,0xf);
  StoreArg1_IntoArg2_(param_1 + 0x96,&pPVar4->field_0x28,0xa6);
  *(byte *)&pPVar4->UnitNameID = param_1[0x16c];
  uVar2 = *(undefined2 *)(param_1 + 0x16c);
  pPVar4->Proposition = 0;
  pPVar4->EggStage = 0;
  *(char *)((int)&pPVar4->UnitNameID + 1) = (char)((ushort)uVar2 >> 8);
  return 0;
}



uint Find_Free_Party_Slot(int param_1,undefined *param_2)

{
  PartyUnit *pPVar1;
  uint uVar2;
  PartyUnit **ppPVar3;
  uint uVar4;
  int iVar5;
  PartyUnit *local_60 [20];
  
  iVar5 = 0;
  ppPVar3 = local_60;
  *param_2 = 0;
  do {
    pPVar1 = Get_Party_Data_Pointer(iVar5);
    *ppPVar3 = pPVar1;
    iVar5 = iVar5 + 1;
    ppPVar3 = ppPVar3 + 1;
  } while (iVar5 < 0x14);
  uVar2 = 0x10;
  if (param_1 == 0) {
    uVar2 = 0;
    uVar4 = 0x10;
  }
  else {
    uVar4 = 0x14;
  }
  if (uVar2 < uVar4) {
    ppPVar3 = local_60 + uVar2;
    do {
      if ((*ppPVar3)->PartyID == 0xff) {
        return uVar2;
      }
      uVar2 = uVar2 + 1;
      ppPVar3 = ppPVar3 + 1;
    } while ((int)uVar2 < (int)uVar4);
  }
  return 0xffffffff;
}



int Create_MonsterEgg(JobID param_1,ushort param_2,byte param_3)

{
  int iVar1;
  PartyUnit *pPVar2;
  uint uVar3;
  int iVar4;
  
  iVar1 = Generate_Unit_in_Empty_PartySlot(3);
  iVar4 = -1;
  if (iVar1 != -1) {
    pPVar2 = Get_Party_Data_Pointer(iVar1);
    pPVar2->JobID = param_1;
    pPVar2->EggStage = param_3;
    pPVar2->field_0x4 = pPVar2->field_0x4 | 4;
    if (0x16d < param_2) {
      param_2 = 1;
    }
    uVar3 = Calculate_Zodiac_Sign(param_2);
    pPVar2->field_0x5 = (char)param_2;
    pPVar2->field_0x6 = ((byte)(param_2 >> 8) & 1) + (char)uVar3 * '\x10';
    iVar4 = iVar1;
  }
  return iVar4;
}



int Generate_Unit_in_Empty_PartySlot(int param_1)

{
  PartyUnit *pPVar1;
  PartyUnit **ppPVar2;
  int iVar3;
  PartyUnit *local_68 [20];
  
  iVar3 = 0;
  ppPVar2 = local_68;
  do {
    pPVar1 = Get_Party_Data_Pointer(iVar3);
    *ppPVar2 = pPVar1;
    iVar3 = iVar3 + 1;
    ppPVar2 = ppPVar2 + 1;
  } while (iVar3 < 0x14);
  iVar3 = 0;
  ppPVar2 = local_68;
  do {
    if ((*ppPVar2)->PartyID == 0xff) {
      (*ppPVar2)->PartyID = (byte)iVar3;
      (*ppPVar2)->Palette = 0;
      WORLD_UnitGeneration_(&(*ppPVar2)->SpriteSet,param_1);
      return iVar3;
    }
    iVar3 = iVar3 + 1;
    ppPVar2 = ppPVar2 + 1;
  } while (iVar3 < 0x10);
  return -1;
}



int Find_Units_Party_Data_Location(uint param_1)

{
  PartyUnit *pPVar1;
  int iVar2;
  
  iVar2 = 0;
  pPVar1 = PartyData;
  while ((pPVar1->PartyID == 0xff || (pPVar1->SpriteSet != param_1))) {
    iVar2 = iVar2 + 1;
    pPVar1 = pPVar1 + 1;
    if (0x13 < iVar2) {
      return -1;
    }
  }
  return iVar2;
}



void Remove_Unit(int param_1)

{
  PartyData[param_1].PartyID = 0xff;
  return;
}



void WORLD_UnitGeneration_(byte *param_1,int param_2)

{
  bool bVar1;
  byte bVar2;
  byte bVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  undefined *puVar7;
  PartyUnit *pPVar8;
  byte *pbVar9;
  int iVar10;
  int iVar11;
  
  if (param_2 == 0) {
    iVar11 = 0x4100;
    iVar10 = 0x100;
    bVar2 = 0x80;
    *param_1 = 0x80;
  }
  else {
    iVar11 = 0x4200;
    if (param_2 == 1) {
      iVar10 = 0x200;
      *param_1 = 0x81;
      bVar2 = 0x40;
    }
    else {
      iVar11 = 0x4000;
      if (param_2 != 3) {
        param_2 = 2;
        iVar10 = 0;
        *param_1 = 1;
        param_1[4] = 0x80;
        param_1[2] = 1;
        goto LAB_8005a0b4;
      }
      iVar11 = 0x4300;
      iVar10 = 0x300;
      *param_1 = 0x82;
      bVar2 = 0x20;
    }
  }
  param_1[4] = bVar2;
  param_1[2] = 0x4a;
LAB_8005a0b4:
  iVar4 = rand();
  iVar4 = iVar4 * 0x16d;
  if (iVar4 < 0) {
    iVar4 = iVar4 + 0x7fff;
  }
  iVar4 = (iVar4 >> 0xf) + 1;
  uVar5 = Calculate_Zodiac_Sign((ushort)iVar4);
  param_1[5] = (byte)iVar4;
  param_1[6] = ((byte)((uint)iVar4 >> 8) & 1) + (char)uVar5 * '\x10';
  if (param_2 == 2) {
    bVar2 = 0x46;
    param_1[0x17] = 0x46;
  }
  else {
    iVar4 = rand();
    iVar4 = iVar4 * 0x1f;
    if (iVar4 < 0) {
      iVar4 = iVar4 + 0x7fff;
    }
    param_1[0x17] = (char)(iVar4 >> 0xf) + 0x28;
    iVar4 = rand();
    iVar4 = iVar4 * 0x1f;
    if (iVar4 < 0) {
      iVar4 = iVar4 + 0x7fff;
    }
    bVar2 = (char)(iVar4 >> 0xf) + 0x28;
  }
  param_1[0x18] = bVar2;
  Data_Null(param_1 + 7,7);
  Unit_RawStatPrep((int)param_1,param_2);
  param_1[0x16] = 1;
  param_1[0x15] = 0;
  Data_Null(param_1 + 0x28,0x96);
  bVar2 = param_1[4];
  if ((bVar2 & 0xc0) != 0) {
    iVar4 = 0;
    pbVar9 = param_1;
    do {
      if (((iVar4 != 0x11) || ((bVar2 & 0x40) == 0)) && ((iVar4 != 0x12 || ((bVar2 & 0x80) == 0))))
      {
        iVar6 = rand();
        iVar6 = iVar6 * 100;
        if (iVar6 < 0) {
          iVar6 = iVar6 + 0x7fff;
        }
        bVar3 = (char)(iVar6 >> 0xf) + 100;
        pbVar9[0x96] = bVar3;
        pbVar9[0x6e] = bVar3;
        param_1[iVar4 / 2 + 100] = 0x11;
      }
      iVar4 = iVar4 + 1;
      pbVar9 = pbVar9 + 2;
    } while (iVar4 < 0x14);
  }
  if ((bVar2 & 0x80) != 0) {
    param_1[0x6d] = 1;
  }
  if ((bVar2 & 0x40) != 0) {
    param_1[0x6c] = 0x10;
  }
  bVar2 = *param_1;
  param_1[0x28] = 0x80;
  iVar4 = 0;
  do {
    iVar6 = iVar4 + 1;
    param_1[iVar4 + 0xe] = (&DAT_8005e911)[param_2 * 0xc + iVar4];
    iVar4 = iVar6;
  } while (iVar6 < 7);
  if (param_2 == 2) {
    uVar5 = 1;
  }
  else {
    param_1[0xce] = 0xff;
    param_1[0xcf] = (byte)((uint)iVar10 >> 8);
    do {
      bVar1 = true;
      iVar4 = rand();
      iVar4 = iVar4 * 0xff;
      iVar6 = 0;
      if (iVar4 < 0) {
        iVar4 = iVar4 + 0x7fff;
      }
      uVar5 = iVar10 + (iVar4 >> 0xf);
      pPVar8 = PartyData;
      do {
        if (((pPVar8->PartyID != 0xff) &&
            ((pPVar8->SpriteSet & (char)pPVar8->SpriteSet >> 7) == (bVar2 & (char)bVar2 >> 7))) &&
           ((uint)(ushort)pPVar8->UnitNameID == (uVar5 & 0xffff))) {
          bVar1 = false;
          break;
        }
        iVar6 = iVar6 + 1;
        pPVar8 = pPVar8 + 1;
      } while (iVar6 < 0x10);
    } while (!bVar1);
  }
  param_1[0xce] = (byte)uVar5;
  param_1[0xcf] = (byte)(uVar5 >> 8);
  puVar7 = (undefined *)WORLD_LoadTextPrep(iVar11 + (uVar5 & 0xff));
  Move_Data(puVar7,param_1 + 0xbe,0x10);
  param_1[0xd0] = 0;
  param_1[0xd2] = 0;
  if (param_2 == 2) {
    param_1[0x2b] = 4;
  }
  return;
}



void Unit_RawStatPrep(int param_1,int param_2)

{
  Make_Unit_BaseRawStats((undefined *)(param_1 + 0x19),param_2);
  return;
}



void RawStatPrep(int param_1)

{
  int iVar1;
  
  if ((*(byte *)(param_1 + 6) & 0x80) == 0) {
    iVar1 = 3;
    if ((*(byte *)(param_1 + 6) & 0x40) != 0) {
      iVar1 = 1;
    }
  }
  else {
    iVar1 = 0;
  }
  Make_Unit_BaseRawStats((undefined *)(param_1 + 0x72),iVar1);
  return;
}



void Make_Unit_BaseRawStats(undefined *param_1,int param_2)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  byte *pbVar5;
  
  iVar4 = 0;
  pbVar5 = &DAT_8005e90c + param_2 * 0xc;
  do {
    bVar1 = *pbVar5;
    iVar2 = rand();
    iVar3 = iVar4 + param_2 * 5;
    pbVar5 = pbVar5 + 1;
    iVar4 = iVar4 + 1;
    iVar3 = (uint)bVar1 * 0x4000 + (int)(iVar2 * (uint)(byte)(&DAT_8005e93c)[iVar3]) / 2;
    *param_1 = (char)iVar3;
    param_1[1] = (char)((uint)iVar3 >> 8);
    param_1[2] = (char)((uint)iVar3 >> 0x10);
    param_1 = param_1 + 3;
  } while (iVar4 < 5);
  return;
}



void JobGrowthMult_to_Unit(int param_1)

{
  StoreArg1_IntoArg2_(PTR_JobData_80066194 + (uint)*(byte *)(param_1 + 3) * 0x30 + 0xd,
                      (undefined *)(param_1 + 0x81),10);
  return;
}



uint Get_Abiltity_from_Skillset(int param_1,int param_2)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  
  if (param_1 < 0xb0) {
    if (0x15 < param_2) {
      return 0;
    }
    iVar4 = param_2;
    if (param_2 < 0) {
      iVar4 = param_2 + 7;
    }
    uVar2 = (uint)*(byte *)((int)&SkillsetList[param_1].ActionFlags + (iVar4 >> 3)) <<
            (param_2 + (iVar4 >> 3) * -8 + 1U & 0x1f);
    bVar1 = (&SkillsetList[param_1].field_0x3)[param_2];
  }
  else {
    if (0xdf < param_1) {
      return 0;
    }
    if (3 < param_2) {
      return 0;
    }
    iVar3 = param_1 * 5 + -0x7ff9a7ac;
    iVar4 = param_2;
    if (param_2 < 0) {
      iVar4 = param_2 + 7;
    }
    uVar2 = (uint)*(byte *)(iVar3 + (iVar4 >> 3)) << (param_2 + (iVar4 >> 3) * -8 + 1U & 0x1f);
    bVar1 = *(byte *)(iVar3 + param_2 + 1);
  }
  return (uint)bVar1 | uVar2 & 0x100;
}



undefined2 * Store_SkillsetAbilities(int param_1,uint param_2)

{
  uint uVar1;
  uint uVar2;
  undefined2 uVar3;
  int iVar4;
  int iVar5;
  undefined2 *puVar6;
  
  if (0xff < param_1) {
    param_1 = 0;
  }
  iVar4 = 0;
  iVar5 = 0;
  puVar6 = &DAT_80066204;
  do {
    uVar1 = Get_Abiltity_from_Skillset(param_1,iVar5);
    uVar3 = (undefined2)uVar1;
    uVar1 = uVar1 & 0xffff;
    uVar2 = param_2 & 1;
    if (((0x1a5 < uVar1) && (uVar2 = param_2 & 2, 0x1c5 < uVar1)) &&
       (uVar2 = param_2 & 8, 0x1e6 < uVar1)) {
      uVar2 = param_2 & 4;
    }
    iVar4 = iVar4 + 1;
    if (uVar2 == 0) {
      uVar3 = 0;
    }
    *puVar6 = uVar3;
    iVar5 = iVar5 + 1;
    puVar6 = puVar6 + 1;
  } while (iVar5 < 0x18);
  if (iVar4 < 0x18) {
    puVar6 = &DAT_80066204 + iVar4;
    do {
      *puVar6 = 0;
      iVar4 = iVar4 + 1;
      puVar6 = puVar6 + 1;
    } while (iVar4 < 0x18);
  }
  return &DAT_80066204;
}



undefined4
Get_AbilityPointers_and_Type
          (uint param_1,PrimaryAbilityData **param_2,SecondaryAbilityData **param_3)

{
  undefined4 uVar1;
  uint uVar2;
  
  uVar2 = param_1 & 0x1ff;
  *param_2 = PrimaryAbilityData + uVar2;
  if (uVar2 < 0x170) {
    *param_3 = SecondaryAbilityData + uVar2;
    uVar1 = 0;
  }
  else if (uVar2 < 0x17e) {
    *param_3 = (SecondaryAbilityData *)(&SecondaryAbilityData[0x155].Y + uVar2);
    uVar1 = 1;
  }
  else if (uVar2 < 0x18a) {
    *param_3 = (SecondaryAbilityData *)(&SecondaryAbilityData[0x155].CT + uVar2);
    uVar1 = 2;
  }
  else if (uVar2 < 0x196) {
    *param_3 = (SecondaryAbilityData *)(&SecondaryAbilityData[0x139].Y + uVar2 * 2);
    uVar1 = 3;
  }
  else if (uVar2 < 0x19e) {
    *param_3 = (SecondaryAbilityData *)(&SecondaryAbilityData[0x139].Y + uVar2 * 2);
    uVar1 = 4;
  }
  else if (uVar2 < 0x1a6) {
    *param_3 = (SecondaryAbilityData *)(&SecondaryAbilityData[0x157].field_0x4 + uVar2);
    uVar1 = 5;
  }
  else if (uVar2 < 0x1c6) {
    *param_3 = (SecondaryAbilityData *)(&SecondaryAbilityData[0x157].field_0x4 + uVar2);
    uVar1 = 6;
  }
  else if (uVar2 < 0x1e6) {
    *param_3 = (SecondaryAbilityData *)(&SecondaryAbilityData[0x157].field_0x4 + uVar2);
    uVar1 = 7;
  }
  else {
    *param_3 = (SecondaryAbilityData *)(&SecondaryAbilityData[0x157].field_0x4 + uVar2);
    uVar1 = 8;
  }
  return uVar1;
}



PrimaryItemData * Get_Item_DataPointer(uint param_1)

{
  return PrimaryItemData + (param_1 & 0xff);
}



JobData * Get_Job_DataPointer(int param_1)

{
  JobData *pJVar1;
  
  if (param_1 < 0xa0) {
    pJVar1 = JobData + param_1;
  }
  else {
    pJVar1 = (JobData *)0x0;
  }
  return pJVar1;
}



undefined4 Initialize_Unit_JobData(byte *param_1,int param_2,dword param_3)

{
  PartyUnit *pPVar1;
  uint uVar2;
  undefined4 uVar3;
  
  InitializeBattle = param_3;
  pPVar1 = Get_Party_Data_Pointer(param_2);
  if ((pPVar1 == (PartyUnit *)0x0) || (pPVar1->PartyID == 0xff)) {
    uVar3 = 0xffffffff;
  }
  else {
    Initialize_Unit_JobLevel((ushort *)pPVar1->JobTotalJP,&pPVar1->field_0x64);
    uVar2 = Calc_Unlocked_Jobs(&pPVar1->field_0x64,(uint)(byte)pPVar1->field_0x4);
    Store_1_5_halves(&pPVar1->field_0x28,uVar2);
    Initialize_ENTD_UnitTargettingData((int)param_1);
    param_1[2] = (byte)param_2;
    Initialize_Unit_BattleData(param_1,&pPVar1->SpriteSet);
    Transfer_JobData_to_Unit(param_1);
    Enable_Unit_RSM((int)param_1);
    Calculate_Stat_Real((int)param_1,0);
    Female_Equip_setting((int)param_1);
    Equipment_MoveJump_BonusGen((int)param_1);
    uVar3 = 0;
  }
  return uVar3;
}



undefined4 BATTLE_Initialize_UnitGen(JobID *param_1,JobID *param_2,dword param_3,int param_4)

{
  int iVar1;
  
  InitializeBattle = param_3;
  if (param_4 != 0x82) {
    Initialize_ENTD_UnitTargettingData((int)param_1);
    iVar1 = ENTD_Data_Calculation(param_1,param_2);
    if (iVar1 != 0) {
      return 0xffffffff;
    }
  }
  if ((param_4 != 0) || (((param_2[1] & 8) == 0 && ((SquireR3 < *param_2 || (param_2[4] != None)))))
     ) {
    CreateUnitJob_From_ENTD(param_1,(int)param_2);
    Calculate_Unit_Abilities(param_1,(int)param_2);
    Enable_Unit_RSM((int)param_1);
    RawStatPrep((int)param_1);
    JobGrowthMult_to_Unit((int)param_1);
    if (param_1[2] == ~None) {
      param_1[2] = ~SquireR1;
    }
    Calculate_Stat_Real((int)param_1,0);
    if (param_1[2] == ~SquireR1) {
      param_1[2] = ~None;
    }
    Female_Equip_setting((int)param_1);
    if ((param_4 != 0x82) && (Bishop < param_1[2])) {
      Create_Unit_Equip_From_ENTD((int)param_1,(int)param_2);
    }
    Equipment_MoveJump_BonusGen((int)param_1);
    Store_Ramza_PlayerStats(param_1);
  }
  return 0;
}



void Equipment_MoveJump_BonusGen(int param_1)

{
  Equipment_Stat_Calc(param_1);
  Equipment_Attr_Calc(param_1,1);
  MoveJumpBonusCalc(param_1,0);
  Generate_Unit_Name(param_1);
  return;
}



void Store_Ramza_PlayerStats(byte *param_1)

{
  ushort uVar1;
  PartyUnit *pPVar2;
  ushort uVar3;
  int iVar4;
  
  iVar4 = 0;
  if (*param_1 < 4) {
    do {
      pPVar2 = Get_Party_Data_Pointer(iVar4);
      if ((pPVar2->PartyID != 0xff) && (pPVar2->SpriteSet < 4)) {
        uVar1 = *(ushort *)(param_1 + 8);
        uVar3 = (ushort)(byte)pPVar2->field_0x5 + (ushort)(byte)pPVar2->field_0x6 * 0x100 & 0x1ff;
        *(ushort *)(param_1 + 8) = uVar1 & 0xfe00 | uVar3;
        *(ushort *)(param_1 + 8) =
             uVar1 & 0xe00 | uVar3 | (ushort)((byte)pPVar2->field_0x6 >> 4) << 0xc;
        StoreArg1_IntoArg2_(pPVar2->UnitName,param_1 + 300,0x10);
        return;
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < 0x14);
  }
  return;
}



undefined4 ENTD_Data_Calculation(JobID *param_1,JobID *param_2)

{
  SkillsetID SVar1;
  byte bVar2;
  PartyUnit *pPVar3;
  int iVar4;
  int iVar5;
  JobID JVar6;
  ushort uVar7;
  uint uVar8;
  undefined4 unaff_s4;
  
  param_1[4] = param_2[0x17];
  param_1[5] = param_2[0x18];
  param_1[0x1ba] = param_2[0x18];
  JVar6 = param_2[1];
  if ((JVar6 & 8) == 0) {
    iVar4 = 0;
    if ((SquireR3 < *param_2) || (param_2[4] != None)) goto LAB_8005ad90;
    iVar4 = 0;
    do {
      pPVar3 = Get_Party_Data_Pointer(iVar4);
      if ((pPVar3->PartyID != 0xff) && (pPVar3->SpriteSet < 4)) {
        pPVar3->SpriteSet = *param_2;
        SVar1 = pPVar3->SecondarySkillset;
        if (pPVar3->JobID < SquireR3) {
          pPVar3->JobID = *param_2;
        }
        if (((SVar1 == JobData[1].Skillset) || (SVar1 == JobData[2].Skillset)) ||
           (SVar1 == JobData[3].Skillset)) {
          pPVar3->SecondarySkillset = JobData[*param_2].Skillset;
        }
        unaff_s4 = Initialize_Unit_JobData_Prep(param_1,param_2);
        JVar6 = ArcKnight;
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < 0x14);
  }
  else {
    unaff_s4 = Initialize_Unit_JobData_Prep(param_1,param_2);
  }
  iVar4 = 0;
LAB_8005ad90:
  do {
    iVar5 = iVar4 + 1;
    param_1[iVar4 + 0x165] = CurrentENTD[iVar4 + 0x21];
    iVar4 = iVar5;
  } while (iVar5 < 7);
  if ((JVar6 & 8) == 0) {
    param_1[6] = JVar6;
    JVar6 = *param_2;
    param_1[2] = ~None;
    *param_1 = JVar6;
    uVar8 = (uint)param_2[3];
    if ((uVar8 == 0) || (uVar8 == 0xfe)) {
      uVar8 = (uint)HighestPartyLevel;
      bVar2 = HighestPartyLevel >> 3;
      iVar4 = rand();
      iVar4 = (bVar2 + 1) * iVar4;
      if (iVar4 < 0) {
        iVar4 = iVar4 + 0x7fff;
      }
      uVar8 = (uVar8 - bVar2) + (iVar4 >> 0xf);
    }
    else if (99 < uVar8) {
      uVar8 = uVar8 + HighestPartyLevel + 0x9c;
    }
    if ((uVar8 & 0xff) == 0) {
      uVar8 = 1;
    }
    JVar6 = (JobID)uVar8;
    if (99 < (uVar8 & 0xff)) {
      JVar6 = Gobbledeguck;
    }
    param_1[0x22] = JVar6;
    uVar8 = (uint)param_2[4];
    uVar7 = (ushort)param_2[5];
    if (((uVar8 == 0) || (0xc < uVar8)) || ((uVar7 == 0 || (0x1f < uVar7)))) {
      iVar4 = rand();
      iVar4 = iVar4 * 0x16d;
      if (iVar4 < 0) {
        iVar4 = iVar4 + 0x7fff;
      }
      uVar7 = (short)(iVar4 >> 0xf) + 1;
    }
    else {
      uVar7 = MonthDayValues[uVar8] + uVar7;
    }
    *(ushort *)(param_1 + 8) = *(ushort *)(param_1 + 8) & 0xfe00 | uVar7 & 0x1ff;
    uVar8 = Calculate_Zodiac_Sign(uVar7);
    uVar7 = *(ushort *)(param_1 + 8);
    *(ushort *)(param_1 + 8) = uVar7 & 0xfff | (ushort)((uVar8 & 0xffff) << 0xc);
    if (param_2[10] == Serpentarius) {
      *(ushort *)(param_1 + 8) = uVar7 & 0xfff | 0xc000;
    }
    JVar6 = param_2[6];
    if (Bomb < JVar6) {
      iVar4 = rand();
      iVar4 = iVar4 * 0x1e;
      if (iVar4 < 0) {
        iVar4 = iVar4 + 0x7fff;
      }
      JVar6 = (char)(iVar4 >> 0xf) + AssassinC;
    }
    param_1[0x24] = JVar6;
    param_1[0x23] = JVar6;
    JVar6 = param_2[7];
    if (Bomb < JVar6) {
      iVar4 = rand();
      iVar4 = iVar4 * 0x1e;
      if (iVar4 < 0) {
        iVar4 = iVar4 + 0x7fff;
      }
      JVar6 = (char)(iVar4 >> 0xf) + AssassinC;
    }
    param_1[0x26] = JVar6;
    param_1[0x25] = JVar6;
    JVar6 = param_2[0x1c];
    if (Gobbledeguck < JVar6) {
      iVar4 = rand();
      uVar8 = iVar4 * 100;
      JVar6 = (JobID)(uVar8 >> 0xf);
      if ((int)uVar8 < 0) {
        JVar6 = (JobID)(uVar8 + 0x7fff >> 0xf);
      }
    }
    param_1[0x21] = JVar6;
    unaff_s4 = 0;
    *(ushort *)(param_1 + 0x16c) = (ushort)param_2[2];
  }
  return unaff_s4;
}



undefined4 Initialize_Unit_JobData_Prep(byte *param_1,byte *param_2)

{
  byte bVar1;
  int iVar2;
  undefined4 uVar3;
  
  iVar2 = Find_Units_Party_Data_Location((uint)*param_2);
  uVar3 = 0xffffffff;
  if (iVar2 != -1) {
    Initialize_Unit_JobData(param_1,iVar2,InitializeBattle);
    bVar1 = param_1[6];
    param_1[6] = bVar1 & 0xee;
    param_1[6] = bVar1 & 0xee | param_2[1] & 0x11;
    param_1[5] = param_2[0x18];
    uVar3 = 0;
    param_1[0x1ba] = param_2[0x18];
  }
  return uVar3;
}



void Initialize_Unit_BattleData(byte *param_1,byte *param_2)

{
  ushort uVar1;
  int iVar2;
  byte bVar3;
  ushort uVar4;
  byte *pbVar5;
  int iVar6;
  
  bVar3 = 8;
  if (*param_2 < 4) {
    bVar3 = 0xb;
  }
  param_1[5] = bVar3;
  param_1[0x1ba] = bVar3;
  *param_1 = *param_2;
  param_1[2] = param_2[1];
  param_1[3] = param_2[2];
  bVar3 = param_2[3];
  if (param_2[1] < 0x10) {
    bVar3 = 0;
  }
  param_1[4] = bVar3;
  param_1[6] = param_2[4];
  uVar1 = *(ushort *)(param_1 + 8);
  uVar4 = (ushort)param_2[5] + (ushort)param_2[6] * 0x100 & 0x1ff;
  *(ushort *)(param_1 + 8) = uVar1 & 0xfe00 | uVar4;
  *(ushort *)(param_1 + 8) = uVar1 & 0xe00 | uVar4 | (ushort)(param_2[6] >> 4) << 0xc;
  param_1[0x13] = param_2[7];
  *(ushort *)(param_1 + 0x14) = (ushort)param_2[8] + (ushort)param_2[9] * 0x100;
  *(ushort *)(param_1 + 0x16) = (ushort)param_2[10] + (ushort)param_2[0xb] * 0x100;
  *(ushort *)(param_1 + 0x18) = (ushort)param_2[0xc] + (ushort)param_2[0xd] * 0x100;
  StoreArg1_IntoArg2_(param_2 + 0xe,param_1 + 0x1a,7);
  param_1[0x21] = param_2[0x15];
  param_1[0x22] = param_2[0x16];
  bVar3 = param_2[0x17];
  param_1[0x24] = bVar3;
  param_1[0x23] = bVar3;
  bVar3 = param_2[0x18];
  param_1[0x26] = bVar3;
  param_1[0x25] = bVar3;
  StoreArg1_IntoArg2_(param_2 + 0x19,param_1 + 0x72,0xf);
  iVar6 = 0;
  pbVar5 = param_1;
  do {
    iVar2 = iVar6 + 0x28;
    iVar6 = iVar6 + 1;
    pbVar5[0x96] = param_2[iVar2];
    pbVar5 = param_1 + iVar6;
  } while (iVar6 < 3);
  StoreArg1_IntoArg2_(param_2 + 0x2b,param_1 + 0x99,0x39);
  StoreArg1_IntoArg2_(param_2 + 100,param_1 + 0xd2,10);
  StoreArg1_IntoArg2_(param_2 + 0x6e,param_1 + 0xdc,0x50);
  StoreArg1_IntoArg2_(param_2 + 0xbe,param_1 + 300,0x10);
  *(ushort *)(param_1 + 0x16c) = (ushort)param_2[0xce] + (ushort)param_2[0xcf] * 0x100;
  Data_Null(param_1 + 0x165,7);
  return;
}



void CreateUnitJob_From_ENTD(byte *param_1,int param_2)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  byte *pbVar8;
  
  Data_Null(param_1 + 0xd2,10);
  uVar4 = 0;
  if (param_2 == 0) {
    Transfer_JobData_to_Unit(param_1);
    param_1[0x13] = 0;
    param_1[6] = 0x20;
    Store_1_5_halves(param_1 + 0x96,0);
  }
  else {
    bVar1 = *(byte *)(param_2 + 1);
    if ((bVar1 & 0x20) == 0) {
      bVar3 = *(byte *)(param_2 + 8);
      uVar5 = (uint)bVar3;
      if (uVar5 < 0x14) {
        uVar4 = *(byte *)(param_2 + 9) & 0xf;
        bVar2 = (byte)uVar4;
        if ((bVar3 & 1) == 0) {
          bVar2 = (byte)(uVar4 << 4);
        }
        param_1[(bVar3 >> 1) + 0xd2] = bVar2;
        pbVar8 = &DAT_800660ba + uVar5 * 10;
        iVar6 = 0;
        do {
          if (uVar5 == 0) {
            bVar3 = 1;
            if (iVar6 != 0) {
              bVar3 = 0x11;
            }
          }
          else {
            bVar3 = *pbVar8;
          }
          bVar3 = bVar3 | param_1[iVar6 + 0xd2];
          if ((bVar3 & 0xf) == 0) {
            bVar3 = bVar3 | 1;
          }
          pbVar8 = pbVar8 + 1;
          if ((bVar3 & 0xf0) == 0) {
            bVar3 = bVar3 | 0x10;
          }
          iVar7 = iVar6 + 1;
          param_1[iVar6 + 0xd2] = bVar3;
          iVar6 = iVar7;
        } while (iVar7 < 10);
        if ((bVar1 & 0x40) != 0) {
          param_1[0xda] = param_1[0xda] & 0xf0;
        }
        if ((bVar1 & 0x80) != 0) {
          param_1[0xdb] = param_1[0xdb] & 0xf;
        }
        uVar4 = Calc_Unlocked_Jobs(param_1 + 0xd2,(uint)bVar1);
      }
    }
    Store_1_5_halves(param_1 + 0x96,uVar4);
    param_1[3] = *(byte *)(param_2 + 10);
    Transfer_JobData_to_Unit(param_1);
    bVar1 = *(byte *)(param_2 + 0x1d);
    if ((bVar1 != 0xff) && (bVar1 != 0)) {
      param_1[0x12] = bVar1;
      param_1[0x189] = 0xff;
    }
    if (*(byte *)(param_2 + 0xb) == 0xfe) {
      if ((param_1[6] & 0x20) == 0) {
        bVar1 = Get_Random_UnlockedJob(param_1);
        if (bVar1 == 0) {
          bVar1 = 0;
        }
        else {
          bVar1 = PTR_JobData_80066194[(uint)bVar1 * 0x30];
        }
        if (bVar1 == param_1[0x12]) {
          bVar1 = 0;
        }
        param_1[0x13] = bVar1;
      }
      else {
        param_1[0x13] = 0;
      }
    }
    else {
      param_1[0x13] = *(byte *)(param_2 + 0xb);
    }
  }
  return;
}



byte Get_Random_UnlockedJob(byte *param_1)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  int iVar5;
  uint uVar6;
  byte *pbVar7;
  int iVar8;
  byte local_20 [24];
  
  uVar6 = 0x800000;
  iVar8 = 0;
  iVar5 = 0;
  pbVar7 = local_20;
  bVar3 = param_1[0x96];
  bVar1 = param_1[0x97];
  bVar2 = param_1[0x98];
  do {
    if (((uint)bVar3 * 0x10000 + (uint)bVar1 * 0x100 + (uint)bVar2 & uVar6) != 0) {
      bVar4 = (char)iVar5 + 0x4a;
      if ((iVar5 == 0) && (bVar4 = *param_1, 0x7f < bVar4)) {
        bVar4 = 0x4a;
      }
      *pbVar7 = bVar4;
      pbVar7 = pbVar7 + 1;
      iVar8 = iVar8 + 1;
    }
    iVar5 = iVar5 + 1;
    uVar6 = uVar6 / 2;
  } while (iVar5 < 0x13);
  bVar3 = 0;
  if (iVar8 != 0) {
    iVar5 = rand();
    uVar6 = iVar5 * iVar8;
    if ((int)uVar6 < 0) {
      uVar6 = uVar6 + 0x7fff;
    }
    bVar3 = local_20[uVar6 >> 0xf & 0xff];
  }
  return bVar3;
}



void Transfer_JobData_to_Unit(byte *param_1)

{
  byte bVar1;
  byte bVar2;
  ushort uVar3;
  byte *pbVar4;
  int iVar5;
  byte *pbVar6;
  
  if (*param_1 < 0x4a) {
    param_1[0x162] = PTR_JobData_80066194[(uint)*param_1 * 0x30];
  }
  else {
    param_1[0x162] = 0;
  }
  pbVar6 = PTR_JobData_80066194 + (uint)param_1[3] * 0x30;
  param_1[0x12] = *pbVar6;
  StoreArg1_IntoArg2_(pbVar6 + 1,param_1 + 10,8);
  StoreArg1_IntoArg2_(pbVar6 + 9,param_1 + 0x4a,4);
  StoreArg1_IntoArg2_(pbVar6 + 0xd,param_1 + 0x81,10);
  param_1[0x3a] = pbVar6[0x17];
  param_1[0x3b] = pbVar6[0x18] & 0x7f;
  if ((pbVar6[0x18] & 0x80) == 0) {
    uVar3 = *(ushort *)(param_1 + 0x48) & 0xbfff;
  }
  else {
    uVar3 = *(ushort *)(param_1 + 0x48) | 0x4000;
  }
  *(ushort *)(param_1 + 0x48) = uVar3;
  StoreArg1_IntoArg2_(pbVar6 + 0x1a,param_1 + 0x4e,0xf);
  bVar1 = param_1[5];
  bVar2 = param_1[6];
  if (((bVar1 & 4) != 0) && (iVar5 = 0, (bVar2 & 9) != 0)) {
    pbVar4 = param_1 + 0x53;
    do {
      if ((bVar1 & 4) != 0) {
        *pbVar4 = *pbVar4 | (&DAT_800662e9)[iVar5];
      }
      if ((bVar2 & 9) != 0) {
        *pbVar4 = *pbVar4 | (&DAT_800662ee)[iVar5];
      }
      iVar5 = iVar5 + 1;
      pbVar4 = pbVar4 + 1;
    } while (iVar5 < 5);
  }
  StoreArg1_IntoArg2_(pbVar6 + 0x29,param_1 + 0x6d,4);
  param_1[0x71] = 0;
  param_1[0x15f] = pbVar6[0x2d];
  param_1[0x160] = pbVar6[0x2e];
  param_1[0x15e] = pbVar6[0x2f];
  return;
}



void Enable_Unit_RSM(int param_1)

{
  ushort *puVar1;
  int iVar2;
  int iVar3;
  
  Data_Null((undefined *)(param_1 + 0x8b),0xb);
  iVar3 = 0;
  iVar2 = param_1;
  do {
    puVar1 = (ushort *)(iVar2 + 10);
    iVar2 = iVar2 + 2;
    iVar3 = iVar3 + 1;
    EnableRSM(param_1,*puVar1);
  } while (iVar3 < 4);
  EnableRSM(param_1,*(ushort *)(param_1 + 0x14));
  EnableRSM(param_1,*(ushort *)(param_1 + 0x16));
  EnableRSM(param_1,*(ushort *)(param_1 + 0x18));
  return;
}



void EnableRSM(int param_1,ushort param_2)

{
  byte *pbVar1;
  uint uVar2;
  
  uVar2 = param_2 - 0x1a6 & 0xffff;
  if (uVar2 < 0x58) {
    if (param_2 < 0x1c6) {
      *(ushort *)(param_1 + 0x14) = param_2;
    }
    pbVar1 = (byte *)(param_1 + 0x8b + (uVar2 >> 3));
    *pbVar1 = *pbVar1 | (byte)(0x80 >> (param_2 - 0x1a6 & 7));
  }
  return;
}



void Calculate_Stat_Real(int param_1,uint param_2)

{
  byte bVar1;
  int iVar2;
  undefined uVar3;
  uint uVar5;
  int iVar6;
  uint uVar7;
  byte *pbVar8;
  uint uVar9;
  byte *pbVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  undefined2 uVar4;
  
  uVar13 = 100;
  uVar12 = 999;
  uVar11 = param_2 & 1;
  if ((*(byte *)(param_1 + 6) & 4) != 0) {
    uVar13 = 10;
    uVar12 = 0xffff;
  }
  uVar9 = 0;
  pbVar10 = (byte *)(param_1 + 0x81);
  bVar1 = *(byte *)(param_1 + 0x22);
  pbVar8 = (byte *)(param_1 + 0x72);
  do {
    uVar5 = (uint)*pbVar8 + (uint)pbVar8[1] * 0x100 + (uint)pbVar8[2] * 0x10000;
    if ((param_2 == 0) && (*(char *)(param_1 + 2) == -2)) {
      uVar7 = (uint)*pbVar10;
      if (uVar7 == 0) {
        uVar7 = 1;
      }
      iVar6 = 2;
      if (1 < bVar1) {
        iVar2 = uVar7 + 2;
        do {
          iVar6 = iVar6 + 1;
          uVar5 = uVar5 + uVar5 / (iVar2 - 1U);
          iVar2 = uVar7 + iVar6;
        } while (iVar6 <= (int)(uint)bVar1);
      }
    }
    if (0xffffff < uVar5) {
      uVar5 = 0xffffff;
    }
    pbVar8[1] = (byte)(uVar5 >> 8);
    *pbVar8 = (byte)uVar5;
    pbVar8[2] = (byte)(uVar5 >> 0x10);
    uVar7 = 100;
    if (1 >= (int)uVar9) {
      uVar7 = uVar13;
    }
    uVar5 = (uVar5 * pbVar10[1]) / uVar7 >> 0xe;
    if (uVar5 == 0) {
      uVar5 = 1;
    }
    uVar7 = uVar5;
    if ((1 < (int)uVar9) || (uVar7 = uVar12, uVar12 < uVar5)) {
      uVar5 = uVar7;
    }
    if ((uVar9 == 2) && (0x32 < uVar5)) {
      uVar5 = 0x32;
    }
    if ((2 < (int)uVar9) && (99 < uVar5)) {
      uVar5 = 99;
    }
    if (uVar9 < 5) {
      uVar3 = (undefined)uVar5;
      uVar4 = (undefined2)uVar5;
      switch(uVar9) {
      case 0:
        *(undefined2 *)(param_1 + 0x2a) = uVar4;
        if (param_2 == 0) {
          *(undefined2 *)(param_1 + 0x28) = uVar4;
        }
        break;
      case 1:
        *(undefined2 *)(param_1 + 0x2e) = uVar4;
        if (param_2 == 0) {
          *(undefined2 *)(param_1 + 0x2c) = uVar4;
        }
        break;
      case 2:
        if (uVar11 == 0) {
          *(undefined *)(param_1 + 0x32) = uVar3;
        }
        break;
      case 3:
        if (uVar11 == 0) {
          *(undefined *)(param_1 + 0x30) = uVar3;
        }
        break;
      case 4:
        if (uVar11 == 0) {
          *(undefined *)(param_1 + 0x31) = uVar3;
        }
      }
    }
    pbVar10 = pbVar10 + 2;
    uVar9 = uVar9 + 1;
    pbVar8 = pbVar8 + 3;
  } while ((int)uVar9 < 5);
  return;
}



void Calculate_Unit_Abilities(byte *param_1,int param_2)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  undefined *puVar4;
  short sVar5;
  ushort uVar6;
  int iVar7;
  int iVar8;
  byte *pbVar9;
  int iVar10;
  
  bVar1 = param_1[3];
  bVar2 = param_1[6];
  if (param_2 == 0) {
    Data_Null(param_1 + 0x14,6);
  }
  else {
    bVar3 = *(byte *)(param_2 + 0x1d);
    if ((bVar3 == 0xff) || (bVar3 == 0)) {
      param_1[0x12] = PTR_JobData_80066194[(uint)bVar1 * 0x30];
    }
    else {
      param_1[0x12] = bVar3;
    }
    if ((bVar2 & 0xc0) != 0) {
      Data_Null(param_1 + 0x99,0x39);
      iVar8 = 0;
      iVar10 = 0;
      pbVar9 = param_1;
      do {
        bVar3 = param_1[iVar8 + 0xd2];
        if ((iVar8 != 9) || (sVar5 = 0, (bVar2 & 0x80) == 0)) {
          if (bVar3 >> 4 == 0) {
            iVar7 = rand();
            iVar7 = iVar7 * 100;
            if (iVar7 < 0) {
              iVar7 = iVar7 + 0x7fff;
            }
            sVar5 = (short)(iVar7 >> 0xf) + 100;
          }
          else {
            iVar7 = rand();
            iVar7 = iVar7 * 100;
            if (iVar7 < 0) {
              iVar7 = iVar7 + 0x7fff;
            }
            sVar5 = *(short *)(&DAT_80066182 + (uint)(bVar3 >> 4) * 2) + (short)(iVar7 >> 0xf);
          }
        }
        *(short *)(pbVar9 + 0x104) = sVar5;
        *(short *)(pbVar9 + 0xdc) = sVar5;
        Calc_Learned_Abilities(param_1,iVar10 + 0x4a,param_2);
        if ((iVar8 != 8) || (sVar5 = 0, (bVar2 & 0x40) == 0)) {
          if ((bVar3 & 0xf) == 0) {
            iVar7 = rand();
            iVar7 = iVar7 * 100;
            if (iVar7 < 0) {
              iVar7 = iVar7 + 0x7fff;
            }
            sVar5 = (short)(iVar7 >> 0xf) + 100;
          }
          else {
            iVar7 = rand();
            iVar7 = iVar7 * 100;
            if (iVar7 < 0) {
              iVar7 = iVar7 + 0x7fff;
            }
            sVar5 = *(short *)(&DAT_80066182 + (bVar3 & 0xf) * 2) + (short)(iVar7 >> 0xf);
          }
        }
        *(short *)(pbVar9 + 0x106) = sVar5;
        *(short *)(pbVar9 + 0xde) = sVar5;
        if (iVar8 == 9) break;
        Calc_Learned_Abilities(param_1,iVar10 + 0x4b,param_2);
        pbVar9 = pbVar9 + 4;
        iVar8 = iVar8 + 1;
        iVar10 = iVar10 + 2;
      } while (iVar8 < 10);
      if ((*(char *)(param_2 + 0x1d) != '\0') && (*(char *)(param_2 + 0x1d) != -1)) {
        param_1[0x99] = 0xff;
        param_1[0x9a] = 0xff;
        param_1[0x9b] = 0xff;
      }
    }
    pbVar9 = param_1;
    iVar8 = 0;
    do {
      puVar4 = PTR_JobData_80066194;
      iVar7 = iVar8 + 1;
      iVar10 = iVar8 * 2 + (uint)bVar1 * 0x30;
      *(ushort *)(pbVar9 + 10) =
           (ushort)(byte)PTR_JobData_80066194[iVar10 + 1] +
           (ushort)(byte)PTR_JobData_80066194[iVar10 + 2] * 0x100;
      param_1[iVar8 + 0x4a] = puVar4[iVar8 + (uint)bVar1 * 0x30 + 9];
      pbVar9 = pbVar9 + 2;
      iVar8 = iVar7;
    } while (iVar7 < 4);
    uVar6 = Calculate_RSM(param_1,*(ushort *)(param_2 + 0xc),2,param_2);
    *(ushort *)(param_1 + 0x14) = uVar6;
    uVar6 = Calculate_RSM(param_1,*(ushort *)(param_2 + 0xe),4,param_2);
    *(ushort *)(param_1 + 0x16) = uVar6;
    uVar6 = Calculate_RSM(param_1,*(ushort *)(param_2 + 0x10),8,param_2);
    *(ushort *)(param_1 + 0x18) = uVar6;
  }
  return;
}



void Monster_Equipment_Storing(int param_1,int param_2)

{
  undefined uVar1;
  
  uVar1 = *(undefined *)(param_2 + 0x15);
  *(undefined *)(param_1 + 0x1e) = 0xff;
  *(undefined *)(param_1 + 0x1d) = uVar1;
  uVar1 = *(undefined *)(param_2 + 0x16);
  *(undefined *)(param_1 + 0x20) = 0xff;
  *(undefined *)(param_1 + 0x1f) = uVar1;
  *(undefined *)(param_1 + 0x1a) = *(undefined *)(param_2 + 0x12);
  *(undefined *)(param_1 + 0x1b) = *(undefined *)(param_2 + 0x13);
  *(undefined *)(param_1 + 0x1c) = *(undefined *)(param_2 + 0x14);
  return;
}



void Create_Unit_Equip_From_ENTD(int param_1,int param_2)

{
  byte bVar1;
  byte bVar2;
  char cVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  
  if ((*(byte *)(param_1 + 6) & 0x20) == 0) {
    bVar2 = *(byte *)(param_2 + 0x15);
    bVar1 = *(byte *)(param_1 + 0x91);
    if (bVar2 == 0xfe) {
      if ((bVar1 & 2) != 0) {
        bVar2 = Create_Random_Equip(param_1,0x80,4,0xff);
      }
      if ((bVar2 == 0xfe) && ((bVar1 & 1) != 0)) {
        bVar2 = Create_Random_Equip(param_1,0x80,8,0xff);
      }
    }
    bVar1 = *(byte *)(param_1 + 0x8f);
    uVar4 = (uint)bVar2;
    if (bVar2 == 0xfe) {
      if ((bVar1 & 0x20) != 0) {
        bVar2 = Create_Random_Equip(param_1,0x80,0,3);
      }
      uVar4 = (uint)bVar2;
      if (bVar2 == 0xfe) {
        if ((bVar1 & 0x10) != 0) {
          bVar2 = Create_Random_Equip(param_1,0x80,0,5);
        }
        uVar4 = (uint)bVar2;
        if (bVar2 == 0xfe) {
          if ((bVar1 & 8) != 0) {
            bVar2 = Create_Random_Equip(param_1,0x80,0,0xb);
          }
          uVar4 = (uint)bVar2;
          if (bVar2 == 0xfe) {
            if ((bVar1 & 4) != 0) {
              bVar2 = Create_Random_Equip(param_1,0x80,0,0xf);
            }
            uVar4 = (uint)bVar2;
            if (bVar2 == 0xfe) {
              if ((bVar1 & 2) != 0) {
                bVar2 = Create_Random_Equip(param_1,0x80,0,6);
              }
              uVar4 = (uint)bVar2;
              if (bVar2 == 0xfe) {
                if ((bVar1 & 1) != 0) {
                  bVar2 = Create_Random_Equip(param_1,0x80,0,10);
                }
                uVar4 = (uint)bVar2;
                if (bVar2 == 0xfe) {
                  bVar2 = Create_Random_Equip(param_1,0x80,0,0xff);
                  uVar4 = (uint)bVar2;
                  if (uVar4 == 0xfe) {
                    bVar2 = 0xff;
                    uVar4 = 0xff;
                  }
                }
              }
            }
          }
        }
      }
    }
    if ((PrimaryItemData[uVar4].field_0x3 & 0x40) == 0) {
      *(byte *)(param_1 + 0x1d) = bVar2;
      *(undefined *)(param_1 + 0x1e) = 0xff;
    }
    else {
      *(byte *)(param_1 + 0x1e) = bVar2;
      *(undefined *)(param_1 + 0x1d) = 0xff;
    }
    bVar2 = *(byte *)(param_2 + 0x16);
    if ((*(byte *)(param_1 + 0x1d) != 0xff) &&
       (((WeaponSecondary[PrimaryItemData[*(byte *)(param_1 + 0x1d)].SecondID].field_0x1 & 1) != 0
        || ((*(byte *)(param_1 + 0x91) & 2) != 0)))) {
      bVar2 = 0xff;
    }
    if ((bVar2 == 0xfe) && ((*(byte *)(param_1 + 0x91) & 1) != 0)) {
      bVar2 = Create_Random_Equip(param_1,0x80,8,0xff);
    }
    if (bVar2 == 0xfe) {
      if ((*(byte *)(param_1 + 0x4c) & 0x10) == 0) {
        bVar2 = 0xff;
      }
      else {
        bVar2 = Create_Random_Equip(param_1,0x40,0,0xff);
      }
    }
    if ((PrimaryItemData[bVar2].field_0x3 & 0x80) == 0) {
      *(byte *)(param_1 + 0x20) = bVar2;
      *(undefined *)(param_1 + 0x1f) = 0xff;
    }
    else {
      *(byte *)(param_1 + 0x1f) = bVar2;
      *(undefined *)(param_1 + 0x20) = 0xff;
    }
    cVar3 = *(char *)(param_2 + 0x12);
    bVar2 = *(byte *)(param_1 + 0x8f);
    if (cVar3 == -2) {
      cVar3 = -2;
      if ((bVar2 & 0x80) != 0) {
        cVar3 = Create_Random_Equip(param_1,0x20,0,0x14);
      }
      if ((cVar3 == -2) && (cVar3 = Create_Random_Equip(param_1,0x20,0,0xff), cVar3 == -2)) {
        cVar3 = -1;
      }
    }
    *(char *)(param_1 + 0x1a) = cVar3;
    cVar3 = *(char *)(param_2 + 0x13);
    if (cVar3 == -2) {
      cVar3 = -2;
      if ((bVar2 & 0x40) != 0) {
        cVar3 = Create_Random_Equip(param_1,0x10,0,0x17);
      }
      if ((cVar3 == -2) && (cVar3 = Create_Random_Equip(param_1,0x10,0,0xff), cVar3 == -2)) {
        cVar3 = -1;
      }
    }
    *(char *)(param_1 + 0x1b) = cVar3;
    cVar3 = *(char *)(param_2 + 0x14);
    if ((cVar3 == -2) && (cVar3 = Create_Random_Equip(param_1,8,0,0xff), cVar3 == -2)) {
      cVar3 = -1;
    }
    *(char *)(param_1 + 0x1c) = cVar3;
    iVar5 = 0;
    iVar6 = param_1;
    do {
      iVar5 = iVar5 + 1;
      if (*(char *)(iVar6 + 0x1a) == '\0') {
        *(undefined *)(iVar6 + 0x1a) = 0xff;
      }
      iVar6 = param_1 + iVar5;
    } while (iVar5 < 7);
  }
  else {
    Monster_Equipment_Storing(param_1,param_2);
  }
  return;
}



void Female_Equip_setting(int param_1)

{
  byte bVar1;
  
  bVar1 = *(byte *)(param_1 + 0x8f);
  if ((bVar1 & 0x80) != 0) {
    *(byte *)(param_1 + 0x4c) = *(byte *)(param_1 + 0x4c) | 9;
  }
  if ((bVar1 & 0x40) != 0) {
    *(byte *)(param_1 + 0x4c) = *(byte *)(param_1 + 0x4c) | 0x10;
  }
  if ((bVar1 & 0x20) != 0) {
    *(byte *)(param_1 + 0x4a) = *(byte *)(param_1 + 0x4a) | 0x10;
  }
  if ((bVar1 & 0x10) != 0) {
    *(byte *)(param_1 + 0x4a) = *(byte *)(param_1 + 0x4a) | 4;
  }
  if ((bVar1 & 8) != 0) {
    *(byte *)(param_1 + 0x4b) = *(byte *)(param_1 + 0x4b) | 0x10;
  }
  if ((bVar1 & 4) != 0) {
    *(byte *)(param_1 + 0x4b) = *(byte *)(param_1 + 0x4b) | 1;
  }
  if ((bVar1 & 2) != 0) {
    *(byte *)(param_1 + 0x4a) = *(byte *)(param_1 + 0x4a) | 2;
  }
  if ((bVar1 & 1) != 0) {
    *(byte *)(param_1 + 0x4b) = *(byte *)(param_1 + 0x4b) | 0x20;
  }
  if ((*(byte *)(param_1 + 6) & 0x40) != 0) {
    *(byte *)(param_1 + 0x4c) = *(byte *)(param_1 + 0x4c) | 0x42;
    *(byte *)(param_1 + 0x4d) = *(byte *)(param_1 + 0x4d) | 1;
  }
  return;
}



void Equipment_Stat_Calc(int param_1)

{
  byte bVar1;
  
  Data_Null((undefined *)(param_1 + 0x3c),0xb);
  *(undefined *)(param_1 + 0x43) = PTR_JobData_80066194[(uint)*(byte *)(param_1 + 3) * 0x30 + 0x19];
  if ((*(byte *)(param_1 + 6) & 0x20) == 0) {
    if ((PrimaryItemData[*(byte *)(param_1 + 0x1c)].field_0x3 & 8) != 0) {
      bVar1 = PrimaryItemData[*(byte *)(param_1 + 0x1c)].SecondID;
      *(byte *)(param_1 + 0x40) = AccessorySecondary[bVar1].PhysicalEvade;
      *(byte *)(param_1 + 0x44) = AccessorySecondary[bVar1].MagicalEvade;
    }
    if ((PrimaryItemData[*(byte *)(param_1 + 0x1e)].field_0x3 & 0x40) != 0) {
      bVar1 = PrimaryItemData[*(byte *)(param_1 + 0x1e)].SecondID;
      *(byte *)(param_1 + 0x41) = ShieldSecondary[bVar1].PhysicalEvade;
      *(byte *)(param_1 + 0x45) = ShieldSecondary[bVar1].MagicalEvade;
    }
    if ((PrimaryItemData[*(byte *)(param_1 + 0x20)].field_0x3 & 0x40) != 0) {
      bVar1 = PrimaryItemData[*(byte *)(param_1 + 0x20)].SecondID;
      *(byte *)(param_1 + 0x42) = ShieldSecondary[bVar1].PhysicalEvade;
      *(byte *)(param_1 + 0x46) = ShieldSecondary[bVar1].MagicalEvade;
    }
    bVar1 = *(byte *)(param_1 + 0x1d);
    if ((PrimaryItemData[bVar1].field_0x3 & 0x80) != 0) {
      *(byte *)(param_1 + 0x3c) = WeaponSecondary[bVar1].WeaponPower;
      *(byte *)(param_1 + 0x3e) = WeaponSecondary[bVar1].Evade;
    }
    bVar1 = *(byte *)(param_1 + 0x1f);
    if ((PrimaryItemData[bVar1].field_0x3 & 0x80) != 0) {
      *(byte *)(param_1 + 0x3d) = WeaponSecondary[bVar1].WeaponPower;
      *(byte *)(param_1 + 0x3f) = WeaponSecondary[bVar1].Evade;
    }
  }
  return;
}



void Equipment_Attr_Calc(int param_1,int param_2)

{
  byte *pbVar1;
  byte bVar2;
  uint uVar3;
  uint uVar4;
  ItemAttributes *pIVar5;
  int iVar6;
  byte *pbVar7;
  ItemAttributes *pIVar8;
  int iVar9;
  
  Data_Null((byte *)(param_1 + 0x33),3);
  Calculate_Stat_Real(param_1,param_2 + 1);
  *(undefined *)(param_1 + 0x184) = 0;
  if ((*(byte *)(param_1 + 6) & 0x20) == 0) {
    iVar9 = 0;
    iVar6 = param_1;
    do {
      uVar4 = (uint)*(byte *)(iVar6 + 0x1a);
      if (uVar4 == 0x20) {
        *(byte *)(param_1 + 0x184) = *(byte *)(param_1 + 0x184) | 4;
      }
      if ((uVar4 < 0x80) && (PrimaryItemData[uVar4].ItemType - 3 < 2)) {
        *(byte *)(param_1 + 0x184) = *(byte *)(param_1 + 0x184) | 8;
      }
      if (uVar4 != 0xff) {
        bVar2 = PrimaryItemData[uVar4].ItemAttr;
        pIVar8 = ItemAttributes + bVar2;
        pIVar5 = pIVar8;
        pbVar7 = (byte *)(param_1 + 0x33);
        do {
          uVar3 = (uint)pIVar5->PA + (uint)*pbVar7;
          pIVar5 = (ItemAttributes *)&pIVar5->MA;
          if (0xff < uVar3) {
            uVar3 = 0xff;
          }
          *pbVar7 = (byte)uVar3;
          pbVar7 = pbVar7 + 1;
        } while ((int)pbVar7 < param_1 + 0x36);
        uVar3 = (uint)ItemAttributes[bVar2].Move + (uint)*(byte *)(param_1 + 0x3a);
        if (0xfd < uVar3) {
          uVar3 = 0xfd;
        }
        *(char *)(param_1 + 0x3a) = (char)uVar3;
        uVar3 = (uint)ItemAttributes[bVar2].Jump + (uint)*(byte *)(param_1 + 0x3b);
        iVar6 = 0;
        if (7 < uVar3) {
          uVar3 = 7;
        }
        *(char *)(param_1 + 0x3b) = (char)uVar3;
        pbVar7 = (byte *)(param_1 + 0x4e);
        do {
          pbVar1 = &(pIVar8->AlwaysStatuses).field_0x0 + iVar6;
          iVar6 = iVar6 + 1;
          *pbVar7 = *pbVar1 | *pbVar7;
          pbVar7 = pbVar7 + 1;
        } while (iVar6 < 0xf);
        iVar6 = 0;
        pbVar7 = (byte *)(param_1 + 0x6d);
        do {
          pbVar1 = &pIVar8->AbsorbElem + iVar6;
          iVar6 = iVar6 + 1;
          *pbVar7 = *pbVar1 | *pbVar7;
          pbVar7 = pbVar7 + 1;
        } while (iVar6 < 5);
        if ((PrimaryItemData[uVar4].field_0x3 & 0x30) != 0) {
          bVar2 = PrimaryItemData[uVar4].SecondID;
          uVar4 = (uint)*(ushort *)(param_1 + 0x2a) + (uint)ArmorSecondary[bVar2].HP;
          if (999 < uVar4) {
            uVar4 = 999;
          }
          *(short *)(param_1 + 0x2a) = (short)uVar4;
          uVar4 = (uint)*(ushort *)(param_1 + 0x2e) + (uint)ArmorSecondary[bVar2].MP;
          if (999 < uVar4) {
            uVar4 = 999;
          }
          *(short *)(param_1 + 0x2e) = (short)uVar4;
        }
      }
      iVar9 = iVar9 + 1;
      iVar6 = param_1 + iVar9;
    } while (iVar9 < 7);
  }
  if (*(ushort *)(param_1 + 0x2a) < *(ushort *)(param_1 + 0x28)) {
    *(undefined2 *)(param_1 + 0x28) = *(undefined2 *)(param_1 + 0x2a);
  }
  pbVar7 = (byte *)(param_1 + 0x30);
  if (*(ushort *)(param_1 + 0x2e) < *(ushort *)(param_1 + 0x2c)) {
    *(undefined2 *)(param_1 + 0x2c) = *(undefined2 *)(param_1 + 0x2e);
  }
  do {
    uVar4 = (uint)pbVar7[3] + (uint)*pbVar7;
    if ((int)pbVar7 < param_1 + 0x32) {
      if (99 < uVar4) {
        uVar4 = 99;
      }
    }
    else if (0x32 < uVar4) {
      uVar4 = 0x32;
    }
    pbVar7[6] = (byte)uVar4;
    pbVar7 = pbVar7 + 1;
  } while ((int)pbVar7 < param_1 + 0x33);
  return;
}



void MoveJumpBonusCalc(int param_1,int param_2)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  
  if (param_2 == 0) {
    *(undefined2 *)(param_1 + 0x28) = *(undefined2 *)(param_1 + 0x2a);
    *(undefined2 *)(param_1 + 0x2c) = *(undefined2 *)(param_1 + 0x2e);
  }
  uVar3 = (uint)*(byte *)(param_1 + 0x3a);
  bVar1 = *(byte *)(param_1 + 0x93);
  uVar2 = (uint)*(byte *)(param_1 + 0x3b);
  if ((bVar1 & 0x80) != 0) {
    uVar3 = uVar3 + 1;
  }
  if ((bVar1 & 0x40) != 0) {
    uVar3 = uVar3 + 2;
  }
  if ((bVar1 & 0x20) != 0) {
    uVar3 = uVar3 + 3;
  }
  if ((bVar1 & 0x10) != 0) {
    uVar2 = uVar2 + 1;
  }
  if ((bVar1 & 8) != 0) {
    uVar2 = uVar2 + 2;
  }
  if ((bVar1 & 4) != 0) {
    uVar2 = uVar2 + 3;
  }
  if (0xfc < uVar3) {
    uVar3 = 0xfc;
  }
  *(char *)(param_1 + 0x3a) = (char)uVar3;
  if (7 < uVar2) {
    uVar2 = 7;
  }
  *(char *)(param_1 + 0x3b) = (char)uVar2;
  return;
}



void Generate_Unit_Name(int param_1)

{
  byte bVar1;
  bool bVar2;
  int iVar3;
  char *pcVar4;
  PartyUnit *pPVar5;
  undefined *puVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  code *pcVar11;
  
  pcVar11 = (code *)0x80132824;
  if (InitializeBattle != 0) {
    pcVar11 = FUN_800e6edc;
  }
  if (*(byte *)(param_1 + 2) == 0xff) {
    uVar8 = (uint)*(byte *)(param_1 + 0x16c);
    iVar9 = 0x4000;
    if (uVar8 == 0xff) {
      bVar1 = *(byte *)(param_1 + 6);
      if ((bVar1 & 0x80) == 0) {
        iVar9 = 0x4200;
        if ((bVar1 & 0x40) == 0) {
          iVar9 = 0x4300;
          iVar10 = 0x300;
        }
        else {
          iVar10 = 0x200;
        }
      }
      else {
        iVar9 = 0x4100;
        iVar10 = 0x100;
      }
      do {
        bVar2 = true;
        iVar3 = rand();
        iVar3 = iVar3 * 0xff;
        iVar7 = 0;
        if (iVar3 < 0) {
          iVar3 = iVar3 + 0x7fff;
        }
        uVar8 = iVar10 + (iVar3 >> 0xf);
        pPVar5 = PartyData;
        do {
          if (((pPVar5->PartyID != 0xff) && ((bVar1 & 0xe0) == (pPVar5->field_0x4 & 0xe0))) &&
             ((uint)(ushort)pPVar5->UnitNameID == (uVar8 & 0xffff))) {
            bVar2 = false;
            break;
          }
          iVar7 = iVar7 + 1;
          pPVar5 = pPVar5 + 1;
        } while (iVar7 < 0x14);
        iVar3 = 0;
        puVar6 = &DAT_801908cc;
        do {
          if (((bVar1 & 0xe0) == (puVar6[6] & 0xe0)) &&
             ((uint)*(ushort *)(puVar6 + 0x16c) == (uVar8 & 0xffff))) {
            bVar2 = false;
            break;
          }
          iVar3 = iVar3 + 1;
          puVar6 = puVar6 + 0x1c0;
        } while (iVar3 < 0x15);
      } while (!bVar2);
      *(short *)(param_1 + 0x16c) = (short)uVar8;
    }
    pcVar4 = (char *)(*pcVar11)(iVar9 + (uVar8 & 0xff));
  }
  else {
    pPVar5 = Get_Party_Data_Pointer((uint)*(byte *)(param_1 + 2));
    pcVar4 = pPVar5->UnitName;
  }
  Move_Data(pcVar4,(undefined *)(param_1 + 300),0x10);
  puVar6 = (undefined *)(*pcVar11)(*(byte *)(param_1 + 3) | 0x3000);
  Move_Data(puVar6,(undefined *)(param_1 + 0x13c),0x10);
  puVar6 = (undefined *)(*pcVar11)(*(byte *)(param_1 + 0x12) | 0x1000);
  Move_Data(puVar6,(undefined *)(param_1 + 0x14c),8);
  puVar6 = (undefined *)(*pcVar11)(*(byte *)(param_1 + 0x13) | 0x1000);
  Move_Data(puVar6,(undefined *)(param_1 + 0x154),8);
  Data_Null((undefined *)(param_1 + 0x1a7),10);
  return;
}



byte Get_Highest_PlayerUnit_Level(void)

{
  PartyUnit *pPVar1;
  int iVar2;
  byte bVar3;
  
  bVar3 = 0;
  iVar2 = 0;
  do {
    pPVar1 = Get_Party_Data_Pointer(iVar2);
    iVar2 = iVar2 + 1;
    if ((pPVar1->PartyID != 0xff) && (bVar3 < pPVar1->Level)) {
      bVar3 = pPVar1->Level;
    }
  } while (iVar2 < 0x14);
  if (99 < bVar3) {
    bVar3 = 99;
  }
  HighestPartyLevel = bVar3;
  return bVar3;
}



void Move_Data(undefined *param_1,undefined *param_2,int param_3)

{
  undefined uVar1;
  int iVar2;
  
  iVar2 = 0;
  if (0 < param_3) {
    do {
      uVar1 = *param_1;
      param_1 = param_1 + 1;
      iVar2 = iVar2 + 1;
      *param_2 = uVar1;
      param_2 = param_2 + 1;
    } while (iVar2 < param_3);
  }
  return;
}



undefined Create_Random_Equip(int param_1,byte param_2,byte param_3,uint param_4)

{
  byte bVar1;
  byte bVar2;
  undefined uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  byte bVar9;
  undefined local_88 [128];
  
  if (param_2 == 0x20) {
    uVar4 = 0x90;
    uVar7 = 0xac;
    goto LAB_8005cd24;
  }
  if (param_2 < 0x21) {
    if (param_2 == 8) {
      uVar4 = 0xd0;
      uVar7 = 0xf0;
      goto LAB_8005cd24;
    }
    uVar4 = 0xac;
    if (param_2 == 0x10) {
      uVar7 = 0xd0;
      goto LAB_8005cd24;
    }
  }
  else {
    uVar4 = 0x80;
    if (param_2 == 0x40) {
      uVar7 = 0x90;
      goto LAB_8005cd24;
    }
    if (param_2 == 0x80) {
      uVar4 = 1;
      uVar7 = 0x80;
      goto LAB_8005cd24;
    }
  }
  uVar4 = 0;
  uVar7 = 0x100;
LAB_8005cd24:
  uVar5 = 0;
  bVar1 = *(byte *)(param_1 + 0x22);
  bVar9 = 0;
  if (uVar4 < uVar7) {
    iVar8 = uVar4 * 0xc;
    do {
      if (((&PrimaryItemData[0].field_0x3)[iVar8] & 2) == 0) {
        bVar2 = (&PrimaryItemData[0].ItemType)[iVar8];
        if (((((param_4 & 0xff) == 0xff) || ((uint)bVar2 == (param_4 & 0xff))) &&
            (((uint)*(byte *)(param_1 + (uint)(bVar2 >> 3) + 0x4a) & 0x80 >> (bVar2 & 7)) != 0)) &&
           ((param_3 == 0 ||
            ((param_3 & WeaponSecondary[(&PrimaryItemData[0].SecondID)[iVar8]].field_0x1) != 0)))) {
          bVar2 = (&PrimaryItemData[0].ReqLevel)[iVar8];
          if (bVar2 <= bVar1) {
            uVar6 = uVar5;
            if (bVar9 < bVar2) {
              uVar6 = 0;
              bVar9 = bVar2;
            }
            uVar5 = uVar6 + 1;
            local_88[uVar6 & 0xff] = (char)uVar4;
          }
        }
      }
      uVar4 = uVar4 + 1;
      iVar8 = iVar8 + 0xc;
    } while ((int)uVar4 < (int)uVar7);
  }
  uVar3 = 0xfe;
  if ((uVar5 & 0xff) != 0) {
    iVar8 = rand();
    uVar4 = iVar8 * (uVar5 & 0xff);
    if ((int)uVar4 < 0) {
      uVar4 = uVar4 + 0x7fff;
    }
    uVar3 = local_88[uVar4 >> 0xf & 0xff];
  }
  return uVar3;
}



void Calc_Learned_Abilities(byte *param_1,uint param_2,int param_3)

{
  bool bVar1;
  bool bVar2;
  int iVar3;
  bool bVar4;
  uint uVar5;
  undefined3 extraout_var;
  int iVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  
  bVar1 = false;
  uVar7 = param_2 - 0x4a;
  if (param_2 == 0x4a) {
    if (1 < (byte)(*param_1 + 0x80)) {
      if (*param_1 == 0x82) {
        param_2 = (uint)param_1[3];
      }
      else {
        param_2 = (uint)*param_1;
      }
    }
  }
  else if (((uint)param_1[0x96] * 0x10000 + (uint)param_1[0x97] * 0x100 + (uint)param_1[0x98] &
           0x800000 >> (uVar7 & 0x1f)) == 0) {
    return;
  }
  if (((param_2 != 0x5b) || ((param_1[6] & 0x40) == 0)) &&
     ((param_2 != 0x5c || ((param_1[6] & 0x80) == 0)))) {
    if (param_2 == param_1[3]) {
      uVar9 = (uint)param_1[0x12];
      if (*(char *)(param_3 + 0x1d) == '\0') {
        bVar1 = true;
      }
    }
    else {
      uVar9 = (uint)(byte)PTR_JobData_80066194[param_2 * 0x30];
    }
    iVar8 = 0;
    iVar3 = uVar7 * 3 + 0x99;
    do {
      bVar2 = false;
      uVar5 = Get_Abiltity_from_Skillset(uVar9,iVar8);
      uVar5 = uVar5 & 0xffff;
      if (uVar5 != 0) {
        if (bVar1) {
          bVar2 = true;
        }
        else {
          bVar4 = PassFail_Roll(100,(uint)PrimaryAbilityData[uVar5].Chance_to_Learn);
          if ((CONCAT31(extraout_var,bVar4) == 0) &&
             ((ushort)PrimaryAbilityData[uVar5].JP_cost <= *(ushort *)(param_1 + uVar7 * 2 + 0xdc)))
          {
            *(short *)(param_1 + uVar7 * 2 + 0xdc) =
                 *(short *)(param_1 + uVar7 * 2 + 0xdc) - PrimaryAbilityData[uVar5].JP_cost;
            iVar6 = iVar8;
            if (iVar8 < 0) {
              iVar6 = iVar8 + 7;
            }
            bVar2 = true;
            param_1[(iVar6 >> 3) + iVar3] =
                 param_1[(iVar6 >> 3) + iVar3] | (byte)(0x80 >> (iVar8 + (iVar6 >> 3) * -8 & 0x1fU))
            ;
          }
        }
        if (bVar2) {
          iVar6 = iVar8;
          if (iVar8 < 0) {
            iVar6 = iVar8 + 7;
          }
          param_1[(iVar6 >> 3) + iVar3] =
               param_1[(iVar6 >> 3) + iVar3] | (byte)(0x80 >> (iVar8 + (iVar6 >> 3) * -8 & 0x1fU));
        }
      }
      iVar8 = iVar8 + 1;
    } while (iVar8 < 0x18);
  }
  return;
}



ushort Calculate_RSM(byte *param_1,ushort param_2,uint param_3,int param_4)

{
  ushort *puVar1;
  bool bVar2;
  bool bVar3;
  uint uVar4;
  ushort *puVar5;
  int iVar6;
  uint uVar7;
  byte *pbVar8;
  uint uVar9;
  uint in_t1;
  int iVar10;
  uint uVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  uint uVar15;
  ushort auStack_20410 [65536];
  ushort local_410 [480];
  ushort local_50 [4];
  byte local_48;
  uint local_40;
  int local_3c;
  byte *local_38;
  uint local_34;
  int local_30;
  
  if ((0x1fd < param_2) && (param_2 = 0, (param_1[6] & 0x20) == 0)) {
    iVar12 = 0;
    puVar5 = local_410;
    pbVar8 = param_1;
    do {
      puVar1 = (ushort *)(pbVar8 + 10);
      pbVar8 = pbVar8 + 2;
      iVar12 = iVar12 + 1;
      puVar5[0x1e0] = *puVar1;
      puVar5 = puVar5 + 1;
    } while (iVar12 < 4);
    iVar14 = 0;
    iVar12 = 1;
    uVar9 = (uint)param_1[0x13];
    iVar13 = 0;
    pbVar8 = param_1;
    do {
      uVar11 = 0;
      bVar3 = true;
      if (iVar13 == 0x13) {
        if ((iVar12 != 0) && (uVar9 != 0)) {
          bVar3 = false;
          uVar11 = uVar9;
          goto code_r0x8005d1cc;
        }
      }
      else {
        in_t1 = iVar13 + 0x4a;
        if (iVar13 == 0) {
          if (1 < (*param_1 - 0x80 & 0xff)) {
            in_t1 = (uint)*param_1;
          }
          if ((*(char *)(param_4 + 0x1d) != '\0') && (*(char *)(param_4 + 0x1d) != -1)) {
            uVar11 = (uint)*(byte *)(param_4 + 0x1d);
          }
        }
code_r0x8005d1cc:
        if (uVar11 == 0) {
          if ((in_t1 & 0xff) == 0) goto LAB_8005d34c;
          uVar11 = (uint)(byte)PTR_JobData_80066194[(in_t1 & 0xff) * 0x30];
        }
        if (uVar11 == uVar9) {
          iVar12 = 0;
        }
        iVar10 = 0x10;
        if (bVar3) {
          local_48 = pbVar8[0x9b];
        }
        uVar15 = (uint)local_48;
        do {
          if (bVar3) {
            iVar6 = iVar10;
            if (iVar10 < 0) {
              iVar6 = iVar10 + 7;
            }
            if ((uVar15 & 0x80 >> (iVar10 + (iVar6 >> 3) * -8 & 0x1fU)) != 0) goto LAB_8005d250;
          }
          else {
LAB_8005d250:
            bVar2 = false;
            local_40 = uVar9;
            local_3c = iVar12;
            local_38 = param_1;
            local_34 = in_t1;
            local_30 = param_4;
            uVar4 = Get_Abiltity_from_Skillset(uVar11 & 0xff,iVar10);
            param_4 = local_30;
            in_t1 = local_34;
            param_1 = local_38;
            iVar12 = local_3c;
            uVar9 = local_40;
            uVar7 = uVar4 & 0xffff;
            if ((((uVar7 != 0x1a9) && (uVar7 != local_50[0])) && (uVar7 != local_50[1])) &&
               ((uVar7 != local_50[2] && (uVar7 != local_50[3])))) {
              if ((param_3 & 2) != 0) {
                bVar2 = (uVar4 - 0x1a6 & 0xffff) < 0x20;
              }
              if (((param_3 & 4) != 0) && ((uVar4 - 0x1c6 & 0xffff) < 0x20)) {
                bVar2 = true;
              }
              if (((param_3 & 8) != 0) && (0x1e5 < (uVar4 & 0xffff))) {
                bVar2 = true;
              }
              if (bVar2) {
                local_410[iVar14] = (ushort)uVar4;
                iVar14 = iVar14 + 1;
              }
            }
          }
          iVar10 = iVar10 + 1;
        } while (iVar10 < 0x16);
      }
LAB_8005d34c:
      iVar13 = iVar13 + 1;
      pbVar8 = pbVar8 + 3;
    } while (iVar13 < 0x14);
    param_2 = 0;
    if (iVar14 != 0) {
      iVar12 = rand();
      iVar12 = iVar12 * iVar14;
      if (iVar12 < 0) {
        iVar12 = iVar12 + 0x7fff;
      }
      param_2 = local_410[iVar12 >> 0xf];
    }
  }
  return param_2;
}



uint Find_Skillset_JobID(char param_1)

{
  uint uVar1;
  byte bVar2;
  
  bVar2 = 0;
  uVar1 = 0;
  do {
    if (PTR_JobData_80066194[uVar1 * 0x30] == param_1) {
      return uVar1;
    }
    bVar2 = bVar2 + 1;
    uVar1 = (uint)bVar2;
  } while (bVar2 < 0x9f);
  return 0;
}



void Status_Initialization(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    iVar1 = param_1 + iVar2;
    iVar2 = iVar2 + 1;
    *(byte *)(iVar1 + 0x1bb) = *(byte *)(iVar1 + 0x58) & ~*(byte *)(iVar1 + 0x4e);
  } while (iVar2 < 5);
  Initialize_DeathCounter(param_1);
  CurrentStatusCT(param_1);
  return;
}



void Initialize_DeathCounter(int param_1)

{
  undefined uVar1;
  
  Data_Null((undefined *)(param_1 + 0x5d),0x10);
  uVar1 = 0xff;
  if (((*(byte *)(param_1 + 5) & 4) == 0) && (uVar1 = 0xff, (*(byte *)(param_1 + 6) & 9) == 0)) {
    uVar1 = 3;
  }
  *(undefined *)(param_1 + 7) = uVar1;
  return;
}



void CurrentStatusCT(int param_1)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  iVar3 = 0;
  if ((*(byte *)(param_1 + 0x95) & 8) != 0) {
    *(byte *)(param_1 + 0x50) = *(byte *)(param_1 + 0x50) | 0x40;
  }
  do {
    iVar2 = param_1 + iVar3;
    iVar3 = iVar3 + 1;
    *(byte *)(iVar2 + 0x53) = *(byte *)(iVar2 + 0x53) & ~*(byte *)(iVar2 + 0x4e);
    *(byte *)(iVar2 + 0x58) = *(byte *)(iVar2 + 0x4e) | *(byte *)(iVar2 + 0x1bb);
  } while (iVar3 < 5);
  uVar4 = 0x18;
  do {
    uVar1 = uVar4;
    if ((int)uVar4 < 0) {
      uVar1 = uVar4 + 7;
    }
    if ((((uint)*(byte *)(param_1 + ((int)uVar1 >> 3) + 0x1bb) & 0x80 >> (uVar4 & 7)) != 0) &&
       (*(char *)(param_1 + uVar4 + 0x45) == '\0')) {
      Status_CT_Set(param_1,uVar4,0);
    }
    uVar4 = uVar4 + 1;
  } while ((int)uVar4 < 0x28);
  return;
}



void Equipment_StatusRSM_Prep1(int param_1)

{
  Equipment_StatusRSM(param_1,1,0);
  return;
}



void Equipment_StatusRSM_Prep_LevelUp(int param_1)

{
  Equipment_StatusRSM(param_1,0,0);
  return;
}



void Equipment_StatusRSM_Prep3(int param_1)

{
  Equipment_StatusRSM(param_1,0,1);
  return;
}



void Equipment_StatusRSM(int param_1,int param_2,int param_3)

{
  byte bVar1;
  undefined uVar2;
  byte bVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  byte *pbVar8;
  undefined *puVar9;
  undefined *puVar10;
  int iVar11;
  uint uVar12;
  undefined local_28 [5];
  undefined auStack_23 [3];
  byte local_20 [8];
  
  bVar1 = *(byte *)(param_1 + 0x18a);
  Store_Current_Statuses(param_1);
  puVar9 = PTR_JobData_80066194;
  iVar11 = 0;
  puVar10 = local_28;
  pbVar8 = local_20;
  do {
    iVar6 = param_1 + iVar11;
    iVar11 = iVar11 + 1;
    *pbVar8 = *(byte *)(iVar6 + 0x58);
    pbVar8 = pbVar8 + 1;
    *puVar10 = *(undefined *)(iVar6 + 0x1bb);
    puVar10 = puVar10 + 1;
  } while (iVar11 < 5);
  bVar3 = *(byte *)(param_1 + 3);
  *(undefined *)(param_1 + 0x3a) = PTR_JobData_80066194[(uint)bVar3 * 0x30 + 0x17];
  *(byte *)(param_1 + 0x3b) = puVar9[(uint)bVar3 * 0x30 + 0x18] & 0x7f;
  Move_Data(puVar9 + (uint)bVar3 * 0x30 + 9,(undefined *)(param_1 + 0x4a),4);
  Move_Data(puVar9 + (uint)bVar3 * 0x30 + 0x1a,(undefined *)(param_1 + 0x4e),0xf);
  Move_Data(puVar9 + (uint)bVar3 * 0x30 + 0x29,(undefined *)(param_1 + 0x6d),4);
  *(undefined *)(param_1 + 0x71) = 0;
  Enable_Unit_RSM(param_1);
  MoveJumpBonusCalc(param_1,1);
  Equipment_Stat_Calc(param_1);
  Equipment_Attr_Calc(param_1,0);
  Female_Equip_setting(param_1);
  puVar9 = local_28;
  iVar11 = param_1;
  do {
    if (param_3 == 0) {
      *(undefined *)(iVar11 + 0x1bb) = *puVar9;
    }
    else {
      *(undefined *)(iVar11 + 0x1bb) = *(undefined *)(iVar11 + 0x58);
    }
    puVar9 = puVar9 + 1;
    iVar11 = iVar11 + 1;
  } while ((int)puVar9 < (int)auStack_23);
  uVar2 = *(undefined *)(param_1 + 2);
  *(undefined *)(param_1 + 2) = 0xff;
  CurrentStatusCT(param_1);
  *(undefined *)(param_1 + 2) = uVar2;
  Store_Current_Statuses(param_1);
  if (param_2 == 0) {
    if (*(ushort *)(param_1 + 0x2a) / 5 < (uint)*(ushort *)(param_1 + 0x28)) {
      bVar3 = *(byte *)(param_1 + 0x1bd) & 0xfe;
    }
    else {
      bVar3 = *(byte *)(param_1 + 0x1bd) | 1;
    }
    *(byte *)(param_1 + 0x1bd) = bVar3;
    Store_Current_Statuses(param_1);
    uVar12 = 0;
    iVar11 = 1;
    do {
      uVar4 = uVar12;
      if ((int)uVar12 < 0) {
        uVar4 = uVar12 + 7;
      }
      uVar7 = 0x80 >> (uVar12 & 7);
      uVar5 = *(byte *)(param_1 + ((int)uVar4 >> 3) + 0x58) & uVar7;
      if ((param_3 != 0) || ((local_20[(int)uVar4 >> 3] & uVar7) != uVar5)) {
        if (uVar5 == 0) {
          iVar6 = 0;
        }
        else {
          if (param_3 != 0) {
            Status_CT_Set(param_1,uVar12,0);
          }
          iVar6 = 1;
        }
        FUN_BATTLE_BIN__8018e9bc(iVar11,iVar6,(uint)bVar1);
      }
      uVar12 = uVar12 + 1;
      iVar11 = iVar11 + 1;
    } while ((int)uVar12 < 0x28);
  }
  return;
}



undefined4 CheckUnit_LevelUp(int param_1)

{
  byte bVar1;
  undefined4 uVar2;
  
  uVar2 = 0;
  if (99 < *(byte *)(param_1 + 0x21)) {
    bVar1 = *(byte *)(param_1 + 0x22);
    if (bVar1 < 99) {
      LevelUp_Section(param_1,0);
      uVar2 = 1;
      *(undefined *)(param_1 + 0x21) = 0;
      *(byte *)(param_1 + 0x22) = bVar1 + 1;
    }
    else {
      *(undefined *)(param_1 + 0x21) = 99;
      uVar2 = 0;
    }
  }
  return uVar2;
}



uint LevelUp_Unit(int param_1,int param_2)

{
  uint uVar1;
  byte *pbVar2;
  uint uVar3;
  byte *pbVar4;
  int iVar5;
  int iVar6;
  byte *pbVar7;
  
  uVar3 = (uint)*(byte *)(param_1 + 0x16) + param_2;
  pbVar7 = PTR_JobData_80066194 + (uint)*(byte *)(param_1 + 2) * 0x30 + 0xd;
  if (99 < uVar3) {
    uVar3 = 99;
  }
  iVar6 = uVar3 - *(byte *)(param_1 + 0x16);
  if (0 < iVar6) {
    iVar5 = 0;
    if (0 < iVar6) {
      do {
        pbVar2 = (byte *)(param_1 + 0x19);
        pbVar4 = pbVar7;
        do {
          uVar3 = (uint)*pbVar2 + (uint)pbVar2[1] * 0x100 + (uint)pbVar2[2] * 0x10000;
          if (*pbVar4 == 0) {
            uVar1 = *(byte *)(param_1 + 0x16) + 1;
          }
          else {
            uVar1 = (uint)*(byte *)(param_1 + 0x16) + (uint)*pbVar4;
          }
          uVar3 = uVar3 + uVar3 / uVar1;
          pbVar4 = pbVar4 + 2;
          if (0xffffff < uVar3) {
            uVar3 = 0xffffff;
          }
          pbVar2[1] = (byte)(uVar3 >> 8);
          *pbVar2 = (byte)uVar3;
          pbVar2[2] = (byte)(uVar3 >> 0x10);
          pbVar2 = pbVar2 + 3;
        } while ((int)pbVar2 < param_1 + 0x28);
        iVar5 = iVar5 + 1;
        *(char *)(param_1 + 0x16) = *(char *)(param_1 + 0x16) + '\x01';
      } while (iVar5 < iVar6);
    }
    uVar3 = (uint)*(byte *)(param_1 + 0x16);
  }
  return uVar3;
}



void LevelUp_Section(int param_1,int param_2)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  byte *pbVar4;
  byte *pbVar5;
  
  pbVar5 = (byte *)(param_1 + 0x72);
  pbVar4 = (byte *)(param_1 + 0x81);
  bVar1 = *(byte *)(param_1 + 0x22);
  do {
    uVar3 = (uint)*pbVar4;
    uVar2 = (uint)*pbVar5 + (uint)pbVar5[1] * 0x100 + (uint)pbVar5[2] * 0x10000;
    if (uVar3 == 0) {
      uVar3 = 1;
    }
    uVar3 = uVar3 + bVar1;
    rand();
    if (param_2 == 0) {
      uVar3 = uVar2 / uVar3;
    }
    else {
      uVar3 = -(uVar2 / uVar3);
    }
    uVar2 = uVar2 + uVar3;
    pbVar4 = pbVar4 + 2;
    if (0xffffff < uVar2) {
      uVar2 = 0xffffff;
    }
    pbVar5[1] = (byte)(uVar2 >> 8);
    *pbVar5 = (byte)uVar2;
    pbVar5[2] = (byte)(uVar2 >> 0x10);
    pbVar5 = pbVar5 + 3;
  } while ((int)pbVar5 < param_1 + 0x81);
  Equipment_StatusRSM_Prep_LevelUp(param_1);
  if (*(ushort *)(param_1 + 0x2a) < *(ushort *)(param_1 + 0x28)) {
    *(undefined2 *)(param_1 + 0x28) = *(undefined2 *)(param_1 + 0x2a);
  }
  if (*(ushort *)(param_1 + 0x2e) < *(ushort *)(param_1 + 0x2c)) {
    *(undefined2 *)(param_1 + 0x2c) = *(undefined2 *)(param_1 + 0x2e);
  }
  return;
}



undefined4 Status_CT_Set(int param_1,int param_2,int param_3)

{
  undefined uVar1;
  undefined4 uVar2;
  uint uVar3;
  
  if (param_2 == 2) {
    uVar1 = 0xff;
    if (((*(byte *)(param_1 + 5) & 4) == 0) && (uVar1 = 0xff, (*(byte *)(param_1 + 6) & 9) == 0)) {
      uVar1 = 3;
    }
    *(undefined *)(param_1 + 7) = uVar1;
  }
  uVar3 = param_2 - 0x18;
  uVar2 = 0;
  if (uVar3 < 0x10) {
    if (param_3 == 0) {
      if ((uVar3 != 0xf) || (uVar2 = 0xffffffff, *(char *)(param_1 + 0x6c) == '\0')) {
        uVar2 = 0;
        *(undefined *)(param_1 + uVar3 + 0x5d) = (&DAT_80065de7)[param_2 * 0x10];
      }
    }
    else {
      *(undefined *)(param_1 + uVar3 + 0x5d) = 0;
      uVar2 = 0;
    }
  }
  return uVar2;
}



uint Calc_Unlocked_Jobs(undefined *param_1,uint param_2)

{
  bool bVar1;
  uint uVar2;
  byte *pbVar3;
  byte *pbVar4;
  byte *pbVar5;
  uint uVar6;
  int iVar7;
  byte local_18 [10];
  undefined auStack_e [14];
  
  pbVar3 = local_18;
  do {
    *pbVar3 = *param_1;
    pbVar3 = pbVar3 + 1;
    param_1 = param_1 + 1;
  } while ((int)pbVar3 < (int)auStack_e);
  if ((param_2 & 0x40) != 0) {
    local_18[8] = local_18[8] | 0xf;
  }
  if ((param_2 & 0x80) != 0) {
    local_18[9] = local_18[9] | 0xf0;
  }
  uVar2 = 0;
  if ((param_2 & 0x20) == 0) {
    uVar6 = 0x800000;
    uVar2 = 0x800000;
    iVar7 = 0;
    pbVar3 = &DAT_800660c4;
    do {
      uVar6 = (int)uVar6 >> 1;
      bVar1 = false;
      pbVar4 = local_18;
      pbVar5 = pbVar3;
      do {
        if (((*pbVar4 & 0xf0) < (*pbVar5 & 0xf0)) || ((*pbVar4 & 0xf) < (*pbVar5 & 0xf))) {
          bVar1 = true;
          break;
        }
        pbVar4 = pbVar4 + 1;
        pbVar5 = pbVar5 + 1;
      } while ((int)pbVar4 < (int)auStack_e);
      pbVar3 = pbVar3 + 10;
      if (!bVar1) {
        uVar2 = uVar2 | uVar6;
      }
      iVar7 = iVar7 + 1;
    } while (iVar7 < 0x13);
    if ((param_2 & 0x80) != 0) {
      uVar2 = uVar2 & 0xffffd0;
    }
    if ((param_2 & 0x40) != 0) {
      uVar2 = uVar2 & 0xffffb0;
    }
  }
  return uVar2;
}



undefined4 Proposition_GiveJP(uint param_1,int param_2)

{
  PartyUnit *pPVar1;
  int iVar2;
  uint uVar3;
  byte bVar4;
  int iVar5;
  uint uVar6;
  
  if (-1 < param_2) {
    if (0x13 < param_1) {
      return 0xffffffff;
    }
    pPVar1 = Get_Party_Data_Pointer(param_1);
    if (pPVar1->PartyID == 0xff) {
      return 0xffffffff;
    }
    if ((pPVar1->field_0x4 & 0x20) == 0) {
      uVar6 = 0;
      if (pPVar1->JobID - 0x4a < 0x14) {
        uVar6 = pPVar1->JobID - 0x4a;
      }
      iVar5 = (uint)*(byte *)(pPVar1->JobJP + uVar6) +
              (uint)*(byte *)((int)pPVar1->JobJP + uVar6 * 2 + 1) * 0x100 + param_2;
      if (9999 < iVar5) {
        iVar5 = 9999;
      }
      *(char *)(pPVar1->JobJP + uVar6) = (char)iVar5;
      if (iVar5 < 0) {
        iVar5 = iVar5 + 0xff;
      }
      *(char *)((int)pPVar1->JobJP + uVar6 * 2 + 1) = (char)((uint)iVar5 >> 8);
      iVar5 = (uint)*(byte *)(pPVar1->JobTotalJP + uVar6) +
              (uint)*(byte *)((int)pPVar1->JobTotalJP + uVar6 * 2 + 1) * 0x100 + param_2;
      if (9999 < iVar5) {
        iVar5 = 9999;
      }
      *(char *)(pPVar1->JobTotalJP + uVar6) = (char)iVar5;
      iVar2 = iVar5;
      if (iVar5 < 0) {
        iVar2 = iVar5 + 0xff;
      }
      *(char *)((int)pPVar1->JobTotalJP + uVar6 * 2 + 1) = (char)((uint)iVar2 >> 8);
      uVar3 = Calc_Job_Level((ushort)iVar5);
      bVar4 = *(byte *)((int)pPVar1->JobJP + (int)uVar6 / 2 + -10);
      if ((uVar6 & 1) == 0) {
        bVar4 = bVar4 & 0xf | (byte)((uVar3 & 0xff) << 4);
      }
      else {
        bVar4 = (char)uVar3 + (bVar4 & 0xf0);
      }
      *(byte *)((int)pPVar1->JobJP + (int)uVar6 / 2 + -10) = bVar4;
      uVar6 = Calc_Unlocked_Jobs(&pPVar1->field_0x64,(uint)(byte)pPVar1->field_0x4);
      Store_1_5_halves(&pPVar1->field_0x28,uVar6);
      return 0;
    }
  }
  return 0xffffffff;
}



void Store_1_5_halves(undefined *param_1,undefined4 param_2)

{
  *param_1 = (char)((uint)param_2 >> 0x10);
  param_1[1] = (char)((uint)param_2 >> 8);
  param_1[2] = (char)param_2;
  return;
}



int Calc_Job_Level(ushort param_1)

{
  ushort uVar1;
  ushort *puVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  iVar3 = 0;
  puVar2 = &DAT_80066184;
  do {
    uVar1 = *puVar2;
    puVar2 = puVar2 + 1;
    if (uVar1 <= param_1) {
      iVar4 = iVar4 + 1;
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < 8);
  return iVar4;
}



void Initialize_Unit_JobLevel(ushort *param_1,byte *param_2)

{
  ushort *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  do {
    iVar4 = iVar4 + 1;
    iVar2 = Calc_Job_Level(*param_1);
    puVar1 = param_1 + 1;
    param_1 = param_1 + 2;
    iVar3 = Calc_Job_Level(*puVar1);
    *param_2 = (byte)(iVar2 << 4) | (byte)iVar3;
    param_2 = param_2 + 1;
  } while (iVar4 < 10);
  return;
}



void Initialize_ENTD_UnitTargettingData(int param_1)

{
  *(undefined *)(param_1 + 0x1b8) = 0;
  *(undefined *)(param_1 + 0x1b9) = 0;
  *(undefined *)(param_1 + 0x39) = 0;
  *(undefined *)(param_1 + 0x186) = 0;
  *(undefined *)(param_1 + 0x189) = 0;
  *(undefined *)(param_1 + 0x15d) = 0xff;
  *(undefined *)(param_1 + 0x182) = 0;
  *(undefined *)(param_1 + 0x15c) = 0;
  return;
}



void Initialize_Enemy_ENTD(int param_1,int param_2)

{
  if (*(char *)(param_1 + 0x38) == '\0') {
    *(undefined *)(param_1 + 0x38) = 1;
  }
  if (param_2 != 0) {
    *(undefined *)(param_1 + 0x163) = 0;
    *(undefined *)(param_1 + 0x164) = 0;
  }
  Status_Initialization(param_1);
  return;
}



byte Get_Ability_Range(uint param_1)

{
  byte bVar1;
  
  if ((param_1 & 0xffff) < 0x170) {
    bVar1 = SecondaryAbilityData[param_1 & 0xffff].Range;
  }
  else {
    bVar1 = 0;
  }
  return bVar1;
}



byte Get_Ability_AOE(uint param_1)

{
  byte bVar1;
  
  if ((param_1 & 0xffff) < 0x170) {
    bVar1 = SecondaryAbilityData[param_1 & 0xffff].AOE;
  }
  else {
    bVar1 = 0;
  }
  return bVar1;
}



uint Get_Portrait(byte *param_1,byte *param_2)

{
  uint uVar1;
  
  uVar1 = Get_Unit_Portrait(param_1,param_2);
  param_1[0x15f] = (byte)uVar1;
  param_1[0x160] = *param_2;
  return uVar1 & 0xff;
}



bool PassFail_Roll(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = rand();
  iVar1 = iVar1 * param_1;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0x7fff;
  }
  return param_2 <= iVar1 >> 0xf;
}



uint Get_Unit_Portrait(byte *param_1,byte *param_2)

{
  uint uVar1;
  uint uVar2;
  
  *param_2 = 0;
  uVar2 = (uint)param_1[3];
  uVar1 = (uint)*param_1;
  if (uVar2 - 0x5c < 2) {
    uVar2 = uVar2 - 1;
  }
  if (0x7f < uVar1) {
    if (uVar1 == 0x80) {
      uVar1 = (uVar2 & 0xff) * 2 - 0x34 & 0xfe;
    }
    else if (uVar1 == 0x81) {
      uVar1 = (uVar2 & 0xff) * 2 - 0x33 & 0xff;
    }
    else if (uVar1 == 0x82) {
      *param_2 = param_1[0x160];
      uVar1 = (uint)param_1[0x15f];
    }
    else {
      uVar1 = uVar2 + 0x28 & 0xff;
    }
  }
  return uVar1;
}



undefined4 Check_HasStatus(int param_1,int param_2)

{
  byte *pbVar1;
  int iVar2;
  
  iVar2 = 0;
  pbVar1 = &DAT_800662d0 + param_2 * 5;
  do {
    if ((*(byte *)(param_1 + iVar2 + 0x58) & *pbVar1) != 0) {
      return 1;
    }
    iVar2 = iVar2 + 1;
    pbVar1 = pbVar1 + 1;
  } while (iVar2 < 5);
  return 0;
}



uint GetKnownAbilities(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = param_1 + param_2 * 3;
  return (uint)*(byte *)(iVar1 + 0x99) * 0x10000 + (uint)*(byte *)(iVar1 + 0x9a) * 0x100 |
         (uint)*(byte *)(iVar1 + 0x9b);
}



void BATTLE_Unit_Targetting_to_Temp(CurActionTargetData *src,CurActionTargetData *dst)

{
  byte *pbVar1;
  uint uVar2;
  
  uVar2 = 0;
  do {
    pbVar1 = &src->AttackerID;
    src = (CurActionTargetData *)&src->SkillsetOfAttack;
    uVar2 = uVar2 + 1;
    dst->AttackerID = *pbVar1;
    dst = (CurActionTargetData *)&dst->SkillsetOfAttack;
  } while (uVar2 < 0x14);
  return;
}



void StoreArg1_IntoArg2_(undefined *param_1,undefined *param_2,int param_3)

{
  undefined uVar1;
  int iVar2;
  
  iVar2 = 0;
  if (0 < param_3) {
    do {
      uVar1 = *param_1;
      param_1 = param_1 + 1;
      iVar2 = iVar2 + 1;
      *param_2 = uVar1;
      param_2 = param_2 + 1;
    } while (iVar2 < param_3);
  }
  return;
}



uint Get_Equip_Quantity(byte param_1,int param_2)

{
  bool bVar1;
  PartyUnit *pPVar2;
  PartyUnit *pPVar3;
  undefined *puVar4;
  int iVar5;
  int iVar6;
  undefined *puVar7;
  int iVar8;
  uint uVar9;
  
  iVar8 = 0;
  uVar9 = (uint)(byte)(&DAT_800596e0)[param_1];
  do {
    pPVar2 = Get_Party_Data_Pointer(iVar8);
    if ((pPVar2->PartyID != 0xff) && ((pPVar2->field_0x4 & 0x20) == 0)) {
      bVar1 = false;
      if (param_2 != 0) {
        iVar5 = 0;
        puVar7 = &DAT_801908cc;
        do {
          if (((puVar7[0x183] != -1) && ((puVar7[6] & 0x20) == 0)) && (puVar7[2] == pPVar2->PartyID)
             ) {
            bVar1 = true;
            break;
          }
          iVar5 = iVar5 + 1;
          puVar7 = puVar7 + 0x1c0;
        } while (iVar5 < 0x15);
        if (bVar1) goto LAB_8005e398;
      }
      pPVar3 = pPVar2;
      iVar5 = 0;
      do {
        iVar6 = iVar5 + 1;
        if ((uint)pPVar3->Head == (uint)param_1) {
          uVar9 = uVar9 + 1;
        }
        pPVar3 = (PartyUnit *)((int)pPVar2->JobJP + iVar5 + -0x6d);
        iVar5 = iVar6;
      } while (iVar6 < 7);
    }
LAB_8005e398:
    iVar8 = iVar8 + 1;
    if (0x13 < iVar8) {
      if (param_2 != 0) {
        iVar8 = 0;
        puVar7 = &DAT_801908cc;
        do {
          if (((puVar7[0x183] != -1) && ((puVar7[6] & 0x20) == 0)) &&
             (((puVar7[0x1ba] & 0x30) == 0 && (puVar7[3] != ']')))) {
            iVar5 = 0;
            puVar4 = puVar7;
            do {
              iVar5 = iVar5 + 1;
              if (puVar4[0x1a] == param_1) {
                uVar9 = uVar9 + 1;
              }
              puVar4 = puVar7 + iVar5;
            } while (iVar5 < 7);
          }
          iVar8 = iVar8 + 1;
          puVar7 = puVar7 + 0x1c0;
        } while (iVar8 < 0x15);
      }
      return uVar9;
    }
  } while( true );
}



void Initialize_ENTD_UnitPos(int param_1,int param_2)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  
  *(undefined *)(param_1 + 0x47) = *(undefined *)(param_2 + 0x19);
  *(undefined *)(param_1 + 0x48) = *(undefined *)(param_2 + 0x1a);
  uVar1 = *(ushort *)(param_1 + 0x48);
  uVar2 = *(ushort *)(param_2 + 0x1a) & 0x8000;
  *(ushort *)(param_1 + 0x48) = uVar1 & 0x7fff | uVar2;
  uVar3 = *(ushort *)(param_2 + 0x1a) & 0x300;
  *(ushort *)(param_1 + 0x48) = uVar1 & 0x70ff | uVar2 | uVar3;
  *(ushort *)(param_1 + 0x48) =
       uVar1 & 0x40ff | uVar2 | uVar3 | *(ushort *)(param_2 + 0x1a) & 0x3000;
  *(undefined *)(param_1 + 0x163) = *(undefined *)(param_2 + 0x1e);
  *(undefined *)(param_1 + 0x164) = *(undefined *)(param_2 + 0x1f);
  return;
}



int Get_Highest_Priority_Status(int param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  byte *pbVar7;
  uint uVar8;
  
  uVar8 = 0xffffffff;
  iVar5 = 0;
  uVar4 = 0;
  pbVar7 = &DAT_80065de6;
  iVar6 = 0;
  do {
    uVar1 = uVar4;
    if ((int)uVar4 < 0) {
      uVar1 = uVar4 + 7;
    }
    uVar2 = 0x80 >> (uVar4 & 7);
    if ((((*(byte *)(param_1 + ((int)uVar1 >> 3) + 0x20) & uVar2) != 0) &&
        (uVar3 = (uint)*pbVar7, (int)uVar8 < (int)uVar3)) &&
       (iVar5 = uVar4 + 0x81, uVar8 = uVar3, ((&DAT_80065de9)[iVar6] & 8) != 0)) {
      iVar5 = uVar4 + 0x181;
    }
    if ((((uVar2 & *(byte *)(param_1 + ((int)uVar1 >> 3) + 0x1b)) != 0) &&
        (uVar1 = (uint)*pbVar7, (int)uVar8 < (int)uVar1)) &&
       (iVar5 = uVar4 + 1, uVar8 = uVar1, ((&DAT_80065de9)[iVar6] & 8) != 0)) {
      iVar5 = uVar4 + 0x101;
    }
    pbVar7 = pbVar7 + 0x10;
    uVar4 = uVar4 + 1;
    iVar6 = iVar6 + 0x10;
  } while ((int)uVar4 < 0x28);
  return iVar5;
}



uint Calculate_Zodiac_Sign(ushort param_1)

{
  short *psVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = 0;
  iVar3 = 0;
  psVar1 = ZodiacDayLimits;
  do {
    iVar3 = iVar3 + 1;
    iVar2 = iVar2 + (param_1 < (ushort)*psVar1 ^ 1);
    psVar1 = (short *)((ushort *)psVar1 + 1);
  } while (iVar3 < 0xc);
  return (iVar2 + 9) % 0xc & 0xffff;
}



void Data_Null(undefined *StartAddr,int Size)

{
  int i;
  
  i = 0;
  if (0 < Size) {
    do {
      *StartAddr = 0;
      i = i + 1;
      StartAddr = StartAddr + 1;
    } while (i < Size);
  }
  return;
}



void Increment_CasualtyInjure_Counters(int param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar2 = 0x62;
  if ((*(byte *)(param_1 + 0x1ba) & 0x30) != 0) {
    uVar2 = 0x61;
  }
  uVar1 = FUN_BATTLE_BIN__8013b590(uVar2);
  if ((int)uVar1 < 9999) {
    uVar1 = uVar1 + 1;
  }
  FUN_BATTLE_BIN__8013b644(uVar2,uVar1);
  return;
}



void Inflicted_Status_Changes(int param_1,int param_2,byte param_3,int param_4)

{
  int iVar1;
  byte in_t0;
  
  if (param_4 == 1) {
    param_3 = *(byte *)(param_1 + param_2 + 0x1bb) & ~param_3;
  }
  else if (param_4 < 2) {
    if (param_4 != 0) goto LAB_8005e730;
    param_3 = *(byte *)(param_1 + param_2 + 0x1bb) | param_3;
  }
  else if (param_4 != 2) goto LAB_8005e730;
  in_t0 = param_3;
LAB_8005e730:
  iVar1 = param_1 + param_2;
  *(byte *)(iVar1 + 0x1bb) = in_t0;
  *(byte *)(iVar1 + 0x58) = in_t0 | *(byte *)(iVar1 + 0x4e);
  return;
}



void Store_Current_Statuses(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    iVar1 = param_1 + iVar2;
    iVar2 = iVar2 + 1;
    *(byte *)(iVar1 + 0x58) = *(byte *)(iVar1 + 0x4e) | *(byte *)(iVar1 + 0x1bb);
  } while (iVar2 < 5);
  return;
}



void Transfer_Last_Ability_Used_CT(int param_1)

{
  *(byte *)(param_1 + 0x18b) = SecondaryAbilityData[*(short *)(param_1 + 0x170)].CT & 0x7f;
  return;
}



void Status_InflictionRemoval(int param_1,uint param_2)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  uint uVar4;
  int iVar5;
  byte unaff_s1;
  
  uVar4 = param_2 & 0xff;
  bVar1 = *(byte *)(param_1 + 0x58);
  bVar2 = *(byte *)(param_1 + 0x18a);
  if (uVar4 == 0xff) {
    uVar4 = (bVar1 & 1) << 3;
  }
  if (uVar4 < 9) {
                    // WARNING: Could not recover jumptable at 0x8005e808. Too many branches
                    // WARNING: Treating indirect jump as call
    (*(code *)(&PTR_LAB_80059830)[uVar4])();
    return;
  }
  Inflicted_Status_Changes(param_1,0,unaff_s1,0);
  Inflicted_Status_Changes(param_1,0,unaff_s1 ^ 0xf,1);
  uVar4 = 8;
  bVar3 = *(byte *)(param_1 + 0x58);
  iVar5 = 5;
  do {
    if (((bVar1 ^ bVar3) & uVar4) != 0) {
      FUN_BATTLE_BIN__8018e9bc(iVar5,(uint)((bVar1 & uVar4) == 0),(uint)bVar2);
    }
    iVar5 = iVar5 + 1;
    uVar4 = uVar4 >> 1;
  } while (iVar5 < 9);
  return;
}



void FUN_8005e8e8(void)

{
  FUN_80044a00();
  return;
}



void FUN_BATTLE_BIN__800683c0(void)

{
  DAT_BATTLE_BIN__80096110 = 1;
  return;
}



void FUN_BATTLE_BIN__800683d4(void)

{
  DAT_BATTLE_BIN__80096110 = 0;
  return;
}



void FUN_BATTLE_BIN__800683e4(int param_1)

{
  if (param_1 != 0) {
    DAT_BATTLE_BIN__800961b4 = (uint)*(byte *)(param_1 + 0x7c);
    DAT_BATTLE_BIN__800961bc = (uint)*(byte *)(param_1 + 0x7d);
    DAT_BATTLE_BIN__800961b8 = (uint)*(byte *)(param_1 + 0x7e);
  }
  return;
}



void FUN_BATTLE_BIN__80068418(int param_1)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 0x134);
  if (*(char *)(iVar2 + 0x178) == '\x05') {
    DAT_BATTLE_BIN__800961b4 = (int)*(short *)(iVar2 + 0x17a);
    DAT_BATTLE_BIN__800961b8 = (int)*(short *)(*(int *)(param_1 + 0x134) + 0x17c);
    DAT_BATTLE_BIN__800961bc = (int)*(short *)(*(int *)(param_1 + 0x134) + 0x17e);
  }
  else {
    piVar1 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)(iVar2 + 0x179));
    FUN_BATTLE_BIN__800683e4((int)piVar1);
  }
  return;
}



void FUN_BATTLE_BIN__80068494(void)

{
  char *pcVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = 0;
  iVar3 = 0;
  do {
    pcVar1 = &DAT_BATTLE_BIN__8009b27c + iVar3;
    iVar3 = iVar3 + 8;
    if (*pcVar1 != '\0') {
      FUN_BATTLE_BIN__8008f710(10,4,3,iVar2,0,0,0,0);
      FUN_BATTLE_BIN__8008f710(8,4,3,iVar2,0,0,0,0);
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x10);
  return;
}



void FUN_BATTLE_BIN__80068534(int param_1,int param_2)

{
  byte bVar1;
  uint uVar2;
  ushort uVar3;
  ushort uVar4;
  ushort uVar5;
  
  if (param_1 == 0) {
    return;
  }
  if (*(int *)(param_1 + 0x134) == 0) {
    return;
  }
  uVar2 = (*(byte *)(*(int *)(param_1 + 0x134) + 5) & 0x30) >> 4;
  if (uVar2 == 1) {
    uVar2 = (uint)*(byte *)(param_1 + 4);
    uVar3 = 0x10;
    uVar4 = 0;
    uVar5 = 0;
    goto LAB_BATTLE_BIN__8006861c;
  }
  if (uVar2 < 2) {
    if (uVar2 != 0) goto LAB_BATTLE_BIN__800685fc;
    bVar1 = *(byte *)(param_1 + 4);
    uVar5 = 0x18;
    uVar4 = 0;
  }
  else {
    if (uVar2 == 2) {
      uVar2 = (uint)*(byte *)(param_1 + 4);
      uVar3 = 0;
      uVar4 = 0x10;
      uVar5 = 0;
      goto LAB_BATTLE_BIN__8006861c;
    }
LAB_BATTLE_BIN__800685fc:
    bVar1 = *(byte *)(param_1 + 4);
    uVar5 = 0x10;
    uVar4 = 0x10;
  }
  uVar3 = 0;
  uVar2 = (uint)bVar1;
LAB_BATTLE_BIN__8006861c:
  FUN_BATTLE_BIN__8008f710(9,param_2,3,uVar2,0,uVar3,uVar4,uVar5);
  return;
}



void FUN_BATTLE_BIN__80068634(void)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)iVar2);
    FUN_BATTLE_BIN__80068534((int)piVar1,4);
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x10);
  return;
}



void FUN_BATTLE_BIN__8006867c(void)

{
  DAT_BATTLE_BIN__80096100 = DAT_BATTLE_BIN__80096100 + 1;
  if (0x27 < DAT_BATTLE_BIN__80096100) {
    DAT_BATTLE_BIN__80096100 = 0;
  }
  return;
}



void FUN_BATTLE_BIN__800686b0(void)

{
  uint uVar1;
  int *piVar2;
  
  while (uVar1 = FUN_BATTLE_BIN__80183544(DAT_BATTLE_BIN__80096100), (int)uVar1 < 0) {
    FUN_BATTLE_BIN__8006867c();
  }
  piVar2 = FUN_BATTLE_BIN__8007a724((ushort)uVar1 & 0xff);
  if ((uVar1 & 0x100) == 0) {
    FUN_BATTLE_BIN__800683e4((int)piVar2);
    FUN_BATTLE_BIN__800ec718(0);
  }
  else {
    FUN_BATTLE_BIN__80068418((int)piVar2);
    FUN_BATTLE_BIN__8017aaf8((CurActionTargetData *)(piVar2[0x4d] + 0x16e));
    FUN_BATTLE_BIN__800ec718(7);
  }
  FUN_BATTLE_BIN__8006867c();
  return;
}



void FUN_BATTLE_BIN__80068768(void)

{
  if (DAT_BATTLE_BIN__800960fc == 0) {
    DAT_BATTLE_BIN__800960fc = 1;
    DAT_BATTLE_BIN__80096100 = 0;
  }
  return;
}



void FUN_BATTLE_BIN__80068794(void)

{
  DAT_BATTLE_BIN__80096100 = 0;
  return;
}



void FUN_BATTLE_BIN__800687a4(void)

{
  DAT_BATTLE_BIN__800960f8 = 0;
  DAT_BATTLE_BIN__800960fc = 0;
  return;
}



void FUN_BATTLE_BIN__800687bc(int param_1,undefined2 *param_2)

{
  undefined uVar1;
  
  param_2[0x52] = 0;
  uVar1 = *(undefined *)(param_1 + 4);
  *param_2 = 1;
  param_2[2] = 0;
  *(undefined *)(param_2 + 0x53) = uVar1;
  *(undefined *)(param_2 + 3) = *(undefined *)(param_1 + 4);
  return;
}



void FUN_BATTLE_BIN__800687e0(int param_1,ushort *param_2)

{
  byte bVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  int *piVar5;
  int iVar6;
  ushort *puVar7;
  int iVar8;
  
  bVar1 = *(byte *)(param_1 + 0x18d);
  param_2[0x52] = 0;
  *param_2 = (ushort)bVar1;
  *(undefined *)(param_2 + 0x53) = *(undefined *)(param_1 + 4);
  param_2[99] = (ushort)*(byte *)(param_1 + 0x1ab);
  uVar4 = (ushort)DAT_BATTLE_BIN__800961bc;
  uVar3 = (ushort)DAT_BATTLE_BIN__800961b8;
  uVar2 = (ushort)DAT_BATTLE_BIN__800961b4;
  if (*param_2 == 0) {
    param_2[2] = 1;
    param_2[3] = uVar2;
    param_2[4] = uVar3;
    param_2[5] = uVar4;
  }
  else {
    iVar8 = 0;
    puVar7 = param_2;
    if (*param_2 != 0) {
      do {
        piVar5 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)(param_1 + iVar8 + 0x18e));
        puVar7[2] = 0;
        *(undefined *)(puVar7 + 3) = *(undefined *)(piVar5 + 1);
        iVar6 = piVar5[0x4d];
        switch(*(undefined *)(iVar6 + 0x18e)) {
        case 1:
        case 2:
        case 3:
        case 4:
          *(undefined *)((int)puVar7 + 7) = 3;
          break;
        case 5:
        case 6:
        case 7:
        case 8:
        case 0xb:
        case 0xd:
          *(undefined *)((int)puVar7 + 7) = 4;
          break;
        default:
          if ((*(ushort *)(iVar6 + 0x19c) & 4) == 0) {
            if (*(char *)(iVar6 + 0x18d) == '\0') {
              *(undefined *)((int)puVar7 + 7) = 0;
            }
            else {
              *(undefined *)((int)puVar7 + 7) = 1;
            }
          }
          else {
            *(undefined *)((int)puVar7 + 7) = 6;
          }
          break;
        case 10:
          *(undefined *)((int)puVar7 + 7) = 5;
        }
        iVar8 = iVar8 + 1;
        puVar7 = puVar7 + 5;
      } while (iVar8 < (int)(uint)*param_2);
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006894c(int param_1)

{
  ushort auStack_d8 [100];
  
  FUN_BATTLE_BIN__800687e0(param_1,auStack_d8);
  FUN_BATTLE_BIN__801adfec
            ((uint)(byte)WeaponSecondary[*(byte *)(param_1 + 0x13a)].field_0x6,(short *)auStack_d8);
  return;
}



void FUN_BATTLE_BIN__800689a4(int param_1)

{
  uint uVar1;
  ushort auStack_d0 [100];
  
  FUN_BATTLE_BIN__800687e0(param_1,auStack_d0);
  if (*(short *)(param_1 + 0x138) == 0x94) {
    uVar1 = 6;
  }
  else {
    uVar1 = 0x10;
    if ((*(short *)(param_1 + 0x138) != 0x17e) && (0x19 < *(ushort *)(param_1 + 0x138) - 0x170)) {
      uVar1 = (uint)(byte)(&DAT_BATTLE_BIN__800943c4)[*(byte *)(param_1 + 0x13b)];
    }
  }
  FUN_BATTLE_BIN__801ade7c(uVar1,auStack_d0);
  return;
}



void FUN_BATTLE_BIN__80068a20(int param_1,undefined2 param_2)

{
  undefined2 auStack_d8 [100];
  
  FUN_BATTLE_BIN__800687bc(param_1,auStack_d8);
  if (*(int *)(param_1 + 0x134) != 0) {
    FUN_BATTLE_BIN__801add54
              (param_2,(ushort)*(byte *)(*(int *)(param_1 + 0x134) + 4),(int)auStack_d8);
  }
  return;
}



void FUN_BATTLE_BIN__80068a74(int param_1)

{
  FUN_BATTLE_BIN__80068a20(param_1,0xb);
  return;
}



void FUN_BATTLE_BIN__80068a94(int param_1)

{
  FUN_BATTLE_BIN__80068a20(param_1,0xc);
  return;
}



void FUN_BATTLE_BIN__80068ab4(int param_1)

{
  FUN_BATTLE_BIN__80068a20(param_1,0xd);
  return;
}



void FUN_BATTLE_BIN__80068ad4(int param_1)

{
  FUN_BATTLE_BIN__80068a20(param_1,0xe);
  return;
}



void FUN_BATTLE_BIN__80068af4(int param_1)

{
  FUN_BATTLE_BIN__80068a20(param_1,0xf);
  return;
}



void FUN_BATTLE_BIN__80068b14(int param_1)

{
  FUN_BATTLE_BIN__80068a20(param_1,9);
  return;
}



bool FUN_BATTLE_BIN__80068bd4(ushort param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  if (piVar1 != (int *)0x0) {
    FUN_BATTLE_BIN__800803e4((int)piVar1,param_2,param_3,param_4);
  }
  else {
    FUN_80044a34();
  }
  return piVar1 != (int *)0x0;
}



void FUN_BATTLE_BIN__80068d08(int *param_1)

{
  byte bVar1;
  undefined1 *puVar2;
  
  if (param_1 != (int *)0x0) {
    puVar2 = FUN_BATTLE_BIN__80183fb4
                       ((uint)*(byte *)(param_1 + 0x1f),(uint)*(byte *)((int)param_1 + 0x7d),
                        (uint)*(byte *)((int)param_1 + 0x7e));
    param_1[0x50] = ~param_1[0x54] & param_1[0x50];
    param_1[0x51] = ~param_1[0x55] & param_1[0x51];
    param_1[0x50] = param_1[0x50] | param_1[0x52];
    param_1[0x51] = param_1[0x51] | param_1[0x53];
    FUN_BATTLE_BIN__80081b88(param_1);
    FUN_BATTLE_BIN__80082550((int)param_1);
    FUN_BATTLE_BIN__80082508((int)param_1);
    if (DAT_BATTLE_BIN__8009612c == 0) {
      bVar1 = puVar2[6];
    }
    else {
      bVar1 = puVar2[6];
    }
    FUN_BATTLE_BIN__80082468(param_1,bVar1 >> 2 & 3,(uint)(DAT_BATTLE_BIN__8009612c == 0));
    FUN_BATTLE_BIN__8008346c(param_1);
    FUN_BATTLE_BIN__80082eec((int)param_1);
    FUN_BATTLE_BIN__800831b8((int)param_1);
    FUN_BATTLE_BIN__80083570(param_1,(byte)puVar2[6] >> 2 & 3);
    FUN_BATTLE_BIN__8008258c(param_1);
    param_1[0x55] = 0;
    param_1[0x54] = 0;
    param_1[0x53] = 0;
    param_1[0x52] = 0;
    *(undefined *)(param_1 + 0xb4) = 0;
  }
  return;
}



void FUN_BATTLE_BIN__80068e30(ushort param_1)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  FUN_BATTLE_BIN__80068d08(piVar1);
  return;
}



undefined4 FUN_BATTLE_BIN__80068e80(int param_1,int param_2,int param_3)

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  
  piVar1 = FUN_BATTLE_BIN__8007a724((ushort)param_3);
  if (piVar1 == (int *)0x0) {
    return 0;
  }
  if (param_2 != 1) {
    if (1 < param_2) {
      return 1;
    }
    if (param_2 == 0) {
      switch(param_1) {
      case 1:
      case 10:
      case 0x10:
      case 0x20:
        return 1;
      case 2:
      case 0x16:
        piVar1[0x55] = piVar1[0x55] | 2;
        uVar2 = piVar1[0x53];
        uVar3 = 0xfffffffd;
        break;
      default:
        piVar1[0x54] = piVar1[0x54] | *(uint *)(&DAT_BATTLE_BIN__80094a40 + param_1 * 4);
        piVar1[0x52] = ~*(uint *)(&DAT_BATTLE_BIN__80094a40 + param_1 * 4) & piVar1[0x52];
        return 1;
      case 6:
      case 0x12:
      case 0x14:
        piVar1[0x55] = piVar1[0x55] | *(uint *)(&DAT_BATTLE_BIN__80094a40 + param_1 * 4);
        uVar3 = piVar1[0x53];
        uVar2 = ~*(uint *)(&DAT_BATTLE_BIN__80094a40 + param_1 * 4);
        break;
      case 0x17:
        piVar1[0x55] = piVar1[0x55] | 4;
        piVar1[0x53] = piVar1[0x53] & 0xfffffffb;
        FUN_BATTLE_BIN__80199ec8(param_3);
        return 1;
      }
      piVar1[0x53] = uVar2 & uVar3;
      return 1;
    }
    return 1;
  }
  switch(param_1) {
  case 1:
  case 10:
  case 0x20:
    goto LAB_BATTLE_BIN__800690dc;
  case 2:
    piVar1[0x53] = piVar1[0x53] | 1;
    uVar2 = piVar1[0x55];
    uVar3 = 0xfffffffe;
    break;
  default:
    piVar1[0x52] = piVar1[0x52] | *(uint *)(&DAT_BATTLE_BIN__80094a40 + param_1 * 4);
    piVar1[0x54] = ~*(uint *)(&DAT_BATTLE_BIN__80094a40 + param_1 * 4) & piVar1[0x54];
    return 1;
  case 6:
  case 0x12:
  case 0x14:
    piVar1[0x53] = piVar1[0x53] | *(uint *)(&DAT_BATTLE_BIN__80094a40 + param_1 * 4);
    uVar3 = piVar1[0x55];
    uVar2 = ~*(uint *)(&DAT_BATTLE_BIN__80094a40 + param_1 * 4);
    break;
  case 0x10:
    piVar1[0x53] = piVar1[0x53] | 8;
    uVar2 = piVar1[0x55];
    uVar3 = 0xfffffff7;
    break;
  case 0x16:
    piVar1[0x53] = piVar1[0x53] | 2;
    uVar2 = piVar1[0x55];
    uVar3 = 0xfffffffd;
    break;
  case 0x17:
    piVar1[0x53] = piVar1[0x53] | 4;
    piVar1[0x55] = piVar1[0x55] & 0xfffffffb;
    FUN_BATTLE_BIN__80199ec8(param_3);
    return 1;
  }
  piVar1[0x55] = uVar2 & uVar3;
LAB_BATTLE_BIN__800690dc:
  return 1;
}



void FUN_BATTLE_BIN__80069130(int param_1,int param_2)

{
  undefined uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  
  *(undefined *)(param_1 + 0x130) = 1;
  *(undefined *)(param_1 + 0x131) = *(undefined *)(param_2 + 4);
  *(undefined *)(param_2 + 0x130) = 2;
  *(undefined *)(param_2 + 0x131) = *(undefined *)(param_1 + 4);
  *(undefined2 *)(param_1 + 0x70) = *(undefined2 *)(param_2 + 0x70);
  *(undefined2 *)(param_1 + 0x6c) = *(undefined2 *)(param_2 + 0x6c);
  *(undefined2 *)(param_1 + 0x6e) = *(undefined2 *)(param_2 + 0x6e);
  uVar2 = *(undefined4 *)(param_2 + 0x44);
  *(undefined4 *)(param_1 + 0x40) = *(undefined4 *)(param_2 + 0x40);
  *(undefined4 *)(param_1 + 0x44) = uVar2;
  *(short *)(param_1 + 0x42) = *(short *)(param_1 + 0x42) + -10;
  uVar2 = *(undefined4 *)(param_2 + 0x1c);
  uVar3 = *(undefined4 *)(param_2 + 0x20);
  uVar4 = *(undefined4 *)(param_2 + 0x24);
  *(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(param_2 + 0x18);
  *(undefined4 *)(param_1 + 0x1c) = uVar2;
  *(undefined4 *)(param_1 + 0x20) = uVar3;
  *(undefined4 *)(param_1 + 0x24) = uVar4;
  *(undefined *)(param_1 + 0x11e) = 0;
  *(int *)(param_1 + 0x1c) = *(int *)(param_1 + 0x1c) + -0xa000;
  *(undefined *)(param_1 + 0x7c) = *(undefined *)(param_2 + 0x7c);
  *(undefined *)(param_1 + 0x7d) = *(undefined *)(param_2 + 0x7d);
  uVar1 = *(undefined *)(param_2 + 0x7e);
  *(uint *)(param_1 + 0x140) = *(uint *)(param_1 + 0x140) | 2;
  *(undefined *)(param_1 + 0x7e) = uVar1;
  FUN_BATTLE_BIN__80082eec(param_1);
  *(undefined2 *)(param_1 + 0x1de) = *(undefined2 *)(param_2 + 0x1de);
  FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(param_1 + 4));
  FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(param_2 + 4));
  return;
}



void FUN_BATTLE_BIN__80069254(int param_1)

{
  int *piVar1;
  
  if (*(char *)(param_1 + 0x130) == '\x01') {
    piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131));
    *(undefined *)(param_1 + 0x11e) = 0;
    *(undefined *)(param_1 + 0x130) = 0;
    *(undefined *)(param_1 + 0x131) = 0;
    *(uint *)(param_1 + 0x140) = *(uint *)(param_1 + 0x140) & 0xfffffffd;
    if (piVar1 != (int *)0x0) {
      *(undefined *)(piVar1 + 0x4c) = 0;
      *(undefined *)((int)piVar1 + 0x131) = 0;
    }
  }
  return;
}



void FUN_BATTLE_BIN__800692bc(int param_1)

{
  int *piVar1;
  
  if (*(char *)(param_1 + 0x130) == '\x01') {
    piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131));
    *(undefined *)(param_1 + 0x11e) = 0;
    *(undefined *)(param_1 + 0x130) = 0;
    *(undefined *)(param_1 + 0x131) = 0;
    *(uint *)(param_1 + 0x140) = *(uint *)(param_1 + 0x140) & 0xfffffffd;
    FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(param_1 + 4));
    if (piVar1 != (int *)0x0) {
      *(undefined *)(piVar1 + 0x4c) = 0;
      *(undefined *)((int)piVar1 + 0x131) = 0;
      FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar1 + 1));
    }
  }
  return;
}



int FUN_BATTLE_BIN__8006933c(int param_1,int param_2,uint param_3)

{
  undefined1 *puVar1;
  undefined1 *puVar2;
  int iVar3;
  uint uVar4;
  
  puVar1 = FUN_BATTLE_BIN__80183fb4(param_1,param_2,param_3);
  puVar2 = FUN_BATTLE_BIN__80183fb4(param_1,param_2,param_3 ^ 1);
  iVar3 = 0x40;
  if ((puVar2[6] & 1) == 0) {
    uVar4 = (uint)(byte)puVar1[2] + (uint)((byte)puVar1[3] >> 5);
    if (uVar4 < (uint)(byte)puVar2[2] + (uint)((byte)puVar2[3] >> 5)) {
      iVar3 = (((uint)(byte)puVar2[2] - ((byte)puVar2[5] & 0x1f)) - (uVar4 + 3)) * 2;
    }
    else {
      iVar3 = 0x40;
    }
  }
  return iVar3;
}



int FUN_BATTLE_BIN__800693f4(int param_1,int param_2,int param_3,uint param_4)

{
  undefined1 *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  puVar1 = FUN_BATTLE_BIN__80183fb4(param_2,param_3,param_4);
  iVar2 = FUN_BATTLE_BIN__8006933c(param_2,param_3,param_4);
  iVar4 = ((uint)(byte)puVar1[2] + (uint)((byte)puVar1[3] >> 5)) * 2 + ((byte)puVar1[3] & 0x1f);
  iVar3 = (iVar4 + iVar2) * -6;
  iVar2 = iVar3;
  if (((iVar3 <= param_1) && (iVar4 = iVar4 * -6 + -0x30, iVar2 = param_1, iVar4 <= param_1)) &&
     (iVar2 = iVar4, iVar4 < iVar3)) {
    iVar2 = iVar3;
  }
  return iVar2;
}



void FUN_BATTLE_BIN__800694d8(int param_1,byte *param_2,byte *param_3)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  byte *pbVar4;
  uint uVar5;
  uint uVar6;
  int unaff_s3;
  int unaff_s4;
  int iVar7;
  int unaff_s6;
  int iVar8;
  VECTOR local_50;
  byte *local_40;
  int local_38;
  int local_30;
  
  local_40 = param_3;
  FUN_BATTLE_BIN__80183fb4
            ((uint)*(byte *)(param_1 + 0x7c),(uint)*(byte *)(param_1 + 0x7d),
             (uint)*(byte *)(param_1 + 0x7e));
  uVar6 = (uint)*(byte *)(param_1 + 0x7c);
  uVar5 = (uint)*(byte *)(param_1 + 0x7d);
  iVar2 = *(int *)(param_1 + 0x98);
  local_38 = (int)*(short *)(param_1 + 0x40);
  local_30 = (int)*(short *)(param_1 + 0x44);
  local_50.vy = (long)*(short *)(param_1 + 0x42);
  iVar8 = iVar2 + -1;
  if (iVar2 + -1 < (int)(uint)*param_2) {
    do {
      pbVar4 = param_2 + iVar2;
      if ((*pbVar4 & 0xc0) != (*local_40 & 0xc0)) break;
      uVar3 = (uint)*pbVar4;
      bVar1 = *pbVar4 >> 6;
      if (bVar1 == 1) {
        uVar6 = (uVar6 - 1) - (uVar3 & 3);
        unaff_s4 = uVar6 * 0x1c + 0x23;
LAB_BATTLE_BIN__800695f8:
        unaff_s3 = uVar5 * 0x1c + 0xe;
      }
      else if (bVar1 < 2) {
        if (bVar1 == 0) {
          uVar6 = uVar6 + 1 + (uVar3 & 3);
          unaff_s4 = uVar6 * 0x1c + -7;
          goto LAB_BATTLE_BIN__800695f8;
        }
      }
      else if (bVar1 == 2) {
        uVar5 = (uVar5 - 1) - (uVar3 & 3);
        unaff_s4 = uVar6 * 0x1c + 0xe;
        unaff_s3 = uVar5 * 0x1c + 0x23;
      }
      else if (bVar1 == 3) {
        uVar5 = uVar5 + 1 + (uVar3 & 3);
        unaff_s4 = uVar6 * 0x1c + 0xe;
        unaff_s3 = uVar5 * 0x1c + -7;
      }
      unaff_s6 = FUN_BATTLE_BIN__800693f4(local_50.vy,uVar6,uVar5,*pbVar4 >> 5 & 1);
      if (unaff_s6 != local_50.vy) break;
      iVar7 = iVar8 + 1;
      iVar2 = iVar8 + 2;
      iVar8 = iVar7;
    } while (iVar7 < (int)(uint)*param_2);
  }
  local_50.vx = unaff_s4 - local_38;
  local_50.vz = unaff_s3 - local_30;
  local_50.vy = unaff_s6 - local_50.vy;
  VectorNormal(&local_50,(VECTOR *)(param_1 + 0x28));
  iVar8 = *(int *)(param_1 + 0x2c) * DAT_80045980;
  iVar2 = *(int *)(param_1 + 0x30) * DAT_80045980;
  *(int *)(param_1 + 0x28) = *(int *)(param_1 + 0x28) * DAT_80045980;
  *(int *)(param_1 + 0x2c) = iVar8;
  *(int *)(param_1 + 0x30) = iVar2;
  return;
}



void FUN_BATTLE_BIN__80069744(int param_1,byte *param_2,byte *param_3)

{
  byte bVar1;
  undefined1 *puVar2;
  int iVar3;
  uint uVar4;
  byte *pbVar5;
  uint uVar6;
  uint uVar7;
  int unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int iVar8;
  int iVar9;
  VECTOR local_50;
  byte *local_40;
  int local_38;
  int local_30;
  
  local_40 = param_3;
  FUN_BATTLE_BIN__80183fb4
            ((uint)*(byte *)(param_1 + 0x7c),(uint)*(byte *)(param_1 + 0x7d),
             (uint)*(byte *)(param_1 + 0x7e));
  uVar7 = (uint)*(byte *)(param_1 + 0x7c);
  uVar6 = (uint)*(byte *)(param_1 + 0x7d);
  iVar3 = *(int *)(param_1 + 0x98);
  local_38 = (int)*(short *)(param_1 + 0x40);
  local_30 = (int)*(short *)(param_1 + 0x44);
  local_50.vy = (long)*(short *)(param_1 + 0x42);
  iVar9 = iVar3 + -1;
  if (iVar3 + -1 < (int)(uint)*param_2) {
    do {
      pbVar5 = param_2 + iVar3;
      if ((*pbVar5 & 0xc0) != (*local_40 & 0xc0)) break;
      uVar4 = (uint)*pbVar5;
      bVar1 = *pbVar5 >> 6;
      if (bVar1 == 1) {
        uVar7 = (uVar7 - 1) - (uVar4 & 3);
        unaff_s5 = uVar7 * 0x1c;
LAB_BATTLE_BIN__80069860:
        unaff_s4 = uVar6 * 0x1c + 0xe;
      }
      else if (bVar1 < 2) {
        if (bVar1 == 0) {
          uVar7 = uVar7 + 1 + (uVar4 & 3);
          unaff_s5 = uVar7 * 0x1c + 0x1c;
          goto LAB_BATTLE_BIN__80069860;
        }
      }
      else if (bVar1 == 2) {
        uVar6 = (uVar6 - 1) - (uVar4 & 3);
        unaff_s5 = uVar7 * 0x1c + 0xe;
        unaff_s4 = uVar6 * 0x1c;
      }
      else if (bVar1 == 3) {
        uVar6 = uVar6 + 1 + (uVar4 & 3);
        unaff_s5 = uVar7 * 0x1c + 0xe;
        unaff_s4 = uVar6 * 0x1c + 0x1c;
      }
      uVar4 = *pbVar5 >> 5 & 1;
      if (*(uint *)(param_1 + 0x98) == (uint)*param_2) {
        puVar2 = FUN_BATTLE_BIN__80183fb4(uVar7,uVar6,uVar4);
        unaff_s3 = (((uint)(byte)puVar2[2] + (uint)((byte)puVar2[3] >> 5)) * 2 +
                   ((byte)puVar2[3] & 0x1f)) * -6;
      }
      else {
        unaff_s3 = FUN_BATTLE_BIN__800693f4(local_50.vy,uVar7,uVar6,uVar4);
      }
      if (unaff_s3 != local_50.vy) break;
      iVar8 = iVar9 + 1;
      iVar3 = iVar9 + 2;
      iVar9 = iVar8;
    } while (iVar8 < (int)(uint)*param_2);
  }
  local_50.vx = unaff_s5 - local_38;
  local_50.vz = unaff_s4 - local_30;
  local_50.vy = unaff_s3 - local_50.vy;
  VectorNormal(&local_50,(VECTOR *)(param_1 + 0x28));
  iVar9 = *(int *)(param_1 + 0x2c) * DAT_80045980;
  iVar3 = *(int *)(param_1 + 0x30) * DAT_80045980;
  *(int *)(param_1 + 0x28) = *(int *)(param_1 + 0x28) * DAT_80045980;
  *(int *)(param_1 + 0x2c) = iVar9;
  *(int *)(param_1 + 0x30) = iVar3;
  return;
}



void FUN_BATTLE_BIN__800699f4(int param_1,byte *param_2,int param_3,int param_4)

{
  byte bVar1;
  long lVar2;
  int iVar3;
  int iVar4;
  VECTOR local_18;
  
  local_18.vy = (param_4 + -1) * (*(byte *)(param_3 + 3) & 0x1f) * -6;
  bVar1 = *param_2 >> 6;
  if (bVar1 == 1) {
    lVar2 = -0x1c;
  }
  else {
    if (1 < bVar1) {
      if (bVar1 == 2) {
        lVar2 = -0x1c;
      }
      else {
        lVar2 = 0x1c;
        if (bVar1 != 3) goto LAB_BATTLE_BIN__80069a98;
      }
      local_18.vx = 0;
      local_18.vz = lVar2;
      goto LAB_BATTLE_BIN__80069a98;
    }
    lVar2 = 0x1c;
    if (bVar1 != 0) goto LAB_BATTLE_BIN__80069a98;
  }
  local_18.vz = 0;
  local_18.vx = lVar2;
LAB_BATTLE_BIN__80069a98:
  VectorNormal(&local_18,(VECTOR *)(param_1 + 0x28));
  iVar3 = *(int *)(param_1 + 0x2c) * DAT_80045980;
  iVar4 = *(int *)(param_1 + 0x30) * DAT_80045980;
  *(int *)(param_1 + 0x28) = *(int *)(param_1 + 0x28) * DAT_80045980;
  *(int *)(param_1 + 0x2c) = iVar3;
  *(int *)(param_1 + 0x30) = iVar4;
  return;
}



void FUN_BATTLE_BIN__80069af8(int param_1,byte *param_2,int param_3,int param_4)

{
  byte bVar1;
  long lVar2;
  int iVar3;
  int iVar4;
  VECTOR local_18;
  
  local_18.vy = (param_4 + -1) * (*(byte *)(param_3 + 3) & 0x1f) * 6;
  bVar1 = *param_2 >> 6;
  if (bVar1 == 1) {
    lVar2 = -0x1c;
  }
  else {
    if (1 < bVar1) {
      if (bVar1 == 2) {
        lVar2 = -0x1c;
      }
      else {
        lVar2 = 0x1c;
        if (bVar1 != 3) goto LAB_BATTLE_BIN__80069b98;
      }
      local_18.vx = 0;
      local_18.vz = lVar2;
      goto LAB_BATTLE_BIN__80069b98;
    }
    lVar2 = 0x1c;
    if (bVar1 != 0) goto LAB_BATTLE_BIN__80069b98;
  }
  local_18.vz = 0;
  local_18.vx = lVar2;
LAB_BATTLE_BIN__80069b98:
  VectorNormal(&local_18,(VECTOR *)(param_1 + 0x28));
  iVar3 = *(int *)(param_1 + 0x2c) * DAT_80045980;
  iVar4 = *(int *)(param_1 + 0x30) * DAT_80045980;
  *(int *)(param_1 + 0x28) = *(int *)(param_1 + 0x28) * DAT_80045980;
  *(int *)(param_1 + 0x2c) = iVar3;
  *(int *)(param_1 + 0x30) = iVar4;
  return;
}



void FUN_BATTLE_BIN__80069bf8(int param_1,byte *param_2,int param_3,int param_4)

{
  byte bVar1;
  long lVar2;
  int iVar3;
  int iVar4;
  VECTOR local_18;
  
  local_18.vy = (param_4 + -1) * (*(byte *)(param_3 + 3) & 0x1f) * -6;
  bVar1 = *param_2 >> 6;
  if (bVar1 == 1) {
    lVar2 = -0x1c;
  }
  else {
    if (1 < bVar1) {
      if (bVar1 == 2) {
        lVar2 = -0x1c;
      }
      else {
        lVar2 = 0x1c;
        if (bVar1 != 3) goto LAB_BATTLE_BIN__80069c9c;
      }
      local_18.vx = 0;
      local_18.vz = lVar2;
      goto LAB_BATTLE_BIN__80069c9c;
    }
    lVar2 = 0x1c;
    if (bVar1 != 0) goto LAB_BATTLE_BIN__80069c9c;
  }
  local_18.vz = 0;
  local_18.vx = lVar2;
LAB_BATTLE_BIN__80069c9c:
  VectorNormal(&local_18,(VECTOR *)(param_1 + 0x28));
  iVar3 = *(int *)(param_1 + 0x2c) * DAT_80045980;
  iVar4 = *(int *)(param_1 + 0x30) * DAT_80045980;
  *(int *)(param_1 + 0x28) = *(int *)(param_1 + 0x28) * DAT_80045980;
  *(int *)(param_1 + 0x2c) = iVar3;
  *(int *)(param_1 + 0x30) = iVar4;
  return;
}



void FUN_BATTLE_BIN__80069cfc(int param_1,byte *param_2,int param_3,int param_4)

{
  byte bVar1;
  long lVar2;
  int iVar3;
  int iVar4;
  VECTOR local_18;
  
  local_18.vy = (param_4 + -1) * (*(byte *)(param_3 + 3) & 0x1f) * 6;
  bVar1 = *param_2 >> 6;
  if (bVar1 == 1) {
    lVar2 = -0x1c;
  }
  else {
    if (1 < bVar1) {
      if (bVar1 == 2) {
        lVar2 = -0x1c;
      }
      else {
        lVar2 = 0x1c;
        if (bVar1 != 3) goto LAB_BATTLE_BIN__80069d9c;
      }
      local_18.vx = 0;
      local_18.vz = lVar2;
      goto LAB_BATTLE_BIN__80069d9c;
    }
    lVar2 = 0x1c;
    if (bVar1 != 0) goto LAB_BATTLE_BIN__80069d9c;
  }
  local_18.vz = 0;
  local_18.vx = lVar2;
LAB_BATTLE_BIN__80069d9c:
  VectorNormal(&local_18,(VECTOR *)(param_1 + 0x28));
  iVar3 = *(int *)(param_1 + 0x2c) * DAT_80045980;
  iVar4 = *(int *)(param_1 + 0x30) * DAT_80045980;
  *(int *)(param_1 + 0x28) = *(int *)(param_1 + 0x28) * DAT_80045980;
  *(int *)(param_1 + 0x2c) = iVar3;
  *(int *)(param_1 + 0x30) = iVar4;
  return;
}



void FUN_BATTLE_BIN__80069dfc(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = param_2 * *(int *)(param_1 + 0x28);
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0xfff;
  }
  iVar2 = param_2 * *(int *)(param_1 + 0x2c);
  *(int *)(param_1 + 0x28) = iVar1 >> 0xc;
  if (iVar2 < 0) {
    iVar2 = iVar2 + 0xfff;
  }
  iVar1 = param_2 * *(int *)(param_1 + 0x30);
  *(int *)(param_1 + 0x2c) = iVar2 >> 0xc;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0xfff;
  }
  *(int *)(param_1 + 0x30) = iVar1 >> 0xc;
  return;
}



void FUN_BATTLE_BIN__80069e68(int param_1)

{
  undefined uVar1;
  undefined uVar2;
  
                    // Possible PsyQ macro: setPolyGT4()
  *(undefined *)(param_1 + 0x7f) = 0x3c;
  FUN_BATTLE_BIN__80081978(0x3c,*(undefined2 *)(param_1 + 0x70),param_1);
  if (*(char *)(param_1 + 0x9c) == -2) {
    uVar1 = *(undefined *)(param_1 + 0x9e);
    uVar2 = *(undefined *)(param_1 + 0x9f);
    *(undefined *)(param_1 + 0x80) = *(undefined *)(param_1 + 0x9d);
  }
  else {
    uVar1 = *(undefined *)(param_1 + 0x7d);
    uVar2 = *(undefined *)(param_1 + 0x7e);
    *(undefined *)(param_1 + 0x80) = *(undefined *)(param_1 + 0x7c);
  }
  *(undefined *)(param_1 + 0x81) = uVar1;
  *(undefined *)(param_1 + 0x82) = uVar2;
  return;
}



void FUN_BATTLE_BIN__80069ee0(int param_1)

{
  undefined2 auStack_d0 [100];
  
  FUN_BATTLE_BIN__800687bc(param_1,auStack_d0);
  *(undefined *)(param_1 + 0x7f) = 0x3b;
  return;
}



void FUN_BATTLE_BIN__80069f14(int param_1,int param_2)

{
  byte bVar1;
  byte bVar2;
  char cVar3;
  undefined2 unaff_s1;
  
  FUN_BATTLE_BIN__800692bc(param_1);
  bVar1 = *(byte *)(param_1 + 0x97);
  bVar2 = *(byte *)(param_1 + 0x11c) >> 6;
  if (bVar2 == 1) {
    unaff_s1 = 0x400;
    *(undefined *)(param_1 + 0x7f) = 0x37;
    *(byte *)(param_1 + 0x80) = (*(char *)(param_1 + 0x7c) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
  }
  else if (bVar2 < 2) {
    if (bVar2 == 0) {
      unaff_s1 = 0xc00;
                    // Possible PsyQ macro: setPolyFT4() + setSemiTrans(polyFT4, 1) +
                    // setShadeTex(polyFT4, 1)
      *(undefined *)(param_1 + 0x7f) = 0x2f;
      *(byte *)(param_1 + 0x80) =
           *(char *)(param_1 + 0x7c) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
    }
  }
  else {
    if (bVar2 == 2) {
      unaff_s1 = 0;
      *(undefined *)(param_1 + 0x7f) = 0x2b;
      cVar3 = (*(char *)(param_1 + 0x7d) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
    }
    else {
      if (bVar2 != 3) goto LAB_BATTLE_BIN__8006a020;
      unaff_s1 = 0x800;
      *(undefined *)(param_1 + 0x7f) = 0x33;
      cVar3 = *(char *)(param_1 + 0x7d) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
    }
    *(char *)(param_1 + 0x81) = cVar3;
  }
LAB_BATTLE_BIN__8006a020:
  *(undefined2 *)(param_1 + 0x70) = unaff_s1;
  FUN_BATTLE_BIN__80082df8(param_1);
  FUN_BATTLE_BIN__80069bf8(param_1,(byte *)(param_1 + 0x11c),param_2,(uint)bVar1);
  FUN_BATTLE_BIN__80069dfc(param_1,*(int *)(param_1 + 0x38));
  *(byte *)(param_1 + 0x82) = *(byte *)(param_1 + 0x11c) >> 5 & 1;
  return;
}



void FUN_BATTLE_BIN__8006a080(int param_1)

{
  byte bVar1;
  int *piVar2;
  char cVar3;
  undefined2 unaff_s1;
  
  FUN_BATTLE_BIN__80069254(param_1);
  bVar1 = *(byte *)(param_1 + 0x11c) >> 6;
  if (bVar1 == 1) {
    unaff_s1 = 0x400;
                    // Possible PsyQ macro: setPolyF4()
    *(undefined *)(param_1 + 0x7f) = 0x28;
    *(byte *)(param_1 + 0x80) = (*(char *)(param_1 + 0x7c) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
  }
  else if (bVar1 < 2) {
    if (bVar1 == 0) {
      unaff_s1 = 0xc00;
                    // Possible PsyQ macro: setPolyFT3()
      *(undefined *)(param_1 + 0x7f) = 0x24;
      *(byte *)(param_1 + 0x80) =
           *(char *)(param_1 + 0x7c) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
    }
  }
  else {
    if (bVar1 == 2) {
      unaff_s1 = 0;
                    // Possible PsyQ macro: setPolyF3() + setSemiTrans(polyF3, 1)
      *(undefined *)(param_1 + 0x7f) = 0x22;
      cVar3 = (*(char *)(param_1 + 0x7d) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
    }
    else {
      if (bVar1 != 3) goto LAB_BATTLE_BIN__8006a180;
      unaff_s1 = 0x800;
                    // Possible PsyQ macro: setPolyFT3() + setSemiTrans(polyFT3, 1)
      *(undefined *)(param_1 + 0x7f) = 0x26;
      cVar3 = *(char *)(param_1 + 0x7d) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
    }
    *(char *)(param_1 + 0x81) = cVar3;
  }
LAB_BATTLE_BIN__8006a180:
  FUN_BATTLE_BIN__80081978(0x12,unaff_s1,param_1);
  if ((*(char *)(param_1 + 0x130) == '\x02') &&
     (piVar2 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131)), piVar2 != (int *)0x0))
  {
    FUN_BATTLE_BIN__80081978(0x32,*(undefined2 *)(param_1 + 0x70),(int)piVar2);
  }
  FUN_BATTLE_BIN__800694d8(param_1,(byte *)(param_1 + 0x9c),(byte *)(param_1 + 0x11c));
  FUN_BATTLE_BIN__80069dfc(param_1,*(int *)(param_1 + 0x38));
  *(byte *)(param_1 + 0x82) = *(byte *)(param_1 + 0x11c) >> 5 & 1;
  return;
}



void FUN_BATTLE_BIN__8006a20c(int param_1,int param_2,undefined2 param_3)

{
  byte bVar1;
  byte bVar2;
  char cVar3;
  
  bVar1 = *(byte *)(param_1 + 0x97);
  bVar2 = *(byte *)(param_1 + 0x11c) >> 6;
  if (bVar2 == 1) {
    param_3 = 0x400;
    *(undefined *)(param_1 + 0x7f) = 7;
    *(byte *)(param_1 + 0x80) = (*(char *)(param_1 + 0x7c) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
  }
  else if (bVar2 < 2) {
    if (bVar2 == 0) {
      param_3 = 0xc00;
      *(undefined *)(param_1 + 0x7f) = 3;
      *(byte *)(param_1 + 0x80) =
           *(char *)(param_1 + 0x7c) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
    }
  }
  else {
    if (bVar2 == 2) {
      param_3 = 0;
      *(undefined *)(param_1 + 0x7f) = 1;
      cVar3 = (*(char *)(param_1 + 0x7d) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
    }
    else {
      if (bVar2 != 3) goto LAB_BATTLE_BIN__8006a30c;
      param_3 = 0x800;
      *(undefined *)(param_1 + 0x7f) = 5;
      cVar3 = *(char *)(param_1 + 0x7d) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
    }
    *(char *)(param_1 + 0x81) = cVar3;
  }
LAB_BATTLE_BIN__8006a30c:
  if (DAT_BATTLE_BIN__800960e4 != 0x2d) {
    *(undefined2 *)(param_1 + 0x70) = param_3;
    FUN_BATTLE_BIN__80082df8(param_1);
  }
  FUN_BATTLE_BIN__800699f4(param_1,(byte *)(param_1 + 0x11c),param_2,(uint)bVar1);
  FUN_BATTLE_BIN__80069dfc(param_1,*(int *)(param_1 + 0x38));
  *(byte *)(param_1 + 0x82) = *(byte *)(param_1 + 0x11c) >> 5 & 1;
  return;
}



void FUN_BATTLE_BIN__8006a380(int param_1,int param_2)

{
  byte bVar1;
  byte bVar2;
  int *piVar3;
  char cVar4;
  
  bVar1 = *(byte *)(param_1 + 0x97);
  bVar2 = *(byte *)(param_1 + 0x11c) >> 6;
  if (bVar2 == 1) {
    *(undefined *)(param_1 + 0x7f) = 0xf;
    FUN_BATTLE_BIN__80081978(0x23,0x400,param_1);
    *(byte *)(param_1 + 0x80) = (*(char *)(param_1 + 0x7c) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
  }
  else if (bVar2 < 2) {
    if (bVar2 == 0) {
      *(undefined *)(param_1 + 0x7f) = 0xb;
      FUN_BATTLE_BIN__80081978(0x23,0xc00,param_1);
      *(byte *)(param_1 + 0x80) =
           *(char *)(param_1 + 0x7c) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
    }
  }
  else {
    if (bVar2 == 2) {
      *(undefined *)(param_1 + 0x7f) = 9;
      FUN_BATTLE_BIN__80081978(0x23,0,param_1);
      cVar4 = (*(char *)(param_1 + 0x7d) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
    }
    else {
      if (bVar2 != 3) goto LAB_BATTLE_BIN__8006a4b0;
      *(undefined *)(param_1 + 0x7f) = 0xd;
      FUN_BATTLE_BIN__80081978(0x23,0x800,param_1);
      cVar4 = *(char *)(param_1 + 0x7d) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
    }
    *(char *)(param_1 + 0x81) = cVar4;
  }
LAB_BATTLE_BIN__8006a4b0:
  if ((*(char *)(param_1 + 0x130) == '\x02') &&
     (piVar3 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131)), piVar3 != (int *)0x0))
  {
    FUN_BATTLE_BIN__80081978(0x32,*(undefined2 *)(param_1 + 0x70),(int)piVar3);
  }
  FUN_BATTLE_BIN__800699f4(param_1,(byte *)(param_1 + 0x11c),param_2,(uint)bVar1);
  FUN_BATTLE_BIN__80069dfc(param_1,*(int *)(param_1 + 0x3c));
  *(byte *)(param_1 + 0x82) = *(byte *)(param_1 + 0x11c) >> 5 & 1;
  return;
}



void FUN_BATTLE_BIN__8006a538(int param_1)

{
  byte bVar1;
  char cVar2;
  short sVar3;
  byte *pbVar4;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_18;
  
  local_28 = DAT_BATTLE_BIN__80067138;
  local_24 = DAT_BATTLE_BIN__8006713c;
  local_20 = DAT_BATTLE_BIN__80067140;
  local_18 = DAT_BATTLE_BIN__80067144;
  pbVar4 = (byte *)(param_1 + 0x11c);
  bVar1 = *(byte *)(param_1 + 0x11c);
  *(uint *)(param_1 + 0x2c) =
       -DAT_BATTLE_BIN__80096128 * (((*(byte *)(param_1 + 0x11c) & 3) * 0x1c000 + 0xe000) / 0x6000);
  if ((bVar1 & 3) < 2) {
    *(undefined *)(param_1 + 0x7f) = *(undefined *)((int)&local_18 + (uint)(bVar1 >> 6));
    FUN_BATTLE_BIN__80069254(param_1);
    sVar3 = 0x30;
    if ((*(uint *)(param_1 + 0x80) & 0x8000000) != 0) {
      sVar3 = 0x31;
    }
    FUN_BATTLE_BIN__80081978(sVar3,*(undefined2 *)(param_1 + 0x70),param_1);
    *(uint *)(param_1 + 0x80) =
         *(uint *)(param_1 + 0x80) & 0xf7ffffff |
         (*(uint *)(param_1 + 0x80) >> 0x1b & 1 ^ 1) << 0x1b;
  }
  else {
    *(undefined *)(param_1 + 0x7f) = *(undefined *)((int)&local_20 + (uint)(bVar1 >> 6));
    FUN_BATTLE_BIN__80081978
              (0x1e,*(undefined2 *)((int)&local_28 + (uint)(*(byte *)(param_1 + 0x11c) >> 6) * 2),
               param_1);
  }
  bVar1 = *pbVar4 >> 6;
  if (bVar1 == 1) {
    *(undefined4 *)(param_1 + 0x28) = 0xffffd000;
    *(undefined4 *)(param_1 + 0x30) = 0;
    *(byte *)(param_1 + 0x80) = (*(char *)(param_1 + 0x7c) + -1) - (*pbVar4 & 3);
  }
  else if (bVar1 < 2) {
    if (bVar1 == 0) {
      *(undefined4 *)(param_1 + 0x28) = 0x3000;
      *(undefined4 *)(param_1 + 0x30) = 0;
      *(byte *)(param_1 + 0x80) = *(char *)(param_1 + 0x7c) + '\x01' + (*pbVar4 & 3);
    }
  }
  else {
    if (bVar1 == 2) {
      *(undefined4 *)(param_1 + 0x28) = 0;
      *(undefined4 *)(param_1 + 0x30) = 0xffffd000;
      cVar2 = (*(char *)(param_1 + 0x7d) + -1) - (*pbVar4 & 3);
    }
    else {
      if (bVar1 != 3) goto LAB_BATTLE_BIN__8006a794;
      *(undefined4 *)(param_1 + 0x28) = 0;
      *(undefined4 *)(param_1 + 0x30) = 0x3000;
      cVar2 = *(char *)(param_1 + 0x7d) + '\x01' + (*pbVar4 & 3);
    }
    *(char *)(param_1 + 0x81) = cVar2;
  }
LAB_BATTLE_BIN__8006a794:
  *(byte *)(param_1 + 0x82) = *pbVar4 >> 5 & 1;
  return;
}



void FUN_BATTLE_BIN__8006a7c0(int param_1,undefined4 param_2,int param_3)

{
  byte bVar1;
  int iVar2;
  char cVar3;
  long lVar4;
  uint uVar5;
  byte *pbVar6;
  int iVar7;
  undefined4 uStack_18;
  byte local_12;
  
  pbVar6 = (byte *)(param_1 + 0x11c);
  if ((*(byte *)(param_1 + 0x11e) == 0) ||
     (FUN_BATTLE_BIN__8017c158(&uStack_18,*(byte *)(param_1 + 0x11e) - 1),
     (uStack_18._3_1_ & 0x80) != 0)) {
    uVar5 = (uint)*(byte *)(param_3 + 2) * 2 +
            (*(byte *)(param_3 + 3) & 0x1f) * (uint)*(byte *)(param_1 + 0x96) + 2;
  }
  else {
    uVar5 = (uint)local_12;
  }
  lVar4 = SquareRoot12(((uVar5 - -(int)*(short *)(param_1 + 0x42) / 6) + ((*pbVar6 & 3) + 1) * 2) *
                       6 * DAT_BATTLE_BIN__80096128 * 2);
  iVar2 = DAT_BATTLE_BIN__80096128;
  iVar7 = lVar4 / DAT_BATTLE_BIN__80096128;
  *(long *)(param_1 + 0x2c) = -lVar4;
  lVar4 = SquareRoot12(((*pbVar6 & 3) + 1) * 0xc * iVar2 * 2);
  bVar1 = *pbVar6 >> 6;
  iVar7 = iVar7 + lVar4 / DAT_BATTLE_BIN__80096128;
  if (bVar1 == 1) {
    *(undefined *)(param_1 + 0x7f) = 0x1d;
    FUN_BATTLE_BIN__80081978(0x1e,0x400,param_1);
    iVar7 = -0xe000 / iVar7;
    *(undefined4 *)(param_1 + 0x30) = 0;
    cVar3 = (*(char *)(param_1 + 0x7c) + -1) - (*pbVar6 & 3);
  }
  else {
    if (1 < bVar1) {
      if (bVar1 == 2) {
        *(undefined *)(param_1 + 0x7f) = 0x11;
        FUN_BATTLE_BIN__80081978(0x1e,0,param_1);
        iVar7 = -0xe000 / iVar7;
        *(undefined4 *)(param_1 + 0x28) = 0;
        cVar3 = (*(char *)(param_1 + 0x7d) + -1) - (*pbVar6 & 3);
      }
      else {
        if (bVar1 != 3) goto LAB_BATTLE_BIN__8006aa50;
        *(undefined *)(param_1 + 0x7f) = 0x19;
        FUN_BATTLE_BIN__80081978(0x1e,0x800,param_1);
        iVar7 = 0xe000 / iVar7;
        *(undefined4 *)(param_1 + 0x28) = 0;
        cVar3 = *(char *)(param_1 + 0x7d) + '\x01' + (*pbVar6 & 3);
      }
      *(char *)(param_1 + 0x81) = cVar3;
      *(int *)(param_1 + 0x30) = iVar7;
      goto LAB_BATTLE_BIN__8006aa50;
    }
    if (bVar1 != 0) goto LAB_BATTLE_BIN__8006aa50;
    *(undefined *)(param_1 + 0x7f) = 0x15;
    FUN_BATTLE_BIN__80081978(0x1e,0xc00,param_1);
    iVar7 = 0xe000 / iVar7;
    *(undefined4 *)(param_1 + 0x30) = 0;
    cVar3 = *(char *)(param_1 + 0x7c) + '\x01' + (*pbVar6 & 3);
  }
  *(char *)(param_1 + 0x80) = cVar3;
  *(int *)(param_1 + 0x28) = iVar7;
LAB_BATTLE_BIN__8006aa50:
  *(byte *)(param_1 + 0x82) = *pbVar6 >> 5 & 1;
  return;
}



void FUN_BATTLE_BIN__8006aa80(int param_1,undefined4 param_2,int param_3)

{
  byte bVar1;
  char cVar2;
  long lVar3;
  short sVar4;
  uint uVar5;
  byte *pbVar6;
  int iVar7;
  undefined4 uStack_18;
  byte local_12;
  
  pbVar6 = (byte *)(param_1 + 0x11c);
  if ((*(byte *)(param_1 + 0x11e) == 0) ||
     (FUN_BATTLE_BIN__8017c158(&uStack_18,*(byte *)(param_1 + 0x11e) - 1),
     (uStack_18._3_1_ & 0x80) != 0)) {
    uVar5 = (uint)*(byte *)(param_3 + 2) * 2 +
            (*(byte *)(param_3 + 3) & 0x1f) * (uint)*(byte *)(param_1 + 0x96);
  }
  else {
    uVar5 = (uint)local_12;
  }
  lVar3 = SquareRoot12(((uVar5 - -(int)*(short *)(param_1 + 0x42) / 6) * 6 + 1) *
                       DAT_BATTLE_BIN__80096128 * 2);
  *(long *)(param_1 + 0x2c) = -lVar3;
  bVar1 = *pbVar6 >> 6;
  iVar7 = lVar3 / DAT_BATTLE_BIN__80096128;
  if (bVar1 == 1) {
    iVar7 = -0xe000 / iVar7;
    *(undefined *)(param_1 + 0x7f) = 0x1e;
    *(undefined2 *)(param_1 + 0x70) = 0x400;
    *(undefined4 *)(param_1 + 0x30) = 0;
    cVar2 = (*(char *)(param_1 + 0x7c) + -1) - (*pbVar6 & 3);
  }
  else {
    if (1 < bVar1) {
      if (bVar1 == 2) {
        iVar7 = -0xe000 / iVar7;
        *(undefined *)(param_1 + 0x7f) = 0x12;
        *(undefined2 *)(param_1 + 0x70) = 0;
        *(undefined4 *)(param_1 + 0x28) = 0;
        cVar2 = (*(char *)(param_1 + 0x7d) + -1) - (*pbVar6 & 3);
      }
      else {
        if (bVar1 != 3) goto LAB_BATTLE_BIN__8006ac9c;
        iVar7 = 0xe000 / iVar7;
        *(undefined *)(param_1 + 0x7f) = 0x1a;
        *(undefined2 *)(param_1 + 0x70) = 0x800;
        *(undefined4 *)(param_1 + 0x28) = 0;
        cVar2 = *(char *)(param_1 + 0x7d) + '\x01' + (*pbVar6 & 3);
      }
      *(char *)(param_1 + 0x81) = cVar2;
      *(int *)(param_1 + 0x30) = iVar7;
      goto LAB_BATTLE_BIN__8006ac9c;
    }
    if (bVar1 != 0) goto LAB_BATTLE_BIN__8006ac9c;
    iVar7 = 0xe000 / iVar7;
    *(undefined *)(param_1 + 0x7f) = 0x16;
    *(undefined2 *)(param_1 + 0x70) = 0xc00;
    *(undefined4 *)(param_1 + 0x30) = 0;
    cVar2 = *(char *)(param_1 + 0x7c) + '\x01' + (*pbVar6 & 3);
  }
  *(char *)(param_1 + 0x80) = cVar2;
  *(int *)(param_1 + 0x28) = iVar7;
LAB_BATTLE_BIN__8006ac9c:
  sVar4 = 0x30;
  if ((*(uint *)(param_1 + 0x80) & 0x8000000) != 0) {
    sVar4 = 0x31;
  }
  FUN_BATTLE_BIN__80081978(sVar4,*(undefined2 *)(param_1 + 0x70),param_1);
  *(uint *)(param_1 + 0x80) =
       *(uint *)(param_1 + 0x80) & 0xf7ffffff | (*(uint *)(param_1 + 0x80) >> 0x1b & 1 ^ 1) << 0x1b;
  *(byte *)(param_1 + 0x82) = *pbVar6 >> 5 & 1;
  return;
}



void FUN_BATTLE_BIN__8006ad18(int param_1,undefined4 param_2,int param_3)

{
  byte bVar1;
  long lVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  
  lVar2 = SquareRoot12(((((uint)*(byte *)(param_3 + 2) * 2 +
                          (*(byte *)(param_3 + 3) & 0x1f) * (uint)*(byte *)(param_1 + 0x96) + 2) -
                        -(int)*(short *)(param_1 + 0x42) / 6) +
                       ((*(byte *)(param_1 + 0x11c) & 3) + 1) * 2) * 6 * DAT_BATTLE_BIN__80096128 *
                       2);
  iVar4 = lVar2 / DAT_BATTLE_BIN__80096128;
  iVar5 = ((*(byte *)(param_1 + 0x11c) & 3) + 1) * 0xc * DAT_BATTLE_BIN__80096128;
  *(long *)(param_1 + 0x2c) = -lVar2;
  lVar2 = SquareRoot12(iVar5 * 2);
  iVar4 = iVar4 + lVar2 / DAT_BATTLE_BIN__80096128;
  bVar1 = *(byte *)(param_1 + 0x11c) >> 6;
  if (bVar1 == 1) {
    iVar4 = -0xe000 / iVar4;
    *(undefined *)(param_1 + 0x7f) = 0x39;
    *(undefined2 *)(param_1 + 0x70) = 0x400;
    *(undefined4 *)(param_1 + 0x30) = 0;
    cVar3 = (*(char *)(param_1 + 0x7c) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
  }
  else {
    if (1 < bVar1) {
      if (bVar1 == 2) {
        iVar4 = -0xe000 / iVar4;
                    // Possible PsyQ macro: setPolyFT4() + setShadeTex(polyFT4, 1)
        *(undefined *)(param_1 + 0x7f) = 0x2d;
        *(undefined2 *)(param_1 + 0x70) = 0;
        *(undefined4 *)(param_1 + 0x28) = 0;
        cVar3 = (*(char *)(param_1 + 0x7d) + -1) - (*(byte *)(param_1 + 0x11c) & 3);
      }
      else {
        if (bVar1 != 3) goto LAB_BATTLE_BIN__8006af4c;
        iVar4 = 0xe000 / iVar4;
        *(undefined *)(param_1 + 0x7f) = 0x35;
        *(undefined2 *)(param_1 + 0x70) = 0x800;
        *(undefined4 *)(param_1 + 0x28) = 0;
        cVar3 = *(char *)(param_1 + 0x7d) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
      }
      *(char *)(param_1 + 0x81) = cVar3;
      *(int *)(param_1 + 0x30) = iVar4;
      goto LAB_BATTLE_BIN__8006af4c;
    }
    if (bVar1 != 0) goto LAB_BATTLE_BIN__8006af4c;
    iVar4 = 0xe000 / iVar4;
    *(undefined *)(param_1 + 0x7f) = 0x31;
    *(undefined2 *)(param_1 + 0x70) = 0xc00;
    *(undefined4 *)(param_1 + 0x30) = 0;
    cVar3 = *(char *)(param_1 + 0x7c) + '\x01' + (*(byte *)(param_1 + 0x11c) & 3);
  }
  *(char *)(param_1 + 0x80) = cVar3;
  *(int *)(param_1 + 0x28) = iVar4;
LAB_BATTLE_BIN__8006af4c:
  *(byte *)(param_1 + 0x82) = *(byte *)(param_1 + 0x11c) >> 5 & 1;
  return;
}



void FUN_BATTLE_BIN__8006af7c(int *param_1)

{
  short sVar1;
  undefined1 *puVar2;
  int *piVar3;
  ushort uVar4;
  int iVar5;
  ushort uVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  
  iVar7 = (param_1[6] + param_1[10]) / 0x1c000;
  uVar6 = (ushort)iVar7;
  iVar5 = (param_1[8] + param_1[0xc]) / 0x1c000;
  uVar4 = (ushort)iVar5;
  uVar9 = (uint)*(byte *)((int)param_1 + 0x7e);
  if (((iVar7 * 0x10000 >> 0x10 == (uint)*(byte *)(param_1 + 0x20)) &&
      (iVar5 * 0x10000 >> 0x10 == (uint)*(byte *)((int)param_1 + 0x81))) &&
     (*(char *)((int)param_1 + 0x7e) != *(char *)((int)param_1 + 0x82))) {
    uVar9 = (uint)*(byte *)((int)param_1 + 0x82);
    *(byte *)((int)param_1 + 0x7e) = *(byte *)((int)param_1 + 0x82);
  }
  switch(*(undefined *)((int)param_1 + 0x7f)) {
  case 2:
  case 4:
  case 6:
  case 8:
    if (((uVar6 == *(byte *)(param_1 + 0x20)) && (uVar4 == *(byte *)((int)param_1 + 0x81))) &&
       (*(char *)((int)param_1 + 0x7e) != *(char *)((int)param_1 + 0x82))) {
      uVar9 = (uint)*(byte *)((int)param_1 + 0x82);
      *(byte *)((int)param_1 + 0x7e) = *(byte *)((int)param_1 + 0x82);
      puVar2 = FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
      FUN_BATTLE_BIN__80069af8
                ((int)param_1,(byte *)(param_1 + 0x47),(int)puVar2,
                 (uint)*(byte *)((int)param_1 + 0x96));
      iVar7 = param_1[0xe];
LAB_BATTLE_BIN__8006b160:
      FUN_BATTLE_BIN__80069dfc((int)param_1,iVar7);
    }
    break;
  case 10:
  case 0xc:
  case 0xe:
  case 0x10:
    if (((uVar6 == *(byte *)(param_1 + 0x20)) && (uVar4 == *(byte *)((int)param_1 + 0x81))) &&
       (*(char *)((int)param_1 + 0x7e) != *(char *)((int)param_1 + 0x82))) {
      uVar9 = (uint)*(byte *)((int)param_1 + 0x82);
      *(byte *)((int)param_1 + 0x7e) = *(byte *)((int)param_1 + 0x82);
      puVar2 = FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
      FUN_BATTLE_BIN__80069af8
                ((int)param_1,(byte *)(param_1 + 0x47),(int)puVar2,
                 (uint)*(byte *)((int)param_1 + 0x96));
      iVar7 = param_1[0xf];
      goto LAB_BATTLE_BIN__8006b160;
    }
  }
  param_1[6] = param_1[6] + param_1[10];
  iVar7 = param_1[6];
  param_1[8] = param_1[8] + param_1[0xc];
  if (iVar7 < 0) {
    iVar7 = iVar7 + 0xfff;
  }
  iVar5 = param_1[8];
  *(short *)(param_1 + 0x10) = (short)(iVar7 >> 0xc);
  if (iVar5 < 0) {
    iVar5 = iVar5 + 0xfff;
  }
  *(short *)(param_1 + 0x11) = (short)(iVar5 >> 0xc);
  iVar7 = FUN_BATTLE_BIN__8007d3f4(param_1);
  iVar5 = FUN_BATTLE_BIN__8007d350(param_1);
  sVar1 = (short)iVar7;
  switch(*(undefined *)((int)param_1 + 0x7f)) {
  case 1:
  case 3:
  case 5:
  case 7:
    param_1[7] = param_1[7] + param_1[0xb];
    puVar2 = FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    iVar5 = (int)sVar1;
    if (iVar7 >> 0xc <= -iVar5) {
      param_1[7] = iVar5 << 0xc;
      FUN_BATTLE_BIN__800699f4
                ((int)param_1,(byte *)(param_1 + 0x47),(int)puVar2,
                 (uint)*(byte *)((int)param_1 + 0x97));
      goto LAB_BATTLE_BIN__8006b894;
    }
    if (iVar7 >> 0xc < -iVar5 + 6) {
      param_1[7] = iVar5 << 0xc;
    }
    else if (param_1[0xb] < 0x8000) {
      param_1[0xb] = param_1[0xb] + DAT_BATTLE_BIN__80096128;
    }
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    if (iVar7 >> 0xc < 0x2a - sVar1) break;
    *(undefined *)((int)param_1 + 0x7f) = 0x1a;
LAB_BATTLE_BIN__8006b608:
    if (DAT_BATTLE_BIN__800960e4 != 0x2d) {
      FUN_BATTLE_BIN__80081978(0x1f,*(undefined2 *)(param_1 + 0x1c),(int)param_1);
    }
    break;
  case 2:
  case 4:
  case 6:
  case 8:
    param_1[7] = param_1[7] + param_1[0xb];
    puVar2 = FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    iVar10 = (int)sVar1;
    iVar8 = -iVar10;
    if (iVar7 >> 0xc <= iVar8) {
      param_1[7] = iVar10 << 0xc;
      FUN_BATTLE_BIN__80069af8
                ((int)param_1,(byte *)(param_1 + 0x47),(int)puVar2,
                 (uint)*(byte *)((int)param_1 + 0x96));
      FUN_BATTLE_BIN__80069dfc((int)param_1,param_1[0xe]);
    }
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    if (iVar8 < iVar7 >> 0xc) {
      if (iVar7 >> 0xc < iVar8 + 6) {
        param_1[7] = iVar10 << 0xc;
      }
      else {
LAB_BATTLE_BIN__8006b5a4:
        if (param_1[0xb] < 0x8000) {
          param_1[0xb] = param_1[0xb] + DAT_BATTLE_BIN__80096128;
        }
      }
LAB_BATTLE_BIN__8006b5cc:
      iVar7 = -param_1[7];
      if (0 < param_1[7]) {
        iVar7 = iVar7 + 0xfff;
      }
      if (0x2a - (short)iVar5 <= iVar7 >> 0xc) {
        *(undefined *)((int)param_1 + 0x7f) = 0x1b;
        goto LAB_BATTLE_BIN__8006b608;
      }
    }
    break;
  case 9:
  case 0xb:
  case 0xd:
  case 0xf:
    param_1[7] = param_1[7] + param_1[0xb];
    puVar2 = FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    iVar5 = (int)sVar1;
    if (iVar7 >> 0xc <= -iVar5) {
      param_1[7] = iVar5 << 0xc;
      if (param_1[0xf] < 0x8000) {
        param_1[0xf] = param_1[0xf] + DAT_BATTLE_BIN__80096128;
      }
      FUN_BATTLE_BIN__800699f4
                ((int)param_1,(byte *)(param_1 + 0x47),(int)puVar2,
                 (uint)*(byte *)((int)param_1 + 0x97));
      iVar7 = param_1[0xf];
      goto LAB_BATTLE_BIN__8006b898;
    }
    if (iVar7 >> 0xc < -iVar5 + 6) {
      param_1[7] = iVar5 << 0xc;
    }
    else if (param_1[0xb] < 0x8000) {
      param_1[0xb] = param_1[0xb] + DAT_BATTLE_BIN__80096128;
    }
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    if (0x2a - sVar1 <= iVar7 >> 0xc) {
      *(undefined *)((int)param_1 + 0x7f) = 0x1a;
      goto LAB_BATTLE_BIN__8006b608;
    }
    break;
  case 10:
  case 0xc:
  case 0xe:
  case 0x10:
    param_1[7] = param_1[7] + param_1[0xb];
    puVar2 = FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    if (iVar7 >> 0xc <= -(int)sVar1) {
      param_1[7] = (int)sVar1 << 0xc;
      if (param_1[0xf] < 0x8000) {
        param_1[0xf] = param_1[0xf] + DAT_BATTLE_BIN__80096128;
      }
      FUN_BATTLE_BIN__80069af8
                ((int)param_1,(byte *)(param_1 + 0x47),(int)puVar2,
                 (uint)*(byte *)((int)param_1 + 0x96));
      FUN_BATTLE_BIN__80069dfc((int)param_1,param_1[0xf]);
    }
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    iVar8 = -(int)sVar1;
    if (iVar8 < iVar7 >> 0xc) {
      if (iVar8 + 6 <= iVar7 >> 0xc) goto LAB_BATTLE_BIN__8006b5a4;
      param_1[7] = (int)sVar1 << 0xc;
      goto LAB_BATTLE_BIN__8006b5cc;
    }
    break;
  default:
    goto switchD_BATTLE_BIN__8006b1f0_caseD_11;
  case 0x12:
  case 0x13:
  case 0x16:
  case 0x17:
  case 0x1a:
  case 0x1b:
  case 0x1e:
  case 0x1f:
  case 0x2d:
  case 0x31:
  case 0x35:
  case 0x39:
    if (param_1[0xb] < 0x8000) {
      param_1[0xb] = param_1[0xb] + DAT_BATTLE_BIN__80096128;
    }
    iVar7 = param_1[7] + param_1[0xb];
    param_1[7] = iVar7;
    if (0 < param_1[0xb]) {
      iVar5 = -iVar7;
      if (0 < iVar7) {
        iVar5 = iVar5 + 0xfff;
      }
      if (iVar5 >> 0xc < -(int)sVar1) {
        param_1[7] = (int)sVar1 << 0xc;
      }
    }
    break;
  case 0x22:
  case 0x24:
  case 0x26:
  case 0x28:
    param_1[7] = param_1[7] + param_1[0xb];
    FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    if (iVar7 >> 0xc <= -(int)sVar1) {
      param_1[7] = (int)sVar1 << 0xc;
      FUN_BATTLE_BIN__800694d8((int)param_1,(byte *)(param_1 + 0x27),(byte *)(param_1 + 0x47));
      goto LAB_BATTLE_BIN__8006b894;
    }
    break;
  case 0x23:
  case 0x25:
  case 0x27:
  case 0x29:
    param_1[7] = param_1[7] + param_1[0xb];
    FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    if (iVar7 >> 0xc <= -(int)sVar1) {
      param_1[7] = (int)sVar1 << 0xc;
      FUN_BATTLE_BIN__80069744((int)param_1,(byte *)(param_1 + 0x27),(byte *)(param_1 + 0x47));
      goto LAB_BATTLE_BIN__8006b894;
    }
    break;
  case 0x2b:
  case 0x2f:
  case 0x33:
  case 0x37:
    param_1[7] = param_1[7] + param_1[0xb];
    puVar2 = FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    if (iVar7 >> 0xc <= -(int)sVar1) {
      param_1[7] = (int)sVar1 << 0xc;
      FUN_BATTLE_BIN__80069bf8
                ((int)param_1,(byte *)(param_1 + 0x47),(int)puVar2,
                 (uint)*(byte *)((int)param_1 + 0x96));
      goto LAB_BATTLE_BIN__8006b894;
    }
LAB_BATTLE_BIN__8006b788:
    if (param_1[0xb] < 0x2000) {
      param_1[0xb] = param_1[0xb] + DAT_BATTLE_BIN__80096128;
    }
    break;
  case 0x2c:
  case 0x30:
  case 0x34:
  case 0x38:
    param_1[7] = param_1[7] + param_1[0xb];
    puVar2 = FUN_BATTLE_BIN__80183fb4((int)(short)uVar6,(int)(short)uVar4,uVar9);
    iVar7 = -param_1[7];
    if (0 < param_1[7]) {
      iVar7 = iVar7 + 0xfff;
    }
    if (-(int)sVar1 < iVar7 >> 0xc) goto LAB_BATTLE_BIN__8006b788;
    param_1[7] = (int)sVar1 << 0xc;
    FUN_BATTLE_BIN__80069cfc
              ((int)param_1,(byte *)(param_1 + 0x47),(int)puVar2,
               (uint)*(byte *)((int)param_1 + 0x96));
LAB_BATTLE_BIN__8006b894:
    iVar7 = param_1[0xe];
LAB_BATTLE_BIN__8006b898:
    FUN_BATTLE_BIN__80069dfc((int)param_1,iVar7);
  }
  *(byte *)((int)param_1 + 0x299) = *(byte *)((int)param_1 + 0x299) | 1;
switchD_BATTLE_BIN__8006b1f0_caseD_11:
  FUN_BATTLE_BIN__8008957c((int)param_1);
  if ((*(char *)(param_1 + 0x4c) == '\x02') &&
     (piVar3 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)param_1 + 0x131)),
     piVar3 != (int *)0x0)) {
    iVar7 = param_1[0x11];
    piVar3[0x10] = param_1[0x10];
    piVar3[0x11] = iVar7;
    *(short *)((int)piVar3 + 0x42) = *(short *)((int)piVar3 + 0x42) + -10;
    iVar7 = param_1[7];
    iVar5 = param_1[8];
    iVar8 = param_1[9];
    piVar3[6] = param_1[6];
    piVar3[7] = iVar7;
    piVar3[8] = iVar5;
    piVar3[9] = iVar8;
    piVar3[7] = piVar3[7] + -0xa000;
  }
  return;
}



void FUN_BATTLE_BIN__8006b960(int param_1,MusicDataHeader *param_2)

{
  if ((*(uint *)(param_1 + 0x80) & 0x2000000) == 0) {
    Call_Play_SoundEffect(param_2);
  }
  return;
}



void FUN_BATTLE_BIN__8006b994(int param_1)

{
  byte *pbVar1;
  MusicDataHeader *pMVar2;
  
  if (((*(uint *)(param_1 + 0x80) & 0x2000000) == 0) &&
     (pbVar1 = FUN_BATTLE_BIN__80183fb4
                         ((uint)*(byte *)(param_1 + 0x80),(uint)*(byte *)(param_1 + 0x81),
                          (uint)*(byte *)(param_1 + 0x82)), pbVar1 != (byte *)0x0)) {
    switch(*pbVar1 & 0x3f) {
    case 3:
    case 4:
    case 0x1d:
      pMVar2 = (MusicDataHeader *)0x28;
      break;
    default:
      pMVar2 = (MusicDataHeader *)0x29;
      break;
    case 9:
    case 10:
    case 0xb:
    case 0xe:
    case 0xf:
    case 0x10:
    case 0x11:
    case 0x2d:
      pMVar2 = (MusicDataHeader *)0x23;
      break;
    case 0x14:
    case 0x1e:
    case 0x1f:
      pMVar2 = (MusicDataHeader *)0x3a;
    }
    Call_Play_SoundEffect(pMVar2);
  }
  return;
}



void FUN_BATTLE_BIN__8006ba38(int param_1)

{
  byte *pbVar1;
  
  if (((*(uint *)(param_1 + 0x80) & 0x2000000) == 0) &&
     (pbVar1 = FUN_BATTLE_BIN__80183fb4
                         ((uint)*(byte *)(param_1 + 0x80),(uint)*(byte *)(param_1 + 0x81),
                          (uint)*(byte *)(param_1 + 0x82)), pbVar1 != (byte *)0x0)) {
    switch(*pbVar1 & 0x3f) {
    case 1:
    case 2:
    case 6:
    case 7:
    case 8:
    case 0xc:
    case 0xd:
    case 0x13:
    case 0x14:
    case 0x15:
    case 0x16:
    case 0x17:
    case 0x1a:
    case 0x1b:
    case 0x1e:
    case 0x1f:
    case 0x20:
    case 0x21:
    case 0x22:
    case 0x23:
    case 0x25:
    case 0x28:
    case 0x29:
    case 0x2a:
    case 0x2c:
    case 0x2e:
      FUN_BATTLE_BIN__80068b14(param_1);
      break;
    case 9:
    case 10:
    case 0xb:
    case 0xe:
    case 0xf:
    case 0x10:
    case 0x11:
    case 0x2d:
      FUN_BATTLE_BIN__80068af4(param_1);
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006bad8(int param_1,undefined4 *param_2,undefined4 *param_3)

{
  byte bVar1;
  byte bVar2;
  undefined1 *puVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  
  bVar1 = *(byte *)(param_1 + 0x11c);
  uVar7 = (uint)bVar1;
  puVar3 = FUN_BATTLE_BIN__80183fb4
                     ((uint)*(byte *)(param_1 + 0x7c),(uint)*(byte *)(param_1 + 0x7d),
                      (uint)*(byte *)(param_1 + 0x7e));
  bVar2 = bVar1 >> 6;
  *param_2 = puVar3;
  if (bVar2 == 1) {
    uVar6 = bVar1 >> 5 & 1;
    uVar5 = (uint)*(byte *)(param_1 + 0x7d);
    uVar4 = (*(byte *)(param_1 + 0x7c) - 1) - (uVar7 & 3);
  }
  else if (bVar2 < 2) {
    if (bVar2 != 0) {
      return;
    }
    uVar6 = bVar1 >> 5 & 1;
    uVar5 = (uint)*(byte *)(param_1 + 0x7d);
    uVar4 = *(byte *)(param_1 + 0x7c) + 1 + (uVar7 & 3);
  }
  else if (bVar2 == 2) {
    uVar6 = bVar1 >> 5 & 1;
    uVar4 = (uint)*(byte *)(param_1 + 0x7c);
    uVar5 = (*(byte *)(param_1 + 0x7d) - 1) - (uVar7 & 3);
  }
  else {
    if (bVar2 != 3) {
      return;
    }
    uVar6 = bVar1 >> 5 & 1;
    uVar4 = (uint)*(byte *)(param_1 + 0x7c);
    uVar5 = *(byte *)(param_1 + 0x7d) + 1 + (uVar7 & 3);
  }
  puVar3 = FUN_BATTLE_BIN__80183fb4(uVar4,uVar5,uVar6);
  *param_3 = puVar3;
  return;
}



void FUN_BATTLE_BIN__8006bbfc(int *param_1)

{
  uint uVar1;
  int *piVar2;
  
  if (param_1[0x4d] != 0) {
    uVar1 = (uint)*(short *)(param_1 + 0x1c);
    if ((int)uVar1 < 0) {
      uVar1 = uVar1 + 0x3ff;
    }
    FUN_BATTLE_BIN__8017fddc
              ((uint)*(byte *)(param_1[0x4d] + 0x18a),*(byte *)(param_1 + 0x1f),
               *(byte *)((int)param_1 + 0x7d),(uint)*(byte *)((int)param_1 + 0x7e),
               (byte)(uVar1 >> 10));
    if ((*(char *)(param_1 + 0x4c) != '\0') &&
       (piVar2 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 1)), param_1[0x4d] != 0)) {
      uVar1 = (uint)*(short *)(param_1 + 0x1c);
      if ((int)uVar1 < 0) {
        uVar1 = uVar1 + 0x3ff;
      }
      FUN_BATTLE_BIN__8017fddc
                ((uint)*(byte *)(piVar2[0x4d] + 0x18a),*(byte *)(param_1 + 0x1f),
                 *(byte *)((int)param_1 + 0x7d),(uint)*(byte *)((int)param_1 + 0x7e),
                 (byte)(uVar1 >> 10));
    }
  }
  FUN_BATTLE_BIN__80081b0c(param_1);
  FUN_BATTLE_BIN__8007d3f4(param_1);
  FUN_BATTLE_BIN__800683e4((int)param_1);
  *(undefined *)(param_1 + 0x27) = 0;
  FUN_BATTLE_BIN__80082eec((int)param_1);
  return;
}



void FUN_BATTLE_BIN__8006bce4(int *param_1)

{
  int *piVar1;
  int *piVar2;
  
  FUN_BATTLE_BIN__8006bbfc(param_1);
  if ((*(byte *)((int)param_1 + 0x11b) & 0x80) == 0) {
    piVar1 = (int *)FUN_BATTLE_BIN__8007a4f4
                              ((uint)*(byte *)(param_1 + 0x1f),(uint)*(byte *)((int)param_1 + 0x7d),
                               (uint)*(byte *)((int)param_1 + 0x7e));
    if (piVar1 == (int *)0x0) {
      if (*(char *)(param_1 + 0x4c) != '\x02') {
        return;
      }
      piVar2 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)param_1 + 0x131));
      piVar1 = param_1;
      if (piVar2 == (int *)0x0) {
        return;
      }
    }
    else {
      piVar2 = param_1;
      if (piVar1 == param_1) {
        return;
      }
    }
    FUN_BATTLE_BIN__80069130((int)piVar2,(int)piVar1);
  }
  else {
    piVar1 = FUN_BATTLE_BIN__8007a724(*(byte *)((int)param_1 + 0x11b) & 0x7f);
    if (piVar1 != (int *)0x0) {
      FUN_BATTLE_BIN__80069130((int)param_1,(int)piVar1);
      FUN_BATTLE_BIN__8006b960((int)param_1,(MusicDataHeader *)0x29);
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006bda8(int *param_1,short param_2,short param_3,short param_4)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = (uint)(ushort)param_4;
  if ((param_1[0x50] & 4U) != 0) {
    return;
  }
  if ((param_1[0x51] & 0x49U) != 0) {
    return;
  }
  if (DAT_BATTLE_BIN__80096240 == 1) {
LAB_BATTLE_BIN__8006be44:
    *(short *)(param_1 + 0x10) = (short)((ushort)param_2 + uVar2);
    param_1[6] = (int)(((ushort)param_2 + uVar2) * 0x10000) >> 4;
  }
  else {
    if (DAT_BATTLE_BIN__80096240 < 2) {
      uVar2 = -uVar2;
      if (DAT_BATTLE_BIN__80096240 != 0) goto LAB_BATTLE_BIN__8006be54;
    }
    else if (DAT_BATTLE_BIN__80096240 != 2) {
      uVar2 = -uVar2;
      if (DAT_BATTLE_BIN__80096240 != 3) goto LAB_BATTLE_BIN__8006be54;
      goto LAB_BATTLE_BIN__8006be44;
    }
    *(short *)(param_1 + 0x11) = (short)((ushort)param_3 + uVar2);
    param_1[8] = (int)(((ushort)param_3 + uVar2) * 0x10000) >> 4;
  }
LAB_BATTLE_BIN__8006be54:
  iVar1 = FUN_BATTLE_BIN__8007d3f4(param_1);
  *(short *)((int)param_1 + 0x42) = (short)iVar1;
  param_1[7] = (iVar1 << 0x10) >> 4;
  *(byte *)((int)param_1 + 0x299) = *(byte *)((int)param_1 + 0x299) | 1;
  return;
}



void FUN_BATTLE_BIN__8006be8c(int *param_1,int param_2)

{
  byte bVar1;
  short sVar2;
  bool bVar3;
  int *piVar4;
  int unaff_s1;
  int iVar5;
  
  piVar4 = FUN_BATTLE_BIN__8007a5d0
                     (param_1,(uint)*(byte *)(param_1 + 0x1f),(uint)*(byte *)((int)param_1 + 0x7d),
                      (uint)*(byte *)((int)param_1 + 0x7e));
  if ((uint)param_1[0x26] < 2) {
    return;
  }
  if ((*(byte *)((int)param_1 + param_1[0x26] + 0x9bU) >> 4 & 1) != 0) {
    return;
  }
  if (piVar4 == (int *)0x0) {
    return;
  }
  if (param_2 == 1) {
    bVar1 = *(byte *)(param_1 + 0x1f);
    sVar2 = *(short *)(param_1 + 0x10);
LAB_BATTLE_BIN__8006bfd0:
    unaff_s1 = (int)sVar2 - ((uint)bVar1 * 0x1c + 0xe);
  }
  else {
    if (param_2 < 2) {
      bVar3 = unaff_s1 < 8;
      if (param_2 != 0) goto LAB_BATTLE_BIN__8006bfdc;
      bVar1 = *(byte *)((int)param_1 + 0x7d);
      sVar2 = *(short *)(param_1 + 0x11);
    }
    else {
      if (param_2 == 2) {
        bVar1 = *(byte *)((int)param_1 + 0x7d);
        sVar2 = *(short *)(param_1 + 0x11);
        goto LAB_BATTLE_BIN__8006bfd0;
      }
      bVar3 = unaff_s1 < 8;
      if (param_2 != 3) goto LAB_BATTLE_BIN__8006bfdc;
      bVar1 = *(byte *)(param_1 + 0x1f);
      sVar2 = *(short *)(param_1 + 0x10);
    }
    unaff_s1 = ((uint)bVar1 * 0x1c + 0xe) - (int)sVar2;
  }
  bVar3 = unaff_s1 < 8;
LAB_BATTLE_BIN__8006bfdc:
  iVar5 = unaff_s1 + -7;
  if (!bVar3) {
    iVar5 = 0;
  }
  FUN_BATTLE_BIN__8006bda8
            (piVar4,(ushort)*(byte *)(piVar4 + 0x1f) * 0x1c + 0xe,
             (ushort)*(byte *)((int)piVar4 + 0x7d) * 0x1c + 0xe,(short)((iVar5 * -3) / 2));
  return;
}



void FUN_BATTLE_BIN__8006c024(int *param_1,uint param_2)

{
  byte bVar1;
  short sVar2;
  bool bVar3;
  uint uVar4;
  int *piVar5;
  int unaff_s1;
  int iVar6;
  uint unaff_s3;
  
  if (param_1[0x26] == (uint)*(byte *)(param_1 + 0x27)) {
    return;
  }
  piVar5 = FUN_BATTLE_BIN__8007a5d0
                     (param_1,(uint)*(byte *)(param_1 + 0x20),(uint)*(byte *)((int)param_1 + 0x81),
                      (uint)*(byte *)((int)param_1 + 0x82));
  if (param_1[0x26] == 0) {
    return;
  }
  if ((*(byte *)((int)param_1 + param_1[0x26] + 0x9c) >> 4 & 1) != 0) {
    return;
  }
  if (piVar5 == (int *)0x0) {
    return;
  }
  if (param_2 == 1) {
    bVar1 = *(byte *)(param_1 + 0x20);
    sVar2 = *(short *)(param_1 + 0x10);
LAB_BATTLE_BIN__8006c17c:
    unaff_s1 = ((uint)bVar1 * 0x1c + 0xe) - (int)sVar2;
  }
  else {
    if ((int)param_2 < 2) {
      bVar3 = unaff_s1 < 8;
      if (param_2 != 0) goto LAB_BATTLE_BIN__8006c188;
      bVar1 = *(byte *)((int)param_1 + 0x81);
      sVar2 = *(short *)(param_1 + 0x11);
    }
    else {
      if (param_2 == 2) {
        bVar1 = *(byte *)((int)param_1 + 0x81);
        sVar2 = *(short *)(param_1 + 0x11);
        goto LAB_BATTLE_BIN__8006c17c;
      }
      bVar3 = unaff_s1 < 8;
      if (param_2 != 3) goto LAB_BATTLE_BIN__8006c188;
      bVar1 = *(byte *)(param_1 + 0x20);
      sVar2 = *(short *)(param_1 + 0x10);
    }
    unaff_s1 = (int)sVar2 - ((uint)bVar1 * 0x1c + 0xe);
  }
  bVar3 = unaff_s1 < 8;
LAB_BATTLE_BIN__8006c188:
  iVar6 = unaff_s1 + -7;
  if (!bVar3) {
    iVar6 = 0;
  }
  bVar1 = *(byte *)((int)param_1 + param_1[0x26] + 0x9d) >> 6;
  if (bVar1 == 1) {
    unaff_s3 = 3;
  }
  else if (bVar1 < 2) {
    if (bVar1 == 0) {
      unaff_s3 = 1;
    }
  }
  else if (bVar1 == 2) {
    unaff_s3 = 0;
  }
  else if (bVar1 == 3) {
    unaff_s3 = 2;
  }
  DAT_BATTLE_BIN__80096240 = 0;
  do {
    uVar4 = param_2 ^ 2;
    if (param_2 == unaff_s3) {
      uVar4 = unaff_s3;
    }
  } while (((DAT_BATTLE_BIN__80096240 == uVar4) || (DAT_BATTLE_BIN__80096240 == (unaff_s3 ^ 2))) &&
          (DAT_BATTLE_BIN__80096240 = DAT_BATTLE_BIN__80096240 + 1,
          (int)DAT_BATTLE_BIN__80096240 < 4));
  FUN_BATTLE_BIN__8006bda8
            (piVar5,(ushort)*(byte *)(piVar5 + 0x20) * 0x1c + 0xe,
             (ushort)*(byte *)((int)piVar5 + 0x81) * 0x1c + 0xe,(short)((iVar6 * -3) / 2));
  return;
}



undefined4 FUN_BATTLE_BIN__8006c2bc(int param_1)

{
  undefined4 uVar1;
  
  if (*(byte *)(param_1 + 0x7d) < *(byte *)(param_1 + 0x81)) {
    uVar1 = 2;
  }
  else {
    uVar1 = 0;
    if (*(byte *)(param_1 + 0x7d) <= *(byte *)(param_1 + 0x81)) {
      if (*(byte *)(param_1 + 0x80) < *(byte *)(param_1 + 0x7c)) {
        uVar1 = 3;
      }
      else {
        uVar1 = 2;
        if (*(byte *)(param_1 + 0x7c) < *(byte *)(param_1 + 0x80)) {
          uVar1 = 1;
        }
      }
    }
  }
  return uVar1;
}



void FUN_BATTLE_BIN__8006c320(int param_1)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__8006c2bc(param_1);
  if ((DAT_BATTLE_BIN__8009621c >> 3 & 1) == 0) {
    FUN_BATTLE_BIN__8006a20c(param_1,DAT_BATTLE_BIN__80096220,(short)DAT_BATTLE_BIN__80096224);
    *(undefined *)(param_1 + 0x7f) = (&DAT_BATTLE_BIN__80093c9c)[iVar1];
  }
  else if ((DAT_BATTLE_BIN__8009621c >> 3 & 1) == 1) {
    FUN_BATTLE_BIN__8006a380(param_1,DAT_BATTLE_BIN__80096220);
    *(undefined *)(param_1 + 0x7f) = (&DAT_BATTLE_BIN__80093ca0)[iVar1];
  }
  return;
}



void FUN_BATTLE_BIN__8006c3d8(int param_1)

{
  if ((*(ushort *)(param_1 + 0x1dc) >> 1 != 0x20) || (*(short *)(param_1 + 0x1e2) == 0)) {
    FUN_BATTLE_BIN__8006c320(param_1);
  }
  return;
}



bool FUN_BATTLE_BIN__8006c41c(int param_1,int param_2)

{
  byte bVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  
  if (param_1 == 1) {
    return (int)((uint)*(byte *)(param_2 + 0x80) * 0x1c + 7) <= (int)*(short *)(param_2 + 0x40);
  }
  if (param_1 < 2) {
    if (param_1 != 0) {
      return param_1 < 2;
    }
    bVar1 = *(byte *)(param_2 + 0x81);
    sVar2 = *(short *)(param_2 + 0x44);
  }
  else {
    if (param_1 == 2) {
      iVar3 = (int)*(short *)(param_2 + 0x44);
      iVar4 = (uint)*(byte *)(param_2 + 0x81) * 0x1c + 7;
      goto LAB_BATTLE_BIN__8006c4c0;
    }
    if (param_1 != 3) {
      return true;
    }
    bVar1 = *(byte *)(param_2 + 0x80);
    sVar2 = *(short *)(param_2 + 0x40);
  }
  iVar4 = (int)sVar2;
  iVar3 = (bVar1 + 1) * 0x1c + -7;
LAB_BATTLE_BIN__8006c4c0:
  return iVar4 <= iVar3;
}



void FUN_BATTLE_BIN__8006c4f8(int *param_1)

{
  bool bVar1;
  uint uVar2;
  undefined3 extraout_var;
  int iVar3;
  undefined1 *puVar4;
  
  FUN_BATTLE_BIN__80084214
            ((int)param_1,(int)(param_1 + 0x76),(uint)*(ushort *)(param_1 + 0x78),
             *(ushort *)(param_1 + 0x77));
  uVar2 = FUN_BATTLE_BIN__8006c2bc((int)param_1);
  FUN_BATTLE_BIN__8006af7c(param_1);
  if (DAT_BATTLE_BIN__800960e4 != 0x34) {
    FUN_BATTLE_BIN__8006c024(param_1,uVar2);
  }
  bVar1 = FUN_BATTLE_BIN__8006c41c(uVar2,(int)param_1);
  if (CONCAT31(extraout_var,bVar1) == 0) {
    return;
  }
  param_1[0xc] = 0;
  param_1[10] = 0;
  iVar3 = FUN_BATTLE_BIN__8007d3f4(param_1);
  DAT_BATTLE_BIN__80096228 = (short)iVar3;
  if (*(short *)((int)param_1 + 0x42) < DAT_BATTLE_BIN__80096228) {
    return;
  }
  if ((*(ushort *)(param_1 + 0x77) >> 1) - 0x30 < 2) {
    if (param_1[0xb] < 0x6000) {
      param_1[0xb] = 0;
      if ((DAT_BATTLE_BIN__8009621c >> 3 & 1) == 0) {
        FUN_BATTLE_BIN__8006a20c
                  ((int)param_1,DAT_BATTLE_BIN__80096220,(short)DAT_BATTLE_BIN__80096224);
        *(undefined *)((int)param_1 + 0x7f) = (&DAT_BATTLE_BIN__80093c9c)[uVar2];
      }
      else if ((DAT_BATTLE_BIN__8009621c >> 3 & 1) == 1) {
        FUN_BATTLE_BIN__8006a380((int)param_1,DAT_BATTLE_BIN__80096220);
        *(undefined *)((int)param_1 + 0x7f) = (&DAT_BATTLE_BIN__80093ca0)[uVar2];
      }
      puVar4 = FUN_BATTLE_BIN__80183fb4
                         ((uint)*(byte *)(param_1 + 0x20),(uint)*(byte *)((int)param_1 + 0x81),
                          (uint)*(byte *)((int)param_1 + 0x82));
      if ((puVar4[3] & 0xe0) == 0) {
        return;
      }
      if ((int)(((uint)(byte)puVar4[2] + (uint)((byte)puVar4[3] >> 5)) * 0xc) <=
          -(int)*(short *)((int)param_1 + 0x42)) {
        return;
      }
      goto LAB_BATTLE_BIN__8006c768;
    }
    param_1[0xb] = 0;
    *(undefined2 *)(param_1 + 2) = 2;
    *(undefined *)((int)param_1 + 0x7f) = (&DAT_BATTLE_BIN__80093ca8)[uVar2];
    if (DAT_BATTLE_BIN__800960e4 != 0x2d) {
      FUN_BATTLE_BIN__80081978(0x20,*(undefined2 *)(param_1 + 0x1c),(int)param_1);
    }
  }
  else {
    param_1[0xb] = 0;
    *(undefined2 *)(param_1 + 2) = 2;
    *(undefined *)((int)param_1 + 0x7f) = (&DAT_BATTLE_BIN__80093ca8)[uVar2];
    if (DAT_BATTLE_BIN__800960e4 != 0x2d) {
      FUN_BATTLE_BIN__80081978(0x20,*(undefined2 *)(param_1 + 0x1c),(int)param_1);
    }
  }
  if ((DAT_BATTLE_BIN__8009621c & 0x10) != 0) {
    FUN_BATTLE_BIN__8006b960((int)param_1,(MusicDataHeader *)0x28);
    return;
  }
LAB_BATTLE_BIN__8006c768:
  FUN_BATTLE_BIN__8006b994((int)param_1);
  FUN_BATTLE_BIN__8006ba38((int)param_1);
  return;
}



void FUN_BATTLE_BIN__8006c790(int *param_1)

{
  int iVar1;
  
  FUN_BATTLE_BIN__80084214
            ((int)param_1,(int)(param_1 + 0x76),(uint)*(ushort *)(param_1 + 0x78),
             *(ushort *)(param_1 + 0x77));
  iVar1 = FUN_BATTLE_BIN__8006c2bc((int)param_1);
  if (DAT_BATTLE_BIN__800960e4 != 0x34) {
    FUN_BATTLE_BIN__8006be8c(param_1,iVar1);
  }
  if (-1 < param_1[0xb]) {
    *(undefined *)((int)param_1 + 0x7f) = (&DAT_BATTLE_BIN__80093ca4)[iVar1];
    *(undefined *)((int)param_1 + 0x7e) = *(undefined *)((int)param_1 + 0x82);
    if (((DAT_BATTLE_BIN__8009621c & 0x10) != 0) &&
       (DAT_BATTLE_BIN__80096234 =
             FUN_BATTLE_BIN__8007a25c
                       ((uint)*(byte *)(param_1 + 0x20),(uint)*(byte *)((int)param_1 + 0x81),
                        (uint)*(byte *)((int)param_1 + 0x82)),
       DAT_BATTLE_BIN__80096234 != (int *)0x0)) {
      *(char *)((int)param_1 + 0x11e) = *(char *)(DAT_BATTLE_BIN__80096234[0x4d] + 0x18a) + '\x01';
      return;
    }
    *(undefined *)((int)param_1 + 0x11e) = 0;
  }
  return;
}



bool FUN_BATTLE_BIN__8006c878(int param_1,int param_2)

{
  byte bVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  
  if (param_1 == 1) {
    return (int)((uint)*(byte *)(param_2 + 0x80) * 0x1c + 0xe) <= (int)*(short *)(param_2 + 0x40);
  }
  if (param_1 < 2) {
    if (param_1 != 0) {
      return param_1 < 2;
    }
    bVar1 = *(byte *)(param_2 + 0x81);
    sVar2 = *(short *)(param_2 + 0x44);
  }
  else {
    if (param_1 == 2) {
      iVar3 = (int)*(short *)(param_2 + 0x44);
      iVar4 = (uint)*(byte *)(param_2 + 0x81) * 0x1c + 0xe;
      goto LAB_BATTLE_BIN__8006c914;
    }
    if (param_1 != 3) {
      return true;
    }
    bVar1 = *(byte *)(param_2 + 0x80);
    sVar2 = *(short *)(param_2 + 0x40);
  }
  iVar4 = (int)sVar2;
  iVar3 = (uint)bVar1 * 0x1c + 0xe;
LAB_BATTLE_BIN__8006c914:
  return iVar4 <= iVar3;
}



void FUN_BATTLE_BIN__8006c94c(int param_1,int param_2)

{
  int iVar1;
  
  if (param_1 == 1) {
    iVar1 = (*(byte *)(param_2 + 0x7c) + 1) * 0x1c + -7;
    *(short *)(param_2 + 0x40) = (short)iVar1;
    iVar1 = iVar1 * 0x10000 >> 4;
  }
  else {
    if (param_1 < 2) {
      if (param_1 != 0) {
        return;
      }
      iVar1 = (uint)*(byte *)(param_2 + 0x7d) * 0x1c + 7;
      *(short *)(param_2 + 0x44) = (short)iVar1;
      *(int *)(param_2 + 0x20) = iVar1 * 0x1000;
      return;
    }
    if (param_1 == 2) {
      iVar1 = (*(byte *)(param_2 + 0x7d) + 1) * 0x1c + -7;
      *(short *)(param_2 + 0x44) = (short)iVar1;
      *(int *)(param_2 + 0x20) = iVar1 * 0x10000 >> 4;
      return;
    }
    if (param_1 != 3) {
      return;
    }
    iVar1 = (uint)*(byte *)(param_2 + 0x7c) * 0x1c + 7;
    *(short *)(param_2 + 0x40) = (short)iVar1;
    iVar1 = iVar1 * 0x1000;
  }
  *(int *)(param_2 + 0x18) = iVar1;
  return;
}



void FUN_BATTLE_BIN__8006ca3c(int param_1,int param_2)

{
  int iVar1;
  
  if (param_1 == 1) {
LAB_BATTLE_BIN__8006caa4:
    iVar1 = (uint)*(byte *)(param_2 + 0x80) * 0x1c + 0xe;
    *(short *)(param_2 + 0x40) = (short)iVar1;
    *(int *)(param_2 + 0x18) = iVar1 * 0x1000;
  }
  else {
    if (param_1 < 2) {
      if (param_1 != 0) {
        return;
      }
    }
    else if (param_1 != 2) {
      if (param_1 != 3) {
        return;
      }
      goto LAB_BATTLE_BIN__8006caa4;
    }
    iVar1 = (uint)*(byte *)(param_2 + 0x81) * 0x1c + 0xe;
    *(short *)(param_2 + 0x44) = (short)iVar1;
    *(int *)(param_2 + 0x20) = iVar1 * 0x1000;
  }
  return;
}



void FUN_BATTLE_BIN__8006cad0(int *param_1)

{
  bool bVar1;
  uint uVar2;
  undefined3 extraout_var;
  int iVar3;
  
  uVar2 = FUN_BATTLE_BIN__8006c2bc((int)param_1);
  FUN_BATTLE_BIN__8006af7c(param_1);
  if (DAT_BATTLE_BIN__800960e4 != 0x34) {
    FUN_BATTLE_BIN__8006c024(param_1,uVar2);
  }
  bVar1 = FUN_BATTLE_BIN__8006c878(uVar2,(int)param_1);
  if (CONCAT31(extraout_var,bVar1) != 0) {
    FUN_BATTLE_BIN__8006ca3c(uVar2,(int)param_1);
    param_1[0xc] = 0;
    param_1[10] = 0;
    iVar3 = FUN_BATTLE_BIN__8007d3f4(param_1);
    DAT_BATTLE_BIN__80096228 = (short)iVar3;
    if (DAT_BATTLE_BIN__80096228 <= *(short *)((int)param_1 + 0x42)) {
      *(undefined *)(param_1 + 0x1f) = *(undefined *)(param_1 + 0x20);
      *(undefined *)((int)param_1 + 0x7d) = *(undefined *)((int)param_1 + 0x81);
      iVar3 = (int)DAT_BATTLE_BIN__80096228;
      param_1[0xb] = 0;
      iVar3 = iVar3 * 0x1000;
      param_1[7] = iVar3;
      if (iVar3 < 0) {
        iVar3 = iVar3 + 0xfff;
      }
      *(short *)((int)param_1 + 0x42) = (short)(iVar3 >> 0xc);
      *(undefined *)((int)param_1 + 0x7f) = 0;
      *(byte *)((int)param_1 + 0x299) = *(byte *)((int)param_1 + 0x299) | 1;
    }
  }
  return;
}



bool FUN_BATTLE_BIN__8006cbb8(int param_1,int param_2)

{
  byte bVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  
  if (param_1 == 1) {
    return (int)((*(byte *)(param_2 + 0x7c) + 1) * 0x1c + -7) <= (int)*(short *)(param_2 + 0x40);
  }
  if (param_1 < 2) {
    if (param_1 != 0) {
      return param_1 < 2;
    }
    bVar1 = *(byte *)(param_2 + 0x7d);
    sVar2 = *(short *)(param_2 + 0x44);
  }
  else {
    if (param_1 == 2) {
      iVar3 = (int)*(short *)(param_2 + 0x44);
      iVar4 = (*(byte *)(param_2 + 0x7d) + 1) * 0x1c + -7;
      goto LAB_BATTLE_BIN__8006cc58;
    }
    if (param_1 != 3) {
      return true;
    }
    bVar1 = *(byte *)(param_2 + 0x7c);
    sVar2 = *(short *)(param_2 + 0x40);
  }
  iVar4 = (int)sVar2;
  iVar3 = (uint)bVar1 * 0x1c + 7;
LAB_BATTLE_BIN__8006cc58:
  return iVar4 <= iVar3;
}



void FUN_BATTLE_BIN__8006cc94(int *param_1)

{
  int iVar1;
  bool bVar2;
  int iVar3;
  undefined3 extraout_var;
  
  iVar3 = FUN_BATTLE_BIN__8006c2bc((int)param_1);
  FUN_BATTLE_BIN__8006af7c(param_1);
  if (DAT_BATTLE_BIN__800960e4 != 0x34) {
    FUN_BATTLE_BIN__8006be8c(param_1,iVar3);
  }
  bVar2 = FUN_BATTLE_BIN__8006cbb8(iVar3,(int)param_1);
  if (CONCAT31(extraout_var,bVar2) != 0) {
    FUN_BATTLE_BIN__8006c94c(iVar3,(int)param_1);
    if ((DAT_BATTLE_BIN__8009621c & 3) == 0) {
      if (*(byte *)((int)param_1 + 0x11e) == 0) {
        DAT_BATTLE_BIN__80096230 =
             *(char *)(DAT_BATTLE_BIN__80096220 + 2) * '\x02' +
             (*(byte *)(DAT_BATTLE_BIN__80096220 + 3) & 0x1f) * *(char *)((int)param_1 + 0x97);
        iVar3 = FUN_BATTLE_BIN__8007cff8((int)param_1,DAT_BATTLE_BIN__80096220);
        DAT_BATTLE_BIN__80096230 = DAT_BATTLE_BIN__80096230 + (char)iVar3;
      }
      else {
        FUN_BATTLE_BIN__8017c158
                  ((undefined4 *)&DAT_BATTLE_BIN__80096238,*(byte *)((int)param_1 + 0x11e) - 1);
        if ((DAT_BATTLE_BIN__8009623b & 0x80) == 0) {
          DAT_BATTLE_BIN__80096230 = DAT_BATTLE_BIN__8009623e;
        }
        else {
          DAT_BATTLE_BIN__80096230 =
               *(char *)(DAT_BATTLE_BIN__80096220 + 2) * '\x02' +
               (*(byte *)(DAT_BATTLE_BIN__80096220 + 3) & 0x1f) * *(char *)((int)param_1 + 0x97);
        }
      }
      if ((DAT_BATTLE_BIN__8009621c & 0x10) == 0) {
        *(undefined *)((int)param_1 + 0x11e) = 0;
        DAT_BATTLE_BIN__8009622c =
             *(char *)(DAT_BATTLE_BIN__80096224 + 2) * '\x02' +
             (*(byte *)(DAT_BATTLE_BIN__80096224 + 3) & 0x1f) * *(char *)((int)param_1 + 0x96);
        iVar3 = FUN_BATTLE_BIN__8007cff8((int)param_1,DAT_BATTLE_BIN__80096224);
        DAT_BATTLE_BIN__80096230 = DAT_BATTLE_BIN__80096230 + (char)iVar3;
      }
      else {
        DAT_BATTLE_BIN__80096234 =
             FUN_BATTLE_BIN__8007a25c
                       ((uint)*(byte *)(param_1 + 0x20),(uint)*(byte *)((int)param_1 + 0x81),
                        (uint)*(byte *)((int)param_1 + 0x82));
        *(char *)((int)param_1 + 0x11e) = *(char *)(DAT_BATTLE_BIN__80096234[0x4d] + 0x18a) + '\x01'
        ;
        FUN_BATTLE_BIN__8017c158
                  ((undefined4 *)&DAT_BATTLE_BIN__80096238,
                   (uint)*(byte *)(DAT_BATTLE_BIN__80096234[0x4d] + 0x18a));
        if ((DAT_BATTLE_BIN__8009623b & 0x80) == 0) {
          DAT_BATTLE_BIN__8009622c = DAT_BATTLE_BIN__8009623e;
        }
        else {
          DAT_BATTLE_BIN__8009622c =
               *(char *)(DAT_BATTLE_BIN__80096224 + 2) * '\x02' +
               (*(byte *)(DAT_BATTLE_BIN__80096224 + 3) & 0x1f) * *(char *)((int)param_1 + 0x96);
        }
      }
      iVar1 = DAT_BATTLE_BIN__80096224;
      iVar3 = DAT_BATTLE_BIN__80096220;
      if (DAT_BATTLE_BIN__80096230 + 1 < (uint)DAT_BATTLE_BIN__8009622c) {
        if (DAT_BATTLE_BIN__80096230 + 7 < (uint)DAT_BATTLE_BIN__8009622c) {
          param_1[0xf] = 0x2000;
          FUN_BATTLE_BIN__8006a7c0((int)param_1,iVar3,iVar1);
          *(undefined *)((int)param_1 + 0x11e) = 0;
        }
        else {
          FUN_BATTLE_BIN__80069254((int)param_1);
          iVar1 = DAT_BATTLE_BIN__80096224;
          iVar3 = DAT_BATTLE_BIN__80096220;
          param_1[0xf] = 0x2000;
          FUN_BATTLE_BIN__8006aa80((int)param_1,iVar3,iVar1);
          *(undefined *)((int)param_1 + 0x11e) = 0;
        }
      }
      else {
        FUN_BATTLE_BIN__800692bc((int)param_1);
        if ((DAT_BATTLE_BIN__8009621c >> 3 & 1) == 0) {
          FUN_BATTLE_BIN__8006a20c
                    ((int)param_1,DAT_BATTLE_BIN__80096220,(short)DAT_BATTLE_BIN__80096224);
          *(undefined *)((int)param_1 + 0x7f) = 6;
        }
        else if ((DAT_BATTLE_BIN__8009621c >> 3 & 1) == 1) {
          FUN_BATTLE_BIN__8006a380((int)param_1,DAT_BATTLE_BIN__80096220);
          *(undefined *)((int)param_1 + 0x7f) = 0xe;
        }
      }
    }
    else {
      param_1[0xf] = 0x2000;
      FUN_BATTLE_BIN__8006a538((int)param_1);
      *(undefined *)((int)param_1 + 0x11e) = 0;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006d060(int *param_1)

{
  int iVar1;
  int iVar2;
  bool bVar3;
  int iVar4;
  undefined3 extraout_var;
  
  iVar4 = FUN_BATTLE_BIN__8006c2bc((int)param_1);
  FUN_BATTLE_BIN__8006af7c(param_1);
  if (DAT_BATTLE_BIN__800960e4 != 0x34) {
    FUN_BATTLE_BIN__8006be8c(param_1,iVar4);
  }
  bVar3 = FUN_BATTLE_BIN__8006cbb8(iVar4,(int)param_1);
  if (CONCAT31(extraout_var,bVar3) != 0) {
    FUN_BATTLE_BIN__8006c94c(iVar4,(int)param_1);
    DAT_BATTLE_BIN__80096230 =
         *(char *)(DAT_BATTLE_BIN__80096220 + 2) * '\x02' +
         (*(byte *)(DAT_BATTLE_BIN__80096220 + 3) & 0x1f) * *(char *)((int)param_1 + 0x97);
    *(undefined *)((int)param_1 + 0x11e) = 0;
    iVar2 = DAT_BATTLE_BIN__80096224;
    iVar1 = DAT_BATTLE_BIN__80096220;
    DAT_BATTLE_BIN__8009622c =
         *(char *)(DAT_BATTLE_BIN__80096224 + 2) * '\x02' +
         (*(byte *)(DAT_BATTLE_BIN__80096224 + 3) & 0x1f) * *(char *)((int)param_1 + 0x96);
    if (DAT_BATTLE_BIN__80096230 + 1 < (uint)DAT_BATTLE_BIN__8009622c) {
      param_1[0xf] = 0x2000;
      FUN_BATTLE_BIN__8006ad18((int)param_1,iVar1,iVar2);
    }
    else {
      FUN_BATTLE_BIN__80069f14((int)param_1,DAT_BATTLE_BIN__80096220);
      *(undefined *)((int)param_1 + 0x7f) = (&DAT_BATTLE_BIN__80093c98)[iVar4];
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006d1a0(int *param_1)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__8006c2bc((int)param_1);
  FUN_BATTLE_BIN__8006af7c(param_1);
  if (DAT_BATTLE_BIN__800960e4 != 0x34) {
    FUN_BATTLE_BIN__8006be8c(param_1,iVar2);
  }
  bVar1 = FUN_BATTLE_BIN__8006c878(iVar2,(int)param_1);
  if (CONCAT31(extraout_var,bVar1) != 0) {
    FUN_BATTLE_BIN__8006ca3c(iVar2,(int)param_1);
    param_1[0xc] = 0;
    param_1[10] = 0;
    iVar2 = FUN_BATTLE_BIN__8007d3f4(param_1);
    DAT_BATTLE_BIN__80096228 = (short)iVar2;
    if (DAT_BATTLE_BIN__80096228 <= *(short *)((int)param_1 + 0x42)) {
      *(undefined *)(param_1 + 0x1f) = *(undefined *)(param_1 + 0x20);
      *(undefined *)((int)param_1 + 0x7d) = *(undefined *)((int)param_1 + 0x81);
      iVar2 = (int)DAT_BATTLE_BIN__80096228;
      param_1[0xb] = 0;
      iVar2 = iVar2 * 0x1000;
      param_1[7] = iVar2;
      if (iVar2 < 0) {
        iVar2 = iVar2 + 0xfff;
      }
      *(short *)((int)param_1 + 0x42) = (short)(iVar2 >> 0xc);
      *(undefined *)((int)param_1 + 0x7f) = 0;
      *(byte *)((int)param_1 + 0x299) = *(byte *)((int)param_1 + 0x299) | 1;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006d288(int *param_1)

{
  int iVar1;
  bool bVar2;
  uint uVar3;
  undefined3 extraout_var;
  int iVar4;
  
  uVar3 = FUN_BATTLE_BIN__8006c2bc((int)param_1);
  FUN_BATTLE_BIN__8006af7c(param_1);
  if (DAT_BATTLE_BIN__800960e4 != 0x34) {
    FUN_BATTLE_BIN__8006c024(param_1,uVar3);
  }
  bVar2 = FUN_BATTLE_BIN__8006c41c(uVar3,(int)param_1);
  if (CONCAT31(extraout_var,bVar2) != 0) {
    param_1[0xc] = 0;
    param_1[10] = 0;
    iVar4 = FUN_BATTLE_BIN__8007d3f4(param_1);
    iVar1 = DAT_BATTLE_BIN__80096220;
    if ((short)iVar4 <= *(short *)((int)param_1 + 0x42)) {
      param_1[0xb] = 0;
      FUN_BATTLE_BIN__80069f14((int)param_1,iVar1);
      *(undefined *)((int)param_1 + 0x7f) = (&DAT_BATTLE_BIN__80093c98)[uVar3];
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006d344(int *param_1)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__8006c2bc((int)param_1);
  FUN_BATTLE_BIN__8006af7c(param_1);
  bVar1 = FUN_BATTLE_BIN__8006cbb8(iVar2,(int)param_1);
  if (CONCAT31(extraout_var,bVar1) != 0) {
    FUN_BATTLE_BIN__8006c94c(iVar2,(int)param_1);
    DAT_BATTLE_BIN__80096230 =
         *(char *)(DAT_BATTLE_BIN__80096220 + 2) * '\x02' +
         (*(byte *)(DAT_BATTLE_BIN__80096220 + 3) & 0x1f) * *(char *)((int)param_1 + 0x97);
    *(undefined *)((int)param_1 + 0x11e) = 0;
    DAT_BATTLE_BIN__8009622c =
         *(char *)(DAT_BATTLE_BIN__80096224 + 2) * '\x02' +
         (*(byte *)(DAT_BATTLE_BIN__80096224 + 3) & 0x1f) * *(char *)((int)param_1 + 0x96);
    FUN_BATTLE_BIN__80069744((int)param_1,(byte *)(param_1 + 0x27),(byte *)(param_1 + 0x47));
    FUN_BATTLE_BIN__80069dfc((int)param_1,param_1[0xe]);
                    // Possible PsyQ macro: setPolyFT3() + setSemiTrans(polyFT3, 1) +
                    // setShadeTex(polyFT3, 1
    *(undefined *)((int)param_1 + 0x7f) = 0x27;
  }
  return;
}



void FUN_BATTLE_BIN__8006d434(int *param_1)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  int iVar3;
  int *piVar4;
  
  iVar2 = FUN_BATTLE_BIN__8006c2bc((int)param_1);
  FUN_BATTLE_BIN__8006af7c(param_1);
  bVar1 = FUN_BATTLE_BIN__8006c878(iVar2,(int)param_1);
  if (CONCAT31(extraout_var,bVar1) != 0) {
    param_1[0xc] = 0;
    param_1[10] = 0;
    iVar3 = FUN_BATTLE_BIN__8007d3f4(param_1);
    DAT_BATTLE_BIN__80096228 = (short)iVar3;
    if (((param_1[0x26] == (uint)*(byte *)(param_1 + 0x27)) &&
        ((*(byte *)((int)param_1 + 0x11b) & 0x80) != 0)) &&
       (piVar4 = FUN_BATTLE_BIN__8007a724(*(byte *)((int)param_1 + 0x11b) & 0x7f),
       piVar4 != (int *)0x0)) {
      iVar3 = FUN_BATTLE_BIN__8007d3f4(piVar4);
      DAT_BATTLE_BIN__80096228 = (short)iVar3 + -10;
    }
    if (param_1[0xb] < 1) {
      bVar1 = DAT_BATTLE_BIN__80096228 < *(short *)((int)param_1 + 0x42);
    }
    else {
      bVar1 = *(short *)((int)param_1 + 0x42) < DAT_BATTLE_BIN__80096228;
    }
    if (param_1[0x26] != (uint)*(byte *)(param_1 + 0x27) || !bVar1) {
      param_1[0xb] = 0;
      FUN_BATTLE_BIN__8006ca3c(iVar2,(int)param_1);
      param_1[0xc] = 0;
      param_1[10] = 0;
      iVar2 = FUN_BATTLE_BIN__8007d3f4(param_1);
      DAT_BATTLE_BIN__80096228 = (short)iVar2;
      *(undefined *)((int)param_1 + 0x7f) = 0;
      *(undefined *)(param_1 + 0x1f) = *(undefined *)(param_1 + 0x20);
      *(undefined *)((int)param_1 + 0x7d) = *(undefined *)((int)param_1 + 0x81);
      *(byte *)((int)param_1 + 0x299) = *(byte *)((int)param_1 + 0x299) | 1;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006d598(int *param_1)

{
  byte bVar1;
  
  FUN_BATTLE_BIN__8006bad8((int)param_1,&DAT_BATTLE_BIN__80096220,&DAT_BATTLE_BIN__80096224);
  FUN_BATTLE_BIN__80082468(param_1,*(byte *)(DAT_BATTLE_BIN__80096224 + 6) >> 2 & 3,1);
  bVar1 = DAT_BATTLE_BIN__8009621c >> 6;
  if (bVar1 == 1) {
    DAT_BATTLE_BIN__8009622c = *(byte *)(DAT_BATTLE_BIN__80096224 + 4) & 3;
    *(byte *)((int)param_1 + 0x96) = DAT_BATTLE_BIN__8009622c;
    DAT_BATTLE_BIN__80096230 = (byte)((*(byte *)(DAT_BATTLE_BIN__80096220 + 4) & 0xc) >> 2);
  }
  else if (bVar1 < 2) {
    if (bVar1 != 0) goto LAB_BATTLE_BIN__8006d748;
    DAT_BATTLE_BIN__8009622c = (byte)((*(byte *)(DAT_BATTLE_BIN__80096224 + 4) & 0xc) >> 2);
    *(byte *)((int)param_1 + 0x96) = DAT_BATTLE_BIN__8009622c;
    DAT_BATTLE_BIN__80096230 = *(byte *)(DAT_BATTLE_BIN__80096220 + 4) & 3;
  }
  else if (bVar1 == 2) {
    DAT_BATTLE_BIN__8009622c = *(byte *)(DAT_BATTLE_BIN__80096224 + 4) >> 6;
    *(byte *)((int)param_1 + 0x96) = DAT_BATTLE_BIN__8009622c;
    DAT_BATTLE_BIN__80096230 = (byte)((*(byte *)(DAT_BATTLE_BIN__80096220 + 4) & 0x30) >> 4);
  }
  else {
    if (bVar1 != 3) goto LAB_BATTLE_BIN__8006d748;
    DAT_BATTLE_BIN__8009622c = (byte)((*(byte *)(DAT_BATTLE_BIN__80096224 + 4) & 0x30) >> 4);
    *(byte *)((int)param_1 + 0x96) = DAT_BATTLE_BIN__8009622c;
    DAT_BATTLE_BIN__80096230 = *(byte *)(DAT_BATTLE_BIN__80096220 + 4) >> 6;
  }
  *(byte *)((int)param_1 + 0x97) = DAT_BATTLE_BIN__80096230;
LAB_BATTLE_BIN__8006d748:
  if (*(char *)((int)param_1 + 0x11e) != '\0') {
    DAT_BATTLE_BIN__80096230 = 0;
    *(undefined *)((int)param_1 + 0x97) = 0;
  }
  if ((DAT_BATTLE_BIN__8009621c & 0x10) != 0) {
    DAT_BATTLE_BIN__8009622c = 0;
    *(undefined *)((int)param_1 + 0x96) = 0;
  }
  return;
}



void FUN_BATTLE_BIN__8006d79c(int param_1)

{
  undefined uVar1;
  
  if (*(short *)(param_1 + 0x1e2) == 0) {
    uVar1 = *(undefined *)(param_1 + 0x9c);
    *(undefined *)(param_1 + 0x7f) = 0;
    *(undefined *)(param_1 + 0x9c) = 0;
    *(undefined *)(param_1 + 0x11d) = uVar1;
  }
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void FUN_BATTLE_BIN__8006d7c4(int param_1)

{
  FUN_BATTLE_BIN__80069e68(param_1);
  return;
}



void FUN_BATTLE_BIN__8006d7e4(int param_1)

{
  int iVar1;
  
  if (*(char *)(param_1 + 0x11b) != '\0') {
    iVar1 = param_1 + *(int *)(param_1 + 0x98);
    *(byte *)(iVar1 + 0x9d) = *(byte *)(iVar1 + 0x9d) | 0x10;
  }
  return;
}



void FUN_BATTLE_BIN__8006d818(int *param_1)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  
  FUN_BATTLE_BIN__8006bad8((int)param_1,&DAT_BATTLE_BIN__80096220,&DAT_BATTLE_BIN__80096224);
  DAT_BATTLE_BIN__8009621c = *(byte *)(param_1 + 0x47);
  switch(*(undefined *)((int)param_1 + 0x7f)) {
  case 1:
  case 3:
  case 5:
  case 7:
  case 9:
  case 0xb:
  case 0xd:
  case 0xf:
    FUN_BATTLE_BIN__8006cc94(param_1);
    break;
  case 2:
  case 4:
  case 6:
  case 8:
  case 10:
  case 0xc:
  case 0xe:
  case 0x10:
    FUN_BATTLE_BIN__8006cad0(param_1);
    break;
  case 0x11:
  case 0x15:
  case 0x19:
  case 0x1d:
    if (*(short *)((int)param_1 + 0x1e2) == 0) {
      *(char *)((int)param_1 + 0x7f) = *(char *)((int)param_1 + 0x7f) + '\x01';
      FUN_BATTLE_BIN__80081978(0x1f,*(undefined2 *)(param_1 + 0x1c),(int)param_1);
      FUN_BATTLE_BIN__8006b960((int)param_1,(MusicDataHeader *)0x27);
      FUN_BATTLE_BIN__80069254((int)param_1);
    }
    break;
  case 0x12:
  case 0x16:
  case 0x1a:
  case 0x1e:
    FUN_BATTLE_BIN__8006c790(param_1);
  case 0x13:
  case 0x17:
  case 0x1b:
  case 0x1f:
    FUN_BATTLE_BIN__8006c4f8(param_1);
    break;
  case 0x14:
  case 0x18:
  case 0x1c:
  case 0x20:
    FUN_BATTLE_BIN__8006c3d8((int)param_1);
    break;
  case 0x22:
  case 0x24:
  case 0x26:
  case 0x28:
    FUN_BATTLE_BIN__8006d344(param_1);
    break;
  case 0x23:
  case 0x25:
  case 0x27:
  case 0x29:
    FUN_BATTLE_BIN__8006d434(param_1);
    break;
  case 0x2b:
  case 0x2f:
  case 0x33:
  case 0x37:
    FUN_BATTLE_BIN__8006d060(param_1);
    break;
  case 0x2c:
  case 0x30:
  case 0x34:
  case 0x38:
    FUN_BATTLE_BIN__8006d1a0(param_1);
    break;
  case 0x2d:
  case 0x31:
  case 0x35:
  case 0x39:
    FUN_BATTLE_BIN__8006d288(param_1);
    break;
  case 0x3b:
    FUN_BATTLE_BIN__8006d7c4((int)param_1);
    break;
  case 0x3c:
    FUN_BATTLE_BIN__8006d79c((int)param_1);
  }
  if (*(char *)((int)param_1 + 0x7f) == '\0') {
    uVar3 = (uint)*(byte *)(param_1 + 0x27);
    if (uVar3 == 0xfe) {
      FUN_BATTLE_BIN__800692bc((int)param_1);
      FUN_BATTLE_BIN__80069ee0((int)param_1);
    }
    else if (uVar3 == 0xff) {
      FUN_BATTLE_BIN__800692bc((int)param_1);
      FUN_BATTLE_BIN__80069ee0((int)param_1);
      *(undefined *)((int)param_1 + 0x11b) = 0;
      FUN_BATTLE_BIN__8019ae30();
    }
    else {
      if (uVar3 != 0) {
        if ((uint)param_1[0x26] < uVar3) {
          if (param_1[0x26] == uVar3 - 1) {
            FUN_BATTLE_BIN__8006d7e4((int)param_1);
          }
          iVar2 = param_1[0x26];
          param_1[0x26] = iVar2 + 1;
          DAT_BATTLE_BIN__8009621c = *(byte *)((int)param_1 + iVar2 + 0x9d);
          *(byte *)(param_1 + 0x47) = DAT_BATTLE_BIN__8009621c;
          FUN_BATTLE_BIN__8006d598(param_1);
          uVar1 = DAT_BATTLE_BIN__80096224;
          iVar2 = DAT_BATTLE_BIN__80096220;
          if ((*(byte *)((int)param_1 + 0x119) & 0x80) != 0) {
            FUN_BATTLE_BIN__8006a080((int)param_1);
            return;
          }
          if ((*(byte *)((int)param_1 + 0x119) & 0x40) != 0) {
            FUN_BATTLE_BIN__80069f14((int)param_1,DAT_BATTLE_BIN__80096220);
            return;
          }
          if ((DAT_BATTLE_BIN__8009621c >> 2 & 1) != 0) {
            if ((DAT_BATTLE_BIN__8009621c >> 2 & 1) != 1) {
              return;
            }
            FUN_BATTLE_BIN__8006a380((int)param_1,DAT_BATTLE_BIN__80096220);
            return;
          }
          param_1[0xf] = 0x2000;
          FUN_BATTLE_BIN__8006a20c((int)param_1,iVar2,(short)uVar1);
          return;
        }
      }
      FUN_BATTLE_BIN__8006bce4(param_1);
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006db10(int *param_1)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  FUN_BATTLE_BIN__8006bad8((int)param_1,&DAT_BATTLE_BIN__80096220,&DAT_BATTLE_BIN__80096224);
  DAT_BATTLE_BIN__8009621c = *(undefined *)(param_1 + 0x47);
  if (*(char *)((int)param_1 + 0x7f) != '\0') {
    iVar3 = param_1[0xe];
    iVar2 = 0x1000;
    if (0x1000 < iVar3) {
      if (iVar3 < 0) {
        iVar3 = iVar3 + 3;
      }
      iVar2 = (iVar3 >> 2) * 3;
    }
    param_1[0xe] = iVar2;
    switch(*(undefined *)((int)param_1 + 0x7f)) {
    case 1:
    case 3:
    case 5:
    case 7:
      FUN_BATTLE_BIN__8006cc94(param_1);
      break;
    case 2:
    case 4:
    case 6:
    case 8:
      FUN_BATTLE_BIN__8006cad0(param_1);
      break;
    case 0x12:
    case 0x16:
    case 0x1a:
    case 0x1e:
      FUN_BATTLE_BIN__8006c790(param_1);
    case 0x13:
    case 0x17:
    case 0x1b:
    case 0x1f:
      FUN_BATTLE_BIN__8006c4f8(param_1);
      break;
    case 0x14:
    case 0x18:
    case 0x1c:
    case 0x20:
      FUN_BATTLE_BIN__8006c3d8((int)param_1);
    }
    if (*(char *)((int)param_1 + 0x7f) != '\0') {
      return;
    }
  }
  if (*(byte *)(param_1 + 0x27) != 0) {
    uVar4 = param_1[0x26];
    if (uVar4 < *(byte *)(param_1 + 0x27)) {
      param_1[0x26] = uVar4 + 1;
      DAT_BATTLE_BIN__8009621c = *(undefined *)((int)param_1 + uVar4 + 0x9d);
      *(undefined *)(param_1 + 0x47) = DAT_BATTLE_BIN__8009621c;
      FUN_BATTLE_BIN__8006d598(param_1);
      uVar1 = DAT_BATTLE_BIN__80096224;
      iVar3 = DAT_BATTLE_BIN__80096220;
      param_1[0xf] = 0x2000;
      FUN_BATTLE_BIN__8006a20c((int)param_1,iVar3,(short)uVar1);
    }
    else {
      FUN_BATTLE_BIN__8006bbfc(param_1);
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006dc8c(int param_1)

{
  uint uVar1;
  int iVar2;
  
  *(undefined4 *)(param_1 + 0x98) = 0;
  *(undefined *)(param_1 + 0x9c) = 1;
  uVar1 = FUN_BATTLE_BIN__8017f020(*(int *)(param_1 + 0x134));
  *(char *)(param_1 + 0x119) = (char)uVar1;
  uVar1 = *(uint *)(param_1 + 0x9c);
  *(uint *)(param_1 + 0x9c) = uVar1 & 0xffffe0ff;
  *(uint *)(param_1 + 0x9c) = uVar1 & 0xffffc0ff | (*(byte *)(param_1 + 0x82) & 1) << 0xd;
  iVar2 = FUN_BATTLE_BIN__8006c2bc(param_1);
  if (iVar2 == 1) {
    uVar1 = *(uint *)(param_1 + 0x9c) & 0xffff3fff;
  }
  else if (iVar2 < 2) {
    if (iVar2 != 0) goto LAB_BATTLE_BIN__8006dd94;
    uVar1 = *(uint *)(param_1 + 0x9c) & 0xffff3fff | 0x8000;
  }
  else if (iVar2 == 2) {
    uVar1 = *(uint *)(param_1 + 0x9c) | 0xc000;
  }
  else {
    if (iVar2 != 3) goto LAB_BATTLE_BIN__8006dd94;
    uVar1 = *(uint *)(param_1 + 0x9c) & 0xffff3fff | 0x4000;
  }
  *(uint *)(param_1 + 0x9c) = uVar1;
LAB_BATTLE_BIN__8006dd94:
  *(undefined4 *)(param_1 + 0x38) = 0x8000;
  return;
}



void FUN_BATTLE_BIN__8006ddac(int param_1,int param_2)

{
  *(undefined *)(param_2 + 0x80) = *(undefined *)(param_1 + 0x1a8);
  *(undefined *)(param_2 + 0x81) = *(undefined *)(param_1 + 0x1a9);
  *(undefined *)(param_2 + 0x82) = *(undefined *)(param_1 + 0x1aa);
  FUN_BATTLE_BIN__8006dc8c(param_2);
  return;
}



undefined4 FUN_BATTLE_BIN__8006ddec(int param_1,uint param_2)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  undefined4 uVar4;
  
  uVar4 = 0xffffffff;
  if (-1 < DAT_BATTLE_BIN__800960c0) {
    if (DAT_BATTLE_BIN__800960c0 < 2) {
      if (param_1 == 1) {
        uVar2 = DAT_800473ac >> 3 & 7;
        if (uVar2 == 1) {
          uVar3 = 6;
          uVar2 = 0x1e;
        }
        else if ((uVar2 < 2) && (uVar2 == 0)) {
          uVar3 = 3;
          uVar2 = 0xf;
        }
        else {
          uVar3 = 0xc;
          uVar2 = 0x3c;
        }
        param_2 = DAT_8004594c;
        if ((uVar2 < DAT_80045974) && (DAT_80045974 % uVar3 == 0)) {
LAB_BATTLE_BIN__8006ded0:
          param_2 = DAT_80045948;
        }
      }
      else if (param_1 < 2) {
        if (param_1 == 0) goto LAB_BATTLE_BIN__8006ded0;
      }
      else {
joined_r0x8006de44:
        if (param_1 == 2) {
          param_2 = DAT_80045950;
        }
      }
    }
    else if (DAT_BATTLE_BIN__800960c0 == 2) {
      if (param_1 == 1) {
        uVar2 = DAT_80045948 | DAT_80045954;
        param_2 = 0;
        if ((DAT_8004594c & 0x1000) == 0) {
          if ((DAT_8004594c & 0x4000) == 0) {
            if ((DAT_8004594c & 0x8000) != 0) {
              uVar3 = uVar2 & 0x4000;
              if ((uVar2 & 0x1000) != 0) goto LAB_BATTLE_BIN__8006df4c;
              goto LAB_BATTLE_BIN__8006df84;
            }
            if ((DAT_8004594c & 0x2000) == 0) {
              if ((DAT_80045968 & 0x1000) == 0) {
                if ((DAT_80045968 & 0x4000) == 0) {
                  if ((DAT_80045968 & 0x8000) == 0) {
                    if ((((DAT_80045968 & 0x2000) != 0) &&
                        (((DAT_8004594c | DAT_80045964) & 0x2000) == 0)) && ((uVar2 & 0x2000) != 0))
                    {
                      param_2 = 0x2000;
                    }
                  }
                  else if ((((DAT_8004594c | DAT_80045964) & 0x8000) == 0) &&
                          ((uVar2 & 0x8000) != 0)) {
                    param_2 = 0x8000;
                  }
                }
                else if ((((DAT_8004594c | DAT_80045964) & 0x4000) == 0) && ((uVar2 & 0x4000) != 0))
                {
                  param_2 = 0x4000;
                }
              }
              else if ((((DAT_8004594c | DAT_80045964) & 0x1000) == 0) && ((uVar2 & 0x1000) != 0)) {
                param_2 = 0x1000;
              }
            }
            else {
              if ((uVar2 & 0x1000) != 0) goto LAB_BATTLE_BIN__8006dfa8;
              if ((uVar2 & 0x4000) != 0) goto LAB_BATTLE_BIN__8006dfb8;
            }
          }
          else {
            uVar3 = uVar2 & 0x8000;
            if ((uVar2 & 0x2000) == 0) {
LAB_BATTLE_BIN__8006df84:
              if (uVar3 != 0) {
                param_2 = 0xc000;
              }
            }
            else {
LAB_BATTLE_BIN__8006dfb8:
              param_2 = 0x6000;
            }
          }
        }
        else if ((uVar2 & 0x2000) == 0) {
          if ((uVar2 & 0x8000) != 0) {
LAB_BATTLE_BIN__8006df4c:
            param_2 = 0x9000;
          }
        }
        else {
LAB_BATTLE_BIN__8006dfa8:
          param_2 = 0x3000;
        }
        uVar2 = DAT_800473ac >> 3 & 7;
        if (uVar2 == 1) {
          uVar3 = 10;
          uVar2 = 0xf;
        }
        else if ((uVar2 < 2) && (uVar2 == 0)) {
          uVar3 = 6;
          uVar2 = 6;
        }
        else {
          uVar3 = 0x10;
          uVar2 = 0x1e;
        }
        if ((DAT_80045974 <= uVar2) || (DAT_80045974 % uVar3 != 0)) goto LAB_BATTLE_BIN__8006e144;
      }
      else {
        if (1 < param_1) goto joined_r0x8006de44;
        if (param_1 != 0) goto LAB_BATTLE_BIN__8006e144;
      }
      param_2 = DAT_80045948 | DAT_80045954;
    }
  }
LAB_BATTLE_BIN__8006e144:
  if (DAT_BATTLE_BIN__800960c0 == 1) {
    uVar1 = DAT_BATTLE_BIN__800a7786 & 0xc00;
    if (uVar1 == 0x400) goto LAB_BATTLE_BIN__8006e274;
    if (0x400 < uVar1) {
      if (uVar1 == 0x800) {
LAB_BATTLE_BIN__8006e2d4:
        if ((param_2 & 0x3000) == 0x3000) goto LAB_BATTLE_BIN__8006e534;
        if ((param_2 & 0x9000) != 0x9000) {
          if ((param_2 & 0x6000) != 0x6000) {
            if ((param_2 & 0xc000) != 0xc000) {
              if ((param_2 & 0x1000) != 0) goto LAB_BATTLE_BIN__8006e37c;
              if ((param_2 & 0x4000) == 0) {
                if ((param_2 & 0x8000) != 0) goto LAB_BATTLE_BIN__8006e26c;
                if ((param_2 & 0x2000) == 0) goto LAB_BATTLE_BIN__8006e538;
                goto LAB_BATTLE_BIN__8006e324;
              }
              goto LAB_BATTLE_BIN__8006e2c8;
            }
            goto LAB_BATTLE_BIN__8006e480;
          }
          goto LAB_BATTLE_BIN__8006e4dc;
        }
      }
      else {
        if (uVar1 != 0xc00) goto LAB_BATTLE_BIN__8006e538;
LAB_BATTLE_BIN__8006e32c:
        if ((param_2 & 0x3000) != 0x3000) {
          if ((param_2 & 0x9000) == 0x9000) goto LAB_BATTLE_BIN__8006e480;
          if ((param_2 & 0x6000) != 0x6000) {
            if ((param_2 & 0xc000) != 0xc000) {
              if ((param_2 & 0x1000) != 0) goto LAB_BATTLE_BIN__8006e26c;
              if ((param_2 & 0x4000) != 0) goto LAB_BATTLE_BIN__8006e324;
              if ((param_2 & 0x8000) == 0) {
                if ((param_2 & 0x2000) == 0) goto LAB_BATTLE_BIN__8006e538;
                goto LAB_BATTLE_BIN__8006e37c;
              }
              goto LAB_BATTLE_BIN__8006e2c8;
            }
            goto LAB_BATTLE_BIN__8006e4dc;
          }
          goto LAB_BATTLE_BIN__8006e534;
        }
      }
LAB_BATTLE_BIN__8006e424:
      uVar4 = 0xa00;
      goto LAB_BATTLE_BIN__8006e538;
    }
    if ((DAT_BATTLE_BIN__800a7786 & 0xc00) != 0) goto LAB_BATTLE_BIN__8006e538;
LAB_BATTLE_BIN__8006e21c:
    if ((param_2 & 0x3000) == 0x3000) {
LAB_BATTLE_BIN__8006e480:
      uVar4 = 0x600;
      goto LAB_BATTLE_BIN__8006e538;
    }
    if ((param_2 & 0x9000) != 0x9000) {
      if ((param_2 & 0x6000) != 0x6000) {
        if ((param_2 & 0xc000) != 0xc000) {
          if ((param_2 & 0x1000) == 0) {
            if ((param_2 & 0x4000) != 0) goto LAB_BATTLE_BIN__8006e37c;
            if ((param_2 & 0x8000) != 0) goto LAB_BATTLE_BIN__8006e324;
            if ((param_2 & 0x2000) == 0) goto LAB_BATTLE_BIN__8006e538;
            goto LAB_BATTLE_BIN__8006e26c;
          }
          goto LAB_BATTLE_BIN__8006e2c8;
        }
        goto LAB_BATTLE_BIN__8006e534;
      }
      goto LAB_BATTLE_BIN__8006e424;
    }
LAB_BATTLE_BIN__8006e4dc:
    uVar4 = 0x200;
  }
  else {
    if (DAT_BATTLE_BIN__800960c0 < 2) {
      if (DAT_BATTLE_BIN__800960c0 != 0) goto LAB_BATTLE_BIN__8006e538;
      uVar1 = DAT_BATTLE_BIN__800a7786 & 0xc00;
      if (uVar1 == 0x400) goto LAB_BATTLE_BIN__8006e21c;
      if (uVar1 < 0x401) {
        if ((DAT_BATTLE_BIN__800a7786 & 0xc00) != 0) goto LAB_BATTLE_BIN__8006e538;
        goto LAB_BATTLE_BIN__8006e32c;
      }
      if (uVar1 != 0x800) {
        if (uVar1 != 0xc00) goto LAB_BATTLE_BIN__8006e538;
        goto LAB_BATTLE_BIN__8006e2d4;
      }
LAB_BATTLE_BIN__8006e274:
      if ((param_2 & 0x3000) == 0x3000) goto LAB_BATTLE_BIN__8006e4dc;
      if ((param_2 & 0x9000) == 0x9000) {
LAB_BATTLE_BIN__8006e534:
        uVar4 = 0xe00;
        goto LAB_BATTLE_BIN__8006e538;
      }
      if ((param_2 & 0x6000) == 0x6000) goto LAB_BATTLE_BIN__8006e480;
      if ((param_2 & 0xc000) == 0xc000) goto LAB_BATTLE_BIN__8006e424;
      if ((param_2 & 0x1000) != 0) {
LAB_BATTLE_BIN__8006e324:
        uVar4 = 0;
        goto LAB_BATTLE_BIN__8006e538;
      }
      if ((param_2 & 0x4000) != 0) goto LAB_BATTLE_BIN__8006e26c;
      if ((param_2 & 0x8000) != 0) goto LAB_BATTLE_BIN__8006e37c;
      if ((param_2 & 0x2000) == 0) goto LAB_BATTLE_BIN__8006e538;
    }
    else {
      if (DAT_BATTLE_BIN__800960c0 != 2) goto LAB_BATTLE_BIN__8006e538;
      uVar1 = DAT_BATTLE_BIN__800a7786 & 0xc00;
      if (uVar1 == 0x400) {
        if ((param_2 & 0x3000) == 0x3000) goto LAB_BATTLE_BIN__8006e2c8;
        if ((param_2 & 0x9000) == 0x9000) goto LAB_BATTLE_BIN__8006e324;
        if ((param_2 & 0x6000) != 0x6000) {
          if ((param_2 & 0xc000) == 0xc000) goto LAB_BATTLE_BIN__8006e37c;
          if ((param_2 & 0x1000) == 0) {
            if ((param_2 & 0x4000) != 0) goto LAB_BATTLE_BIN__8006e424;
            if ((param_2 & 0x8000) != 0) goto LAB_BATTLE_BIN__8006e534;
            if ((param_2 & 0x2000) == 0) goto LAB_BATTLE_BIN__8006e538;
            goto LAB_BATTLE_BIN__8006e480;
          }
          goto LAB_BATTLE_BIN__8006e4dc;
        }
LAB_BATTLE_BIN__8006e26c:
        uVar4 = 0x800;
        goto LAB_BATTLE_BIN__8006e538;
      }
      if (0x400 < uVar1) {
        if (uVar1 == 0x800) {
          if ((param_2 & 0x3000) == 0x3000) goto LAB_BATTLE_BIN__8006e324;
          if ((param_2 & 0x9000) != 0x9000) {
            if ((param_2 & 0x6000) != 0x6000) {
              if ((param_2 & 0xc000) != 0xc000) {
                if ((param_2 & 0x1000) == 0) {
                  if ((param_2 & 0x4000) != 0) goto LAB_BATTLE_BIN__8006e480;
                  if ((param_2 & 0x8000) == 0) {
                    if ((param_2 & 0x2000) == 0) goto LAB_BATTLE_BIN__8006e538;
                    goto LAB_BATTLE_BIN__8006e4dc;
                  }
                  goto LAB_BATTLE_BIN__8006e424;
                }
                goto LAB_BATTLE_BIN__8006e534;
              }
              goto LAB_BATTLE_BIN__8006e26c;
            }
            goto LAB_BATTLE_BIN__8006e2c8;
          }
        }
        else {
          if (uVar1 != 0xc00) goto LAB_BATTLE_BIN__8006e538;
          if ((param_2 & 0x3000) != 0x3000) {
            if ((param_2 & 0x9000) == 0x9000) goto LAB_BATTLE_BIN__8006e26c;
            if ((param_2 & 0x6000) != 0x6000) {
              if ((param_2 & 0xc000) == 0xc000) goto LAB_BATTLE_BIN__8006e2c8;
              if ((param_2 & 0x1000) == 0) {
                if ((param_2 & 0x4000) != 0) goto LAB_BATTLE_BIN__8006e4dc;
                if ((param_2 & 0x8000) != 0) goto LAB_BATTLE_BIN__8006e480;
                if ((param_2 & 0x2000) == 0) goto LAB_BATTLE_BIN__8006e538;
                goto LAB_BATTLE_BIN__8006e534;
              }
              goto LAB_BATTLE_BIN__8006e424;
            }
            goto LAB_BATTLE_BIN__8006e324;
          }
        }
LAB_BATTLE_BIN__8006e37c:
        uVar4 = 0xc00;
        goto LAB_BATTLE_BIN__8006e538;
      }
      if ((DAT_BATTLE_BIN__800a7786 & 0xc00) != 0) goto LAB_BATTLE_BIN__8006e538;
      if ((param_2 & 0x3000) == 0x3000) goto LAB_BATTLE_BIN__8006e26c;
      if ((param_2 & 0x9000) != 0x9000) {
        if ((param_2 & 0x6000) == 0x6000) goto LAB_BATTLE_BIN__8006e37c;
        if ((param_2 & 0xc000) != 0xc000) {
          if ((param_2 & 0x1000) == 0) {
            if ((param_2 & 0x4000) == 0) {
              if ((param_2 & 0x8000) == 0) {
                if ((param_2 & 0x2000) == 0) goto LAB_BATTLE_BIN__8006e538;
                goto LAB_BATTLE_BIN__8006e424;
              }
              goto LAB_BATTLE_BIN__8006e4dc;
            }
            goto LAB_BATTLE_BIN__8006e534;
          }
          goto LAB_BATTLE_BIN__8006e480;
        }
        goto LAB_BATTLE_BIN__8006e324;
      }
    }
LAB_BATTLE_BIN__8006e2c8:
    uVar4 = 0x400;
  }
LAB_BATTLE_BIN__8006e538:
  if ((DAT_8004594c & 0x9f0) != 0) {
    uVar4 = 0xffffffff;
  }
  return uVar4;
}



void FUN_BATTLE_BIN__8006e55c(void)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  
  piVar1 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  iVar2 = 2;
  if (piVar1 == (int *)0x0) {
    iVar2 = 1;
    uVar3 = 0xff;
  }
  else {
    uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
  }
  FUN_BATTLE_BIN__8013d634(iVar2,uVar3,0xff);
  return;
}



void FUN_BATTLE_BIN__8006e5c0(void)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  
  piVar1 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  FUN_BATTLE_BIN__8007a218();
  iVar2 = 4;
  if (piVar1 == (int *)0x0) {
    iVar2 = 1;
    uVar3 = 0xff;
  }
  else {
    uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
  }
  FUN_BATTLE_BIN__8013d634(iVar2,0xff,uVar3);
  return;
}



void FUN_BATTLE_BIN__8006e634(void)

{
  byte bVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  uint uVar5;
  
  piVar2 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  piVar3 = FUN_BATTLE_BIN__8007a218();
  iVar4 = 5;
  if (piVar2 == (int *)0x0) {
    iVar4 = 2;
    bVar1 = *(byte *)(piVar3[0x4d] + 0x18a);
    uVar5 = 0xff;
  }
  else {
    bVar1 = *(byte *)(piVar3[0x4d] + 0x18a);
    uVar5 = (uint)*(byte *)(piVar2[0x4d] + 0x18a);
  }
  FUN_BATTLE_BIN__8013d634(iVar4,(uint)bVar1,uVar5);
  return;
}



void FUN_BATTLE_BIN__8006e6b0(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = DAT_BATTLE_BIN__800961bc;
  iVar2 = DAT_BATTLE_BIN__800961b8;
  iVar1 = DAT_BATTLE_BIN__800961b4;
  if (param_2 == 0) {
    DAT_BATTLE_BIN__800961b4 = (int)*(short *)(param_1 + 0x168);
    DAT_BATTLE_BIN__800961b8 = (int)*(short *)(param_1 + 0x16a);
    DAT_BATTLE_BIN__800961bc = (int)*(short *)(param_1 + 0x16c);
  }
  else {
    FUN_BATTLE_BIN__800683e4(param_2);
  }
  if ((DAT_BATTLE_BIN__800961b4 == iVar1 && DAT_BATTLE_BIN__800961b8 == iVar2) &&
      DAT_BATTLE_BIN__800961bc == iVar3) {
    return;
  }
  if (DAT_BATTLE_BIN__800960e4 != 0xd) {
    if (DAT_BATTLE_BIN__800960e4 < 0xe) {
      if (DAT_BATTLE_BIN__800960e4 != 0) {
        return;
      }
    }
    else {
      if (DAT_BATTLE_BIN__800960e4 == 0x17) {
        FUN_BATTLE_BIN__8006e5c0();
        return;
      }
      if (DAT_BATTLE_BIN__800960e4 != 0x20) {
        return;
      }
    }
  }
  FUN_BATTLE_BIN__8006e55c();
  return;
}



undefined4 FUN_BATTLE_BIN__8006e7c8(void)

{
  bool bVar1;
  undefined1 *puVar2;
  undefined1 *puVar3;
  int iVar4;
  undefined1 *puVar5;
  uint uVar6;
  char cVar7;
  char cVar8;
  uint uVar10;
  int iVar9;
  
  uVar6 = DAT_800473ac >> 6 & 7;
  if (uVar6 == 1) {
    uVar10 = 0x3c;
  }
  else {
    uVar10 = 0x5a;
    if ((uVar6 < 2) && (uVar6 == 0)) {
      uVar10 = 0x1e;
    }
  }
  bVar1 = false;
  puVar2 = FUN_BATTLE_BIN__80183fb4
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  if ((DAT_800473ac & 0x1c0) == 0xc0) {
    if ((DAT_8004594c & 0x800) != 0) {
LAB_BATTLE_BIN__8006e8c0:
      puVar3 = FUN_BATTLE_BIN__80183fb4
                         (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,
                          DAT_BATTLE_BIN__800961b8 ^ 1);
      if ((puVar3[6] & 1) == 0) {
        bVar1 = true;
        DAT_BATTLE_BIN__800961b8 = DAT_BATTLE_BIN__800961b8 ^ 1;
      }
    }
  }
  else if (uVar10 < DAT_BATTLE_BIN__800961c0) {
    DAT_BATTLE_BIN__800961c0 = 0;
    goto LAB_BATTLE_BIN__8006e8c0;
  }
  if (bVar1) goto LAB_BATTLE_BIN__8006edfc;
  DAT_BATTLE_BIN__800961c0 = DAT_BATTLE_BIN__800961c0 + 1;
  DAT_BATTLE_BIN__800e4e90 = DAT_BATTLE_BIN__800961b4;
  DAT_BATTLE_BIN__800e4e94 = DAT_BATTLE_BIN__800961b8;
  DAT_BATTLE_BIN__800e4e98 = DAT_BATTLE_BIN__800961bc;
  iVar4 = FUN_BATTLE_BIN__8006ddec(1,DAT_BATTLE_BIN__800961b8);
  if (iVar4 == 0x600) {
    DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc + 1;
LAB_BATTLE_BIN__8006ead0:
    DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 - 1;
  }
  else if (iVar4 < 0x601) {
    if (iVar4 == 0x200) {
      DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc - 1;
      goto LAB_BATTLE_BIN__8006ead0;
    }
    if (iVar4 < 0x201) {
      if (iVar4 == 0) {
        DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc - 1;
      }
    }
    else if (iVar4 == 0x400) {
      DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 - 1;
    }
  }
  else if (iVar4 == 0xa00) {
    DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc + 1;
    DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 + 1;
  }
  else if (iVar4 < 0xa01) {
    if (iVar4 == 0x800) {
      DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc + 1;
    }
  }
  else if (iVar4 == 0xc00) {
    DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 + 1;
  }
  else if (iVar4 == 0xe00) {
    DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 + 1;
    DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc - 1;
  }
  if (DAT_BATTLE_BIN__800961b4 == DAT_BATTLE_BIN__800e4e9c) {
    DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 - 1;
  }
  else if (DAT_BATTLE_BIN__800e4e9c < DAT_BATTLE_BIN__800961b4) {
    DAT_BATTLE_BIN__800961b4 = 0;
  }
  uVar6 = (uint)DAT_BATTLE_BIN__800e4ea0;
  if (DAT_BATTLE_BIN__800961bc == uVar6) {
    DAT_BATTLE_BIN__800961bc = uVar6 - 1;
  }
  if (uVar6 < DAT_BATTLE_BIN__800961bc) {
    DAT_BATTLE_BIN__800961bc = 0;
  }
  puVar3 = FUN_BATTLE_BIN__80183fb4
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  puVar5 = FUN_BATTLE_BIN__80183fb4
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8 ^ 1
                     );
  if ((puVar3[6] & 1) == 0) {
    if ((puVar5[6] & 1) != 0) goto LAB_BATTLE_BIN__8006edfc;
    iVar4 = (uint)(byte)puVar3[2] - (uint)(byte)puVar2[2];
    cVar7 = (char)iVar4;
    iVar9 = (uint)(byte)puVar5[2] - (uint)(byte)puVar2[2];
    cVar8 = (char)iVar9;
    if (iVar4 * 0x1000000 < 0) {
      cVar7 = -cVar7;
    }
    if (iVar9 * 0x1000000 < 0) {
      cVar8 = -cVar8;
    }
    if (cVar7 <= cVar8) goto LAB_BATTLE_BIN__8006edfc;
  }
  else if ((puVar5[6] & 1) != 0) {
    if (iVar4 == 0x600) {
      DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc - 1;
    }
    else {
      if (0x600 < iVar4) {
        if (iVar4 == 0xa00) {
          DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc - 1;
          DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 - 1;
        }
        else if (iVar4 < 0xa01) {
          if (iVar4 == 0x800) {
            DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc - 1;
          }
        }
        else if (iVar4 == 0xc00) {
          DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 - 1;
        }
        else if (iVar4 == 0xe00) {
          DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 - 1;
          DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc + 1;
        }
        goto LAB_BATTLE_BIN__8006edfc;
      }
      if (iVar4 != 0x200) {
        if (iVar4 < 0x201) {
          if (iVar4 == 0) {
            DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc + 1;
          }
        }
        else if (iVar4 == 0x400) {
          DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 + 1;
        }
        goto LAB_BATTLE_BIN__8006edfc;
      }
      DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800961bc + 1;
    }
    DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800961b4 + 1;
    goto LAB_BATTLE_BIN__8006edfc;
  }
  DAT_BATTLE_BIN__800961b8 = DAT_BATTLE_BIN__800961b8 ^ 1;
LAB_BATTLE_BIN__8006edfc:
  if ((DAT_BATTLE_BIN__800961b4 == DAT_BATTLE_BIN__800e4e90 &&
      DAT_BATTLE_BIN__800961b8 == DAT_BATTLE_BIN__800e4e94) &&
      DAT_BATTLE_BIN__800961bc == DAT_BATTLE_BIN__800e4e98) {
    return 0;
  }
  Call_Play_Sound(3);
  DAT_BATTLE_BIN__800961c0 = 0;
  if (DAT_BATTLE_BIN__800960e4 != 0xd) {
    if (DAT_BATTLE_BIN__800960e4 < 0xe) {
      if (DAT_BATTLE_BIN__800960e4 != 0) {
        DAT_BATTLE_BIN__800961c0 = 0;
        return 1;
      }
    }
    else {
      if (DAT_BATTLE_BIN__800960e4 == 0x17) {
        FUN_BATTLE_BIN__8006e5c0();
        return 1;
      }
      if (DAT_BATTLE_BIN__800960e4 != 0x20) {
        DAT_BATTLE_BIN__800961c0 = 0;
        return 1;
      }
    }
  }
  FUN_BATTLE_BIN__8006e55c();
  return 1;
}



void FUN_BATTLE_BIN__8006eedc(void)

{
  DAT_BATTLE_BIN__800960dc = 1;
  return;
}



void FUN_BATTLE_BIN__8006eef0(void)

{
  DAT_BATTLE_BIN__800960dc = 0;
  return;
}



void FUN_BATTLE_BIN__8006ef00(undefined4 param_1,uint param_2)

{
  int iVar1;
  int *piVar2;
  
  if (DAT_BATTLE_BIN__800960dc == 0) {
    return;
  }
  iVar1 = FUN_BATTLE_BIN__8006ddec(0,param_2);
  if (iVar1 == 0x600) {
    DAT_BATTLE_BIN__800e4e7c = DAT_BATTLE_BIN__800e4e7c + 0x4000;
  }
  else {
    if (0x600 < iVar1) {
      if (iVar1 == 0xa00) {
        DAT_BATTLE_BIN__800e4e7c = DAT_BATTLE_BIN__800e4e7c + 0x4000;
        DAT_BATTLE_BIN__800e4e74 = DAT_BATTLE_BIN__800e4e74 + 0x4000;
      }
      else {
        if (iVar1 < 0xa01) {
          if (iVar1 != 0x800) goto LAB_BATTLE_BIN__8006f084;
          piVar2 = &DAT_BATTLE_BIN__800e4e7c;
        }
        else {
          if (iVar1 != 0xc00) {
            if (iVar1 == 0xe00) {
              DAT_BATTLE_BIN__800e4e7c = DAT_BATTLE_BIN__800e4e7c + -0x4000;
              DAT_BATTLE_BIN__800e4e74 = DAT_BATTLE_BIN__800e4e74 + 0x4000;
            }
            goto LAB_BATTLE_BIN__8006f084;
          }
          piVar2 = &DAT_BATTLE_BIN__800e4e74;
        }
        *piVar2 = *piVar2 + 0x4000;
      }
      goto LAB_BATTLE_BIN__8006f084;
    }
    if (iVar1 != 0x200) {
      if (iVar1 < 0x201) {
        if (iVar1 != 0) goto LAB_BATTLE_BIN__8006f084;
        piVar2 = &DAT_BATTLE_BIN__800e4e7c;
      }
      else {
        if (iVar1 != 0x400) goto LAB_BATTLE_BIN__8006f084;
        piVar2 = &DAT_BATTLE_BIN__800e4e74;
      }
      *piVar2 = *piVar2 + -0x4000;
      goto LAB_BATTLE_BIN__8006f084;
    }
    DAT_BATTLE_BIN__800e4e7c = DAT_BATTLE_BIN__800e4e7c + -0x4000;
  }
  DAT_BATTLE_BIN__800e4e74 = DAT_BATTLE_BIN__800e4e74 + -0x4000;
LAB_BATTLE_BIN__8006f084:
  iVar1 = (uint)DAT_BATTLE_BIN__800e4e9c * 0x1c000 + 0x70000;
  if (iVar1 < DAT_BATTLE_BIN__800e4e74) {
    DAT_BATTLE_BIN__800e4e74 = iVar1;
  }
  if (DAT_BATTLE_BIN__800e4e74 < -0x70000) {
    DAT_BATTLE_BIN__800e4e74 = -0x70000;
  }
  iVar1 = (uint)DAT_BATTLE_BIN__800e4ea0 * 0x1c000 + 0x70000;
  if (iVar1 < DAT_BATTLE_BIN__800e4e7c) {
    DAT_BATTLE_BIN__800e4e7c = iVar1;
  }
  if (DAT_BATTLE_BIN__800e4e7c < -0x70000) {
    DAT_BATTLE_BIN__800e4e7c = -0x70000;
  }
  return;
}



void FUN_BATTLE_BIN__8006f13c(uint param_1)

{
  DAT_BATTLE_BIN__800b6694 = (int)DAT_BATTLE_BIN__800a7786 & 0xfe00;
  DAT_BATTLE_BIN__800c7c60 = param_1;
  if ((param_1 & 0x3ff) == 0) {
    DAT_BATTLE_BIN__800c7c60 = param_1 + 0x200;
  }
  return;
}



void FUN_BATTLE_BIN__8006f174(uint param_1)

{
  DAT_BATTLE_BIN__800960c8 = 1;
  DAT_BATTLE_BIN__800e4e88 = 1;
  FUN_BATTLE_BIN__8006f13c(param_1);
  return;
}



void FUN_BATTLE_BIN__8006f1a8(uint param_1)

{
  DAT_BATTLE_BIN__800b6694 = (int)DAT_BATTLE_BIN__800a7786 & 0xfe00;
  DAT_BATTLE_BIN__800c7c60 = param_1;
  if ((param_1 & 0x3ff) == 0) {
    DAT_BATTLE_BIN__800c7c60 = param_1 - 0x200;
  }
  return;
}



void FUN_BATTLE_BIN__8006f1e0(uint param_1)

{
  DAT_BATTLE_BIN__800960c8 = 2;
  DAT_BATTLE_BIN__800e4e88 = 1;
  FUN_BATTLE_BIN__8006f1a8(param_1);
  return;
}



void FUN_BATTLE_BIN__8006f218(int param_1)

{
  MusicDataHeader *pMVar1;
  
  if (DAT_BATTLE_BIN__800960c8 == 0) {
    if (param_1 < 0) {
      FUN_BATTLE_BIN__8006f174(((int)DAT_BATTLE_BIN__800a7786 & 0xfe00U) + param_1);
      pMVar1 = (MusicDataHeader *)0xb;
    }
    else {
      FUN_BATTLE_BIN__8006f1e0(((int)DAT_BATTLE_BIN__800a7786 & 0xfe00U) + param_1);
      pMVar1 = (MusicDataHeader *)0xc;
    }
    Call_Play_SoundEffect(pMVar1);
  }
  return;
}



void FUN_BATTLE_BIN__8006f28c(void)

{
  if (DAT_BATTLE_BIN__800960c8 == 0) {
    if ((DAT_8004594c & 4) != 0) {
      FUN_BATTLE_BIN__8006f174(((int)DAT_BATTLE_BIN__800a7786 & 0xfe00U) - 0x400);
      Call_Play_SoundEffect((MusicDataHeader *)0xb);
    }
    if ((DAT_8004594c & 8) != 0) {
      FUN_BATTLE_BIN__8006f1e0(((int)DAT_BATTLE_BIN__800a7786 & 0xfe00U) + 0x400);
      Call_Play_SoundEffect((MusicDataHeader *)0xc);
    }
  }
  return;
}



void FUN_BATTLE_BIN__8006f320(void)

{
  int iVar1;
  
  if (DAT_BATTLE_BIN__800960c8 == 1) {
    iVar1 = (uint)DAT_BATTLE_BIN__800a7786 - (DAT_BATTLE_BIN__800e4e88 & 0xffff);
    DAT_BATTLE_BIN__800a7786 = (ushort)iVar1;
    if ((int)DAT_BATTLE_BIN__800c7c60 < iVar1 * 0x10000 >> 0x10) goto LAB_BATTLE_BIN__8006f46c;
    DAT_BATTLE_BIN__800a7786 = (ushort)DAT_BATTLE_BIN__800c7c60 & 0xfff;
    if ((DAT_80045948 & 4) != 0) {
      if (DAT_BATTLE_BIN__800960e4 != 0x34) {
        FUN_BATTLE_BIN__8006f13c((DAT_BATTLE_BIN__800c7c60 & 0xfe0) - 0x400);
      }
      goto LAB_BATTLE_BIN__8006f46c;
    }
  }
  else {
    if (DAT_BATTLE_BIN__800960c8 != 2) {
      return;
    }
    DAT_BATTLE_BIN__800a7786 = DAT_BATTLE_BIN__800a7786 + (short)DAT_BATTLE_BIN__800e4e88;
    if ((int)(short)DAT_BATTLE_BIN__800a7786 < (int)DAT_BATTLE_BIN__800c7c60)
    goto LAB_BATTLE_BIN__8006f46c;
    DAT_BATTLE_BIN__800a7786 = (ushort)DAT_BATTLE_BIN__800c7c60 & 0xfff;
    if ((DAT_80045948 & 8) != 0) {
      if (DAT_BATTLE_BIN__800960e4 != 0x34) {
        FUN_BATTLE_BIN__8006f13c((DAT_BATTLE_BIN__800c7c60 & 0xfe0) + 0x400);
      }
      goto LAB_BATTLE_BIN__8006f46c;
    }
  }
  DAT_BATTLE_BIN__800a7786 = (ushort)DAT_BATTLE_BIN__800c7c60 & 0xfff;
  DAT_BATTLE_BIN__800960c8 = 0;
  FUN_800440f4((MusicDataHeader *)0xc);
  FUN_800440f4((MusicDataHeader *)0xb);
  Call_Play_SoundEffect((MusicDataHeader *)0xd);
LAB_BATTLE_BIN__8006f46c:
  if ((int)DAT_BATTLE_BIN__800e4e88 < 0x30) {
    DAT_BATTLE_BIN__800e4e88 = DAT_80045980 * 2 + DAT_BATTLE_BIN__800e4e88;
  }
  return;
}



void FUN_BATTLE_BIN__8006f5bc(void)

{
  uint uVar1;
  
  if (DAT_BATTLE_BIN__800960d0 == 1) {
    DAT_BATTLE_BIN__800960cc = 4;
    DAT_BATTLE_BIN__800960d0 = 4;
    uVar1 = 0x11;
  }
  else {
    uVar1 = 0xe;
    if (DAT_BATTLE_BIN__800960d0 != 4) {
      DAT_BATTLE_BIN__800c7c64 = 4;
      return;
    }
    DAT_BATTLE_BIN__800960d0 = 1;
    DAT_BATTLE_BIN__800960cc = 2;
  }
  Call_Play_Sound(uVar1);
  DAT_BATTLE_BIN__800c7c64 = 4;
  return;
}



void FUN_BATTLE_BIN__8006f634(void)

{
  if ((DAT_BATTLE_BIN__800960cc == 0) && ((DAT_8004594c & 1) != 0)) {
    FUN_BATTLE_BIN__8006f5bc();
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8006f678(void)

{
  int iVar1;
  
  if ((DAT_BATTLE_BIN__800960cc == 2) && (DAT_BATTLE_BIN__800960d0 == 1)) {
    _DAT_BATTLE_BIN__800c7ca0 = _DAT_BATTLE_BIN__800c7ca0 + DAT_BATTLE_BIN__800c7c64;
    _DAT_BATTLE_BIN__800c7ca4 = _DAT_BATTLE_BIN__800c7ca4 + DAT_BATTLE_BIN__800c7c64;
    DAT_BATTLE_BIN__800c7ca8 = DAT_BATTLE_BIN__800c7ca8 + DAT_BATTLE_BIN__800c7c64;
    if (_DAT_BATTLE_BIN__800c7ca0 < 0x1000) goto LAB_BATTLE_BIN__8006f798;
    iVar1 = 0x1000;
  }
  else {
    if (DAT_BATTLE_BIN__800960cc != 4) {
      return;
    }
    if (DAT_BATTLE_BIN__800960d0 != 4) {
      return;
    }
    _DAT_BATTLE_BIN__800c7ca0 = _DAT_BATTLE_BIN__800c7ca0 - DAT_BATTLE_BIN__800c7c64;
    _DAT_BATTLE_BIN__800c7ca4 = _DAT_BATTLE_BIN__800c7ca4 - DAT_BATTLE_BIN__800c7c64;
    DAT_BATTLE_BIN__800c7ca8 = DAT_BATTLE_BIN__800c7ca8 - DAT_BATTLE_BIN__800c7c64;
    iVar1 = 0xc00;
    if (0xc00 < _DAT_BATTLE_BIN__800c7ca0) goto LAB_BATTLE_BIN__8006f798;
  }
  DAT_BATTLE_BIN__800960cc = 0;
  _DAT_BATTLE_BIN__800c7ca0 = iVar1;
  _DAT_BATTLE_BIN__800c7ca4 = iVar1;
  DAT_BATTLE_BIN__800c7ca8 = iVar1;
LAB_BATTLE_BIN__8006f798:
  if (DAT_BATTLE_BIN__800c7c64 < 0x300) {
    DAT_BATTLE_BIN__800c7c64 = DAT_80045980 * 4 + DAT_BATTLE_BIN__800c7c64;
  }
  return;
}



void FUN_BATTLE_BIN__8006f8c8(void)

{
  int iVar1;
  int iVar2;
  
  if (DAT_BATTLE_BIN__800960d8 == 1) {
    iVar1 = 2;
    iVar2 = 2;
  }
  else if (DAT_BATTLE_BIN__800960d8 == 2) {
    DAT_BATTLE_BIN__800960d8 = 1;
    DAT_BATTLE_BIN__800960d4 = 4;
    iVar1 = DAT_BATTLE_BIN__800960d4;
    iVar2 = DAT_BATTLE_BIN__800960d8;
  }
  else {
    iVar1 = 4;
    iVar2 = 4;
    if ((DAT_BATTLE_BIN__800960d8 != 3) &&
       (iVar1 = DAT_BATTLE_BIN__800960d4, iVar2 = DAT_BATTLE_BIN__800960d8,
       DAT_BATTLE_BIN__800960d8 == 4)) {
      DAT_BATTLE_BIN__800960d8 = 1;
      DAT_BATTLE_BIN__800960d4 = 2;
      iVar1 = DAT_BATTLE_BIN__800960d4;
      iVar2 = DAT_BATTLE_BIN__800960d8;
    }
  }
  DAT_BATTLE_BIN__800960d8 = iVar2;
  DAT_BATTLE_BIN__800960d4 = iVar1;
  DAT_BATTLE_BIN__800e4e84 = 1;
  Call_Play_Sound(0x31);
  return;
}



void FUN_BATTLE_BIN__8006f968(void)

{
  if ((DAT_BATTLE_BIN__800960d4 == 0) && ((DAT_8004594c & 2) != 0)) {
    FUN_BATTLE_BIN__8006f8c8();
  }
  return;
}



void FUN_BATTLE_BIN__8006f9ac(void)

{
  short sVar1;
  int iVar2;
  
  if ((DAT_BATTLE_BIN__800960d4 == 2) && (DAT_BATTLE_BIN__800960d8 == 2)) {
    DAT_BATTLE_BIN__800a7784 = DAT_BATTLE_BIN__800a7784 + (short)DAT_BATTLE_BIN__800e4e84;
    sVar1 = 0x1c0;
    if ((short)DAT_BATTLE_BIN__800a7784 < 0x1c0) goto LAB_BATTLE_BIN__8006fb14;
  }
  else if (DAT_BATTLE_BIN__800960d4 == 4) {
    if (DAT_BATTLE_BIN__800960d8 == 1) {
      iVar2 = (uint)DAT_BATTLE_BIN__800a7784 - (DAT_BATTLE_BIN__800e4e84 & 0xffff);
      DAT_BATTLE_BIN__800a7784 = (ushort)iVar2;
      sVar1 = 0x12e;
      if (0x12e < iVar2 * 0x10000 >> 0x10) goto LAB_BATTLE_BIN__8006fb14;
    }
    else {
      if (DAT_BATTLE_BIN__800960d8 != 2) goto LAB_BATTLE_BIN__8006faac;
      iVar2 = (uint)DAT_BATTLE_BIN__800a7784 - (DAT_BATTLE_BIN__800e4e84 & 0xffff);
      DAT_BATTLE_BIN__800a7784 = (ushort)iVar2;
      sVar1 = 0x1c0;
      if (0x1c0 < iVar2 * 0x10000 >> 0x10) goto LAB_BATTLE_BIN__8006fb14;
    }
  }
  else {
LAB_BATTLE_BIN__8006faac:
    if (DAT_BATTLE_BIN__800960d4 != 2) {
      return;
    }
    if (DAT_BATTLE_BIN__800960d8 != 1) {
      return;
    }
    DAT_BATTLE_BIN__800a7784 = DAT_BATTLE_BIN__800a7784 + (short)DAT_BATTLE_BIN__800e4e84;
    sVar1 = 0x12e;
    if ((short)DAT_BATTLE_BIN__800a7784 < 0x12e) goto LAB_BATTLE_BIN__8006fb14;
  }
  DAT_BATTLE_BIN__800960d4 = 0;
  DAT_BATTLE_BIN__800a7784 = sVar1;
LAB_BATTLE_BIN__8006fb14:
  if ((int)DAT_BATTLE_BIN__800e4e84 < 0x30) {
    DAT_BATTLE_BIN__800e4e84 = DAT_80045980 * 2 + DAT_BATTLE_BIN__800e4e84;
  }
  return;
}



void FUN_BATTLE_BIN__8006fb50(void)

{
  int *piVar1;
  int iVar2;
  VECTOR local_18;
  
  piVar1 = FUN_BATTLE_BIN__8007a218();
  iVar2 = DAT_BATTLE_BIN__800e4e74;
  if (DAT_BATTLE_BIN__800e4e74 < 0) {
    iVar2 = DAT_BATTLE_BIN__800e4e74 + 0xfff;
  }
  local_18.vx = (int)*(short *)(piVar1 + 0x10) - (iVar2 >> 0xc);
  iVar2 = DAT_BATTLE_BIN__800e4e78;
  if (DAT_BATTLE_BIN__800e4e78 < 0) {
    iVar2 = DAT_BATTLE_BIN__800e4e78 + 0xfff;
  }
  local_18.vy = (int)*(short *)((int)piVar1 + 0x42) - (iVar2 >> 0xc);
  iVar2 = DAT_BATTLE_BIN__800e4e7c;
  if (DAT_BATTLE_BIN__800e4e7c < 0) {
    iVar2 = DAT_BATTLE_BIN__800e4e7c + 0xfff;
  }
  local_18.vz = (int)*(short *)(piVar1 + 0x11) - (iVar2 >> 0xc);
  VectorNormal(&local_18,(VECTOR *)&DAT_BATTLE_BIN__800a1c48);
  DAT_BATTLE_BIN__800a1c4c = DAT_BATTLE_BIN__800a1c4c << 2;
  return;
}



void FUN_BATTLE_BIN__8006fc08(void)

{
  FUN_BATTLE_BIN__8006fb50();
  DAT_BATTLE_BIN__800a1c48 = DAT_BATTLE_BIN__800a1c48 << 1;
  DAT_BATTLE_BIN__800a1c4c = DAT_BATTLE_BIN__800a1c4c << 1;
  DAT_BATTLE_BIN__800a1c50 = DAT_BATTLE_BIN__800a1c50 << 1;
  return;
}



int FUN_BATTLE_BIN__8006fc68(void)

{
  int iVar1;
  undefined1 *puVar2;
  int iVar3;
  short local_28 [2];
  short local_24;
  VECTOR local_20;
  
  puVar2 = FUN_BATTLE_BIN__80183fb4
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  FUN_BATTLE_BIN__80183fb4
            (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8 ^ 1);
  iVar1 = -(((uint)(byte)puVar2[2] + (uint)((byte)puVar2[3] >> 5)) * 0xc +
           ((byte)puVar2[3] & 0x1f) * 6);
  Store_3_Halfwords(local_28,(short)DAT_BATTLE_BIN__800961b4 * 0x1c + 0xe,(short)iVar1,
                    (short)DAT_BATTLE_BIN__800961bc * 0x1c + 0xe);
  iVar3 = DAT_BATTLE_BIN__800e4e74;
  if (DAT_BATTLE_BIN__800e4e74 < 0) {
    iVar3 = DAT_BATTLE_BIN__800e4e74 + 0xfff;
  }
  local_20.vx = (int)local_28[0] - (iVar3 >> 0xc);
  iVar3 = DAT_BATTLE_BIN__800e4e78;
  if (DAT_BATTLE_BIN__800e4e78 < 0) {
    iVar3 = DAT_BATTLE_BIN__800e4e78 + 0xfff;
  }
  local_20.vy = iVar1 - (iVar3 >> 0xc);
  iVar3 = DAT_BATTLE_BIN__800e4e7c;
  if (DAT_BATTLE_BIN__800e4e7c < 0) {
    iVar3 = DAT_BATTLE_BIN__800e4e7c + 0xfff;
  }
  local_20.vz = (int)local_24 - (iVar3 >> 0xc);
  VectorNormal(&local_20,(VECTOR *)&DAT_BATTLE_BIN__800a1c48);
  DAT_BATTLE_BIN__800a1c48 = DAT_BATTLE_BIN__800a1c48 * 3;
  DAT_BATTLE_BIN__800a1c4c = DAT_BATTLE_BIN__800a1c4c * 3;
  DAT_BATTLE_BIN__800a1c50 = DAT_BATTLE_BIN__800a1c50 * 3;
  return iVar1;
}



void FUN_BATTLE_BIN__8006fdf8(void)

{
  FUN_BATTLE_BIN__8006fc68();
  DAT_BATTLE_BIN__800a1c48 = DAT_BATTLE_BIN__800a1c48 << 1;
  DAT_BATTLE_BIN__800a1c4c = DAT_BATTLE_BIN__800a1c4c << 1;
  DAT_BATTLE_BIN__800a1c50 = DAT_BATTLE_BIN__800a1c50 << 1;
  return;
}



void FUN_BATTLE_BIN__8006fe58(short param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (DAT_BATTLE_BIN__800a1c48 < 0) {
    iVar3 = DAT_BATTLE_BIN__800e4e74;
    if (DAT_BATTLE_BIN__800e4e74 < 0) {
      iVar3 = DAT_BATTLE_BIN__800e4e74 + 0xfff;
    }
    iVar4 = DAT_BATTLE_BIN__800961b4 * 0x1c + 0xe;
    iVar2 = DAT_BATTLE_BIN__800e4e74 + DAT_BATTLE_BIN__800a1c48;
    if (iVar4 < iVar3 >> 0xc) {
      if (iVar2 < 0) {
        iVar2 = iVar2 + 0xfff;
      }
      bVar1 = iVar2 >> 0xc < iVar4;
LAB_BATTLE_BIN__8006ff20:
      DAT_BATTLE_BIN__800e4e74 = DAT_BATTLE_BIN__800e4e74 + DAT_BATTLE_BIN__800a1c48;
      if (bVar1) {
        DAT_BATTLE_BIN__800e4e74 = iVar4 << 0xc;
      }
    }
  }
  else {
    iVar3 = DAT_BATTLE_BIN__800e4e74;
    if (DAT_BATTLE_BIN__800e4e74 < 0) {
      iVar3 = DAT_BATTLE_BIN__800e4e74 + 0xfff;
    }
    iVar4 = DAT_BATTLE_BIN__800961b4 * 0x1c + 0xe;
    iVar2 = DAT_BATTLE_BIN__800e4e74 + DAT_BATTLE_BIN__800a1c48;
    if (iVar3 >> 0xc < iVar4) {
      if (iVar2 < 0) {
        iVar2 = iVar2 + 0xfff;
      }
      bVar1 = iVar4 < iVar2 >> 0xc;
      goto LAB_BATTLE_BIN__8006ff20;
    }
  }
  if (DAT_BATTLE_BIN__800a1c4c < 0) {
    iVar3 = DAT_BATTLE_BIN__800e4e78;
    if (DAT_BATTLE_BIN__800e4e78 < 0) {
      iVar3 = DAT_BATTLE_BIN__800e4e78 + 0xfff;
    }
    iVar2 = DAT_BATTLE_BIN__800e4e78 + DAT_BATTLE_BIN__800a1c4c;
    if (iVar3 >> 0xc <= (int)param_1) goto LAB_BATTLE_BIN__8006ffe0;
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0xfff;
    }
    bVar1 = iVar2 >> 0xc < (int)param_1;
  }
  else {
    iVar3 = DAT_BATTLE_BIN__800e4e78;
    if (DAT_BATTLE_BIN__800e4e78 < 0) {
      iVar3 = DAT_BATTLE_BIN__800e4e78 + 0xfff;
    }
    iVar2 = DAT_BATTLE_BIN__800e4e78 + DAT_BATTLE_BIN__800a1c4c;
    if ((int)param_1 <= iVar3 >> 0xc) goto LAB_BATTLE_BIN__8006ffe0;
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0xfff;
    }
    bVar1 = (int)param_1 < iVar2 >> 0xc;
  }
  DAT_BATTLE_BIN__800e4e78 = DAT_BATTLE_BIN__800e4e78 + DAT_BATTLE_BIN__800a1c4c;
  if (bVar1) {
    DAT_BATTLE_BIN__800e4e78 = (int)param_1 << 0xc;
  }
LAB_BATTLE_BIN__8006ffe0:
  if (DAT_BATTLE_BIN__800a1c50 < 0) {
    iVar3 = DAT_BATTLE_BIN__800e4e7c;
    if (DAT_BATTLE_BIN__800e4e7c < 0) {
      iVar3 = DAT_BATTLE_BIN__800e4e7c + 0xfff;
    }
    iVar4 = DAT_BATTLE_BIN__800961bc * 0x1c + 0xe;
    iVar2 = DAT_BATTLE_BIN__800e4e7c + DAT_BATTLE_BIN__800a1c50;
    if (iVar3 >> 0xc <= iVar4) {
      return;
    }
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0xfff;
    }
    bVar1 = iVar2 >> 0xc < iVar4;
  }
  else {
    iVar3 = DAT_BATTLE_BIN__800e4e7c;
    if (DAT_BATTLE_BIN__800e4e7c < 0) {
      iVar3 = DAT_BATTLE_BIN__800e4e7c + 0xfff;
    }
    iVar4 = DAT_BATTLE_BIN__800961bc * 0x1c + 0xe;
    iVar2 = DAT_BATTLE_BIN__800e4e7c + DAT_BATTLE_BIN__800a1c50;
    if (iVar4 <= iVar3 >> 0xc) {
      return;
    }
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0xfff;
    }
    bVar1 = iVar4 < iVar2 >> 0xc;
  }
  DAT_BATTLE_BIN__800e4e7c = DAT_BATTLE_BIN__800e4e7c + DAT_BATTLE_BIN__800a1c50;
  if (bVar1) {
    DAT_BATTLE_BIN__800e4e7c = iVar4 << 0xc;
  }
  return;
}



void FUN_BATTLE_BIN__800700bc(int param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (DAT_BATTLE_BIN__800a1c48 < 0) {
    iVar4 = DAT_BATTLE_BIN__800e4e74;
    if (DAT_BATTLE_BIN__800e4e74 < 0) {
      iVar4 = DAT_BATTLE_BIN__800e4e74 + 0xfff;
    }
    iVar2 = DAT_BATTLE_BIN__800e4e74 + DAT_BATTLE_BIN__800a1c48;
    if ((int)*(short *)(param_1 + 0x40) < iVar4 >> 0xc) {
      if (iVar2 < 0) {
        iVar2 = iVar2 + 0xfff;
      }
      iVar4 = (int)*(short *)(param_1 + 0x40);
      bVar1 = iVar2 >> 0xc < iVar4;
LAB_BATTLE_BIN__80070164:
      DAT_BATTLE_BIN__800e4e74 = DAT_BATTLE_BIN__800e4e74 + DAT_BATTLE_BIN__800a1c48;
      if (bVar1) {
        DAT_BATTLE_BIN__800e4e74 = iVar4 << 0xc;
      }
    }
  }
  else {
    iVar4 = DAT_BATTLE_BIN__800e4e74;
    if (DAT_BATTLE_BIN__800e4e74 < 0) {
      iVar4 = DAT_BATTLE_BIN__800e4e74 + 0xfff;
    }
    iVar2 = DAT_BATTLE_BIN__800e4e74 + DAT_BATTLE_BIN__800a1c48;
    if (iVar4 >> 0xc < (int)*(short *)(param_1 + 0x40)) {
      if (iVar2 < 0) {
        iVar2 = iVar2 + 0xfff;
      }
      iVar4 = (int)*(short *)(param_1 + 0x40);
      bVar1 = iVar4 < iVar2 >> 0xc;
      goto LAB_BATTLE_BIN__80070164;
    }
  }
  if (DAT_BATTLE_BIN__800a1c4c < 0) {
    iVar4 = DAT_BATTLE_BIN__800e4e78;
    if (DAT_BATTLE_BIN__800e4e78 < 0) {
      iVar4 = DAT_BATTLE_BIN__800e4e78 + 0xfff;
    }
    iVar2 = DAT_BATTLE_BIN__800e4e78 + DAT_BATTLE_BIN__800a1c4c;
    if (iVar4 >> 0xc <= (int)*(short *)(param_1 + 0x42)) goto LAB_BATTLE_BIN__80070224;
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0xfff;
    }
    iVar4 = (int)*(short *)(param_1 + 0x42);
    bVar1 = iVar2 >> 0xc < iVar4;
  }
  else {
    iVar4 = DAT_BATTLE_BIN__800e4e78;
    if (DAT_BATTLE_BIN__800e4e78 < 0) {
      iVar4 = DAT_BATTLE_BIN__800e4e78 + 0xfff;
    }
    iVar2 = DAT_BATTLE_BIN__800e4e78 + DAT_BATTLE_BIN__800a1c4c;
    if ((int)*(short *)(param_1 + 0x42) <= iVar4 >> 0xc) goto LAB_BATTLE_BIN__80070224;
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0xfff;
    }
    iVar4 = (int)*(short *)(param_1 + 0x42);
    bVar1 = iVar4 < iVar2 >> 0xc;
  }
  DAT_BATTLE_BIN__800e4e78 = DAT_BATTLE_BIN__800e4e78 + DAT_BATTLE_BIN__800a1c4c;
  if (bVar1) {
    DAT_BATTLE_BIN__800e4e78 = iVar4 << 0xc;
  }
LAB_BATTLE_BIN__80070224:
  if (DAT_BATTLE_BIN__800a1c50 < 0) {
    iVar4 = DAT_BATTLE_BIN__800e4e7c;
    if (DAT_BATTLE_BIN__800e4e7c < 0) {
      iVar4 = DAT_BATTLE_BIN__800e4e7c + 0xfff;
    }
    iVar3 = DAT_BATTLE_BIN__800e4e7c + DAT_BATTLE_BIN__800a1c50;
    if (iVar4 >> 0xc <= (int)*(short *)(param_1 + 0x44)) {
      return;
    }
    iVar4 = iVar3;
    if (iVar3 < 0) {
      iVar4 = iVar3 + 0xfff;
    }
    iVar2 = (int)*(short *)(param_1 + 0x44);
    bVar1 = iVar4 >> 0xc < iVar2;
    DAT_BATTLE_BIN__800e4e7c = iVar3;
  }
  else {
    iVar4 = DAT_BATTLE_BIN__800e4e7c;
    if (DAT_BATTLE_BIN__800e4e7c < 0) {
      iVar4 = DAT_BATTLE_BIN__800e4e7c + 0xfff;
    }
    if ((int)*(short *)(param_1 + 0x44) <= iVar4 >> 0xc) {
      return;
    }
    DAT_BATTLE_BIN__800e4e7c = DAT_BATTLE_BIN__800a1c50 * 2 + DAT_BATTLE_BIN__800e4e7c;
    iVar4 = DAT_BATTLE_BIN__800e4e7c;
    if (DAT_BATTLE_BIN__800e4e7c < 0) {
      iVar4 = DAT_BATTLE_BIN__800e4e7c + 0xfff;
    }
    iVar2 = (int)*(short *)(param_1 + 0x44);
    bVar1 = iVar2 < iVar4 >> 0xc;
  }
  if (bVar1) {
    DAT_BATTLE_BIN__800e4e7c = iVar2 << 0xc;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__800702e4(void)

{
  short sVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  
  if (DAT_BATTLE_BIN__800960e4 == 0x15) {
    piVar2 = FUN_BATTLE_BIN__8007a2b8
                       (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
    iVar3 = 0;
    if (piVar2 != (int *)0x0) {
      iVar4 = (uint)((byte)(&DAT_BATTLE_BIN__8009474b)[(uint)*(byte *)((int)piVar2 + 6) * 4] >> 1) *
              _DAT_BATTLE_BIN__800c7ca4;
      iVar3 = iVar4 >> 0xc;
      if (iVar4 < 0) {
        iVar3 = iVar4 + 0xfff >> 0xc;
      }
    }
    if (((DAT_BATTLE_BIN__800c7c68 - 0xf9 < 0xf) && (0xa0 < DAT_BATTLE_BIN__800c7c6c - iVar3)) &&
       (DAT_BATTLE_BIN__800c7c6c < 0xb0)) goto LAB_BATTLE_BIN__80070614;
  }
  else {
    if (((DAT_BATTLE_BIN__800960e4 == 0x11) || (DAT_BATTLE_BIN__800960e4 == 0x13)) ||
       (DAT_BATTLE_BIN__800960e4 == 0x1c)) {
      piVar2 = FUN_BATTLE_BIN__8007a218();
      iVar3 = (uint)((byte)(&DAT_BATTLE_BIN__8009474b)[(uint)*(byte *)((int)piVar2 + 6) * 4] >> 1) *
              _DAT_BATTLE_BIN__800c7ca4;
      if (iVar3 < 0) {
        iVar3 = iVar3 + 0xfff;
      }
      if (((0x9e < *(ushort *)(piVar2 + 0x48) - 0xb1) ||
          ((int)*(short *)((int)piVar2 + 0x122) - (iVar3 >> 0xc) < 0x51)) ||
         (0x9f < *(short *)((int)piVar2 + 0x122))) {
        if (((*(ushort *)(piVar2 + 0x48) - 0xa1 < 0xbf) &&
            (0x40 < (int)*(short *)((int)piVar2 + 0x122) - (iVar3 >> 0xc))) &&
           (*(short *)((int)piVar2 + 0x122) < 0xb0)) {
          FUN_BATTLE_BIN__8006fb50();
        }
        else {
          FUN_BATTLE_BIN__8006fc08();
        }
        FUN_BATTLE_BIN__800700bc((int)piVar2);
        return;
      }
LAB_BATTLE_BIN__80070614:
      Store_3_Words(&DAT_BATTLE_BIN__800a1c48,0,0,0);
      return;
    }
    if (0x28 < DAT_BATTLE_BIN__800960e4) goto LAB_BATTLE_BIN__80070614;
    if (DAT_BATTLE_BIN__800960cc != 0) {
      return;
    }
    if (DAT_BATTLE_BIN__800960d4 != 0) {
      return;
    }
    if (DAT_BATTLE_BIN__800960c8 != 0) {
      return;
    }
    if (DAT_BATTLE_BIN__800960dc != 0) {
      return;
    }
    piVar2 = FUN_BATTLE_BIN__8007a2b8
                       (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
    iVar3 = 0;
    if (piVar2 != (int *)0x0) {
      iVar4 = (uint)((byte)(&DAT_BATTLE_BIN__8009474b)[(uint)*(byte *)((int)piVar2 + 6) * 4] >> 1) *
              _DAT_BATTLE_BIN__800c7ca4;
      iVar3 = iVar4 >> 0xc;
      if (iVar4 < 0) {
        iVar3 = iVar4 + 0xfff >> 0xc;
      }
    }
    if (((DAT_BATTLE_BIN__800c7c68 - 0xb1 < 0x9f) && (0x50 < DAT_BATTLE_BIN__800c7c6c - iVar3)) &&
       (DAT_BATTLE_BIN__800c7c6c < 0xa0)) goto LAB_BATTLE_BIN__80070614;
    if (((DAT_BATTLE_BIN__800c7c68 - 0xa1 < 0xbf) && (0x40 < DAT_BATTLE_BIN__800c7c6c - iVar3)) &&
       (DAT_BATTLE_BIN__800c7c6c < 0xb0)) {
      iVar3 = FUN_BATTLE_BIN__8006fc68();
      sVar1 = (short)iVar3;
      goto LAB_BATTLE_BIN__80070604;
    }
  }
  sVar1 = FUN_BATTLE_BIN__8006fdf8();
LAB_BATTLE_BIN__80070604:
  FUN_BATTLE_BIN__8006fe58(sVar1);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__80070640(void)

{
  short sVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  
  if ((((DAT_BATTLE_BIN__800960cc == 0) && (DAT_BATTLE_BIN__800960d4 == 0)) &&
      (DAT_BATTLE_BIN__800960c8 == 0)) && (DAT_BATTLE_BIN__800960dc == 0)) {
    piVar2 = FUN_BATTLE_BIN__8007a2b8
                       (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
    iVar3 = 0;
    if (piVar2 != (int *)0x0) {
      iVar4 = (uint)((byte)(&DAT_BATTLE_BIN__8009474b)[(uint)*(byte *)((int)piVar2 + 6) * 4] >> 1) *
              _DAT_BATTLE_BIN__800c7ca4;
      iVar3 = iVar4 >> 0xc;
      if (iVar4 < 0) {
        iVar3 = iVar4 + 0xfff >> 0xc;
      }
    }
    if (((DAT_BATTLE_BIN__800c7c68 - 0xb1 < 0x9f) && (0x50 < DAT_BATTLE_BIN__800c7c6c - iVar3)) &&
       (DAT_BATTLE_BIN__800c7c6c < 0xa0)) {
      Store_3_Words(&DAT_BATTLE_BIN__800a1c48,0,0,0);
    }
    else {
      if (((DAT_BATTLE_BIN__800c7c68 - 0xa1 < 0xbf) && (0x40 < DAT_BATTLE_BIN__800c7c6c - iVar3)) &&
         (DAT_BATTLE_BIN__800c7c6c < 0xb0)) {
        iVar3 = FUN_BATTLE_BIN__8006fc68();
        sVar1 = (short)iVar3;
      }
      else {
        sVar1 = FUN_BATTLE_BIN__8006fdf8();
      }
      FUN_BATTLE_BIN__8006fe58(sVar1);
    }
  }
  return;
}



void FUN_BATTLE_BIN__800707c4(void)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)iVar2);
    iVar2 = iVar2 + 1;
    if ((piVar1 != (int *)0x0) && (*(char *)(piVar1 + 0x27) != '\0')) {
      FUN_BATTLE_BIN__8006d818(piVar1);
    }
  } while (iVar2 < 0x10);
  return;
}



// WARNING: Removing unreachable block (ram,0x8007085c)

void FUN_BATTLE_BIN__80070820(int param_1)

{
  byte bVar1;
  undefined1 *puVar2;
  uint uVar3;
  byte bVar4;
  int iVar5;
  
  puVar2 = FUN_BATTLE_BIN__80183fb4
                     ((uint)*(byte *)(param_1 + 0x7c),(uint)*(byte *)(param_1 + 0x7d),
                      (uint)*(byte *)(param_1 + 0x7e));
  uVar3 = (int)(-(int)DAT_BATTLE_BIN__800a7786 & 0xfffU) >> 10;
  if (DAT_BATTLE_BIN__800a7784 < 0x178) {
    bVar4 = puVar2[7] & 0xf;
  }
  else {
    bVar4 = (byte)puVar2[7] >> 4;
  }
  if (uVar3 == 1) {
    if ((bVar4 & 2) == 0) {
      return;
    }
    if ((bVar4 & 1) == 0) {
      iVar5 = 0x400;
      goto LAB_BATTLE_BIN__80070980;
    }
    bVar1 = bVar4 & 8;
    if ((bVar4 & 4) == 0) {
      iVar5 = -0x400;
      goto LAB_BATTLE_BIN__80070980;
    }
  }
  else if (uVar3 < 2) {
    if (uVar3 != 0) {
      return;
    }
    if ((bVar4 & 1) == 0) {
      return;
    }
    if ((bVar4 & 8) == 0) {
      iVar5 = 0x400;
      goto LAB_BATTLE_BIN__80070980;
    }
    bVar1 = bVar4 & 4;
    if ((bVar4 & 2) == 0) {
      iVar5 = -0x400;
      goto LAB_BATTLE_BIN__80070980;
    }
  }
  else if (uVar3 == 2) {
    if ((bVar4 & 4) == 0) {
      return;
    }
    if ((bVar4 & 2) == 0) {
      iVar5 = 0x400;
      goto LAB_BATTLE_BIN__80070980;
    }
    bVar1 = bVar4 & 1;
    if ((bVar4 & 8) == 0) {
      iVar5 = -0x400;
      goto LAB_BATTLE_BIN__80070980;
    }
  }
  else {
    if (uVar3 != 3) {
      return;
    }
    if ((bVar4 & 8) == 0) {
      return;
    }
    if ((bVar4 & 4) == 0) {
      iVar5 = 0x400;
      goto LAB_BATTLE_BIN__80070980;
    }
    bVar1 = bVar4 & 2;
    if ((bVar4 & 1) == 0) {
      iVar5 = -0x400;
      goto LAB_BATTLE_BIN__80070980;
    }
  }
  iVar5 = 0x800;
  if (bVar1 != 0) {
    return;
  }
LAB_BATTLE_BIN__80070980:
  FUN_BATTLE_BIN__8006f218(iVar5);
  return;
}



void FUN_BATTLE_BIN__80070998(void)

{
  DAT_80045980 = 2;
  DAT_BATTLE_BIN__800960e4 = 0x34;
  FUN_BATTLE_BIN__8008d1c8();
  FUN_BATTLE_BIN__8013f4a8();
  FUN_BATTLE_BIN__800683d4();
  DAT_BATTLE_BIN__800e4e8c = 0;
  DAT_BATTLE_BIN__8009611c = 0xff;
  DAT_BATTLE_BIN__80096118 = 0xff;
  return;
}



void FUN_BATTLE_BIN__800709fc(void)

{
  FUN_BATTLE_BIN__80070998();
  FUN_BATTLE_BIN__801419b8(8,0,0xff,0,1);
  return;
}



bool FUN_BATTLE_BIN__80070a38(int param_1)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  
  if ((DAT_BATTLE_BIN__80098d84 == 0x100) || (DAT_BATTLE_BIN__80098d84 == 0xff00)) {
    uVar3 = 0;
LAB_BATTLE_BIN__80070b18:
    bVar1 = *(byte *)(*(int *)(param_1 + 0x134) + 0x18a);
  }
  else {
    if ((DAT_BATTLE_BIN__80098d84 != 0x200) && (uVar3 = 1, DAT_BATTLE_BIN__80098d84 != 0x300))
    goto LAB_BATTLE_BIN__80070b18;
    iVar2 = FUN_BATTLE_BIN__801419b8(8,2,(uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a),0,1);
    if ((iVar2 != 2) || (uVar3 = FUN_BATTLE_BIN__80142ba4(), uVar3 == 0)) {
      uVar3 = 1;
      goto LAB_BATTLE_BIN__80070b18;
    }
    uVar3 = 1;
    if (3 < *(byte *)(param_1 + 6)) {
      FUN_BATTLE_BIN__801419b8(8,0,(uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a),0,1);
      iVar2 = 2;
      goto LAB_BATTLE_BIN__80070b3c;
    }
    bVar1 = *(byte *)(*(int *)(param_1 + 0x134) + 0x18a);
  }
  iVar2 = FUN_BATTLE_BIN__801419b8(8,uVar3,(uint)bVar1,0,1);
LAB_BATTLE_BIN__80070b3c:
  if (iVar2 == 2) {
    DAT_BATTLE_BIN__800960e8 = DAT_BATTLE_BIN__800960e4;
    FUN_BATTLE_BIN__80070998();
  }
  return iVar2 == 2;
}



void FUN_BATTLE_BIN__80070b7c(int param_1)

{
  byte bVar1;
  int *piVar2;
  
  bVar1 = *(byte *)(*(int *)(param_1 + 0x134) + 5);
  *(byte *)(param_1 + 0x13d) = bVar1;
  if (*(char *)(*(int *)(param_1 + 0x134) + 0x1b8) != '\0') {
    *(byte *)(param_1 + 0x13d) = bVar1 & 0xf7;
  }
  if (*(char *)(param_1 + 0x130) != '\0') {
    piVar2 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131));
    bVar1 = *(byte *)(piVar2[0x4d] + 5);
    *(byte *)((int)piVar2 + 0x13d) = bVar1;
    if (*(char *)(piVar2[0x4d] + 0x1b8) != '\0') {
      *(byte *)((int)piVar2 + 0x13d) = bVar1 & 0xf7;
    }
  }
  return;
}



void FUN_BATTLE_BIN__80070c04(void)

{
  bool bVar1;
  int *piVar2;
  int *piVar3;
  undefined3 extraout_var;
  
  FUN_BATTLE_BIN__8006eef0();
  piVar2 = FUN_BATTLE_BIN__8007a1d4();
  piVar3 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__800683c0();
  FUN_BATTLE_BIN__80070b7c((int)piVar2);
  bVar1 = FUN_BATTLE_BIN__80070a38((int)piVar3);
  if (CONCAT31(extraout_var,bVar1) == 0) {
    DAT_BATTLE_BIN__800960e4 = 3;
    DAT_BATTLE_BIN__80098db8 = 0;
    FUN_BATTLE_BIN__80070820((int)piVar2);
  }
  return;
}



void FUN_BATTLE_BIN__80070c78(void)

{
  int *piVar1;
  
  DAT_80045980 = 1;
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0;
  DAT_BATTLE_BIN__800960ec = 0;
  FUN_BATTLE_BIN__8006e55c();
  FUN_BATTLE_BIN__800683c0();
  piVar1 = FUN_BATTLE_BIN__8007a218();
  if (piVar1 != (int *)0x0) {
    FUN_BATTLE_BIN__80070b7c((int)piVar1);
  }
  return;
}



void FUN_BATTLE_BIN__80070cdc(void)

{
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 1;
  DAT_BATTLE_BIN__800960ec = 1;
  FUN_BATTLE_BIN__8013d0ac();
  return;
}



int FUN_BATTLE_BIN__80070d18(void)

{
  bool bVar1;
  uint uVar2;
  uint uVar3;
  undefined3 extraout_var;
  int iVar4;
  
  if (DAT_80045978 == 4) {
    iVar4 = DAT_BATTLE_BIN__80093cac;
    if (DAT_BATTLE_BIN__80093cac == 0) {
      uVar2 = FUN_BATTLE_BIN__8007a774();
      if (4 < (int)uVar2) {
        uVar2 = 4;
      }
      uVar3 = FUN_BATTLE_BIN__8013b590(0x70);
      iVar4 = DAT_BATTLE_BIN__80093cac;
      if (uVar2 != uVar3) {
        FUN_BATTLE_BIN__8013b644(0x70,uVar2);
        bVar1 = FUN_BATTLE_BIN__8008e068();
        if (CONCAT31(extraout_var,bVar1) == 0) {
          FUN_BATTLE_BIN__8013b644(0x70,uVar3);
          iVar4 = DAT_BATTLE_BIN__80093cac;
        }
        else {
          DAT_BATTLE_BIN__80093cac = 1;
          iVar4 = DAT_BATTLE_BIN__80093cac;
        }
      }
    }
  }
  else {
    iVar4 = 0;
  }
  return iVar4;
}



bool FUN_BATTLE_BIN__80070ddc(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80070d18();
  if (iVar1 != 0) {
    DAT_BATTLE_BIN__800960e4 = 0x30;
    DAT_80045980 = 1;
  }
  return iVar1 != 0;
}



bool FUN_BATTLE_BIN__80070e24(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80070d18();
  if (iVar1 != 0) {
    DAT_BATTLE_BIN__800960e4 = 0x31;
    DAT_80045980 = 1;
  }
  return iVar1 != 0;
}



void FUN_BATTLE_BIN__80070e6c(undefined4 param_1,int *param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  int *piVar2;
  int iVar3;
  
  uVar1 = FUN_BATTLE_BIN__801827f0(0);
  DAT_BATTLE_BIN__80098d84 = uVar1 & 0xff00;
  uVar1 = uVar1 & 0xff;
  if (DAT_BATTLE_BIN__80098d84 == 0xff00) {
    return;
  }
  piVar2 = FUN_BATTLE_BIN__8007a724((ushort)uVar1);
  if (piVar2 == (int *)0x0) {
    FUN_80044a34();
  }
  else {
    DAT_BATTLE_BIN__80096118 = (uint)*(byte *)(piVar2 + 1);
  }
  if (DAT_BATTLE_BIN__80098d84 == 0x300) {
    iVar3 = FUN_BATTLE_BIN__8018be08(uVar1);
    piVar2[0x60] = iVar3;
    if (iVar3 == -1) {
      FUN_BATTLE_BIN__8017ec18(uVar1,(undefined2 *)(piVar2 + 0x61));
      FUN_BATTLE_BIN__80081b88(piVar2);
    }
    goto LAB_BATTLE_BIN__80070fbc;
  }
  if ((int)DAT_BATTLE_BIN__80098d84 < 0x301) {
    if ((DAT_BATTLE_BIN__80098d84 == 0x100) || (DAT_BATTLE_BIN__80098d84 == 0x200)) {
      FUN_BATTLE_BIN__8008d138((ushort)*(byte *)(piVar2 + 1));
      goto LAB_BATTLE_BIN__80070fbc;
    }
  }
  else {
    if (DAT_BATTLE_BIN__80098d84 == 0x500) goto LAB_BATTLE_BIN__80070fbc;
    if (((int)DAT_BATTLE_BIN__80098d84 < 0x501) && (DAT_BATTLE_BIN__80098d84 == 0x400)) {
      iVar3 = FUN_BATTLE_BIN__8018be08(uVar1);
      piVar2[0x60] = iVar3;
      if (iVar3 == -1) {
        param_2 = piVar2 + 0x61;
        FUN_BATTLE_BIN__8017ec18(uVar1,(undefined2 *)param_2);
        FUN_BATTLE_BIN__80081b88(piVar2);
      }
      FUN_BATTLE_BIN__80068bd4((ushort)*(byte *)(piVar2 + 1),param_2,param_3,param_4);
      FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar2 + 1));
      goto LAB_BATTLE_BIN__80070fbc;
    }
  }
  FUN_80044a34();
LAB_BATTLE_BIN__80070fbc:
  piVar2 = FUN_BATTLE_BIN__8007a218();
  if ((piVar2 != (int *)0x0) &&
     (*(undefined *)(piVar2 + 0x4f) = 0, DAT_BATTLE_BIN__80098d84 != 0x400)) {
    FUN_BATTLE_BIN__800683e4((int)piVar2);
  }
  return;
}



void FUN_BATTLE_BIN__80071008(undefined4 param_1,int *param_2,undefined4 param_3,uint param_4)

{
  bool bVar1;
  undefined3 extraout_var;
  int *piVar2;
  undefined3 extraout_var_00;
  
  bVar1 = FUN_BATTLE_BIN__80070ddc();
  if (CONCAT31(extraout_var,bVar1) == 0) {
    FUN_BATTLE_BIN__80068794();
    DAT_80045980 = 1;
    FUN_BATTLE_BIN__80070e6c(param_1,param_2,param_3,param_4);
    piVar2 = FUN_BATTLE_BIN__8007a218();
    if (piVar2 != (int *)0x0) {
      DAT_BATTLE_BIN__8009611c = (uint)*(byte *)(piVar2 + 1);
      FUN_BATTLE_BIN__80070b7c((int)piVar2);
      if (piVar2[0x4d] == 0) {
        FUN_BATTLE_BIN__80070c78();
      }
      else {
        FUN_BATTLE_BIN__8013f900((uint)*(byte *)(piVar2[0x4d] + 0x18a));
        FUN_BATTLE_BIN__80070b7c((int)piVar2);
        if (((DAT_BATTLE_BIN__800960f8 == 0) || ((*(byte *)((int)piVar2 + 0x13d) & 8) != 0)) ||
           (DAT_BATTLE_BIN__80098d84 != 0x100)) {
          DAT_BATTLE_BIN__80098db8 = 0;
          if ((DAT_BATTLE_BIN__80098d84 == 0x100) || (DAT_BATTLE_BIN__80098d84 == 0xff00)) {
            FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar2 + 1));
          }
          bVar1 = FUN_BATTLE_BIN__80070a38((int)piVar2);
          if (CONCAT31(extraout_var_00,bVar1) == 0) {
            FUN_BATTLE_BIN__8013d634(1,0xff,0xff);
            DAT_BATTLE_BIN__800960e4 = 0x27;
            FUN_BATTLE_BIN__8019ae30();
            DAT_BATTLE_BIN__800e4e8c = 1;
          }
          else {
            FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar2 + 1));
          }
          DAT_BATTLE_BIN__800960f8 = 0;
        }
        else {
          FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar2 + 1));
          Call_Play_Sound(0x71);
          FUN_BATTLE_BIN__80068768();
          FUN_BATTLE_BIN__800686b0();
          FUN_BATTLE_BIN__80070c04();
        }
      }
    }
  }
  return;
}



void FUN_BATTLE_BIN__800711a4(void)

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0xb;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__800683d4();
  DAT_BATTLE_BIN__80098db8 = 0;
  if (DAT_BATTLE_BIN__80098d84 == 0x500) {
    FUN_BATTLE_BIN__8013aedc(0x3c);
    FUN_BATTLE_BIN__801419b8
              (10,0x183a,(uint)*(byte *)(piVar1[0x4d] + 0x18a),(uint)*(byte *)(piVar1[0x4d] + 0x18a)
               ,1);
    FUN_BATTLE_BIN__80081988(0x16,*(undefined2 *)(piVar1 + 0x1c),(int)piVar1);
  }
  else {
    FUN_BATTLE_BIN__8013aedc(0xb4);
    if ((piVar1[0x53] & 1U) == 0) {
      uVar2 = 0x183c;
      if ((piVar1[0x53] & 8U) == 0) {
        uVar2 = 0;
        uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
        uVar4 = 0;
        iVar5 = 0;
      }
      else {
        uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
        iVar5 = 1;
        uVar4 = uVar3;
      }
    }
    else {
      uVar2 = 0x183d;
      uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
      iVar5 = 1;
      uVar4 = uVar3;
    }
    FUN_BATTLE_BIN__801419b8(10,uVar2,uVar3,uVar4,iVar5);
    FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar1 + 1));
    FUN_BATTLE_BIN__80068bd4((ushort)*(byte *)(piVar1 + 1),uVar2,uVar3,uVar4);
  }
  return;
}



void FUN_BATTLE_BIN__800712d8(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 5;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  *(undefined2 *)(piVar1 + 2) = 0;
  *(undefined *)(piVar1 + 0x6d) = 0;
  FUN_BATTLE_BIN__800ec718(0);
  if ((piVar1 != (int *)0x0) && (piVar1[0x4d] != 0)) {
    FUN_BATTLE_BIN__8013d634(3,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0);
  }
  return;
}



void FUN_BATTLE_BIN__8007134c(void)

{
  FUN_BATTLE_BIN__8006eedc();
  DAT_BATTLE_BIN__800960c4 = DAT_BATTLE_BIN__800960c0;
  DAT_BATTLE_BIN__800960e4 = 2;
  DAT_BATTLE_BIN__800960c0 = 2;
  FUN_BATTLE_BIN__80068634();
  FUN_BATTLE_BIN__800683d4();
  return;
}



void FUN_BATTLE_BIN__800713a0(void)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  
  FUN_BATTLE_BIN__8006eef0();
  piVar1 = FUN_BATTLE_BIN__8007a218();
  DAT_BATTLE_BIN__8009611c = (uint)*(byte *)(piVar1 + 1);
  FUN_BATTLE_BIN__800683e4((int)piVar1);
  DAT_BATTLE_BIN__800960e4 = 4;
  if (piVar1 != (int *)0x0) {
    iVar2 = piVar1[0x4d];
    if (iVar2 == 0) goto code_r0x8007140c;
    FUN_BATTLE_BIN__8013d634(3,(uint)*(byte *)(iVar2 + 0x18a),0);
  }
  iVar2 = piVar1[0x4d];
code_r0x8007140c:
  uVar3 = FUN_BATTLE_BIN__8018114c((uint)*(byte *)(iVar2 + 0x18a));
  FUN_BATTLE_BIN__8013cf58(uVar3);
  return;
}



void FUN_BATTLE_BIN__80071434(void)

{
  int *piVar1;
  uint uVar2;
  
  piVar1 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  if (piVar1 != (int *)0x0) {
    FUN_BATTLE_BIN__8006eef0();
    DAT_BATTLE_BIN__800960e4 = 4;
    FUN_BATTLE_BIN__8013d634(3,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0);
    uVar2 = FUN_BATTLE_BIN__8018114c((uint)*(byte *)(piVar1[0x4d] + 0x18a));
    if (DAT_BATTLE_BIN__800960fc != 0) {
      if (uVar2 == 0xf) {
        uVar2 = 0x11;
      }
      else if (uVar2 == 0x10) {
        uVar2 = 0x12;
      }
    }
    FUN_BATTLE_BIN__8013cf58(uVar2);
  }
  return;
}



void FUN_BATTLE_BIN__800714f4(void)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  if (piVar1 != (int *)0x0) {
    DAT_BATTLE_BIN__8009611c = (uint)*(byte *)(piVar1 + 1);
    if ((DAT_BATTLE_BIN__800960fc == 0) && (*(byte *)(piVar1 + 1) == DAT_BATTLE_BIN__80096118)) {
      if ((*(byte *)((int)piVar1 + 0x13d) & 8) == 0) {
        FUN_BATTLE_BIN__800712d8();
      }
      else {
        FUN_BATTLE_BIN__800713a0();
      }
    }
    else {
      FUN_BATTLE_BIN__80071434();
    }
  }
  return;
}



void FUN_BATTLE_BIN__800715a8(void)

{
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 6;
  DAT_BATTLE_BIN__800960ec = 1;
  FUN_BATTLE_BIN__8013d0ac();
  return;
}



void FUN_BATTLE_BIN__800715e8(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eedc();
  DAT_BATTLE_BIN__800960e4 = 7;
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__80174b8c((uint)*(byte *)(piVar1[0x4d] + 0x18a));
  FUN_BATTLE_BIN__800ec718(1);
  DAT_BATTLE_BIN__800960c4 = DAT_BATTLE_BIN__800960c0;
  DAT_BATTLE_BIN__800960c0 = 2;
  Call_Play_Sound(1);
  return;
}



void FUN_BATTLE_BIN__80071668(void)

{
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 8;
  FUN_BATTLE_BIN__8013d4dc();
  return;
}



void FUN_BATTLE_BIN__8007169c(void)

{
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 8;
  FUN_BATTLE_BIN__800ec718(0);
  FUN_BATTLE_BIN__8013d610();
  return;
}



void FUN_BATTLE_BIN__800716dc(void)

{
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 9;
  DAT_BATTLE_BIN__800960ec = 1;
  FUN_BATTLE_BIN__8013d0ac();
  return;
}



void FUN_BATTLE_BIN__8007171c(int param_1)

{
  uint uVar1;
  int *piVar2;
  undefined4 uVar3;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 10;
  uVar1 = FUN_BATTLE_BIN__80183544(param_1);
  if (-1 < (int)uVar1) {
    piVar2 = FUN_BATTLE_BIN__8007a724((ushort)uVar1 & 0xff);
    if ((uVar1 & 0x100) == 0) {
      FUN_BATTLE_BIN__800683e4((int)piVar2);
      uVar3 = 0;
    }
    else {
      FUN_BATTLE_BIN__80068418((int)piVar2);
      FUN_BATTLE_BIN__8017aaf8((CurActionTargetData *)(piVar2[0x4d] + 0x16e));
      uVar3 = 7;
    }
    FUN_BATTLE_BIN__800ec718(uVar3);
  }
  FUN_BATTLE_BIN__8006e55c();
  FUN_BATTLE_BIN__800683c0();
  return;
}



void FUN_BATTLE_BIN__800717cc(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0xc;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__801419b8
            (1,0,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,*(byte *)((int)piVar1 + 0x13d) & 8);
  return;
}



void FUN_BATTLE_BIN__80071824(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0xe;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__801419b8
            (1,2,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,*(byte *)((int)piVar1 + 0x13d) & 8);
  return;
}



void FUN_BATTLE_BIN__8007187c(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__8006eef0();
  piVar1 = FUN_BATTLE_BIN__8007a218();
  piVar2 = FUN_BATTLE_BIN__8007a1d4();
  if ((*(byte *)((int)piVar1 + 0x13d) & 8) == 0) {
    FUN_BATTLE_BIN__800683d4();
  }
  else {
    FUN_BATTLE_BIN__800683c0();
  }
  iVar3 = FUN_BATTLE_BIN__80174b8c((uint)*(byte *)(piVar2[0x4d] + 0x18a));
  if (iVar3 < 1) {
    FUN_BATTLE_BIN__80071824();
  }
  else {
    FUN_BATTLE_BIN__800ec718(1);
    DAT_BATTLE_BIN__800960e4 = 0xd;
    *(undefined2 *)(piVar2 + 2) = 0;
    FUN_BATTLE_BIN__8006e55c();
  }
  return;
}



void FUN_BATTLE_BIN__8007192c(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0xf;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__801419b8
            (2,2,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,*(byte *)((int)piVar1 + 0x13d) & 8);
  return;
}



void FUN_BATTLE_BIN__80071984(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x10;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  piVar2 = FUN_BATTLE_BIN__8007a1d4();
  iVar3 = 2;
  if ((*(byte *)((int)piVar2 + 0x11b) & 0x80) == 0) {
    if ((byte)(*(char *)(piVar2 + 0x27) + 2U) < 2) {
      iVar3 = 2;
      if ((DAT_800473ac & 0x18000) == 0) {
        iVar3 = 0xd;
      }
    }
    else {
      piVar2 = FUN_BATTLE_BIN__8007a3f8
                         (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8
                         );
      iVar3 = 2;
      if ((piVar2 != (int *)0x0) && (uVar4 = 4, (piVar2[0x51] & 1U) != 0))
      goto LAB_BATTLE_BIN__80071a4c;
    }
    uVar4 = 0;
  }
  else {
    uVar4 = 1;
  }
LAB_BATTLE_BIN__80071a4c:
  FUN_BATTLE_BIN__801419b8
            (iVar3,uVar4,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,*(byte *)((int)piVar1 + 0x13d) & 8)
  ;
  return;
}



void FUN_BATTLE_BIN__80071a7c(int param_1)

{
  *(undefined *)(param_1 + 0x84) = *(undefined *)(param_1 + 0x7c);
  *(undefined *)(param_1 + 0x85) = *(undefined *)(param_1 + 0x7d);
  *(undefined *)(param_1 + 0x86) = *(undefined *)(param_1 + 0x7e);
  *(undefined2 *)(param_1 + 0x94) = *(undefined2 *)(param_1 + 0x70);
  *(undefined *)(param_1 + 0x132) = *(undefined *)(param_1 + 0x130);
  *(undefined *)(param_1 + 0x133) = *(undefined *)(param_1 + 0x131);
  *(undefined *)(param_1 + 0x11f) = *(undefined *)(param_1 + 0x11e);
  return;
}



void FUN_BATTLE_BIN__80071ab8(void)

{
  int *piVar1;
  int *piVar2;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x11;
  FUN_BATTLE_BIN__8006e55c();
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__80071a7c((int)piVar1);
  if ((*(char *)(piVar1 + 0x4c) == '\x02') &&
     (piVar2 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)piVar1 + 0x131)),
     piVar2 != (int *)0x0)) {
    FUN_BATTLE_BIN__80071a7c((int)piVar2);
  }
  piVar1[0xf] = 0x2000;
  piVar1[0x26] = 0;
  DAT_BATTLE_BIN__8009612c = 0;
  FUN_BATTLE_BIN__800683d4();
  return;
}



void FUN_BATTLE_BIN__80071b4c(void)

{
  bool bVar1;
  byte bVar2;
  int *piVar3;
  int *piVar4;
  int iVar5;
  uint uVar6;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x12;
  piVar3 = FUN_BATTLE_BIN__8007a218();
  piVar4 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__8013aedc(0x3c);
  if ((*(byte *)((int)piVar4 + 0x119) & 8) == 0) {
    if ((DAT_800473ac & 0x18000) == 0) {
      FUN_BATTLE_BIN__80068534((int)piVar3,2);
      iVar5 = 0xd;
    }
    else {
      FUN_BATTLE_BIN__80068534((int)piVar3,2);
      iVar5 = 0x10;
    }
    FUN_BATTLE_BIN__801419b8
              (iVar5,0,(uint)*(byte *)(piVar3[0x4d] + 0x18a),0,*(byte *)((int)piVar3 + 0x13d) & 8);
  }
  else {
    bVar1 = *(char *)((int)piVar4 + 0x11d) != -1;
    iVar5 = 0xd;
    if (bVar1) {
      uVar6 = 0;
      bVar2 = *(byte *)(piVar3[0x4d] + 0x18a);
    }
    else {
      iVar5 = 10;
      uVar6 = 0x183b;
      bVar2 = *(byte *)(piVar3[0x4d] + 0x18a);
    }
    FUN_BATTLE_BIN__801419b8(iVar5,uVar6,(uint)bVar2,0,(uint)!bVar1);
    *(undefined *)((int)piVar4 + 0x11d) = 0;
  }
  if ((*(byte *)((int)piVar3 + 0x13d) & 8) == 0) {
    FUN_BATTLE_BIN__800683d4();
  }
  else {
    FUN_BATTLE_BIN__800683c0();
  }
  return;
}



void FUN_BATTLE_BIN__80071c8c(void)

{
  int *piVar1;
  
  DAT_80045980 = 1;
  DAT_BATTLE_BIN__800960e4 = 0x25;
  DAT_BATTLE_BIN__80098db8 = 0;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__800683e4((int)piVar1);
  FUN_BATTLE_BIN__801419b8(6,0,0,0,0);
  return;
}



void FUN_BATTLE_BIN__80071cec(int param_1,int param_2)

{
  if (param_2 != 0x600) {
    if (param_2 < 0x601) {
      if (param_2 == 0x200) {
        return;
      }
      if (param_2 < 0x201) {
        if (param_2 != 0) {
          return;
        }
        if (*(short *)(param_1 + 0x70) == 0) {
          return;
        }
        *(undefined2 *)(param_1 + 0x70) = 0;
      }
      else {
        if (param_2 != 0x400) {
          return;
        }
        if (*(short *)(param_1 + 0x70) == 0x400) {
          return;
        }
        *(undefined2 *)(param_1 + 0x70) = 0x400;
      }
    }
    else {
      if (param_2 == 0xa00) {
        return;
      }
      if (param_2 < 0xa01) {
        if (param_2 != 0x800) {
          return;
        }
        if (*(short *)(param_1 + 0x70) == 0x800) {
          return;
        }
        *(undefined2 *)(param_1 + 0x70) = 0x800;
      }
      else {
        if (param_2 != 0xc00) {
          return;
        }
        if (*(short *)(param_1 + 0x70) == 0xc00) {
          return;
        }
        *(undefined2 *)(param_1 + 0x70) = 0xc00;
      }
    }
    FUN_BATTLE_BIN__80082eec(param_1);
  }
  return;
}



bool FUN_BATTLE_BIN__80071de8(int param_1)

{
  bool bVar1;
  uint uVar2;
  
  bVar1 = *(char *)(param_1 + 0x1b2) != '\0';
  if (bVar1) {
    FUN_BATTLE_BIN__8013aedc(0xb4);
    uVar2 = (uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a);
    FUN_BATTLE_BIN__801419b8(10,0x183f,uVar2,uVar2,1);
    FUN_BATTLE_BIN__80082cc4(param_1);
    FUN_BATTLE_BIN__800683e4(param_1);
    FUN_BATTLE_BIN__80068ab4(param_1);
    FUN_80043d20(1);
  }
  return bVar1;
}



bool FUN_BATTLE_BIN__80071e68(int param_1)

{
  bool bVar1;
  uint uVar2;
  
  bVar1 = *(char *)(param_1 + 0x1b3) != '\0';
  if (bVar1) {
    FUN_BATTLE_BIN__8013aedc(0xb4);
    uVar2 = (uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a);
    FUN_BATTLE_BIN__801419b8(10,0x183e,uVar2,uVar2,1);
    FUN_BATTLE_BIN__80082cc4(param_1);
    FUN_BATTLE_BIN__800683e4(param_1);
    FUN_BATTLE_BIN__80068ab4(param_1);
    FUN_80043d20(3);
  }
  return bVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_BATTLE_BIN__80071ee8(void)

{
  byte bVar1;
  bool bVar2;
  int *piVar3;
  int *piVar4;
  uint uVar5;
  uint uVar6;
  undefined4 *puVar7;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  short sVar8;
  int iVar9;
  int *piVar10;
  int iVar11;
  undefined4 uVar12;
  uint uVar13;
  uint uVar14;
  
  piVar3 = FUN_BATTLE_BIN__8007a218();
  piVar4 = FUN_BATTLE_BIN__8007a1d4();
  piVar10 = (int *)0x0;
  uVar14 = 0;
  uVar13 = (uint)*(byte *)(piVar3[0x4d] + 0x18a);
  FUN_BATTLE_BIN__801419b8(0xc,0,uVar13,0,0);
  uVar6 = DAT_BATTLE_BIN__80096208;
  DAT_BATTLE_BIN__800960e4 = 0x15;
  DAT_BATTLE_BIN__80098db8 = 0;
  uVar5 = DAT_BATTLE_BIN__80096208 & 1;
  *(undefined2 *)(piVar4 + 2) = 0;
  if (uVar5 == 0) {
    if ((uVar6 & 2) == 0) {
      if ((uVar6 & 4) == 0) {
        if ((uVar6 & 8) != 0) {
          bVar1 = FUN_BATTLE_BIN__8018dbb0((BattleUnitData *)piVar4[0x4d]);
          iVar11 = FUN_BATTLE_BIN__8018be08((uint)*(byte *)(piVar3[0x4d] + 0x18a));
          piVar3[0x60] = iVar11;
          if (iVar11 == -1) {
            piVar10 = piVar3 + 0x61;
            FUN_BATTLE_BIN__8017ec18((uint)*(byte *)(piVar3[0x4d] + 0x18a),(undefined2 *)piVar10);
            FUN_BATTLE_BIN__80081b88(piVar3);
          }
          FUN_BATTLE_BIN__800803e4((int)piVar3,piVar10,uVar13,uVar14);
          FUN_BATTLE_BIN__80083978(0,(int)piVar3);
          FUN_BATTLE_BIN__80068ad4((int)piVar3);
          FUN_BATTLE_BIN__801419b8
                    (0xe,CONCAT31(extraout_var,bVar1),(uint)*(byte *)(piVar3[0x4d] + 0x18a),0,1);
          FUN_BATTLE_BIN__8019ae58
                    (*(undefined *)(piVar4 + 0x1f),*(undefined *)((int)piVar4 + 0x7e),
                     *(undefined *)((int)piVar4 + 0x7d));
          return 1;
        }
        if ((uVar6 & 0x10) == 0) {
          if ((uVar6 & 0x200) == 0) {
            uVar12 = 0;
            if ((uVar6 & 0x400) == 0) {
              FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar3 + 1));
              FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar4 + 1));
              bVar2 = FUN_BATTLE_BIN__80070e24();
              if (CONCAT31(extraout_var_00,bVar2) != 0) {
                return 0;
              }
              FUN_BATTLE_BIN__80071c8c();
              return 0;
            }
            uVar6 = (uint)*(byte *)(piVar3[0x4d] + 0x18a);
            uVar5 = 0;
            FUN_BATTLE_BIN__801419b8(0xc,0,uVar6,0,0);
            if (*(char *)(piVar3 + 0x4c) == '\0') {
              return 1;
            }
            piVar3 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)piVar3 + 0x131));
            if (piVar3 == (int *)0x0) {
              return 1;
            }
            FUN_BATTLE_BIN__80068bd4((ushort)*(byte *)(piVar3 + 1),uVar12,uVar6,uVar5);
            bVar1 = *(byte *)(piVar3 + 1);
          }
          else {
            uVar12 = 0;
            uVar6 = (uint)*(byte *)(piVar3[0x4d] + 0x18a);
            uVar5 = 0;
            FUN_BATTLE_BIN__801419b8(0xc,0,uVar6,0,0);
            FUN_BATTLE_BIN__80068bd4((ushort)*(byte *)(piVar3 + 1),uVar12,uVar6,uVar5);
            bVar1 = *(byte *)(piVar3 + 1);
          }
          FUN_BATTLE_BIN__80068e30((ushort)bVar1);
          return 1;
        }
        FUN_BATTLE_BIN__80180178((BattleUnitData *)piVar4[0x4d],1);
        iVar9 = 0xc;
        iVar11 = piVar3[0x4d];
        uVar6 = 0;
      }
      else {
        puVar7 = FUN_BATTLE_BIN__80180230(piVar4[0x4d]);
        DAT_BATTLE_BIN__8009620c = *puVar7;
        _DAT_BATTLE_BIN__80096210 = puVar7[1];
        FUN_BATTLE_BIN__8007f45c((int)piVar3,_DAT_BATTLE_BIN__80096210 & 0xff);
        FUN_BATTLE_BIN__80081988(0x33,*(undefined2 *)(piVar3 + 0x1c),(int)piVar3);
        iVar9 = 0xf;
        if ((*(byte *)((int)piVar3 + 0x13d) & 0x30) == 0) {
          FUN_BATTLE_BIN__801419b8
                    (0xf,_DAT_BATTLE_BIN__80096210 & 0xff,(uint)*(byte *)(piVar3[0x4d] + 0x18a),0,1)
          ;
          FUN_80043d20(2);
          return 1;
        }
        iVar11 = piVar3[0x4d];
        uVar6 = _DAT_BATTLE_BIN__80096210 & 0xff;
      }
      FUN_BATTLE_BIN__801419b8(iVar9,uVar6,(uint)*(byte *)(iVar11 + 0x18a),0,0);
    }
    else if (DAT_BATTLE_BIN__80096204 == 0) {
      FUN_BATTLE_BIN__8018dd44((BattleUnitData *)piVar4[0x4d]);
      piVar3 = piVar4 + 0x6c;
      FUN_BATTLE_BIN__8018df0c(piVar4[0x4d],(undefined *)piVar3);
      FUN_BATTLE_BIN__800803e4((int)piVar4,piVar3,uVar13,uVar14);
      FUN_BATTLE_BIN__80080f44((int)piVar4);
      FUN_BATTLE_BIN__80071de8((int)piVar4);
    }
    else if (DAT_BATTLE_BIN__80096204 == 1) {
      FUN_BATTLE_BIN__80071e68((int)piVar4);
    }
  }
  else {
    piVar4 = FUN_BATTLE_BIN__8007a3f8
                       ((uint)*(byte *)(piVar3 + 0x1f),(uint)*(byte *)((int)piVar3 + 0x7d),
                        (uint)*(byte *)((int)piVar3 + 0x7e));
    uVar6 = FUN_BATTLE_BIN__80141a8c((uint)*(byte *)(piVar3[0x4d] + 0x18a));
    if (uVar6 == 0xffffffff) {
      sVar8 = 0x1b;
    }
    else {
      FUN_BATTLE_BIN__8007f45c((int)piVar3,uVar6);
      sVar8 = 0x39;
    }
    FUN_BATTLE_BIN__80081988(sVar8,*(undefined2 *)(piVar3 + 0x1c),(int)piVar3);
    if (uVar6 == 0xffffffff) {
      iVar11 = piVar3[0x4d];
      if ((*(ushort *)(iVar11 + 0x1ba) & 0x38) == 8) {
        FUN_BATTLE_BIN__801419b8
                  (0xc,(uint)*(byte *)(iVar11 + 0x18a),(uint)*(byte *)(iVar11 + 0x18a),0,1);
      }
      else {
        uVar6 = (uint)*(byte *)(iVar11 + 0x18a);
        uVar5 = 0;
        FUN_BATTLE_BIN__801419b8(0xc,uVar6,uVar6,0,0);
        uVar12 = 2;
        FUN_BATTLE_BIN__80180904(piVar3[0x4d],2);
        FUN_BATTLE_BIN__8018be08((uint)*(byte *)(piVar3[0x4d] + 0x18a));
        FUN_BATTLE_BIN__800803e4((int)piVar3,uVar12,uVar6,uVar5);
        FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar3 + 1));
      }
    }
    else {
      iVar11 = piVar3[0x4d];
      bVar2 = (*(byte *)(iVar11 + 0x1ba) & 0x30) != 0;
      if (bVar2) {
        bVar1 = *(byte *)(iVar11 + 0x18a);
      }
      else {
        bVar1 = *(byte *)(iVar11 + 0x18a);
      }
      FUN_BATTLE_BIN__801419b8(0xc,(uint)bVar1,(uint)bVar1,0,(uint)!bVar2);
      if ((*(ushort *)(piVar3[0x4d] + 0x1ba) & 0x38) != 8) {
        FUN_BATTLE_BIN__80180904(piVar3[0x4d],4);
      }
    }
    FUN_BATTLE_BIN__80089528((uint)*(byte *)(piVar4 + 1));
    iVar11 = FUN_BATTLE_BIN__8007d3f4(piVar3);
    *(short *)(piVar4 + 0x1d) = 0x24 - ((short)iVar11 - *(short *)((int)piVar4 + 0x42));
    Call_Play_SoundEffect((MusicDataHeader *)0x85);
  }
  return 1;
}



void FUN_BATTLE_BIN__800723d4(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  if ((BattleUnitData *)piVar1[0x4d] == (BattleUnitData *)0x0) {
    DAT_BATTLE_BIN__80096208 = 0;
  }
  else {
    DAT_BATTLE_BIN__80096208 = FUN_BATTLE_BIN__8017ffc0((BattleUnitData *)piVar1[0x4d]);
  }
  DAT_BATTLE_BIN__80096204 = 0;
  FUN_BATTLE_BIN__80071ee8();
  if (DAT_BATTLE_BIN__80096208 != 0) {
    FUN_BATTLE_BIN__800683d4();
  }
  DAT_BATTLE_BIN__8009612c = 0;
  return;
}



void FUN_BATTLE_BIN__80072460(void)

{
  int *piVar1;
  int *piVar2;
  uint uVar3;
  
  FUN_BATTLE_BIN__8006eef0();
  piVar1 = FUN_BATTLE_BIN__8007a218();
  DAT_BATTLE_BIN__80096218 = (int)*(short *)(piVar1 + 0x1c);
  DAT_BATTLE_BIN__800960e4 = 0x13;
  *(undefined2 *)(piVar1 + 2) = 0;
  if ((*(char *)(piVar1 + 0x4c) == '\x01') &&
     (piVar2 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)piVar1 + 0x131)),
     piVar2 != (int *)0x0)) {
    FUN_BATTLE_BIN__80071cec((int)piVar1,(int)*(short *)(piVar2 + 0x1c));
    if (piVar1[0x4d] != 0) {
      uVar3 = (uint)*(short *)(piVar2 + 0x1c);
      if ((int)uVar3 < 0) {
        uVar3 = uVar3 + 0x3ff;
      }
      FUN_BATTLE_BIN__8017fddc
                ((uint)*(byte *)(piVar1[0x4d] + 0x18a),*(byte *)(piVar1 + 0x1f),
                 *(byte *)((int)piVar1 + 0x7d),(uint)*(byte *)((int)piVar1 + 0x7e),
                 (byte)(uVar3 >> 10));
    }
  }
  if ((*(byte *)((int)piVar1 + 0x13d) & 8) == 0) {
    uVar3 = FUN_BATTLE_BIN__8019abb4();
    piVar1[0x59] = uVar3;
  }
  return;
}



void FUN_BATTLE_BIN__80072544(void)

{
  byte bVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  int *piVar5;
  uint uVar6;
  uint uVar7;
  
  FUN_BATTLE_BIN__8006eef0();
  piVar2 = FUN_BATTLE_BIN__8007a218();
  piVar5 = (int *)0x2;
  uVar7 = 0;
  uVar6 = (uint)*(byte *)(piVar2[0x4d] + 0x18a);
  iVar3 = FUN_BATTLE_BIN__801419b8(8,2,uVar6,0,1);
  if ((iVar3 == 2) && (uVar4 = FUN_BATTLE_BIN__80142ba4(), uVar4 != 0)) {
    DAT_BATTLE_BIN__800960e8 = DAT_BATTLE_BIN__800960e4;
    FUN_BATTLE_BIN__801419b8(8,0,(uint)*(byte *)(piVar2[0x4d] + 0x18a),0,1);
    FUN_BATTLE_BIN__80070998();
  }
  else {
    iVar3 = piVar2[0x4d];
    bVar1 = FUN_BATTLE_BIN__801832cc(iVar3);
    if ((bVar1 & 0xf) == 0) {
      DAT_BATTLE_BIN__800960e4 = 0x14;
      FUN_BATTLE_BIN__8006e55c();
      FUN_BATTLE_BIN__801419b8
                (3,0,(uint)*(byte *)(piVar2[0x4d] + 0x18a),0,*(byte *)((int)piVar2 + 0x13d) & 8);
    }
    else {
      FUN_BATTLE_BIN__80071008(iVar3,piVar5,uVar6,uVar7);
    }
    if ((*(byte *)((int)piVar2 + 0x13d) & 8) == 0) {
      FUN_BATTLE_BIN__800683d4();
    }
    else {
      FUN_BATTLE_BIN__800683c0();
    }
  }
  return;
}



void FUN_BATTLE_BIN__80072674(int param_1)

{
  long lVar1;
  int iVar2;
  int x;
  
  if (param_1 != 0) {
    x = DAT_BATTLE_BIN__800961b4 * 0x1c - (*(short *)(param_1 + 0x40) + -0xe);
    iVar2 = DAT_BATTLE_BIN__800961bc * 0x1c - (*(short *)(param_1 + 0x44) + -0xe);
    if ((x != 0) || (iVar2 != 0)) {
      lVar1 = ratan2(-iVar2,x);
      *(ushort *)(param_1 + 0x70) = (short)lVar1 - 0x200U & 0xc00;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8007270c(int param_1)

{
  if ((param_1 != 0) && (*(short *)(param_1 + 0x72) == -1)) {
    *(undefined2 *)(param_1 + 0x72) = *(undefined2 *)(param_1 + 0x70);
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x800728a8)

void FUN_BATTLE_BIN__8007273c(int param_1,int param_2)

{
  short sVar1;
  long lVar2;
  uint uVar3;
  int *piVar4;
  int iVar5;
  int local_18;
  int local_10;
  
  if (param_1 == 0) {
    return;
  }
  local_10 = 0;
  local_18 = 0;
  if (param_2 == 0) {
    iVar5 = *(int *)(param_1 + 0x134);
    if (*(char *)(iVar5 + 0x178) != '\x05') {
      piVar4 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)(iVar5 + 0x179));
      if (piVar4 == (int *)0x0) goto LAB_BATTLE_BIN__80072824;
      local_18 = (int)*(short *)(piVar4 + 0x10) - (int)*(short *)(param_1 + 0x40);
      sVar1 = *(short *)(piVar4 + 0x11);
      goto LAB_BATTLE_BIN__80072810;
    }
    local_18 = *(short *)(iVar5 + 0x17a) * 0x1c - (*(short *)(param_1 + 0x40) + -0xe);
    local_10 = *(short *)(*(int *)(param_1 + 0x134) + 0x17e) * 0x1c;
    iVar5 = *(short *)(param_1 + 0x44) + -0xe;
  }
  else {
    local_18 = (int)*(short *)(param_2 + 0x40) - (int)*(short *)(param_1 + 0x40);
    sVar1 = *(short *)(param_2 + 0x44);
LAB_BATTLE_BIN__80072810:
    local_10 = (int)sVar1;
    iVar5 = (int)*(short *)(param_1 + 0x44);
  }
  local_10 = local_10 - iVar5;
LAB_BATTLE_BIN__80072824:
  if ((((*(uint *)(param_1 + 0x140) & 0x80074) == 0) && (*(short *)(param_1 + 0x1ac) != 0x1b8)) &&
     ((local_18 != 0 || (local_10 != 0)))) {
    FUN_BATTLE_BIN__8007270c(param_1);
    lVar2 = ratan2(-local_10,local_18);
    uVar3 = lVar2 - 0x200U & 0xc00;
    *(short *)(param_1 + 0x70) = (short)uVar3;
    FUN_BATTLE_BIN__8017fddc
              ((uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a),*(byte *)(param_1 + 0x7c),
               *(byte *)(param_1 + 0x7d),(uint)*(byte *)(param_1 + 0x7e),(byte)(uVar3 >> 10));
    if (*(char *)(param_1 + 0x130) != '\0') {
      piVar4 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131));
      *(undefined2 *)(piVar4 + 0x1c) = *(undefined2 *)(param_1 + 0x70);
      uVar3 = (uint)*(short *)(param_1 + 0x70);
      if ((int)uVar3 < 0) {
        uVar3 = uVar3 + 0x3ff;
      }
      FUN_BATTLE_BIN__8017fddc
                ((uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a),*(byte *)(param_1 + 0x7c),
                 *(byte *)(param_1 + 0x7d),(uint)*(byte *)(param_1 + 0x7e),(byte)(uVar3 >> 10));
    }
  }
  return;
}



void FUN_BATTLE_BIN__80072928(int param_1)

{
  int *piVar1;
  uint uVar2;
  
  if (param_1 != 0) {
    if ((*(uint *)(param_1 + 0x140) & 4) == 0) {
      uVar2 = (uint)*(short *)(param_1 + 0x72);
      if (uVar2 != 0xffffffff) {
        *(short *)(param_1 + 0x70) = *(short *)(param_1 + 0x72);
        if ((int)uVar2 < 0) {
          uVar2 = uVar2 + 0x3ff;
        }
        FUN_BATTLE_BIN__8017fddc
                  ((uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a),*(byte *)(param_1 + 0x7c),
                   *(byte *)(param_1 + 0x7d),(uint)*(byte *)(param_1 + 0x7e),(byte)(uVar2 >> 10));
        *(undefined2 *)(param_1 + 0x72) = 0xffff;
        if (*(char *)(param_1 + 0x130) != '\0') {
          piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131));
          *(undefined2 *)(piVar1 + 0x1c) = *(undefined2 *)(param_1 + 0x70);
          uVar2 = (uint)*(short *)(param_1 + 0x70);
          if ((int)uVar2 < 0) {
            uVar2 = uVar2 + 0x3ff;
          }
          FUN_BATTLE_BIN__8017fddc
                    ((uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a),*(byte *)(param_1 + 0x7c),
                     *(byte *)(param_1 + 0x7d),(uint)*(byte *)(param_1 + 0x7e),(byte)(uVar2 >> 10));
        }
      }
    }
    else {
      *(undefined2 *)(param_1 + 0x72) = 0xffff;
    }
  }
  return;
}



void FUN_BATTLE_BIN__80072a88(void)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)iVar2);
    iVar2 = iVar2 + 1;
    if (piVar1 != (int *)0x0) {
      FUN_BATTLE_BIN__80072928((int)piVar1);
    }
  } while (iVar2 < 0x10);
  return;
}



void FUN_BATTLE_BIN__80072ad0(void)

{
  int *piVar1;
  
  DAT_80045980 = 1;
  DAT_BATTLE_BIN__800960e4 = 0x26;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  if (piVar1 != (int *)0x0) {
    *(undefined2 *)(piVar1 + 2) = 0;
  }
  return;
}



void FUN_BATTLE_BIN__80072b14(int param_1)

{
  FUN_BATTLE_BIN__800683e4(param_1);
  FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(param_1 + 4));
  FUN_BATTLE_BIN__80071c8c();
  return;
}



void FUN_BATTLE_BIN__80072b50(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x16;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__801419b8
            (1,(uint)(piVar1[0x5d] == 3),(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,
             *(byte *)((int)piVar1 + 0x13d) & 8);
  if ((*(byte *)((int)piVar1 + 0x13d) & 8) == 0) {
    FUN_BATTLE_BIN__800683d4();
  }
  else {
    FUN_BATTLE_BIN__800683c0();
  }
  return;
}



void FUN_BATTLE_BIN__80072bf0(void)

{
  bool bVar1;
  int *piVar2;
  undefined4 uVar3;
  uint uVar4;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  uint uVar5;
  
  DAT_BATTLE_BIN__800960e4 = 0x2d;
  piVar2 = FUN_BATTLE_BIN__8007a1d4();
  uVar5 = (uint)*(ushort *)(piVar2 + 0x4e);
  *(undefined2 *)(piVar2 + 2) = 0;
  FUN_BATTLE_BIN__80068418((int)piVar2);
  if ((uVar5 == 0) || (uVar5 == 0x200)) {
    uVar3 = 1;
  }
  else {
    uVar4 = FUN_BATTLE_BIN__801a1814(uVar5);
    uVar3 = 1;
    if (uVar4 == 0) {
      if ((uVar5 == 0x92) || (uVar5 - 0x196 < 8)) {
        bVar1 = FUN_BATTLE_BIN__801a1854(uVar5);
        uVar3 = 1;
        if (CONCAT31(extraout_var,bVar1) == 0) {
          FUN_BATTLE_BIN__801a1880();
          uVar3 = 1;
        }
      }
      else {
        bVar1 = FUN_BATTLE_BIN__801a1854(uVar5);
        if ((CONCAT31(extraout_var_00,bVar1) == 0) || (*(ushort *)(piVar2 + 0x77) >> 1 == 0x39)) {
          FUN_BATTLE_BIN__801a1880();
        }
        FUN_80044128();
        uVar3 = 2;
      }
    }
  }
  DAT_80045980 = uVar3;
  FUN_BATTLE_BIN__800683d4();
  return;
}



bool FUN_BATTLE_BIN__80072ce8(void)

{
  bool bVar1;
  int iVar2;
  
  DAT_BATTLE_BIN__800960e4 = 0x2f;
  DAT_80045980 = 1;
  FUN_BATTLE_BIN__8007a1d4();
  bVar1 = DAT_BATTLE_BIN__80096244 != 0;
  if (bVar1) {
    iVar2 = (DAT_BATTLE_BIN__80096244 + -1) * 8;
    DAT_BATTLE_BIN__80096244 = DAT_BATTLE_BIN__80096244 + -1;
    FUN_BATTLE_BIN__801419b8
              (0x11,(uint)(byte)(&DAT_BATTLE_BIN__80096248)[iVar2],
               (uint)(byte)(&DAT_BATTLE_BIN__80096249)[iVar2],
               *(uint *)(&DAT_BATTLE_BIN__8009624c + iVar2),1);
    DAT_BATTLE_BIN__80098db8 = 0;
  }
  return bVar1;
}



void FUN_BATTLE_BIN__80072d8c(int param_1)

{
  bool bVar1;
  bool bVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  
  if ((((param_1 != 0) && (iVar3 = *(int *)(param_1 + 0x134), iVar3 != 0)) &&
      (DAT_BATTLE_BIN__80096244 < 0x10)) && (*(char *)(iVar3 + 0x18c) != '\0')) {
    uVar6 = 0;
    bVar1 = true;
    do {
      bVar2 = false;
      if (bVar1) {
        switch(uVar6) {
        default:
          if (*(char *)(iVar3 + 0x19e) != '\0') {
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x28;
            uVar4 = (uint)*(byte *)(iVar3 + 0x19e);
LAB_BATTLE_BIN__80073100:
            bVar2 = true;
            *(uint *)(&DAT_BATTLE_BIN__8009624c + DAT_BATTLE_BIN__80096244 * 8) = uVar4;
          }
          break;
        case 1:
          if (*(char *)(iVar3 + 0x19f) != '\0') {
                    // Possible PsyQ macro: setPolyFT3() + setSemiTrans(polyFT3, 1) +
                    // setShadeTex(polyFT3, 1
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x27;
            uVar4 = (uint)*(byte *)(iVar3 + 0x19f);
            goto LAB_BATTLE_BIN__80073100;
          }
          break;
        case 2:
          if (*(char *)(iVar3 + 0x1a2) != '\0') {
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x29;
            uVar4 = (uint)*(byte *)(iVar3 + 0x1a2);
            goto LAB_BATTLE_BIN__80073100;
          }
          break;
        case 3:
          if (*(char *)(iVar3 + 0x1a3) != '\0') {
                    // Possible PsyQ macro: setPolyF4() + setSemiTrans(polyF4, 1)
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x2a;
            uVar4 = (uint)*(byte *)(iVar3 + 0x1a3);
            goto LAB_BATTLE_BIN__80073100;
          }
          break;
        case 4:
          if (*(char *)(iVar3 + 0x1a0) != '\0') {
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x2b;
            uVar4 = (uint)*(byte *)(iVar3 + 0x1a0);
            goto LAB_BATTLE_BIN__80073100;
          }
          break;
        case 5:
          if (*(char *)(iVar3 + 0x1a1) != '\0') {
                    // Possible PsyQ macro: setPolyFT4()
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x2c;
            uVar4 = (uint)*(byte *)(iVar3 + 0x1a1);
            goto LAB_BATTLE_BIN__80073100;
          }
          break;
        case 6:
          if (0 < *(short *)(iVar3 + 0x198)) {
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x2e;
            uVar4 = (uint)*(short *)(iVar3 + 0x198);
            goto LAB_BATTLE_BIN__80073100;
          }
          break;
        case 7:
          if ((*(byte *)(iVar3 + 0x1b4) & 0x80) != 0) {
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x2f;
            uVar4 = (uint)*(byte *)(iVar3 + 0x1b4);
            goto LAB_BATTLE_BIN__80073100;
          }
          break;
        case 8:
          if ((*(ushort *)(iVar3 + 0x19c) & 0x180) != 0) {
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x2d;
            uVar4 = (uint)*(ushort *)(iVar3 + 0x19c);
            goto LAB_BATTLE_BIN__80073100;
          }
          break;
        case 9:
          if ((*(ushort *)(iVar3 + 0x19c) & 0x1004) != 0) {
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x1d;
            iVar5 = DAT_BATTLE_BIN__80096244 * 8;
            *(uint *)(&DAT_BATTLE_BIN__8009624c + iVar5) = (uint)*(byte *)(iVar3 + 399);
            if ((*(ushort *)(iVar3 + 0x19c) & 0x1000) != 0) {
              *(uint *)(&DAT_BATTLE_BIN__8009624c + iVar5) = *(byte *)(iVar3 + 399) | 0x8000;
            }
            bVar2 = true;
          }
          break;
        case 10:
          if ((*(ushort *)(iVar3 + 0x19c) & 0x10) != 0) {
            (&DAT_BATTLE_BIN__80096248)[DAT_BATTLE_BIN__80096244 * 8] = 0x1c;
            uVar4 = (uint)*(byte *)(iVar3 + 399);
            goto LAB_BATTLE_BIN__80073100;
          }
        }
      }
      uVar6 = uVar6 + 1;
      if (bVar2) {
        (&DAT_BATTLE_BIN__80096249)[DAT_BATTLE_BIN__80096244 * 8] =
             *(undefined *)(*(int *)(param_1 + 0x134) + 0x18a);
        DAT_BATTLE_BIN__80096244 = DAT_BATTLE_BIN__80096244 + 1;
      }
      bVar1 = uVar6 < 0xb;
    } while ((int)uVar6 < 0xb);
  }
  return;
}



void FUN_BATTLE_BIN__80073164(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  
  DAT_BATTLE_BIN__80096244 = 0;
  iVar3 = 0;
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  piVar2 = piVar1;
  if (*(char *)((int)piVar1 + 0x18d) != '\0') {
    do {
      iVar3 = iVar3 + 1;
      piVar2 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)piVar2 + 0x18e));
      FUN_BATTLE_BIN__80072d8c((int)piVar2);
      piVar2 = (int *)((int)piVar1 + iVar3);
    } while (iVar3 < (int)(uint)*(byte *)((int)piVar1 + 0x18d));
  }
  return;
}



void FUN_BATTLE_BIN__800731d8(void)

{
  bool bVar1;
  int *piVar2;
  undefined3 extraout_var;
  
  piVar2 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__80072d8c((int)piVar2);
  if ((DAT_800473ac & 0x180000) != 0) {
    DAT_BATTLE_BIN__80096244 = 0;
  }
  bVar1 = FUN_BATTLE_BIN__80072ce8();
  if (CONCAT31(extraout_var,bVar1) == 0) {
    FUN_BATTLE_BIN__801419b8(10,0,(uint)*(byte *)(piVar2[0x4d] + 0x18a),0,0);
  }
  return;
}



void FUN_BATTLE_BIN__80073250(int *param_1,int *param_2,undefined4 param_3,uint param_4)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__8018d70c((uint)*(byte *)(param_1[0x4d] + 0x18a));
  param_1[0x60] = iVar1;
  if (iVar1 == -1) {
    param_2 = param_1 + 0x61;
    FUN_BATTLE_BIN__8017ec18((uint)*(byte *)(param_1[0x4d] + 0x18a),(undefined2 *)param_2);
    FUN_BATTLE_BIN__80081b88(param_1);
  }
  FUN_BATTLE_BIN__80068bd4((ushort)*(byte *)(param_1 + 1),param_2,param_3,param_4);
  FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(param_1 + 1));
  return;
}



void FUN_BATTLE_BIN__800732c8(undefined4 param_1,int *param_2,undefined4 param_3,uint param_4)

{
  int *piVar1;
  int *piVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int *unaff_s3;
  
  DAT_BATTLE_BIN__800960e4 = 0x2e;
  DAT_80045980 = 1;
  DAT_BATTLE_BIN__80098db8 = 0;
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__80073164();
  FUN_BATTLE_BIN__80073250(piVar1,param_2,param_3,param_4);
  *(undefined *)(piVar1 + 0xb4) = 0;
  FUN_BATTLE_BIN__8013aedc(0x3c);
  if (*(char *)((int)piVar1 + 0x1a2) == '\x06') {
    FUN_80043d20(2);
    uVar6 = 0x1838;
    uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
    uVar4 = 0;
    iVar5 = 1;
  }
  else if (*(char *)((int)piVar1 + 0x1a2) == '\t') {
    FUN_80043d20(2);
    uVar6 = 0x1828;
    uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
    uVar4 = 0;
    iVar5 = 1;
  }
  else {
    iVar5 = 0;
    uVar6 = 0;
    piVar2 = piVar1;
    if (*(char *)((int)piVar1 + 0x18d) != '\0') {
      do {
        unaff_s3 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)piVar2 + 0x18e));
        if (((unaff_s3 != (int *)0x0) && (unaff_s3[0x4d] != 0)) &&
           (*(char *)(unaff_s3[0x4d] + 0x18c) != '\0')) {
          FUN_BATTLE_BIN__8013aedc(0x3c);
          uVar6 = (uint)(byte)(&DAT_BATTLE_BIN__80093e12)[piVar1[0x5c] * 3];
          if (uVar6 != 0) {
            if (uVar6 != 6) goto LAB_BATTLE_BIN__80073440;
            FUN_80043d20(2);
          }
          break;
        }
        iVar5 = iVar5 + 1;
        piVar2 = (int *)((int)piVar1 + iVar5);
      } while (iVar5 < (int)(uint)*(byte *)((int)piVar1 + 0x18d));
    }
    if (uVar6 != 6) {
LAB_BATTLE_BIN__80073440:
      if (uVar6 != 0x2b) {
        if (uVar6 == 0) {
          uVar6 = 0;
          uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
          uVar4 = 0;
          iVar5 = 0;
        }
        else {
          uVar6 = uVar6 | 0x1800;
          uVar4 = 0;
          uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
          iVar5 = 1;
        }
        goto LAB_BATTLE_BIN__800734a4;
      }
    }
    uVar6 = uVar6 | 0x1800;
    uVar3 = (uint)*(byte *)(piVar1[0x4d] + 0x18a);
    uVar4 = (uint)*(byte *)(unaff_s3[0x4d] + 0x18a);
    iVar5 = 1;
  }
LAB_BATTLE_BIN__800734a4:
  FUN_BATTLE_BIN__801419b8(10,uVar6,uVar3,uVar4,iVar5);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__800734cc(void)

{
  int *piVar1;
  int *piVar2;
  ushort local_18 [4];
  
  DAT_BATTLE_BIN__800960e4 = 0x28;
  DAT_80045980 = 1;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__801419b8(10,0,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,0);
  FUN_BATTLE_BIN__8013aedc(0x1e);
  if (DAT_BATTLE_BIN__80096204 == 1) {
    FUN_BATTLE_BIN__80071e68((int)piVar1);
  }
  else if (DAT_BATTLE_BIN__80096204 < 2) {
    if (DAT_BATTLE_BIN__80096204 == 0) {
      FUN_BATTLE_BIN__80071de8((int)piVar1);
    }
  }
  else if (DAT_BATTLE_BIN__80096204 == 2) {
    _DAT_BATTLE_BIN__80096200 =
         FUN_BATTLE_BIN__8018e6b8((uint)*(byte *)(piVar1[0x4d] + 0x18a),(short *)local_18);
    if (_DAT_BATTLE_BIN__80096200 == -1) {
      DAT_BATTLE_BIN__80096204 = DAT_BATTLE_BIN__80096204 + 1;
    }
    else {
      piVar2 = FUN_BATTLE_BIN__8007a724(DAT_BATTLE_BIN__80096200);
      FUN_BATTLE_BIN__801419b8
                (0xb,(uint)local_18[0],(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,
                 *(byte *)(piVar2[0x4d] + 5) & 8);
      FUN_BATTLE_BIN__800683e4((int)piVar2);
      FUN_BATTLE_BIN__800683c0();
    }
  }
  FUN_BATTLE_BIN__8006e55c();
  return;
}



void FUN_BATTLE_BIN__80073638(void)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__80072a88();
  if (((piVar1 != (int *)0x0) && (piVar1[0x4d] != 0)) &&
     (iVar2 = FUN_BATTLE_BIN__8017e7e4
                        ((uint)*(byte *)(piVar1[0x4d] + 0x18a),(byte *)(piVar1 + 0x6c)), iVar2 == -1
     )) {
    *(undefined *)((int)piVar1 + 0x1b3) = 0;
    *(undefined *)((int)piVar1 + 0x1b2) = 0;
    *(undefined *)((int)piVar1 + 0x1b1) = 0;
    *(undefined *)(piVar1 + 0x6c) = 0;
  }
  FUN_BATTLE_BIN__80080f44((int)piVar1);
  DAT_BATTLE_BIN__80096204 = 0;
  FUN_BATTLE_BIN__800683e4((int)piVar1);
  FUN_BATTLE_BIN__800734cc();
  DAT_BATTLE_BIN__80098db8 = 0;
  DAT_BATTLE_BIN__8009612c = 0;
  return;
}



void FUN_BATTLE_BIN__800736d4(int param_1,int param_2)

{
  int *piVar1;
  undefined *puVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  ushort local_f0;
  undefined local_ee;
  undefined local_ed;
  undefined2 local_ec;
  undefined2 local_ea;
  ushort local_e8;
  ushort local_e6;
  undefined2 local_4c;
  undefined local_4a;
  undefined local_42 [16];
  undefined2 auStack_32 [4];
  ushort local_2a;
  
  local_4c = 0;
  local_f0 = (ushort)*(byte *)(param_2 + 0x18d);
  local_4a = *(undefined *)(param_2 + 4);
  Store_3_Halfwords(auStack_32,(ushort)*(byte *)(param_2 + 0x1a8),(ushort)*(byte *)(param_2 + 0x1aa)
                    ,(ushort)*(byte *)(param_2 + 0x1a9));
  iVar7 = param_2 + 0x18c;
  if (local_f0 == 0) {
    if (*(char *)(param_2 + 0x19e) == '\0') {
      local_f0 = 1;
      local_ec = 1;
      local_ea = (ushort)*(byte *)(param_2 + 0x1a8);
      local_e6 = (ushort)*(byte *)(param_2 + 0x1a9);
      local_e8 = (ushort)*(byte *)(param_2 + 0x1aa);
    }
  }
  else {
    iVar4 = 0;
    if (local_f0 != 0) {
      iVar6 = 0;
      do {
        piVar1 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)(iVar7 + iVar4 + 2));
        *(undefined2 *)((int)&local_ec + iVar6) = 0;
        *(undefined *)((int)&local_ea + iVar6) = *(undefined *)(piVar1 + 1);
        iVar3 = piVar1[0x4d];
        if (iVar3 == 0) {
LAB_BATTLE_BIN__800737b4:
          *(undefined *)((int)&local_ea + iVar6 + 1) = 0;
        }
        else if (*(char *)(iVar3 + 0x18d) == '\0') {
          if (*(char *)(iVar3 + 0x18e) == '\t') {
            *(undefined *)((int)&local_ea + iVar6 + 1) = 2;
          }
          else {
            if (*(char *)(iVar3 + 0x18e) == '\0') goto LAB_BATTLE_BIN__800737b4;
            *(undefined *)((int)&local_ea + iVar6 + 1) = 3;
          }
        }
        else {
          *(undefined *)((int)&local_ea + iVar6 + 1) = 1;
        }
        iVar4 = iVar4 + 1;
        iVar6 = iVar6 + 10;
      } while (iVar4 < (int)(uint)local_f0);
    }
  }
  iVar4 = 0;
  uVar5 = 0;
  do {
    if (((uVar5 != *(byte *)(param_2 + 4)) &&
        (piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)uVar5), piVar1 != (int *)0x0)) &&
       (piVar1[0x4d] != 0)) {
      iVar6 = 0;
      if (*(byte *)(param_2 + 0x18d) != 0) {
        iVar3 = iVar7;
        do {
          if (*(char *)(piVar1[0x4d] + 0x18a) == *(char *)(iVar3 + 2)) break;
          iVar6 = iVar6 + 1;
          iVar3 = iVar7 + iVar6;
        } while (iVar6 < (int)(uint)*(byte *)(param_2 + 0x18d));
        if (iVar6 < (int)(uint)*(byte *)(param_2 + 0x18d)) goto LAB_BATTLE_BIN__800738b0;
      }
      puVar2 = local_42 + iVar4;
      iVar4 = iVar4 + 1;
      *puVar2 = *(undefined *)(piVar1 + 1);
    }
LAB_BATTLE_BIN__800738b0:
    uVar5 = uVar5 + 1;
    if (0xf < (int)uVar5) {
      local_ee = (undefined)iVar4;
      local_ed = *(undefined *)(param_2 + 0x19f);
      local_2a = (ushort)*(byte *)(param_2 + 0x1ab);
      uVar5 = 0;
      if (((*(short *)(param_2 + 0x1a0) != 0) && (*(char *)(param_2 + 0x1a3) == '\0')) &&
         ((DAT_BATTLE_BIN__80096214 == 1 &&
          ((1 < *(byte *)(param_2 + 0x13a) - 0x4a && (*(byte *)(param_2 + 0x13a) != 0x4c)))))) {
        if (param_1 == 0x189) {
          uVar5 = (uint)DAT_BATTLE_BIN__800942ab |
                  (uint)(byte)WeaponSecondary[*(byte *)(param_2 + 0x13a)].field_0x6 << 0x10;
        }
        else {
          uVar5 = (uint)(byte)(&DAT_BATTLE_BIN__80093e10)[param_1 * 3] |
                  (uint)SecondaryAbilityData[param_1].Element << 0x10;
        }
      }
      FUN_BATTLE_BIN__801a15b4(uVar5,param_1,(undefined4 *)&local_f0);
      return;
    }
  } while( true );
}



undefined4 FUN_BATTLE_BIN__800739cc(void)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  uint unaff_s1;
  undefined uStack_30;
  undefined local_2f;
  AbilityID local_2e [11];
  
  piVar1 = FUN_BATTLE_BIN__8007a218();
  do {
    if (DAT_BATTLE_BIN__80096214 == 1) {
      iVar2 = FUN_BATTLE_BIN__8017c9b8((uint)*(byte *)(piVar1[0x4d] + 0x18a));
      if (iVar2 == 0) {
        DAT_BATTLE_BIN__800960e4 = 0x29;
        DAT_BATTLE_BIN__8009611c = (uint)*(byte *)(piVar1 + 1);
        FUN_BATTLE_BIN__8014175c(piVar1[0x4d] + 0x16e,(uint)*(byte *)(piVar1[0x4d] + 0x18a),1);
        *(undefined *)((int)piVar1 + 0x1b5) = 0;
        DAT_BATTLE_BIN__80098db8 = 0;
        piVar1[0x5c] = (int)*(short *)((int)piVar1 + 0x15e);
        *(short *)(piVar1 + 0x4e) = *(short *)((int)piVar1 + 0x15e);
        unaff_s1 = 0;
      }
      else {
        if ((-1 < iVar2) && (iVar2 < 4)) {
          FUN_BATTLE_BIN__80080fec((int)piVar1,iVar2);
        }
        FUN_BATTLE_BIN__80082eec((int)piVar1);
        FUN_BATTLE_BIN__80072b14((int)piVar1);
        unaff_s1 = 0xffffffff;
      }
LAB_BATTLE_BIN__80073b4c:
      if (unaff_s1 != 0xffffffff) {
        return 1;
      }
    }
    else {
      if (1 < DAT_BATTLE_BIN__80096214) {
        if (DAT_BATTLE_BIN__80096214 == 2) {
          unaff_s1 = FUN_BATTLE_BIN__8017e178(local_2e);
          goto LAB_BATTLE_BIN__80073af0;
        }
        goto LAB_BATTLE_BIN__80073b4c;
      }
      if (DAT_BATTLE_BIN__80096214 != 0) goto LAB_BATTLE_BIN__80073b4c;
      unaff_s1 = FUN_BATTLE_BIN__8017defc((uint)*(byte *)(piVar1[0x4d] + 0x18a),local_2e);
LAB_BATTLE_BIN__80073af0:
      if (unaff_s1 != 0xffffffff) {
        DAT_BATTLE_BIN__800960e4 = 0x29;
        piVar3 = FUN_BATTLE_BIN__8007a724((ushort)unaff_s1);
        DAT_BATTLE_BIN__8009611c = (uint)*(byte *)(piVar3 + 1);
        local_2f = 0;
        FUN_BATTLE_BIN__8014175c((int)&uStack_30,(uint)*(byte *)(piVar3[0x4d] + 0x18a),1);
        unaff_s1 = 0;
        *(undefined *)((int)piVar3 + 0x1b5) = 0;
        DAT_BATTLE_BIN__80098db8 = 0;
        piVar3[0x5c] = (int)(short)local_2e[0];
        *(AbilityID *)(piVar3 + 0x4e) = local_2e[0];
        goto LAB_BATTLE_BIN__80073b4c;
      }
    }
    DAT_BATTLE_BIN__80096214 = DAT_BATTLE_BIN__80096214 + 1;
    if (2 < DAT_BATTLE_BIN__80096214) {
      return 0;
    }
  } while( true );
}



void FUN_BATTLE_BIN__80073b9c(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;
  int iVar6;
  
  DAT_80045980 = 1;
  DAT_BATTLE_BIN__800960e4 = 0x2c;
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  *(undefined2 *)(piVar1 + 2) = 0;
  if (*(char *)((int)piVar1 + 0x1b5) == '\0') {
    FUN_BATTLE_BIN__8007273c((int)piVar1,0);
  }
  piVar4 = piVar1 + 99;
  if ((*(char *)((int)piVar1 + 0x18d) != '\0') &&
     (iVar6 = 0, piVar2 = piVar4, *(char *)((int)piVar1 + 0x18d) != '\0')) {
    do {
      piVar2 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)piVar2 + 2));
      iVar6 = iVar6 + 1;
      if (piVar2 != (int *)0x0) {
        iVar3 = FUN_BATTLE_BIN__8018be08((uint)*(byte *)(piVar2[0x4d] + 0x18a));
        piVar2[0x60] = iVar3;
        if (iVar3 == -1) {
          FUN_BATTLE_BIN__8017ec18
                    ((uint)*(byte *)(piVar2[0x4d] + 0x18a),(undefined2 *)(piVar2 + 0x61));
        }
      }
      piVar2 = (int *)((int)piVar4 + iVar6);
    } while (iVar6 < (int)(uint)*(byte *)((int)piVar1 + 0x18d));
  }
  if (DAT_BATTLE_BIN__80096214 == 1) {
    if (*(short *)(piVar1 + 0x4e) != 0) {
      if (((1 < *(byte *)((int)piVar1 + 0x13a) - 0x4a) && (*(char *)((int)piVar1 + 0x13a) != 'L'))
         && (*(char *)((int)piVar1 + 0x1a3) == '\0')) {
LAB_BATTLE_BIN__80073e3c:
        piVar4 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)piVar1 + 0x18e));
        FUN_BATTLE_BIN__80082c10((int)piVar1,(int)piVar4);
        return;
      }
      if (((*(short *)(piVar1 + 0x4e) != 0) && (1 < *(byte *)((int)piVar1 + 0x13a) - 0x4a)) &&
         (*(char *)((int)piVar1 + 0x13a) != 'L')) {
        return;
      }
    }
    if (*(char *)((int)piVar1 + 0x18d) != '\0') {
      piVar4 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)piVar1 + 0x18e));
      goto LAB_BATTLE_BIN__80073ec0;
    }
  }
  else {
    if (*(short *)(piVar1 + 0x4e) == 0x200) {
      iVar6 = 0;
      piVar2 = piVar4;
      if (*(char *)((int)piVar1 + 0x18d) == '\0') {
        return;
      }
      do {
        piVar2 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)piVar2 + 2));
        if (piVar2 != (int *)0x0) {
          uVar5 = (uint)*(short *)(piVar2 + 0x1c);
          *(undefined *)(piVar2 + 0x1f) = *(undefined *)(piVar1 + 0x6a);
          *(undefined *)((int)piVar2 + 0x7d) = *(undefined *)((int)piVar1 + 0x1a9);
          *(undefined *)((int)piVar2 + 0x7e) = *(undefined *)((int)piVar1 + 0x1aa);
          if ((int)uVar5 < 0) {
            uVar5 = uVar5 + 0x3ff;
          }
          FUN_BATTLE_BIN__8017fddc
                    ((uint)*(byte *)(piVar2[0x4d] + 0x18a),*(byte *)(piVar2 + 0x1f),
                     *(byte *)((int)piVar2 + 0x7d),(uint)*(byte *)((int)piVar2 + 0x7e),
                     (byte)(uVar5 >> 10));
          FUN_BATTLE_BIN__80081b0c(piVar2);
        }
        iVar6 = iVar6 + 1;
        piVar2 = (int *)((int)piVar4 + iVar6);
      } while (iVar6 < (int)(uint)*(byte *)((int)piVar1 + 0x18d));
      return;
    }
    if (*(short *)(piVar1 + 0x6b) == 0x1b8) {
      return;
    }
    if (*(short *)(piVar1 + 0x4e) != 0) {
      if (((1 < *(byte *)((int)piVar1 + 0x13a) - 0x4a) && (*(char *)((int)piVar1 + 0x13a) != 'L'))
         && (*(char *)((int)piVar1 + 0x1b5) == '\0')) {
        if (*(char *)((int)piVar1 + 0x1a3) != '\0') {
          return;
        }
        goto LAB_BATTLE_BIN__80073e3c;
      }
      if (((*(short *)(piVar1 + 0x4e) != 0) && (1 < *(byte *)((int)piVar1 + 0x13a) - 0x4a)) &&
         (*(char *)((int)piVar1 + 0x13a) != 'L')) {
        return;
      }
    }
    if (*(char *)((int)piVar1 + 0x18d) != '\0') {
      piVar4 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)piVar1 + 0x18e));
      goto LAB_BATTLE_BIN__80073ec0;
    }
  }
  piVar4 = (int *)0x0;
LAB_BATTLE_BIN__80073ec0:
  FUN_BATTLE_BIN__8008288c((int)piVar1,(int)piVar4);
  return;
}



void FUN_BATTLE_BIN__80073eec(void)

{
  short sVar1;
  int *piVar2;
  uint uVar3;
  uint uVar4;
  
  DAT_80045980 = 1;
  piVar2 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__8017ce44((uint)*(byte *)(piVar2[0x4d] + 0x18a),(undefined *)(piVar2 + 99));
  sVar1 = *(short *)((int)piVar2 + 0x1a6);
  uVar4 = (uint)*(ushort *)(piVar2 + 0x68);
  *(ushort *)(piVar2 + 0x4e) = *(ushort *)(piVar2 + 0x68);
  FUN_BATTLE_BIN__80083758((uint)*(byte *)((int)piVar2 + 0x1ab),(int)piVar2);
  if (((((int)sVar1 == 0) || (uVar4 == (int)sVar1)) && (uVar4 != 0x200)) &&
     ((uVar4 != 0 && (uVar3 = FUN_BATTLE_BIN__801a1814(uVar4), uVar3 == 0)))) {
    DAT_BATTLE_BIN__800960e4 = 0x2b;
    FUN_BATTLE_BIN__800736d4(uVar4,(int)piVar2);
  }
  else {
    FUN_BATTLE_BIN__80073b9c();
  }
  return;
}



void FUN_BATTLE_BIN__80073fb8(void)

{
  DAT_80045980 = 1;
  DAT_BATTLE_BIN__800960e4 = 0x2a;
  DAT_BATTLE_BIN__80098d70 = 0;
  return;
}



void FUN_BATTLE_BIN__80073fe0(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__800ec718(0);
  DAT_BATTLE_BIN__800960e4 = 0x1c;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  *(undefined2 *)(piVar1 + 2) = 0;
  if ((&DAT_BATTLE_BIN__80093e10)[(uint)*(ushort *)(piVar1 + 0x4e) * 3] == '\0') {
    FUN_BATTLE_BIN__80081978(2,*(undefined2 *)(piVar1 + 0x1c),(int)piVar1);
  }
  else {
    FUN_BATTLE_BIN__80082b1c((int)piVar1);
  }
  FUN_BATTLE_BIN__800683d4();
  return;
}



void FUN_BATTLE_BIN__80074068(void)

{
  bool bVar1;
  int *piVar2;
  undefined3 extraout_var;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x1d;
  DAT_BATTLE_BIN__80098db8 = 0;
  piVar2 = FUN_BATTLE_BIN__8007a218();
  bVar1 = FUN_BATTLE_BIN__80070a38((int)piVar2);
  if (CONCAT31(extraout_var,bVar1) == 0) {
    DAT_BATTLE_BIN__800960e4 = 0x1d;
    FUN_BATTLE_BIN__80070820((int)piVar2);
  }
  return;
}



void FUN_BATTLE_BIN__800740d4(void)

{
  int *piVar1;
  uint uVar2;
  
  FUN_BATTLE_BIN__8013d634(0,0,0);
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__80183ba8((uint)*(byte *)(piVar1[0x4d] + 0x18a));
  *(byte *)(piVar1 + 0x4f) = *(byte *)(piVar1 + 0x4f) | 2;
  FUN_BATTLE_BIN__80072674((int)piVar1);
  uVar2 = FUN_BATTLE_BIN__8017c3dc((CurActionTargetData *)(piVar1 + 0x57));
  piVar1[0x5f] = uVar2;
  if (uVar2 == 1) {
LAB_BATTLE_BIN__80074184:
    FUN_BATTLE_BIN__8006eef0();
    DAT_BATTLE_BIN__800960e4 = 0x1e;
    DAT_BATTLE_BIN__80098db8 = 0;
    *(byte *)(piVar1 + 0x4f) = *(byte *)(piVar1 + 0x4f) | 2;
    if ((&DAT_BATTLE_BIN__80093e10)[(uint)*(ushort *)(piVar1 + 0x4e) * 3] == '\0') {
      return;
    }
    FUN_BATTLE_BIN__80082b80((int)piVar1);
    return;
  }
  if ((int)uVar2 < 2) {
    if (uVar2 == 0) {
      FUN_BATTLE_BIN__80082b80((int)piVar1);
      goto LAB_BATTLE_BIN__800741e8;
    }
  }
  else if ((uVar2 != 2) && (uVar2 == 3)) goto LAB_BATTLE_BIN__80074184;
  FUN_80044a34();
LAB_BATTLE_BIN__800741e8:
  FUN_BATTLE_BIN__80072b14((int)piVar1);
  return;
}



void FUN_BATTLE_BIN__80074204(void)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x1e;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  iVar2 = piVar1[0x4d];
  iVar3 = *(int *)(iVar2 + 0x172);
  iVar4 = *(int *)(iVar2 + 0x176);
  iVar5 = *(int *)(iVar2 + 0x17a);
  piVar1[0x57] = *(int *)(iVar2 + 0x16e);
  piVar1[0x58] = iVar3;
  piVar1[0x59] = iVar4;
  piVar1[0x5a] = iVar5;
  piVar1[0x5b] = *(int *)(iVar2 + 0x17e);
  *(undefined2 *)(piVar1 + 0x4e) = *(undefined2 *)(piVar1[0x4d] + 0x170);
  *(byte *)(piVar1 + 0x4f) = *(byte *)(piVar1 + 0x4f) | 2;
  if (*(short *)(piVar1 + 0x4e) != 0) {
    FUN_BATTLE_BIN__80082b80((int)piVar1);
  }
  return;
}



void FUN_BATTLE_BIN__80074308(void)

{
  int *piVar1;
  int iVar2;
  ushort uVar3;
  ushort uVar4;
  ushort uVar5;
  
  piVar1 = FUN_BATTLE_BIN__8007a218();
  *(undefined2 *)(piVar1 + 2) = 0;
  if (piVar1[0x5d] == 2) {
    uVar3 = (ushort)*(byte *)(piVar1 + 0x1f);
    uVar4 = (ushort)*(byte *)((int)piVar1 + 0x7e);
    uVar5 = (ushort)*(byte *)((int)piVar1 + 0x7d);
  }
  else {
    if ((*(byte *)((int)piVar1 + 0x13d) & 8) == 0) goto LAB_BATTLE_BIN__8007437c;
    uVar3 = (ushort)DAT_BATTLE_BIN__800961b4;
    uVar4 = (ushort)DAT_BATTLE_BIN__800961b8;
    uVar5 = (ushort)DAT_BATTLE_BIN__800961bc;
  }
  Store_3_Halfwords((undefined2 *)(piVar1 + 0x5a),uVar3,uVar4,uVar5);
  *(undefined *)((int)piVar1 + 0x166) = 5;
LAB_BATTLE_BIN__8007437c:
  iVar2 = FUN_BATTLE_BIN__8017aaf8((CurActionTargetData *)(piVar1 + 0x57));
  piVar1[0x5e] = iVar2;
  if (iVar2 < 2) {
    if (iVar2 < 0) {
      if (iVar2 == -1) {
        FUN_BATTLE_BIN__800714f4();
      }
    }
    else {
      FUN_BATTLE_BIN__8006eedc();
      DAT_BATTLE_BIN__800960c4 = DAT_BATTLE_BIN__800960c0;
      DAT_BATTLE_BIN__800960e4 = 0x19;
      DAT_BATTLE_BIN__800960c0 = 2;
      FUN_BATTLE_BIN__800ec718(7);
      FUN_BATTLE_BIN__8006e634();
      if ((DAT_800473ac & 0x18000000) == 0) {
        FUN_BATTLE_BIN__80068634();
      }
    }
  }
  else if (iVar2 == 2) {
    FUN_BATTLE_BIN__8006eef0();
    FUN_BATTLE_BIN__80073fe0();
    FUN_BATTLE_BIN__8006e634();
  }
  FUN_BATTLE_BIN__800683d4();
  return;
}



void FUN_BATTLE_BIN__80074470(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x18;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__801419b8
            (4,5,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,*(byte *)((int)piVar1 + 0x13d) & 8);
  return;
}



int FUN_BATTLE_BIN__800744c8(void)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a218();
  *(undefined2 *)(piVar1 + 2) = 0;
  switch(piVar1[0x5d]) {
  case 0:
  case 1:
    FUN_BATTLE_BIN__8006eef0();
    DAT_BATTLE_BIN__800960e4 = 0x17;
    FUN_BATTLE_BIN__800ec718(2);
    FUN_BATTLE_BIN__8006e5c0();
    if ((*(byte *)((int)piVar1 + 0x13d) & 8) == 0) {
      FUN_BATTLE_BIN__800683d4();
    }
    else {
      FUN_BATTLE_BIN__800683c0();
    }
    break;
  case 2:
    FUN_BATTLE_BIN__8006eef0();
    FUN_BATTLE_BIN__80074308();
    FUN_BATTLE_BIN__8006e5c0();
    break;
  case -1:
  case 3:
    FUN_BATTLE_BIN__800714f4();
  }
  return piVar1[0x5d];
}



void FUN_BATTLE_BIN__800745ac(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x1b;
  piVar1 = FUN_BATTLE_BIN__8007a218();
  piVar2 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  iVar3 = piVar1[0x5d];
  if (iVar3 == 1) {
    if (piVar2 == (int *)0x0) {
      uVar4 = 2;
    }
    else {
      uVar4 = 4;
    }
  }
  else {
    if (iVar3 < 2) {
      if (iVar3 == 0) {
        if (piVar2 == (int *)0x0) {
          uVar4 = 2;
        }
        else {
          uVar4 = 1;
        }
        goto LAB_BATTLE_BIN__8007467c;
      }
    }
    else if (iVar3 == 2) {
      if (piVar2 == (int *)0x0) {
        uVar4 = 2;
      }
      else {
        uVar4 = 3;
      }
      goto LAB_BATTLE_BIN__8007467c;
    }
    uVar4 = 0;
  }
LAB_BATTLE_BIN__8007467c:
  FUN_BATTLE_BIN__801419b8
            (4,uVar4,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,*(byte *)((int)piVar1 + 0x13d) & 8);
  return;
}



void FUN_BATTLE_BIN__800746ac(int param_1)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  ushort uVar5;
  ushort uVar6;
  
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  iVar4 = 0;
  do {
    piVar2 = FUN_BATTLE_BIN__8007a6e4((ushort)iVar4);
    if ((piVar2 != (int *)0x0) && (iVar3 = piVar2[0x4d], iVar3 != 0)) {
      if (param_1 == 0xc) {
        if ((*(byte *)(iVar3 + 5) & 0x30) != (*(byte *)(piVar1[0x4d] + 5) & 0x30)) {
          uVar5 = 0x10;
          uVar6 = 0;
          goto LAB_BATTLE_BIN__80074784;
        }
      }
      else if ((param_1 == 0xe) &&
              ((*(byte *)(iVar3 + 5) & 0x30) == (*(byte *)(piVar1[0x4d] + 5) & 0x30))) {
        uVar5 = 0;
        uVar6 = 0x18;
LAB_BATTLE_BIN__80074784:
        FUN_BATTLE_BIN__8008f710(9,4,3,iVar4,0,uVar5,0,uVar6);
      }
    }
    iVar4 = iVar4 + 1;
    if (0xf < iVar4) {
      return;
    }
  } while( true );
}



void FUN_BATTLE_BIN__800747b8(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x1f;
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__801419b8(1,0,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,1);
  FUN_BATTLE_BIN__800683c0();
  return;
}



void FUN_BATTLE_BIN__80074814(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x20;
  FUN_BATTLE_BIN__8006e55c();
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__800746ac((uint)*(byte *)((int)piVar1 + 0x1b6));
  return;
}



void FUN_BATTLE_BIN__8007485c(void)

{
  int *piVar1;
  int *piVar2;
  uint uVar3;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x21;
  piVar1 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  if ((piVar1 != (int *)0x0) && (piVar1[0x4d] != 0)) {
    FUN_BATTLE_BIN__8013d634(3,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0);
  }
  piVar2 = FUN_BATTLE_BIN__8007a1d4();
  if (piVar1 == (int *)0x0) {
    uVar3 = 3;
  }
  else if (*(char *)((int)piVar2 + 0x1b6) == '\f') {
    uVar3 = 1;
  }
  else {
    if (*(char *)((int)piVar2 + 0x1b6) != '\x0e') {
      return;
    }
    uVar3 = 2;
  }
  FUN_BATTLE_BIN__801419b8(9,uVar3,(uint)*(byte *)(piVar2[0x4d] + 0x18a),0,1);
  return;
}



void FUN_BATTLE_BIN__80074930(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x22;
  piVar1 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  if ((piVar1 != (int *)0x0) && (piVar1[0x4d] != 0)) {
    FUN_BATTLE_BIN__8013d634(3,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0);
  }
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__801419b8(9,0,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,1);
  return;
}



void FUN_BATTLE_BIN__800749c8(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x23;
  FUN_BATTLE_BIN__8013d634(1,0xff,0xff);
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__801419b8(1,0,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0,1);
  DAT_BATTLE_BIN__80098db8 = 0;
  FUN_BATTLE_BIN__800683c0();
  return;
}



void FUN_BATTLE_BIN__80074a3c(void)

{
  int *piVar1;
  
  FUN_BATTLE_BIN__8006eef0();
  DAT_BATTLE_BIN__800960e4 = 0x24;
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  piVar1 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)(piVar1[0x4d] + 0x1b9));
  FUN_BATTLE_BIN__800683e4((int)piVar1);
  FUN_BATTLE_BIN__80070820((int)piVar1);
  if ((piVar1 != (int *)0x0) && (piVar1[0x4d] != 0)) {
    FUN_BATTLE_BIN__8013d634(3,(uint)*(byte *)(piVar1[0x4d] + 0x18a),0);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__80074b38(undefined4 param_1,undefined4 param_2)

{
  DAT_80045980 = 2;
  DAT_BATTLE_BIN__800960e4 = 0x3b;
  _DAT_BATTLE_BIN__8009610c = param_1;
  DAT_BATTLE_BIN__800a778c = param_2;
  return;
}



void FUN_BATTLE_BIN__80074b68(void)

{
  short asStack_28 [4];
  SVECTOR SStack_20;
  VECTOR VStack_18;
  
  if (DAT_BATTLE_BIN__80096110 == 0) {
    FUN_BATTLE_BIN__800890b8(&VStack_18,asStack_28,&SStack_20);
  }
  else {
    FUN_BATTLE_BIN__8008924c();
  }
  return;
}



void FUN_BATTLE_BIN__80074bac(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  FUN_BATTLE_BIN__80086b44();
  if (DAT_BATTLE_BIN__800960f0 != 1) {
    FUN_BATTLE_BIN__8008719c(param_1,param_2,param_3,param_4);
  }
  FUN_BATTLE_BIN__80086dc4();
  FUN_BATTLE_BIN__80074b68();
  return;
}



void FUN_BATTLE_BIN__80074bf8(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  
  FUN_BATTLE_BIN__8006f28c();
  FUN_BATTLE_BIN__8006f634();
  FUN_BATTLE_BIN__8006f968();
  FUN_BATTLE_BIN__8006e7c8();
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  if ((DAT_8004594c & 0x100) == 0) {
    if ((DAT_8004594c & 0x80) == 0) {
      if ((DAT_8004594c & 0x20) == 0) {
        if ((DAT_8004594c & 0x40) == 0) {
          if ((DAT_8004594c & 0x800) == 0) {
            if ((DAT_8004594c & 0x10) != 0) {
              FUN_BATTLE_BIN__80068794();
              Call_Play_Sound(1);
              FUN_BATTLE_BIN__80071668();
            }
          }
          else if ((DAT_800473ac & 0x1c0) != 0xc0) {
            Call_Play_Sound(1);
            FUN_BATTLE_BIN__800686b0();
            FUN_BATTLE_BIN__8006e55c();
          }
        }
        else {
          FUN_BATTLE_BIN__80068794();
          piVar2 = FUN_BATTLE_BIN__8007a2b8
                             (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,
                              DAT_BATTLE_BIN__800961b8);
          if (piVar2 != (int *)0x0) {
            DAT_BATTLE_BIN__8009611c = (uint)*(byte *)(piVar2 + 1);
            FUN_BATTLE_BIN__800715e8();
          }
        }
      }
      else {
        FUN_BATTLE_BIN__800ec718(0);
        Call_Play_Sound(1);
        piVar2 = FUN_BATTLE_BIN__8007a2b8
                           (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,
                            DAT_BATTLE_BIN__800961b8);
        if (piVar2 == (int *)0x0) {
          piVar2 = FUN_BATTLE_BIN__8007a218();
          if (piVar2 != (int *)0x0) {
            FUN_BATTLE_BIN__800683e4((int)piVar2);
            FUN_BATTLE_BIN__80070c04();
          }
        }
        else {
          FUN_BATTLE_BIN__800714f4();
        }
      }
    }
    else {
      FUN_BATTLE_BIN__80068794();
      FUN_BATTLE_BIN__8007134c();
    }
  }
  else {
    FUN_BATTLE_BIN__80068794();
    FUN_BATTLE_BIN__80070cdc();
  }
  return;
}



void FUN_BATTLE_BIN__80074dd0(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  uint *puVar2;
  
  uVar1 = FUN_BATTLE_BIN__8013d578();
  if (uVar1 != 2) {
    DAT_BATTLE_BIN__800960ec = 0;
    FUN_BATTLE_BIN__80070c78();
  }
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__80074e2c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  if ((DAT_80045950 & 0x80) != 0) {
    DAT_BATTLE_BIN__800960c0 = DAT_BATTLE_BIN__800960c4;
    FUN_BATTLE_BIN__80070c78();
    FUN_BATTLE_BIN__80068494();
  }
  FUN_BATTLE_BIN__8006f28c();
  FUN_BATTLE_BIN__8006f634();
  FUN_BATTLE_BIN__8006f968();
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  return;
}



void FUN_BATTLE_BIN__80074e94(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    DAT_BATTLE_BIN__80098db8 = 1;
  }
  if ((((DAT_BATTLE_BIN__800a1c48 | DAT_BATTLE_BIN__800a1c4c | DAT_BATTLE_BIN__800a1c50) == 0) &&
      (DAT_BATTLE_BIN__800960c8 == 0)) && (DAT_BATTLE_BIN__80098db8 != 0)) {
    FUN_BATTLE_BIN__800714f4();
  }
  return;
}



void FUN_BATTLE_BIN__80074f5c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  byte bVar1;
  undefined uVar2;
  uint uVar3;
  uint *puVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  
  uVar3 = FUN_BATTLE_BIN__8013d578();
  if (uVar3 == 0) {
    FUN_BATTLE_BIN__80070c78();
  }
  if ((DAT_8004594c & 0x100) != 0) {
    FUN_BATTLE_BIN__800715a8();
  }
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar4 = (uint *)Get_OTAG_List();
  piVar7 = DAT_80045944;
  FUN_BATTLE_BIN__8013f520(puVar4,(uint)DAT_80045944);
  piVar5 = FUN_BATTLE_BIN__8013f978();
  piVar6 = FUN_BATTLE_BIN__8007a1d4();
  iVar8 = *piVar5;
  if (iVar8 == 0xe) {
LAB_BATTLE_BIN__800752a0:
    *(undefined *)((int)piVar6 + 0x1b6) = *(undefined *)piVar5;
    FUN_BATTLE_BIN__800747b8();
    return;
  }
  uVar3 = DAT_BATTLE_BIN__80096118;
  if (0xe < iVar8) {
    if (iVar8 == 0x12) {
      FUN_BATTLE_BIN__80070b7c((int)piVar6);
      return;
    }
    if (iVar8 < 0x13) {
      if (iVar8 != 0xf) {
        FUN_BATTLE_BIN__80070c04();
        return;
      }
LAB_BATTLE_BIN__800752b4:
      *(undefined *)((int)piVar6 + 0x1b6) = *(undefined *)piVar5;
      FUN_BATTLE_BIN__800749c8();
      return;
    }
    if (iVar8 != 0x19) {
      return;
    }
LAB_BATTLE_BIN__800750a0:
    DAT_BATTLE_BIN__8009611c = uVar3;
    FUN_BATTLE_BIN__80068794();
    FUN_BATTLE_BIN__800717cc();
    return;
  }
  if (iVar8 == 2) {
    FUN_BATTLE_BIN__80072544();
    return;
  }
  if (2 < iVar8) {
    if (iVar8 != 0xc) {
      if (iVar8 < 0xd) {
        if (iVar8 != 7) {
          return;
        }
        FUN_BATTLE_BIN__800687a4();
        FUN_BATTLE_BIN__80071008(puVar4,piVar7,param_3,param_4);
        return;
      }
      goto LAB_BATTLE_BIN__800752b4;
    }
    goto LAB_BATTLE_BIN__800752a0;
  }
  if (iVar8 == 0) {
    if (*(char *)(piVar6 + 0x4c) != '\0') {
      piVar7 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)piVar6 + 0x131));
      uVar3 = (uint)*(byte *)(piVar7 + 1);
    }
    goto LAB_BATTLE_BIN__800750a0;
  }
  if (iVar8 != 1) {
    return;
  }
  FUN_BATTLE_BIN__80068794();
  switch(*(undefined *)((int)piVar5 + 5)) {
  default:
    iVar8 = piVar5[1];
    iVar9 = piVar5[2];
    iVar10 = piVar5[3];
    piVar6[0x56] = *piVar5;
    piVar6[0x57] = iVar8;
    piVar6[0x58] = iVar9;
    piVar6[0x59] = iVar10;
    iVar8 = piVar5[5];
    piVar6[0x5a] = piVar5[4];
    piVar6[0x5b] = iVar8;
    uVar2 = *(undefined *)(piVar6[0x4d] + 0x18a);
    *(undefined *)((int)piVar6 + 0x166) = 5;
    *(undefined *)(piVar6 + 0x57) = uVar2;
    FUN_BATTLE_BIN__8017c3b8((CurActionTargetData *)(piVar6 + 0x57));
    *(undefined2 *)(piVar6 + 0x4e) = *(undefined2 *)((int)piVar6 + 0x15e);
    uVar3 = FUN_BATTLE_BIN__8017a8c0((CurActionTargetData *)(piVar6 + 0x57));
    piVar6[0x5d] = uVar3;
    if (uVar3 != 2) {
      if ((int)uVar3 < 3) {
        if ((int)uVar3 < 0) goto LAB_BATTLE_BIN__80075280;
      }
      else if (uVar3 != 3) goto LAB_BATTLE_BIN__80075280;
      FUN_BATTLE_BIN__80072b50();
      return;
    }
LAB_BATTLE_BIN__80075280:
    FUN_BATTLE_BIN__80074308();
    return;
  case 2:
    iVar8 = piVar5[1];
    iVar9 = piVar5[2];
    iVar10 = piVar5[3];
    piVar6[0x56] = *piVar5;
    piVar6[0x57] = iVar8;
    piVar6[0x58] = iVar9;
    piVar6[0x59] = iVar10;
    iVar8 = piVar5[5];
    piVar6[0x5a] = piVar5[4];
    piVar6[0x5b] = iVar8;
    FUN_BATTLE_BIN__80183e00((uint)*(byte *)(piVar6[0x4d] + 0x18a));
    bVar1 = *(byte *)(piVar6 + 1);
    *(byte *)(piVar6 + 0x4f) = *(byte *)(piVar6 + 0x4f) | 2;
    break;
  case 3:
    iVar8 = piVar5[1];
    iVar9 = piVar5[2];
    iVar10 = piVar5[3];
    piVar6[0x56] = *piVar5;
    piVar6[0x57] = iVar8;
    piVar6[0x58] = iVar9;
    piVar6[0x59] = iVar10;
    iVar8 = piVar5[5];
    piVar6[0x5a] = piVar5[4];
    piVar6[0x5b] = iVar8;
    *(byte *)(piVar6 + 0x4f) = *(byte *)(piVar6 + 0x4f) | 2;
    FUN_BATTLE_BIN__80183de0(piVar6[0x4d]);
    FUN_BATTLE_BIN__80199ec8((uint)*(byte *)(piVar6[0x4d] + 0x18a));
    bVar1 = *(byte *)(piVar6 + 1);
    break;
  case 4:
  case 0x18:
    goto switchD_BATTLE_BIN__800750f0_caseD_4;
  }
  FUN_BATTLE_BIN__80068e30((ushort)bVar1);
  FUN_BATTLE_BIN__80183ba8((uint)*(byte *)(piVar6[0x4d] + 0x18a));
switchD_BATTLE_BIN__800750f0_caseD_4:
  FUN_BATTLE_BIN__80071c8c();
  return;
}



void FUN_BATTLE_BIN__80075310(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  ushort uVar1;
  uint *puVar2;
  int *piVar3;
  int iVar4;
  uint uVar5;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  piVar3 = FUN_BATTLE_BIN__8007a218();
  if ((0x1e < *(ushort *)(piVar3 + 2)) && (*(char *)(piVar3 + 0x6d) == '\0')) {
    DAT_80045980 = 2;
    iVar4 = FUN_BATTLE_BIN__80193e50((uint)*(byte *)(piVar3[0x4d] + 0x18a),piVar3 + 0x56);
    if (iVar4 == 0) {
      if (piVar3[0x56] == 1) {
        *(undefined *)(piVar3 + 0x57) = *(undefined *)(piVar3[0x4d] + 0x18a);
        FUN_BATTLE_BIN__8017c3b8((CurActionTargetData *)(piVar3 + 0x57));
      }
      *(undefined *)(piVar3 + 0x6d) = 1;
      DAT_80045980 = 1;
    }
  }
  uVar1 = *(ushort *)(piVar3 + 2);
  *(ushort *)(piVar3 + 2) = uVar1 + 1;
  if (uVar1 < 0x1f) {
    return;
  }
  if (*(char *)(piVar3 + 0x6d) == '\0') {
    return;
  }
  iVar4 = piVar3[0x56];
  if (iVar4 != 1) {
    uVar5 = DAT_BATTLE_BIN__80096118;
    if (iVar4 < 2) {
      if (iVar4 != 0) {
        return;
      }
      if (*(char *)(piVar3 + 0x4c) != '\0') {
        piVar3 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)piVar3 + 0x131));
        uVar5 = (uint)*(byte *)(piVar3 + 1);
      }
    }
    else {
      if (iVar4 == 2) {
        *(byte *)(piVar3 + 0x4f) = *(byte *)(piVar3 + 0x4f) | 3;
        FUN_BATTLE_BIN__80183c6c((uint)*(byte *)(piVar3[0x4d] + 0x18a));
        goto LAB_BATTLE_BIN__800755dc;
      }
      if (iVar4 != 0x19) {
        return;
      }
    }
    DAT_BATTLE_BIN__8009611c = uVar5;
    FUN_BATTLE_BIN__800717cc();
    return;
  }
  switch(*(undefined *)((int)piVar3 + 0x15d)) {
  default:
    *(undefined2 *)(piVar3 + 0x4e) = *(undefined2 *)((int)piVar3 + 0x15e);
    uVar5 = FUN_BATTLE_BIN__8017a8c0((CurActionTargetData *)(piVar3 + 0x57));
    piVar3[0x5d] = uVar5;
    if (uVar5 != 2) {
      if ((int)uVar5 < 3) {
        if ((int)uVar5 < 0) goto LAB_BATTLE_BIN__800755b0;
      }
      else if (uVar5 != 3) goto LAB_BATTLE_BIN__800755b0;
      FUN_BATTLE_BIN__80072b50();
      return;
    }
LAB_BATTLE_BIN__800755b0:
    FUN_BATTLE_BIN__80074308();
    return;
  case 2:
    FUN_BATTLE_BIN__80183e00((uint)*(byte *)(piVar3[0x4d] + 0x18a));
    *(byte *)(piVar3 + 0x4f) = *(byte *)(piVar3 + 0x4f) | 2;
    FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar3 + 1));
    FUN_BATTLE_BIN__80183ba8((uint)*(byte *)(piVar3[0x4d] + 0x18a));
    break;
  case 3:
    *(byte *)(piVar3 + 0x4f) = *(byte *)(piVar3 + 0x4f) | 2;
    FUN_BATTLE_BIN__80183de0(piVar3[0x4d]);
    FUN_BATTLE_BIN__80199ec8((uint)*(byte *)(piVar3[0x4d] + 0x18a));
    FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar3 + 1));
    FUN_BATTLE_BIN__80183ba8((uint)*(byte *)(piVar3[0x4d] + 0x18a));
    break;
  case 4:
  case 0x18:
    FUN_BATTLE_BIN__80183ba8((uint)*(byte *)(piVar3[0x4d] + 0x18a));
  }
LAB_BATTLE_BIN__800755dc:
  FUN_BATTLE_BIN__80071c8c();
  return;
}



void FUN_BATTLE_BIN__800755fc(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  int *piVar2;
  uint *puVar3;
  
  uVar1 = FUN_BATTLE_BIN__8013d578();
  if (uVar1 != 2) {
    DAT_BATTLE_BIN__800960ec = 0;
    piVar2 = FUN_BATTLE_BIN__8007a1d4();
    if (piVar2 != (int *)0x0) {
      if (*(byte *)(piVar2 + 1) == DAT_BATTLE_BIN__80096118) {
        FUN_BATTLE_BIN__800713a0();
      }
      else {
        FUN_BATTLE_BIN__80071434();
      }
    }
  }
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar3 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar3,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__80075690(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  
  if ((DAT_8004594c & 0x40) != 0) {
    param_2 = 1;
    FUN_BATTLE_BIN__800ec718(0);
    DAT_BATTLE_BIN__800960c0 = DAT_BATTLE_BIN__800960c4;
    param_1 = 2;
    Call_Play_Sound(2);
    FUN_BATTLE_BIN__80070c78();
  }
  FUN_BATTLE_BIN__8006f28c();
  FUN_BATTLE_BIN__8006f634();
  FUN_BATTLE_BIN__8006f968();
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__8007571c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  uint *puVar2;
  
  uVar1 = FUN_BATTLE_BIN__8013d578();
  if ((DAT_8004594c & 0x100) == 0) {
    if (uVar1 == 0) {
      DAT_BATTLE_BIN__800960c0 = DAT_800473ac & 7;
      FUN_BATTLE_BIN__80070c78();
    }
    else if (99 < (int)uVar1) {
      uVar1 = uVar1 - 100;
      FUN_BATTLE_BIN__8007171c(uVar1);
    }
  }
  else {
    FUN_BATTLE_BIN__800716dc();
  }
  FUN_BATTLE_BIN__80074bac(uVar1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__800757c4(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  uint *puVar2;
  
  uVar1 = FUN_BATTLE_BIN__8013d578();
  if (uVar1 != 2) {
    DAT_BATTLE_BIN__800960ec = 0;
    FUN_BATTLE_BIN__80071668();
  }
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__80075820(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  
  if (((DAT_8004594c & 0x20) != 0) || ((DAT_8004594c & 0x40) != 0)) {
    FUN_BATTLE_BIN__8007169c();
  }
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__8007587c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if (iVar3 != 8) {
    if (iVar3 < 9) {
      if (iVar3 != 7) {
        return;
      }
      FUN_BATTLE_BIN__8007187c();
      return;
    }
    if (iVar3 != 0xff) {
      return;
    }
  }
  FUN_BATTLE_BIN__800713a0();
  return;
}



void FUN_BATTLE_BIN__80075910(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  ushort uVar1;
  int *piVar2;
  int *piVar3;
  uint *puVar4;
  int *piVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  
  piVar2 = FUN_BATTLE_BIN__8007a218();
  piVar3 = FUN_BATTLE_BIN__8007a1d4();
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar4 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar4,DAT_80045944);
  if ((*(byte *)((int)piVar2 + 0x13d) & 8) == 0) {
    uVar1 = *(ushort *)(piVar2 + 2);
    *(ushort *)(piVar2 + 2) = uVar1 + 1;
    if (0x1e < uVar1) {
      piVar5 = (int *)FUN_BATTLE_BIN__801766b4
                                ((uint)*(byte *)(piVar3[0x4d] + 0x18a),
                                 (byte)*(undefined2 *)(piVar2 + 0x57),
                                 (byte)*(undefined2 *)(piVar2 + 0x58),
                                 (byte)*(undefined2 *)((int)piVar2 + 0x15e));
      FUN_BATTLE_BIN__800ec718(0);
      piVar9 = piVar3 + 0x27;
      if (piVar5 == (int *)0x0) {
        FUN_BATTLE_BIN__80070c04();
      }
      else {
        DAT_BATTLE_BIN__800961b4 = (int)*(short *)(piVar2 + 0x57);
        DAT_BATTLE_BIN__800961b8 = (int)*(short *)((int)piVar2 + 0x15e);
        DAT_BATTLE_BIN__800961bc = (int)*(short *)(piVar2 + 0x58);
        piVar2 = piVar5 + 0x20;
        if ((((uint)piVar5 | (uint)piVar9) & 3) == 0) {
          do {
            iVar6 = piVar5[1];
            iVar7 = piVar5[2];
            iVar8 = piVar5[3];
            *piVar9 = *piVar5;
            piVar9[1] = iVar6;
            piVar9[2] = iVar7;
            piVar9[3] = iVar8;
            piVar5 = piVar5 + 4;
            piVar9 = piVar9 + 4;
          } while (piVar5 != piVar2);
        }
        else {
          do {
            iVar6 = piVar5[1];
            iVar7 = piVar5[2];
            iVar8 = piVar5[3];
            *piVar9 = *piVar5;
            piVar9[1] = iVar6;
            piVar9[2] = iVar7;
            piVar9[3] = iVar8;
            piVar5 = piVar5 + 4;
            piVar9 = piVar9 + 4;
          } while (piVar5 != piVar2);
        }
        piVar3[0xe] = 0x2000;
        FUN_BATTLE_BIN__80071984();
      }
    }
  }
  else {
    FUN_BATTLE_BIN__8006e7c8();
    FUN_BATTLE_BIN__8006f28c();
    FUN_BATTLE_BIN__8006f634();
    FUN_BATTLE_BIN__8006f968();
    if ((DAT_8004594c & 0x20) == 0) {
      if ((DAT_8004594c & 0x40) == 0) {
        if ((DAT_8004594c & 0x10) != 0) {
          piVar2 = FUN_BATTLE_BIN__8007a218();
          FUN_BATTLE_BIN__800683e4((int)piVar2);
          FUN_BATTLE_BIN__8006e55c();
        }
      }
      else {
        FUN_BATTLE_BIN__800ec718(0);
        FUN_BATTLE_BIN__800683e4((int)piVar2);
        FUN_BATTLE_BIN__800713a0();
      }
    }
    else {
      piVar2 = (int *)FUN_BATTLE_BIN__801766b4
                                ((uint)*(byte *)(piVar3[0x4d] + 0x18a),
                                 (byte)DAT_BATTLE_BIN__800961b4,(byte)DAT_BATTLE_BIN__800961bc,
                                 (byte)DAT_BATTLE_BIN__800961b8);
      piVar5 = piVar3 + 0x27;
      if (piVar2 == (int *)0x0) {
        FUN_BATTLE_BIN__8007192c();
      }
      else {
        if ((((uint)piVar2 | (uint)piVar5) & 3) == 0) {
          piVar9 = piVar2 + 0x20;
          do {
            iVar6 = piVar2[1];
            iVar7 = piVar2[2];
            iVar8 = piVar2[3];
            *piVar5 = *piVar2;
            piVar5[1] = iVar6;
            piVar5[2] = iVar7;
            piVar5[3] = iVar8;
            piVar2 = piVar2 + 4;
            piVar5 = piVar5 + 4;
          } while (piVar2 != piVar9);
        }
        else {
          piVar9 = piVar2 + 0x20;
          do {
            iVar6 = piVar2[1];
            iVar7 = piVar2[2];
            iVar8 = piVar2[3];
            *piVar5 = *piVar2;
            piVar5[1] = iVar6;
            piVar5[2] = iVar7;
            piVar5[3] = iVar8;
            piVar2 = piVar2 + 4;
            piVar5 = piVar5 + 4;
          } while (piVar2 != piVar9);
        }
        piVar3[0xe] = 0x2000;
        FUN_BATTLE_BIN__800ec718(0);
        Call_Play_Sound(1);
        FUN_BATTLE_BIN__80071984();
      }
    }
  }
  return;
}



void FUN_BATTLE_BIN__80075c34(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    FUN_BATTLE_BIN__800714f4();
  }
  return;
}



void FUN_BATTLE_BIN__80075ca0(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    FUN_BATTLE_BIN__8007187c();
  }
  return;
}



void FUN_BATTLE_BIN__80075d0c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  piVar3 = FUN_BATTLE_BIN__8007a1d4();
  iVar4 = *piVar2;
  if (iVar4 != 8) {
    if (iVar4 < 9) {
      if (iVar4 != 7) {
        return;
      }
      FUN_BATTLE_BIN__80071ab8();
      return;
    }
    if (iVar4 != 0xff) {
      return;
    }
  }
  *(undefined *)(piVar3 + 0x27) = 0;
  FUN_BATTLE_BIN__8007187c();
  return;
}



void FUN_BATTLE_BIN__80075db0(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  int *piVar1;
  uint *puVar2;
  int *piVar3;
  
  FUN_BATTLE_BIN__8006f28c();
  FUN_BATTLE_BIN__8006f634();
  FUN_BATTLE_BIN__8006f968();
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  piVar3 = piVar1;
  FUN_BATTLE_BIN__8006d818(piVar1);
  if (((*(char *)((int)piVar1 + 0x7f) == '\0') &&
      ((uint)*(byte *)(piVar1 + 0x27) <= (uint)piVar1[0x26])) && (DAT_BATTLE_BIN__8009612c == 0)) {
    piVar3 = (int *)(uint)*(byte *)(piVar1 + 1);
    FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar1 + 1));
    FUN_BATTLE_BIN__80071b4c();
  }
  FUN_BATTLE_BIN__80074bac(piVar3,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__80075e68(int *param_1)

{
  uint uVar1;
  
  *(undefined *)(param_1 + 0x1f) = *(undefined *)(param_1 + 0x21);
  *(undefined *)((int)param_1 + 0x7d) = *(undefined *)((int)param_1 + 0x85);
  *(undefined *)((int)param_1 + 0x7e) = *(undefined *)((int)param_1 + 0x86);
  *(undefined2 *)(param_1 + 0x1c) = *(undefined2 *)(param_1 + 0x25);
  *(undefined *)(param_1 + 0x4c) = *(undefined *)((int)param_1 + 0x132);
  *(undefined *)((int)param_1 + 0x131) = *(undefined *)((int)param_1 + 0x133);
  *(undefined *)((int)param_1 + 0x11e) = *(undefined *)((int)param_1 + 0x11f);
  FUN_BATTLE_BIN__80081b0c(param_1);
  uVar1 = (uint)*(short *)(param_1 + 0x1c);
  if ((int)uVar1 < 0) {
    uVar1 = uVar1 + 0x3ff;
  }
  FUN_BATTLE_BIN__8017fddc
            ((uint)*(byte *)(param_1[0x4d] + 0x18a),*(byte *)(param_1 + 0x1f),
             *(byte *)((int)param_1 + 0x7d),(uint)*(byte *)((int)param_1 + 0x7e),(byte)(uVar1 >> 10)
            );
  FUN_BATTLE_BIN__80081988
            (*(ushort *)(param_1 + 0x77) >> 1,*(undefined2 *)(param_1 + 0x1c),(int)param_1);
  return;
}



void FUN_BATTLE_BIN__80075f10(int *param_1)

{
  int *piVar1;
  
  if (*(char *)(param_1 + 0x4c) == '\x01') {
    piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)param_1 + 0x131));
    *(undefined *)(piVar1 + 0x4c) = 0;
    FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar1 + 1));
  }
  FUN_BATTLE_BIN__80075e68(param_1);
  if (*(char *)(param_1 + 0x4c) == '\x02') {
    piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)param_1 + 0x131));
    if (piVar1 != (int *)0x0) {
      FUN_BATTLE_BIN__80075e68(piVar1);
      FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar1 + 1));
    }
  }
  else if (*(char *)(param_1 + 0x4c) == '\x01') {
    param_1[0x50] = param_1[0x50] | 2;
    piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)param_1 + 0x131));
    if (piVar1 != (int *)0x0) {
      *(undefined *)(piVar1 + 0x4c) = 2;
      *(undefined *)((int)piVar1 + 0x131) = *(undefined *)(param_1 + 1);
      FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar1 + 1));
    }
  }
  else {
    param_1[0x50] = param_1[0x50] & 0xfffffffd;
  }
  FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(param_1 + 1));
  return;
}



void FUN_BATTLE_BIN__8007601c(int param_1,int param_2)

{
  undefined uVar1;
  uint uVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  if (*(int *)(param_2 + 0x134) != 0) {
    uVar2 = (uint)*(short *)(param_2 + 0x70);
    if ((int)uVar2 < 0) {
      uVar2 = uVar2 + 0x3ff;
    }
    FUN_BATTLE_BIN__8017fddc
              ((uint)*(byte *)(*(int *)(param_2 + 0x134) + 0x18a),*(byte *)(param_2 + 0x7c),
               *(byte *)(param_2 + 0x7d),(uint)*(byte *)(param_2 + 0x7e),(byte)(uVar2 >> 10));
    if ((*(char *)(param_2 + 0x130) == '\x02') &&
       (piVar3 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_2 + 0x131)), piVar3 != (int *)0x0)
       ) {
      uVar1 = *(undefined *)(param_2 + 0x7c);
      *(undefined *)(piVar3 + 0x20) = uVar1;
      *(undefined *)(piVar3 + 0x1f) = uVar1;
      uVar1 = *(undefined *)(param_2 + 0x7d);
      *(undefined *)((int)piVar3 + 0x81) = uVar1;
      *(undefined *)((int)piVar3 + 0x7d) = uVar1;
      uVar1 = *(undefined *)(param_2 + 0x7e);
      *(undefined *)((int)piVar3 + 0x82) = uVar1;
      *(undefined *)((int)piVar3 + 0x7e) = uVar1;
      iVar4 = *(int *)(param_2 + 0x1c);
      iVar5 = *(int *)(param_2 + 0x20);
      iVar6 = *(int *)(param_2 + 0x24);
      piVar3[6] = *(int *)(param_2 + 0x18);
      piVar3[7] = iVar4;
      piVar3[8] = iVar5;
      piVar3[9] = iVar6;
      iVar4 = *(int *)(param_2 + 0x44);
      piVar3[0x10] = *(int *)(param_2 + 0x40);
      piVar3[0x11] = iVar4;
      *(short *)((int)piVar3 + 0x42) = *(short *)((int)piVar3 + 0x42) + -10;
      piVar3[7] = piVar3[7] + -0xa000;
      uVar2 = (uint)*(short *)(param_2 + 0x70);
      if ((int)uVar2 < 0) {
        uVar2 = uVar2 + 0x3ff;
      }
      FUN_BATTLE_BIN__8017fddc
                ((uint)*(byte *)(piVar3[0x4d] + 0x18a),*(byte *)(param_2 + 0x7c),
                 *(byte *)(param_2 + 0x7d),(uint)*(byte *)(param_2 + 0x7e),(byte)(uVar2 >> 10));
    }
  }
  *(byte *)(param_1 + 0x13c) = *(byte *)(param_1 + 0x13c) | 1;
  FUN_BATTLE_BIN__80183bcc((uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a));
  if (((*(byte *)(param_1 + 0x13d) & 8) != 0) && ((*(byte *)(param_1 + 0x119) & 8) == 0)) {
    Call_Play_Sound(1);
  }
  FUN_BATTLE_BIN__80068494();
  FUN_BATTLE_BIN__800723d4();
  return;
}



void FUN_BATTLE_BIN__800761cc(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int iVar5;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  piVar3 = FUN_BATTLE_BIN__8007a218();
  piVar4 = FUN_BATTLE_BIN__8007a1d4();
  iVar5 = *piVar2;
  if (iVar5 != 8) {
    if (iVar5 < 9) {
      if (iVar5 != 7) {
        return;
      }
      goto LAB_BATTLE_BIN__8007625c;
    }
    if (iVar5 != 0xff) {
      return;
    }
  }
  if ((*(byte *)((int)piVar4 + 0x119) & 8) == 0) {
    FUN_BATTLE_BIN__80075f10(piVar4);
    FUN_BATTLE_BIN__80068494();
    FUN_BATTLE_BIN__8007187c();
    return;
  }
LAB_BATTLE_BIN__8007625c:
  FUN_BATTLE_BIN__8007601c((int)piVar3,(int)piVar4);
  return;
}



void FUN_BATTLE_BIN__8007629c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  bool bVar1;
  uint *puVar2;
  int *piVar3;
  int *piVar4;
  undefined3 extraout_var;
  int iVar5;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  piVar3 = FUN_BATTLE_BIN__8013f978();
  piVar4 = FUN_BATTLE_BIN__8007a218();
  iVar5 = *piVar3;
  if (iVar5 != 8) {
    if (iVar5 < 9) {
      if (iVar5 != 7) {
        return;
      }
      goto LAB_BATTLE_BIN__8007633c;
    }
    if (iVar5 != 0xff) {
      return;
    }
  }
  bVar1 = FUN_BATTLE_BIN__80183d70((uint)*(byte *)(piVar4[0x4d] + 0x18a));
  if (CONCAT31(extraout_var,bVar1) != 1) {
    FUN_BATTLE_BIN__80071c8c();
    return;
  }
LAB_BATTLE_BIN__8007633c:
  FUN_BATTLE_BIN__80072460();
  return;
}



void FUN_BATTLE_BIN__80076358(int param_1)

{
  int *piVar1;
  uint uVar2;
  
  uVar2 = (uint)*(short *)(param_1 + 0x70);
  if ((int)uVar2 < 0) {
    uVar2 = uVar2 + 0x3ff;
  }
  FUN_BATTLE_BIN__8017fddc
            ((uint)*(byte *)(*(int *)(param_1 + 0x134) + 0x18a),*(byte *)(param_1 + 0x7c),
             *(byte *)(param_1 + 0x7d),(uint)*(byte *)(param_1 + 0x7e),(byte)(uVar2 >> 10));
  if ((*(char *)(param_1 + 0x130) != '\0') &&
     (piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131)), piVar1 != (int *)0x0))
  {
    *(undefined2 *)(piVar1 + 0x1c) = *(undefined2 *)(param_1 + 0x70);
    *(undefined2 *)(piVar1 + 0x1b) = *(undefined2 *)(param_1 + 0x6c);
    *(undefined2 *)((int)piVar1 + 0x6e) = *(undefined2 *)(param_1 + 0x6e);
    uVar2 = (uint)*(short *)(param_1 + 0x70);
    if ((int)uVar2 < 0) {
      uVar2 = uVar2 + 0x3ff;
    }
    FUN_BATTLE_BIN__8017fddc
              ((uint)*(byte *)(piVar1[0x4d] + 0x18a),*(byte *)(param_1 + 0x7c),
               *(byte *)(param_1 + 0x7d),(uint)*(byte *)(param_1 + 0x7e),(byte)(uVar2 >> 10));
  }
  return;
}



void FUN_BATTLE_BIN__80076430(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  ushort uVar1;
  int *piVar2;
  uint *puVar3;
  int iVar4;
  int *piVar5;
  undefined4 uVar6;
  int *piVar7;
  
  piVar2 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__80086b44();
  if (DAT_BATTLE_BIN__800960f0 != 1) {
    FUN_BATTLE_BIN__8008719c(param_1,param_2,param_3,param_4);
  }
  if ((*(byte *)((int)piVar2 + 0x13d) & 8) != 0) {
    FUN_BATTLE_BIN__80089384();
  }
  FUN_BATTLE_BIN__80086dc4();
  puVar3 = (uint *)Get_OTAG_List();
  piVar5 = DAT_80045944;
  FUN_BATTLE_BIN__8013f520(puVar3,(uint)DAT_80045944);
  if ((*(byte *)((int)piVar2 + 0x13d) & 8) == 0) {
    piVar7 = (int *)piVar2[0x59];
    piVar5 = piVar2;
    if ((int)piVar7 < 4) {
      piVar7 = (int *)((int)piVar7 << 10);
      FUN_BATTLE_BIN__80071cec((int)piVar2,(int)piVar7);
      if ((*(char *)(piVar2 + 0x4c) != '\0') &&
         (piVar5 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)piVar2 + 0x131)),
         piVar5 != (int *)0x0)) {
        piVar7 = (int *)(piVar2[0x59] << 10);
        FUN_BATTLE_BIN__80071cec((int)piVar5,(int)piVar7);
      }
    }
    uVar1 = *(ushort *)(piVar2 + 2);
    *(ushort *)(piVar2 + 2) = uVar1 + 1;
    if (0x1e < uVar1) {
      if (piVar2[0x4d] != 0) {
        FUN_BATTLE_BIN__80183c6c((uint)*(byte *)(piVar2[0x4d] + 0x18a));
        FUN_BATTLE_BIN__80076358((int)piVar2);
        piVar5 = piVar2;
      }
      FUN_BATTLE_BIN__80071008(piVar5,piVar7,param_3,param_4);
    }
  }
  else {
    FUN_BATTLE_BIN__8006f28c();
    FUN_BATTLE_BIN__8006f634();
    FUN_BATTLE_BIN__8006f968();
    if ((DAT_8004594c & 0x20) == 0) {
      if ((DAT_8004594c & 0x40) != 0) {
        FUN_BATTLE_BIN__80071c8c();
      }
    }
    else {
      if (piVar2[0x4d] != 0) {
        FUN_BATTLE_BIN__80183c6c((uint)*(byte *)(piVar2[0x4d] + 0x18a));
        FUN_BATTLE_BIN__80076358((int)piVar2);
      }
      uVar6 = 1;
      Call_Play_Sound(1);
      FUN_BATTLE_BIN__80071008(uVar6,piVar5,param_3,param_4);
    }
    iVar4 = FUN_BATTLE_BIN__8006ddec(1,(uint)piVar5);
    if ((iVar4 != -1) && (iVar4 != DAT_BATTLE_BIN__80096218)) {
      Call_Play_Sound(3);
      DAT_BATTLE_BIN__80096218 = iVar4;
    }
    FUN_BATTLE_BIN__80071cec((int)piVar2,iVar4);
    if ((*(char *)(piVar2 + 0x4c) != '\0') &&
       (piVar2 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)piVar2 + 0x131)),
       piVar2 != (int *)0x0)) {
      FUN_BATTLE_BIN__80071cec((int)piVar2,iVar4);
    }
  }
  return;
}



void FUN_BATTLE_BIN__80076658(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  ushort uVar1;
  uint *puVar2;
  int *piVar3;
  int *piVar4;
  uint uVar5;
  undefined4 uVar6;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  puVar2 = FUN_BATTLE_BIN__8013f978();
  piVar3 = FUN_BATTLE_BIN__8007a218();
  piVar4 = FUN_BATTLE_BIN__8007a1d4();
  uVar5 = *puVar2;
  if (uVar5 == 4) {
LAB_BATTLE_BIN__80076748:
    FUN_BATTLE_BIN__80180904(piVar3[0x4d],*puVar2);
  }
  else {
    if ((int)uVar5 < 5) {
      if ((int)uVar5 < 0) goto LAB_BATTLE_BIN__80076764;
      if (1 < (int)uVar5) {
        if (uVar5 == 2) {
          uVar6 = 2;
          FUN_BATTLE_BIN__80180904(piVar3[0x4d],2);
          DAT_BATTLE_BIN__80098db8 = 1;
          FUN_BATTLE_BIN__8018be08((uint)*(byte *)(piVar3[0x4d] + 0x18a));
          FUN_BATTLE_BIN__800803e4((int)piVar3,uVar6,param_3,param_4);
          FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar3 + 1));
        }
        goto LAB_BATTLE_BIN__80076764;
      }
      goto LAB_BATTLE_BIN__80076748;
    }
    if (((int)uVar5 < 7) || ((8 < (int)uVar5 && (uVar5 != 0xff)))) goto LAB_BATTLE_BIN__80076764;
  }
  DAT_BATTLE_BIN__80098db8 = 1;
LAB_BATTLE_BIN__80076764:
  if ((((DAT_BATTLE_BIN__80098db8 != 0) && (DAT_BATTLE_BIN__8009612c == 0)) &&
      (uVar1 = *(ushort *)(piVar4 + 2), *(ushort *)(piVar4 + 2) = uVar1 + 1, 0x1e < uVar1)) &&
     ((*(char *)(piVar3 + 0xaf) == '\0' && (*(char *)(piVar4 + 0xaf) == '\0')))) {
    if ((DAT_BATTLE_BIN__80096208 & 1) == 0) {
      if ((DAT_BATTLE_BIN__80096208 & 2) == 0) {
        if ((DAT_BATTLE_BIN__80096208 & 4) == 0) {
          if ((DAT_BATTLE_BIN__80096208 & 8) == 0) {
            uVar5 = 0xffffffef;
            if ((((DAT_BATTLE_BIN__80096208 & 0x10) == 0) &&
                (uVar5 = 0xfffffdff, (DAT_BATTLE_BIN__80096208 & 0x200) == 0)) &&
               (uVar5 = 0xfffffbff, (DAT_BATTLE_BIN__80096208 & 0x400) == 0)) {
              return;
            }
            DAT_BATTLE_BIN__80096208 = DAT_BATTLE_BIN__80096208 & uVar5;
          }
          else {
            DAT_BATTLE_BIN__80096208 = DAT_BATTLE_BIN__80096208 & 0xfffffff7;
            FUN_BATTLE_BIN__8019ae30();
            FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar3 + 1));
          }
        }
        else {
          if ((*(short *)((int)piVar3 + 0x1e2) != 0) && (0xb < *(ushort *)(piVar3 + 0x77) >> 1)) {
            return;
          }
          *(undefined *)(piVar3 + 0xb4) = 0;
          DAT_BATTLE_BIN__80096208 = DAT_BATTLE_BIN__80096208 & 0xfffffffb;
        }
      }
      else {
        DAT_BATTLE_BIN__80096204 = DAT_BATTLE_BIN__80096204 + 1;
        if (1 < DAT_BATTLE_BIN__80096204) {
          DAT_BATTLE_BIN__80096208 = DAT_BATTLE_BIN__80096208 & 0xfffffffd;
        }
      }
    }
    else {
      piVar3 = FUN_BATTLE_BIN__8007a3f8
                         ((uint)*(byte *)(piVar3 + 0x1f),(uint)*(byte *)((int)piVar3 + 0x7d),
                          (uint)*(byte *)((int)piVar3 + 0x7e));
      if (piVar3 != (int *)0x0) {
        return;
      }
      DAT_BATTLE_BIN__80096208 = DAT_BATTLE_BIN__80096208 & 0xfffffffe;
      FUN_BATTLE_BIN__8019ae30();
    }
    FUN_BATTLE_BIN__80071ee8();
  }
  return;
}



void FUN_BATTLE_BIN__8007691c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if (iVar3 != 8) {
    if (iVar3 < 9) {
      if (iVar3 != 7) {
        return;
      }
      FUN_BATTLE_BIN__800744c8();
      return;
    }
    if (iVar3 != 0xff) {
      return;
    }
  }
  FUN_BATTLE_BIN__800713a0();
  return;
}



void FUN_BATTLE_BIN__800769b0(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  ushort uVar1;
  int *piVar2;
  uint *puVar3;
  undefined1 *puVar4;
  int *piVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  
  piVar2 = FUN_BATTLE_BIN__8007a218();
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar3 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar3,DAT_80045944);
  if ((*(byte *)((int)piVar2 + 0x13d) & 8) != 0) {
    FUN_BATTLE_BIN__8006e7c8();
    FUN_BATTLE_BIN__8006f28c();
    FUN_BATTLE_BIN__8006f634();
    FUN_BATTLE_BIN__8006f968();
    if ((DAT_8004594c & 0x40) != 0) {
      FUN_BATTLE_BIN__800ec718(0);
      FUN_BATTLE_BIN__800713a0();
      return;
    }
    if ((DAT_8004594c & 0x20) == 0) {
      return;
    }
    puVar4 = FUN_BATTLE_BIN__80183fb4
                       (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
    if ((puVar4[5] & 0x40) != 0) {
      FUN_BATTLE_BIN__80074308();
      return;
    }
    FUN_BATTLE_BIN__80074470();
    return;
  }
  if (*(char *)((int)piVar2 + 0x166) == '\x05') {
    FUN_BATTLE_BIN__8006e6b0((int)piVar2,0);
    uVar1 = *(ushort *)(piVar2 + 2);
    *(ushort *)(piVar2 + 2) = uVar1 + 1;
    if (uVar1 < 0x1f) {
      return;
    }
    uVar6 = (uint)*(short *)(piVar2 + 0x5a);
    uVar7 = (uint)*(short *)(piVar2 + 0x5b);
    uVar8 = (uint)*(short *)((int)piVar2 + 0x16a);
  }
  else {
    if (*(char *)((int)piVar2 + 0x166) != '\x06') {
      return;
    }
    piVar5 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)piVar2 + 0x167));
    if (piVar5 == (int *)0x0) {
      FUN_BATTLE_BIN__80070c04();
      return;
    }
    FUN_BATTLE_BIN__8006e6b0((int)piVar2,(int)piVar5);
    uVar1 = *(ushort *)(piVar2 + 2);
    *(ushort *)(piVar2 + 2) = uVar1 + 1;
    if (uVar1 < 0x1f) {
      return;
    }
    uVar6 = (uint)*(byte *)(piVar5 + 0x1f);
    uVar7 = (uint)*(byte *)((int)piVar5 + 0x7d);
    uVar8 = (uint)*(byte *)((int)piVar5 + 0x7e);
  }
  FUN_BATTLE_BIN__80183fb4(uVar6,uVar7,uVar8);
  FUN_BATTLE_BIN__80074308();
  return;
}



void FUN_BATTLE_BIN__80076b7c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    FUN_BATTLE_BIN__800744c8();
  }
  return;
}



void FUN_BATTLE_BIN__80076be8(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  uint *puVar2;
  
  uVar1 = FUN_BATTLE_BIN__8013d578();
  if (uVar1 != 2) {
    DAT_BATTLE_BIN__800960ec = 0;
    FUN_BATTLE_BIN__8006eedc();
    DAT_BATTLE_BIN__800960e4 = 0x19;
  }
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__80076c50(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  ushort uVar1;
  int *piVar2;
  uint *puVar3;
  
  piVar2 = FUN_BATTLE_BIN__8007a218();
  if ((*(byte *)((int)piVar2 + 0x13d) & 8) == 0) {
    uVar1 = *(ushort *)(piVar2 + 2);
    *(ushort *)(piVar2 + 2) = uVar1 + 1;
    if (uVar1 < 0x1f) goto LAB_BATTLE_BIN__80076d50;
  }
  else {
    FUN_BATTLE_BIN__8006f28c();
    FUN_BATTLE_BIN__8006f634();
    FUN_BATTLE_BIN__8006f968();
    if ((DAT_8004594c & 0x20) == 0) {
      param_1 = 8;
      if ((DAT_8004594c & 0x40) != 0) {
        DAT_BATTLE_BIN__800960c0 = DAT_BATTLE_BIN__800960c4;
        FUN_BATTLE_BIN__800ec718(8);
        param_1 = 0;
        if (piVar2[0x5d] == 2) {
          param_2 = 3;
          FUN_BATTLE_BIN__800ec718(0);
          FUN_BATTLE_BIN__80068494();
          FUN_BATTLE_BIN__800713a0();
        }
        else {
          param_2 = 3;
          FUN_BATTLE_BIN__800ec718(0);
          FUN_BATTLE_BIN__80068494();
          FUN_BATTLE_BIN__800744c8();
        }
      }
      goto LAB_BATTLE_BIN__80076d50;
    }
  }
  DAT_BATTLE_BIN__800960c0 = DAT_BATTLE_BIN__800960c4;
  FUN_BATTLE_BIN__80068494();
  FUN_BATTLE_BIN__800745ac();
LAB_BATTLE_BIN__80076d50:
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar3 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar3,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__80076d84(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int iVar5;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  piVar3 = FUN_BATTLE_BIN__8007a218();
  if ((*(byte *)((int)piVar3 + 0x13d) & 8) == 0) {
    iVar5 = *piVar2;
    if (iVar5 == 8) goto LAB_BATTLE_BIN__80076eec;
    if (iVar5 < 9) {
      if (iVar5 < 5) {
        return;
      }
      FUN_BATTLE_BIN__80073fe0();
      return;
    }
  }
  else {
    iVar5 = *piVar2;
    if (iVar5 < 8) {
      if (iVar5 < 6) {
        if (iVar5 != 5) {
          return;
        }
        *(undefined *)((int)piVar3 + 0x166) = *(undefined *)piVar2;
      }
      else {
        piVar4 = FUN_BATTLE_BIN__8007a2b8
                           (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,
                            DAT_BATTLE_BIN__800961b8);
        if (piVar4 == (int *)0x0) {
          *(undefined *)((int)piVar3 + 0x166) = 5;
        }
        else {
          *(undefined *)((int)piVar3 + 0x166) = *(undefined *)piVar2;
          *(undefined *)((int)piVar3 + 0x167) = *(undefined *)(piVar4[0x4d] + 0x18a);
        }
      }
      Store_3_Halfwords((undefined2 *)(piVar3 + 0x5a),(short)DAT_BATTLE_BIN__800961b4,
                        (short)DAT_BATTLE_BIN__800961b8,(short)DAT_BATTLE_BIN__800961bc);
      FUN_BATTLE_BIN__80073fe0();
      return;
    }
    if (iVar5 == 8) goto LAB_BATTLE_BIN__80076eec;
  }
  if (iVar5 != 0xff) {
    return;
  }
LAB_BATTLE_BIN__80076eec:
  FUN_BATTLE_BIN__800ec718(0);
  FUN_BATTLE_BIN__800744c8();
  return;
}



void FUN_BATTLE_BIN__80076f14(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8007a218();
  if ((((*(short *)((int)piVar2 + 0x1e2) == 0) || (*(short *)(piVar2 + 0x79) != 0)) ||
      (0x3c < *(ushort *)(piVar2 + 2))) &&
     (((DAT_BATTLE_BIN__800a1c48 | DAT_BATTLE_BIN__800a1c4c | DAT_BATTLE_BIN__800a1c50) == 0 &&
      (DAT_BATTLE_BIN__800960c8 == 0)))) {
    FUN_BATTLE_BIN__800740d4();
  }
  return;
}



void FUN_BATTLE_BIN__80076fd0(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    DAT_BATTLE_BIN__80098db8 = 1;
  }
  if ((((DAT_BATTLE_BIN__800a1c48 | DAT_BATTLE_BIN__800a1c4c | DAT_BATTLE_BIN__800a1c50) == 0) &&
      (DAT_BATTLE_BIN__800960c8 == 0)) && (DAT_BATTLE_BIN__80098db8 != 0)) {
    FUN_BATTLE_BIN__80074204();
  }
  return;
}



void FUN_BATTLE_BIN__80077098(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8007a218();
  if (piVar2[0x5f] == 3) {
    if (*(short *)((int)piVar2 + 0x1e2) == 0) {
      FUN_BATTLE_BIN__80183ba8((uint)*(byte *)(piVar2[0x4d] + 0x18a));
      FUN_BATTLE_BIN__80072b14((int)piVar2);
    }
  }
  else {
    DAT_BATTLE_BIN__80096214 = 0;
    FUN_BATTLE_BIN__800739cc();
  }
  return;
}



void FUN_BATTLE_BIN__80077134(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    FUN_BATTLE_BIN__80073fb8();
  }
  return;
}



void FUN_BATTLE_BIN__800771a0(RECT *param_1,RECT *param_2,int param_3,uint param_4)

{
  RECT *pRVar1;
  uint uVar2;
  int iVar3;
  uint *puVar4;
  int iVar5;
  RECT *p;
  RECT local_10;
  
  pRVar1 = (RECT *)FUN_BATTLE_BIN__8007a1d4();
  if (DAT_BATTLE_BIN__80098d70 == (RECT *)0x0) {
    param_2 = (RECT *)BIN_Malloc_FFT(0x8000);
    DAT_BATTLE_BIN__80098d70 = param_2;
    uVar2 = FUN_BATTLE_BIN__8007a840((int)pRVar1,(u_long *)param_2);
    if (uVar2 == 0xffffffff) {
      param_1 = DAT_BATTLE_BIN__80098d70;
      BIN_Free_FFT((int)DAT_BATTLE_BIN__80098d70);
      DAT_BATTLE_BIN__80098d70 = (RECT *)0x0;
      FUN_BATTLE_BIN__80073eec();
    }
    else {
      param_1 = pRVar1;
      if (uVar2 == 0) {
        param_1 = DAT_BATTLE_BIN__80098d70;
        BIN_Free_FFT((int)DAT_BATTLE_BIN__80098d70);
        DAT_BATTLE_BIN__80098d70 = (RECT *)0x0;
      }
    }
  }
  else {
    iVar3 = Check_File_Still_Loading();
    p = DAT_BATTLE_BIN__80098d70;
    iVar5 = 0;
    if (iVar3 == 0) {
      param_1 = (RECT *)0xff;
      param_3 = 0;
      do {
        iVar5 = iVar5 + 1;
        if (*(int *)((int)&DAT_BATTLE_BIN__800a77c4 + param_3) == 0xff) {
          param_1 = &local_10;
          local_10.x = *(short *)((int)&DAT_BATTLE_BIN__800a77d0 + param_3);
          *(uint *)((int)&DAT_BATTLE_BIN__800a77c4 + param_3) = *(byte *)&pRVar1->w | 0x40;
          local_10.y = *(short *)((int)&DAT_BATTLE_BIN__800a77d2 + param_3);
          local_10.w = 0x40;
          local_10.h = 0x100;
          LoadImage(param_1,(u_long *)p);
          FUN_BATTLE_BIN__80073eec();
          param_2 = p;
          break;
        }
        param_3 = param_3 + 0x7564;
      } while (iVar5 < 2);
    }
  }
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar4 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar4,DAT_80045944);
  return;
}



void FUN_BATTLE_BIN__80077314(uint param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  bool bVar1;
  undefined3 extraout_var;
  
  bVar1 = FUN_BATTLE_BIN__801a13bc(param_1);
  DAT_BATTLE_BIN__8009612c = (uint)(CONCAT31(extraout_var,bVar1) != 0);
  if (DAT_BATTLE_BIN__8009612c == 0) {
    FUN_BATTLE_BIN__80073b9c();
  }
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  return;
}



void FUN_BATTLE_BIN__80077378(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  *(short *)(piVar1 + 2) = *(short *)(piVar1 + 2) + 1;
  FUN_BATTLE_BIN__80072bf0();
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  return;
}



void FUN_BATTLE_BIN__800773b4(int param_1,int param_2,undefined4 param_3,uint param_4)

{
  int iVar1;
  
  if ((param_1 != 0) && (param_2 != 0)) {
    iVar1 = param_2;
    FUN_BATTLE_BIN__80083978(param_1,param_2);
    FUN_BATTLE_BIN__80068bd4((ushort)*(byte *)(param_2 + 4),iVar1,param_3,param_4);
  }
  return;
}



void FUN_BATTLE_BIN__800773f8(undefined4 param_1,int *param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  uint uVar3;
  uint *puVar4;
  uint *puVar5;
  int iVar6;
  
  FUN_BATTLE_BIN__80086b44();
  if (DAT_BATTLE_BIN__800960f0 != 1) {
    FUN_BATTLE_BIN__8008719c(param_1,param_2,param_3,param_4);
    FUN_BATTLE_BIN__8008f130();
    FUN_BATTLE_BIN__8008b440();
    FUN_BATTLE_BIN__8008b6e4();
    FUN_BATTLE_BIN__8008b968();
    FUN_BATTLE_BIN__8008bb94();
  }
  FUN_BATTLE_BIN__80086dc4();
  FUN_BATTLE_BIN__8008f208();
  FUN_BATTLE_BIN__80074b68();
  puVar1 = (uint *)FUN_BATTLE_BIN__8007a1d4();
  *(short *)(puVar1 + 2) = *(short *)(puVar1 + 2) + (short)DAT_80045980;
  if ((*(char *)((int)puVar1 + 0x18d) != '\0') &&
     (iVar6 = 0, puVar5 = puVar1, *(char *)((int)puVar1 + 0x18d) != '\0')) {
    do {
      piVar2 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)puVar5 + 0x18e));
      iVar6 = iVar6 + 1;
      if (piVar2 != (int *)0x0) {
        FUN_BATTLE_BIN__8006db10(piVar2);
        DAT_BATTLE_BIN__8009612c = *(byte *)((int)piVar2 + 0x7f) | DAT_BATTLE_BIN__8009612c;
      }
      puVar5 = (uint *)((int)puVar1 + iVar6);
    } while (iVar6 < (int)(uint)*(byte *)((int)puVar1 + 0x18d));
  }
  puVar5 = (uint *)(uint)*(ushort *)(puVar1 + 0x4e);
  if (((puVar5 == (uint *)0x0) || (puVar5 == (uint *)0x200)) || (puVar5 == (uint *)0x94)) {
    FUN_BATTLE_BIN__80070640();
    puVar5 = (uint *)Get_OTAG_List();
    param_2 = DAT_80045944;
    FUN_BATTLE_BIN__8013f520(puVar5,(uint)DAT_80045944);
    if (DAT_BATTLE_BIN__8009612c != 0) {
      return;
    }
    if (*(char *)(puVar1 + 0xaf) != '\0') {
      return;
    }
    if ((*(short *)((int)puVar1 + 0x1e2) != 0) && (0x3b < *(ushort *)(puVar1 + 0x77) >> 1)) {
      return;
    }
    if ((*(char *)((int)puVar1 + 0x18d) != '\0') &&
       (iVar6 = 0, puVar4 = puVar1, *(char *)((int)puVar1 + 0x18d) != '\0')) {
      do {
        puVar5 = (uint *)(uint)*(byte *)((int)puVar4 + 0x18e);
        piVar2 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)puVar4 + 0x18e));
        if (piVar2 != (int *)0x0) {
          if (*(short *)(puVar1 + 0x4e) == 0x200) {
            FUN_BATTLE_BIN__80068bd4((ushort)*(byte *)(piVar2 + 1),param_2,param_3,param_4);
          }
          puVar5 = (uint *)(uint)*(byte *)(piVar2 + 1);
          FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar2 + 1));
        }
        iVar6 = iVar6 + 1;
        puVar4 = (uint *)((int)puVar1 + iVar6);
      } while (iVar6 < (int)(uint)*(byte *)((int)puVar1 + 0x18d));
    }
  }
  else {
    uVar3 = FUN_BATTLE_BIN__801a1814((int)puVar5);
    if ((uVar3 != 0) || (*(ushort *)(puVar1 + 0x4e) - 0x196 < 8)) {
      FUN_BATTLE_BIN__80070640();
    }
    if (DAT_BATTLE_BIN__8009612c != 0) {
      return;
    }
    if (*(char *)(puVar1 + 0xaf) != '\0') {
      return;
    }
    if ((*(short *)((int)puVar1 + 0x1e2) != 0) && (0x3b < *(ushort *)(puVar1 + 0x77) >> 1)) {
      return;
    }
    __builtin_delete_a();
    if ((*(char *)((int)puVar1 + 0x18d) != '\0') &&
       (iVar6 = 0, puVar4 = puVar1, *(char *)((int)puVar1 + 0x18d) != '\0')) {
      do {
        puVar5 = (uint *)(uint)*(byte *)((int)puVar4 + 0x18e);
        piVar2 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)puVar4 + 0x18e));
        if (piVar2 != (int *)0x0) {
          if (*(ushort *)(puVar1 + 0x4e) - 0x1a6 < 0x20) {
            puVar5 = (uint *)(uint)*(ushort *)(puVar1 + 0x4e);
            uVar3 = FUN_BATTLE_BIN__801a1814((int)puVar5);
            if ((uVar3 != 0) &&
               (puVar5 = puVar1,
               (&DAT_BATTLE_BIN__80093e11)[(uint)*(ushort *)(puVar1 + 0x4e) * 3] != '\0')) {
              FUN_BATTLE_BIN__800773b4((int)puVar1,(int)piVar2,param_3,param_4);
              param_2 = piVar2;
            }
          }
          else {
            puVar5 = (uint *)(uint)*(byte *)(piVar2 + 1);
            FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar2 + 1));
          }
        }
        iVar6 = iVar6 + 1;
        puVar4 = (uint *)((int)puVar1 + iVar6);
      } while (iVar6 < (int)(uint)*(byte *)((int)puVar1 + 0x18d));
    }
  }
  FUN_BATTLE_BIN__800732c8(puVar5,param_2,param_3,param_4);
  return;
}



void FUN_BATTLE_BIN__80077760(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    DAT_BATTLE_BIN__80098db8 = 1;
  }
  if (DAT_BATTLE_BIN__80098db8 != 0) {
    FUN_BATTLE_BIN__800731d8();
  }
  return;
}



void FUN_BATTLE_BIN__800777ec(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  bool bVar1;
  uint *puVar2;
  int *piVar3;
  undefined3 extraout_var;
  int iVar4;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  piVar3 = FUN_BATTLE_BIN__8013f978();
  iVar4 = *piVar3;
  if ((6 < iVar4) && ((iVar4 < 9 || (iVar4 == 0xff)))) {
    DAT_BATTLE_BIN__80098db8 = 1;
  }
  piVar3 = FUN_BATTLE_BIN__8007a1d4();
  if (((DAT_BATTLE_BIN__80098db8 != 0) &&
      (bVar1 = FUN_BATTLE_BIN__80072ce8(), CONCAT31(extraout_var,bVar1) == 0)) &&
     (*(char *)(piVar3 + 0xaf) == '\0')) {
    if (*(char *)(piVar3 + 0x69) == '\0') {
      if (DAT_BATTLE_BIN__80098d70 != 0) {
        BIN_Free_FFT(DAT_BATTLE_BIN__80098d70);
        DAT_BATTLE_BIN__80098d70 = 0;
      }
      FUN_BATTLE_BIN__8007a968((int)piVar3);
      if ((DAT_BATTLE_BIN__80098d84 == 0x100) && (DAT_BATTLE_BIN__80096214 == 1)) {
        FUN_BATTLE_BIN__8018ef2c();
      }
      FUN_BATTLE_BIN__8017dbc8(piVar3[0x4d]);
      FUN_BATTLE_BIN__80083854((int)piVar3);
      FUN_BATTLE_BIN__80083c58((int)piVar3);
      FUN_BATTLE_BIN__8007a218();
      if (DAT_BATTLE_BIN__80096214 != 0) {
        if (DAT_BATTLE_BIN__80096214 != 2) {
          DAT_BATTLE_BIN__80096214 = DAT_BATTLE_BIN__80096214 + 1;
        }
        iVar4 = FUN_BATTLE_BIN__800739cc();
        if (iVar4 != 0) {
          return;
        }
      }
      FUN_BATTLE_BIN__80073638();
    }
    else {
      *(char *)((int)piVar3 + 0x1b5) = *(char *)((int)piVar3 + 0x1b5) + '\x01';
      FUN_BATTLE_BIN__80073eec();
    }
  }
  return;
}



void FUN_BATTLE_BIN__800779a0(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  bool bVar1;
  uint *puVar2;
  int *piVar3;
  int *piVar4;
  int iVar5;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  piVar3 = FUN_BATTLE_BIN__8013f978();
  piVar4 = FUN_BATTLE_BIN__8007a1d4();
  iVar5 = *piVar3;
  if (iVar5 != 8) {
    if (iVar5 < 9) {
      if (iVar5 != 7) goto LAB_BATTLE_BIN__80077a94;
      if (DAT_BATTLE_BIN__80096204 == 2) {
        piVar3 = FUN_BATTLE_BIN__8007a724(DAT_BATTLE_BIN__80096200);
        FUN_BATTLE_BIN__8018e8ac(piVar3[0x4d]);
      }
    }
    else if (iVar5 != 0xff) goto LAB_BATTLE_BIN__80077a94;
  }
  DAT_BATTLE_BIN__80096204 = DAT_BATTLE_BIN__80096204 + 1;
  if (DAT_BATTLE_BIN__80096204 < 3) {
    FUN_BATTLE_BIN__800734cc();
  }
  else {
    DAT_BATTLE_BIN__80098db8 = 1;
  }
LAB_BATTLE_BIN__80077a94:
  if (((DAT_BATTLE_BIN__80098db8 != 0) && (DAT_BATTLE_BIN__8009612c == 0)) &&
     (iVar5 = 0, *(char *)(piVar4 + 0xaf) == '\0')) {
    bVar1 = false;
    piVar3 = piVar4;
    if (*(char *)((int)piVar4 + 0x18d) != '\0') {
      do {
        piVar3 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)((int)piVar3 + 0x18e));
        iVar5 = iVar5 + 1;
        if ((piVar3 != (int *)0x0) && (*(char *)(piVar3 + 0xaf) != '\0')) {
          bVar1 = true;
          break;
        }
        piVar3 = (int *)((int)piVar4 + iVar5);
      } while (iVar5 < (int)(uint)*(byte *)((int)piVar4 + 0x18d));
    }
    if (!bVar1) {
      piVar3 = FUN_BATTLE_BIN__8007a218();
      FUN_BATTLE_BIN__80083854((int)piVar3);
      FUN_BATTLE_BIN__80072b14((int)piVar3);
    }
  }
  return;
}



undefined4
FUN_BATTLE_BIN__80077b58(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  iVar2 = FUN_BATTLE_BIN__8008e094();
  uVar3 = 0;
  if (iVar2 == 0) {
    iVar2 = 0;
    do {
      piVar4 = FUN_BATTLE_BIN__8007a6e4((ushort)iVar2);
      iVar2 = iVar2 + 1;
      if (piVar4 != (int *)0x0) {
        FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar4 + 1));
      }
      uVar3 = 1;
    } while (iVar2 < 0x10);
    DAT_BATTLE_BIN__80093cac = 0;
  }
  return uVar3;
}



void FUN_BATTLE_BIN__80077bd8(undefined4 param_1,int *param_2,undefined4 param_3,uint param_4)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80077b58(param_1,param_2,param_3,param_4);
  if (iVar1 != 0) {
    FUN_BATTLE_BIN__80071008(param_1,param_2,param_3,param_4);
  }
  return;
}



void FUN_BATTLE_BIN__80077c08(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80077b58(param_1,param_2,param_3,param_4);
  if (iVar1 != 0) {
    FUN_BATTLE_BIN__80071c8c();
  }
  return;
}



void FUN_BATTLE_BIN__80077c38(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    FUN_BATTLE_BIN__80074814();
  }
  return;
}



void FUN_BATTLE_BIN__80077ca4(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int *piVar3;
  
  FUN_BATTLE_BIN__8006f28c();
  FUN_BATTLE_BIN__8006f634();
  FUN_BATTLE_BIN__8006f968();
  FUN_BATTLE_BIN__8006e7c8();
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  if ((DAT_8004594c & 0x20) == 0) {
    if ((DAT_8004594c & 0x40) != 0) {
      piVar2 = FUN_BATTLE_BIN__8007a1d4();
      FUN_BATTLE_BIN__800683e4((int)piVar2);
      FUN_BATTLE_BIN__80068494();
      FUN_BATTLE_BIN__80070c04();
      return;
    }
    if ((DAT_8004594c & 0x10) == 0) {
      return;
    }
    piVar2 = FUN_BATTLE_BIN__8007a1d4();
    FUN_BATTLE_BIN__800683e4((int)piVar2);
    return;
  }
  piVar2 = FUN_BATTLE_BIN__8007a1d4();
  piVar3 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  if (piVar3 == (int *)0x0) {
LAB_BATTLE_BIN__80077da8:
    FUN_BATTLE_BIN__8007485c();
  }
  else {
    if (*(char *)((int)piVar2 + 0x1b6) == '\f') {
      if ((*(byte *)(piVar2[0x4d] + 5) & 0x30) == (*(byte *)(piVar3[0x4d] + 5) & 0x30))
      goto LAB_BATTLE_BIN__80077da8;
    }
    else {
      if (*(char *)((int)piVar2 + 0x1b6) != '\x0e') goto LAB_BATTLE_BIN__80077db0;
      if ((*(byte *)(piVar2[0x4d] + 5) & 0x30) != (*(byte *)(piVar3[0x4d] + 5) & 0x30))
      goto LAB_BATTLE_BIN__80077da8;
    }
    FUN_BATTLE_BIN__80074930();
  }
LAB_BATTLE_BIN__80077db0:
  FUN_BATTLE_BIN__80068494();
  return;
}



void FUN_BATTLE_BIN__80077e1c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    FUN_BATTLE_BIN__80074814();
  }
  return;
}



void FUN_BATTLE_BIN__80077e88(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar4 = *piVar2;
  if (iVar4 != 8) {
    if (iVar4 < 9) {
      if (iVar4 != 7) {
        return;
      }
      piVar2 = FUN_BATTLE_BIN__8007a1d4();
      piVar3 = FUN_BATTLE_BIN__8007a2b8
                         (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8
                         );
      FUN_BATTLE_BIN__8014171c
                (*(byte *)(piVar3[0x4d] + 0x18a),(uint)*(byte *)(piVar2[0x4d] + 0x18a));
      FUN_BATTLE_BIN__800683e4((int)piVar2);
      FUN_BATTLE_BIN__80070c04();
      return;
    }
    if (iVar4 != 0xff) {
      return;
    }
  }
  FUN_BATTLE_BIN__80074814();
  return;
}



void FUN_BATTLE_BIN__80077f68(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    DAT_BATTLE_BIN__80098db8 = 1;
  }
  if ((((DAT_BATTLE_BIN__800a1c48 | DAT_BATTLE_BIN__800a1c4c | DAT_BATTLE_BIN__800a1c50) == 0) &&
      (DAT_BATTLE_BIN__800960c8 == 0)) && (DAT_BATTLE_BIN__80098db8 != 0)) {
    FUN_BATTLE_BIN__80074a3c();
  }
  return;
}



void FUN_BATTLE_BIN__80078030(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  if (((DAT_8004594c & 0x20) != 0) || ((DAT_8004594c & 0x40) != 0)) {
    piVar2 = FUN_BATTLE_BIN__8007a1d4();
    FUN_BATTLE_BIN__800683e4((int)piVar2);
    FUN_BATTLE_BIN__80070c04();
  }
  return;
}



void FUN_BATTLE_BIN__800780a0(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  piVar3 = FUN_BATTLE_BIN__8007a218();
  iVar4 = *piVar2;
  if ((6 < iVar4) && ((iVar4 < 9 || (iVar4 == 0xff)))) {
    DAT_BATTLE_BIN__80098db8 = 1;
  }
  if ((DAT_BATTLE_BIN__80098db8 != 0) && (*(char *)(piVar3 + 0xaf) == '\0')) {
    FUN_BATTLE_BIN__80072ad0();
  }
  return;
}



void FUN_BATTLE_BIN__80078148(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  bool bVar1;
  uint *puVar2;
  int *piVar3;
  int iVar4;
  uint uVar5;
  undefined3 extraout_var;
  uint uVar6;
  int iVar7;
  int *piVar8;
  uint uVar9;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar2 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar2,DAT_80045944);
  piVar3 = FUN_BATTLE_BIN__8007a218();
  if ((DAT_BATTLE_BIN__800a1c48 | DAT_BATTLE_BIN__800a1c4c | DAT_BATTLE_BIN__800a1c50) != 0) {
    return;
  }
  if (DAT_BATTLE_BIN__800960c8 != 0) {
    return;
  }
  uVar6 = 8;
  if (DAT_BATTLE_BIN__80098d84 == 0x200) {
    piVar8 = (int *)0x2;
    param_4 = 0;
    uVar9 = (uint)*(byte *)(piVar3[0x4d] + 0x18a);
    iVar4 = FUN_BATTLE_BIN__801419b8(8,2,uVar9,0,1);
    if (iVar4 == 2) {
      uVar5 = FUN_BATTLE_BIN__80142ba4();
      uVar6 = 8;
      if (uVar5 != 0) {
        DAT_BATTLE_BIN__800960e8 = DAT_BATTLE_BIN__800960e4;
        FUN_BATTLE_BIN__801419b8(8,0,(uint)*(byte *)(piVar3[0x4d] + 0x18a),0,1);
        FUN_BATTLE_BIN__80070998();
        return;
      }
    }
  }
  else {
    bVar1 = FUN_BATTLE_BIN__80183d70((uint)*(byte *)(piVar3[0x4d] + 0x18a));
    if (CONCAT31(extraout_var,bVar1) != 1) {
      FUN_BATTLE_BIN__80070c04();
      return;
    }
    iVar4 = piVar3[0x4d];
    iVar7 = *(int *)(iVar4 + 0x172);
    piVar8 = *(int **)(iVar4 + 0x176);
    uVar9 = *(uint *)(iVar4 + 0x17a);
    piVar3[0x57] = *(int *)(iVar4 + 0x16e);
    piVar3[0x58] = iVar7;
    piVar3[0x59] = (int)piVar8;
    piVar3[0x5a] = uVar9;
    piVar3[0x5b] = *(int *)(iVar4 + 0x17e);
    *(undefined2 *)(piVar3 + 0x4e) = *(undefined2 *)(piVar3[0x4d] + 0x170);
    if (piVar3[0x5f] != 3) {
      FUN_BATTLE_BIN__80072544();
      return;
    }
    uVar6 = (uint)*(byte *)(piVar3 + 1);
    piVar3[0x5f] = 0;
    FUN_BATTLE_BIN__8008d18c((ushort)*(byte *)(piVar3 + 1));
  }
  FUN_BATTLE_BIN__80071008(uVar6,piVar8,uVar9,param_4);
  return;
}



void FUN_BATTLE_BIN__80078328(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  FUN_BATTLE_BIN__8013f520(puVar1,DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    DAT_BATTLE_BIN__80098db8 = 1;
  }
  if (((DAT_BATTLE_BIN__80098db8 != 0) &&
      ((DAT_BATTLE_BIN__800a1c48 | DAT_BATTLE_BIN__800a1c4c | DAT_BATTLE_BIN__800a1c50) == 0)) &&
     (DAT_BATTLE_BIN__800960c8 == 0)) {
    FUN_BATTLE_BIN__8007a218();
    if (DAT_BATTLE_BIN__80098d84 == 0x200) {
      FUN_BATTLE_BIN__80074068();
    }
    else if ((DAT_BATTLE_BIN__80098d84 == 0x300) || (DAT_BATTLE_BIN__80098d84 == 0x500)) {
      FUN_BATTLE_BIN__800711a4();
    }
    else {
      FUN_BATTLE_BIN__80070c04();
    }
  }
  return;
}



void FUN_BATTLE_BIN__8007843c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  int *piVar5;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  puVar1 = (uint *)Get_OTAG_List();
  piVar5 = DAT_80045944;
  FUN_BATTLE_BIN__8013f520(puVar1,(uint)DAT_80045944);
  piVar2 = FUN_BATTLE_BIN__8013f978();
  iVar3 = *piVar2;
  if ((6 < iVar3) && ((iVar3 < 9 || (iVar3 == 0xff)))) {
    DAT_BATTLE_BIN__80098db8 = 1;
  }
  if (((DAT_BATTLE_BIN__80098db8 != 0) && (DAT_BATTLE_BIN__8009612c == 0)) &&
     (piVar2 = FUN_BATTLE_BIN__8007a218(), *(char *)(piVar2 + 0xaf) == '\0')) {
    uVar4 = (uint)*(byte *)(piVar2 + 1);
    FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar2 + 1));
    FUN_BATTLE_BIN__80071008(uVar4,piVar5,param_3,param_4);
  }
  return;
}



void FUN_BATTLE_BIN__80078504(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  FUN_BATTLE_BIN__80086b44();
  if (DAT_BATTLE_BIN__800960f0 != 1) {
    FUN_BATTLE_BIN__8008719c(param_1,param_2,param_3,param_4);
    FUN_BATTLE_BIN__8008f130();
    FUN_BATTLE_BIN__8008b440();
    FUN_BATTLE_BIN__8008b6e4();
    FUN_BATTLE_BIN__8008b968();
    FUN_BATTLE_BIN__8008bb94();
  }
  FUN_BATTLE_BIN__80086dc4();
  FUN_BATTLE_BIN__8008f208();
  if (DAT_BATTLE_BIN__8009612c == 0) {
    DAT_BATTLE_BIN__800960e4 = DAT_BATTLE_BIN__800960e8;
    DAT_80045980 = DAT_8004d958;
  }
  return;
}



void FUN_BATTLE_BIN__800785ac(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  short sVar1;
  uint *puVar2;
  undefined2 extraout_var;
  void *pvVar3;
  undefined uVar4;
  ushort uVar5;
  int *piVar6;
  undefined4 uVar7;
  
  FUN_BATTLE_BIN__80086b44();
  if (DAT_BATTLE_BIN__800960f0 != 1) {
    FUN_BATTLE_BIN__8008719c(param_1,param_2,param_3,param_4);
    FUN_BATTLE_BIN__8008f130();
    FUN_BATTLE_BIN__8008b440();
    FUN_BATTLE_BIN__8008b6e4();
    FUN_BATTLE_BIN__8008b968();
    FUN_BATTLE_BIN__8008bb94();
    FUN_BATTLE_BIN__800707c4();
  }
  FUN_BATTLE_BIN__80086dc4();
  FUN_BATTLE_BIN__8008f208();
  puVar2 = (uint *)Get_OTAG_List();
  piVar6 = DAT_80045944;
  sVar1 = FUN_BATTLE_BIN__80142d58(puVar2,(uint)DAT_80045944);
  switch(CONCAT22(extraout_var,sVar1)) {
  case 0:
    FUN_BATTLE_BIN__8008d950();
    DAT_BATTLE_BIN__800e4e8c = 1;
    FUN_BATTLE_BIN__80199d20();
    FUN_BATTLE_BIN__80071008(puVar2,piVar6,param_3,param_4);
  default:
    goto switchD_BATTLE_BIN__80078650_caseD_1;
  case 9:
    FUN_BATTLE_BIN__8008d950();
    uVar7 = 1;
    break;
  case 10:
    FUN_BATTLE_BIN__8008d950();
    uVar7 = 0;
    break;
  case 0xb:
    FUN_BATTLE_BIN__8008d950();
    uVar7 = 2;
    break;
  case 0x13:
    FUN_BATTLE_BIN__8008d950();
    uVar7 = 3;
  }
  FUN_BATTLE_BIN__80074b38(8,uVar7);
switchD_BATTLE_BIN__80078650_caseD_1:
  if (DAT_BATTLE_BIN__800961b0 != 0) {
    uVar5 = DAT_BATTLE_BIN__800961b0;
    if (0xff < DAT_BATTLE_BIN__800961b0) {
      uVar5 = 0xff;
    }
    uVar4 = (undefined)uVar5;
    *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = uVar4;
    *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = uVar4;
    *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = uVar4;
    pvVar3 = (void *)Get_OTAG_List();
    AddPrim(pvVar3,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
    pvVar3 = (void *)Get_OTAG_List();
    AddPrim(pvVar3,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
  }
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void FUN_BATTLE_BIN__800787dc(void)

{
  FUN_BATTLE_BIN__800f5984();
  return;
}



void FUN_BATTLE_BIN__800787fc(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  void *pvVar1;
  undefined uVar2;
  ushort uVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  uVar3 = DAT_BATTLE_BIN__800961b0;
  if (0xff < DAT_BATTLE_BIN__800961b0) {
    uVar3 = 0xff;
  }
  uVar2 = (undefined)uVar3;
  *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = uVar2;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = uVar2;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = uVar2;
  pvVar1 = (void *)Get_OTAG_List();
  AddPrim(pvVar1,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
  pvVar1 = (void *)Get_OTAG_List();
  AddPrim(pvVar1,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
  DAT_BATTLE_BIN__800961b0 = DAT_BATTLE_BIN__800961b0 + DAT_BATTLE_BIN__8009610c;
  if (0x101 < (short)DAT_BATTLE_BIN__800961b0) {
    DAT_BATTLE_BIN__800961b0 = 0xff;
    DAT_BATTLE_BIN__800960e4 = 0x36;
    DAT_BATTLE_BIN__800960f4 = 0;
    FUN_BATTLE_BIN__800787dc();
    FUN_BATTLE_BIN__80087064();
  }
  return;
}



void FUN_BATTLE_BIN__80078964(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  void *pvVar1;
  undefined uVar2;
  ushort uVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  uVar3 = DAT_BATTLE_BIN__800961b0;
  if (0xff < DAT_BATTLE_BIN__800961b0) {
    uVar3 = 0xff;
  }
  uVar2 = (undefined)uVar3;
  *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = uVar2;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = uVar2;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = uVar2;
  pvVar1 = (void *)Get_OTAG_List();
  AddPrim(pvVar1,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
  pvVar1 = (void *)Get_OTAG_List();
  AddPrim(pvVar1,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
  DAT_BATTLE_BIN__800961b0 = DAT_BATTLE_BIN__800961b0 + DAT_BATTLE_BIN__8009610c;
  if (0x101 < (short)DAT_BATTLE_BIN__800961b0) {
    DAT_BATTLE_BIN__800961b0 = 0xff;
    DAT_BATTLE_BIN__800960e4 = 0x39;
    DAT_BATTLE_BIN__800960f4 = 0;
    FUN_BATTLE_BIN__800787dc();
    FUN_BATTLE_BIN__80087064();
  }
  return;
}



void FUN_BATTLE_BIN__80078acc(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  void *pvVar1;
  undefined uVar2;
  ushort uVar3;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  uVar3 = DAT_BATTLE_BIN__800961b0;
  if (0xff < DAT_BATTLE_BIN__800961b0) {
    uVar3 = 0xff;
  }
  uVar2 = (undefined)uVar3;
  *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = uVar2;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = uVar2;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = uVar2;
  pvVar1 = (void *)Get_OTAG_List();
  AddPrim(pvVar1,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
  pvVar1 = (void *)Get_OTAG_List();
  AddPrim(pvVar1,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
  DAT_BATTLE_BIN__800961b0 = DAT_BATTLE_BIN__800961b0 + DAT_BATTLE_BIN__8009610c;
  return;
}



void FUN_BATTLE_BIN__80078bf4(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  void *pvVar1;
  
  DAT_BATTLE_BIN__800960f4 =
       FUN_BATTLE_BIN__8008ea6c(DAT_BATTLE_BIN__80096104,DAT_BATTLE_BIN__800960f4,param_3);
  *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = 0xff;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = 0xff;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = 0xff;
  pvVar1 = (void *)Get_OTAG_List();
  AddPrim(pvVar1,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
  pvVar1 = (void *)Get_OTAG_List();
  AddPrim(pvVar1,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
  if (DAT_BATTLE_BIN__800960f4 == 0xd) {
    DAT_BATTLE_BIN__800960e4 = 0x37;
    DAT_BATTLE_BIN__800961b0 = 0xff;
  }
  return;
}



void FUN_BATTLE_BIN__80078d20(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  undefined4 uVar1;
  void *pvVar2;
  
  DAT_BATTLE_BIN__800960f4 =
       FUN_BATTLE_BIN__8008ea6c(DAT_BATTLE_BIN__80096104,DAT_BATTLE_BIN__800960f4,param_3);
  *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = 0xff;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = 0xff;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = 0xff;
  pvVar2 = (void *)Get_OTAG_List();
  AddPrim(pvVar2,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
  pvVar2 = (void *)Get_OTAG_List();
  AddPrim(pvVar2,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
  uVar1 = DAT_BATTLE_BIN__800960e8;
  if (DAT_BATTLE_BIN__800960f4 == 0xd) {
    DAT_BATTLE_BIN__800960e8 = 0;
    DAT_BATTLE_BIN__800961b0 = 0xff;
    DAT_BATTLE_BIN__800960e4 = uVar1;
  }
  return;
}



void FUN_BATTLE_BIN__80078e58(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  undefined4 uVar1;
  void *pvVar2;
  uint uVar3;
  undefined uVar4;
  ushort uVar5;
  
  FUN_BATTLE_BIN__80074bac(param_1,param_2,param_3,param_4);
  uVar5 = DAT_BATTLE_BIN__800961b0;
  if (0xff < DAT_BATTLE_BIN__800961b0) {
    uVar5 = 0xff;
  }
  uVar4 = (undefined)uVar5;
  *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = uVar4;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = uVar4;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = uVar4;
  pvVar2 = (void *)Get_OTAG_List();
  AddPrim(pvVar2,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
  pvVar2 = (void *)Get_OTAG_List();
  AddPrim(pvVar2,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
  uVar1 = DAT_BATTLE_BIN__800960e8;
  uVar3 = (uint)DAT_BATTLE_BIN__800961b0;
  DAT_BATTLE_BIN__800961b0 = (ushort)(uVar3 - DAT_BATTLE_BIN__8009610c);
  if ((int)((uVar3 - DAT_BATTLE_BIN__8009610c) * 0x10000) < 1) {
    DAT_BATTLE_BIN__800961b0 = 0;
    DAT_BATTLE_BIN__800960e8 = 0;
    DAT_80045980 = 1;
    DAT_BATTLE_BIN__800960e4 = uVar1;
  }
  return;
}



void FUN_BATTLE_BIN__80078fb4(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  short sVar1;
  uint *puVar2;
  undefined2 extraout_var;
  void *pvVar4;
  uint uVar5;
  undefined uVar6;
  ushort uVar7;
  int *piVar8;
  undefined4 uVar9;
  int iVar3;
  
  FUN_BATTLE_BIN__80086b44();
  if (DAT_BATTLE_BIN__800960f0 != 1) {
    FUN_BATTLE_BIN__8008719c(param_1,param_2,param_3,param_4);
    FUN_BATTLE_BIN__8008f130();
    FUN_BATTLE_BIN__8008b440();
    FUN_BATTLE_BIN__8008b6e4();
    FUN_BATTLE_BIN__8008b968();
    FUN_BATTLE_BIN__8008bb94();
    FUN_BATTLE_BIN__800707c4();
  }
  FUN_BATTLE_BIN__80086dc4();
  FUN_BATTLE_BIN__8008f208();
  puVar2 = (uint *)Get_OTAG_List();
  piVar8 = DAT_80045944;
  sVar1 = FUN_BATTLE_BIN__80142d58(puVar2,(uint)DAT_80045944);
  iVar3 = CONCAT22(extraout_var,sVar1);
  if (iVar3 != 1) {
    if (iVar3 < 2) {
      if (iVar3 == 0) {
        FUN_BATTLE_BIN__80071008(puVar2,piVar8,param_3,param_4);
      }
    }
    else {
      if (iVar3 == 9) {
        uVar9 = 0;
      }
      else {
        if (iVar3 != 10) goto LAB_BATTLE_BIN__800790a0;
        uVar9 = 1;
      }
      FUN_BATTLE_BIN__80074b38(8,uVar9);
    }
  }
LAB_BATTLE_BIN__800790a0:
  uVar7 = DAT_BATTLE_BIN__800961b0;
  if (0xff < DAT_BATTLE_BIN__800961b0) {
    uVar7 = 0xff;
  }
  uVar6 = (undefined)uVar7;
  *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = uVar6;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = uVar6;
  *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = uVar6;
  pvVar4 = (void *)Get_OTAG_List();
  AddPrim(pvVar4,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
  pvVar4 = (void *)Get_OTAG_List();
  AddPrim(pvVar4,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
  uVar9 = DAT_BATTLE_BIN__800960e8;
  uVar5 = (uint)DAT_BATTLE_BIN__800961b0;
  DAT_BATTLE_BIN__800961b0 = (ushort)(uVar5 - DAT_BATTLE_BIN__8009610c);
  if ((int)((uVar5 - DAT_BATTLE_BIN__8009610c) * 0x10000) < 1) {
    DAT_BATTLE_BIN__800961b0 = 0;
    DAT_BATTLE_BIN__800960e8 = 0;
    DAT_BATTLE_BIN__800960e4 = uVar9;
  }
  return;
}



void FUN_BATTLE_BIN__800791e8(void)

{
  FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094ae4,2,1,0);
  FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094b04,2,2,0);
  FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094b44,2,3,0);
  FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094b64,2,4,0);
  FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094bc4,2,5,0);
  FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094be4,2,7,0);
  return;
}



void FUN_BATTLE_BIN__80079298(void)

{
  return;
}



void FUN_BATTLE_BIN__800792a0(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  MusicDataHeader *pMVar3;
  void *pvVar4;
  int iVar5;
  uint *puVar6;
  undefined4 *puVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 *puVar11;
  undefined uVar12;
  undefined4 *puVar13;
  undefined4 *puVar14;
  char cVar15;
  RECT local_70;
  undefined4 local_68;
  undefined local_64;
  undefined uStack_63;
  undefined uStack_62;
  undefined uStack_61;
  undefined2 local_60;
  undefined2 uStack_5e;
  undefined local_5c;
  undefined uStack_5b;
  u_short uStack_5a;
  undefined2 local_58;
  undefined2 uStack_56;
  undefined local_54;
  undefined uStack_53;
  u_short uStack_52;
  undefined2 local_50;
  undefined2 local_4e;
  undefined local_4c;
  undefined local_4b;
  undefined2 local_48;
  undefined2 local_46;
  undefined local_44;
  undefined local_43;
  undefined4 local_40 [10];
  
  local_70._0_4_ = DAT_BATTLE_BIN__800676a0;
  local_70._4_4_ = DAT_BATTLE_BIN__800676a4;
  FUN_BATTLE_BIN__8009386c(0x100,0xf0,0x200,'\0','\0','\0');
  cVar15 = DAT_800473a0;
  iVar2 = FUN_BATTLE_BIN__8013b590(0x51);
  if (iVar2 != 0) {
    cVar15 = '\0';
  }
  bVar1 = FUN_BATTLE_BIN__8013d320();
  DAT_BATTLE_BIN__80096108 = CONCAT31(extraout_var,bVar1);
  BuildNowLoading_128_00(DAT_BATTLE_BIN__80096108);
  pMVar3 = (MusicDataHeader *)FUN_BATTLE_BIN__8013b590(0x33);
  DAT_BATTLE_BIN__800960f4 = 0;
  DAT_BATTLE_BIN__800e6aa4 = 0;
  DAT_BATTLE_BIN__80096104 = pMVar3;
  SetPolyF4((POLY_F4 *)&DAT_BATTLE_BIN__80098d88);
  DAT_BATTLE_BIN__80098d8c = DAT_BATTLE_BIN__80098d8c & 0xff000000;
  DAT_BATTLE_BIN__80098d90 = 0x80;
  DAT_BATTLE_BIN__80098d94 = 0x180;
  DAT_BATTLE_BIN__80098d98 = 0x1000000;
  DAT_BATTLE_BIN__80098d9c = 0x1000180;
  SetSemiTrans(&DAT_BATTLE_BIN__80098d88,1);
  DAT_BATTLE_BIN__80098da0 = DAT_BATTLE_BIN__80098d88;
  DAT_BATTLE_BIN__80098da4 = DAT_BATTLE_BIN__80098d8c;
  DAT_BATTLE_BIN__80098da8 = DAT_BATTLE_BIN__80098d90;
  DAT_BATTLE_BIN__80098dac = DAT_BATTLE_BIN__80098d94;
  DAT_BATTLE_BIN__80098db0 = DAT_BATTLE_BIN__80098d98;
  DAT_BATTLE_BIN__80098db4 = DAT_BATTLE_BIN__80098d9c;
  DAT_BATTLE_BIN__800c7c70 = DAT_BATTLE_BIN__80098d88;
  DAT_BATTLE_BIN__800c7c74 = DAT_BATTLE_BIN__80098d8c;
  DAT_BATTLE_BIN__800c7c78 = DAT_BATTLE_BIN__80098d90;
  DAT_BATTLE_BIN__800c7c7c = DAT_BATTLE_BIN__80098d94;
  DAT_BATTLE_BIN__800c7c80 = DAT_BATTLE_BIN__80098d98;
  DAT_BATTLE_BIN__800c7c84 = DAT_BATTLE_BIN__80098d9c;
  DAT_BATTLE_BIN__800c7c88 = DAT_BATTLE_BIN__80098d88;
  DAT_BATTLE_BIN__800c7c8c = DAT_BATTLE_BIN__80098d8c;
  DAT_BATTLE_BIN__800c7c90 = DAT_BATTLE_BIN__80098d90;
  DAT_BATTLE_BIN__800c7c94 = DAT_BATTLE_BIN__80098d94;
  DAT_BATTLE_BIN__800c7c98 = DAT_BATTLE_BIN__80098d98;
  DAT_BATTLE_BIN__800c7c9c = DAT_BATTLE_BIN__80098d9c;
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__800b72dc,0,0,0x40,&local_70);
  DAT_BATTLE_BIN__800b72e8 = DAT_BATTLE_BIN__800b72dc;
  DAT_BATTLE_BIN__800b72ec = DAT_BATTLE_BIN__800b72e0;
  DAT_BATTLE_BIN__800b72f0 = DAT_BATTLE_BIN__800b72e4;
  DAT_BATTLE_BIN__800e6aa8 = DAT_BATTLE_BIN__800b72dc;
  DAT_BATTLE_BIN__800e6aac = DAT_BATTLE_BIN__800b72e0;
  DAT_BATTLE_BIN__800e6ab0 = DAT_BATTLE_BIN__800b72e4;
  DAT_BATTLE_BIN__800e6ab4 = DAT_BATTLE_BIN__800b72dc;
  DAT_BATTLE_BIN__800e6ab8 = DAT_BATTLE_BIN__800b72e0;
  DAT_BATTLE_BIN__800e6abc = DAT_BATTLE_BIN__800b72e4;
  local_68._3_1_ = 9;
  uStack_61 = 0x2c;
  local_64 = 0x80;
  uStack_63 = 0x80;
  uStack_62 = 0x80;
  uStack_5e = 0x74;
  uStack_56 = 0x74;
  local_58 = 0x17f;
  local_48 = 0x17f;
  local_4e = 0x8c;
  local_46 = 0x8c;
  local_60 = 0x80;
  local_50 = 0x80;
  local_5c = 0;
  uStack_5b = 0;
  local_54 = 0xff;
  uStack_53 = 0;
  local_4c = 0;
  local_4b = 0x18;
  local_44 = 0xff;
  local_43 = 0x18;
  SetSemiTrans(&local_68,0);
  uStack_52 = GetTPage(0,0,0x380,0x100);
  uStack_5a = GetClut(0x380,0x11f);
  puVar7 = local_40;
  puVar14 = &local_68;
  do {
    puVar13 = puVar14;
    puVar11 = puVar7;
    uVar8 = puVar13[1];
    uVar9 = puVar13[2];
    uVar10 = puVar13[3];
    *puVar11 = *puVar13;
    puVar11[1] = uVar8;
    puVar11[2] = uVar9;
    puVar11[3] = uVar10;
    puVar14 = puVar13 + 4;
    puVar7 = puVar11 + 4;
  } while (puVar14 != (undefined4 *)&local_48);
  uVar8 = puVar13[5];
  puVar11[4] = *puVar14;
  puVar11[5] = uVar8;
  SetDispMask(1);
  iVar2 = 0xf8;
  if (cVar15 != '\0') {
    do {
      Set_OTAG_List();
      uVar12 = (undefined)iVar2;
      *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = uVar12;
      *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = uVar12;
      *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = uVar12;
      pvVar4 = (void *)Get_OTAG_List();
      AddPrim(pvVar4,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
      pvVar4 = (void *)Get_OTAG_List();
      AddPrim(pvVar4,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
      pvVar4 = (void *)Get_OTAG_List();
      AddPrim(pvVar4,&local_68 + ScreenPolarity * 10);
      ScreenPolarity = (uint)(ScreenPolarity == 0);
      iVar5 = Get_OTAG_List();
      DAT_80045984 = FUN_BATTLE_BIN__80093bf0(iVar5 + 0x5fc);
      iVar2 = iVar2 + -8;
    } while (-1 < iVar2 * 0x10000);
  }
  do {
    iVar2 = FUN_BATTLE_BIN__800937f8();
    if (iVar2 == -1) {
LAB_BATTLE_BIN__80079918:
      iVar2 = 0;
      if (cVar15 != '\0') {
        iVar5 = 0;
        do {
          if (0xf7 < iVar5 >> 0x10) {
            iVar2 = 0xff;
          }
          Set_OTAG_List();
          uVar12 = (undefined)iVar2;
          *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = uVar12;
          *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = uVar12;
          *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = uVar12;
          pvVar4 = (void *)Get_OTAG_List();
          AddPrim(pvVar4,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
          pvVar4 = (void *)Get_OTAG_List();
          AddPrim(pvVar4,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
          pvVar4 = (void *)Get_OTAG_List();
          AddPrim(pvVar4,&local_68 + ScreenPolarity * 10);
          ScreenPolarity = (uint)(ScreenPolarity == 0);
          iVar5 = Get_OTAG_List();
          DAT_80045984 = FUN_BATTLE_BIN__80093bf0(iVar5 + 0x5fc);
          iVar2 = iVar2 + 8;
          iVar5 = iVar2 * 0x10000;
        } while (iVar2 * 0x10000 >> 0x10 < 0x100);
      }
      return;
    }
    Set_OTAG_List();
    if (cVar15 == '\0') {
      puVar6 = (uint *)Get_OTAG_List();
      Put_NowLoading_ToOTAG(puVar6);
    }
    else {
      pvVar4 = (void *)Get_OTAG_List();
      AddPrim(pvVar4,&local_68 + ScreenPolarity * 10);
    }
    puVar6 = (uint *)Get_OTAG_List();
    puVar7 = (undefined4 *)FUN_BATTLE_BIN__8013f4f8(puVar6,DAT_80045944);
    DAT_BATTLE_BIN__800960f4 = FUN_BATTLE_BIN__8008ec70(pMVar3,DAT_BATTLE_BIN__800960f4,puVar7);
    if (DAT_BATTLE_BIN__800960f4 == 0xd) {
      FUN_BATTLE_BIN__800791e8();
      FUN_BATTLE_BIN__800709fc();
      DAT_BATTLE_BIN__800961b0 = 0xff;
      goto LAB_BATTLE_BIN__80079918;
    }
    FUN_BATTLE_BIN__80079298();
    *(undefined *)(&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 6) = 0xff;
    *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 1) = 0xff;
    *(undefined *)((int)&DAT_BATTLE_BIN__80098d8c + ScreenPolarity * 0x18 + 2) = 0xff;
    pvVar4 = (void *)Get_OTAG_List();
    AddPrim(pvVar4,&DAT_BATTLE_BIN__80098d88 + ScreenPolarity * 6);
    pvVar4 = (void *)Get_OTAG_List();
    AddPrim(pvVar4,&DAT_BATTLE_BIN__800b72dc + ScreenPolarity * 3);
    ScreenPolarity = (uint)(ScreenPolarity == 0);
    iVar2 = Get_OTAG_List();
    DAT_80045984 = FUN_BATTLE_BIN__80093bf0(iVar2 + 0x5fc);
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
    FUN_800449ec();
  } while( true );
}



void BATTLE_main(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  RECT *pRVar4;
  undefined4 *puVar5;
  undefined2 *puVar6;
  RECT *pRVar7;
  
  FUN_BATTLE_BIN__800ee104();
  FUN_BATTLE_BIN__8007abd0();
  FUN_BATTLE_BIN__801ad62c();
  iVar1 = 0x196b0;
  do {
    (&DAT_BATTLE_BIN__800c7ce9)[iVar1] = 0;
    iVar1 = iVar1 + -0x32d6;
  } while (-1 < iVar1);
  do {
    FUN_BATTLE_BIN__800792a0();
    DAT_BATTLE_BIN__800e4e8c = 0;
    DAT_BATTLE_BIN__800960c0 = DAT_800473ac & 7;
    while( true ) {
      FUN_BATTLE_BIN__80093654();
      FUN_BATTLE_BIN__8007aed4();
      PutProjectionPlacetoGTE(0x200);
      Set_OTAG_List();
      FUN_BATTLE_BIN__800702e4();
      iVar1 = -DAT_BATTLE_BIN__800e4e74;
      if (0 < DAT_BATTLE_BIN__800e4e74) {
        iVar1 = iVar1 + 0xfff;
      }
      DAT_BATTLE_BIN__800f5b9c = (undefined2)(iVar1 >> 0xc);
      iVar1 = -DAT_BATTLE_BIN__800e4e78;
      if (0 < DAT_BATTLE_BIN__800e4e78) {
        iVar1 = iVar1 + 0xfff;
      }
      DAT_BATTLE_BIN__800f5b9e = (undefined2)(iVar1 >> 0xc);
      iVar1 = -DAT_BATTLE_BIN__800e4e7c;
      if (0 < DAT_BATTLE_BIN__800e4e7c) {
        iVar1 = iVar1 + 0xfff;
      }
      DAT_BATTLE_BIN__800f5ba0 = (undefined2)(iVar1 >> 0xc);
      pRVar7 = (RECT *)&DAT_BATTLE_BIN__80098a24;
      pRVar4 = (RECT *)&DAT_BATTLE_BIN__800a7784;
      puVar5 = &DAT_BATTLE_BIN__800a77b0;
      puVar6 = &DAT_BATTLE_BIN__800c7ca0;
      FUN_BATTLE_BIN__800ee95c
                ((uint *)&DAT_BATTLE_BIN__80098a24,(undefined4 *)&DAT_BATTLE_BIN__800a7784,
                 &DAT_BATTLE_BIN__800a77b0,(undefined4 *)&DAT_BATTLE_BIN__800c7ca0);
      FUN_BATTLE_BIN__800e840c((undefined4 *)&DAT_BATTLE_BIN__80098a24);
      iVar1 = FUN_BATTLE_BIN__801a1c40();
      if (iVar1 == 0) {
        DAT_BATTLE_BIN__8009612c = 0;
      }
      else {
        DAT_BATTLE_BIN__8009612c = 2;
      }
      switch(DAT_BATTLE_BIN__800960e4) {
      default:
        FUN_BATTLE_BIN__80074bf8(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 1:
        FUN_BATTLE_BIN__80074dd0(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 2:
        FUN_BATTLE_BIN__80074e2c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 3:
        FUN_BATTLE_BIN__80074e94(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 4:
        FUN_BATTLE_BIN__80074f5c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 5:
        FUN_BATTLE_BIN__80075310(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 6:
        FUN_BATTLE_BIN__800755fc(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 7:
        FUN_BATTLE_BIN__80075690(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 8:
        FUN_BATTLE_BIN__8007571c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 9:
        FUN_BATTLE_BIN__800757c4(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 10:
        FUN_BATTLE_BIN__80075820(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0xb:
        FUN_BATTLE_BIN__8007843c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0xc:
        FUN_BATTLE_BIN__8007587c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0xd:
        FUN_BATTLE_BIN__80075910(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0xe:
        FUN_BATTLE_BIN__80075c34(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0xf:
        FUN_BATTLE_BIN__80075ca0(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x10:
        FUN_BATTLE_BIN__80075d0c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x11:
        FUN_BATTLE_BIN__80075db0(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x12:
        FUN_BATTLE_BIN__800761cc(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x13:
        FUN_BATTLE_BIN__80076430(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x14:
        FUN_BATTLE_BIN__8007629c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x15:
        FUN_BATTLE_BIN__80076658(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x16:
        FUN_BATTLE_BIN__8007691c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x17:
        FUN_BATTLE_BIN__800769b0(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x18:
        FUN_BATTLE_BIN__80076b7c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x19:
        FUN_BATTLE_BIN__80076c50(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x1a:
        FUN_BATTLE_BIN__80076be8(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x1b:
        FUN_BATTLE_BIN__80076d84(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x1c:
        FUN_BATTLE_BIN__80076f14(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x1d:
        FUN_BATTLE_BIN__80076fd0(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x1e:
        FUN_BATTLE_BIN__80077098(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x1f:
        FUN_BATTLE_BIN__80077c38(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x20:
        FUN_BATTLE_BIN__80077ca4(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x21:
        FUN_BATTLE_BIN__80077e1c(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x22:
        FUN_BATTLE_BIN__80077e88(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x23:
        FUN_BATTLE_BIN__80077f68(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x24:
        FUN_BATTLE_BIN__80078030(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x25:
        FUN_BATTLE_BIN__800780a0(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x26:
        FUN_BATTLE_BIN__80078148(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x27:
        FUN_BATTLE_BIN__80078328(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x28:
        FUN_BATTLE_BIN__800779a0(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x29:
        FUN_BATTLE_BIN__80077134(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x2a:
        FUN_BATTLE_BIN__800771a0(pRVar7,pRVar4,(int)puVar5,(uint)puVar6);
        break;
      case 0x2b:
        FUN_BATTLE_BIN__80077314((uint)pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x2c:
        FUN_BATTLE_BIN__80077378(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x2d:
        FUN_BATTLE_BIN__800773f8(pRVar7,(int *)pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x2e:
        FUN_BATTLE_BIN__80077760(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x2f:
        FUN_BATTLE_BIN__800777ec(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x30:
        FUN_BATTLE_BIN__80077bd8(pRVar7,(int *)pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x31:
        FUN_BATTLE_BIN__80077c08(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x33:
        FUN_BATTLE_BIN__80078504(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x34:
        FUN_BATTLE_BIN__800785ac(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x35:
        FUN_BATTLE_BIN__800787fc(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x36:
        FUN_BATTLE_BIN__80078bf4(pRVar7,pRVar4,puVar5);
        break;
      case 0x37:
        FUN_BATTLE_BIN__80078e58(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x38:
        FUN_BATTLE_BIN__80078964(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x39:
        FUN_BATTLE_BIN__80078d20(pRVar7,pRVar4,puVar5);
        break;
      case 0x3a:
        FUN_BATTLE_BIN__80078fb4(pRVar7,pRVar4,puVar5,(uint)puVar6);
        break;
      case 0x3b:
        FUN_BATTLE_BIN__80078acc(pRVar7,pRVar4,puVar5,(uint)puVar6);
      }
      FUN_BATTLE_BIN__8006ef00(pRVar7,(uint)pRVar4);
      FUN_BATTLE_BIN__8006f320();
      FUN_BATTLE_BIN__8006f678();
      FUN_BATTLE_BIN__8006f9ac();
      FUN_BATTLE_BIN__800912a4();
      FUN_80043de0();
      if (DAT_BATTLE_BIN__800960e4 == 0x3b) break;
      Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
      ScreenPolarity = (uint)(ScreenPolarity == 0);
      DAT_80045994 = DAT_80045994 + 1;
      FUN_BATTLE_BIN__80092f98();
      iVar1 = Get_OTAG_List();
      DAT_80045984 = FUN_BATTLE_BIN__80093a98(iVar1 + 0x5fc);
      iVar1 = 0;
      if ((int)DAT_80045988 < (int)DAT_80045984) {
        DAT_80045988 = DAT_80045984;
      }
      puVar5 = &DAT_BATTLE_BIN__800a77c4;
      iVar3 = 0;
      do {
        iVar2 = *(int *)((int)&DAT_BATTLE_BIN__800a77c8 + iVar3);
        iVar3 = iVar3 + 0x7564;
        if ((iVar2 != 0) && (iVar2 != 0xfe)) {
          puVar5[1] = iVar2 + -1;
        }
        iVar1 = iVar1 + 1;
        puVar5 = puVar5 + 0x1d59;
      } while (iVar1 < 2);
      if ((DAT_BATTLE_BIN__800960e4 == 0x33) || (DAT_BATTLE_BIN__800960e4 == 0x2d)) {
        if (DAT_80045980 == 1) {
          DAT_8004598c = 0;
        }
        else if (DAT_80045990 == 0) {
          if ((int)DAT_80045984 < 0x301) {
            if (((int)DAT_80045984 < 0x201) || (iVar1 = 0xf, 0xe < DAT_8004598c))
            goto LAB_BATTLE_BIN__8007a15c;
          }
          else {
            iVar1 = 0x1e;
          }
          DAT_8004598c = iVar1;
        }
      }
LAB_BATTLE_BIN__8007a15c:
      DAT_80045990 = 0;
      FUN_800449ec();
    }
    FUN_BATTLE_BIN__800787dc();
    FUN_BATTLE_BIN__80087064();
    if (DAT_BATTLE_BIN__800a778c != 0) {
      DrawSync(0);
      VSync(0);
      DrawSync(0);
      VSync(0);
      return;
    }
  } while( true );
}



int * FUN_BATTLE_BIN__8007a1d4(void)

{
  int **ppiVar1;
  
  ppiVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int **)0x0) {
    do {
      if (*(byte *)(ppiVar1 + 1) == DAT_BATTLE_BIN__8009611c) {
        return (int *)ppiVar1;
      }
      ppiVar1 = (int **)*ppiVar1;
    } while (ppiVar1 != (int **)0x0);
  }
  return (int *)0x0;
}



int * FUN_BATTLE_BIN__8007a218(void)

{
  int **ppiVar1;
  
  ppiVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int **)0x0) {
    do {
      if (*(byte *)(ppiVar1 + 1) == DAT_BATTLE_BIN__80096118) {
        return (int *)ppiVar1;
      }
      ppiVar1 = (int **)*ppiVar1;
    } while (ppiVar1 != (int **)0x0);
  }
  return (int *)0x0;
}



int * FUN_BATTLE_BIN__8007a25c(uint param_1,uint param_2,uint param_3)

{
  int **ppiVar1;
  
  ppiVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int **)0x0) {
    do {
      if (((*(byte *)(ppiVar1 + 0x1f) == param_1) && (*(byte *)((int)ppiVar1 + 0x7d) == param_2)) &&
         (*(byte *)((int)ppiVar1 + 0x7e) == param_3)) {
        return (int *)ppiVar1;
      }
      ppiVar1 = (int **)*ppiVar1;
    } while (ppiVar1 != (int **)0x0);
  }
  return (int *)0x0;
}



int * FUN_BATTLE_BIN__8007a2b8(uint param_1,uint param_2,uint param_3)

{
  int *piVar1;
  int iVar2;
  int **ppiVar3;
  int **ppiVar4;
  int iVar5;
  int **ppiVar6;
  int *local_50 [20];
  
  ppiVar6 = local_50;
  ppiVar3 = local_50;
  ppiVar4 = local_50;
  iVar5 = 0;
  piVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
    do {
      if ((((*(byte *)(piVar1 + 0x1f) == param_1) && (*(byte *)((int)piVar1 + 0x7d) == param_2)) &&
          (*(byte *)((int)piVar1 + 0x7e) == param_3)) &&
         (((piVar1[0x4d] != 0 && (*(char *)(piVar1[0x4d] + 1) != -1)) &&
          ((piVar1[0x51] & 0x49U) == 0)))) {
        *ppiVar6 = piVar1;
        ppiVar6 = ppiVar6 + 1;
        iVar5 = iVar5 + 1;
      }
      piVar1 = (int *)*piVar1;
    } while (piVar1 != (int *)0x0);
  }
  if (iVar5 == 0) {
    local_50[0] = (int *)0x0;
  }
  else if (iVar5 != 1) {
    iVar2 = 0;
    if (0 < iVar5) {
      do {
        iVar2 = iVar2 + 1;
        if (*(byte *)(*ppiVar3 + 1) == DAT_BATTLE_BIN__80096118) {
          return *ppiVar3;
        }
        ppiVar3 = ppiVar3 + 1;
      } while (iVar2 < iVar5);
    }
    iVar2 = 0;
    if (0 < iVar5) {
      do {
        iVar2 = iVar2 + 1;
        if (*(char *)(*ppiVar4 + 0x4c) == '\x01') {
          return *ppiVar4;
        }
        ppiVar4 = ppiVar4 + 1;
      } while (iVar2 < iVar5);
    }
  }
  return local_50[0];
}



int * FUN_BATTLE_BIN__8007a3f8(uint param_1,uint param_2,uint param_3)

{
  int *piVar1;
  int iVar2;
  int **ppiVar3;
  int iVar4;
  int **ppiVar5;
  int *local_48 [18];
  
  ppiVar5 = local_48;
  ppiVar3 = local_48;
  iVar4 = 0;
  piVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
    do {
      if (((((*(byte *)(piVar1 + 0x1f) == param_1) && (*(byte *)((int)piVar1 + 0x7d) == param_2)) &&
           (*(byte *)((int)piVar1 + 0x7e) == param_3)) &&
          ((piVar1[0x4d] != 0 && (*(char *)(piVar1[0x4d] + 1) != -1)))) &&
         ((piVar1[0x51] & 9U) != 0)) {
        *ppiVar5 = piVar1;
        ppiVar5 = ppiVar5 + 1;
        iVar4 = iVar4 + 1;
      }
      piVar1 = (int *)*piVar1;
    } while (piVar1 != (int *)0x0);
  }
  piVar1 = (int *)0x0;
  if ((iVar4 != 0) && (iVar2 = 0, piVar1 = local_48[0], 0 < iVar4)) {
    do {
      iVar2 = iVar2 + 1;
      if (*(byte *)(*ppiVar3 + 1) == DAT_BATTLE_BIN__80096118) {
        return *ppiVar3;
      }
      ppiVar3 = ppiVar3 + 1;
    } while (iVar2 < iVar4);
  }
  return piVar1;
}



int FUN_BATTLE_BIN__8007a4f4(uint param_1,uint param_2,uint param_3)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  int **ppiVar5;
  int **ppiVar6;
  int iVar7;
  int *local_48 [18];
  
  ppiVar6 = local_48;
  ppiVar5 = local_48;
  iVar7 = 0;
  piVar2 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
    do {
      if ((((*(byte *)(piVar2 + 0x1f) == param_1) && (*(byte *)((int)piVar2 + 0x7d) == param_2)) &&
          (*(byte *)((int)piVar2 + 0x7e) == param_3)) && (*(char *)((int)piVar2 + 6) == -0x7a)) {
        *ppiVar6 = piVar2;
        ppiVar6 = ppiVar6 + 1;
        iVar7 = iVar7 + 1;
      }
      piVar2 = (int *)*piVar2;
    } while (piVar2 != (int *)0x0);
  }
  if ((iVar7 != 0) && (iVar4 = 0, 0 < iVar7)) {
    do {
      iVar1 = (int)*ppiVar5;
      uVar3 = (uint)*(byte *)(iVar1 + 4);
      ppiVar5 = (int **)((int *)ppiVar5 + 1);
      if ((uVar3 != DAT_BATTLE_BIN__80096118) && (uVar3 != DAT_BATTLE_BIN__8009611c)) {
        return iVar1;
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < iVar7);
  }
  return 0;
}



int * FUN_BATTLE_BIN__8007a5d0(int *param_1,uint param_2,uint param_3,uint param_4)

{
  int *piVar1;
  int iVar2;
  int **ppiVar3;
  int **ppiVar4;
  int iVar5;
  int **ppiVar6;
  int *local_48 [18];
  
  ppiVar6 = local_48;
  ppiVar3 = local_48;
  iVar5 = 0;
  ppiVar4 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int **)0x0) {
    do {
      if (((((ppiVar4 != (int **)param_1) && (*(byte *)(ppiVar4 + 0x1f) == param_2)) &&
           (*(byte *)((int)ppiVar4 + 0x7d) == param_3)) &&
          ((*(byte *)((int)ppiVar4 + 0x7e) == param_4 && (ppiVar4[0x4d] != (int *)0x0)))) &&
         ((*(char *)((int)ppiVar4[0x4d] + 1) != -1 &&
          ((*(char *)(param_1 + 0x4c) == '\0' ||
           (*(char *)(ppiVar4 + 1) != *(char *)((int)param_1 + 0x131))))))) {
        *ppiVar6 = (int *)ppiVar4;
        ppiVar6 = ppiVar6 + 1;
        iVar5 = iVar5 + 1;
      }
      ppiVar4 = (int **)*ppiVar4;
    } while (ppiVar4 != (int **)0x0);
  }
  piVar1 = (int *)0x0;
  if ((iVar5 != 0) && (iVar2 = 0, piVar1 = local_48[0], 0 < iVar5)) {
    do {
      iVar2 = iVar2 + 1;
      if (*(byte *)(*ppiVar3 + 1) == DAT_BATTLE_BIN__80096118) {
        return *ppiVar3;
      }
      ppiVar3 = ppiVar3 + 1;
    } while (iVar2 < iVar5);
  }
  return piVar1;
}



int * FUN_BATTLE_BIN__8007a6e4(ushort param_1)

{
  int **ppiVar1;
  
  ppiVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int **)0x0) {
    do {
      if (*(byte *)(ppiVar1 + 1) == param_1) {
        return (int *)ppiVar1;
      }
      ppiVar1 = (int **)*ppiVar1;
    } while (ppiVar1 != (int **)0x0);
  }
  return (int *)0x0;
}



int * FUN_BATTLE_BIN__8007a724(ushort param_1)

{
  int **ppiVar1;
  
  ppiVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int **)0x0) {
    do {
      if ((ppiVar1[0x4d] != (int *)0x0) && (*(byte *)((int)ppiVar1[0x4d] + 0x18a) == param_1)) {
        return (int *)ppiVar1;
      }
      ppiVar1 = (int **)*ppiVar1;
    } while (ppiVar1 != (int **)0x0);
  }
  return (int *)0x0;
}



int FUN_BATTLE_BIN__8007a774(void)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  piVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
    do {
      if (*(char *)((int)piVar1 + 6) == -0x65) {
        iVar2 = iVar2 + 1;
      }
      piVar1 = (int *)*piVar1;
    } while (piVar1 != (int *)0x0);
  }
  return iVar2;
}



undefined4 FUN_BATTLE_BIN__8007a7b8(ushort param_1)

{
  int **ppiVar1;
  int **ppiVar2;
  int **ppiVar3;
  
  ppiVar1 = (int **)FUN_BATTLE_BIN__8007a6e4(param_1);
  if (ppiVar1 != (int **)0x0) {
    ppiVar3 = (int **)&DAT_BATTLE_BIN__80098a54;
    do {
      ppiVar2 = (int **)*ppiVar3;
      if (ppiVar2 == ppiVar1) {
        *ppiVar3 = *ppiVar1;
        *ppiVar1 = (int *)DAT_BATTLE_BIN__80098a54;
        DAT_BATTLE_BIN__80098a54 = ppiVar1;
        return 1;
      }
      ppiVar3 = ppiVar2;
    } while (ppiVar2 != (int **)0x0);
  }
  return 0;
}



uint FUN_BATTLE_BIN__8007a840(int param_1,u_long *param_2)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  uVar3 = (uint)(byte)(&DAT_BATTLE_BIN__80093e11)[*(int *)(param_1 + 0x170) * 3];
  iVar1 = (uint)(byte)(&DAT_BATTLE_BIN__800c7ce9)[(uint)*(byte *)(param_1 + 5) * 0x32d6] * 8;
  if ((byte)(&DAT_BATTLE_BIN__800c7ce9)[(uint)*(byte *)(param_1 + 5) * 0x32d6] == 0x9a) {
    iVar1 = (uVar3 - 0x73) * 8;
    iVar2 = *(int *)(&DAT_BATTLE_BIN__800956c4 + iVar1);
    if (iVar2 == 0) {
      return 0xffffffff;
    }
    if (uVar3 < *(uint *)(*(int *)(param_1 + 0x1f8) + 4) >> 1) {
      return 0xffffffff;
    }
    uVar3 = *(uint *)(&DAT_BATTLE_BIN__800956c8 + iVar1);
  }
  else {
    iVar2 = *(int *)(&DAT_BATTLE_BIN__800951cc + iVar1);
    if (iVar2 == 0) {
      return 0xffffffff;
    }
    if (uVar3 < *(uint *)(*(int *)(param_1 + 0x1f8) + 4) >> 1) {
      return 0xffffffff;
    }
    uVar3 = *(uint *)(&DAT_BATTLE_BIN__800951d0 + iVar1);
  }
  iVar1 = Call_CalcFileHead_NNL(iVar2,uVar3,param_2);
  return (uint)(iVar1 != 0);
}



void FUN_BATTLE_BIN__8007a968(int param_1)

{
  uint *puVar1;
  int iVar2;
  
  iVar2 = 0;
  puVar1 = &DAT_BATTLE_BIN__800a77c4;
  do {
    iVar2 = iVar2 + 1;
    if (((*puVar1 & 0x1f) == (uint)*(byte *)(param_1 + 4)) && ((*puVar1 & 0x40) != 0)) {
      *puVar1 = 0xff;
    }
    puVar1 = puVar1 + 0x1d59;
  } while (iVar2 < 2);
  return;
}



byte FUN_BATTLE_BIN__8007a9b0(void)

{
  byte *pbVar1;
  byte bVar2;
  
  if (DAT_BATTLE_BIN__800962c8 == 0) {
    bVar2 = *(byte *)(DAT_BATTLE_BIN__800962d0 + DAT_BATTLE_BIN__800962cc) >> 4;
  }
  else {
    pbVar1 = (byte *)(DAT_BATTLE_BIN__800962d0 + DAT_BATTLE_BIN__800962cc);
    DAT_BATTLE_BIN__800962cc = DAT_BATTLE_BIN__800962cc + 1;
    bVar2 = *pbVar1 & 0xf;
  }
  DAT_BATTLE_BIN__800962c8 = DAT_BATTLE_BIN__800962c8 ^ 1;
  return bVar2;
}



void FUN_BATTLE_BIN__8007aa34(undefined4 param_1,byte *param_2)

{
  bool bVar1;
  byte bVar2;
  byte bVar3;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined3 extraout_var_03;
  undefined3 extraout_var_04;
  undefined3 extraout_var_05;
  undefined3 extraout_var_06;
  uint uVar4;
  byte *pbVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  byte *pbVar9;
  
  bVar1 = false;
  iVar8 = 0;
  DAT_BATTLE_BIN__800962cc = 0;
  DAT_BATTLE_BIN__800962c8 = 0;
  pbVar9 = param_2;
  DAT_BATTLE_BIN__800962d0 = param_1;
  do {
    while (bVar2 = FUN_BATTLE_BIN__8007a9b0(), CONCAT31(extraout_var,bVar2) != 0) {
      if (bVar1) {
        iVar8 = iVar8 + 1;
        *pbVar9 = *pbVar9 | bVar2;
        pbVar9 = pbVar9 + 1;
        if (iVar8 == 0x6400) {
          return;
        }
      }
      else {
        *pbVar9 = bVar2 << 4;
      }
      bVar1 = (bool)(bVar1 ^ 1);
    }
    bVar2 = FUN_BATTLE_BIN__8007a9b0();
    uVar7 = CONCAT31(extraout_var_00,bVar2);
    if (uVar7 == 7) {
      bVar2 = FUN_BATTLE_BIN__8007a9b0();
      uVar7 = CONCAT31(extraout_var_02,bVar2);
      bVar2 = FUN_BATTLE_BIN__8007a9b0();
      uVar4 = CONCAT31(extraout_var_03,bVar2) << 4;
LAB_BATTLE_BIN__8007ab24:
      uVar7 = uVar7 | uVar4;
    }
    else if ((int)uVar7 < 8) {
      if (uVar7 == 0) {
        bVar2 = FUN_BATTLE_BIN__8007a9b0();
        uVar7 = CONCAT31(extraout_var_01,bVar2);
      }
    }
    else if (uVar7 == 8) {
      bVar2 = FUN_BATTLE_BIN__8007a9b0();
      bVar3 = FUN_BATTLE_BIN__8007a9b0();
      uVar7 = CONCAT31(extraout_var_04,bVar2) | CONCAT31(extraout_var_05,bVar3) << 4;
      bVar2 = FUN_BATTLE_BIN__8007a9b0();
      uVar4 = CONCAT31(extraout_var_06,bVar2) << 8;
      goto LAB_BATTLE_BIN__8007ab24;
    }
    iVar6 = 0;
    if (0 < (int)uVar7) {
      pbVar5 = param_2 + iVar8;
      do {
        if (bVar1) {
          pbVar9 = pbVar9 + 1;
          iVar8 = iVar8 + 1;
          *pbVar5 = *pbVar5 & 0xf0;
          pbVar5 = pbVar5 + 1;
          if (iVar8 == 0x6400) {
            return;
          }
        }
        else {
          *pbVar5 = 0;
        }
        iVar6 = iVar6 + 1;
        bVar1 = (bool)(bVar1 ^ 1);
      } while (iVar6 < (int)uVar7);
    }
  } while( true );
}



void FUN_BATTLE_BIN__8007abd0(void)

{
  DAT_BATTLE_BIN__80098ddc = 0x1000;
  DAT_BATTLE_BIN__800a77ac = 0x200;
  DAT_BATTLE_BIN__800a77a4 = 0x200;
  DAT_BATTLE_BIN__800a779c = 0x200;
  DAT_BATTLE_BIN__800a7794 = 0x200;
  DAT_BATTLE_BIN__80098dda = 0;
  DAT_BATTLE_BIN__80098dd8 = 0;
  DAT_BATTLE_BIN__80098dd6 = 0;
  DAT_BATTLE_BIN__80098dd0 = 0;
  DAT_BATTLE_BIN__80098de8 = 0;
  DAT_BATTLE_BIN__800bdf08 = 0;
  DAT_BATTLE_BIN__800bdf04 = 0;
  DAT_BATTLE_BIN__800b6290 = 0;
  DAT_BATTLE_BIN__800b628c = 0;
  DAT_BATTLE_BIN__800e4e70 = 0x800bb704;
  return;
}



SpriteDisplayData * FUN_BATTLE_BIN__8007ac60(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 7;
  iVar1 = param_1 * 0x440 + -0x7ff489ab;
  ENTDUnitData[param_1].UnitDisplayData.B = 0x80;
  ENTDUnitData[param_1].UnitDisplayData.G = 0x80;
  ENTDUnitData[param_1].UnitDisplayData.R = 0x80;
  do {
    *(undefined *)(iVar1 + 0x14) = 0;
    iVar2 = iVar2 + -1;
    iVar1 = iVar1 + -7;
  } while (-1 < iVar2);
  ENTDUnitData[param_1].UnitDisplayData.NumGraphic = 0;
  return &ENTDUnitData[param_1].UnitDisplayData;
}



undefined * FUN_BATTLE_BIN__8007acac(int param_1,int param_2)

{
  undefined *puVar1;
  undefined *puVar2;
  int iVar3;
  
  iVar3 = 2;
  puVar1 = (undefined *)(param_1 * 0x440 + -0x7ff48996 + param_2 * 0x24);
  puVar2 = puVar1 + 0xe;
  puVar1[2] = 0x80;
  puVar1[1] = 0x80;
  *puVar1 = 0x80;
  do {
    puVar2[0x14] = 0;
    iVar3 = iVar3 + -1;
    puVar2 = puVar2 + -7;
  } while (-1 < iVar3);
  puVar1[3] = 0;
  return puVar1;
}



undefined * FUN_BATTLE_BIN__8007ad08(int param_1,int param_2,undefined *param_3)

{
  undefined *puVar1;
  int iVar2;
  
  if (param_2 == 1) {
    iVar2 = -0x7ff48914;
  }
  else if (param_2 < 2) {
    if (param_2 != 0) goto LAB_BATTLE_BIN__8007ad84;
    iVar2 = -0x7ff4892a;
  }
  else {
    if (param_2 != 2) goto LAB_BATTLE_BIN__8007ad84;
    iVar2 = -0x7ff488fe;
  }
  param_3 = (undefined *)(param_1 * 0x440 + iVar2);
LAB_BATTLE_BIN__8007ad84:
  iVar2 = 0;
  param_3[2] = 0x80;
  param_3[1] = 0x80;
  *param_3 = 0x80;
  puVar1 = param_3;
  do {
    puVar1[0x14] = 0;
    iVar2 = iVar2 + 1;
    puVar1 = puVar1 + 7;
  } while (iVar2 < 1);
  param_3[3] = 0;
  return param_3;
}



StatusBubbleDisplay * FUN_BATTLE_BIN__8007adb4(int param_1)

{
  StatusBubbleDisplay *pSVar1;
  StatusBubbleDisplay *pSVar2;
  int iVar3;
  
  iVar3 = 0;
  pSVar2 = &ENTDUnitData[param_1].StatusBubbleDisplay;
  ENTDUnitData[param_1].StatusBubbleDisplay.B = 0x80;
  ENTDUnitData[param_1].StatusBubbleDisplay.G = 0x80;
  pSVar2->R = 0x80;
  ENTDUnitData[param_1].StatusBubbleDisplay.YWidth = 0x1000;
  ENTDUnitData[param_1].StatusBubbleDisplay.XWidth = 0x1000;
  ENTDUnitData[param_1].StatusBubbleDisplay.TPAGE = 0x1f;
  ENTDUnitData[param_1].StatusBubbleDisplay.CLUT = 0x7887;
  ENTDUnitData[param_1].StatusBubbleDisplay.YSpin = 0;
  ENTDUnitData[param_1].StatusBubbleDisplay.NumGraphic = 1;
  pSVar1 = pSVar2;
  do {
    (pSVar1->field9_0xe).YShift = 0;
    (pSVar1->field9_0xe).XShift = 0;
    (pSVar1->field9_0xe).Width = 0xe;
    (pSVar1->field9_0xe).Height = 0xc;
    (pSVar1->field9_0xe).U = 0;
    (pSVar1->field9_0xe).V = 0xb0;
    (pSVar1->field9_0xe).field_0x6 = 0;
    iVar3 = iVar3 + 1;
    pSVar1 = (StatusBubbleDisplay *)((int)&pSVar1->CLUT + 1);
  } while (iVar3 < 1);
  return pSVar2;
}



undefined * FUN_BATTLE_BIN__8007ae48(int param_1)

{
  undefined *puVar1;
  undefined *puVar2;
  int iVar3;
  
  iVar3 = 0;
  puVar2 = &ENTDUnitData[param_1].field_0x426;
  ENTDUnitData[param_1].field_0x428 = 0x80;
  ENTDUnitData[param_1].field_0x427 = 0x80;
  *puVar2 = 0x80;
  *(undefined2 *)&ENTDUnitData[param_1].field_0x430 = 0x1000;
  *(undefined2 *)&ENTDUnitData[param_1].field_0x42e = 0x1000;
  *(undefined2 *)&ENTDUnitData[param_1].field_0x42a = 0x1e;
  *(undefined2 *)&ENTDUnitData[param_1].field_0x42c = 0x7887;
  *(undefined2 *)&ENTDUnitData[param_1].field_0x432 = 0;
  ENTDUnitData[param_1].field_0x429 = 1;
  puVar1 = puVar2;
  do {
    puVar1[0xf] = 0;
    puVar1[0xe] = 0;
    puVar1[0x10] = 0x10;
    puVar1[0x11] = 0x10;
    puVar1[0x14] = 0;
    iVar3 = iVar3 + 1;
    puVar1 = puVar1 + 7;
  } while (iVar3 < 1);
  return puVar2;
}



void FUN_BATTLE_BIN__8007aecc(void)

{
  return;
}



void FUN_BATTLE_BIN__8007aed4(void)

{
  PutScreentoGTE(0,0);
  DAT_BATTLE_BIN__800bdf04 = DAT_BATTLE_BIN__800bdf08;
  return;
}



int FUN_BATTLE_BIN__8007af08(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = DAT_BATTLE_BIN__800bdf08 + 1;
  iVar1 = iVar2;
  if (iVar2 < 0) {
    iVar1 = DAT_BATTLE_BIN__800bdf08 + 0x100;
  }
  iVar2 = iVar2 + (iVar1 >> 8) * -0x100;
  DAT_BATTLE_BIN__800bdf08 = (short)iVar2;
  return iVar2 * 0x10000 >> 0x10;
}



void FUN_BATTLE_BIN__8007af44
               (undefined2 *param_1,int param_2,int param_3,short *param_4,short param_5,
               ushort param_6,short *param_7,uint *param_8)

{
  char cVar1;
  char cVar2;
  byte bVar3;
  int iVar4;
  short sVar5;
  uint uVar6;
  uint *puVar7;
  short sVar8;
  int *piVar9;
  ushort *puVar10;
  char *pcVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  undefined *puVar15;
  int iVar16;
  undefined auStack_58 [32];
  int local_38;
  
  puVar15 = auStack_58;
  uVar14 = (uint)param_6;
  local_38 = param_2;
  iVar4 = rcos((int)param_5 + (uint)(ushort)param_1[6]);
  DAT_BATTLE_BIN__80098dcc =
       (undefined2)
       ((int)(((int)(short)iVar4 * (int)*param_7 >> 0xc) * (uint)(ushort)param_1[4]) >> 0xc);
  DAT_BATTLE_BIN__80098dd4 =
       (undefined2)
       ((int)(((int)(short)iVar4 * (int)param_7[1] >> 0xc) * (uint)(ushort)param_1[5]) >> 0xc);
  iVar4 = rsin((int)param_5 + (uint)(ushort)param_1[6]);
  DAT_BATTLE_BIN__80098dce =
       (undefined2)
       ((int)((-(int)(short)iVar4 * (int)param_7[1] >> 0xc) * (uint)(ushort)param_1[5]) >> 0xc);
  DAT_BATTLE_BIN__80098dd2 =
       (undefined2)
       ((int)(((int)(short)iVar4 * (int)*param_7 >> 0xc) * (uint)(ushort)param_1[4]) >> 0xc);
  DAT_BATTLE_BIN__80098de0 = (int)*param_4;
  DAT_BATTLE_BIN__80098de4 = (int)param_4[1];
  SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098dcc);
  SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098dcc);
  if (param_3 < local_38) {
    puVar10 = &DAT_BATTLE_BIN__800a7784;
    piVar9 = &DAT_BATTLE_BIN__800c7ca8;
    iVar16 = -0x49f49f49;
    uVar12 = 0xffffff;
    uVar13 = 0xff000000;
    iVar4 = param_3 << 3;
    do {
      pcVar11 = (char *)((int)param_1 + (iVar4 - param_3) + 0xe);
      bVar3 = pcVar11[6];
      *(int **)(puVar15 + 0x28) = piVar9;
      *(ushort **)(puVar15 + 0x2c) = puVar10;
      iVar4 = FUN_BATTLE_BIN__8007af08();
      uVar6 = bVar3 ^ uVar14;
      puVar7 = (uint *)((short)iVar4 * 0x28 + DAT_BATTLE_BIN__800e4e70);
      *(undefined *)((int)puVar7 + 3) = 9;
                    // Probable PsyQ macro: setPolyFT4()
      *(undefined *)((int)puVar7 + 7) = 0x2c;
      piVar9 = *(int **)(puVar15 + 0x28);
      puVar10 = *(ushort **)(puVar15 + 0x2c);
      if ((uVar14 & 2) == 0) {
        sVar8 = (short)*pcVar11;
      }
      else {
        sVar8 = -(ushort)(byte)pcVar11[2] - (short)*pcVar11;
      }
      if ((uVar14 & 4) == 0) {
        sVar5 = (short)pcVar11[1];
      }
      else {
        sVar5 = -(ushort)(byte)pcVar11[3] - (short)pcVar11[1];
      }
      if ((uVar6 & 2) == 0) {
        DAT_BATTLE_BIN__800a77a8 = (ushort)(byte)pcVar11[2] + sVar8;
        DAT_BATTLE_BIN__800a77a0 = sVar8;
      }
      else {
        DAT_BATTLE_BIN__800a77a0 = (ushort)(byte)pcVar11[2] + sVar8;
        DAT_BATTLE_BIN__800a77a8 = sVar8;
      }
      if ((uVar6 & 4) == 0) {
        DAT_BATTLE_BIN__800a77aa = (ushort)(byte)pcVar11[3] + sVar5;
        DAT_BATTLE_BIN__800a779a = sVar5;
      }
      else {
        DAT_BATTLE_BIN__800a779a = (ushort)(byte)pcVar11[3] + sVar5;
        DAT_BATTLE_BIN__800a77aa = sVar5;
      }
      DAT_BATTLE_BIN__800a7790 = DAT_BATTLE_BIN__800a77a0;
      DAT_BATTLE_BIN__800a7792 = DAT_BATTLE_BIN__800a779a;
      DAT_BATTLE_BIN__800a7798 = DAT_BATTLE_BIN__800a77a8;
      DAT_BATTLE_BIN__800a77a2 = DAT_BATTLE_BIN__800a77aa;
      gte_ldv3((SVECTOR *)&DAT_BATTLE_BIN__800a7790,(SVECTOR *)&DAT_BATTLE_BIN__800a7798,
               (SVECTOR *)&DAT_BATTLE_BIN__800a77a0);
      gte_rtpt();
      if (((uVar6 | uVar14) & 1) == 0) {
        bVar3 = *(byte *)((int)puVar7 + 7) & 0xfd;
      }
      else {
        bVar3 = *(byte *)((int)puVar7 + 7) | 2;
      }
      *(byte *)((int)puVar7 + 7) = bVar3;
      *(ushort *)((int)puVar7 + 0x16) = param_1[2] | (ushort)uVar14 & 0x60;
      *(undefined2 *)((int)puVar7 + 0xe) = param_1[3];
      gte_stsxy3((long *)(puVar7 + 2),(long *)(puVar7 + 4),(long *)(puVar7 + 6));
      gte_ldv0((SVECTOR *)&DAT_BATTLE_BIN__800a77a8);
      gte_rtps();
      *(undefined2 *)(puVar7 + 1) = *param_1;
      *(undefined *)((int)puVar7 + 6) = *(undefined *)(param_1 + 1);
      gte_stsxy((long *)(puVar7 + 8));
      cVar1 = pcVar11[4];
      *(char *)(puVar7 + 7) = cVar1;
      *(char *)(puVar7 + 3) = cVar1;
      cVar2 = pcVar11[2];
      *(char *)(puVar7 + 9) = cVar1 + cVar2;
      *(char *)(puVar7 + 5) = cVar1 + cVar2;
      cVar1 = pcVar11[5];
      *(char *)((int)puVar7 + 0x15) = cVar1;
      *(char *)((int)puVar7 + 0xd) = cVar1;
      cVar2 = pcVar11[3];
      *(char *)((int)puVar7 + 0x25) = cVar1 + cVar2;
      *(char *)((int)puVar7 + 0x1d) = cVar1 + cVar2;
      if (((uVar6 & 0x80) == 0) || (0x3ff < (*puVar10 & 0xfff))) {
        *puVar7 = *puVar7 & uVar13 | *param_8 & uVar12;
        *param_8 = *param_8 & uVar13 | (uint)puVar7 & uVar12;
      }
      else {
        iVar4 = ((*puVar10 & 0xfff) - 0x12e) * *piVar9;
        *puVar7 = *puVar7 & uVar13 |
                  param_8[-1 - (((int)((ulonglong)((longlong)iVar4 * (longlong)iVar16) >> 0x20) +
                                 iVar4 >> 0x12) - (iVar4 >> 0x1f))] & uVar12;
        iVar4 = ((*puVar10 & 0xfff) - 0x12e) * *piVar9;
        iVar4 = ((int)((ulonglong)((longlong)iVar4 * (longlong)iVar16) >> 0x20) + iVar4 >> 0x12) -
                (iVar4 >> 0x1f);
        param_8[-1 - iVar4] = param_8[-1 - iVar4] & uVar13 | (uint)puVar7 & uVar12;
      }
      param_3 = param_3 + 1;
      iVar4 = param_3 * 8;
    } while (param_3 < *(int *)(puVar15 + 0x20));
  }
  return;
}



void FUN_BATTLE_BIN__8007b4ec
               (int param_1,int param_2,undefined param_3,undefined param_4,undefined param_5,
               undefined param_6,undefined param_7,undefined param_8,undefined param_9)

{
  undefined *puVar1;
  
  puVar1 = (undefined *)(param_1 + param_2 * 7 + 0xe);
  *puVar1 = param_3;
  puVar1[1] = param_4;
  puVar1[4] = param_5;
  puVar1[5] = param_6;
  puVar1[2] = param_7;
  puVar1[3] = param_8;
  puVar1[6] = param_9;
  return;
}



void FUN_BATTLE_BIN__8007b554(int param_1,int param_2,int param_3)

{
  byte bVar1;
  int iVar2;
  
  if (param_3 == 0) {
    iVar2 = param_1 + param_2 * 7;
    bVar1 = *(byte *)(iVar2 + 0x14) & 0xfe;
  }
  else {
    iVar2 = param_1 + param_2 * 7;
    bVar1 = *(byte *)(iVar2 + 0x14) | 1;
  }
  *(byte *)(iVar2 + 0x14) = bVar1;
  return;
}



void FUN_BATTLE_BIN__8007b58c(short *param_1,short *param_2,short param_3)

{
  short sVar1;
  ushort uVar2;
  
  param_2[1] = param_1[1] + -0xc;
  uVar2 = DAT_BATTLE_BIN__800a7786 & 0xc00;
  if (uVar2 == 0x400) {
    *param_2 = (*param_1 + 0xe) - param_3;
    sVar1 = (param_1[2] + 0xe) - param_3;
  }
  else {
    if (uVar2 < 0x401) {
      if ((DAT_BATTLE_BIN__800a7786 & 0xc00) != 0) {
        return;
      }
      sVar1 = (*param_1 + 0xe) - param_3;
    }
    else {
      if (uVar2 == 0x800) {
        *param_2 = *param_1 + -0xe + param_3;
        sVar1 = (param_1[2] + 0xe) - param_3;
        goto LAB_BATTLE_BIN__8007b67c;
      }
      if (uVar2 != 0xc00) {
        return;
      }
      sVar1 = *param_1 + -0xe + param_3;
    }
    *param_2 = sVar1;
    sVar1 = param_1[2] + -0xe + param_3;
  }
LAB_BATTLE_BIN__8007b67c:
  param_2[2] = sVar1;
  return;
}



void FUN_BATTLE_BIN__8007b688(short *param_1,short *param_2)

{
  FUN_BATTLE_BIN__8007b58c(param_1,param_2,1);
  return;
}



void FUN_BATTLE_BIN__8007b6a8(short *param_1,short *param_2)

{
  FUN_BATTLE_BIN__8007b58c(param_1,param_2,5);
  return;
}



void FUN_BATTLE_BIN__8007b6c8(short *param_1,short *param_2,short param_3)

{
  short sVar1;
  ushort uVar2;
  
  param_2[1] = param_1[1] + -0xb;
  uVar2 = DAT_BATTLE_BIN__800a7786 & 0xc00;
  if (uVar2 == 0x400) {
    *param_2 = ((short)((uint)(((int)*param_1 / 0x1c) * 0x10000) >> 0x10) * 0x1c + 0x1c) - param_3;
    sVar1 = ((short)((uint)(((int)param_1[2] / 0x1c) * 0x10000) >> 0x10) * 0x1c + 0x1c) - param_3;
  }
  else {
    if (uVar2 < 0x401) {
      if ((DAT_BATTLE_BIN__800a7786 & 0xc00) != 0) {
        return;
      }
      sVar1 = ((short)((uint)(((int)*param_1 / 0x1c) * 0x10000) >> 0x10) * 0x1c + 0x1c) - param_3;
    }
    else {
      if (uVar2 == 0x800) {
        *param_2 = (short)((uint)(((int)*param_1 / 0x1c) * 0x10000) >> 0x10) * 0x1c + param_3;
        sVar1 = ((short)((uint)(((int)param_1[2] / 0x1c) * 0x10000) >> 0x10) * 0x1c + 0x1c) -
                param_3;
        goto LAB_BATTLE_BIN__8007b920;
      }
      if (uVar2 != 0xc00) {
        return;
      }
      sVar1 = (short)((uint)(((int)*param_1 / 0x1c) * 0x10000) >> 0x10) * 0x1c + param_3;
    }
    *param_2 = sVar1;
    sVar1 = (short)((uint)(((int)param_1[2] / 0x1c) * 0x10000) >> 0x10) * 0x1c + param_3;
  }
LAB_BATTLE_BIN__8007b920:
  param_2[2] = sVar1;
  return;
}



void FUN_BATTLE_BIN__8007b92c(short *param_1,short *param_2)

{
  FUN_BATTLE_BIN__8007b6c8(param_1,param_2,1);
  return;
}



void FUN_BATTLE_BIN__8007b94c(short *param_1,short *param_2)

{
  FUN_BATTLE_BIN__8007b6c8(param_1,param_2,5);
  return;
}



void FUN_BATTLE_BIN__8007b96c(undefined2 *param_1,int param_2)

{
  Store_3_Halfwords(param_1,*(short *)(param_2 + 0x40) + *(short *)(param_2 + 0x60) +
                            *(short *)(param_2 + 0x50),
                    *(short *)(param_2 + 0x42) + *(short *)(param_2 + 0x62) +
                    *(short *)(param_2 + 0x52) + *(short *)(param_2 + 0x76),
                    *(short *)(param_2 + 0x44) + *(short *)(param_2 + 100) +
                    *(short *)(param_2 + 0x54));
  return;
}



void FUN_BATTLE_BIN__8007b9d0(int param_1)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  undefined1 *puVar4;
  short sVar5;
  short sVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  short local_20 [2];
  short local_1c;
  
  bVar1 = *(byte *)(param_1 + 0x7e);
  FUN_BATTLE_BIN__8007b96c(local_20,param_1);
  puVar4 = FUN_BATTLE_BIN__80183fb4
                     (((int)local_20[0] / 0x1c) * 0x10000 >> 0x10,
                      ((int)local_1c / 0x1c) * 0x10000 >> 0x10,(uint)bVar1);
  bVar1 = puVar4[3];
  bVar2 = puVar4[2];
  bVar3 = puVar4[4];
  *(short *)(param_1 + 0x29c) = local_20[0] + -10;
  *(short *)(param_1 + 0x2a0) = local_1c + 10;
  *(short *)(param_1 + 0x2a4) = local_20[0] + 10;
  *(short *)(param_1 + 0x2a8) = local_1c + 10;
  *(short *)(param_1 + 0x2ac) = local_20[0] + -10;
  *(short *)(param_1 + 0x2b0) = local_1c + -10;
  uVar10 = bVar1 & 0x1f;
  *(short *)(param_1 + 0x2b4) = local_20[0] + 10;
  sVar6 = ((ushort)bVar2 + (ushort)(bVar1 >> 5) & 0xff) * -0xc;
  *(short *)(param_1 + 0x2b6) = sVar6;
  *(short *)(param_1 + 0x2ae) = sVar6;
  *(short *)(param_1 + 0x2a6) = sVar6;
  *(short *)(param_1 + 0x29e) = sVar6;
  *(short *)(param_1 + 0x2b8) = local_1c + -10;
  if ((bVar1 & 0x1f) == 0) {
    return;
  }
  if (bVar3 == 0x52) {
    sVar6 = *(short *)(param_1 + 0x2b6) -
            (short)((int)((((int)local_20[0] % 0x1c) * 0x10000 >> 0x10) * 0xc * uVar10) / 0x1c);
    *(short *)(param_1 + 0x2ae) = sVar6;
    *(short *)(param_1 + 0x2b6) = sVar6;
    *(short *)(param_1 + 0x2a6) = sVar6;
    *(short *)(param_1 + 0x29e) = sVar6;
    sVar6 = *(short *)(param_1 + 0x2ae) + 6;
    sVar5 = *(short *)(param_1 + 0x2b6) + -6;
    *(short *)(param_1 + 0x2ae) = sVar6;
    *(short *)(param_1 + 0x29e) = sVar6;
    *(short *)(param_1 + 0x2b6) = sVar5;
    *(short *)(param_1 + 0x2a6) = sVar5;
    return;
  }
  sVar6 = (short)uVar10;
  if (bVar3 < 0x53) {
    if (bVar3 == 0x25) {
      sVar6 = *(short *)(param_1 + 0x2b6) -
              (sVar6 * 0xc -
              (short)((int)((((int)local_1c % 0x1c) * 0x10000 >> 0x10) * 0xc * uVar10) / 0x1c));
      *(short *)(param_1 + 0x2a6) = sVar6;
      *(short *)(param_1 + 0x2b6) = sVar6;
      *(short *)(param_1 + 0x2ae) = sVar6;
      *(short *)(param_1 + 0x29e) = sVar6;
      sVar6 = *(short *)(param_1 + 0x2a6) + 6;
      sVar5 = *(short *)(param_1 + 0x2b6) + -6;
      *(short *)(param_1 + 0x2a6) = sVar6;
      *(short *)(param_1 + 0x29e) = sVar6;
      *(short *)(param_1 + 0x2b6) = sVar5;
      *(short *)(param_1 + 0x2ae) = sVar5;
      return;
    }
    if (bVar3 < 0x26) {
      if (bVar3 != 0x11) {
        if (bVar3 != 0x14) {
          return;
        }
        iVar9 = ((int)local_20[0] % 0x1c) * 0x10000 >> 0x10;
        iVar7 = ((int)local_1c % 0x1c) * 0x10000 >> 0x10;
        if (0x1c - iVar7 <= 0x1c - iVar9) {
          iVar7 = iVar7 * 3;
          goto LAB_BATTLE_BIN__8007c384;
        }
        goto LAB_BATTLE_BIN__8007c380;
      }
      iVar8 = ((int)local_20[0] % 0x1c) * 0x10000 >> 0x10;
      iVar7 = ((int)local_1c % 0x1c) * 0x10000 >> 0x10;
      if (0x1c - iVar7 <= iVar8) {
        iVar7 = iVar7 * 3;
        goto LAB_BATTLE_BIN__8007c384;
      }
      iVar8 = iVar8 * 3;
    }
    else {
      if (bVar3 == 0x41) {
        iVar8 = ((int)local_20[0] % 0x1c) * 0x10000 >> 0x10;
        iVar7 = ((int)local_1c % 0x1c) * 0x10000 >> 0x10;
        if (iVar8 < iVar7) {
          iVar8 = iVar8 * 3;
          goto LAB_BATTLE_BIN__8007c3e4;
        }
LAB_BATTLE_BIN__8007c3dc:
        iVar8 = iVar7 << 1;
      }
      else {
        if (bVar3 != 0x44) {
          return;
        }
        iVar9 = ((int)local_20[0] % 0x1c) * 0x10000 >> 0x10;
        iVar7 = ((int)local_1c % 0x1c) * 0x10000 >> 0x10;
        iVar8 = iVar7 << 1;
        if (0x1c - iVar9 < iVar7) goto LAB_BATTLE_BIN__8007c380;
      }
LAB_BATTLE_BIN__8007c3e0:
      iVar8 = iVar8 + iVar7;
    }
    goto LAB_BATTLE_BIN__8007c3e4;
  }
  if (bVar3 == 0x69) {
    iVar9 = ((int)local_20[0] % 0x1c) * 0x10000 >> 0x10;
    iVar7 = ((int)local_1c % 0x1c) * 0x10000 >> 0x10;
    if (0x1c - iVar9 < 0x1c - iVar7) {
      iVar7 = iVar7 * 3;
      goto LAB_BATTLE_BIN__8007c384;
    }
LAB_BATTLE_BIN__8007c380:
    iVar7 = iVar9 * 3;
LAB_BATTLE_BIN__8007c384:
    sVar6 = *(short *)(param_1 + 0x2b6) - (sVar6 * 0xc - (short)((int)(iVar7 * 4 * uVar10) / 0x1c));
    *(short *)(param_1 + 0x2b6) = sVar6;
    *(short *)(param_1 + 0x2ae) = sVar6;
    *(short *)(param_1 + 0x2a6) = sVar6;
    *(short *)(param_1 + 0x29e) = sVar6;
    return;
  }
  if (bVar3 < 0x6a) {
    if (bVar3 == 0x58) {
      sVar6 = *(short *)(param_1 + 0x2b6) -
              (sVar6 * 0xc -
              (short)((int)((((int)local_20[0] % 0x1c) * 0x10000 >> 0x10) * 0xc * uVar10) / 0x1c));
      *(short *)(param_1 + 0x2b6) = sVar6;
      *(short *)(param_1 + 0x2ae) = sVar6;
      *(short *)(param_1 + 0x2a6) = sVar6;
      *(short *)(param_1 + 0x29e) = sVar6;
      sVar6 = *(short *)(param_1 + 0x2b6) + 6;
      sVar5 = *(short *)(param_1 + 0x2ae) + -6;
      *(short *)(param_1 + 0x2b6) = sVar6;
      *(short *)(param_1 + 0x2a6) = sVar6;
      *(short *)(param_1 + 0x2ae) = sVar5;
      goto LAB_BATTLE_BIN__8007c424;
    }
    if (bVar3 != 0x66) {
      return;
    }
    iVar8 = ((int)local_20[0] % 0x1c) * 0x10000 >> 0x10;
    iVar7 = ((int)local_1c % 0x1c) * 0x10000 >> 0x10;
    if (iVar8 < 0x1c - iVar7) {
      iVar7 = iVar7 * 3;
      goto LAB_BATTLE_BIN__8007c384;
    }
    iVar8 = iVar8 * 3;
LAB_BATTLE_BIN__8007c3e4:
    sVar5 = *(short *)(param_1 + 0x2b6) - (short)((int)(iVar8 * 4 * uVar10) / 0x1c);
    *(short *)(param_1 + 0x2b6) = sVar5;
    *(short *)(param_1 + 0x2ae) = sVar5;
  }
  else {
    if (bVar3 == 0x96) {
      iVar8 = ((int)local_20[0] % 0x1c) * 0x10000 >> 0x10;
      iVar7 = ((int)local_1c % 0x1c) * 0x10000 >> 0x10;
      if (iVar8 < iVar7) goto LAB_BATTLE_BIN__8007c3dc;
      iVar8 = iVar8 * 3;
      goto LAB_BATTLE_BIN__8007c3e4;
    }
    if (0x96 < bVar3) {
      if (bVar3 != 0x99) {
        return;
      }
      iVar9 = ((int)local_20[0] % 0x1c) * 0x10000 >> 0x10;
      iVar7 = ((int)local_1c % 0x1c) * 0x10000 >> 0x10;
      iVar8 = iVar7 << 1;
      if (0x1c - iVar9 < iVar7) goto LAB_BATTLE_BIN__8007c3e0;
      goto LAB_BATTLE_BIN__8007c380;
    }
    if (bVar3 != 0x85) {
      return;
    }
    sVar6 = *(short *)(param_1 + 0x2b6) -
            (short)((int)((((int)local_1c % 0x1c) * 0x10000 >> 0x10) * 0xc * uVar10) / 0x1c);
    *(short *)(param_1 + 0x2b6) = sVar6;
    *(short *)(param_1 + 0x2ae) = sVar6;
    *(short *)(param_1 + 0x2a6) = sVar6;
    *(short *)(param_1 + 0x29e) = sVar6;
    sVar6 = *(short *)(param_1 + 0x2b6) + 6;
    sVar5 = *(short *)(param_1 + 0x2a6) + -6;
    *(short *)(param_1 + 0x2b6) = sVar6;
    *(short *)(param_1 + 0x2ae) = sVar6;
  }
  *(short *)(param_1 + 0x2a6) = sVar5;
LAB_BATTLE_BIN__8007c424:
  *(short *)(param_1 + 0x29e) = sVar5;
  return;
}



undefined4 FUN_BATTLE_BIN__8007c444(short *param_1,uint param_2,short *param_3)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  undefined1 *puVar4;
  short sVar5;
  short sVar6;
  short sVar7;
  ushort uVar8;
  
  puVar4 = FUN_BATTLE_BIN__80183fb4
                     (((int)*param_1 / 0x1c) * 0x10000 >> 0x10,
                      ((int)param_1[2] / 0x1c) * 0x10000 >> 0x10,param_2 & 0xff);
  bVar1 = puVar4[2];
  bVar2 = puVar4[3];
  bVar3 = puVar4[4];
  *param_3 = *param_1 + -0xe;
  param_3[2] = param_1[2] + 0xe;
  param_3[4] = *param_1 + 0xe;
  param_3[6] = param_1[2] + 0xe;
  param_3[8] = *param_1 + -0xe;
  param_3[10] = param_1[2] + -0xe;
  param_3[0xc] = *param_1 + 0xe;
  sVar7 = ((ushort)bVar1 + (ushort)(bVar2 >> 5)) * -0xc;
  sVar5 = param_1[2];
  uVar8 = bVar2 & 0x1f;
  param_3[0xd] = sVar7;
  param_3[9] = sVar7;
  param_3[5] = sVar7;
  param_3[1] = sVar7;
  param_3[0xe] = sVar5 + -0xe;
  if ((bVar2 & 0x1f) == 0) {
    return 0;
  }
  sVar7 = uVar8 * 6;
  sVar5 = param_3[0xd] + uVar8 * -6;
  param_3[0xd] = sVar5;
  param_3[9] = sVar5;
  param_3[5] = sVar5;
  param_3[1] = sVar5;
  if (bVar3 == 0x52) {
    sVar5 = param_3[9];
    sVar6 = param_3[0xd] + uVar8 * -6;
    param_3[9] = sVar5 + sVar7;
    param_3[1] = sVar5 + sVar7;
    param_3[0xd] = sVar6;
    param_3[5] = sVar6;
    return 0;
  }
  if (bVar3 < 0x53) {
    if (bVar3 == 0x25) {
      sVar5 = param_3[5];
      sVar6 = param_3[0xd] + uVar8 * -6;
      param_3[5] = sVar5 + sVar7;
      param_3[1] = sVar5 + sVar7;
      param_3[0xd] = sVar6;
      param_3[9] = sVar6;
      return 0;
    }
    if (0x25 < bVar3) {
      if (bVar3 != 0x41) {
        if (bVar3 != 0x44) {
          return 0;
        }
        sVar5 = param_3[0xd] + sVar7;
        sVar7 = param_3[1] + uVar8 * -6;
LAB_BATTLE_BIN__8007c78c:
        param_3[0xd] = sVar5;
        param_3[9] = sVar5;
        param_3[5] = sVar5;
        param_3[1] = sVar7;
        return 2;
      }
      sVar5 = param_3[0xd] + sVar7;
      sVar7 = param_3[5] + uVar8 * -6;
LAB_BATTLE_BIN__8007c7b4:
      param_3[0xd] = sVar5;
      param_3[9] = sVar5;
      param_3[1] = sVar5;
      param_3[5] = sVar7;
      return 1;
    }
    if (bVar3 == 0x11) {
      sVar5 = param_3[9] + sVar7;
      sVar7 = param_3[0xd] + uVar8 * -6;
LAB_BATTLE_BIN__8007c7dc:
      param_3[9] = sVar5;
      param_3[5] = sVar5;
      param_3[1] = sVar5;
      param_3[0xd] = sVar7;
      return 2;
    }
    if (bVar3 != 0x14) {
      return 0;
    }
    sVar5 = param_3[0xd] + sVar7;
    sVar7 = param_3[9] + uVar8 * -6;
  }
  else {
    if (bVar3 == 0x69) {
      sVar5 = param_3[0xd] + uVar8 * -6;
      sVar7 = param_3[5] + sVar7;
      goto LAB_BATTLE_BIN__8007c7b4;
    }
    if (bVar3 < 0x6a) {
      if (bVar3 == 0x58) {
        sVar5 = param_3[0xd];
        sVar6 = param_3[9] + uVar8 * -6;
        param_3[0xd] = sVar5 + sVar7;
        param_3[5] = sVar5 + sVar7;
        param_3[9] = sVar6;
        param_3[1] = sVar6;
        return 0;
      }
      if (bVar3 != 0x66) {
        return 0;
      }
      sVar5 = param_3[0xd] + uVar8 * -6;
      sVar7 = param_3[1] + sVar7;
      goto LAB_BATTLE_BIN__8007c78c;
    }
    if (bVar3 != 0x96) {
      if (bVar3 < 0x97) {
        if (bVar3 != 0x85) {
          return 0;
        }
        sVar5 = param_3[0xd];
        sVar6 = param_3[5] + uVar8 * -6;
        param_3[0xd] = sVar5 + sVar7;
        param_3[9] = sVar5 + sVar7;
        param_3[5] = sVar6;
        param_3[1] = sVar6;
        return 0;
      }
      if (bVar3 != 0x99) {
        return 0;
      }
      sVar5 = param_3[9] + uVar8 * -6;
      sVar7 = param_3[0xd] + sVar7;
      goto LAB_BATTLE_BIN__8007c7dc;
    }
    sVar5 = param_3[0xd] + uVar8 * -6;
    sVar7 = param_3[9] + sVar7;
  }
  param_3[0xd] = sVar5;
  param_3[5] = sVar5;
  param_3[1] = sVar5;
  param_3[9] = sVar7;
  return 1;
}



int FUN_BATTLE_BIN__8007c80c(short *param_1,uint param_2)

{
  byte bVar1;
  short sVar2;
  undefined1 *puVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  
  puVar3 = FUN_BATTLE_BIN__80183fb4
                     (((int)*param_1 / 0x1c) * 0x10000 >> 0x10,
                      ((int)param_1[2] / 0x1c) * 0x10000 >> 0x10,param_2 & 0xff);
  uVar5 = (uint)(byte)puVar3[2];
  iVar6 = uVar5 * -0xc;
  uVar9 = (byte)puVar3[3] & 0x1f;
  if ((puVar3[3] & 0x1f) != 0) {
    bVar1 = puVar3[4];
    if (bVar1 == 0x52) {
      sVar2 = *param_1;
LAB_BATTLE_BIN__8007c998:
      iVar4 = ((int)sVar2 % 0x1c) * 0x10000 >> 0x10;
LAB_BATTLE_BIN__8007cfa0:
      iVar7 = iVar4 << 1;
LAB_BATTLE_BIN__8007cfa4:
      iVar7 = iVar7 + iVar4;
      goto LAB_BATTLE_BIN__8007cfa8;
    }
    if (bVar1 < 0x53) {
      if (bVar1 == 0x25) {
        iVar4 = (((int)param_1[2] % 0x1c) * 0x10000 >> 0x10) * 3;
      }
      else {
        if (0x25 < bVar1) {
          if (bVar1 != 0x41) {
            iVar4 = uVar5 * -0xc0000;
            if (bVar1 != 0x44) goto LAB_BATTLE_BIN__8007cfdc;
            iVar8 = ((int)*param_1 % 0x1c) * 0x10000 >> 0x10;
            iVar4 = ((int)param_1[2] % 0x1c) * 0x10000 >> 0x10;
            iVar7 = iVar4 << 1;
            if (0x1c - iVar8 < iVar4) goto LAB_BATTLE_BIN__8007cf58;
            goto LAB_BATTLE_BIN__8007cfa4;
          }
          iVar7 = ((int)*param_1 % 0x1c) * 0x10000 >> 0x10;
          iVar4 = ((int)param_1[2] % 0x1c) * 0x10000 >> 0x10;
          if (iVar4 <= iVar7) goto LAB_BATTLE_BIN__8007cfa0;
          iVar7 = iVar7 * 3;
LAB_BATTLE_BIN__8007cfa8:
          iVar6 = iVar6 - (int)(iVar7 * 4 * uVar9) / 0x1c;
          goto LAB_BATTLE_BIN__8007cfd8;
        }
        if (bVar1 == 0x11) {
          iVar7 = ((int)*param_1 % 0x1c) * 0x10000 >> 0x10;
          iVar4 = ((int)param_1[2] % 0x1c) * 0x10000 >> 0x10;
          if (iVar7 < 0x1c - iVar4) {
            iVar7 = iVar7 * 3;
            goto LAB_BATTLE_BIN__8007cfa8;
          }
          iVar4 = iVar4 * 3;
        }
        else {
          iVar4 = uVar5 * -0xc0000;
          if (bVar1 != 0x14) goto LAB_BATTLE_BIN__8007cfdc;
          iVar8 = ((int)*param_1 % 0x1c) * 0x10000 >> 0x10;
          iVar4 = ((int)param_1[2] % 0x1c) * 0x10000 >> 0x10;
          if (0x1c - iVar8 < 0x1c - iVar4) goto LAB_BATTLE_BIN__8007cf58;
          iVar4 = iVar4 * 3;
        }
      }
    }
    else if (bVar1 == 0x69) {
      iVar8 = ((int)*param_1 % 0x1c) * 0x10000 >> 0x10;
      iVar4 = ((int)param_1[2] % 0x1c) * 0x10000 >> 0x10;
      if (0x1c - iVar4 <= 0x1c - iVar8) goto LAB_BATTLE_BIN__8007cf58;
      iVar4 = iVar4 * 3;
    }
    else if (bVar1 < 0x6a) {
      if (bVar1 == 0x58) {
        iVar4 = (((int)*param_1 % 0x1c) * 0x10000 >> 0x10) * 3;
      }
      else {
        iVar4 = uVar5 * -0xc0000;
        if (bVar1 != 0x66) goto LAB_BATTLE_BIN__8007cfdc;
        iVar7 = ((int)*param_1 % 0x1c) * 0x10000 >> 0x10;
        iVar4 = ((int)param_1[2] % 0x1c) * 0x10000 >> 0x10;
        if (0x1c - iVar4 <= iVar7) {
          iVar7 = iVar7 * 3;
          goto LAB_BATTLE_BIN__8007cfa8;
        }
        iVar4 = iVar4 * 3;
      }
    }
    else {
      if (bVar1 == 0x96) {
        iVar7 = ((int)*param_1 % 0x1c) * 0x10000 >> 0x10;
        iVar4 = ((int)param_1[2] % 0x1c) * 0x10000 >> 0x10;
        if (iVar7 < iVar4) goto LAB_BATTLE_BIN__8007cfa0;
        iVar7 = iVar7 * 3;
        goto LAB_BATTLE_BIN__8007cfa8;
      }
      if (bVar1 < 0x97) {
        iVar4 = uVar5 * -0xc0000;
        if (bVar1 != 0x85) goto LAB_BATTLE_BIN__8007cfdc;
        sVar2 = param_1[2];
        goto LAB_BATTLE_BIN__8007c998;
      }
      iVar4 = uVar5 * -0xc0000;
      if (bVar1 != 0x99) goto LAB_BATTLE_BIN__8007cfdc;
      iVar8 = ((int)*param_1 % 0x1c) * 0x10000 >> 0x10;
      iVar4 = ((int)param_1[2] % 0x1c) * 0x10000 >> 0x10;
      iVar7 = iVar4 << 1;
      if (0x1c - iVar8 < iVar4) goto LAB_BATTLE_BIN__8007cfa4;
LAB_BATTLE_BIN__8007cf58:
      iVar4 = iVar8 * 3;
    }
    iVar6 = iVar6 - (uVar9 * 0xc - (int)(iVar4 * 4 * uVar9) / 0x1c);
  }
LAB_BATTLE_BIN__8007cfd8:
  iVar4 = iVar6 << 0x10;
LAB_BATTLE_BIN__8007cfdc:
  return iVar4 >> 0x10;
}



int FUN_BATTLE_BIN__8007cff8(int param_1,int param_2)

{
  uint uVar1;
  
  if (*(int *)(param_1 + 0x134) == 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = FUN_BATTLE_BIN__8017f020(*(int *)(param_1 + 0x134));
  }
  if ((*(byte *)(param_2 + 3) & 0xe0) != 0) {
    if (((uVar1 & 0x40) != 0) || ((uVar1 & 0x20) != 0)) {
      return (uint)(*(byte *)(param_2 + 3) >> 5) << 1;
    }
    if ((uVar1 & 0x10) != 0) {
      return ((*(byte *)(param_2 + 3) >> 5) - 1) * 2;
    }
  }
  return 0;
}



int * FUN_BATTLE_BIN__8007d0a0(int *param_1)

{
  if (*(char *)(param_1 + 0x4c) == '\x01') {
    param_1 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)param_1 + 0x131));
  }
  return param_1;
}



int FUN_BATTLE_BIN__8007d0d4(int param_1,short *param_2)

{
  ushort uVar1;
  int iVar2;
  undefined1 *puVar3;
  uint uVar4;
  uint uVar5;
  short sVar6;
  undefined4 uStack_18;
  byte local_12;
  
  if ((*(byte *)(param_1 + 0x11e) == 0) ||
     (FUN_BATTLE_BIN__8017c158(&uStack_18,*(byte *)(param_1 + 0x11e) - 1),
     (uStack_18._3_1_ & 0x80) != 0)) {
    iVar2 = FUN_BATTLE_BIN__8007c80c(param_2,(uint)*(byte *)(param_2 + 1));
    sVar6 = (short)iVar2;
  }
  else {
    sVar6 = (short)((int)-(uint)local_12 / 2) * 0xc;
  }
  if (*(int *)(param_1 + 0x134) != 0) {
    puVar3 = FUN_BATTLE_BIN__80183fb4
                       (((int)*param_2 / 0x1c) * 0x10000 >> 0x10,
                        ((int)param_2[2] / 0x1c) * 0x10000 >> 0x10,(int)param_2[1]);
    if ((puVar3[3] & 0xe0) != 0) {
      uVar4 = FUN_BATTLE_BIN__8017f020(*(int *)(param_1 + 0x134));
      uVar5 = (uint)*(byte *)(param_1 + 6);
      if (((uVar4 & 0x40) == 0) && ((uVar4 & 0x20) == 0)) {
        if (uVar5 - 0x9c < 2) {
          sVar6 = (sVar6 + 4) - ((ushort)((byte)puVar3[3] >> 5) * 0xc + *(short *)(param_1 + 0x74));
          goto LAB_BATTLE_BIN__8007d2b8;
        }
        if (((uVar4 & 0x10) == 0) && (*(ushort *)(param_1 + 0x1dc) >> 1 != 0x1a)) {
          if ((uVar5 != 0x9e) && (uVar5 != 0x9b)) goto LAB_BATTLE_BIN__8007d2a8;
          goto LAB_BATTLE_BIN__8007d280;
        }
        uVar1 = ((byte)puVar3[3] >> 5) - 1;
      }
      else {
LAB_BATTLE_BIN__8007d280:
        uVar1 = (ushort)((byte)puVar3[3] >> 5);
      }
      sVar6 = sVar6 - (uVar1 * 0xc + *(short *)(param_1 + 0x74));
      goto LAB_BATTLE_BIN__8007d2b8;
    }
  }
LAB_BATTLE_BIN__8007d2a8:
  sVar6 = sVar6 - *(short *)(param_1 + 0x74);
LAB_BATTLE_BIN__8007d2b8:
  return (int)sVar6;
}



int FUN_BATTLE_BIN__8007d350(int *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  short local_18;
  ushort local_16;
  short local_14;
  
  piVar1 = FUN_BATTLE_BIN__8007d0a0(param_1);
  local_18 = (ushort)*(byte *)(piVar1 + 0x20) * 0x1c + 0xe;
  local_14 = (ushort)*(byte *)((int)piVar1 + 0x81) * 0x1c + 0xe;
  local_16 = (ushort)*(byte *)((int)piVar1 + 0x82);
  iVar2 = FUN_BATTLE_BIN__8007d0d4((int)piVar1,&local_18);
  iVar3 = iVar2 << 0x10;
  if (*(char *)(param_1 + 0x4c) == '\x01') {
    iVar3 = ((uint)*(ushort *)((int)piVar1 + 0x76) + iVar2 + -10) * 0x10000;
  }
  return iVar3 >> 0x10;
}



int FUN_BATTLE_BIN__8007d3f4(int *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  short local_18;
  ushort local_16;
  undefined2 local_14;
  
  piVar1 = FUN_BATTLE_BIN__8007d0a0(param_1);
  local_18 = *(short *)(piVar1 + 0x10);
  local_14 = *(undefined2 *)(piVar1 + 0x11);
  local_16 = (ushort)*(byte *)((int)piVar1 + 0x7e);
  iVar2 = FUN_BATTLE_BIN__8007d0d4((int)piVar1,&local_18);
  iVar3 = iVar2 << 0x10;
  if (*(char *)(param_1 + 0x4c) == '\x01') {
    iVar3 = ((uint)*(ushort *)((int)piVar1 + 0x76) + iVar2 + -10) * 0x10000;
  }
  return iVar3 >> 0x10;
}



int FUN_BATTLE_BIN__8007d51c(int *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  short local_18;
  ushort local_16;
  short local_14;
  
  piVar1 = FUN_BATTLE_BIN__8007d0a0(param_1);
  local_18 = (ushort)*(byte *)(piVar1[0x4d] + 0x47) * 0x1c + 0xe;
  local_14 = (ushort)*(byte *)(piVar1[0x4d] + 0x48) * 0x1c + 0xe;
  local_16 = (ushort)*(byte *)((int)piVar1 + 0x7e);
  iVar2 = FUN_BATTLE_BIN__8007d0d4((int)piVar1,&local_18);
  iVar3 = iVar2 << 0x10;
  if (*(char *)(param_1 + 0x4c) == '\x01') {
    iVar3 = ((uint)*(ushort *)((int)piVar1 + 0x76) + iVar2 + -10) * 0x10000;
  }
  return iVar3 >> 0x10;
}



void FUN_BATTLE_BIN__8007d5d0(int param_1,uint *param_2)

{
  short sVar1;
  byte bVar2;
  int iVar3;
  undefined1 *puVar4;
  byte *pbVar5;
  byte bVar6;
  void *p;
  undefined2 local_48;
  undefined2 local_44;
  int local_40;
  short local_38;
  short local_36;
  short local_34;
  SVECTOR aSStack_30 [2];
  long alStack_20 [2];
  
  bVar2 = *(byte *)(param_1 + 0x299) | 1;
  *(byte *)(param_1 + 0x299) = bVar2;
  if (bVar2 != 0) {
    FUN_BATTLE_BIN__8007b9d0(param_1);
    *(byte *)(param_1 + 0x299) = *(byte *)(param_1 + 0x299) ^ 1;
  }
  SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  iVar3 = FUN_BATTLE_BIN__8007af08();
  p = (void *)((short)iVar3 * 0x28 + DAT_BATTLE_BIN__800e4e70);
  *(undefined *)((int)p + 3) = 9;
                    // Probable PsyQ macro: setPolyFT4()
  *(undefined *)((int)p + 7) = 0x2c;
  RotTrans((SVECTOR *)(param_1 + 0x29c),(VECTOR *)&local_48,alStack_20);
  *(undefined2 *)((int)p + 8) = local_48;
  *(undefined2 *)((int)p + 10) = local_44;
  RotTrans((SVECTOR *)(param_1 + 0x2a4),(VECTOR *)&local_48,alStack_20);
  *(undefined2 *)((int)p + 0x10) = local_48;
  *(undefined2 *)((int)p + 0x12) = local_44;
  RotTrans((SVECTOR *)(param_1 + 0x2ac),(VECTOR *)&local_48,alStack_20);
  *(undefined2 *)((int)p + 0x18) = local_48;
  *(undefined2 *)((int)p + 0x1a) = local_44;
  RotTrans((SVECTOR *)(param_1 + 0x2b4),(VECTOR *)&local_48,alStack_20);
  *(undefined2 *)((int)p + 0x20) = local_48;
  *(byte *)((int)p + 7) = *(byte *)((int)p + 7) | 2;
  *(undefined2 *)((int)p + 0x22) = local_44;
  puVar4 = FUN_BATTLE_BIN__80183fb4
                     (((int)*(short *)(param_1 + 0x40) / 0x1c) * 0x10000 >> 0x10,
                      ((int)*(short *)(param_1 + 0x44) / 0x1c) * 0x10000 >> 0x10,
                      (uint)*(byte *)(param_1 + 0x7e));
  if (((puVar4[3] & 0xe0) == 0) ||
     ((int)*(short *)(param_1 + 0x42) <=
      (int)(((uint)(byte)puVar4[2] + (uint)((byte)puVar4[3] >> 5)) * -0xc))) {
    *(undefined2 *)((int)p + 0x16) = 0x5f;
    sVar1 = *(short *)(param_1 + 0x10);
    *(undefined *)((int)p + 6) = 0x80;
    *(undefined *)((int)p + 5) = 0x80;
    *(undefined *)((int)p + 4) = 0x80;
    *(undefined *)((int)p + 0x1c) = 0x90;
    *(undefined *)((int)p + 0xc) = 0x90;
    *(undefined *)((int)p + 0x24) = 0xa3;
    *(undefined *)((int)p + 0x14) = 0xa3;
                    // Possible PsyQ macro: setLineF2()
    *(undefined *)((int)p + 0x15) = 0x40;
                    // Possible PsyQ macro: setLineF2()
    *(undefined *)((int)p + 0xd) = 0x40;
    *(undefined *)((int)p + 0x25) = 0x53;
    *(undefined *)((int)p + 0x1d) = 0x53;
    *(short *)((int)p + 0xe) = sVar1 + 0x40;
  }
  else {
    *(char *)(param_1 + 0x29a) = *(char *)(param_1 + 0x29a) + (char)DAT_80045980;
    bVar2 = *(byte *)(param_1 + 0x29a);
    *(undefined2 *)((int)p + 0x16) = 0x3f;
    sVar1 = *(short *)(param_1 + 0x10);
    *(undefined *)((int)p + 6) = 0x80;
    *(undefined *)((int)p + 5) = 0x80;
    *(undefined *)((int)p + 4) = 0x80;
    bVar6 = bVar2 & 0x30;
    *(short *)((int)p + 0xe) = sVar1 + 0x40;
    if (bVar6 == 0x10) {
      *(undefined *)((int)p + 0x24) = 0xa8;
      *(undefined *)((int)p + 0x1c) = 0xa8;
      *(undefined *)((int)p + 0x14) = 0xbb;
      *(undefined *)((int)p + 0xc) = 0xbb;
                    // Possible PsyQ macro: setLineF2()
      *(undefined *)((int)p + 0x1d) = 0x40;
                    // Possible PsyQ macro: setLineF2()
      *(undefined *)((int)p + 0xd) = 0x40;
      *(undefined *)((int)p + 0x25) = 0x53;
      *(undefined *)((int)p + 0x15) = 0x53;
    }
    else if (bVar6 < 0x11) {
      if ((bVar2 & 0x30) == 0) {
        *(undefined *)((int)p + 0x1c) = 0xa8;
        *(undefined *)((int)p + 0xc) = 0xa8;
        *(undefined *)((int)p + 0x24) = 0xbb;
        *(undefined *)((int)p + 0x14) = 0xbb;
                    // Possible PsyQ macro: setLineF2()
        *(undefined *)((int)p + 0x15) = 0x40;
                    // Possible PsyQ macro: setLineF2()
        *(undefined *)((int)p + 0xd) = 0x40;
        *(undefined *)((int)p + 0x25) = 0x53;
        *(undefined *)((int)p + 0x1d) = 0x53;
      }
    }
    else if (bVar6 == 0x20) {
      *(undefined *)((int)p + 0x24) = 0xa8;
      *(undefined *)((int)p + 0x14) = 0xa8;
      *(undefined *)((int)p + 0x1c) = 0xbb;
      *(undefined *)((int)p + 0xc) = 0xbb;
                    // Possible PsyQ macro: setLineF2()
      *(undefined *)((int)p + 0x25) = 0x40;
                    // Possible PsyQ macro: setLineF2()
      *(undefined *)((int)p + 0x1d) = 0x40;
      *(undefined *)((int)p + 0x15) = 0x53;
      *(undefined *)((int)p + 0xd) = 0x53;
    }
    else if (bVar6 == 0x30) {
      *(undefined *)((int)p + 0x14) = 0xa8;
      *(undefined *)((int)p + 0xc) = 0xa8;
      *(undefined *)((int)p + 0x24) = 0xbb;
      *(undefined *)((int)p + 0x1c) = 0xbb;
                    // Possible PsyQ macro: setLineF2()
      *(undefined *)((int)p + 0x25) = 0x40;
                    // Possible PsyQ macro: setLineF2()
      *(undefined *)((int)p + 0x15) = 0x40;
      *(undefined *)((int)p + 0x1d) = 0x53;
      *(undefined *)((int)p + 0xd) = 0x53;
    }
  }
  Store_3_Halfwords(&local_38,
                    *(short *)(param_1 + 0x40) + *(short *)(param_1 + 0x60) +
                    *(short *)(param_1 + 0x50),0,
                    *(short *)(param_1 + 0x44) + *(short *)(param_1 + 100) +
                    *(short *)(param_1 + 0x54));
  iVar3 = FUN_BATTLE_BIN__8007c80c(&local_38,(uint)*(byte *)(param_1 + 0x7e));
  local_36 = (short)iVar3;
  if (*(short *)(param_1 + 0x42) < local_36) {
    pbVar5 = FUN_BATTLE_BIN__80183fb4
                       (((int)local_38 / 0x1c) * 0x10000 >> 0x10,
                        ((int)local_34 / 0x1c) * 0x10000 >> 0x10,(uint)*(byte *)(param_1 + 0x7e));
    local_36 = local_36 + (ushort)(pbVar5[3] >> 5) * -0xc;
    if (*(char *)(param_1 + 0x7f) == '\0') {
      if ((*pbVar5 & 0x40) == 0) {
        FUN_BATTLE_BIN__8007b92c(&local_38,&aSStack_30[0].vx);
      }
      else {
        FUN_BATTLE_BIN__8007b94c(&local_38,&aSStack_30[0].vx);
      }
    }
    else if ((*pbVar5 & 0x40) == 0) {
      FUN_BATTLE_BIN__8007b688(&local_38,&aSStack_30[0].vx);
    }
    else {
      FUN_BATTLE_BIN__8007b6a8(&local_38,&aSStack_30[0].vx);
    }
    SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
    SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
    RotTrans(aSStack_30,(VECTOR *)&local_48,alStack_20);
    if (local_40 < 0) {
      local_40 = local_40 + 3;
    }
    iVar3 = Get_OTAG_List();
    param_2 = (uint *)(iVar3 + (local_40 >> 2) * 4);
  }
  AddPrim(param_2,p);
  return;
}



void FUN_BATTLE_BIN__8007db1c
               (int param_1,int param_2,SVECTOR *param_3,SVECTOR *param_4,SVECTOR *param_5,
               SVECTOR *param_6,uint *param_7)

{
  u_short uVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  undefined4 *p;
  undefined4 *puVar11;
  undefined2 local_60;
  undefined2 local_5c;
  long alStack_30 [2];
  
  SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  if (param_2 == 1) {
    iVar2 = FUN_BATTLE_BIN__8007af08();
    puVar10 = (undefined4 *)((short)iVar2 * 0x28 + DAT_BATTLE_BIN__800e4e70);
    iVar2 = FUN_BATTLE_BIN__8007af08();
    puVar11 = (undefined4 *)((short)iVar2 * 0x28 + DAT_BATTLE_BIN__800e4e70);
    iVar2 = FUN_BATTLE_BIN__8007af08();
    puVar9 = (undefined4 *)((short)iVar2 * 0x28 + DAT_BATTLE_BIN__800e4e70);
    iVar3 = FUN_BATTLE_BIN__8007af08();
    iVar2 = DAT_BATTLE_BIN__800e4e70;
    *(undefined *)((int)puVar10 + 3) = 7;
                    // Probable PsyQ macro: setPolyFT3()
    *(undefined *)((int)puVar10 + 7) = 0x24;
                    // Probable PsyQ macro: setPolyFT3()
    *(undefined *)((int)puVar11 + 7) = 0x24;
    *(undefined *)((int)puVar11 + 3) = 7;
    p = (undefined4 *)((short)iVar3 * 0x28 + iVar2);
    RotTrans(param_3,(VECTOR *)&local_60,alStack_30);
    *(undefined2 *)(puVar10 + 2) = local_60;
    *(undefined2 *)((int)puVar10 + 10) = local_5c;
    RotTrans(param_4,(VECTOR *)&local_60,alStack_30);
    *(undefined2 *)(puVar11 + 2) = local_60;
    *(undefined2 *)(puVar10 + 4) = local_60;
    *(undefined2 *)((int)puVar11 + 10) = local_5c;
    *(undefined2 *)((int)puVar10 + 0x12) = local_5c;
    RotTrans(param_5,(VECTOR *)&local_60,alStack_30);
    *(undefined2 *)(puVar11 + 6) = local_60;
    *(undefined2 *)(puVar10 + 6) = local_60;
    *(undefined2 *)((int)puVar11 + 0x1a) = local_5c;
    *(undefined2 *)((int)puVar10 + 0x1a) = local_5c;
    RotTrans(param_6,(VECTOR *)&local_60,alStack_30);
    *(undefined2 *)(puVar11 + 4) = local_60;
    *(undefined2 *)((int)puVar11 + 0x12) = local_5c;
    *(byte *)((int)puVar10 + 7) = *(byte *)((int)puVar10 + 7) | 2;
    *(undefined2 *)((int)puVar11 + 0x16) = 0x3f;
    *(byte *)((int)puVar11 + 7) = *(byte *)((int)puVar11 + 7) | 2;
    *(undefined2 *)((int)puVar10 + 0x16) = 0x3f;
    uVar1 = GetClut(param_1 * 0x10 + 0x10,0x1e2);
    *(u_short *)((int)puVar11 + 0xe) = uVar1;
    *(u_short *)((int)puVar10 + 0xe) = uVar1;
    *(undefined *)((int)puVar11 + 6) = 0x80;
    *(undefined *)((int)puVar11 + 5) = 0x80;
    *(undefined *)(puVar11 + 1) = 0x80;
    *(undefined *)((int)puVar10 + 6) = 0x80;
    *(undefined *)((int)puVar10 + 5) = 0x80;
    *(undefined *)(puVar10 + 1) = 0x80;
    *(undefined *)(puVar11 + 7) = 0;
    *(undefined *)(puVar10 + 7) = 0;
    *(undefined *)(puVar10 + 3) = 0;
    *(undefined *)(puVar11 + 5) = 0xd;
    *(undefined *)(puVar11 + 3) = 0xd;
  }
  else {
    if (param_2 < 2) {
      if (param_2 != 0) {
        return;
      }
      iVar2 = FUN_BATTLE_BIN__8007af08();
      puVar9 = (undefined4 *)((short)iVar2 * 0x28 + DAT_BATTLE_BIN__800e4e70);
      iVar3 = FUN_BATTLE_BIN__8007af08();
      iVar2 = DAT_BATTLE_BIN__800e4e70;
      *(undefined *)((int)puVar9 + 3) = 9;
                    // Probable PsyQ macro: setPolyFT4()
      *(undefined *)((int)puVar9 + 7) = 0x2c;
      p = (undefined4 *)((short)iVar3 * 0x28 + iVar2);
      RotTrans(param_3,(VECTOR *)&local_60,alStack_30);
      *(undefined2 *)(puVar9 + 2) = local_60;
      *(undefined2 *)((int)puVar9 + 10) = local_5c;
      RotTrans(param_4,(VECTOR *)&local_60,alStack_30);
      *(undefined2 *)(puVar9 + 4) = local_60;
      *(undefined2 *)((int)puVar9 + 0x12) = local_5c;
      RotTrans(param_5,(VECTOR *)&local_60,alStack_30);
      *(undefined2 *)(puVar9 + 6) = local_60;
      *(undefined2 *)((int)puVar9 + 0x1a) = local_5c;
      RotTrans(param_6,(VECTOR *)&local_60,alStack_30);
      *(undefined2 *)(puVar9 + 8) = local_60;
      *(byte *)((int)puVar9 + 7) = *(byte *)((int)puVar9 + 7) | 2;
      *(undefined2 *)((int)puVar9 + 0x16) = 0x3f;
      *(undefined2 *)((int)puVar9 + 0x22) = local_5c;
      uVar1 = GetClut(param_1 * 0x10 + 0x10,0x1e2);
      *(u_short *)((int)puVar9 + 0xe) = uVar1;
      *(undefined *)((int)puVar9 + 6) = 0x80;
      *(undefined *)((int)puVar9 + 5) = 0x80;
      *(undefined *)(puVar9 + 1) = 0x80;
      *(undefined *)(puVar9 + 9) = 0xd;
      *(undefined *)(puVar9 + 5) = 0xd;
      *(undefined *)((int)puVar9 + 0x15) = 0xa0;
      *(undefined *)((int)puVar9 + 0xd) = 0xa0;
      *(undefined *)(puVar9 + 7) = 0;
      *(undefined *)(puVar9 + 3) = 0;
      *(undefined *)((int)puVar9 + 0x25) = 0xad;
      *(undefined *)((int)puVar9 + 0x1d) = 0xad;
      puVar10 = puVar9;
      puVar11 = p;
      do {
        puVar8 = puVar11;
        puVar7 = puVar10;
        uVar4 = puVar7[1];
        uVar5 = puVar7[2];
        uVar6 = puVar7[3];
        *puVar8 = *puVar7;
        puVar8[1] = uVar4;
        puVar8[2] = uVar5;
        puVar8[3] = uVar6;
        puVar10 = puVar7 + 4;
        puVar11 = puVar8 + 4;
      } while (puVar10 != puVar9 + 8);
      uVar4 = puVar7[5];
      puVar8[4] = *puVar10;
      puVar8[5] = uVar4;
      *(undefined2 *)((int)p + 0x16) = 0x1f;
      uVar1 = GetClut(0x50,0x1e2);
      *(u_short *)((int)p + 0xe) = uVar1;
      *(undefined *)(p + 7) = 0xc;
      *(undefined *)(p + 3) = 0xc;
      *(undefined *)(p + 9) = 0xc;
      *(undefined *)(p + 5) = 0xc;
      *(undefined *)((int)p + 0x15) = 0xa0;
      *(undefined *)((int)p + 0xd) = 0xa0;
      *(undefined *)((int)p + 0x25) = 0xa0;
      *(undefined *)((int)p + 0x1d) = 0xa0;
      iVar2 = FUN_8001d5a8(*(short *)((int)puVar9 + 10) * 0x10000 + (int)*(short *)(puVar9 + 2),
                           *(short *)((int)puVar9 + 0x12) * 0x10000 + (int)*(short *)(puVar9 + 4),
                           *(short *)((int)puVar9 + 0x1a) * 0x10000 + (int)*(short *)(puVar9 + 6));
      if (iVar2 < 0) {
        return;
      }
      AddPrim(param_7,puVar9);
      goto LAB_BATTLE_BIN__8007e2c8;
    }
    if (param_2 != 2) {
      return;
    }
    iVar2 = FUN_BATTLE_BIN__8007af08();
    puVar10 = (undefined4 *)((short)iVar2 * 0x28 + DAT_BATTLE_BIN__800e4e70);
    iVar2 = FUN_BATTLE_BIN__8007af08();
    puVar11 = (undefined4 *)((short)iVar2 * 0x28 + DAT_BATTLE_BIN__800e4e70);
    iVar2 = FUN_BATTLE_BIN__8007af08();
    puVar9 = (undefined4 *)((short)iVar2 * 0x28 + DAT_BATTLE_BIN__800e4e70);
    iVar3 = FUN_BATTLE_BIN__8007af08();
    iVar2 = DAT_BATTLE_BIN__800e4e70;
    *(undefined *)((int)puVar10 + 3) = 7;
                    // Probable PsyQ macro: setPolyFT3()
    *(undefined *)((int)puVar10 + 7) = 0x24;
                    // Probable PsyQ macro: setPolyFT3()
    *(undefined *)((int)puVar11 + 7) = 0x24;
    *(undefined *)((int)puVar11 + 3) = 7;
    p = (undefined4 *)((short)iVar3 * 0x28 + iVar2);
    RotTrans(param_3,(VECTOR *)&local_60,alStack_30);
    *(undefined2 *)(puVar11 + 2) = local_60;
    *(undefined2 *)(puVar10 + 2) = local_60;
    *(undefined2 *)((int)puVar11 + 10) = local_5c;
    *(undefined2 *)((int)puVar10 + 10) = local_5c;
    RotTrans(param_4,(VECTOR *)&local_60,alStack_30);
    *(undefined2 *)(puVar10 + 4) = local_60;
    *(undefined2 *)((int)puVar10 + 0x12) = local_5c;
    RotTrans(param_5,(VECTOR *)&local_60,alStack_30);
    *(undefined2 *)(puVar11 + 6) = local_60;
    *(undefined2 *)((int)puVar11 + 0x1a) = local_5c;
    RotTrans(param_6,(VECTOR *)&local_60,alStack_30);
    *(undefined2 *)(puVar11 + 4) = local_60;
    *(undefined2 *)(puVar10 + 6) = local_60;
    *(undefined2 *)((int)puVar11 + 0x12) = local_5c;
    *(undefined2 *)((int)puVar10 + 0x1a) = local_5c;
    *(byte *)((int)puVar10 + 7) = *(byte *)((int)puVar10 + 7) | 2;
    *(undefined2 *)((int)puVar11 + 0x16) = 0x3f;
    *(byte *)((int)puVar11 + 7) = *(byte *)((int)puVar11 + 7) | 2;
    *(undefined2 *)((int)puVar10 + 0x16) = 0x3f;
    uVar1 = GetClut(param_1 * 0x10 + 0x10,0x1e2);
    *(u_short *)((int)puVar11 + 0xe) = uVar1;
    *(u_short *)((int)puVar10 + 0xe) = uVar1;
    *(undefined *)((int)puVar11 + 6) = 0x80;
    *(undefined *)((int)puVar11 + 5) = 0x80;
    *(undefined *)(puVar11 + 1) = 0x80;
    *(undefined *)((int)puVar10 + 6) = 0x80;
    *(undefined *)((int)puVar10 + 5) = 0x80;
    *(undefined *)(puVar10 + 1) = 0x80;
    *(undefined *)(puVar11 + 7) = 0;
    *(undefined *)(puVar11 + 3) = 0;
    *(undefined *)(puVar10 + 3) = 0;
    *(undefined *)(puVar11 + 5) = 0xd;
    *(undefined *)(puVar10 + 7) = 0xd;
  }
  *(undefined *)(puVar10 + 5) = 0xd;
  *(undefined *)((int)puVar11 + 0xd) = 0xa0;
  *(undefined *)((int)puVar10 + 0x15) = 0xa0;
  *(undefined *)((int)puVar10 + 0xd) = 0xa0;
  *(undefined *)((int)puVar11 + 0x1d) = 0xad;
  *(undefined *)((int)puVar11 + 0x15) = 0xad;
  *(undefined *)((int)puVar10 + 0x1d) = 0xad;
  uVar4 = puVar10[1];
  uVar5 = puVar10[2];
  uVar6 = puVar10[3];
  *puVar9 = *puVar10;
  puVar9[1] = uVar4;
  puVar9[2] = uVar5;
  puVar9[3] = uVar6;
  uVar4 = puVar10[5];
  uVar5 = puVar10[6];
  uVar6 = puVar10[7];
  puVar9[4] = puVar10[4];
  puVar9[5] = uVar4;
  puVar9[6] = uVar5;
  puVar9[7] = uVar6;
  uVar4 = puVar11[1];
  uVar5 = puVar11[2];
  uVar6 = puVar11[3];
  *p = *puVar11;
  p[1] = uVar4;
  p[2] = uVar5;
  p[3] = uVar6;
  uVar4 = puVar11[5];
  uVar5 = puVar11[6];
  uVar6 = puVar11[7];
  p[4] = puVar11[4];
  p[5] = uVar4;
  p[6] = uVar5;
  p[7] = uVar6;
  *(undefined2 *)((int)p + 0x16) = 0x1f;
  *(undefined2 *)((int)puVar9 + 0x16) = 0x1f;
  uVar1 = GetClut(0x50,0x1e2);
  *(u_short *)((int)p + 0xe) = uVar1;
  *(u_short *)((int)puVar9 + 0xe) = uVar1;
  *(undefined *)(p + 7) = 0xc;
  *(undefined *)(puVar9 + 7) = 0xc;
  *(undefined *)(puVar9 + 3) = 0xc;
  *(undefined *)(p + 5) = 0xc;
  *(undefined *)(p + 3) = 0xc;
  *(undefined *)(puVar9 + 5) = 0xc;
  *(undefined *)((int)p + 0xd) = 0xa0;
  *(undefined *)((int)puVar9 + 0x15) = 0xa0;
  *(undefined *)((int)puVar9 + 0xd) = 0xa0;
  *(undefined *)((int)p + 0x1d) = 0xa0;
  *(undefined *)((int)p + 0x15) = 0xa0;
  *(undefined *)((int)puVar9 + 0x1d) = 0xa0;
  iVar2 = FUN_8001d5a8(*(short *)((int)puVar10 + 10) * 0x10000 + (int)*(short *)(puVar10 + 2),
                       *(short *)((int)puVar10 + 0x12) * 0x10000 + (int)*(short *)(puVar10 + 4),
                       *(short *)((int)puVar10 + 0x1a) * 0x10000 + (int)*(short *)(puVar10 + 6));
  if (-1 < iVar2) {
    AddPrim(param_7,puVar10);
    AddPrim(param_7,puVar9);
  }
  iVar2 = FUN_8001d5a8(*(short *)((int)puVar11 + 10) * 0x10000 + (int)*(short *)(puVar11 + 2),
                       *(short *)((int)puVar11 + 0x12) * 0x10000 + (int)*(short *)(puVar11 + 4),
                       *(short *)((int)puVar11 + 0x1a) * 0x10000 + (int)*(short *)(puVar11 + 6));
  if (iVar2 < 0) {
    return;
  }
  AddPrim(param_7,puVar11);
LAB_BATTLE_BIN__8007e2c8:
  AddPrim(param_7,p);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8007e304(SVECTOR *param_1,int param_2)

{
  u_short uVar1;
  int iVar2;
  int *piVar3;
  short sVar4;
  void *p;
  short local_78;
  short local_74;
  int local_70;
  SVECTOR SStack_68;
  undefined4 local_60 [4];
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  int local_40 [4];
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  long alStack_20 [2];
  
  local_60[0] = DAT_BATTLE_BIN__80067798;
  local_60[1] = DAT_BATTLE_BIN__8006779c;
  local_60[2] = DAT_BATTLE_BIN__800677a0;
  local_60[3] = DAT_BATTLE_BIN__800677a4;
  local_50 = DAT_BATTLE_BIN__800677a8;
  local_4c = DAT_BATTLE_BIN__800677ac;
  local_48 = DAT_BATTLE_BIN__800677b0;
  local_44 = DAT_BATTLE_BIN__800677b4;
  local_40[0] = DAT_BATTLE_BIN__800677b8;
  local_40[1] = DAT_BATTLE_BIN__800677bc;
  local_40[2] = DAT_BATTLE_BIN__800677c0;
  local_40[3] = DAT_BATTLE_BIN__800677c4;
  local_30 = DAT_BATTLE_BIN__800677c8;
  local_2c = DAT_BATTLE_BIN__800677cc;
  local_28 = DAT_BATTLE_BIN__800677d0;
  local_24 = DAT_BATTLE_BIN__800677d4;
  iVar2 = FUN_BATTLE_BIN__8007af08();
  p = (void *)((short)iVar2 * 0x28 + DAT_BATTLE_BIN__800e4e70);
  *(undefined *)((int)p + 3) = 9;
                    // Probable PsyQ macro: setPolyFT4()
  *(undefined *)((int)p + 7) = 0x2c;
  if (DAT_BATTLE_BIN__800960f0 != 1) {
    DAT_BATTLE_BIN__800961f4 = DAT_BATTLE_BIN__800961f4 + DAT_80045980;
    iVar2 = DAT_BATTLE_BIN__800961f8 + 1;
    if ((local_40[DAT_BATTLE_BIN__800961f8] <= DAT_BATTLE_BIN__800961f4) &&
       (DAT_BATTLE_BIN__800961f4 = 0, DAT_BATTLE_BIN__800961f8 = iVar2, 7 < iVar2)) {
      DAT_BATTLE_BIN__800961f8 = 0;
    }
  }
  piVar3 = FUN_BATTLE_BIN__8007a2b8
                     (DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,DAT_BATTLE_BIN__800961b8);
  sVar4 = 0x3c;
  if (piVar3 != (int *)0x0) {
    iVar2 = (uint)(byte)(&DAT_BATTLE_BIN__8009474b)[(uint)*(byte *)((int)piVar3 + 6) * 4] *
            _DAT_BATTLE_BIN__800c7ca4;
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0xfff;
    }
    sVar4 = (short)(iVar2 >> 0xc) + 0x18;
  }
  param_1->vy = param_1->vy - (sVar4 - *(short *)(local_60 + DAT_BATTLE_BIN__800961f8));
  RotTrans(param_1,(VECTOR *)&local_78,alStack_20);
  iVar2 = _DAT_BATTLE_BIN__800c7ca0;
  if (_DAT_BATTLE_BIN__800c7ca0 < 0) {
    iVar2 = _DAT_BATTLE_BIN__800c7ca0 + 0x1ff;
  }
  *(short *)((int)p + 8) = local_78 - (short)(iVar2 >> 9);
  iVar2 = _DAT_BATTLE_BIN__800c7ca4 * 0xc;
  if (iVar2 < 0) {
    iVar2 = iVar2 + 0xfff;
  }
  *(short *)((int)p + 10) = local_74 - (short)(iVar2 >> 0xc);
  iVar2 = _DAT_BATTLE_BIN__800c7ca0;
  if (_DAT_BATTLE_BIN__800c7ca0 < 0) {
    iVar2 = _DAT_BATTLE_BIN__800c7ca0 + 0x1ff;
  }
  *(short *)((int)p + 0x10) = local_78 + (short)(iVar2 >> 9);
  iVar2 = _DAT_BATTLE_BIN__800c7ca4 * 0xc;
  if (iVar2 < 0) {
    iVar2 = iVar2 + 0xfff;
  }
  *(short *)((int)p + 0x12) = local_74 - (short)(iVar2 >> 0xc);
  iVar2 = _DAT_BATTLE_BIN__800c7ca0;
  if (_DAT_BATTLE_BIN__800c7ca0 < 0) {
    iVar2 = _DAT_BATTLE_BIN__800c7ca0 + 0x1ff;
  }
  *(short *)((int)p + 0x18) = local_78 - (short)(iVar2 >> 9);
  iVar2 = _DAT_BATTLE_BIN__800c7ca4 * 0xc;
  if (iVar2 < 0) {
    iVar2 = iVar2 + 0xfff;
  }
  *(short *)((int)p + 0x1a) = local_74 + (short)(iVar2 >> 0xc);
  iVar2 = _DAT_BATTLE_BIN__800c7ca0;
  if (_DAT_BATTLE_BIN__800c7ca0 < 0) {
    iVar2 = _DAT_BATTLE_BIN__800c7ca0 + 0x1ff;
  }
  *(short *)((int)p + 0x20) = local_78 + (short)(iVar2 >> 9);
  iVar2 = _DAT_BATTLE_BIN__800c7ca4 * 0xc;
  if (iVar2 < 0) {
    iVar2 = iVar2 + 0xfff;
  }
  *(undefined2 *)((int)p + 0x16) = 0x5f;
  *(short *)((int)p + 0x22) = local_74 + (short)(iVar2 >> 0xc);
  *(byte *)((int)p + 7) = *(byte *)((int)p + 7) | 2;
  uVar1 = GetClut(0x40,0x1e2);
  *(u_short *)((int)p + 0xe) = uVar1;
  *(undefined *)((int)p + 0x1c) = 0x40;
  *(undefined *)((int)p + 0xc) = 0x40;
  *(undefined *)((int)p + 0x24) = 0x50;
  *(undefined *)((int)p + 0x14) = 0x50;
  *(undefined *)((int)p + 6) = 0x80;
  *(undefined *)((int)p + 5) = 0x80;
  *(undefined *)((int)p + 4) = 0x80;
  *(undefined *)((int)p + 0x15) = 0x80;
  *(undefined *)((int)p + 0xd) = 0x80;
  *(undefined *)((int)p + 0x25) = 0x98;
  *(undefined *)((int)p + 0x1d) = 0x98;
  FUN_BATTLE_BIN__8007b92c(&param_1->vx,&SStack_68.vx);
  RotTrans(&SStack_68,(VECTOR *)&local_78,alStack_20);
  if (local_70 < 0) {
    local_70 = local_70 + 3;
  }
  AddPrim((void *)(param_2 + (local_70 >> 2) * 4),p);
  return;
}



// WARNING: Removing unreachable block (ram,0x8007e8e8)

void FUN_BATTLE_BIN__8007e72c(short *param_1,uint *param_2)

{
  undefined uVar1;
  u_short uVar2;
  int *piVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  void *p;
  SVECTOR *pSVar7;
  uint uVar8;
  SVECTOR SStack_70;
  short local_68;
  short local_64;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  long alStack_38 [2];
  uint *local_30;
  
  local_58 = DAT_BATTLE_BIN__800677d8;
  local_54 = DAT_BATTLE_BIN__800677dc;
  local_50 = DAT_BATTLE_BIN__800677e0;
  local_4c = DAT_BATTLE_BIN__800677e4;
  local_48 = DAT_BATTLE_BIN__800677e8;
  local_44 = DAT_BATTLE_BIN__800677ec;
  local_40 = DAT_BATTLE_BIN__800677f0;
  local_3c = DAT_BATTLE_BIN__800677f4;
  uVar8 = 0;
  local_30 = param_2;
  piVar3 = FUN_BATTLE_BIN__8007a218();
  DAT_BATTLE_BIN__80093cb0 = DAT_BATTLE_BIN__80093cb0 + DAT_80045980;
  pSVar7 = &SStack_70;
  do {
    iVar4 = FUN_BATTLE_BIN__8007af08();
    p = (void *)((short)iVar4 * 0x28 + DAT_BATTLE_BIN__800e4e70);
    *(undefined *)((int)p + 3) = 9;
                    // Probable PsyQ macro: setPolyFT4() + setSemiTrans(polyFT4, 1)
    *(undefined *)((int)p + 7) = 0x2e;
    *(undefined2 *)((int)p + 0x16) = 0x3f;
    uVar5._0_2_ = pSVar7[3].vx;
    uVar5._2_2_ = pSVar7[3].vy;
    uVar6._0_2_ = pSVar7[5].vx;
    uVar6._2_2_ = pSVar7[5].vy;
    Store_3_Halfwords(&SStack_70.vx,*param_1 + (short)uVar5,param_1[1] + -0x30,
                      param_1[2] + (short)uVar6);
    RotTrans(&SStack_70,(VECTOR *)&local_68,alStack_38);
    *(short *)((int)p + 0x18) = local_68 + -7;
    *(short *)((int)p + 8) = local_68 + -7;
    *(short *)((int)p + 0x20) = local_68 + 7;
    *(short *)((int)p + 0x10) = local_68 + 7;
    *(short *)((int)p + 0x12) = local_64 + -7;
    *(short *)((int)p + 10) = local_64 + -7;
    *(short *)((int)p + 0x22) = local_64 + 7;
    *(short *)((int)p + 0x1a) = local_64 + 7;
    uVar2 = GetClut(0x30,0x1e2);
    *(u_short *)((int)p + 0xe) = uVar2;
    *(undefined *)((int)p + 6) = 0x80;
    *(undefined *)((int)p + 5) = 0x80;
    *(undefined *)((int)p + 4) = 0x80;
    uVar1 = 0xd8;
    if (uVar8 == (*(ushort *)(piVar3 + 0x1c) & 0xc00) >> 10) {
      if ((DAT_BATTLE_BIN__80093cb0 & 0x20) == 0) {
        *(undefined *)((int)p + 0x1c) = 0xd6;
        *(undefined *)((int)p + 0xc) = 0xd6;
        uVar1 = 0xe4;
        goto LAB_BATTLE_BIN__8007e940;
      }
      *(undefined *)((int)p + 0x1c) = 0xbc;
      *(undefined *)((int)p + 0xc) = 0xbc;
      *(undefined *)((int)p + 0x24) = 0xca;
      *(undefined *)((int)p + 0x14) = 0xca;
    }
    else {
      *(undefined *)((int)p + 0x1c) = 0xca;
      *(undefined *)((int)p + 0xc) = 0xca;
LAB_BATTLE_BIN__8007e940:
      *(undefined *)((int)p + 0x24) = uVar1;
      *(undefined *)((int)p + 0x14) = uVar1;
    }
    *(undefined *)((int)p + 0x15) = 0x9a;
    *(undefined *)((int)p + 0xd) = 0x9a;
    *(undefined *)((int)p + 0x25) = 0xa8;
    *(undefined *)((int)p + 0x1d) = 0xa8;
    AddPrim(local_30,p);
    uVar8 = uVar8 + 1;
    pSVar7 = (SVECTOR *)&pSVar7->vz;
    if (3 < (int)uVar8) {
      return;
    }
  } while( true );
}



void FUN_BATTLE_BIN__8007e9a8(int *param_1)

{
  ushort uVar1;
  int iVar2;
  short sVar3;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  
  local_30 = DAT_BATTLE_BIN__800677f8;
  local_2c = DAT_BATTLE_BIN__800677fc;
  local_28 = DAT_BATTLE_BIN__80067800;
  local_24 = DAT_BATTLE_BIN__80067804;
  local_20 = DAT_BATTLE_BIN__80067808;
  local_1c = DAT_BATTLE_BIN__8006780c;
  if ((param_1[0x51] & 0x240U) != 0) {
    return;
  }
  if ((param_1[0x20] & 0x10000000U) == 0) {
    if (DAT_BATTLE_BIN__800960e4 == 0x15) goto LAB_BATTLE_BIN__8007eb4c;
    if (*(short *)(param_1 + 0x1d) != 0) {
      iVar2 = (int)*(short *)(param_1 + 0x1d) - (uint)(ushort)DAT_80045980;
      *(short *)(param_1 + 0x1d) = (short)iVar2;
      if (iVar2 * 0x10000 < 0) {
        *(undefined2 *)(param_1 + 0x1d) = 0;
      }
      iVar2 = FUN_BATTLE_BIN__8007d3f4(param_1);
      *(short *)((int)param_1 + 0x42) = (short)iVar2;
      param_1[7] = (iVar2 << 0x10) >> 4;
      goto LAB_BATTLE_BIN__8007eb4c;
    }
  }
  else {
    if (*(short *)(param_1 + 0x1d) < 0xc) {
      *(ushort *)(param_1 + 0x1d) = *(short *)(param_1 + 0x1d) + (ushort)DAT_80045980;
      goto LAB_BATTLE_BIN__8007eb4c;
    }
    if (*(char *)(param_1 + 0x4c) != '\x01') {
      uVar1 = *(short *)(param_1 + 0x1e) + (ushort)DAT_80045980;
      *(ushort *)(param_1 + 0x1e) = uVar1;
      *(short *)((int)param_1 + 0x76) = (short)*(char *)((int)&local_30 + ((uint)uVar1 % 0x30 >> 1))
      ;
      goto LAB_BATTLE_BIN__8007eb4c;
    }
  }
  *(undefined2 *)((int)param_1 + 0x76) = 0;
LAB_BATTLE_BIN__8007eb4c:
  iVar2 = FUN_BATTLE_BIN__8007d3f4(param_1);
  sVar3 = (short)iVar2;
  if ((int)sVar3 < (int)*(short *)((int)param_1 + 0x42)) {
    *(short *)((int)param_1 + 0x42) = sVar3;
    param_1[7] = (int)sVar3 << 0xc;
  }
  return;
}



void FUN_BATTLE_BIN__8007eb8c(int param_1)

{
  bool bVar1;
  ushort uVar2;
  uint uVar3;
  undefined uVar4;
  undefined2 uVar5;
  undefined1 *puVar6;
  uint *puVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  
  iVar10 = 0;
  if (0 < DAT_80045980) {
    do {
      uVar8 = (uint)*(byte *)(param_1 + 0x2dd);
      if (uVar8 == 9) {
        uVar5 = (undefined2)((*(ushort *)(param_1 + 0x2e0) & 8) >> 3);
      }
      else {
        uVar5 = (undefined2)((*(ushort *)(param_1 + 0x2e0) & 0x10) >> 4);
      }
      *(undefined2 *)(param_1 + 0x2e2) = uVar5;
      if ((*(ushort *)(param_1 + 0x2e0) & 0xf) == 0) {
        uVar9 = *(uint *)(param_1 + 0x140);
        if (((uVar9 & 0x1fffc2c4) == 0) && (*(byte *)(param_1 + 4) != DAT_BATTLE_BIN__80096118)) {
          *(undefined *)(param_1 + 0x2dc) = 0;
          return;
        }
        puVar7 = &DAT_BATTLE_BIN__80093cb4 + uVar8;
        do {
          while( true ) {
            uVar3 = uVar9 & 4;
            if (((uVar8 == 0) || (uVar3 = uVar9 & 0x4000000, uVar8 == 0x14)) && (uVar3 != 0))
            goto LAB_BATTLE_BIN__8007ece4;
            uVar8 = uVar8 + 1;
            puVar7 = puVar7 + 1;
            if (0x15 < (int)uVar8) {
              uVar8 = 0;
              puVar7 = &DAT_BATTLE_BIN__80093cb4;
            }
            if (uVar8 == *(byte *)(param_1 + 0x2dd)) goto LAB_BATTLE_BIN__8007ece4;
            if (uVar8 != 0x15) break;
            if (*(byte *)(param_1 + 4) == DAT_BATTLE_BIN__80096118) goto LAB_BATTLE_BIN__8007ece4;
          }
        } while ((uVar9 & *puVar7) == 0);
LAB_BATTLE_BIN__8007ece4:
        *(char *)(param_1 + 0x2dd) = (char)uVar8;
        switch((&DAT_BATTLE_BIN__80094748)[(uint)*(byte *)(param_1 + 6) * 4]) {
        case 0:
        case 1:
          puVar6 = FUN_BATTLE_BIN__80183fb4
                             ((uint)*(byte *)(param_1 + 0x7c),(uint)*(byte *)(param_1 + 0x7d),
                              (uint)*(byte *)(param_1 + 0x7e));
          if ((puVar6[3] & 0xe0) == 0) {
            uVar2 = *(ushort *)(param_1 + 0x1dc) >> 1;
            if (uVar2 == 0x24) {
              uVar4 = 0xe2;
            }
            else if (uVar2 < 0x25) {
              if (uVar2 == 0x1a) {
LAB_BATTLE_BIN__8007ee28:
                *(undefined *)(param_1 + 0x2de) = 0xfb;
                uVar4 = 0xe7;
                goto LAB_BATTLE_BIN__8007ee7c;
              }
              uVar4 = 0xd8;
            }
            else {
              if (uVar2 == 0x34) goto LAB_BATTLE_BIN__8007ee28;
              uVar4 = 0xd8;
            }
          }
          else {
            uVar2 = *(ushort *)(param_1 + 0x1dc) >> 1;
            if (uVar2 == 0x24) {
              uVar4 = 0xe2;
            }
            else if (uVar2 < 0x25) {
              if (uVar2 == 0x1a) {
LAB_BATTLE_BIN__8007edd0:
                *(undefined *)(param_1 + 0x2de) = 0xfb;
                uVar4 = 0xdd;
                goto LAB_BATTLE_BIN__8007ee7c;
              }
              uVar4 = 0xd8;
            }
            else {
              if (uVar2 == 0x34) goto LAB_BATTLE_BIN__8007edd0;
              uVar4 = 0xd8;
            }
          }
          break;
        default:
          uVar2 = *(ushort *)(param_1 + 0x1dc) >> 1;
          if ((uVar2 != 0x1a) && (uVar2 != 0x34)) {
            uVar4 = 0xce;
            break;
          }
          *(undefined *)(param_1 + 0x2de) = 0xfb;
          uVar4 = 0xe2;
          goto LAB_BATTLE_BIN__8007ee7c;
        case 4:
          uVar2 = *(ushort *)(param_1 + 0x1dc) >> 1;
          if ((uVar2 == 0x1a) || (uVar2 == 0x34)) {
            *(undefined *)(param_1 + 0x2de) = 0xfb;
            uVar4 = 0xe7;
            goto LAB_BATTLE_BIN__8007ee7c;
          }
          uVar4 = 0xe7;
          break;
        case 6:
          uVar4 = 0xba;
          break;
        case 7:
          uVar4 = 0x88;
        }
        *(undefined *)(param_1 + 0x2de) = 0;
LAB_BATTLE_BIN__8007ee7c:
        *(undefined *)(param_1 + 0x2df) = uVar4;
      }
      iVar10 = iVar10 + 1;
      bVar1 = iVar10 < DAT_80045980;
      *(short *)(param_1 + 0x2e0) = *(short *)(param_1 + 0x2e0) + 1;
    } while (bVar1);
  }
  return;
}



void FUN_BATTLE_BIN__8007eec0(int param_1)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  undefined2 *puVar4;
  short local_48;
  short local_46;
  undefined4 local_40;
  undefined4 local_3c;
  short local_38;
  short local_34;
  int local_30;
  SVECTOR SStack_28;
  SVECTOR SStack_20;
  long alStack_18 [2];
  
  local_40 = DAT_BATTLE_BIN__80067830;
  local_3c = DAT_BATTLE_BIN__80067834;
  uVar2 = (uint)*(byte *)(param_1 + 0x2dd);
  iVar3 = *(int *)(param_1 + 0x2e4);
  if (uVar2 == 0x15) {
    *(undefined *)(iVar3 + 0x12) = 0x72;
    *(undefined *)(iVar3 + 0x13) = 0xb0;
    if (*(short *)(param_1 + 0x2e2) != 0) {
      *(undefined *)(iVar3 + 0x13) = 0xbc;
    }
  }
  else if (uVar2 == 0) {
    uVar2 = (uint)*(byte *)(*(int *)(param_1 + 0x134) + 7);
    if ((*(uint *)(param_1 + 0x140) & 0x10000000) == 0) {
      if (uVar2 == 0xff) {
        *(undefined *)(iVar3 + 0x12) = DAT_BATTLE_BIN__800949dc;
        cVar1 = DAT_BATTLE_BIN__800949f4;
        *(char *)(iVar3 + 0x13) = DAT_BATTLE_BIN__800949f4;
        if (*(short *)(param_1 + 0x2e2) != 0) {
          *(char *)(iVar3 + 0x13) = cVar1 + '\f';
        }
      }
      else {
        *(undefined *)(iVar3 + 0x12) = (&DAT_BATTLE_BIN__80094a0c)[uVar2];
        *(undefined *)(iVar3 + 0x13) = (&DAT_BATTLE_BIN__80094a24)[uVar2];
      }
    }
    else {
      *(undefined *)(iVar3 + 0x12) = DAT_BATTLE_BIN__800949e6;
      cVar1 = DAT_BATTLE_BIN__800949fe;
      *(char *)(iVar3 + 0x13) = DAT_BATTLE_BIN__800949fe;
      if (*(short *)(param_1 + 0x2e2) != 0) {
        *(char *)(iVar3 + 0x13) = cVar1 + '\f';
      }
    }
  }
  else if (uVar2 == 0x14) {
    uVar2 = *(byte *)(*(int *)(param_1 + 0x134) + 0x6c) & 3;
    *(undefined *)(iVar3 + 0x12) = (&DAT_BATTLE_BIN__80094a0c)[uVar2];
    *(undefined *)(iVar3 + 0x13) = (&DAT_BATTLE_BIN__80094a24)[uVar2];
  }
  else {
    *(undefined *)(iVar3 + 0x12) = (&DAT_BATTLE_BIN__800949dc)[uVar2];
    cVar1 = (&DAT_BATTLE_BIN__800949f4)[uVar2];
    *(char *)(iVar3 + 0x13) = cVar1;
    if ((uVar2 - 9 < 2) && (*(short *)(param_1 + 0x2e2) != 0)) {
      *(char *)(iVar3 + 0x13) = cVar1 + '\f';
    }
  }
  SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  Store_3_Halfwords(&SStack_28.vx,*(short *)(param_1 + 0x40) + *(short *)(param_1 + 0x60),
                    *(short *)(param_1 + 0x42) + *(short *)(param_1 + 0x62) +
                    (short)*(char *)(param_1 + 0x2df),
                    *(short *)(param_1 + 0x44) + *(short *)(param_1 + 100));
  RotTrans(&SStack_28,(VECTOR *)&local_38,(long *)(param_1 + 300));
  local_48 = (short)*(char *)(param_1 + 0x2de) + local_38 + *(short *)(param_1 + 0x58);
  local_46 = local_34 + *(short *)(param_1 + 0x5a);
  if ((*(ushort *)(param_1 + 0x2e0) & 0x10) != 0) {
    local_46 = local_46 + -1;
  }
  FUN_BATTLE_BIN__8007b92c(&SStack_28.vx,&SStack_20.vx);
  SStack_20.vy = SStack_20.vy + 0xc;
  RotTrans(&SStack_20,(VECTOR *)&local_38,alStack_18);
  puVar4 = *(undefined2 **)(param_1 + 0x2e4);
  iVar3 = Get_OTAG_List();
  if (local_30 < 0) {
    local_30 = local_30 + 3;
  }
  FUN_BATTLE_BIN__8007af44
            (puVar4,(uint)*(byte *)((int)puVar4 + 3),0,&local_48,0,0,(short *)&local_40,
             (uint *)(iVar3 + (local_30 >> 2) * 4));
  return;
}



void FUN_BATTLE_BIN__8007f1d4(int *param_1)

{
  char cVar1;
  
  cVar1 = *(char *)((int)param_1 + 0x7f);
  if ((((cVar1 != '-') && (cVar1 != '1')) && (cVar1 != '9')) && (cVar1 != '5')) {
    FUN_BATTLE_BIN__8007e9a8(param_1);
  }
  if (*(char *)(param_1 + 0xb7) != '\0') {
    FUN_BATTLE_BIN__8007eb8c((int)param_1);
  }
  return;
}



void FUN_BATTLE_BIN__8007f240(int param_1)

{
  undefined2 *puVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0;
  iVar2 = 0x2ec;
  *(undefined4 *)(param_1 + 0x2e8) = 1;
  puVar1 = (undefined2 *)(param_1 + 0x2ec);
  do {
    iVar2 = iVar2 + 8;
    iVar3 = iVar3 + 1;
    Store_3_Halfwords(puVar1,*(undefined2 *)(param_1 + 0x40),*(undefined2 *)(param_1 + 0x42),
                      *(undefined2 *)(param_1 + 0x44));
    puVar1 = (undefined2 *)(param_1 + iVar2);
  } while (iVar3 < 6);
  return;
}



void FUN_BATTLE_BIN__8007f2ac(int param_1)

{
  byte bVar1;
  ushort uVar2;
  int iVar3;
  undefined2 *puVar4;
  int iVar5;
  int iVar6;
  short local_48;
  undefined2 local_46;
  short local_40;
  undefined2 local_3e;
  undefined2 local_3c;
  short local_38;
  undefined2 local_34;
  int local_30;
  long alStack_28 [2];
  
  iVar6 = 0;
  do {
    FUN_BATTLE_BIN__800ee95c
              ((uint *)&DAT_BATTLE_BIN__80098a24,(undefined4 *)&DAT_BATTLE_BIN__800a7784,
               &DAT_BATTLE_BIN__800a77b0,(undefined4 *)&DAT_BATTLE_BIN__800c7ca0);
    SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
    SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
    RotTrans((SVECTOR *)(param_1 + iVar6 * 8 + 0x2ec),(VECTOR *)&local_38,alStack_28);
    iVar6 = iVar6 + 1;
    iVar5 = local_30;
    if (local_30 < 0) {
      iVar5 = local_30 + 3;
    }
    local_48 = local_38;
    local_46 = local_34;
    bVar1 = *(byte *)(param_1 + 0x13f);
    uVar2 = *(ushort *)(param_1 + 0x12);
    local_3c = (undefined2)DAT_BATTLE_BIN__800c7ca8;
    local_40 = DAT_BATTLE_BIN__800c7ca0;
    local_3e = DAT_BATTLE_BIN__800c7ca4;
    puVar4 = *(undefined2 **)(param_1 + 0x204);
    iVar3 = Get_OTAG_List();
    FUN_BATTLE_BIN__8007af44
              (puVar4,(uint)*(byte *)((int)puVar4 + 3),0,&local_48,0,(bVar1 ^ uVar2) & 0xff9f | 1,
               &local_40,(uint *)(iVar3 + (iVar5 >> 2) * 4));
  } while (iVar6 < 6);
  return;
}



void FUN_BATTLE_BIN__8007f400(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 5;
  iVar1 = param_1 + 0x28;
  do {
    *(undefined4 *)(iVar1 + 0x2ec) = *(undefined4 *)(iVar1 + 0x2e4);
    *(undefined4 *)(iVar1 + 0x2f0) = *(undefined4 *)(iVar1 + 0x2e8);
    iVar2 = iVar2 + -1;
    iVar1 = iVar1 + -8;
  } while (0 < iVar2);
  FUN_BATTLE_BIN__8007b96c((undefined2 *)(param_1 + 0x2ec),param_1);
  return;
}



void FUN_BATTLE_BIN__8007f45c(int param_1,uint param_2)

{
  undefined auStack_20 [12];
  undefined local_14;
  undefined local_13;
  undefined2 local_12;
  short local_10;
  short local_e;
  
  FUN_BATTLE_BIN__80136b10((int)auStack_20,param_2);
  *(undefined2 *)(*(int *)(param_1 + 0x2d8) + 6) = local_12;
  FUN_BATTLE_BIN__8007b4ec
            (*(int *)(param_1 + 0x2d8),0,
             (char)((uint)(((0x10 - local_10) / 2 + -8) * 0x10000) >> 0x10),
             (char)((uint)(((0x10 - local_e) / 2 + -8) * 0x10000) >> 0x10),local_14,local_13,
             (char)local_10,(char)local_e,0);
  return;
}



void FUN_BATTLE_BIN__8007f50c(int param_1)

{
  int iVar1;
  short local_20;
  short local_1e;
  short asStack_18 [4];
  
  if ((*(ushort *)(param_1 + 0x12) & 2) == 0) {
    local_20 = -(short)*(char *)(param_1 + 0x2d2);
  }
  else {
    local_20 = (short)*(char *)(param_1 + 0x2d2);
  }
  local_20 = local_20 + *(short *)(param_1 + 0x120);
  local_1e = (short)*(char *)(param_1 + 0x2d3) + *(short *)(param_1 + 0x122);
  Store_3_Halfwords(asStack_18,0x1000,0x1000,0x1000);
  iVar1 = Get_OTAG_List();
  FUN_BATTLE_BIN__8007af44
            (*(undefined2 **)(param_1 + 0x2d8),(uint)*(byte *)(*(int *)(param_1 + 0x2d8) + 3),0,
             &local_20,0,0,asStack_18,(uint *)(iVar1 + *(int *)(param_1 + 0x128) * 4));
  return;
}



undefined4
FUN_BATTLE_BIN__8007f5f8(int param_1,undefined4 param_2,undefined param_3,undefined param_4)

{
  byte bVar1;
  ushort uVar2;
  undefined *puVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  undefined2 uVar7;
  undefined *puVar8;
  int iVar9;
  undefined uVar10;
  undefined uVar11;
  undefined in_t0;
  int iVar12;
  uint unaff_s1;
  undefined unaff_s8;
  undefined uVar13;
  undefined uVar14;
  undefined uVar15;
  uint local_38;
  uint local_34;
  uint local_30;
  
  uVar4 = *(uint *)(param_1 + 0x1b8);
  iVar9 = *(int *)(param_1 + 0x134);
  if ((uVar4 & 0xffff) == 0) {
    if ((uVar4 & 0x10000) == 0) {
      if ((uVar4 & 0x20000) == 0) {
        if ((uVar4 & 0x40000) == 0) {
          if ((uVar4 & 0x80000) == 0) {
            if ((uVar4 & 0x100000) == 0) {
              if ((uVar4 & 0x200000) == 0) {
                if ((uVar4 & 0x400000) == 0) {
                  if ((uVar4 & 0x800000) == 0) {
                    if ((uVar4 & 0x1000000) == 0) {
                      if (*(char *)(param_1 + 0x1b7) == '\0') {
                        return 0;
                      }
                      *(char *)(param_1 + 0x1b7) = *(char *)(param_1 + 0x1b7) + -1;
                      bVar1 = *(byte *)(param_1 + (uint)*(byte *)(param_1 + 0x1b7) + 0x1bc);
                      uVar7 = 0x70;
                      if ((bVar1 & 0x80) == 0) {
                        uVar7 = 0x60;
                      }
                      *(undefined2 *)(param_1 + 0x2be) = uVar7;
                      unaff_s1 = bVar1 & 0x7f;
                      goto LAB_BATTLE_BIN__8007f90c;
                    }
                    uVar4 = 0xfeffffff;
                    uVar6 = *(uint *)(param_1 + 0x1b8);
                    uVar7 = 0x30;
                  }
                  else {
                    uVar4 = 0xff7fffff;
                    uVar6 = *(uint *)(param_1 + 0x1b8);
                    uVar7 = 0x20;
                  }
                }
                else {
                  uVar4 = 0xffbfffff;
                  uVar6 = *(uint *)(param_1 + 0x1b8);
                  uVar7 = 0x10;
                }
              }
              else {
                uVar4 = 0xffdfffff;
                uVar6 = *(uint *)(param_1 + 0x1b8);
                uVar7 = 0xd0;
              }
            }
            else {
              uVar4 = 0xffefffff;
              uVar6 = *(uint *)(param_1 + 0x1b8);
              uVar7 = 0xc0;
            }
          }
          else {
            uVar4 = 0xfff7ffff;
            uVar6 = *(uint *)(param_1 + 0x1b8);
            uVar7 = 0xb0;
          }
        }
        else {
          uVar4 = 0xfffbffff;
          uVar6 = *(uint *)(param_1 + 0x1b8);
          uVar7 = 0xa0;
        }
      }
      else {
        uVar4 = 0xfffdffff;
        uVar6 = *(uint *)(param_1 + 0x1b8);
        uVar7 = 0x90;
      }
    }
    else {
      uVar4 = 0xfffeffff;
      uVar6 = *(uint *)(param_1 + 0x1b8);
      uVar7 = 0x80;
    }
    *(undefined2 *)(param_1 + 0x2be) = uVar7;
    *(uint *)(param_1 + 0x1b8) = uVar6 & uVar4;
  }
  else {
    DAT_BATTLE_BIN__800962d4 = *(undefined2 *)(iVar9 + 400);
    DAT_BATTLE_BIN__800962d6 = *(undefined2 *)(iVar9 + 0x192);
    DAT_BATTLE_BIN__800962d8 = *(undefined2 *)(iVar9 + 0x194);
    DAT_BATTLE_BIN__800962da = *(undefined2 *)(iVar9 + 0x196);
    DAT_BATTLE_BIN__800962dc = *(byte *)(iVar9 + 0x19e) & 0x7f;
    DAT_BATTLE_BIN__800962e0 = *(byte *)(iVar9 + 0x19f) & 0x7f;
    DAT_BATTLE_BIN__800962e4 = *(byte *)(iVar9 + 0x1a2) & 0x7f;
    DAT_BATTLE_BIN__800962e8 = *(byte *)(iVar9 + 0x1a3) & 0x7f;
    uVar4 = 1;
    DAT_BATTLE_BIN__800962ec = *(byte *)(iVar9 + 0x1a0) & 0x7f;
    iVar5 = 0;
    DAT_BATTLE_BIN__800962f0 = *(byte *)(iVar9 + 0x1a1) & 0x7f;
    do {
      DAT_BATTLE_BIN__800962de = DAT_BATTLE_BIN__800962dc;
      DAT_BATTLE_BIN__800962e2 = DAT_BATTLE_BIN__800962e0;
      DAT_BATTLE_BIN__800962e6 = DAT_BATTLE_BIN__800962e4;
      DAT_BATTLE_BIN__800962ea = DAT_BATTLE_BIN__800962e8;
      DAT_BATTLE_BIN__800962ee = DAT_BATTLE_BIN__800962ec;
      DAT_BATTLE_BIN__800962f2 = DAT_BATTLE_BIN__800962f0;
      if ((uVar4 & *(uint *)(param_1 + 0x1b8)) != 0) {
        *(undefined2 *)(param_1 + 0x2c0) = (&DAT_BATTLE_BIN__800962d4)[iVar5];
        *(ushort *)(param_1 + 0x2be) = (ushort)(byte)(&DAT_BATTLE_BIN__80093d08)[iVar5];
        *(uint *)(param_1 + 0x1b8) = ~uVar4 & *(uint *)(param_1 + 0x1b8);
        break;
      }
      iVar5 = iVar5 + 1;
      uVar4 = uVar4 << 1;
    } while (iVar5 < 0x10);
  }
LAB_BATTLE_BIN__8007f90c:
  if (*(char *)(*(int *)(param_1 + 0x134) + 0x18d) == '\0') {
    uVar2 = *(ushort *)(param_1 + 0x2be) & 0xfdff;
  }
  else {
    uVar2 = *(ushort *)(param_1 + 0x2be) | 0x200;
  }
  *(ushort *)(param_1 + 0x2be) = uVar2;
  *(undefined *)(param_1 + 700) = 1;
  if (0x15 < *(ushort *)(param_1 + 0x2c2)) {
    *(undefined2 *)(param_1 + 0x2c2) = 0x15;
  }
  switch(*(ushort *)(param_1 + 0x2be) & 0x1ff) {
  case 0:
  case 4:
  case 6:
  case 8:
  case 10:
  case 0xc:
  case 0xe:
  case 0x60:
  case 0x80:
  case 0xa0:
  case 0xb0:
  case 0xc0:
  case 0xd0:
    in_t0 = 0x80;
    param_4 = 0x80;
    param_3 = 0x80;
    break;
  case 1:
  case 5:
  case 7:
  case 9:
  case 0xb:
  case 0xd:
  case 0xf:
  case 0x70:
  case 0x90:
    param_3 = 0x28;
    param_4 = 0x8c;
    in_t0 = 0xdc;
    break;
  case 2:
    param_3 = 0x78;
    param_4 = 0x3c;
    in_t0 = 0xdc;
    break;
  case 3:
    param_3 = 0x4e;
    param_4 = 0x8c;
    in_t0 = 0x1e;
    break;
  case 0x10:
  case 0x20:
  case 0x30:
    param_3 = 0xbe;
    param_4 = 0x28;
    in_t0 = 10;
  }
  puVar8 = *(undefined **)(param_1 + 0x2c4);
  puVar3 = *(undefined **)(param_1 + 0x2c8);
  **(undefined **)(param_1 + 0x2cc) = param_3;
  *puVar3 = param_3;
  *puVar8 = param_3;
  iVar5 = *(int *)(param_1 + 0x2c4);
  iVar9 = *(int *)(param_1 + 0x2c8);
  *(undefined *)(*(int *)(param_1 + 0x2cc) + 1) = param_4;
  *(undefined *)(iVar9 + 1) = param_4;
  *(undefined *)(iVar5 + 1) = param_4;
  iVar5 = *(int *)(param_1 + 0x2c4);
  iVar9 = *(int *)(param_1 + 0x2c8);
  *(undefined *)(*(int *)(param_1 + 0x2cc) + 2) = in_t0;
  *(undefined *)(iVar9 + 2) = in_t0;
  *(undefined *)(iVar5 + 2) = in_t0;
  if (*(ushort *)(param_1 + 0x2c0) / 1000 == 0) {
    local_38 = (uint)*(ushort *)(param_1 + 0x2c0) % 10;
    local_34 = (*(ushort *)(param_1 + 0x2c0) / 10) % 10;
    local_30 = *(ushort *)(param_1 + 0x2c0) / 100;
  }
  else {
    local_30 = 9;
    local_34 = 9;
    local_38 = 9;
  }
  iVar12 = *(int *)(param_1 + 0x2c4);
  iVar5 = *(int *)(param_1 + 0x2c8);
  iVar9 = *(int *)(param_1 + 0x2cc);
  FUN_BATTLE_BIN__8007b4ec(iVar12,0,0,0xe0,0,0,0,0,0);
  FUN_BATTLE_BIN__8007b4ec(iVar5,0,0,0xe0,0,0,0,0,0);
  uVar2 = *(ushort *)(param_1 + 0x2be) & 0x1ff;
  if (uVar2 == 0x60) {
LAB_BATTLE_BIN__8008011c:
    iVar5 = (unaff_s1 & 0xff) * 4;
    uVar10 = 0xeb;
    unaff_s8 = 0xe0;
    uVar13 = (&DAT_BATTLE_BIN__8014cf69)[iVar5];
    uVar14 = (&DAT_BATTLE_BIN__8014cf6a)[iVar5];
    uVar15 = (&DAT_BATTLE_BIN__8014cf6b)[iVar5];
    uVar11 = (&DAT_BATTLE_BIN__8014cf68)[iVar5];
  }
  else if (uVar2 < 0x61) {
    if (uVar2 < 0x10) {
      if (uVar2 < 4) {
        unaff_s8 = 0xe0;
        if ((*(ushort *)(param_1 + 0x2be) & 1) == 0) {
          unaff_s8 = 0x10;
        }
        FUN_BATTLE_BIN__8007b4ec(iVar5,0,0xf2,unaff_s8,0,0,0,0,0);
        FUN_BATTLE_BIN__8007b4ec(iVar9,0,0xeb,unaff_s8,0,0,0,0,0);
        if ((local_30 | local_34) == 0) {
          uVar10 = 0xeb;
          iVar9 = iVar12;
          uVar13 = 0x30;
          uVar14 = 8;
          uVar15 = 0x10;
          uVar11 = (char)((local_38 * 8 + 0xa8) * 0x10000 >> 0x10);
        }
        else if (local_30 == 0) {
          FUN_BATTLE_BIN__8007b4ec
                    (iVar12,0,0xf2,unaff_s8,(char)((local_38 * 8 + 0xa8) * 0x10000 >> 0x10),0x30,8,
                     0x10,0);
          uVar10 = 0xeb;
          iVar9 = iVar5;
          uVar13 = 0x30;
          uVar14 = 8;
          uVar15 = 0x10;
          uVar11 = (char)((local_34 * 8 + 0xa8) * 0x10000 >> 0x10);
        }
        else {
          FUN_BATTLE_BIN__8007b4ec
                    (iVar12,0,0xf9,unaff_s8,(char)((local_38 * 8 + 0xa8) * 0x10000 >> 0x10),0x30,8,
                     0x10,0);
          FUN_BATTLE_BIN__8007b4ec
                    (iVar5,0,0xf2,unaff_s8,(char)((local_34 * 8 + 0xa8) * 0x10000 >> 0x10),0x30,8,
                     0x10,0);
          uVar10 = 0xeb;
          uVar13 = 0x30;
          uVar14 = 8;
          uVar15 = 0x10;
          uVar11 = (char)((local_30 * 8 + 0xa8) * 0x10000 >> 0x10);
        }
      }
      else {
        unaff_s8 = 0xe0;
        if ((*(ushort *)(param_1 + 0x2be) & 1) == 0) {
          unaff_s8 = 0x10;
        }
        if (local_34 == 0) {
          uVar11 = 0xf2;
          iVar5 = iVar12;
        }
        else {
          FUN_BATTLE_BIN__8007b4ec
                    (iVar12,0,0xf2,unaff_s8,(char)((local_38 * 8 + 0xa8) * 0x10000 >> 0x10),0x30,8,
                     0x10,0);
          uVar11 = 0xeb;
          local_38 = local_34;
        }
        FUN_BATTLE_BIN__8007b4ec
                  (iVar5,0,uVar11,unaff_s8,(char)((local_38 * 8 + 0xa8) * 0x10000 >> 0x10),0x30,8,
                   0x10,0);
        switch(*(ushort *)(param_1 + 0x2be) & 0xe) {
        case 4:
          uVar10 = 0xf9;
          uVar11 = 0x9c;
          uVar13 = 0xc2;
          uVar14 = 0x18;
          uVar15 = 10;
          break;
        case 6:
          uVar10 = 0xf9;
          uVar11 = 0xc2;
          uVar13 = 0xc2;
          uVar14 = 0xe;
          uVar15 = 10;
          break;
        case 8:
          uVar10 = 0xf9;
          uVar11 = 0xa8;
          uVar13 = 0xb8;
          uVar14 = 0xb;
          uVar15 = 10;
          break;
        case 10:
          uVar10 = 0xf9;
          uVar11 = 0x9c;
          uVar13 = 0xb8;
          uVar14 = 0xc;
          uVar15 = 10;
          break;
        case 0xc:
          uVar10 = 0xf9;
          uVar11 = 0x40;
          uVar14 = 0xc;
          uVar13 = 0;
          uVar15 = 0xd;
          break;
        case 0xe:
          uVar10 = 0xf9;
          uVar11 = 0x40;
          uVar13 = 0xd;
          uVar14 = 0xb;
          uVar15 = 10;
          break;
        default:
          goto switchD_BATTLE_BIN__8007ff3c_caseD_6;
        }
      }
    }
    else if (uVar2 == 0x20) {
      uVar10 = 0xeb;
      unaff_s8 = 0xe0;
      uVar11 = 0xb8;
      uVar14 = 0x1e;
      uVar13 = 0x60;
      uVar15 = 8;
    }
    else if (uVar2 < 0x21) {
      if (uVar2 != 0x10) goto switchD_BATTLE_BIN__8007ff3c_caseD_6;
      uVar10 = 0xeb;
      unaff_s8 = 0xe0;
      uVar11 = 0xbe;
      uVar13 = 0x48;
      uVar14 = 0x1b;
      uVar15 = 8;
    }
    else {
      if (uVar2 != 0x30) goto switchD_BATTLE_BIN__8007ff3c_caseD_6;
      uVar10 = 0xeb;
      unaff_s8 = 0xe0;
      uVar13 = 0xe6;
      uVar14 = 0x1a;
      uVar15 = 10;
      uVar11 = 0x30;
    }
  }
  else if (uVar2 == 0xa0) {
    uVar10 = 0xeb;
    unaff_s8 = 0xe0;
    uVar13 = DAT_BATTLE_BIN__8014cfd9;
    uVar14 = DAT_BATTLE_BIN__8014cfda;
    uVar15 = DAT_BATTLE_BIN__8014cfdb;
    uVar11 = DAT_BATTLE_BIN__8014cfd8;
  }
  else if (uVar2 < 0xa1) {
    if (uVar2 == 0x80) {
      FUN_BATTLE_BIN__8007b4ec(iVar5,0,0xf9,0x10,0xb0,0x30,8,0x10,0);
      FUN_BATTLE_BIN__8007b4ec(iVar9,0,0,0x10,0xb4,0xc1,0xe,10,0);
    }
    else {
      if (uVar2 < 0x81) {
        if (uVar2 != 0x70) goto switchD_BATTLE_BIN__8007ff3c_caseD_6;
        goto LAB_BATTLE_BIN__8008011c;
      }
      if (uVar2 != 0x90) goto switchD_BATTLE_BIN__8007ff3c_caseD_6;
    }
    FUN_BATTLE_BIN__8007b4ec(iVar5,0,0xf9,0xe0,0xb0,0x30,8,0x10,0);
    uVar10 = 0;
    unaff_s8 = 0xe0;
    uVar11 = 0xb4;
    uVar13 = 0xc1;
    uVar14 = 0xe;
    uVar15 = 10;
  }
  else if (uVar2 == 0xc0) {
    uVar10 = 0xeb;
    unaff_s8 = 0xe0;
    uVar13 = DAT_BATTLE_BIN__8014cff9;
    uVar14 = DAT_BATTLE_BIN__8014cffa;
    uVar15 = DAT_BATTLE_BIN__8014cffb;
    uVar11 = DAT_BATTLE_BIN__8014cff8;
  }
  else if (uVar2 < 0xc1) {
    if (uVar2 != 0xb0) goto switchD_BATTLE_BIN__8007ff3c_caseD_6;
    uVar10 = 0xeb;
    unaff_s8 = 0xe0;
    uVar13 = DAT_BATTLE_BIN__8014cfdd;
    uVar14 = DAT_BATTLE_BIN__8014cfde;
    uVar15 = DAT_BATTLE_BIN__8014cfdf;
    uVar11 = DAT_BATTLE_BIN__8014cfdc;
  }
  else {
    if (uVar2 != 0xd0) goto switchD_BATTLE_BIN__8007ff3c_caseD_6;
    FUN_BATTLE_BIN__8007b4ec(iVar5,0,0xf0,unaff_s8,0xc2,0xc2,0xe,8,0);
    uVar10 = 0;
    uVar11 = 0xa8;
    uVar13 = 0x34;
    uVar14 = 8;
    uVar15 = 8;
  }
  FUN_BATTLE_BIN__8007b4ec(iVar9,0,uVar10,unaff_s8,uVar11,uVar13,uVar14,uVar15,0);
switchD_BATTLE_BIN__8007ff3c_caseD_6:
  FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094ba4,7,(uint)*(byte *)(param_1 + 4),0);
  return 1;
}



void FUN_BATTLE_BIN__800803e4(int param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  char *pcVar6;
  int iVar7;
  int iVar8;
  char *pcVar9;
  
  pcVar6 = *(char **)(param_1 + 0x2c4);
  iVar4 = *(int *)(param_1 + 0x2c8);
  *(undefined2 *)(*(int *)(param_1 + 0x2cc) + 4) = 0x1f;
  *(undefined2 *)(iVar4 + 4) = 0x1f;
  *(undefined2 *)(pcVar6 + 4) = 0x1f;
  iVar4 = *(int *)(param_1 + 0x134);
  if (*(char *)(iVar4 + 0x18c) != '\0') {
    if ((*(byte *)(iVar4 + 0x1b1) & 0x80) != 0) {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 1;
    }
    if ((*(byte *)(iVar4 + 0x1b1) & 0x40) != 0) {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 2;
    }
    if ((*(byte *)(iVar4 + 0x1b1) & 0x20) != 0) {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 4;
    }
    if ((*(byte *)(iVar4 + 0x1b1) & 0x10) != 0) {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 8;
    }
    if ((*(byte *)(iVar4 + 0x1b1) & 1) != 0) {
      if (*(char *)(iVar4 + 0x19e) != '\0') {
        if ((*(byte *)(iVar4 + 0x19e) & 0x80) == 0) {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x10;
        }
        else {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x20;
        }
        *(uint *)(param_1 + 0x1b8) = uVar2;
      }
      cVar1 = *(char *)(iVar4 + 0x19f);
      if (cVar1 != '\0') {
        if (cVar1 == -1) {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x100000;
        }
        else if (cVar1 == '\x7f') {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x200000;
        }
        else if ((*(byte *)(iVar4 + 0x19f) & 0x80) == 0) {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x40;
        }
        else {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x80;
        }
        *(uint *)(param_1 + 0x1b8) = uVar2;
      }
      if (*(char *)(iVar4 + 0x1a0) != '\0') {
        if ((*(byte *)(iVar4 + 0x1a0) & 0x80) == 0) {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x1000;
        }
        else {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x2000;
        }
        *(uint *)(param_1 + 0x1b8) = uVar2;
      }
      if (*(char *)(iVar4 + 0x1a1) != '\0') {
        if ((*(byte *)(iVar4 + 0x1a1) & 0x80) == 0) {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x4000;
        }
        else {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x8000;
        }
        *(uint *)(param_1 + 0x1b8) = uVar2;
      }
      if (*(char *)(iVar4 + 0x1a2) != '\0') {
        if ((*(byte *)(iVar4 + 0x1a2) & 0x80) == 0) {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x100;
        }
        else {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x200;
        }
        *(uint *)(param_1 + 0x1b8) = uVar2;
      }
      if (*(char *)(iVar4 + 0x1a3) != '\0') {
        if ((*(byte *)(iVar4 + 0x1a3) & 0x80) == 0) {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x400;
        }
        else {
          uVar2 = *(uint *)(param_1 + 0x1b8) | 0x800;
        }
        *(uint *)(param_1 + 0x1b8) = uVar2;
      }
    }
    if ((*(ushort *)(iVar4 + 0x19c) & 0x80) != 0) {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 0x20000;
    }
    if ((*(ushort *)(iVar4 + 0x19c) & 0x100) != 0) {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 0x10000;
    }
    if ((*(ushort *)(iVar4 + 0x19c) & 0x10) != 0) {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 0x40000;
    }
    if ((*(ushort *)(iVar4 + 0x19c) & 0x1004) != 0) {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 0x80000;
    }
    iVar8 = 0;
    if ((*(byte *)(iVar4 + 0x1b1) & 8) != 0) {
      *(undefined *)(param_1 + 0x1b7) = 0;
      pcVar9 = &DAT_BATTLE_BIN__80093d18;
      do {
        param_4 = 0;
        iVar7 = iVar4 + 0x18c + iVar8;
        pcVar6 = pcVar9;
        do {
          uVar5 = (uint)*(byte *)(param_1 + 0x1b7);
          uVar2 = 0x80 >> (param_4 & 0x1f);
          if (uVar5 < 0x1b) {
            if ((*(byte *)(iVar7 + 0x1b) & uVar2) == 0) {
              if (((*(byte *)(iVar7 + 0x20) & uVar2) != 0) &&
                 (cVar1 = *pcVar6, *(char *)(param_1 + uVar5 + 0x1bc) = cVar1, cVar1 != '\0')) {
                iVar3 = param_1 + (uint)*(byte *)(param_1 + 0x1b7);
                *(byte *)(iVar3 + 0x1bc) = *(byte *)(iVar3 + 0x1bc) | 0x80;
                goto LAB_BATTLE_BIN__800807b8;
              }
            }
            else {
              cVar1 = *pcVar6;
              *(char *)(param_1 + uVar5 + 0x1bc) = cVar1;
              if (cVar1 != '\0') {
LAB_BATTLE_BIN__800807b8:
                *(char *)(param_1 + 0x1b7) = *(char *)(param_1 + 0x1b7) + '\x01';
              }
            }
          }
          param_4 = param_4 + 1;
          pcVar6 = pcVar6 + 1;
        } while ((int)param_4 < 8);
        iVar8 = iVar8 + 1;
        pcVar9 = pcVar9 + 8;
      } while (iVar8 < 5);
    }
    goto LAB_BATTLE_BIN__8008088c;
  }
  cVar1 = *(char *)(iVar4 + 0x18e);
  if (cVar1 == '\0') goto LAB_BATTLE_BIN__8008088c;
  if ((((*(byte *)(iVar4 + 0x18e) - 1 < 2) || (cVar1 == '\x03')) || (cVar1 == '\a')) ||
     (cVar1 == '\v')) {
    if ((*(byte *)(iVar4 + 0x1a4) & 3) == 1) goto LAB_BATTLE_BIN__8008087c;
    uVar2 = *(uint *)(param_1 + 0x1b8) | 0x800000;
  }
  else {
    if (cVar1 == '\r') {
      uVar2 = *(uint *)(param_1 + 0x1b8);
      uVar5 = 0x1000000;
    }
    else {
      if (((cVar1 == '\b') || (cVar1 == '\0')) || (cVar1 == '\t')) goto LAB_BATTLE_BIN__8008088c;
LAB_BATTLE_BIN__8008087c:
      uVar2 = *(uint *)(param_1 + 0x1b8);
      uVar5 = 0x400000;
    }
    uVar2 = uVar2 | uVar5;
  }
  *(uint *)(param_1 + 0x1b8) = uVar2;
LAB_BATTLE_BIN__8008088c:
  if (*(char *)(param_1 + 700) == '\0') {
    *(undefined2 *)(param_1 + 0x2c2) = 0;
    FUN_BATTLE_BIN__8007f5f8(param_1,pcVar6,(char)param_1,(char)param_4);
  }
  return;
}



undefined4 FUN_BATTLE_BIN__800808b8(int param_1)

{
  bool bVar1;
  undefined uVar2;
  undefined2 uVar3;
  ushort uVar4;
  uint uVar5;
  undefined *puVar6;
  int iVar7;
  undefined *puVar8;
  int iVar9;
  undefined uVar10;
  undefined uVar11;
  int iVar12;
  undefined uVar13;
  undefined uVar14;
  undefined uVar15;
  uint local_28;
  uint local_24;
  
  uVar5 = *(uint *)(param_1 + 0x1b8);
  if ((uVar5 & 0x2000000) == 0) {
    if ((uVar5 & 0x4000000) == 0) {
      if ((uVar5 & 0x8000000) == 0) {
        if ((uVar5 & 0x10000000) == 0) {
          if ((uVar5 & 0x20000000) == 0) {
            return 0;
          }
          uVar5 = 0xdfffffff;
          uVar3 = 0x100;
        }
        else {
          uVar5 = 0xefffffff;
          uVar3 = 0xf0;
        }
      }
      else {
        uVar5 = 0xf7ffffff;
        uVar3 = 0xe0;
      }
      *(undefined2 *)(param_1 + 0x2be) = uVar3;
      *(undefined *)(param_1 + 700) = 1;
      bVar1 = *(ushort *)(param_1 + 0x2c2) < 0x16;
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) & uVar5;
    }
    else {
                    // Possible PsyQ macro: setLineG2()
      *(undefined2 *)(param_1 + 0x2be) = 0x50;
      *(undefined *)(param_1 + 700) = 1;
      *(ushort *)(param_1 + 0x2c0) = (ushort)*(byte *)(param_1 + 0x1b1);
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) & 0xfbffffff;
      bVar1 = *(ushort *)(param_1 + 0x2c2) < 0x16;
    }
  }
  else {
    *(undefined2 *)(param_1 + 0x2be) = 0x40;
    *(undefined *)(param_1 + 700) = 1;
    *(ushort *)(param_1 + 0x2c0) = (ushort)*(byte *)(param_1 + 0x1b0);
    *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) & 0xfdffffff;
    bVar1 = *(ushort *)(param_1 + 0x2c2) < 0x16;
  }
  if (!bVar1) {
    *(undefined2 *)(param_1 + 0x2c2) = 0x15;
  }
  puVar8 = *(undefined **)(param_1 + 0x2c4);
  puVar6 = *(undefined **)(param_1 + 0x2c8);
  **(undefined **)(param_1 + 0x2cc) = 0x96;
  *puVar6 = 0x96;
  *puVar8 = 0x96;
  iVar9 = *(int *)(param_1 + 0x2c4);
  iVar7 = *(int *)(param_1 + 0x2c8);
  *(undefined *)(*(int *)(param_1 + 0x2cc) + 1) = 0x8c;
  *(undefined *)(iVar7 + 1) = 0x8c;
  *(undefined *)(iVar9 + 1) = 0x8c;
  iVar9 = *(int *)(param_1 + 0x2c4);
  iVar7 = *(int *)(param_1 + 0x2c8);
  *(undefined *)(*(int *)(param_1 + 0x2cc) + 2) = 0x14;
  *(undefined *)(iVar7 + 2) = 0x14;
  *(undefined *)(iVar9 + 2) = 0x14;
  if (*(ushort *)(param_1 + 0x2c0) / 1000 == 0) {
    local_28 = (uint)*(ushort *)(param_1 + 0x2c0) % 10;
    local_24 = (*(ushort *)(param_1 + 0x2c0) / 10) % 10;
  }
  else {
    local_24 = 9;
    local_28 = 9;
  }
  iVar7 = *(int *)(param_1 + 0x2c4);
  iVar9 = *(int *)(param_1 + 0x2c8);
  iVar12 = *(int *)(param_1 + 0x2cc);
  FUN_BATTLE_BIN__8007b4ec(iVar12,0,0xeb,0x10,0,0,0,0,0);
  FUN_BATTLE_BIN__8007b4ec(iVar9,0,0xeb,0x10,0,0,0,0,0);
  uVar4 = *(ushort *)(param_1 + 0x2be) & 0x1ff;
  if (uVar4 == 0xe0) {
    puVar6 = *(undefined **)(param_1 + 0x2c4);
    puVar6[2] = 0x80;
    puVar6[1] = 0x80;
    *puVar6 = 0x80;
    uVar2 = 0x1a;
    uVar13 = 0xdb;
    uVar14 = 0x25;
    uVar15 = 10;
LAB_BATTLE_BIN__80080ef4:
    uVar11 = 0xe8;
    uVar10 = 0xf2;
  }
  else {
    if (0xe0 < uVar4) {
      if (uVar4 == 0xf0) {
        puVar6 = *(undefined **)(param_1 + 0x2c4);
        puVar6[2] = 0x80;
        puVar6[1] = 0x80;
        *puVar6 = 0x80;
        uVar2 = 0xd8;
        uVar13 = 0xe9;
        uVar14 = 0x1e;
        uVar15 = 8;
      }
      else {
        if (uVar4 != 0x100) goto LAB_BATTLE_BIN__80080f04;
        puVar6 = *(undefined **)(param_1 + 0x2c4);
        puVar6[2] = 0x80;
        puVar6[1] = 0x80;
        *puVar6 = 0x80;
        uVar2 = 100;
        uVar13 = 0x20;
        uVar14 = 0x1a;
        uVar15 = 9;
      }
      goto LAB_BATTLE_BIN__80080ef4;
    }
    if (uVar4 == 0x40) {
      if (local_24 == 0) {
        FUN_BATTLE_BIN__8007b4ec(iVar7,0,0xf9,0xe8,0xc0,0xb8,0x12,9,0);
        uVar10 = 0xf2;
        uVar11 = 0xe0;
        uVar13 = 0x30;
        uVar14 = 8;
        uVar15 = 0x10;
        uVar2 = (undefined)((local_28 * 8 + 0xa8) * 0x10000 >> 0x10);
        iVar7 = iVar9;
      }
      else {
        FUN_BATTLE_BIN__8007b4ec(iVar7,0,0xf9,0xe8,0xc0,0xb8,0x12,9,0);
        FUN_BATTLE_BIN__8007b4ec
                  (iVar9,0,0xf2,0xe0,(char)((local_28 * 8 + 0xa8) * 0x10000 >> 0x10),0x30,8,0x10,0);
        uVar10 = 0xeb;
        uVar11 = 0xe0;
        uVar13 = 0x30;
        uVar14 = 8;
        uVar15 = 0x10;
        uVar2 = (undefined)((local_24 * 8 + 0xa8) * 0x10000 >> 0x10);
        iVar7 = iVar12;
      }
    }
    else {
      if (uVar4 != 0x50) goto LAB_BATTLE_BIN__80080f04;
      if (local_24 == 0) {
        FUN_BATTLE_BIN__8007b4ec(iVar7,0,0xf9,0xe8,0xb4,0xb8,0xc,9,0);
        uVar10 = 0xf2;
        uVar11 = 0xe0;
        uVar13 = 0x30;
        uVar14 = 8;
        uVar15 = 0x10;
        uVar2 = (undefined)((local_28 * 8 + 0xa8) * 0x10000 >> 0x10);
        iVar7 = iVar9;
      }
      else {
        FUN_BATTLE_BIN__8007b4ec(iVar7,0,0xf9,0xe8,0xb4,0xb8,0xc,9,0);
        FUN_BATTLE_BIN__8007b4ec
                  (iVar9,0,0xf2,0xe0,(char)((local_28 * 8 + 0xa8) * 0x10000 >> 0x10),0x30,8,0x10,0);
        uVar10 = 0xeb;
        uVar11 = 0xe0;
        uVar13 = 0x30;
        uVar14 = 8;
        uVar15 = 0x10;
        uVar2 = (undefined)((local_24 * 8 + 0xa8) * 0x10000 >> 0x10);
        iVar7 = iVar12;
      }
    }
  }
  FUN_BATTLE_BIN__8007b4ec(iVar7,0,uVar10,uVar11,uVar2,uVar13,uVar14,uVar15,0);
LAB_BATTLE_BIN__80080f04:
  FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094ba4,7,(uint)*(byte *)(param_1 + 4),0);
  return 1;
}



void FUN_BATTLE_BIN__80080f44(int param_1)

{
  int iVar1;
  int iVar2;
  
  if ((DAT_800473ac & 0x6000000) == 0) {
    iVar2 = *(int *)(param_1 + 0x2c4);
    iVar1 = *(int *)(param_1 + 0x2c8);
    *(undefined2 *)(*(int *)(param_1 + 0x2cc) + 4) = 0x1f;
    *(undefined2 *)(iVar1 + 4) = 0x1f;
    *(undefined2 *)(iVar2 + 4) = 0x1f;
    if (*(char *)(param_1 + 0x1b0) != '\0') {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 0x2000000;
    }
    if (*(char *)(param_1 + 0x1b1) != '\0') {
      *(uint *)(param_1 + 0x1b8) = *(uint *)(param_1 + 0x1b8) | 0x4000000;
    }
    if (*(char *)(param_1 + 700) == '\0') {
      *(undefined2 *)(param_1 + 0x2c2) = 0;
      FUN_BATTLE_BIN__800808b8(param_1);
    }
  }
  return;
}



void FUN_BATTLE_BIN__80080fec(int param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = *(int *)(param_1 + 0x2c4);
  iVar3 = *(int *)(param_1 + 0x2c8);
  *(undefined2 *)(*(int *)(param_1 + 0x2cc) + 4) = 0x1f;
  *(undefined2 *)(iVar3 + 4) = 0x1f;
  *(undefined2 *)(iVar4 + 4) = 0x1f;
  if (param_2 == 2) {
    uVar1 = *(uint *)(param_1 + 0x1b8);
    uVar2 = 0x10000000;
  }
  else if (param_2 < 3) {
    if (param_2 != 1) goto LAB_BATTLE_BIN__80081078;
    uVar1 = *(uint *)(param_1 + 0x1b8);
    uVar2 = 0x8000000;
  }
  else {
    uVar2 = 0x20000000;
    if (param_2 != 3) goto LAB_BATTLE_BIN__80081078;
    uVar1 = *(uint *)(param_1 + 0x1b8);
  }
  *(uint *)(param_1 + 0x1b8) = uVar1 | uVar2;
LAB_BATTLE_BIN__80081078:
  if (*(char *)(param_1 + 700) == '\0') {
    *(undefined2 *)(param_1 + 0x2c2) = 0;
    FUN_BATTLE_BIN__800808b8(param_1);
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x800813a0)
// WARNING: Removing unreachable block (ram,0x800813ec)
// WARNING: Removing unreachable block (ram,0x80081218)
// WARNING: Removing unreachable block (ram,0x80081264)
// WARNING: Removing unreachable block (ram,0x80081154)
// WARNING: Removing unreachable block (ram,0x800811a0)
// WARNING: Removing unreachable block (ram,0x800812dc)
// WARNING: Removing unreachable block (ram,0x80081328)
// WARNING: Removing unreachable block (ram,0x80081464)
// WARNING: Removing unreachable block (ram,0x800814b0)
// WARNING: Removing unreachable block (ram,0x80081528)
// WARNING: Removing unreachable block (ram,0x80081574)

void FUN_BATTLE_BIN__800810a4(int param_1,short *param_2)

{
  undefined4 *puVar1;
  ushort uVar2;
  undefined4 uVar3;
  ushort uVar4;
  undefined4 uVar5;
  undefined2 uVar6;
  undefined4 uVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  int iVar11;
  uint uVar12;
  int iVar13;
  undefined2 *puVar14;
  undefined2 *puVar15;
  undefined2 *puVar16;
  short local_160;
  short local_15e;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140 [6];
  undefined2 local_128 [12];
  undefined4 local_110 [6];
  undefined2 local_f8 [12];
  undefined4 local_e0 [6];
  undefined2 local_c8 [12];
  undefined4 local_b0 [6];
  undefined2 local_98 [12];
  undefined4 local_80 [6];
  undefined2 local_68 [12];
  undefined4 local_50 [6];
  undefined2 local_38 [12];
  
  local_158 = DAT_BATTLE_BIN__80067830;
  local_154 = DAT_BATTLE_BIN__80067834;
  local_150 = DAT_BATTLE_BIN__80067830;
  local_14c = DAT_BATTLE_BIN__80067834;
  local_148 = DAT_BATTLE_BIN__80067830;
  local_144 = DAT_BATTLE_BIN__80067834;
  puVar1 = &DAT_BATTLE_BIN__80067bac;
  puVar10 = local_140;
  do {
    puVar9 = puVar10;
    puVar8 = puVar1;
    uVar3 = puVar8[1];
    uVar5 = puVar8[2];
    uVar7 = puVar8[3];
    *puVar9 = *puVar8;
    puVar9[1] = uVar3;
    puVar9[2] = uVar5;
    puVar9[3] = uVar7;
    puVar1 = puVar8 + 4;
    puVar10 = puVar9 + 4;
  } while (puVar8 + 4 != (undefined4 *)0x80067bcc);
  uVar3 = puVar8[5];
  uVar6 = *(undefined2 *)(puVar8 + 6);
  puVar9[4] = uRam80067bcc;
  puVar9[5] = uVar3;
  *(undefined2 *)(puVar9 + 6) = uVar6;
  puVar1 = &DAT_BATTLE_BIN__80067bd8;
  puVar10 = local_110;
  do {
    puVar9 = puVar10;
    puVar8 = puVar1;
    uVar3 = puVar8[1];
    uVar5 = puVar8[2];
    uVar7 = puVar8[3];
    *puVar9 = *puVar8;
    puVar9[1] = uVar3;
    puVar9[2] = uVar5;
    puVar9[3] = uVar7;
    puVar1 = puVar8 + 4;
    puVar10 = puVar9 + 4;
  } while (puVar8 + 4 != (undefined4 *)0x80067bf8);
  uVar3 = puVar8[5];
  uVar6 = *(undefined2 *)(puVar8 + 6);
  puVar9[4] = uRam80067bf8;
  puVar9[5] = uVar3;
  *(undefined2 *)(puVar9 + 6) = uVar6;
  puVar1 = &DAT_BATTLE_BIN__80067c04;
  puVar10 = local_e0;
  do {
    puVar9 = puVar10;
    puVar8 = puVar1;
    uVar3 = puVar8[1];
    uVar5 = puVar8[2];
    uVar7 = puVar8[3];
    *puVar9 = *puVar8;
    puVar9[1] = uVar3;
    puVar9[2] = uVar5;
    puVar9[3] = uVar7;
    puVar1 = puVar8 + 4;
    puVar10 = puVar9 + 4;
  } while (puVar8 + 4 != (undefined4 *)0x80067c24);
  uVar3 = puVar8[5];
  uVar6 = *(undefined2 *)(puVar8 + 6);
  puVar9[4] = uRam80067c24;
  puVar9[5] = uVar3;
  *(undefined2 *)(puVar9 + 6) = uVar6;
  puVar1 = &DAT_BATTLE_BIN__80067c30;
  puVar10 = local_b0;
  do {
    puVar9 = puVar10;
    puVar8 = puVar1;
    uVar3 = puVar8[1];
    uVar5 = puVar8[2];
    uVar7 = puVar8[3];
    *puVar9 = *puVar8;
    puVar9[1] = uVar3;
    puVar9[2] = uVar5;
    puVar9[3] = uVar7;
    puVar1 = puVar8 + 4;
    puVar10 = puVar9 + 4;
  } while (puVar8 + 4 != (undefined4 *)0x80067c50);
  uVar3 = puVar8[5];
  uVar6 = *(undefined2 *)(puVar8 + 6);
  puVar9[4] = uRam80067c50;
  puVar9[5] = uVar3;
  *(undefined2 *)(puVar9 + 6) = uVar6;
  puVar1 = &DAT_BATTLE_BIN__80067c5c;
  puVar10 = local_80;
  do {
    puVar9 = puVar10;
    puVar8 = puVar1;
    uVar3 = puVar8[1];
    uVar5 = puVar8[2];
    uVar7 = puVar8[3];
    *puVar9 = *puVar8;
    puVar9[1] = uVar3;
    puVar9[2] = uVar5;
    puVar9[3] = uVar7;
    puVar1 = puVar8 + 4;
    puVar10 = puVar9 + 4;
  } while (puVar8 + 4 != (undefined4 *)0x80067c7c);
  uVar3 = puVar8[5];
  uVar6 = *(undefined2 *)(puVar8 + 6);
  puVar9[4] = uRam80067c7c;
  puVar9[5] = uVar3;
  *(undefined2 *)(puVar9 + 6) = uVar6;
  puVar1 = &DAT_BATTLE_BIN__80067c88;
  puVar10 = local_50;
  do {
    puVar9 = puVar10;
    puVar8 = puVar1;
    uVar3 = puVar8[1];
    uVar5 = puVar8[2];
    uVar7 = puVar8[3];
    *puVar9 = *puVar8;
    puVar9[1] = uVar3;
    puVar9[2] = uVar5;
    puVar9[3] = uVar7;
    puVar10 = puVar9 + 4;
    puVar1 = puVar8 + 4;
  } while (puVar8 + 4 != (undefined4 *)0x80067ca8);
  uVar3 = puVar8[5];
  uVar6 = *(undefined2 *)(puVar8 + 6);
  *puVar10 = uRam80067ca8;
  puVar9[5] = uVar3;
  *(undefined2 *)(puVar9 + 6) = uVar6;
  puVar14 = *(undefined2 **)(param_1 + 0x2c4);
  puVar15 = *(undefined2 **)(param_1 + 0x2c8);
  puVar16 = *(undefined2 **)(param_1 + 0x2cc);
  uVar2 = *(short *)(param_1 + 0x2c2) + (short)DAT_80045980;
  uVar12 = (uint)uVar2;
  if (0x14 < uVar12) {
    if ((uVar12 < 0x32) || (0x31 < *(ushort *)(param_1 + 0x2c2))) {
      if (0x3c < uVar2) {
        iVar13 = FUN_BATTLE_BIN__8007f5f8(param_1,uVar7,0xa8,(char)puVar10);
        if (iVar13 != 0) {
          return;
        }
        iVar13 = FUN_BATTLE_BIN__800808b8(param_1);
        if (iVar13 != 0) {
          return;
        }
        *(undefined *)(param_1 + 700) = 0;
      }
    }
    else {
      iVar13 = FUN_BATTLE_BIN__8007f5f8(param_1,uVar7,0xa8,(char)puVar10);
      if (iVar13 != 0) {
        return;
      }
      iVar13 = FUN_BATTLE_BIN__800808b8(param_1);
      if (iVar13 != 0) {
        return;
      }
      iVar11 = *(int *)(param_1 + 0x2c4);
      iVar13 = *(int *)(param_1 + 0x2c8);
      *(undefined2 *)(*(int *)(param_1 + 0x2cc) + 4) = 0x3f;
      *(undefined2 *)(iVar13 + 4) = 0x3f;
      *(undefined2 *)(iVar11 + 4) = 0x3f;
      FUN_BATTLE_BIN__8008f710(4,2,7,(uint)*(byte *)(param_1 + 4),0,0xffe1,0xffe1,0xffe1);
      FUN_BATTLE_BIN__8007b554((int)puVar14,0,1);
      FUN_BATTLE_BIN__8007b554((int)puVar15,0,1);
      FUN_BATTLE_BIN__8007b554((int)puVar16,0,1);
    }
    goto LAB_BATTLE_BIN__8008182c;
  }
  iVar13 = uVar12 * 2;
  if ((*(ushort *)(param_1 + 0x2be) & 0x200) == 0) {
    uVar4 = *(ushort *)(param_1 + 0x2be) & 0x1ff;
    if (uVar4 != 0x10) {
      if (uVar4 < 0x11) {
        iVar13 = (uint)uVar2 * 2;
        uVar6 = *(undefined2 *)((int)local_140 + iVar13);
        Store_3_Halfwords((undefined2 *)&local_158,uVar6,uVar6,uVar6);
        uVar6 = *(undefined2 *)((int)local_110 + iVar13);
        Store_3_Halfwords((undefined2 *)&local_150,uVar6,uVar6,uVar6);
        uVar6 = *(undefined2 *)((int)local_e0 + iVar13);
        goto LAB_BATTLE_BIN__80081730;
      }
      if (uVar4 != 0x40) {
        if (uVar4 < 0x41) {
          if (uVar4 != 0x20) goto LAB_BATTLE_BIN__8008182c;
        }
        else if (uVar4 != 0x50) goto LAB_BATTLE_BIN__8008182c;
      }
    }
    iVar13 = (uint)uVar2 * 2;
    uVar6 = *(undefined2 *)((int)local_110 + iVar13);
    Store_3_Halfwords((undefined2 *)&local_158,uVar6,uVar6,uVar6);
    uVar6 = *(undefined2 *)((int)local_110 + iVar13);
    Store_3_Halfwords((undefined2 *)&local_150,uVar6,uVar6,uVar6);
    uVar6 = *(undefined2 *)((int)local_110 + iVar13);
  }
  else {
    uVar6 = *(undefined2 *)((int)local_b0 + iVar13);
    Store_3_Halfwords((undefined2 *)&local_158,uVar6,uVar6,uVar6);
    uVar6 = *(undefined2 *)((int)local_80 + iVar13);
    Store_3_Halfwords((undefined2 *)&local_150,uVar6,uVar6,uVar6);
    uVar6 = *(undefined2 *)((int)local_50 + iVar13);
  }
LAB_BATTLE_BIN__80081730:
  Store_3_Halfwords((undefined2 *)&local_148,uVar6,uVar6,uVar6);
LAB_BATTLE_BIN__8008182c:
  local_160 = *param_2 + 0x15;
  local_15e = param_2[1] + -8;
  switch(*(ushort *)(param_1 + 0x2be) & 0x1ff) {
  case 0:
  case 2:
  case 4:
  case 6:
  case 8:
  case 10:
  case 0xc:
  case 0xe:
    local_15e = param_2[1] + -0x30;
    break;
  case 1:
  case 3:
  case 5:
  case 7:
  case 9:
  case 0xb:
  case 0xd:
  case 0xf:
    local_15e = param_2[1] + -0x10;
  }
  iVar13 = Get_OTAG_List();
  FUN_BATTLE_BIN__8007af44
            (puVar14,(uint)*(byte *)((int)puVar14 + 3),0,&local_160,0,0,(short *)&local_158,
             (uint *)(iVar13 + 4));
  iVar13 = Get_OTAG_List();
  FUN_BATTLE_BIN__8007af44
            (puVar15,(uint)*(byte *)((int)puVar15 + 3),0,&local_160,0,0,(short *)&local_150,
             (uint *)(iVar13 + 4));
  iVar13 = Get_OTAG_List();
  FUN_BATTLE_BIN__8007af44
            (puVar16,(uint)*(byte *)((int)puVar16 + 3),0,&local_160,0,0,(short *)&local_148,
             (uint *)(iVar13 + 4));
  *(short *)(param_1 + 0x2c2) = *(short *)(param_1 + 0x2c2) + (short)DAT_80045980;
  return;
}



void FUN_BATTLE_BIN__80081978(short param_1,undefined2 param_2,int param_3)

{
  *(short *)(param_3 + 0xc) = param_1 + 1;
  *(undefined2 *)(param_3 + 0x70) = param_2;
  return;
}



void FUN_BATTLE_BIN__80081988(short param_1,undefined2 param_2,int param_3)

{
  *(short *)(param_3 + 0xc) = param_1 + 1;
  *(undefined2 *)(param_3 + 0x70) = param_2;
  *(uint *)(param_3 + 0x80) = *(uint *)(param_3 + 0x80) | 0x20000000;
  return;
}



undefined * FUN_BATTLE_BIN__800819a8(uint param_1)

{
  undefined *puVar1;
  
  if ((byte)(&DAT_BATTLE_BIN__80094748)[(param_1 & 0xffff) * 4] < 5) {
    puVar1 = (undefined *)
             ((uint)(byte)(&DAT_BATTLE_BIN__80094748)[(param_1 & 0xffff) * 4] * 0x688 + -0x7ff69d0c)
    ;
  }
  else {
    puVar1 = &DAT_BATTLE_BIN__8009839c;
  }
  return puVar1;
}



undefined * FUN_BATTLE_BIN__80081a08(uint param_1)

{
  undefined *puVar1;
  
  if ((byte)(&DAT_BATTLE_BIN__80094749)[(param_1 & 0xffff) * 4] < 5) {
    puVar1 = (undefined *)
             ((uint)(byte)(&DAT_BATTLE_BIN__80094749)[(param_1 & 0xffff) * 4] * 0x408 + -0x7ff405d0)
    ;
  }
  else {
    puVar1 = &DAT_BATTLE_BIN__800c0e58;
  }
  return puVar1;
}



int FUN_BATTLE_BIN__80081a58(uint param_1)

{
  return (uint)(byte)(&DAT_BATTLE_BIN__80094748)[(param_1 & 0xffff) * 4] * 0xc40 + -0x7ff420f4;
}



int FUN_BATTLE_BIN__80081a94(uint param_1)

{
  return (uint)(byte)(&DAT_BATTLE_BIN__80094748)[(param_1 & 0xffff) * 4] * 0xc40 + -0x7ff418b4;
}



undefined * FUN_BATTLE_BIN__80081ad0(void)

{
  return &DAT_BATTLE_BIN__800b669c;
}



undefined * FUN_BATTLE_BIN__80081ae0(void)

{
  return &DAT_BATTLE_BIN__800b6edc;
}



undefined FUN_BATTLE_BIN__80081af0(uint param_1)

{
  return (&DAT_BATTLE_BIN__8009474a)[(param_1 & 0xffff) * 4];
}



void FUN_BATTLE_BIN__80081b0c(int *param_1)

{
  int iVar1;
  
  *(undefined *)(param_1 + 0x20) = *(undefined *)(param_1 + 0x1f);
  *(undefined *)((int)param_1 + 0x81) = *(undefined *)((int)param_1 + 0x7d);
  *(undefined *)((int)param_1 + 0x82) = *(undefined *)((int)param_1 + 0x7e);
  *(ushort *)(param_1 + 0x10) = (ushort)*(byte *)(param_1 + 0x1f) * 0x1c + 0xe;
  *(ushort *)(param_1 + 0x11) = (ushort)*(byte *)((int)param_1 + 0x7d) * 0x1c + 0xe;
  iVar1 = FUN_BATTLE_BIN__8007d3f4(param_1);
  *(short *)((int)param_1 + 0x42) = (short)iVar1;
  FUN_BATTLE_BIN__80089554((int)param_1);
  return;
}



void FUN_BATTLE_BIN__80081b88(int *param_1)

{
  uint uVar1;
  
  if (param_1[0x60] != 0) {
    FUN_BATTLE_BIN__800692bc((int)param_1);
    *(undefined *)(param_1 + 0x1f) = *(undefined *)(param_1 + 0x61);
    *(undefined *)((int)param_1 + 0x7d) = *(undefined *)(param_1 + 0x62);
    *(undefined *)((int)param_1 + 0x7e) = *(undefined *)((int)param_1 + 0x186);
    FUN_BATTLE_BIN__80081b0c(param_1);
    uVar1 = (uint)*(short *)(param_1 + 0x1c);
    if ((int)uVar1 < 0) {
      uVar1 = uVar1 + 0x3ff;
    }
    FUN_BATTLE_BIN__8017fddc
              ((uint)*(byte *)(param_1[0x4d] + 0x18a),*(byte *)(param_1 + 0x1f),
               *(byte *)((int)param_1 + 0x7d),(uint)*(byte *)((int)param_1 + 0x7e),
               (byte)(uVar1 >> 10));
    param_1[0x60] = 0;
  }
  return;
}



undefined4 FUN_BATTLE_BIN__80081c1c(ushort param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  iVar1 = 0;
  do {
    if ((byte)(&DAT_BATTLE_BIN__800c7ce9)[iVar1] == param_1) {
      return 1;
    }
    iVar2 = iVar2 + 1;
    iVar1 = iVar1 + 0x32d6;
  } while (iVar2 < 9);
  return 0;
}



uint FUN_BATTLE_BIN__80081c60(ushort param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  undefined uVar4;
  
  uVar2 = 0;
  iVar3 = 0;
  do {
    uVar4 = (undefined)param_1;
    if ((byte)(&DAT_BATTLE_BIN__800c7ce9)[iVar3] == param_1) {
      (&DAT_BATTLE_BIN__800c7ce8)[iVar3] = uVar4;
      uVar1 = uVar2;
      break;
    }
    uVar2 = uVar2 + 1;
    iVar3 = iVar3 + 0x32d6;
    uVar1 = 0xff;
  } while ((int)uVar2 < 9);
  if ((uVar1 & 0xffff) == 0xff) {
    uVar2 = 0;
    iVar3 = 0;
    do {
      if ((&DAT_BATTLE_BIN__800c7ce8)[iVar3] == '\0') {
        (&DAT_BATTLE_BIN__800c7ce8)[iVar3] = uVar4;
        (&DAT_BATTLE_BIN__800c7ce9)[iVar3] = uVar4;
        uVar1 = uVar2;
        break;
      }
      uVar2 = uVar2 + 1;
      iVar3 = iVar3 + 0x32d6;
    } while ((int)uVar2 < 9);
  }
  uVar1 = uVar1 & 0xffff;
  if (8 < (int)uVar2) {
    ERROREXCEPTION_DEPRECATED();
    uVar1 = 0xffff;
  }
  return uVar1;
}



void FUN_BATTLE_BIN__80081d54(int *param_1,int param_2,int param_3)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  undefined4 uVar5;
  int iVar6;
  ushort *puVar7;
  undefined1 *puVar8;
  ushort uVar9;
  ushort uVar10;
  ushort uVar11;
  
  bVar1 = *(byte *)((int)param_1 + 5);
  bVar2 = *(byte *)((int)param_1 + 7);
  iVar6 = (uint)bVar1 * 0x32d6;
  bVar3 = *(byte *)(param_1 + 1);
  if ((byte)(&DAT_BATTLE_BIN__800c7ce9)[iVar6] - 0x60 < 0x3b) {
    puVar7 = (ushort *)(iVar6 + (uint)bVar2 * 0x20 + -0x7ff35142);
  }
  else {
    puVar7 = (ushort *)(iVar6 + -0x7ff35142);
  }
  FUN_BATTLE_BIN__800926d8(puVar7,10,(uint)bVar3,0);
  uVar10 = 0;
  uVar11 = 0;
  uVar9 = 0;
  if (param_2 == 2) {
    uVar10 = 0xfff8;
    uVar11 = 0xfff8;
    uVar9 = 0xfff8;
  }
  else if (param_2 < 3) {
    if (param_2 == 1) {
      uVar10 = 0xfffc;
      uVar11 = 0xfffc;
      uVar9 = 0xfffc;
    }
  }
  else if (param_2 == 3) {
    uVar10 = 0xfff4;
    uVar11 = 0xfff4;
    uVar9 = 0xfff4;
  }
  if ((DAT_BATTLE_BIN__800b6698 & 2) != 0) goto switchD_BATTLE_BIN__80081ee0_caseD_0;
  uVar5 = FUN_BATTLE_BIN__8013b590(0x23);
  iVar6 = FUN_BATTLE_BIN__8013b590(0x24);
  if (iVar6 == 0) {
    if ((DAT_BATTLE_BIN__800b6698 & 1) == 0) {
      switch(uVar5) {
      case 0:
      case 1:
        goto switchD_BATTLE_BIN__80081ee0_caseD_0;
      case 2:
        goto switchD_BATTLE_BIN__80081ee0_caseD_2;
      default:
        uVar9 = uVar9 - 2;
        goto LAB_BATTLE_BIN__80081f7c;
      }
    }
    switch(uVar5) {
    case 0:
    case 1:
      break;
    case 2:
switchD_BATTLE_BIN__80081ee0_caseD_2:
      uVar9 = uVar9 - 1;
      uVar10 = uVar10 + 1;
      break;
    default:
      uVar9 = uVar9 - 2;
      goto LAB_BATTLE_BIN__80081f7c;
    }
  }
  else {
    if ((DAT_BATTLE_BIN__800b6698 & 1) == 0) {
      switch(uVar5) {
      case 0:
      case 1:
        goto switchD_BATTLE_BIN__80081f50_caseD_0;
      case 2:
        goto switchD_BATTLE_BIN__80081f50_caseD_2;
      default:
        goto switchD_BATTLE_BIN__80081f50_caseD_3;
      }
    }
    switch(uVar5) {
    case 0:
    case 1:
switchD_BATTLE_BIN__80081f50_caseD_0:
      uVar9 = uVar9 - 3;
      break;
    case 2:
switchD_BATTLE_BIN__80081f50_caseD_2:
      uVar9 = uVar9 - 4;
      uVar11 = uVar11 - 1;
      uVar10 = uVar10 + 3;
      goto switchD_BATTLE_BIN__80081ee0_caseD_0;
    default:
switchD_BATTLE_BIN__80081f50_caseD_3:
      uVar9 = uVar9 - 4;
      uVar11 = uVar11 - 2;
      uVar10 = uVar10 + 4;
      goto switchD_BATTLE_BIN__80081ee0_caseD_0;
    }
LAB_BATTLE_BIN__80081f7c:
    uVar11 = uVar11 - 1;
    uVar10 = uVar10 + 2;
  }
switchD_BATTLE_BIN__80081ee0_caseD_0:
  iVar6 = FUN_BATTLE_BIN__8007d3f4(param_1);
  if (((DAT_BATTLE_BIN__800b6698 & 2) == 0) &&
     ((int)*(short *)((int)param_1 + 0x42) < (short)iVar6 + -0x30)) {
    uVar10 = 0;
    uVar11 = 0;
    uVar9 = 0;
  }
  bVar4 = *(byte *)((int)param_1 + 6);
  if (bVar4 == 0x9c) {
    puVar8 = &DAT_BATTLE_BIN__800bf790;
    goto LAB_BATTLE_BIN__8008209c;
  }
  if (bVar4 < 0x9d) {
    if (bVar4 == 0x9b) {
      puVar8 = (undefined1 *)0x800bf8d0;
      goto LAB_BATTLE_BIN__8008209c;
    }
  }
  else {
    if (bVar4 == 0x9d) {
      puVar8 = (undefined1 *)0x800bf830;
      goto LAB_BATTLE_BIN__8008209c;
    }
    if (bVar4 == 0x9e) {
      puVar8 = (undefined1 *)0x800bf990;
      goto LAB_BATTLE_BIN__8008209c;
    }
  }
  puVar8 = &DAT_BATTLE_BIN__800cadbe + (uint)bVar1 * 0x32d6;
LAB_BATTLE_BIN__8008209c:
  FUN_BATTLE_BIN__80092d4c
            ((ushort *)(puVar8 + (uint)bVar2 * 0x20),3,(uint)bVar3,0,uVar9,uVar11,uVar10,param_3);
  return;
}



void FUN_BATTLE_BIN__80082110
               (int param_1,int param_2,int param_3,int param_4,int param_5,ushort param_6,
               ushort param_7,ushort param_8,int param_9)

{
  byte bVar1;
  ushort *puVar2;
  uint uVar3;
  
  bVar1 = *(byte *)(param_1 + 6);
  uVar3 = (uint)*(byte *)(param_1 + 7);
  if (bVar1 == 0x9c) {
    puVar2 = (ushort *)(&DAT_BATTLE_BIN__800bf790 + uVar3 * 0x20);
    goto LAB_BATTLE_BIN__80082298;
  }
  if (bVar1 < 0x9d) {
    if (bVar1 == 0x9b) {
      puVar2 = (ushort *)(uVar3 * 0x20 + -0x7ff40730);
      goto LAB_BATTLE_BIN__80082298;
    }
  }
  else {
    if (bVar1 == 0x9d) {
      puVar2 = (ushort *)(uVar3 * 0x20 + -0x7ff407d0);
      goto LAB_BATTLE_BIN__80082298;
    }
    if (bVar1 == 0x9e) {
      puVar2 = (ushort *)(uVar3 * 0x20 + -0x7ff40670);
      goto LAB_BATTLE_BIN__80082298;
    }
  }
  puVar2 = (ushort *)
           (&DAT_BATTLE_BIN__800cadbe + uVar3 * 0x20 + (uint)*(byte *)(param_1 + 5) * 0x32d6);
LAB_BATTLE_BIN__80082298:
  FUN_BATTLE_BIN__800927bc(param_2,puVar2,param_3,param_4,param_5,param_6,param_7,param_8,param_9);
  return;
}



void FUN_BATTLE_BIN__800822bc(int *param_1,int param_2,int param_3)

{
  uint uVar1;
  int iVar2;
  ushort uVar3;
  ushort uVar4;
  ushort uVar5;
  
  if (*(char *)((int)param_1 + 0x13e) != '\0') {
    return;
  }
  uVar1 = param_1[0x50];
  if ((uVar1 & 0x60c26020) == 0) {
LAB_BATTLE_BIN__80082450:
    FUN_BATTLE_BIN__80081d54(param_1,param_2,param_3);
    return;
  }
  if ((uVar1 & 0x20) == 0) {
    if ((uVar1 & 0x20000) == 0) {
      if ((uVar1 & 0x4000) == 0) {
        if ((uVar1 & 0x400000) == 0) {
          if ((uVar1 & 0x20000000) == 0) {
            uVar5 = 0xfffc;
            if ((uVar1 & 0x800000) != 0) {
              iVar2 = 5;
              uVar3 = 0xfffc;
              uVar4 = 0xfffc;
              goto LAB_BATTLE_BIN__80082440;
            }
            if ((uVar1 & 0x2000) != 0) {
              iVar2 = 5;
              uVar5 = 0xfff8;
              uVar3 = 0xfff8;
              uVar4 = 0xfff8;
              goto LAB_BATTLE_BIN__80082440;
            }
            if (((uVar1 & 0x40000000) == 0) || ((byte)(*(char *)((int)param_1 + 6) + 0x75U) < 2))
            goto LAB_BATTLE_BIN__80082450;
            iVar2 = 5;
            uVar3 = 4;
            uVar5 = 5;
          }
          else {
            iVar2 = 4;
            uVar5 = 8;
            uVar3 = 0;
          }
          uVar4 = 0;
        }
        else {
          iVar2 = 5;
          uVar3 = 0;
          uVar4 = 8;
          uVar5 = 0;
        }
      }
      else {
        iVar2 = 4;
        uVar3 = 8;
        uVar4 = 0;
        uVar5 = 0;
      }
    }
    else {
      iVar2 = 6;
      uVar3 = 3;
      uVar4 = 0xffff;
      uVar5 = 8;
    }
  }
  else {
    iVar2 = 6;
    uVar3 = 0;
    uVar4 = 0;
    uVar5 = 0;
  }
LAB_BATTLE_BIN__80082440:
  FUN_BATTLE_BIN__80082110
            ((int)param_1,iVar2,3,(uint)*(byte *)(param_1 + 1),0,uVar3,uVar4,uVar5,param_3);
  return;
}



void FUN_BATTLE_BIN__80082468(int *param_1,int param_2,int param_3)

{
  int *piVar1;
  
  if ((param_1[0x20] & 0x4000000U) == 0) {
    FUN_BATTLE_BIN__800822bc(param_1,param_2,param_3);
  }
  if (((*(char *)(param_1 + 0x4c) != '\0') &&
      (piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)((int)param_1 + 0x131)),
      piVar1 != (int *)0x0)) && ((piVar1[0x20] & 0x4000000U) == 0)) {
    FUN_BATTLE_BIN__800822bc(piVar1,param_2,param_3);
  }
  return;
}



void FUN_BATTLE_BIN__80082508(int param_1)

{
  if (((*(uint *)(param_1 + 0x140) & 0x1fffc2c4) == 0) &&
     (*(byte *)(param_1 + 4) != DAT_BATTLE_BIN__80096118)) {
    *(undefined *)(param_1 + 0x2dc) = 0;
  }
  else {
    *(undefined *)(param_1 + 0x2dc) = 1;
    *(undefined2 *)(param_1 + 0x2e0) = 0;
  }
  return;
}



void FUN_BATTLE_BIN__80082550(int param_1)

{
  ushort uVar1;
  
  if ((*(uint *)(param_1 + 0x144) & 0x10) == 0) {
    uVar1 = *(ushort *)(param_1 + 0x12) & 0xfffe;
  }
  else {
    uVar1 = *(ushort *)(param_1 + 0x12) & 0xff9f | 1;
  }
  *(ushort *)(param_1 + 0x12) = uVar1;
  return;
}



void FUN_BATTLE_BIN__8008258c(int *param_1)

{
  uint uVar1;
  int iVar2;
  
  if ((param_1[0x51] & 0x20U) == 0) {
    uVar1 = param_1[0x20] & 0xefffffff;
  }
  else {
    uVar1 = param_1[0x20] | 0x10000000;
  }
  param_1[0x20] = uVar1;
  if (((param_1[0x51] & 0x240U) == 0) && ((param_1[0x55] & 0x40U) == 0)) {
    iVar2 = FUN_BATTLE_BIN__8007d3f4(param_1);
    *(short *)((int)param_1 + 0x42) = (short)iVar2;
    FUN_BATTLE_BIN__80089554((int)param_1);
  }
  return;
}



void FUN_BATTLE_BIN__80082620(int param_1,int param_2)

{
  PrimaryItemData *pPVar1;
  int iVar2;
  int *piVar3;
  MusicDataHeader *pMVar4;
  int iVar5;
  uint uVar6;
  
  pPVar1 = Get_Item_DataPointer((uint)*(byte *)(param_1 + 0x1ab));
  uVar6 = (uint)pPVar1->ItemType;
  if (0x1f < uVar6) {
    uVar6 = 1;
  }
  if (param_2 == 0) {
    FUN_BATTLE_BIN__8006b960(param_1,(MusicDataHeader *)(uint)*(byte *)(uVar6 + 0x80093d40));
  }
  else if ((param_2 == 1) && (iVar5 = 0, iVar2 = param_1, *(char *)(param_1 + 0x18d) != '\0')) {
    do {
      piVar3 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)(iVar2 + 0x18e));
      if ((piVar3 != (int *)0x0) && (piVar3[0x4d] != 0)) {
        switch(*(undefined *)(piVar3[0x4d] + 0x18e)) {
        case 1:
        case 4:
        case 7:
        case 0xb:
        case 0xd:
          pMVar4 = (MusicDataHeader *)0x30;
          break;
        case 2:
        case 3:
        case 10:
          pMVar4 = (MusicDataHeader *)(uint)*(byte *)(uVar6 + 0x80093d80);
          break;
        case 5:
        case 6:
        case 8:
          goto switchD_BATTLE_BIN__800826fc_caseD_5;
        default:
          if (*(char *)(piVar3[0x4d] + 0x18d) == '\0') {
            pMVar4 = (MusicDataHeader *)(uint)*(byte *)(uVar6 + 0x80093d60);
          }
          else {
            pMVar4 = (MusicDataHeader *)0x72;
          }
        }
        FUN_BATTLE_BIN__8006b960(param_1,pMVar4);
      }
switchD_BATTLE_BIN__800826fc_caseD_5:
      iVar5 = iVar5 + 1;
      iVar2 = param_1 + iVar5;
    } while (iVar5 < (int)(uint)*(byte *)(param_1 + 0x18d));
  }
  return;
}



byte FUN_BATTLE_BIN__8008278c(int param_1)

{
  undefined1 *puVar1;
  uint uVar2;
  uint uVar3;
  
  puVar1 = FUN_BATTLE_BIN__80183fb4
                     (((int)*(short *)(param_1 + 0x40) / 0x1c) * 0x10000 >> 0x10,
                      ((int)*(short *)(param_1 + 0x44) / 0x1c) * 0x10000 >> 0x10,
                      (uint)*(byte *)(param_1 + 0x7e));
  if (*(int *)(param_1 + 0x134) != 0) {
    uVar2 = FUN_BATTLE_BIN__8017f020(*(int *)(param_1 + 0x134));
    if ((uVar2 & 0x20) != 0) {
      return 0;
    }
    uVar3 = *(uint *)(param_1 + 0x144);
    if ((uVar3 & 0x20) != 0) {
      return 0;
    }
    if ((uVar3 & 0xe) != 0) {
      return 1;
    }
    if ((uVar2 & 0x10) != 0) {
      return 1;
    }
    if ((uVar3 & 1) != 0) {
      return 0;
    }
  }
  return (byte)puVar1[3] >> 5;
}



void FUN_BATTLE_BIN__8008288c(int param_1,int param_2)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  ushort uVar4;
  undefined2 uVar5;
  
  if (param_1 == 0) {
    return;
  }
  if (param_2 != 0) {
    if (0x9a < *(byte *)(param_1 + 6)) {
      uVar4 = (ushort)(byte)s__>__AB_AB_AB_AB_AB_AB_AB_AB_ABPQ_BATTLE_BIN__80094364[1];
      uVar5 = *(undefined2 *)(param_1 + 0x70);
      goto LAB_BATTLE_BIN__80082a20;
    }
    if (*(byte *)(param_1 + 0x13b) == 0xc) {
      iVar2 = FUN_BATTLE_BIN__801b0460();
      uVar4 = (ushort)(byte)s__>__AB_AB_AB_AB_AB_AB_AB_AB_ABPQ_BATTLE_BIN__80094364[iVar2 + 0x24];
      uVar5 = *(undefined2 *)(param_1 + 0x70);
      goto LAB_BATTLE_BIN__80082a20;
    }
    bVar1 = *(byte *)(*(int *)(param_2 + 0x134) + 0x18e);
    if ((((bVar1 != 0) && (8 < bVar1)) && (bVar1 < 0xc)) && (9 < bVar1)) {
      uVar4 = (ushort)(byte)s__>__AB_AB_AB_AB_AB_AB_AB_AB_ABPQ_BATTLE_BIN__80094364
                            [(uint)*(byte *)(param_1 + 0x13b) * 3];
      uVar5 = *(undefined2 *)(param_1 + 0x70);
      goto LAB_BATTLE_BIN__80082a20;
    }
    iVar2 = FUN_BATTLE_BIN__8008dc74((ushort)*(byte *)(param_1 + 4));
    uVar4 = *(ushort *)(param_1 + 0x42);
    iVar3 = FUN_BATTLE_BIN__8008dc74((ushort)*(byte *)(param_2 + 4));
    iVar2 = ((int)((iVar2 / 2 - (uint)uVar4) * 0x10000) >> 0x10) -
            ((int)((iVar3 / 2 - (uint)*(ushort *)(param_2 + 0x42)) * 0x10000) >> 0x10);
    if (iVar2 < -0xb) {
      uVar5 = *(undefined2 *)(param_1 + 0x70);
      uVar4 = (ushort)(byte)s__>__AB_AB_AB_AB_AB_AB_AB_AB_ABPQ_BATTLE_BIN__80094364
                            [(uint)*(byte *)(param_1 + 0x13b) * 3];
      goto LAB_BATTLE_BIN__80082a20;
    }
    if (0xb < iVar2) {
      uVar5 = *(undefined2 *)(param_1 + 0x70);
      uVar4 = (ushort)(byte)s__>__AB_AB_AB_AB_AB_AB_AB_AB_ABPQ_BATTLE_BIN__80094364
                            [(uint)*(byte *)(param_1 + 0x13b) * 3 + 2];
      goto LAB_BATTLE_BIN__80082a20;
    }
  }
  uVar5 = *(undefined2 *)(param_1 + 0x70);
  uVar4 = (ushort)(byte)s__>__AB_AB_AB_AB_AB_AB_AB_AB_ABPQ_BATTLE_BIN__80094364
                        [(uint)*(byte *)(param_1 + 0x13b) * 3 + 1];
LAB_BATTLE_BIN__80082a20:
  FUN_BATTLE_BIN__80081988(uVar4,uVar5,param_1);
  return;
}



void FUN_BATTLE_BIN__80082a44(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  FUN_BATTLE_BIN__8007f45c(param_1,(uint)*(byte *)(param_1 + 0x13a));
  iVar2 = 0;
  if (param_2 == 0) {
    iVar1 = 0;
  }
  else {
    iVar2 = (uint)*(byte *)(param_2 + 0x7c) - (uint)*(byte *)(param_1 + 0x7c);
    iVar1 = (uint)*(byte *)(param_2 + 0x7d) - (uint)*(byte *)(param_1 + 0x7d);
  }
  if (iVar2 < 0) {
    iVar2 = -iVar2;
  }
  if (iVar1 < 0) {
    iVar1 = -iVar1;
  }
  if ((((iVar2 < 1) && (iVar1 < 1)) || ((iVar2 < 2 && (iVar1 == 0)))) ||
     ((iVar2 == 0 && (iVar1 < 2)))) {
    FUN_BATTLE_BIN__80081978(0x39,*(undefined2 *)(param_1 + 0x70),param_1);
  }
  else {
    *(undefined *)(param_1 + 0x2d0) = 0;
    FUN_BATTLE_BIN__80081988(0x4c,*(undefined2 *)(param_1 + 0x70),param_1);
  }
  return;
}



void FUN_BATTLE_BIN__80082b1c(int param_1)

{
  if ((&DAT_BATTLE_BIN__80093de8)
      [(uint)(byte)(&DAT_BATTLE_BIN__80093e10)[(uint)*(ushort *)(param_1 + 0x138) * 3] * 2] != 0) {
    FUN_BATTLE_BIN__80081978
              ((ushort)(byte)(&DAT_BATTLE_BIN__80093de8)
                             [(uint)(byte)(&DAT_BATTLE_BIN__80093e10)
                                          [(uint)*(ushort *)(param_1 + 0x138) * 3] * 2],
               *(undefined2 *)(param_1 + 0x70),param_1);
  }
  return;
}



void FUN_BATTLE_BIN__80082b80(int param_1)

{
  byte bVar1;
  byte bVar2;
  ushort uVar3;
  
  bVar1 = s_________BATTLE_BIN__80093de9
          [(uint)(byte)(&DAT_BATTLE_BIN__80093e10)[(uint)*(ushort *)(param_1 + 0x138) * 3] * 2];
  if (bVar1 != 0) {
    bVar2 = FUN_BATTLE_BIN__8008278c(param_1);
    uVar3 = 9;
    if (bVar2 < 2) {
      uVar3 = (ushort)bVar1;
    }
    FUN_BATTLE_BIN__80081978(uVar3,*(undefined2 *)(param_1 + 0x70),param_1);
  }
  return;
}



void FUN_BATTLE_BIN__80082c10(int param_1,int param_2)

{
  byte bVar1;
  ushort uVar2;
  undefined2 uVar3;
  
  if (((byte)(&DAT_BATTLE_BIN__80094749)[(uint)*(byte *)(param_1 + 6) * 4] < 8) &&
     (uVar2 = 0x2c, 4 < (byte)(&DAT_BATTLE_BIN__80094749)[(uint)*(byte *)(param_1 + 6) * 4])) {
    uVar3 = *(undefined2 *)(param_1 + 0x70);
  }
  else {
    bVar1 = (&DAT_BATTLE_BIN__80093e11)[(uint)*(ushort *)(param_1 + 0x138) * 3];
    uVar2 = (ushort)bVar1;
    if (bVar1 == 0) {
      FUN_BATTLE_BIN__8008288c(param_1,param_2);
      return;
    }
    if (bVar1 == 1) {
      FUN_BATTLE_BIN__80082a44(param_1,param_2);
      return;
    }
    uVar3 = *(undefined2 *)(param_1 + 0x70);
  }
  FUN_BATTLE_BIN__80081978(uVar2,uVar3,param_1);
  return;
}



void FUN_BATTLE_BIN__80082cc4(int param_1)

{
  byte bVar1;
  short sVar2;
  
  sVar2 = 0x1d;
  if (*(char *)(param_1 + 0x130) != '\x01') {
    bVar1 = FUN_BATTLE_BIN__8008278c(param_1);
    if (bVar1 == 1) {
      sVar2 = 0x1d;
    }
    else if (bVar1 < 2) {
      sVar2 = 0x1c;
      if (bVar1 != 0) {
        return;
      }
    }
    else {
      sVar2 = 9;
      if (bVar1 != 2) {
        return;
      }
    }
  }
  FUN_BATTLE_BIN__80081978(sVar2,*(undefined2 *)(param_1 + 0x70),param_1);
  return;
}



void FUN_BATTLE_BIN__80082df8(int param_1)

{
  byte bVar1;
  int *piVar2;
  short sVar3;
  
  sVar3 = 0x32;
  if (*(char *)(param_1 + 0x130) != '\x01') {
    bVar1 = FUN_BATTLE_BIN__8008278c(param_1);
    if (bVar1 < 2) {
      if (*(int *)(param_1 + 0x38) < 0x3000) {
        sVar3 = 0xc;
        if (*(int *)(param_1 + 0x38) < 0x1401) {
          sVar3 = 0xe;
        }
      }
      else {
        sVar3 = 0xd;
      }
      if ((*(char *)(param_1 + 0x130) == '\x02') &&
         (piVar2 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131)),
         piVar2 != (int *)0x0)) {
        FUN_BATTLE_BIN__80081978(0x32,*(undefined2 *)(param_1 + 0x70),(int)piVar2);
      }
    }
    else if (*(int *)(param_1 + 0x38) < 0x3000) {
      sVar3 = 9;
      if (*(int *)(param_1 + 0x38) < 0x1401) {
        sVar3 = 0xb;
      }
    }
    else {
      sVar3 = 10;
    }
    if (sVar3 == 0) {
      return;
    }
  }
  FUN_BATTLE_BIN__80081978(sVar3,*(undefined2 *)(param_1 + 0x70),param_1);
  return;
}



void FUN_BATTLE_BIN__80082eec(int param_1)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  short sVar4;
  
  bVar1 = FUN_BATTLE_BIN__8008278c(param_1);
  sVar4 = 0;
  if (bVar1 < 2) {
    if ((*(uint *)(param_1 + 0x144) & 1) == 0) {
      if ((*(uint *)(param_1 + 0x144) & 8) != 0) {
LAB_BATTLE_BIN__8008312c:
        sVar4 = 0x15;
        goto LAB_BATTLE_BIN__8008318c;
      }
      uVar3 = *(uint *)(param_1 + 0x140);
      if ((uVar3 & 0x3fff) == 0) {
LAB_BATTLE_BIN__800830ec:
        sVar4 = 6;
        iVar2 = FUN_BATTLE_BIN__80081af0((uint)*(byte *)(param_1 + 6));
        if (iVar2 == 0) {
          sVar4 = 3;
        }
        goto LAB_BATTLE_BIN__8008318c;
      }
      if ((byte)(&DAT_BATTLE_BIN__80094749)[(uint)*(byte *)(param_1 + 6) * 4] < 5) {
        if ((uVar3 & 4) == 0) {
          if ((uVar3 & 2) != 0) goto LAB_BATTLE_BIN__80083160;
          if (((uVar3 & 8) == 0) || (*(char *)(param_1 + 0x130) == '\x02')) {
            uVar3 = *(uint *)(param_1 + 0x140);
            if ((uVar3 & 0x10) == 0) {
              if ((uVar3 & 0x40) != 0) goto LAB_BATTLE_BIN__80083020;
              if ((uVar3 & 0x20) == 0) {
                if ((uVar3 & 0x80) != 0) goto LAB_BATTLE_BIN__80083038;
                if (((uVar3 & 0x100) != 0) || ((uVar3 & 0x200) != 0)) goto LAB_BATTLE_BIN__80083050;
                if ((uVar3 & 0x400) != 0) goto LAB_BATTLE_BIN__80083078;
                if ((uVar3 & 0x800) != 0) goto LAB_BATTLE_BIN__80083088;
                if ((uVar3 & 0x1000) != 0) goto LAB_BATTLE_BIN__800830ac;
                if ((uVar3 & 0x2000) == 0) {
                  uVar3 = *(uint *)(param_1 + 0x140);
                  goto joined_r0x800830e4;
                }
              }
            }
LAB_BATTLE_BIN__800830d0:
            sVar4 = 2;
          }
          else {
LAB_BATTLE_BIN__80083020:
            sVar4 = 0x24;
          }
          goto LAB_BATTLE_BIN__8008318c;
        }
      }
      else if ((uVar3 & 4) == 0) {
        if ((uVar3 & 0x10) == 0) {
          if ((uVar3 & 0x40) != 0) goto LAB_BATTLE_BIN__80083020;
          if ((uVar3 & 0x20) == 0) {
            if ((uVar3 & 0x80) != 0) {
LAB_BATTLE_BIN__80083038:
              sVar4 = 0x25;
              goto LAB_BATTLE_BIN__8008318c;
            }
            if (((uVar3 & 0x100) != 0) || ((uVar3 & 0x200) != 0)) {
LAB_BATTLE_BIN__80083050:
              *(undefined2 *)(param_1 + 0x138) = *(undefined2 *)(*(int *)(param_1 + 0x134) + 0x170);
              FUN_BATTLE_BIN__80082b80(param_1);
              goto LAB_BATTLE_BIN__8008318c;
            }
            if ((uVar3 & 0x400) != 0) {
LAB_BATTLE_BIN__80083078:
              sVar4 = 0x17;
              goto LAB_BATTLE_BIN__8008318c;
            }
            if ((uVar3 & 0x800) != 0) {
LAB_BATTLE_BIN__80083088:
              sVar4 = 8;
              iVar2 = FUN_BATTLE_BIN__80081af0((uint)*(byte *)(param_1 + 6));
              if (iVar2 == 0) {
                sVar4 = 5;
              }
              goto LAB_BATTLE_BIN__8008318c;
            }
            if ((uVar3 & 0x1000) != 0) {
LAB_BATTLE_BIN__800830ac:
              sVar4 = 7;
              iVar2 = FUN_BATTLE_BIN__80081af0((uint)*(byte *)(param_1 + 6));
              if (iVar2 == 0) {
                sVar4 = 4;
              }
              goto LAB_BATTLE_BIN__8008318c;
            }
            if ((uVar3 & 0x2000) == 0) {
joined_r0x800830e4:
              sVar4 = 0x21;
              if ((uVar3 & 1) != 0) goto LAB_BATTLE_BIN__8008318c;
              goto LAB_BATTLE_BIN__800830ec;
            }
          }
        }
        goto LAB_BATTLE_BIN__800830d0;
      }
LAB_BATTLE_BIN__80083150:
      sVar4 = 0x1a;
      goto LAB_BATTLE_BIN__8008318c;
    }
  }
  else {
    uVar3 = *(uint *)(param_1 + 0x144);
    if ((uVar3 & 0xf) == 0) {
      uVar3 = *(uint *)(param_1 + 0x140);
      if ((uVar3 & 0x3fff) != 0) {
        if ((uVar3 & 4) == 0) {
          if ((uVar3 & 2) == 0) {
            if ((uVar3 & 0x1000) == 0) {
              sVar4 = 9;
              if ((uVar3 & 0x800) != 0) {
                sVar4 = 0xb;
              }
            }
            else {
              sVar4 = 10;
            }
            goto LAB_BATTLE_BIN__8008318c;
          }
LAB_BATTLE_BIN__80083160:
          sVar4 = 0x32;
          goto LAB_BATTLE_BIN__8008318c;
        }
        goto LAB_BATTLE_BIN__80083150;
      }
    }
    else if ((uVar3 & 1) == 0) {
      if ((uVar3 & 8) == 0) goto LAB_BATTLE_BIN__8008318c;
      goto LAB_BATTLE_BIN__8008312c;
    }
  }
  sVar4 = 9;
LAB_BATTLE_BIN__8008318c:
  if (sVar4 != 0) {
    FUN_BATTLE_BIN__80081978(sVar4,*(undefined2 *)(param_1 + 0x70),param_1);
  }
  return;
}



void FUN_BATTLE_BIN__800831b8(int param_1)

{
  byte bVar1;
  undefined2 uVar2;
  short sVar3;
  MusicDataHeader *pMVar4;
  
  if ((*(uint *)(param_1 + 0x14c) & 2) == 0) {
    if ((*(uint *)(param_1 + 0x154) & 2) != 0) {
      FUN_BATTLE_BIN__80082eec(param_1);
    }
  }
  else {
    FUN_BATTLE_BIN__80081988(3,*(undefined2 *)(param_1 + 0x70),param_1);
  }
  if ((*(uint *)(param_1 + 0x14c) & 4) == 0) {
    if ((*(uint *)(param_1 + 0x154) & 4) != 0) {
      FUN_BATTLE_BIN__80082eec(param_1);
    }
  }
  else {
    FUN_BATTLE_BIN__80081988(3,*(undefined2 *)(param_1 + 0x70),param_1);
  }
  if ((*(uint *)(param_1 + 0x148) & 4) != 0) {
    if ((byte)(&DAT_BATTLE_BIN__80094749)[(uint)*(byte *)(param_1 + 6) * 4] - 2 < 2) {
      FUN_BATTLE_BIN__80068a94(param_1);
    }
    if ((DAT_BATTLE_BIN__800960e4 != 0x34) && (*(int *)(param_1 + 0x134) != 0)) {
      bVar1 = *(byte *)(*(int *)(param_1 + 0x134) + 6);
      if ((bVar1 & 0x80) == 0) {
        pMVar4 = (MusicDataHeader *)0x45;
        if ((bVar1 & 0x40) == 0) {
          if ((bVar1 & 0x20) == 0) goto LAB_BATTLE_BIN__800832fc;
          pMVar4 = (MusicDataHeader *)0x46;
        }
      }
      else {
        pMVar4 = (MusicDataHeader *)0x9a;
      }
      FUN_BATTLE_BIN__8006b960(param_1,pMVar4);
    }
  }
LAB_BATTLE_BIN__800832fc:
  if ((*(uint *)(param_1 + 0x14c) & 9) != 0) {
    FUN_BATTLE_BIN__80068a74(param_1);
  }
  if (DAT_BATTLE_BIN__800960e4 == 0x34) {
    sVar3 = 0x75;
    if ((*(uint *)(param_1 + 0x14c) & 0x40) == 0) {
      if ((*(uint *)(param_1 + 0x154) & 0x40) != 0) {
        FUN_BATTLE_BIN__8008d138((ushort)*(byte *)(param_1 + 4));
        sVar3 = 0x76;
        goto LAB_BATTLE_BIN__80083364;
      }
    }
    else {
LAB_BATTLE_BIN__80083364:
      FUN_BATTLE_BIN__80081988(sVar3,*(undefined2 *)(param_1 + 0x70),param_1);
    }
    bVar1 = FUN_BATTLE_BIN__8008278c(param_1);
    if (bVar1 < 2) {
      return;
    }
    if ((*(uint *)(param_1 + 0x148) & 4) != 0) {
      FUN_BATTLE_BIN__80081988(0x1a,*(undefined2 *)(param_1 + 0x70),param_1);
      uVar2 = 0x34;
      goto LAB_BATTLE_BIN__80083450;
    }
  }
  else {
    bVar1 = FUN_BATTLE_BIN__8008278c(param_1);
    if (bVar1 < 2) {
      sVar3 = 0x34;
      if (((*(uint *)(param_1 + 0x148) & 4) == 0) &&
         (sVar3 = 0x35, (*(uint *)(param_1 + 0x150) & 4) == 0)) {
        return;
      }
      FUN_BATTLE_BIN__80081978(sVar3,*(undefined2 *)(param_1 + 0x70),param_1);
      return;
    }
    if ((*(uint *)(param_1 + 0x148) & 4) != 0) {
      FUN_BATTLE_BIN__80081988(0x1a,*(undefined2 *)(param_1 + 0x70),param_1);
      uVar2 = 0x34;
      goto LAB_BATTLE_BIN__80083450;
    }
  }
  if ((*(uint *)(param_1 + 0x150) & 4) == 0) {
    return;
  }
  FUN_BATTLE_BIN__80081988(9,*(undefined2 *)(param_1 + 0x70),param_1);
  uVar2 = 0x12;
LAB_BATTLE_BIN__80083450:
  *(undefined2 *)(param_1 + 0x1dc) = uVar2;
  *(undefined2 *)(param_1 + 0x1e2) = 0;
  return;
}



void FUN_BATTLE_BIN__8008346c(int *param_1)

{
  undefined *puVar1;
  undefined1 *puVar2;
  uint uVar3;
  
  uVar3 = param_1[0x51];
  if ((uVar3 & 0x180) != 0) {
    if ((uVar3 & 0x80) == 0) {
      if ((uVar3 & 0x100) != 0) {
        param_1[0x51] = uVar3 & 0xfffffeff;
        *(undefined2 *)((int)param_1 + 0x7a) = 0;
        *(undefined *)((int)param_1 + 6) = 0x92;
        uVar3 = FUN_BATTLE_BIN__80081c60(0x92);
        *(char *)((int)param_1 + 5) = (char)uVar3;
        puVar1 = FUN_BATTLE_BIN__800819a8(0x92);
        param_1[0x7d] = (int)puVar1;
        puVar1 = FUN_BATTLE_BIN__80081a08(0x92);
        param_1[0x7e] = (int)puVar1;
        *(undefined *)((int)param_1 + 7) = 0;
        *(ushort *)((int)param_1 + 0xe) = *(byte *)((int)param_1 + 5) + 0x14;
        puVar2 = FUN_BATTLE_BIN__80183fb4
                           ((uint)*(byte *)(param_1 + 0x1f),(uint)*(byte *)((int)param_1 + 0x7d),
                            (uint)*(byte *)((int)param_1 + 0x7e));
        FUN_BATTLE_BIN__80082468(param_1,(byte)puVar2[6] >> 2 & 3,1);
        FUN_BATTLE_BIN__80081988(3,*(undefined2 *)(param_1 + 0x1c),(int)param_1);
        FUN_BATTLE_BIN__8018c758((JobID *)param_1[0x4d]);
        FUN_BATTLE_BIN__80199ec8((uint)*(byte *)(param_1[0x4d] + 0x18a));
      }
    }
    else {
      param_1[0x51] = uVar3 & 0xffffff7f;
      FUN_BATTLE_BIN__80089528((uint)*(byte *)(param_1 + 1));
    }
  }
  return;
}



void FUN_BATTLE_BIN__80083570(int *param_1,int param_2)

{
  undefined uVar1;
  int iVar2;
  undefined *puVar3;
  uint uVar4;
  short sVar5;
  undefined2 uVar6;
  uint unaff_s2;
  
  uVar4 = param_1[0x51];
  if ((uVar4 & 0xf) == 0) {
    if (*(char *)((int)param_1 + 6) ==
        (&DAT_BATTLE_BIN__800c7ce9)[(uint)*(byte *)((int)param_1 + 5) * 0x32d6]) {
      return;
    }
    *(undefined2 *)((int)param_1 + 0x7a) = 0;
    uVar1 = (&DAT_BATTLE_BIN__800c7ce9)[(uint)*(byte *)((int)param_1 + 5) * 0x32d6];
    param_1[0x7d] = param_1[0x7f];
    param_1[0x7e] = param_1[0x80];
    *(undefined *)((int)param_1 + 6) = uVar1;
    FUN_BATTLE_BIN__80082468(param_1,param_2,1);
    goto LAB_BATTLE_BIN__8008371c;
  }
  sVar5 = 9;
  if ((uVar4 & 1) == 0) {
    sVar5 = 0x15;
    if ((uVar4 & 8) != 0) {
      unaff_s2 = 0x9e;
      uVar6 = *(undefined2 *)(param_1 + 0x1c);
      iVar2 = 8;
      *(undefined2 *)((int)param_1 + 0x7a) = 0;
      goto LAB_BATTLE_BIN__800835e8;
    }
    if ((uVar4 & 2) == 0) {
      if ((uVar4 & 4) != 0) {
        unaff_s2 = 0x9d;
        *(undefined2 *)((int)param_1 + 0x7a) = 0x30;
      }
    }
    else {
      unaff_s2 = 0x9c;
      *(undefined2 *)((int)param_1 + 0x7a) = 0;
    }
  }
  else {
    unaff_s2 = 0x9b;
    uVar6 = *(undefined2 *)(param_1 + 0x1c);
    *(undefined2 *)((int)param_1 + 0x7a) = 0x60;
    iVar2 = 1;
LAB_BATTLE_BIN__800835e8:
    param_1[0x51] = iVar2;
    param_1[0x50] = 0;
    FUN_BATTLE_BIN__80081978(sVar5,uVar6,(int)param_1);
  }
  uVar4 = unaff_s2 & 0xffff;
  if (*(byte *)((int)param_1 + 6) == uVar4) {
    return;
  }
  if (*(byte *)((int)param_1 + 6) < 0x9b) {
    param_1[0x7f] = param_1[0x7d];
    param_1[0x80] = param_1[0x7e];
  }
  puVar3 = FUN_BATTLE_BIN__800819a8(uVar4);
  param_1[0x7d] = (int)puVar3;
  puVar3 = FUN_BATTLE_BIN__80081a08(uVar4);
  param_1[0x7e] = (int)puVar3;
  *(char *)((int)param_1 + 6) = (char)unaff_s2;
  FUN_BATTLE_BIN__80081d54(param_1,param_2,1);
LAB_BATTLE_BIN__8008371c:
  FUN_BATTLE_BIN__80082eec((int)param_1);
  FUN_BATTLE_BIN__80084214
            ((int)param_1,(int)(param_1 + 0x76),(uint)*(ushort *)(param_1 + 0x78),
             *(ushort *)(param_1 + 0x77));
  return;
}



void FUN_BATTLE_BIN__80083758(uint param_1,int param_2)

{
  byte bVar1;
  PrimaryItemData *pPVar2;
  byte bVar3;
  
  pPVar2 = Get_Item_DataPointer(param_1);
  bVar3 = pPVar2->ItemType;
  if (((0x1f < bVar3) || (*(ushort *)(param_2 + 0x138) - 0x17e < 0xc)) ||
     (*(short *)(param_2 + 0x138) == 0x94)) {
    bVar3 = 0x15;
  }
  bVar1 = *(byte *)(param_2 + 4);
  FUN_BATTLE_BIN__800926d8
            ((ushort *)
             (&DAT_BATTLE_BIN__800b6294 +
             (uint)((byte)(&DAT_BATTLE_BIN__800943e4)[param_1 * 2] >> 4) * 0x20),5,(uint)bVar1,0);
  FUN_BATTLE_BIN__800926d8
            ((ushort *)
             (&DAT_BATTLE_BIN__800b6294 +
             ((byte)(&DAT_BATTLE_BIN__800943e4)[param_1 * 2] & 0xf) * 0x20),6,(uint)bVar1,0);
  *(char *)(param_2 + 0x13a) = (char)param_1;
  *(byte *)(param_2 + 0x13b) = bVar3;
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void FUN_BATTLE_BIN__80083854(int param_1)

{
  FUN_BATTLE_BIN__80082eec(param_1);
  return;
}



void FUN_BATTLE_BIN__80083874(int param_1,int param_2)

{
  byte bVar1;
  short sVar2;
  
  if ((*(int *)(param_2 + 0x134) != 0) &&
     ((byte)(&DAT_BATTLE_BIN__80094748)[(uint)*(byte *)(param_1 + 6) * 4] < 2)) {
    bVar1 = *(byte *)(*(int *)(param_2 + 0x134) + 0x18e);
    sVar2 = 0;
    if ((1 < bVar1) && ((bVar1 < 4 || (bVar1 == 10)))) {
      switch(*(ushort *)(param_1 + 0x1dc) >> 1) {
      case 0x3d:
        sVar2 = 0x5e;
        break;
      case 0x3e:
        sVar2 = 0x5f;
        break;
      case 0x3f:
        sVar2 = 0x60;
        break;
      case 0x40:
        sVar2 = 0x5b;
        break;
      case 0x41:
        sVar2 = 0x5c;
        break;
      case 0x42:
        sVar2 = 0x5d;
        break;
      case 0x4d:
        sVar2 = 0x61;
        break;
      case 0x4e:
        sVar2 = 0x62;
        break;
      case 0x4f:
        sVar2 = 99;
      }
    }
    if (sVar2 != 0) {
      FUN_BATTLE_BIN__80081988(sVar2,*(undefined2 *)(param_1 + 0x70),param_1);
    }
  }
  return;
}



void FUN_BATTLE_BIN__80083978(int param_1,int param_2)

{
  bool bVar1;
  ushort uVar2;
  byte bVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  short sVar7;
  
  if (((param_1 != param_2) && (uVar2 = *(ushort *)(param_2 + 0x1dc) >> 1, uVar2 != 0x1a)) &&
     (uVar2 != 0x34)) {
    bVar3 = FUN_BATTLE_BIN__8008278c(param_2);
    sVar7 = 9;
    if (bVar3 < 2) {
      iVar6 = *(int *)(param_2 + 0x134);
      if (iVar6 != 0) {
        sVar7 = 2;
        switch(*(undefined *)(iVar6 + 0x18e)) {
        case 1:
        case 4:
        case 5:
        case 6:
        case 7:
          if ((*(byte *)(iVar6 + 0x1a4) & 0x80) != 0) {
            FUN_BATTLE_BIN__8007273c(param_2,param_1);
            sVar7 = 0x18;
          }
          break;
        case 2:
        case 3:
          FUN_BATTLE_BIN__8007273c(param_2,param_1);
          FUN_BATTLE_BIN__80083758((uint)*(byte *)(iVar6 + 399),param_2);
          iVar4 = FUN_BATTLE_BIN__8008dc74((ushort)*(byte *)(param_1 + 4));
          uVar2 = *(ushort *)(param_1 + 0x42);
          iVar5 = FUN_BATTLE_BIN__8008dc74((ushort)*(byte *)(param_2 + 4));
          iVar4 = ((int)((iVar4 / 2 - (uint)uVar2) * 0x10000) >> 0x10) -
                  ((int)((iVar5 / 2 - (uint)*(ushort *)(param_2 + 0x42)) * 0x10000) >> 0x10);
          if (iVar4 < -0xb) {
            sVar7 = 0x5a;
          }
          else {
            sVar7 = 0x59;
            if (0xb < iVar4) {
              sVar7 = 0x58;
            }
          }
          break;
        case 8:
        case 9:
        case 10:
          break;
        case 0xb:
        case 0xd:
          FUN_BATTLE_BIN__8007273c(param_2,param_1);
          sVar7 = 0x1b;
          break;
        default:
          if (*(char *)(iVar6 + 0x18c) != '\0') {
            if ((*(short *)(iVar6 + 400) == 0) && (*(short *)(iVar6 + 0x194) == 0)) {
              if ((*(short *)(iVar6 + 0x192) != 0) || (*(short *)(iVar6 + 0x196) != 0)) {
                sVar7 = 0x1b;
              }
            }
            else {
              sVar7 = 0x19;
            }
          }
        }
        if ((sVar7 != 0) &&
           ((*(byte *)(param_2 + 6) < 0x9b || (bVar1 = sVar7 == 0x19, sVar7 = 0x19, bVar1)))) {
          FUN_BATTLE_BIN__80081988(sVar7,*(undefined2 *)(param_2 + 0x70),param_2);
        }
        if ((*(ushort *)(iVar6 + 0x19c) & 0x4000) != 0) {
          FUN_BATTLE_BIN__8006ddac(param_1,param_2);
        }
        if ((*(ushort *)(iVar6 + 0x19c) & 0x20) != 0) {
          *(uint *)(param_2 + 0x144) = *(uint *)(param_2 + 0x144) | 0x80;
        }
        if ((*(ushort *)(iVar6 + 0x19c) & 2) != 0) {
          *(uint *)(param_2 + 0x144) = *(uint *)(param_2 + 0x144) | 0x100;
        }
        if ((*(ushort *)(iVar6 + 0x19c) & 4) != 0) {
          FUN_BATTLE_BIN__80199ec8((uint)*(byte *)(*(int *)(param_2 + 0x134) + 0x18a));
        }
        if ((*(ushort *)(iVar6 + 0x19c) & 0x10) == 0) {
          return;
        }
        FUN_BATTLE_BIN__80199ec8((uint)*(byte *)(*(int *)(param_2 + 0x134) + 0x18a));
        return;
      }
      sVar7 = 0x19;
    }
    FUN_BATTLE_BIN__80081978(sVar7,*(undefined2 *)(param_2 + 0x70),param_2);
  }
  return;
}



void FUN_BATTLE_BIN__80083c58(int param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  
  if ((*(char *)(param_1 + 0x18d) != '\0') &&
     (iVar3 = 0, iVar1 = param_1, *(char *)(param_1 + 0x18d) != '\0')) {
    do {
      piVar2 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)(iVar1 + 0x18e));
      iVar3 = iVar3 + 1;
      if (piVar2 != (int *)0x0) {
        FUN_BATTLE_BIN__80068e30((ushort)*(byte *)(piVar2 + 1));
      }
      iVar1 = param_1 + iVar3;
    } while (iVar3 < (int)(uint)*(byte *)(param_1 + 0x18d));
  }
  return;
}



ENTDDisplayUnitData * FUN_BATTLE_BIN__80083cd4(ushort param_1)

{
  ENTDDisplayUnitData *pEVar1;
  int iVar2;
  int iVar3;
  
  if ((short)param_1 < 0x10) {
    iVar3 = 0;
    iVar2 = 0;
    do {
      if ((*(int *)((int)&DAT_BATTLE_BIN__800b7304 + iVar2) != 0) &&
         ((&ENTDUnitData[0].ENTDID)[iVar2] == param_1)) break;
      iVar3 = iVar3 + 1;
      iVar2 = iVar2 + 0x440;
    } while (iVar3 < 0x10);
    pEVar1 = (ENTDDisplayUnitData *)0x0;
    if (0xf < iVar3) {
      iVar2 = (int)(short)param_1;
      pEVar1 = (ENTDDisplayUnitData *)0x0;
      if ((&DAT_BATTLE_BIN__800b7304)[iVar2 * 0x110] == 0) {
        (&DAT_BATTLE_BIN__800b7304)[iVar2 * 0x110] = 1;
        ENTDUnitData[iVar2].ENTDID = (byte)param_1;
        pEVar1 = ENTDUnitData + iVar2;
      }
    }
  }
  else {
    iVar3 = 0;
    iVar2 = 0;
    do {
      if (*(int *)((int)&DAT_BATTLE_BIN__800b7304 + iVar2) == 0) {
        *(undefined4 *)((int)&DAT_BATTLE_BIN__800b7304 + iVar2) = 1;
        (&ENTDUnitData[0].ENTDID)[iVar2] = (byte)iVar3;
        return (ENTDDisplayUnitData *)((int)&ENTDUnitData[0].PrevMiscUnitData + iVar2);
      }
      iVar3 = iVar3 + 1;
      iVar2 = iVar2 + 0x440;
    } while (iVar3 < 0x10);
    ERROREXCEPTION_DEPRECATED();
    pEVar1 = (ENTDDisplayUnitData *)0x0;
  }
  return pEVar1;
}



void FUN_BATTLE_BIN__80083e10(int param_1,int param_2,int param_3,ushort param_4)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  int iVar4;
  undefined *puVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  
  bVar1 = *(byte *)(param_3 + 1);
  bVar2 = *(byte *)(param_2 + 3);
  *(ushort *)(param_2 + 4) = bVar1 & 0x60 | param_4;
  *(undefined2 *)(param_2 + 6) = *(undefined2 *)(param_1 + 0x10);
  if (bVar2 != 0) {
    iVar4 = 0;
    uVar7 = 0;
    do {
      puVar5 = (undefined *)(param_3 + iVar4 + 2);
      uVar8 = uVar7 + 1;
      uVar6 = (uint)*(ushort *)(puVar5 + 2);
      uVar3 = (uVar6 & 0x3c00) >> 7;
      FUN_BATTLE_BIN__8007b4ec
                (param_2,uVar7,*puVar5,puVar5[1],(char)((uVar6 & 0x1f) << 3),
                 (char)(((uVar6 & 0x3ff) >> 5) << 3),
                 (char)((uint)(*(int *)(&DAT_BATTLE_BIN__800946c8 + uVar3) << 0x13) >> 0x10),
                 (char)((uint)(*(int *)(&DAT_BATTLE_BIN__800946cc + uVar3) << 0x13) >> 0x10),
                 bVar1 & 0x61 | (byte)((uVar6 & 0xc000) >> 0xd));
      iVar4 = uVar8 * 4;
      uVar7 = uVar8;
    } while (uVar8 < bVar2);
  }
  return;
}



void FUN_BATTLE_BIN__80083f18
               (int param_1,int param_2,uint param_3,ushort param_4,int *param_5,undefined4 *param_6
               )

{
  undefined1 *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  undefined *puVar7;
  uint uVar8;
  
  puVar1 = FUN_BATTLE_BIN__80183fb4
                     (((int)*(short *)(param_1 + 0x40) / 0x1c) * 0x10000 >> 0x10,
                      ((int)*(short *)(param_1 + 0x44) / 0x1c) * 0x10000 >> 0x10,
                      (uint)*(byte *)(param_1 + 0x7e));
  uVar8 = param_3 & 0xffff;
  if (0xd1 < uVar8) {
    puVar7 = (undefined *)0x800af244;
    if (param_4 < 600) {
      puVar7 = &DAT_BATTLE_BIN__800a7ce0;
    }
    if ((puVar1[3] & 0xe0) == 0) {
      uVar4 = *(undefined4 *)(puVar7 + uVar8 * 4 + -0x340);
      *param_5 = (int)puVar7;
    }
    else {
      uVar4 = *(undefined4 *)(puVar7 + uVar8 * 4);
      *param_5 = (int)puVar7;
    }
    goto LAB_BATTLE_BIN__800841e0;
  }
  iVar6 = *(int *)(param_2 + 0x1c);
  if (*(char *)(param_1 + 0x130) == '\x01') {
    iVar2 = uVar8 * 4;
    if ((*(uint *)(param_1 + 0x144) & 0x240) == 0) {
LAB_BATTLE_BIN__80084174:
      uVar4 = *(undefined4 *)(iVar2 + iVar6 + 0x348);
      *param_5 = iVar6;
      goto LAB_BATTLE_BIN__800841e0;
    }
  }
  else if ((puVar1[3] & 0xe0) == 0) {
LAB_BATTLE_BIN__80084180:
    iVar2 = uVar8 << 2;
  }
  else if (*(int *)(param_1 + 0x134) == 0) {
    iVar5 = ((uint)(byte)puVar1[2] + (uint)((byte)puVar1[3] >> 5)) * 0xc;
    if (-(int)*(short *)(param_1 + 0x42) + 0x24 <= iVar5) {
LAB_BATTLE_BIN__80084154:
      uVar4 = *(undefined4 *)(iVar6 + 0x348);
      *param_5 = iVar6;
      goto LAB_BATTLE_BIN__800841e0;
    }
    iVar2 = uVar8 << 2;
    if (-(int)*(short *)(param_1 + 0x42) + 0xc <= iVar5) goto LAB_BATTLE_BIN__80084170;
  }
  else {
    uVar3 = FUN_BATTLE_BIN__8017f020(*(int *)(param_1 + 0x134));
    if ((*(uint *)(param_1 + 0x144) & 0x20) != 0) goto LAB_BATTLE_BIN__80084180;
    iVar2 = uVar8 << 2;
    if (((uVar3 & 0x20) == 0) && (iVar2 = uVar8 << 2, (uVar3 & 0x40) == 0)) {
      if (*(char *)(param_1 + 6) == -0x65) goto LAB_BATTLE_BIN__80084180;
      iVar2 = uVar8 << 2;
      if (*(char *)(param_1 + 6) != -0x62) {
        if ((byte)(*(char *)(param_1 + 6) + 100U) < 2) {
          if (4 - *(short *)(param_1 + 0x42) <=
              (int)(((uint)(byte)puVar1[2] + (uint)((byte)puVar1[3] >> 5)) * 0xc)) {
LAB_BATTLE_BIN__80084170:
            iVar2 = (param_3 & 0xffff) << 2;
            goto LAB_BATTLE_BIN__80084174;
          }
          iVar2 = (param_3 & 0xffff) << 2;
        }
        else {
          iVar5 = ((uint)(byte)puVar1[2] + (uint)((byte)puVar1[3] >> 5)) * 0xc;
          if (-(int)*(short *)(param_1 + 0x42) + 0x24 <= iVar5) goto LAB_BATTLE_BIN__80084154;
          if (-(int)*(short *)(param_1 + 0x42) + 0xc <= iVar5) goto LAB_BATTLE_BIN__80084170;
          iVar2 = (param_3 & 0xffff) << 2;
        }
      }
    }
  }
  uVar4 = *(undefined4 *)(iVar2 + iVar6 + 8);
  *param_5 = iVar6;
LAB_BATTLE_BIN__800841e0:
  *param_6 = uVar4;
  return;
}



void FUN_BATTLE_BIN__80084214(int param_1,int param_2,uint param_3,ushort param_4)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  byte bVar4;
  ushort uVar5;
  int iVar6;
  uint uVar7;
  ushort uVar8;
  uint uVar9;
  byte *pbVar10;
  int iVar11;
  ushort uVar12;
  undefined uVar13;
  byte bVar14;
  int iStack_30;
  byte *local_2c;
  
  uVar9 = param_3 & 0xffff;
  uVar5 = *(ushort *)(param_1 + 0x7a);
  FUN_BATTLE_BIN__80083f18(param_1,param_2,uVar9,param_4,&iStack_30,&local_2c);
  if (local_2c == (byte *)0xffffffff) {
    ERROREXCEPTION_DEPRECATED();
  }
  iVar11 = *(int *)(param_2 + 0x2c);
  bVar14 = (*local_2c & 7) + 1;
  *(byte *)(iVar11 + 3) = bVar14;
  uVar12 = (ushort)bVar14;
  *(undefined2 *)(iVar11 + 0xc) =
       *(undefined2 *)(&DAT_BATTLE_BIN__80094508 + (uint)(*local_2c >> 3) * 2);
  if (8 < uVar12) {
    uVar12 = 8;
    ERROREXCEPTION_DEPRECATED();
  }
  bVar14 = local_2c[1];
  if (0x9a < *(byte *)(param_1 + 6)) {
    *(ushort *)(iVar11 + 4) = bVar14 & 0x60 | 0xb;
    uVar8 = 0;
    *(undefined2 *)(iVar11 + 6) = *(undefined2 *)(param_1 + 0x10);
    if (uVar12 == 0) {
      return;
    }
    do {
      uVar1 = (uint)uVar8;
      uVar8 = uVar8 + 1;
      pbVar10 = local_2c + uVar1 * 4 + 2;
      uVar7 = (uint)*(ushort *)(pbVar10 + 2);
      uVar9 = (uVar7 & 0x3c00) >> 7;
      FUN_BATTLE_BIN__8007b4ec
                (iVar11,uVar1,*pbVar10,pbVar10[1],(char)((uVar7 & 0x1f) << 3),
                 (char)(((uint)uVar5 + ((uVar7 & 0x3ff) >> 5) * 8) * 0x10000 >> 0x10),
                 (char)((uint)(*(int *)(&DAT_BATTLE_BIN__800946c8 + uVar9) << 0x13) >> 0x10),
                 (char)((uint)(*(int *)(&DAT_BATTLE_BIN__800946cc + uVar9) << 0x13) >> 0x10),
                 bVar14 & 0x61 | (byte)((uVar7 & 0xc000) >> 0xd));
    } while (uVar8 < uVar12);
    return;
  }
  if (uVar9 < **(uint **)(param_2 + 0x1c)) {
    *(ushort *)(iVar11 + 4) = *(ushort *)(param_1 + 0xe) | bVar14 & 0x60;
    uVar8 = 0;
    *(undefined2 *)(iVar11 + 6) = *(undefined2 *)(param_1 + 0x10);
    if (uVar12 == 0) {
      return;
    }
    uVar9 = 0;
    do {
      pbVar10 = local_2c + uVar9 * 4 + 2;
      uVar7 = (uint)*(ushort *)(pbVar10 + 2);
      uVar1 = (uVar7 & 0x3c00) >> 10;
      if (uVar1 == 0xe) {
        if ((*(char *)(param_1 + 6) != 'I') && (*(char *)(param_1 + 6) != 'A')) {
          uVar1 = (uVar7 & 0x3ff) >> 5;
          bVar14 = bVar14 & 0x61 | (byte)((uVar7 & 0xc000) >> 0xd);
          uVar13 = (undefined)((uVar7 & 0x1f) << 3);
          FUN_BATTLE_BIN__8007b4ec
                    (iVar11,uVar9,*pbVar10,pbVar10[1] + 0x18,uVar13,(char)uVar1 * '\b' + '\x18',0x30
                     ,0x18,bVar14);
          FUN_BATTLE_BIN__8007b4ec
                    (iVar11,uVar9 + 1,*pbVar10,pbVar10[1],uVar13,(char)(uVar1 << 3),0x30,0x18,
                     bVar14 | 0x80);
          *(char *)(iVar11 + 3) = *(char *)(iVar11 + 3) + '\x01';
          return;
        }
        bVar2 = *pbVar10;
        bVar4 = pbVar10[1];
        iVar6 = DAT_BATTLE_BIN__80094738;
        iVar3 = DAT_BATTLE_BIN__8009473c;
      }
      else {
        iVar3 = uVar1 * 8;
        iVar6 = *(int *)(&DAT_BATTLE_BIN__800946c8 + iVar3);
        iVar3 = *(int *)(&DAT_BATTLE_BIN__800946cc + iVar3);
        bVar2 = *pbVar10;
        bVar4 = pbVar10[1];
      }
      uVar8 = uVar8 + 1;
      FUN_BATTLE_BIN__8007b4ec
                (iVar11,uVar9,bVar2,bVar4,(char)((uVar7 & 0x1f) << 3),
                 (char)(((uint)uVar5 + ((uVar7 & 0x3ff) >> 5) * 8) * 0x10000 >> 0x10),
                 (char)((uint)(iVar6 << 0x13) >> 0x10),(char)((uint)(iVar3 << 0x13) >> 0x10),
                 bVar14 & 0x61 | (byte)((uVar7 & 0xc000) >> 0xd));
      uVar9 = (uint)uVar8;
      if (uVar12 <= uVar8) {
        return;
      }
    } while( true );
  }
  if (uVar9 < 0xd2) {
    if ((DAT_BATTLE_BIN__800a77c4 & 0x1f) == (uint)*(byte *)(param_1 + 4)) {
      uVar5 = 4;
      goto LAB_BATTLE_BIN__80084674;
    }
    if ((DAT_BATTLE_BIN__800aed28 & 0x1f) != (uint)*(byte *)(param_1 + 4)) {
      return;
    }
  }
  else if (param_4 < 600) {
    uVar5 = 4;
    goto LAB_BATTLE_BIN__80084674;
  }
  uVar5 = 5;
LAB_BATTLE_BIN__80084674:
  FUN_BATTLE_BIN__80083e10(param_1,iVar11,(int)local_2c,uVar5);
  return;
}



void FUN_BATTLE_BIN__800846b0(int param_1,char param_2)

{
  ushort uVar1;
  
  uVar1 = *(ushort *)(param_1 + 0x70) & 0xc00;
  if (uVar1 == 0x400) {
    *(short *)(param_1 + 0x54) = (short)param_2 + *(short *)(param_1 + 0x54);
  }
  else if (uVar1 < 0x401) {
    if ((*(ushort *)(param_1 + 0x70) & 0xc00) == 0) {
      *(short *)(param_1 + 0x50) = *(short *)(param_1 + 0x50) - (short)param_2;
    }
  }
  else if (uVar1 == 0x800) {
    *(short *)(param_1 + 0x50) = (short)param_2 + *(short *)(param_1 + 0x50);
  }
  else if (uVar1 == 0xc00) {
    *(short *)(param_1 + 0x54) = *(short *)(param_1 + 0x54) - (short)param_2;
  }
  return;
}



void FUN_BATTLE_BIN__80084758(int param_1,char param_2)

{
  *(short *)(param_1 + 0x52) = (short)param_2 + *(short *)(param_1 + 0x52);
  return;
}



void FUN_BATTLE_BIN__80084770(int param_1,char param_2)

{
  ushort uVar1;
  
  uVar1 = *(ushort *)(param_1 + 0x70) & 0xc00;
  if (uVar1 == 0x400) {
    *(short *)(param_1 + 0x50) = *(short *)(param_1 + 0x50) - (short)param_2;
  }
  else if (uVar1 < 0x401) {
    if ((*(ushort *)(param_1 + 0x70) & 0xc00) == 0) {
      *(short *)(param_1 + 0x54) = *(short *)(param_1 + 0x54) - (short)param_2;
    }
  }
  else if (uVar1 == 0x800) {
    *(short *)(param_1 + 0x54) = (short)param_2 + *(short *)(param_1 + 0x54);
  }
  else if (uVar1 == 0xc00) {
    *(short *)(param_1 + 0x50) = (short)param_2 + *(short *)(param_1 + 0x50);
  }
  return;
}



void FUN_BATTLE_BIN__80084818(int param_1,int param_2,int param_3,uint param_4)

{
  byte bVar1;
  short sVar2;
  uint uVar3;
  int *piVar4;
  undefined2 *puVar5;
  short sVar6;
  char cVar7;
  int iVar8;
  int *piVar9;
  int iVar10;
  int iVar11;
  ushort uVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  ushort uVar16;
  int iVar17;
  ushort uVar18;
  
  uVar18 = *(ushort *)(param_2 + 4);
  uVar13 = (uint)*(ushort *)(param_2 + 6);
  if (uVar18 < 500) {
    iVar17 = *(int *)(param_2 + 0x20);
    uVar16 = uVar18;
  }
  else {
    uVar16 = uVar18 - 500;
    if (uVar18 < 600) {
      iVar17 = -0x7ff58828;
    }
    else {
      iVar17 = -0x7ff512c4;
      uVar16 = uVar18 - 600;
    }
  }
  if (param_3 == 0) {
    uVar13 = uVar13 - 2;
  }
  uVar3 = (uint)uVar16;
  iVar11 = param_3;
  if (*(int *)((uint)uVar16 * 4 + iVar17 + 8) != -1) goto LAB_BATTLE_BIN__800848d0;
LAB_BATTLE_BIN__800848c4:
  ERROREXCEPTION_DEPRECATED();
switchD_BATTLE_BIN__80084930_caseD_c2:
  uVar3 = (uint)uVar16;
LAB_BATTLE_BIN__800848d0:
  uVar14 = uVar13;
  sVar6 = (short)uVar14;
  iVar8 = *(int *)(uVar3 * 4 + iVar17 + 8);
  if (*(char *)(iVar8 + sVar6) != -1) {
    uVar16 = *(short *)(param_2 + 0x14) + (ushort)*(byte *)(iVar8 + sVar6);
    if ((param_3 != 0) &&
       (*(ushort *)(param_2 + 10) =
             (ushort)*(byte *)(iVar8 + ((int)((uVar14 + 1) * 0x10000) >> 0x10)) +
             *(short *)(param_2 + 0x12), 0x100 < *(ushort *)(param_2 + 10))) {
      *(undefined2 *)(param_2 + 10) = 1;
    }
    FUN_BATTLE_BIN__80084214(param_1,param_2,(uint)uVar16,uVar18);
    *(short *)(param_2 + 6) = sVar6 + 2;
    *(ushort *)(param_2 + 8) = uVar16;
    *(ushort *)(param_2 + 4) = uVar18;
    return;
  }
  uVar13 = uVar14 + 2;
  sVar2 = (short)uVar13;
  switch(*(undefined *)(iVar8 + ((int)((uVar14 + 1) * 0x10000) >> 0x10))) {
  case 0xbe:
    *(undefined4 *)(param_1 + 0x2e8) = 0;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xbf:
    FUN_BATTLE_BIN__8007f240(param_1);
    uVar3 = (uint)uVar16;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xc0:
    if (*(char *)(param_1 + 0x87) == '\0') goto switchD_BATTLE_BIN__80084930_caseD_ca;
    break;
  case 0xc1:
    iVar8 = (uint)uVar16 * 4 + iVar17;
    *(char *)(param_1 + 0x87) =
         *(char *)(*(int *)(iVar8 + 8) + ((int)(uVar13 * 0x10000) >> 0x10)) + '\x02';
    bVar1 = *(byte *)(*(int *)(iVar8 + 8) + ((int)((uVar14 + 3) * 0x10000) >> 0x10));
    uVar13 = uVar14 + 4;
    *(undefined4 *)(param_1 + 0x88) = 0;
    *(uint *)(param_1 + 0x8c) = (uint)bVar1;
  case 0xc2:
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xc3:
    *(undefined *)(param_1 + 0x2d0) = 0;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xc4:
    iVar8 = (uint)uVar16 * 4 + iVar17;
    *(undefined *)(param_1 + 0x2d2) =
         *(undefined *)(*(int *)(iVar8 + 8) + ((int)(uVar13 * 0x10000) >> 0x10));
    uVar13 = uVar14 + 4;
    *(undefined *)(param_1 + 0x2d3) =
         *(undefined *)(*(int *)(iVar8 + 8) + ((int)((uVar14 + 3) * 0x10000) >> 0x10));
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xc5:
    *(undefined *)(param_1 + 0x2d0) = 1;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xc6:
    uVar3 = (uint)uVar16;
    if (DAT_BATTLE_BIN__80098db8 != 0) {
      uVar13 = uVar14 + 3;
      goto LAB_BATTLE_BIN__800848d0;
    }
    break;
  case 199:
  case 200:
  case 0xc9:
  case 0xe6:
  case 0xe7:
  case 0xe8:
  case 0xea:
  case 0xf1:
  case 0xf8:
  case 0xfb:
    goto switchD_BATTLE_BIN__80084930_caseD_c7;
  case 0xca:
  case 0xd7:
  case 0xe3:
  case 0xe4:
  case 0xe9:
  case 0xed:
  case 0xf3:
  case 0xf4:
  case 0xf5:
switchD_BATTLE_BIN__80084930_caseD_ca:
    uVar13 = uVar14 + 3;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xcb:
    FUN_BATTLE_BIN__80084758(param_1,-2);
    uVar3 = (uint)uVar16;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xcc:
    FUN_BATTLE_BIN__80084758(param_1,-1);
    uVar3 = (uint)uVar16;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xcd:
    FUN_BATTLE_BIN__80084770(param_1,-2);
    uVar3 = (uint)uVar16;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xce:
    FUN_BATTLE_BIN__80084770(param_1,-1);
    uVar3 = (uint)uVar16;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xcf:
    FUN_BATTLE_BIN__80084758(param_1,'\x02');
    uVar3 = (uint)uVar16;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xd0:
    FUN_BATTLE_BIN__80084758(param_1,'\x01');
    uVar3 = (uint)uVar16;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xd1:
    FUN_BATTLE_BIN__80084770(param_1,'\x02');
    uVar3 = (uint)uVar16;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xd2:
    FUN_BATTLE_BIN__80084770(param_1,'\x01');
    uVar3 = (uint)uVar16;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xd3:
    uVar3 = (uint)uVar16;
    if (DAT_BATTLE_BIN__8009612c != 1) {
      uVar13 = uVar14 + 3;
      goto LAB_BATTLE_BIN__800848d0;
    }
    break;
  case 0xd4:
    FUN_BATTLE_BIN__80082620
              (param_1,(uint)*(byte *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) + (int)sVar2));
    uVar3 = (uint)uVar16;
    uVar13 = uVar14 + 3;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xd5:
    uVar13 = 0;
    *(short *)(param_2 + 0xc) = *(short *)(param_2 + 0xc) + 1;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xd6:
    uVar3 = (uint)uVar16;
    if (DAT_BATTLE_BIN__8009612c == 0) {
      uVar13 = uVar14 + 3;
      goto LAB_BATTLE_BIN__800848d0;
    }
    break;
  case 0xd8:
    uVar13 = uVar14 + 3;
    *(short *)(param_2 + 0x14) =
         (short)*(char *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) + (int)sVar2);
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xd9:
    FUN_BATTLE_BIN__800689a4(param_1);
switchD_BATTLE_BIN__80084930_caseD_c7:
    uVar13 = uVar14 + 4;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  default:
    goto LAB_BATTLE_BIN__800848c4;
  case 0xdb:
    uVar13 = uVar14 + 3;
    *(short *)(param_2 + 0x12) =
         (short)*(char *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) + (int)sVar2);
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xdc:
    uVar18 = *(ushort *)(param_2 + 0xe);
    uVar13 = (uint)*(ushort *)(param_2 + 0x10);
    uVar16 = uVar18;
    if ((499 < uVar18) && (uVar16 = uVar18 - 500, 599 < uVar18)) {
      uVar16 = uVar18 - 600;
    }
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xdd:
    *(ushort *)(param_2 + 0xe) = uVar18;
    uVar18 = (ushort)*(byte *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) + (int)sVar2);
    uVar16 = uVar18;
    if ((499 < uVar18) && (uVar16 = uVar18 - 500, 599 < uVar18)) {
      uVar16 = uVar18 - 600;
    }
    *(short *)(param_2 + 0x10) = sVar6 + 3;
    uVar13 = 0;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xde:
    if (DAT_BATTLE_BIN__800960e4 == 0x34) goto switchD_BATTLE_BIN__80084930_caseD_c2;
    iVar8 = (int)*(short *)(param_1 + 0x1a0);
    if (((((iVar8 == 0) || (iVar8 == 0x16f)) || (iVar8 - 0x8aU < 8)) ||
        ((iVar8 - 0xd5U < 3 || (uVar3 = (uint)uVar16, iVar8 - 0x18aU < 0x14)))) &&
       (uVar3 = (uint)uVar16, *(char *)(param_1 + 0x18d) != '\0')) {
      uVar12 = 0;
      if (*(char *)(param_1 + 0x18d) == '\0') goto switchD_BATTLE_BIN__80084930_caseD_c2;
      uVar3 = 0;
      do {
        piVar4 = FUN_BATTLE_BIN__8007a724((ushort)*(byte *)(param_1 + uVar3 + 0x18e));
        uVar12 = uVar12 + 1;
        if (piVar4 != (int *)0x0) {
          FUN_BATTLE_BIN__80083978(param_1,(int)piVar4);
          piVar9 = piVar4;
          FUN_BATTLE_BIN__80083874(param_1,(int)piVar4);
          FUN_BATTLE_BIN__80068bd4((ushort)*(byte *)(piVar4 + 1),piVar9,iVar11,param_4);
          FUN_BATTLE_BIN__8006894c(param_1);
        }
        uVar3 = (uint)uVar12;
      } while (uVar12 < *(byte *)(param_1 + 0x18d));
      uVar3 = (uint)uVar16;
    }
    goto LAB_BATTLE_BIN__800848d0;
  case 0xdf:
    *(undefined2 *)(*(int *)(param_2 + 0x2c) + 0xc) = 0;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xe0:
    *(undefined *)(param_1 + 0x298) = 0;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xe1:
    *(undefined *)(param_1 + 0x298) = 1;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xe2:
    uVar13 = uVar14 + 3;
    *(ushort *)(param_1 + 0x14) =
         (ushort)*(byte *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) + (int)sVar2);
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xe5:
    iVar10 = uVar13 * 0x10000;
    uVar13 = uVar14 + 4;
    iVar8 = *(int *)((uint)uVar16 * 4 + iVar17 + 8);
    *(ushort *)(*(int *)(param_2 + 0x2c) + 0xc) =
         CONCAT11(*(undefined *)(iVar8 + ((int)((uVar14 + 3) * 0x10000) >> 0x10)),
                  *(undefined *)(iVar8 + (iVar10 >> 0x10)));
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xeb:
    *(ushort *)(param_2 + 0x18) = *(ushort *)(param_2 + 0x18) ^ 4;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xec:
    *(ushort *)(param_2 + 0x18) = *(ushort *)(param_2 + 0x18) ^ 2;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xee:
    cVar7 = *(char *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) + (int)sVar2);
    uVar15 = uVar14 + 3;
    goto LAB_BATTLE_BIN__80084f3c;
  case 0xef:
    FUN_BATTLE_BIN__80084758
              (param_1,*(char *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) + (int)sVar2));
    uVar3 = (uint)uVar16;
    uVar13 = uVar14 + 3;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xf0:
    FUN_BATTLE_BIN__800846b0
              (param_1,*(char *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) + (int)sVar2));
    uVar3 = (uint)uVar16;
    uVar13 = uVar14 + 3;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xf2:
    iVar10 = uVar13 * 0x10000;
    uVar13 = uVar14 + 4;
    iVar8 = *(int *)((uint)uVar16 * 4 + iVar17 + 8);
    uVar3 = (uint)*(byte *)(iVar8 + (iVar10 >> 0x10));
    bVar1 = *(byte *)(iVar8 + ((int)((uVar14 + 3) * 0x10000) >> 0x10));
    if (uVar3 == 0) {
      ERROREXCEPTION_DEPRECATED();
    }
    puVar5 = (undefined2 *)(param_1 + uVar3 * 0x30 + 0x1d8);
    puVar5[5] = 1;
    puVar5[2] = (ushort)bVar1;
    puVar5[3] = 0;
    puVar5[9] = 0;
    puVar5[10] = 0;
    puVar5[0xb] = 0;
    *puVar5 = 1;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xf6:
    FUN_BATTLE_BIN__8006b960
              (param_1,(MusicDataHeader *)
                       (uint)*(byte *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) + (int)sVar2));
    uVar3 = (uint)uVar16;
    uVar13 = uVar14 + 3;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xf7:
    uVar13 = uVar14 + 5;
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xf9:
    iVar10 = (uint)uVar16 * 4 + iVar17;
    iVar8 = uVar13 * 0x10000;
    uVar13 = uVar14 + 4;
    *(short *)(param_1 + 0x58) =
         (short)*(char *)(*(int *)(iVar10 + 8) + (iVar8 >> 0x10)) + *(short *)(param_1 + 0x58);
    *(short *)(param_1 + 0x5a) =
         (short)*(char *)(*(int *)(iVar10 + 8) + ((int)((uVar14 + 3) * 0x10000) >> 0x10)) +
         *(short *)(param_1 + 0x5a);
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xfa:
    iVar8 = (uint)uVar16 * 4 + iVar17;
    uVar15 = uVar14 + 5;
    FUN_BATTLE_BIN__800846b0
              (param_1,*(char *)(*(int *)(iVar8 + 8) + ((int)(uVar13 * 0x10000) >> 0x10)));
    FUN_BATTLE_BIN__80084758
              (param_1,*(char *)(*(int *)(iVar8 + 8) + ((int)((uVar14 + 3) * 0x10000) >> 0x10)));
    cVar7 = *(char *)(*(int *)(iVar8 + 8) + ((int)((uVar14 + 4) * 0x10000) >> 0x10));
LAB_BATTLE_BIN__80084f3c:
    FUN_BATTLE_BIN__80084770(param_1,cVar7);
    uVar3 = (uint)uVar16;
    uVar13 = uVar15;
    goto LAB_BATTLE_BIN__800848d0;
  case 0xfc:
    iVar11 = uVar14 + 3;
    iVar8 = *(int *)((uint)uVar16 * 4 + iVar17 + 8);
    iVar10 = (int)*(char *)(iVar8 + ((int)(uVar13 * 0x10000) >> 0x10));
    if (*(short *)(param_2 + 0x16) != 0) goto code_r0x80084dec;
    uVar13 = iVar10 + uVar14;
    *(ushort *)(param_2 + 0x16) = (ushort)*(byte *)(iVar8 + (iVar11 * 0x10000 >> 0x10));
    goto switchD_BATTLE_BIN__80084930_caseD_c2;
  case 0xfd:
    break;
  case 0xfe:
  case 0xff:
    if (uVar18 < 500) {
      if ((uVar18 & 1) == 0) {
        bVar1 = (&DAT_BATTLE_BIN__800949c4)
                [(byte)(&DAT_BATTLE_BIN__80094748)[(uint)*(byte *)(param_1 + 6) * 4]];
      }
      else {
        bVar1 = (&DAT_BATTLE_BIN__800949d0)
                [(byte)(&DAT_BATTLE_BIN__80094748)[(uint)*(byte *)(param_1 + 6) * 4]];
      }
      *(undefined2 *)(param_1 + 0x54) = 0;
      *(undefined2 *)(param_1 + 0x52) = 0;
      *(undefined2 *)(param_1 + 0x50) = 0;
      FUN_BATTLE_BIN__80084214(param_1,param_2,(uint)bVar1,uVar18);
    }
    *(undefined2 *)(param_2 + 10) = 0;
    return;
  }
  uVar13 = (int)*(char *)(*(int *)((uint)uVar16 * 4 + iVar17 + 8) +
                         ((int)(uVar13 * 0x10000) >> 0x10)) + uVar14;
  goto switchD_BATTLE_BIN__80084930_caseD_c2;
code_r0x80084dec:
  sVar6 = *(short *)(param_2 + 0x16) + -1;
  *(short *)(param_2 + 0x16) = sVar6;
  uVar3 = (uint)uVar16;
  uVar13 = uVar14 + 4;
  if (sVar6 != 0) goto code_r0x80084e08;
  goto LAB_BATTLE_BIN__800848d0;
code_r0x80084e08:
  uVar13 = iVar10 + uVar14;
  goto switchD_BATTLE_BIN__80084930_caseD_c2;
}



void FUN_BATTLE_BIN__80085234(void)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a1d4();
  if (piVar1 != (int *)0x0) {
    FUN_BATTLE_BIN__80084214
              ((int)piVar1,(int)(piVar1 + 0x76),(uint)*(ushort *)(piVar1 + 0x78),
               *(ushort *)(piVar1 + 0x77));
  }
  return;
}



void FUN_BATTLE_BIN__8008526c(int param_1,undefined2 *param_2,short param_3,int param_4)

{
  char cVar1;
  byte bVar2;
  short sVar3;
  short sVar4;
  undefined2 *puVar5;
  byte *pbVar6;
  int iVar7;
  uint uVar8;
  ushort uVar9;
  int *piVar10;
  int iVar11;
  uint uVar12;
  ushort uVar13;
  uint uVar14;
  ushort uVar15;
  int iVar16;
  int iVar17;
  byte *pbVar18;
  uint uVar19;
  
  uVar19 = (uint)(ushort)param_2[2];
  cVar1 = (&DAT_BATTLE_BIN__800943e5)[(uint)*(byte *)(param_1 + 0x13a) * 2];
  uVar14 = (uint)(ushort)param_2[3];
  iVar17 = *(int *)(param_2 + 0xe);
  iVar16 = *(int *)(param_2 + 0x10);
  if (param_4 == 0) {
    uVar14 = uVar14 - 2;
  }
  if (0x100 < uVar19) {
    ERROREXCEPTION_DEPRECATED();
  }
  iVar7 = uVar19 << 2;
  if (*(int *)(uVar19 * 4 + iVar16) != -1) goto LAB_BATTLE_BIN__8008531c;
LAB_BATTLE_BIN__80085310:
  ERROREXCEPTION_DEPRECATED();
switchD_BATTLE_BIN__80085378_caseD_de:
  iVar7 = uVar19 << 2;
LAB_BATTLE_BIN__8008531c:
  uVar8 = uVar14;
  sVar3 = (short)uVar8;
  iVar7 = *(int *)(iVar7 + iVar16);
  if (*(char *)(iVar7 + sVar3) != -1) {
    uVar9 = param_2[10] +
            (ushort)*(byte *)(iVar7 + sVar3) +
            *(short *)((uint)*(byte *)(param_1 + 0x13b) * 2 + iVar17);
    if (param_4 != 0) {
      param_2[5] = (ushort)*(byte *)(iVar7 + ((int)((uVar8 + 1) * 0x10000) >> 0x10)) + param_2[9];
    }
    sVar3 = sVar3 + 2;
    pbVar18 = *(byte **)((uint)uVar9 * 4 + iVar17 + 0x40);
    if (0x200 < uVar9) {
      ERROREXCEPTION_DEPRECATED();
    }
    if (pbVar18 == (byte *)0xffffffff) {
      ERROREXCEPTION_DEPRECATED();
    }
    iVar16 = *(int *)(param_2 + 0x12);
    bVar2 = (*pbVar18 & 7) + 1;
    *(byte *)(iVar16 + 3) = bVar2;
    sVar4 = *(short *)(&DAT_BATTLE_BIN__80094508 + (uint)(*pbVar18 >> 3) * 2);
    *(short *)(iVar16 + 0xc) = sVar4;
    uVar15 = (ushort)bVar2;
    if ((*(ushort *)(param_1 + 0x12) & 2) != 0) {
      *(short *)(iVar16 + 0xc) = -sVar4;
    }
    if (3 < uVar15) {
      uVar15 = 3;
    }
    bVar2 = pbVar18[1];
    if (param_2[1] == 1) {
      uVar13 = 0;
      *(ushort *)(iVar16 + 4) = bVar2 & 0x60 | 9;
      *(short *)(iVar16 + 6) = *(short *)(param_1 + 0x10) + param_3 * 0x40 + 0x80;
      if (uVar15 != 0) {
        uVar14 = 0;
        do {
          pbVar6 = pbVar18 + uVar14 * 4 + 2;
          uVar13 = uVar13 + 1;
          uVar12 = (uint)*(ushort *)(pbVar6 + 2);
          uVar8 = (uVar12 & 0x3c00) >> 7;
          FUN_BATTLE_BIN__8007b4ec
                    (iVar16,uVar14,*pbVar6,pbVar6[1],(char)((uVar12 & 0x1f) << 3),
                     cVar1 * '\b' + (char)((uVar12 & 0x3ff) >> 5) * '\b',
                     (char)((uint)(*(int *)(&DAT_BATTLE_BIN__800946c8 + uVar8) << 0x13) >> 0x10),
                     (char)((uint)(*(int *)(&DAT_BATTLE_BIN__800946cc + uVar8) << 0x13) >> 0x10),
                     bVar2 & 0x61 | (byte)((uVar12 & 0xc000) >> 0xd));
          uVar14 = (uint)uVar13;
        } while (uVar13 < uVar15);
        param_2[3] = sVar3;
        goto LAB_BATTLE_BIN__800859d4;
      }
      goto LAB_BATTLE_BIN__800859d0;
    }
    if (param_2[1] == 2) {
      uVar13 = 0;
      *(ushort *)(iVar16 + 4) = bVar2 & 0x60 | 8;
      *(short *)(iVar16 + 6) = *(short *)(param_1 + 0x10) + param_3 * 0x40 + 0x80;
      if (uVar15 != 0) {
        uVar14 = 0;
        do {
          pbVar6 = pbVar18 + uVar14 * 4 + 2;
          uVar13 = uVar13 + 1;
          uVar12 = (uint)*(ushort *)(pbVar6 + 2);
          uVar8 = (uVar12 & 0x3c00) >> 7;
          FUN_BATTLE_BIN__8007b4ec
                    (iVar16,uVar14,*pbVar6,pbVar6[1],(char)((uVar12 & 0x1f) << 3),
                     (char)(((uVar12 & 0x3ff) >> 5) << 3),
                     (char)((uint)(*(int *)(&DAT_BATTLE_BIN__800946c8 + uVar8) << 0x13) >> 0x10),
                     (char)((uint)(*(int *)(&DAT_BATTLE_BIN__800946cc + uVar8) << 0x13) >> 0x10),
                     bVar2 & 0x61 | (byte)((uVar12 & 0xc000) >> 0xd));
          uVar14 = (uint)uVar13;
        } while (uVar13 < uVar15);
      }
LAB_BATTLE_BIN__800859d0:
      param_2[3] = sVar3;
    }
    else {
      param_2[3] = sVar3;
    }
LAB_BATTLE_BIN__800859d4:
    param_2[4] = uVar9;
    param_2[2] = (short)uVar19;
    return;
  }
  uVar14 = uVar8 + 2;
  sVar4 = (short)uVar14;
  switch(*(undefined *)(iVar7 + ((int)((uVar8 + 1) * 0x10000) >> 0x10))) {
  case 0xd3:
    if (DAT_BATTLE_BIN__8009612c != 1) goto switchD_BATTLE_BIN__80085378_caseD_d7;
    break;
  default:
    goto LAB_BATTLE_BIN__80085310;
  case 0xd5:
    uVar14 = 0;
    param_2[6] = param_2[6] + 1;
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xd6:
    if (DAT_BATTLE_BIN__8009612c == 0) {
      uVar14 = uVar8 + 3;
      goto switchD_BATTLE_BIN__80085378_caseD_de;
    }
    break;
  case 0xd7:
  case 0xe3:
  case 0xe4:
  case 0xe9:
  case 0xed:
  case 0xee:
  case 0xef:
  case 0xf0:
  case 0xf3:
  case 0xf4:
  case 0xf5:
switchD_BATTLE_BIN__80085378_caseD_d7:
    uVar14 = uVar8 + 3;
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xd8:
    uVar14 = uVar8 + 3;
    param_2[10] = (short)*(char *)(*(int *)(uVar19 * 4 + iVar16) + (int)sVar4);
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xd9:
    FUN_BATTLE_BIN__800689a4(param_1);
  case 0xe6:
  case 0xe7:
  case 0xe8:
  case 0xea:
  case 0xf1:
  case 0xf8:
  case 0xfb:
    uVar14 = uVar8 + 4;
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xdb:
    uVar14 = uVar8 + 3;
    param_2[9] = (short)*(char *)(*(int *)(uVar19 * 4 + iVar16) + (int)sVar4);
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xdc:
    uVar19 = (uint)(ushort)param_2[7];
    iVar7 = uVar19 << 2;
    uVar14 = (uint)(ushort)param_2[8];
    goto LAB_BATTLE_BIN__8008531c;
  case 0xdd:
    param_2[7] = (short)uVar19;
    uVar19 = (uint)*(byte *)(*(int *)(uVar19 * 4 + iVar16) + (int)sVar4);
    param_2[8] = sVar3 + 3;
    uVar14 = 0;
  case 0xde:
  case 0xe0:
  case 0xe1:
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xdf:
    *(undefined2 *)(*(int *)(param_2 + 0x12) + 0xc) = 0;
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xe2:
    uVar14 = uVar8 + 3;
    *(ushort *)(param_1 + 0x14) = (ushort)*(byte *)(*(int *)(uVar19 * 4 + iVar16) + (int)sVar4);
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xe5:
    iVar11 = uVar14 * 0x10000;
    uVar14 = uVar8 + 4;
    iVar7 = *(int *)(uVar19 * 4 + iVar16);
    *(ushort *)(*(int *)(param_2 + 0x12) + 0xc) =
         CONCAT11(*(undefined *)(iVar7 + ((int)((uVar8 + 3) * 0x10000) >> 0x10)),
                  *(undefined *)(iVar7 + (iVar11 >> 0x10)));
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xeb:
    param_2[0xc] = param_2[0xc] ^ 4;
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xec:
    param_2[0xc] = param_2[0xc] ^ 2;
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xf2:
    iVar11 = uVar14 * 0x10000;
    uVar14 = uVar8 + 4;
    iVar7 = *(int *)(uVar19 * 4 + iVar16);
    uVar12 = (uint)*(byte *)(iVar7 + (iVar11 >> 0x10));
    bVar2 = *(byte *)(iVar7 + ((int)((uVar8 + 3) * 0x10000) >> 0x10));
    if (uVar12 == 0) {
      ERROREXCEPTION_DEPRECATED();
    }
    puVar5 = (undefined2 *)(param_1 + uVar12 * 0x30 + 0x1d8);
    puVar5[2] = (ushort)bVar2;
    puVar5[3] = 0;
    puVar5[5] = 1;
    puVar5[9] = 0;
    puVar5[10] = 0;
    puVar5[0xb] = 0;
    *puVar5 = 1;
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xf6:
    FUN_BATTLE_BIN__8006b960
              (param_1,(MusicDataHeader *)
                       (uint)*(byte *)(*(int *)(uVar19 * 4 + iVar16) + (int)sVar4));
    iVar7 = uVar19 << 2;
    uVar14 = uVar8 + 3;
    goto LAB_BATTLE_BIN__8008531c;
  case 0xf7:
  case 0xfa:
    uVar14 = uVar8 + 5;
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xf9:
    piVar10 = (int *)(uVar19 * 4 + iVar16);
    iVar7 = uVar14 * 0x10000;
    uVar14 = uVar8 + 4;
    *(short *)(param_1 + 0x58) =
         (short)*(char *)(*piVar10 + (iVar7 >> 0x10)) + *(short *)(param_1 + 0x58);
    *(short *)(param_1 + 0x5a) =
         (short)*(char *)(*piVar10 + ((int)((uVar8 + 3) * 0x10000) >> 0x10)) +
         *(short *)(param_1 + 0x5a);
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xfc:
    iVar7 = *(int *)(uVar19 * 4 + iVar16);
    iVar11 = (int)*(char *)(iVar7 + ((int)(uVar14 * 0x10000) >> 0x10));
    if (param_2[0xb] != 0) goto code_r0x800855b4;
    uVar14 = iVar11 + uVar8;
    param_2[0xb] = (ushort)*(byte *)(iVar7 + ((int)((uVar8 + 3) * 0x10000) >> 0x10));
    goto switchD_BATTLE_BIN__80085378_caseD_de;
  case 0xfd:
    break;
  case 0xfe:
    *param_2 = 0;
  case 0xff:
    param_2[5] = 0;
    return;
  }
  uVar14 = (int)*(char *)(*(int *)(uVar19 * 4 + iVar16) + ((int)(uVar14 * 0x10000) >> 0x10)) + uVar8
  ;
  goto switchD_BATTLE_BIN__80085378_caseD_de;
code_r0x800855b4:
  sVar3 = param_2[0xb];
  param_2[0xb] = sVar3 + -1;
  iVar7 = uVar19 << 2;
  uVar14 = uVar8 + 4;
  if ((short)(sVar3 + -1) != 0) {
    uVar14 = iVar11 + uVar8;
  }
  goto LAB_BATTLE_BIN__8008531c;
}



void FUN_BATTLE_BIN__80085a18(int param_1,int param_2,int param_3)

{
  RECT local_28;
  
  FUN_BATTLE_BIN__8007aa34
            (&DAT_BATTLE_BIN__800c7cea + (uint)*(byte *)(param_1 + 5) * 0x32d6,
             &DAT_BATTLE_BIN__800a8928 + param_3 * 0x7564);
  LoadImage((RECT *)(&DAT_BATTLE_BIN__800a77d0 + param_2 * 0x3ab2),
            (u_long *)(&DAT_BATTLE_BIN__800a8928 + param_3 * 0x7564));
  local_28.x = (ushort)(*(byte *)(param_1 + 5) >> 3) * 0x40 + 0x340;
  local_28.w = 0x40;
  local_28.h = 0x20;
  local_28.y = (*(byte *)(param_1 + 5) & 7) * 0x20 + 0x100;
  MoveImage(&local_28,(int)(short)(&DAT_BATTLE_BIN__800a77d0)[param_2 * 0x3ab2],
            (short)(&DAT_BATTLE_BIN__800a77d2)[param_2 * 0x3ab2] + 200);
  DAT_80045990 = 1;
  (&DAT_BATTLE_BIN__800a77c4)[param_2 * 0x1d59] = *(byte *)(param_1 + 4) | 0x80;
  (&DAT_BATTLE_BIN__800a77c8)[param_3 * 0x1d59] = 2;
  (&DAT_BATTLE_BIN__800a77cc)[param_2 * 0x1d59] = 1;
  return;
}



void FUN_BATTLE_BIN__80085ba0(int param_1)

{
  uint uVar1;
  uint *puVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  puVar2 = &DAT_BATTLE_BIN__800a77c4;
  iVar3 = 0;
  do {
    uVar1 = *puVar2;
    iVar4 = iVar4 + 1;
    if (((1 < uVar1 - 0xfe) && ((uVar1 & 0x1f) == (uint)*(byte *)(param_1 + 4))) &&
       ((uVar1 & 0x40) == 0)) {
      *puVar2 = 0xff;
      *(undefined4 *)((int)&DAT_BATTLE_BIN__800a77cc + iVar3) = 0;
    }
    puVar2 = puVar2 + 0x1d59;
    iVar3 = iVar3 + 0x7564;
  } while (iVar4 < 2);
  return;
}



// WARNING: Removing unreachable block (ram,0x80085ddc)
// WARNING: Removing unreachable block (ram,0x80085dec)

void FUN_BATTLE_BIN__80085c0c(int param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  ushort uVar1;
  bool bVar2;
  short sVar3;
  uint uVar4;
  int *piVar5;
  ushort uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  undefined2 uVar10;
  int unaff_s4;
  int iVar11;
  undefined2 uVar12;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  
  local_90 = DAT_BATTLE_BIN__800680dc;
  local_8c = DAT_BATTLE_BIN__800680e0;
  local_88 = DAT_BATTLE_BIN__800680e4;
  local_84 = DAT_BATTLE_BIN__800680e8;
  local_80 = DAT_BATTLE_BIN__800680ec;
  local_7c = DAT_BATTLE_BIN__800680f0;
  local_78 = DAT_BATTLE_BIN__800680f4;
  local_74 = DAT_BATTLE_BIN__800680f8;
  local_70 = DAT_BATTLE_BIN__800680fc;
  local_6c = DAT_BATTLE_BIN__80068100;
  local_68 = DAT_BATTLE_BIN__80068104;
  local_64 = DAT_BATTLE_BIN__80068108;
  local_60 = DAT_BATTLE_BIN__8006810c;
  local_5c = DAT_BATTLE_BIN__80068110;
  local_58 = DAT_BATTLE_BIN__80068114;
  local_54 = DAT_BATTLE_BIN__80068118;
  local_50 = DAT_BATTLE_BIN__8006811c;
  local_4c = DAT_BATTLE_BIN__80068120;
  local_48 = DAT_BATTLE_BIN__80068124;
  local_44 = DAT_BATTLE_BIN__80068128;
  if (*(short *)(param_1 + 10) == 0) {
    return;
  }
  if (*(int *)(param_1 + 0x2e8) != 0) {
    FUN_BATTLE_BIN__8007f400(param_1);
  }
  uVar4 = (int)DAT_BATTLE_BIN__800a7786 + (int)*(short *)(param_1 + 0x70) & 0xfff;
  iVar8 = (int)uVar4 >> 10;
  iVar7 = (int)uVar4 >> 8;
  uVar6 = *(ushort *)(param_1 + 0xc);
  uVar10 = (undefined2)iVar8;
  uVar12 = (undefined2)(uVar4 >> 8);
  if (uVar6 == 0) {
    if ((*(uint *)(param_1 + 0x80) & 0x1000000) == 0) {
      if (iVar7 == *(short *)(param_1 + 0x6e)) {
        if ((*(short *)(param_1 + 0x1e2) != 0) && (iVar7 = 0, 0 < DAT_80045980)) {
          do {
            iVar7 = iVar7 + 1;
            if ((*(short *)(param_1 + 0x1e2) != 0) &&
               (*(short *)(param_1 + 0x1e2) = *(short *)(param_1 + 0x1e2) + -1,
               *(short *)(param_1 + 0x1e2) == 0)) {
              FUN_BATTLE_BIN__80084818(param_1,param_1 + 0x1d8,1,param_4);
            }
            FUN_BATTLE_BIN__8008b234(param_1);
          } while (iVar7 < DAT_80045980);
        }
      }
      else {
        if (*(ushort *)(param_1 + 0x1dc) < 6) {
          *(undefined2 *)(param_1 + 0x1dc) = *(undefined2 *)((int)&local_60 + iVar7 * 2);
          uVar1 = *(ushort *)(param_1 + 0x12);
          uVar6 = *(ushort *)((int)&local_80 + iVar7 * 2);
        }
        else {
          *(ushort *)(param_1 + 0x1dc) =
               (*(ushort *)(param_1 + 0x1dc) & 0xfffe) + *(short *)((int)&local_88 + iVar8 * 2);
          uVar1 = *(ushort *)(param_1 + 0x12);
          uVar6 = *(ushort *)((int)&local_90 + iVar8 * 2);
        }
        *(ushort *)(param_1 + 0x12) = uVar1 & 0xfff9 | uVar6;
        *(undefined2 *)(param_1 + 0x6c) = uVar10;
        *(undefined2 *)(param_1 + 0x6e) = uVar12;
        FUN_BATTLE_BIN__80084818(param_1,param_1 + 0x1d8,0,param_4);
      }
    }
    else if ((*(short *)(param_1 + 0x1e2) != 0) && (iVar7 = 0, 0 < DAT_80045980)) {
      do {
        iVar7 = iVar7 + 1;
        if ((*(short *)(param_1 + 0x1e2) != 0) &&
           (*(short *)(param_1 + 0x1e2) = *(short *)(param_1 + 0x1e2) + -1,
           *(short *)(param_1 + 0x1e2) == 0)) {
          FUN_BATTLE_BIN__80084818(param_1,param_1 + 0x1d8,1,param_4);
        }
        FUN_BATTLE_BIN__8008b234(param_1);
      } while (iVar7 < DAT_80045980);
    }
    goto LAB_BATTLE_BIN__800864c8;
  }
  iVar9 = 2;
  if (uVar6 == 3) {
    iVar8 = param_1 + 0x60;
    do {
      *(undefined2 *)(iVar8 + 0x208) = 0;
      iVar9 = iVar9 + -1;
      iVar8 = iVar8 + -0x30;
    } while (-1 < iVar9);
    *(undefined2 *)(param_1 + 0x1dc) = *(undefined2 *)((int)&local_60 + iVar7 * 2);
    uVar6 = *(ushort *)((int)&local_80 + iVar7 * 2);
    *(undefined2 *)(param_1 + 0x6c) = uVar10;
    *(undefined2 *)(param_1 + 0x6e) = uVar12;
    *(undefined2 *)(param_1 + 0x1de) = 0;
    *(undefined2 *)(param_1 + 0x1e2) = 0;
    *(undefined2 *)(param_1 + 0x1e4) = 0;
    *(undefined2 *)(param_1 + 0x54) = 0;
    *(undefined2 *)(param_1 + 0x52) = 0;
    *(undefined2 *)(param_1 + 0x50) = 0;
    *(undefined2 *)(param_1 + 0x5c) = 0;
    *(undefined2 *)(param_1 + 0x5a) = 0;
    *(undefined2 *)(param_1 + 0x58) = 0;
    *(undefined2 *)(param_1 + 0x1ea) = 0;
    *(undefined2 *)(param_1 + 0x1ec) = 0;
    *(undefined2 *)(param_1 + 0x1ee) = 0;
    *(undefined2 *)(param_1 + 0x1f0) = 0;
    *(ushort *)(param_1 + 0x12) = *(ushort *)(param_1 + 0x12) & 0xfff9 | uVar6;
    FUN_BATTLE_BIN__80084818(param_1,param_1 + 0x1d8,1,param_4);
    *(undefined2 *)(param_1 + 0xc) = 0;
    FUN_BATTLE_BIN__80085ba0(param_1);
    goto LAB_BATTLE_BIN__800864c8;
  }
  if (uVar6 < 0xc) {
    iVar7 = DAT_80045994;
    if (DAT_80045994 < 0) {
      iVar7 = DAT_80045994 + 3;
    }
    if (((*(byte *)(param_1 + 4) & 3) != DAT_80045994 + (iVar7 >> 2) * -4) &&
       ((*(uint *)(param_1 + 0x80) & 0x20000000) == 0)) goto LAB_BATTLE_BIN__800864c8;
  }
  bVar2 = true;
  if (((*(ushort *)(param_1 + 0xc) - 1) * 2 + (int)*(short *)((int)&local_88 + iVar8 * 2) ==
       (uint)*(ushort *)(param_1 + 0x1dc)) &&
     ((*(short *)(param_1 + 0x1e2) != 0 && ((*(uint *)(param_1 + 0x80) & 0x20000000) == 0)))) {
    *(undefined2 *)(param_1 + 0xc) = 0;
    goto LAB_BATTLE_BIN__800864c8;
  }
  iVar7 = *(ushort *)(param_1 + 0xc) - 1;
  if (iVar7 < 500) {
    uVar4 = iVar7 * 2 + (int)*(short *)((int)&local_88 + iVar8 * 2);
    if (uVar4 < (*(uint **)(param_1 + 0x1f8))[1]) {
      iVar7 = 0;
      if (uVar4 < **(uint **)(param_1 + 0x1f8)) {
        FUN_BATTLE_BIN__80085ba0(param_1);
      }
      else {
        iVar9 = 0;
        do {
          if ((*(uint *)((int)&DAT_BATTLE_BIN__800a77c4 + iVar9) & 0x1f) ==
              (uint)*(byte *)(param_1 + 4)) break;
          iVar7 = iVar7 + 1;
          iVar9 = iVar9 + 0x7564;
        } while (iVar7 < 2);
        iVar9 = 0;
        if (iVar7 == 2) {
          iVar7 = 0;
          do {
            if (*(int *)((int)&DAT_BATTLE_BIN__800a77c4 + iVar7) == 0xff) {
              unaff_s4 = 0;
              iVar7 = 0;
              goto LAB_BATTLE_BIN__80086018;
            }
            iVar9 = iVar9 + 1;
            iVar7 = iVar7 + 0x7564;
          } while (iVar9 < 2);
          goto LAB_BATTLE_BIN__8008605c;
        }
      }
    }
  }
LAB_BATTLE_BIN__80086164:
  if (!bVar2) {
    if ((*(short *)(param_1 + 0x1e2) != 0) && (iVar7 = 0, 0 < DAT_80045980)) {
      do {
        iVar7 = iVar7 + 1;
        if ((*(short *)(param_1 + 0x1e2) != 0) &&
           (*(short *)(param_1 + 0x1e2) = *(short *)(param_1 + 0x1e2) + -1,
           *(short *)(param_1 + 0x1e2) == 0)) {
          FUN_BATTLE_BIN__80084818(param_1,param_1 + 0x1d8,1,param_4);
        }
      } while (iVar7 < DAT_80045980);
    }
    goto LAB_BATTLE_BIN__800864c8;
  }
  goto LAB_BATTLE_BIN__8008616c;
  while( true ) {
    unaff_s4 = unaff_s4 + 1;
    iVar7 = iVar7 + 0x7564;
    if (1 < unaff_s4) break;
LAB_BATTLE_BIN__80086018:
    if (*(int *)((int)&DAT_BATTLE_BIN__800a77c8 + iVar7) == 0) {
      FUN_BATTLE_BIN__80085a18(param_1,iVar9,unaff_s4);
      break;
    }
  }
LAB_BATTLE_BIN__8008605c:
  bVar2 = unaff_s4 != 2 && iVar9 != 2;
  if (unaff_s4 == 2 || iVar9 == 2) {
    if (1 < DAT_BATTLE_BIN__800aed28 - 0xfeU) {
      piVar5 = FUN_BATTLE_BIN__8007a6e4((ushort)DAT_BATTLE_BIN__800aed28 & 0x1f);
      if (piVar5 != (int *)0x0) {
        if ((*(ushort *)(piVar5 + 0x77) & 1) == 0) {
          *(ushort *)(piVar5 + 0x78) =
               (ushort)(byte)(&DAT_BATTLE_BIN__800949c4)
                             [(byte)(&DAT_BATTLE_BIN__80094748)
                                    [(uint)*(byte *)((int)piVar5 + 6) * 4]];
        }
        else {
          *(ushort *)(piVar5 + 0x78) =
               (ushort)(byte)(&DAT_BATTLE_BIN__800949d0)
                             [(byte)(&DAT_BATTLE_BIN__80094748)
                                    [(uint)*(byte *)((int)piVar5 + 6) * 4]];
        }
        param_4 = (uint)*(ushort *)(piVar5 + 0x77);
        bVar2 = true;
        *(undefined2 *)(piVar5 + 0x15) = 0;
        *(undefined2 *)((int)piVar5 + 0x52) = 0;
        *(undefined2 *)(piVar5 + 0x14) = 0;
        FUN_BATTLE_BIN__80084214
                  ((int)piVar5,(int)(piVar5 + 0x76),(uint)*(ushort *)(piVar5 + 0x78),
                   *(ushort *)(piVar5 + 0x77));
        *(undefined2 *)(param_1 + 0x1e2) = 0;
        FUN_BATTLE_BIN__80085a18(param_1,1,1);
      }
    }
    goto LAB_BATTLE_BIN__80086164;
  }
LAB_BATTLE_BIN__8008616c:
  iVar9 = 2;
  iVar7 = param_1 + 0x60;
  do {
    *(undefined2 *)(iVar7 + 0x208) = 0;
    iVar9 = iVar9 + -1;
    iVar7 = iVar7 + -0x30;
  } while (-1 < iVar9);
  iVar7 = *(ushort *)(param_1 + 0xc) - 1;
  if (iVar7 < 500) {
    sVar3 = (short)iVar7 * 2 + *(short *)((int)&local_88 + iVar8 * 2);
  }
  else {
    sVar3 = *(short *)(param_1 + 0xc) + -1;
  }
  *(short *)(param_1 + 0x1dc) = sVar3;
  uVar6 = *(ushort *)((int)&local_90 + iVar8 * 2);
  *(undefined2 *)(param_1 + 0x6c) = uVar10;
  *(undefined2 *)(param_1 + 0x6e) = uVar12;
  *(undefined2 *)(param_1 + 0x1de) = 0;
  *(undefined2 *)(param_1 + 0x1e2) = 0;
  *(undefined2 *)(param_1 + 0x1e4) = 0;
  *(undefined2 *)(param_1 + 0x54) = 0;
  *(undefined2 *)(param_1 + 0x52) = 0;
  *(undefined2 *)(param_1 + 0x50) = 0;
  *(undefined2 *)(param_1 + 0x5c) = 0;
  *(undefined2 *)(param_1 + 0x5a) = 0;
  *(undefined2 *)(param_1 + 0x58) = 0;
  *(undefined2 *)(param_1 + 0x1ea) = 0;
  *(undefined2 *)(param_1 + 0x1ec) = 0;
  *(undefined2 *)(param_1 + 0x1ee) = 0;
  *(undefined2 *)(param_1 + 0x1f0) = 0;
  *(ushort *)(param_1 + 0x12) = *(ushort *)(param_1 + 0x12) & 0xfff9 | uVar6;
  FUN_BATTLE_BIN__80084818(param_1,param_1 + 0x1d8,1,param_4);
  *(undefined2 *)(param_1 + 0xc) = 0;
  *(uint *)(param_1 + 0x80) = *(uint *)(param_1 + 0x80) & 0xdfffffff;
  if (*(char *)(param_1 + 0x130) == '\x02') {
    piVar5 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131));
    if (piVar5 != (int *)0x0) {
      *(undefined2 *)((int)piVar5 + 0x1de) = 0;
      *(undefined2 *)((int)piVar5 + 0x1e2) = 0;
      FUN_BATTLE_BIN__80084818((int)piVar5,(int)(piVar5 + 0x76),1,param_4);
    }
  }
LAB_BATTLE_BIN__800864c8:
  iVar8 = 0;
  iVar9 = 0x208;
  iVar7 = param_1;
  do {
    if (((*(short *)(iVar7 + 0x208) != 0) && (*(short *)(iVar7 + 0x212) != 0)) &&
       (iVar11 = 0, 0 < DAT_80045980)) {
      do {
        iVar11 = iVar11 + 1;
        if ((*(short *)(iVar7 + 0x212) != 0) &&
           (*(short *)(iVar7 + 0x212) = *(short *)(iVar7 + 0x212) + -1,
           *(short *)(iVar7 + 0x212) == 0)) {
          FUN_BATTLE_BIN__8008526c(param_1,(undefined2 *)(param_1 + iVar9),(short)iVar8,1);
        }
      } while (iVar11 < DAT_80045980);
    }
    iVar9 = iVar9 + 0x30;
    iVar8 = iVar8 + 1;
    iVar7 = iVar7 + 0x30;
  } while (iVar8 < 3);
  return;
}



void FUN_BATTLE_BIN__800865a4(int param_1)

{
  if ((((*(ushort *)(param_1 + 0x120) - 0x61 < 0x13f) &&
       ((ushort)(*(short *)(param_1 + 0x122) + 0x1fU) < 0x12f)) &&
      (*(int *)(param_1 + 0x128) - 1U < 0x17f)) &&
     (((*(short *)(param_1 + 0x1d8) != 0 && (*(char *)(param_1 + 0x130) != '\x02')) &&
      (*(char *)(param_1 + 0x2dc) != '\0')))) {
    FUN_BATTLE_BIN__8007eec0(param_1);
  }
  return;
}



void FUN_BATTLE_BIN__80086640(int param_1)

{
  char cVar1;
  byte bVar2;
  uint *puVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  ushort uVar7;
  ushort uVar8;
  undefined2 *puVar9;
  undefined2 *puVar10;
  int *piVar11;
  int iVar12;
  ushort local_58;
  short local_56;
  short local_50;
  undefined2 local_4e;
  undefined4 local_48;
  undefined4 local_44;
  uint local_40;
  undefined4 local_38;
  int local_30;
  
  local_48 = DAT_BATTLE_BIN__8006812c;
  local_44 = DAT_BATTLE_BIN__80068130;
  local_58 = *(ushort *)(param_1 + 0x120);
  local_56 = *(short *)(param_1 + 0x122);
  PutProjectionPlacetoGTE(0x200);
  PutScreentoGTE(0,0);
  if (0x17e < *(int *)(param_1 + 0x128) - 1U) {
    return;
  }
  if (*(char *)(param_1 + 700) != '\0') {
    FUN_BATTLE_BIN__800810a4(param_1,(short *)&local_58);
  }
  if (((0x13e < local_58 - 0x61) || (0x12e < (ushort)(local_56 + 0x1fU))) &&
     (*(char *)(param_1 + 6) != 'I')) {
    return;
  }
  local_48 = CONCAT22(DAT_BATTLE_BIN__800c7ca4,DAT_BATTLE_BIN__800c7ca0);
  local_44 = CONCAT22(local_44._2_2_,(undefined2)DAT_BATTLE_BIN__800c7ca8);
  local_40 = (uint)*(ushort *)(param_1 + 0x14);
  uVar8 = (ushort)*(byte *)(param_1 + 0x13f) ^ *(ushort *)(param_1 + 0x12);
  if (*(short *)(param_1 + 0x1d8) == 0) {
    return;
  }
  if (*(char *)(param_1 + 0x2d0) != '\0') {
    FUN_BATTLE_BIN__8007f50c(param_1);
  }
  cVar1 = *(char *)(param_1 + 0x130);
  if (cVar1 == '\0') {
    iVar12 = 0;
    piVar4 = (int *)(&DAT_BATTLE_BIN__80094548 + local_40 * 0x10);
    do {
      if (*piVar4 == 0) {
        puVar10 = *(undefined2 **)(param_1 + 0x204);
        iVar5 = Get_OTAG_List();
        bVar2 = *(byte *)((int)puVar10 + 3);
        puVar3 = (uint *)(iVar5 + *(int *)(param_1 + 0x128) * 4);
        uVar7 = uVar8 ^ *(ushort *)(param_1 + 0x1f0);
LAB_BATTLE_BIN__80086ab4:
        FUN_BATTLE_BIN__8007af44
                  (puVar10,(uint)bVar2,0,(short *)&local_58,0,uVar7,(short *)&local_48,puVar3);
      }
      else {
        iVar5 = param_1 + (*piVar4 + -1) * 0x30;
        if (*(short *)(iVar5 + 0x208) != 0) {
          puVar10 = *(undefined2 **)(iVar5 + 0x22c);
          iVar5 = Get_OTAG_List();
          bVar2 = *(byte *)((int)puVar10 + 3);
          puVar3 = (uint *)(iVar5 + *(int *)(param_1 + 0x128) * 4);
          uVar7 = uVar8;
          goto LAB_BATTLE_BIN__80086ab4;
        }
      }
      iVar12 = iVar12 + 1;
      piVar4 = piVar4 + 1;
    } while (iVar12 < 4);
  }
  else {
    if ((cVar1 == '\x01') || (cVar1 != '\x02')) goto LAB_BATTLE_BIN__80086af8;
    iVar12 = 0;
    local_38 = 0;
    local_30 = (int)(short)uVar8;
    do {
      if (*(int *)(&DAT_BATTLE_BIN__80094548 + iVar12 * 4 + local_40 * 0x10) == 0) {
        puVar10 = *(undefined2 **)(param_1 + 0x204);
        iVar5 = Get_OTAG_List();
        FUN_BATTLE_BIN__8007af44
                  (puVar10,3,0,(short *)&local_58,(short)local_38,(ushort)local_30,
                   (short *)&local_48,(uint *)(iVar5 + *(int *)(param_1 + 0x128) * 4));
        piVar4 = FUN_BATTLE_BIN__8007a6e4((ushort)*(byte *)(param_1 + 0x131));
        if ((piVar4 != (int *)0x0) && (*(short *)((int)piVar4 + 10) != 0)) {
          local_50 = *(short *)(piVar4 + 0x48);
          iVar5 = 0;
          local_4e = *(undefined2 *)((int)piVar4 + 0x122);
          uVar8 = *(ushort *)((int)piVar4 + 0x12);
          piVar11 = (int *)(&DAT_BATTLE_BIN__80094548 + (uint)*(ushort *)(piVar4 + 5) * 0x10);
          do {
            iVar6 = *piVar11 + -1;
            if (*piVar11 == 0) {
              puVar9 = (undefined2 *)piVar4[0x81];
LAB_BATTLE_BIN__8008692c:
              iVar6 = Get_OTAG_List();
              FUN_BATTLE_BIN__8007af44
                        (puVar9,(uint)*(byte *)((int)puVar9 + 3),0,&local_50,(short)local_38,uVar8,
                         (short *)&local_48,(uint *)(iVar6 + *(int *)(param_1 + 0x128) * 4));
            }
            else if (*(short *)(piVar4 + iVar6 * 0xc + 0x82) != 0) {
              puVar9 = (undefined2 *)piVar4[iVar6 * 0xc + 0x8b];
              goto LAB_BATTLE_BIN__8008692c;
            }
            iVar5 = iVar5 + 1;
            piVar11 = piVar11 + 1;
          } while (iVar5 < 4);
        }
        iVar5 = Get_OTAG_List();
        iVar6 = 3;
        bVar2 = *(byte *)((int)puVar10 + 3);
        puVar3 = (uint *)(iVar5 + *(int *)(param_1 + 0x128) * 4);
LAB_BATTLE_BIN__800869ac:
        FUN_BATTLE_BIN__8007af44
                  (puVar10,(uint)bVar2,iVar6,(short *)&local_58,(short)local_38,(ushort)local_30,
                   (short *)&local_48,puVar3);
      }
      else {
        iVar5 = param_1 + (*(int *)(&DAT_BATTLE_BIN__80094548 + iVar12 * 4 + local_40 * 0x10) + -1)
                          * 0x30;
        if (*(short *)(iVar5 + 0x208) != 0) {
          puVar10 = *(undefined2 **)(iVar5 + 0x22c);
          iVar5 = Get_OTAG_List();
          iVar6 = 0;
          bVar2 = *(byte *)((int)puVar10 + 3);
          puVar3 = (uint *)(iVar5 + *(int *)(param_1 + 0x128) * 4);
          goto LAB_BATTLE_BIN__800869ac;
        }
      }
      iVar12 = iVar12 + 1;
    } while (iVar12 < 4);
  }
  if (*(char *)(param_1 + 0x298) != '\0') {
    iVar12 = Get_OTAG_List();
    FUN_BATTLE_BIN__8007d5d0(param_1,(uint *)(iVar12 + *(int *)(param_1 + 0x128) * 4));
  }
LAB_BATTLE_BIN__80086af8:
  if (*(int *)(param_1 + 0x2e8) != 0) {
    FUN_BATTLE_BIN__8007f2ac(param_1);
  }
  return;
}



void FUN_BATTLE_BIN__80086b44(void)

{
  short sVar1;
  byte *pbVar2;
  uint uVar3;
  int iVar4;
  int *piVar5;
  short local_38;
  short local_34;
  int local_30;
  SVECTOR SStack_28;
  SVECTOR SStack_20;
  long alStack_18 [2];
  
  SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  for (piVar5 = (int *)DAT_BATTLE_BIN__80098a54; piVar5 != (int *)0x0; piVar5 = (int *)*piVar5) {
    FUN_BATTLE_BIN__8007b96c(&SStack_28.vx,(int)piVar5);
    RotTrans(&SStack_28,(VECTOR *)&local_38,piVar5 + 0x4b);
    if ((*(ushort *)((int)piVar5 + 0x12) & 2) == 0) {
      sVar1 = *(short *)(piVar5 + 0x16);
    }
    else {
      sVar1 = -*(short *)(piVar5 + 0x16);
    }
    *(short *)(piVar5 + 0x48) = local_38 + sVar1;
    if ((*(ushort *)((int)piVar5 + 0x12) & 4) == 0) {
      sVar1 = *(short *)((int)piVar5 + 0x5a);
    }
    else {
      sVar1 = -*(short *)((int)piVar5 + 0x5a);
    }
    *(short *)((int)piVar5 + 0x122) = local_34 + sVar1;
    pbVar2 = FUN_BATTLE_BIN__80183fb4
                       (((int)*(short *)(piVar5 + 0x10) / 0x1c) * 0x10000 >> 0x10,
                        ((int)*(short *)(piVar5 + 0x11) / 0x1c) * 0x10000 >> 0x10,
                        (uint)*(byte *)((int)piVar5 + 0x7e));
    if (*(char *)((int)piVar5 + 0x7f) == '\0') {
      if ((*pbVar2 & 0x40) == 0) {
        FUN_BATTLE_BIN__8007b92c(&SStack_28.vx,&SStack_20.vx);
      }
      else {
        FUN_BATTLE_BIN__8007b94c(&SStack_28.vx,&SStack_20.vx);
      }
    }
    else if ((*pbVar2 & 0x40) == 0) {
      FUN_BATTLE_BIN__8007b688(&SStack_28.vx,&SStack_20.vx);
    }
    else {
      FUN_BATTLE_BIN__8007b6a8(&SStack_28.vx,&SStack_20.vx);
    }
    if (piVar5[0x4d] != 0) {
      uVar3 = FUN_BATTLE_BIN__8017f020(piVar5[0x4d]);
      if ((uVar3 & 0x10) == 0) {
        if (((uVar3 & 0x40) == 0) && ((uVar3 & 0x20) == 0)) {
          SStack_20.vy = SStack_20.vy + (ushort)(pbVar2[3] >> 5) * -0xc;
        }
      }
      else if ((pbVar2[3] & 0xe0) != 0) {
        SStack_20.vy = SStack_20.vy + -0xc;
      }
    }
    RotTrans(&SStack_20,(VECTOR *)&local_38,alStack_18);
    iVar4 = local_30;
    if (local_30 < 0) {
      iVar4 = local_30 + 3;
    }
    piVar5[0x4a] = iVar4 >> 2;
  }
  return;
}



void FUN_BATTLE_BIN__80086dc4(void)

{
  int *piVar1;
  
  switch(DAT_BATTLE_BIN__800960e4) {
  case 0:
  case 2:
  case 3:
  case 4:
  case 5:
  case 7:
  case 0xc:
  case 0xd:
  case 0x16:
  case 0x17:
  case 0x19:
  case 0x1b:
    if ((((DAT_BATTLE_BIN__800960cc == 0) && (DAT_BATTLE_BIN__800960d4 == 0)) &&
        (DAT_BATTLE_BIN__800960c8 == 0)) &&
       ((DAT_BATTLE_BIN__800a1c48 | DAT_BATTLE_BIN__800a1c4c | DAT_BATTLE_BIN__800a1c50) == 0)) {
      if (DAT_BATTLE_BIN__80096130 == 0) {
        piVar1 = DAT_BATTLE_BIN__80098a54;
        if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
          do {
            FUN_BATTLE_BIN__800865a4((int)piVar1);
            piVar1 = (int *)*piVar1;
          } while (piVar1 != (int *)0x0);
        }
      }
      else {
        DAT_BATTLE_BIN__80096130 = DAT_BATTLE_BIN__80096130 - DAT_80045980;
        if (DAT_BATTLE_BIN__80096130 < 1) {
          DAT_BATTLE_BIN__80096130 = 0;
        }
      }
    }
    else {
      DAT_BATTLE_BIN__80096130 = 0x3c;
    }
  }
  FUN_BATTLE_BIN__80085234();
  for (piVar1 = DAT_BATTLE_BIN__80098a54; piVar1 != (int *)0x0; piVar1 = (int *)*piVar1) {
    FUN_BATTLE_BIN__80086640((int)piVar1);
  }
  return;
}



void FUN_BATTLE_BIN__80086f2c(undefined4 *param_1)

{
  bool bVar1;
  undefined4 *puVar2;
  int *piVar3;
  undefined4 *puVar4;
  
  bVar1 = false;
  FUN_BATTLE_BIN__8007aecc();
  (&DAT_BATTLE_BIN__800b7304)[(uint)*(byte *)(param_1 + 1) * 0x110] = 0;
  if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
    piVar3 = DAT_BATTLE_BIN__80098a54;
    do {
      if ((*(char *)((int)piVar3 + 5) == *(char *)((int)param_1 + 5)) &&
         ((&DAT_BATTLE_BIN__800b7304)[(uint)*(byte *)(piVar3 + 1) * 0x110] != 0)) {
        bVar1 = true;
      }
      piVar3 = (int *)*piVar3;
    } while (piVar3 != (int *)0x0);
  }
  if (!bVar1) {
    (&DAT_BATTLE_BIN__800c7ce8)[(uint)*(byte *)((int)param_1 + 5) * 0x32d6] = 0;
  }
  puVar4 = &DAT_BATTLE_BIN__80098a54;
  do {
    puVar2 = (undefined4 *)*puVar4;
    if (puVar2 == param_1) {
      *puVar4 = *puVar2;
      return;
    }
    puVar4 = puVar2;
  } while (puVar2 != (undefined4 *)0x0);
  return;
}



void FUN_BATTLE_BIN__80087064(void)

{
  undefined4 *puVar1;
  
  puVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (undefined4 *)0x0) {
    do {
      FUN_BATTLE_BIN__80086f2c(puVar1);
      puVar1 = (undefined4 *)*puVar1;
    } while (puVar1 != (undefined4 *)0x0);
  }
  return;
}



undefined4 FUN_BATTLE_BIN__800870ac(undefined4 *param_1)

{
  char cVar1;
  byte bVar2;
  undefined4 uVar3;
  
  cVar1 = *(char *)((int)param_1 + 0x13e);
  uVar3 = 0;
  if (cVar1 != '\0') {
    bVar2 = *(byte *)(param_1 + 1);
    uVar3 = 0;
    if ((&DAT_BATTLE_BIN__8009b27c)[(uint)bVar2 * 8] == '\0') {
      if (cVar1 == '\x01') {
        *(undefined *)((int)param_1 + 0x13e) = 2;
        FUN_BATTLE_BIN__800933c4(4,4,(uint)*(byte *)(param_1 + 1),0xffe1,0xffe1,0xffe1);
        uVar3 = 0;
      }
      else {
        uVar3 = 0;
        if (cVar1 == '\x02') {
          if (bVar2 == DAT_BATTLE_BIN__80096118) {
            FUN_BATTLE_BIN__8008d18c((ushort)bVar2);
            uVar3 = 0;
          }
          else {
            *(undefined *)((int)param_1 + 0x13e) = 3;
            if (param_1[0x4d] != 0) {
              FUN_BATTLE_BIN__8017fcc8((uint)*(byte *)(param_1[0x4d] + 0x18a));
            }
            FUN_BATTLE_BIN__80086f2c(param_1);
            uVar3 = 1;
          }
        }
      }
    }
  }
  return uVar3;
}



void FUN_BATTLE_BIN__8008719c(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  int **ppiVar1;
  
  ppiVar1 = (int **)DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
    do {
      FUN_BATTLE_BIN__80085c0c((int)ppiVar1,param_2,param_3,param_4);
      FUN_BATTLE_BIN__8007f1d4((int *)ppiVar1);
      FUN_BATTLE_BIN__800870ac(ppiVar1);
      ppiVar1 = (int **)*ppiVar1;
    } while (ppiVar1 != (int **)0x0);
  }
  return;
}



void FUN_BATTLE_BIN__800871f4(int *param_1,byte *param_2)

{
  int iVar1;
  int iVar2;
  byte *pbVar3;
  uint uVar4;
  uint uVar5;
  byte *pbVar6;
  
  iVar1 = DAT_BATTLE_BIN__800a1c58;
  uVar4 = 0;
  pbVar6 = param_2 + 4;
  *param_1 = (uint)*param_2 + (uint)param_2[1] * 0x100;
  param_1[1] = (uint)param_2[2] + (uint)param_2[3] * 0x100;
  do {
    iVar2 = (uint)*pbVar6 + (uint)pbVar6[1] * 0x100 + (uint)pbVar6[2] * 0x10000 +
            (uint)pbVar6[3] * 0x1000000;
    pbVar6 = pbVar6 + 4;
    if (iVar2 == -1) {
      iVar2 = 0;
    }
    param_1[2] = iVar2 + iVar1;
    uVar4 = uVar4 + 1;
    param_1 = param_1 + 1;
  } while (uVar4 < 0x100);
  uVar4 = (uint)param_2[0x404] + (uint)param_2[0x405] * 0x100;
  uVar5 = 0;
  if (uVar4 != 0) {
    pbVar6 = param_2 + 0x406;
    do {
      pbVar3 = (byte *)(DAT_BATTLE_BIN__800a1c58 + uVar5);
      uVar5 = uVar5 + 1;
      *pbVar3 = *pbVar6;
      pbVar6 = pbVar6 + 1;
    } while (uVar5 < uVar4);
  }
  DAT_BATTLE_BIN__800a1c58 = uVar5 + DAT_BATTLE_BIN__800a1c58;
  return;
}



void FUN_BATTLE_BIN__800872ec(int *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  undefined *puVar3;
  undefined *puVar4;
  byte *pbVar5;
  uint uVar6;
  uint uVar7;
  
  iVar1 = DAT_BATTLE_BIN__800a1c58;
  uVar6 = 0;
  pbVar5 = (byte *)(param_2 + 4);
  do {
    iVar2 = (uint)*pbVar5 + (uint)pbVar5[1] * 0x100 + (uint)pbVar5[2] * 0x10000 +
            (uint)pbVar5[3] * 0x1000000;
    pbVar5 = pbVar5 + 4;
    if (iVar2 == -1) {
      iVar2 = 0;
    }
    *param_1 = iVar2 + iVar1;
    uVar6 = uVar6 + 1;
    param_1 = param_1 + 1;
  } while (uVar6 < 0x100);
  uVar6 = (uint)*(byte *)(param_2 + 0x404) + (uint)*(byte *)(param_2 + 0x405) * 0x100;
  uVar7 = 0;
  if (uVar6 != 0) {
    puVar4 = (undefined *)(param_2 + 0x406);
    do {
      puVar3 = (undefined *)(DAT_BATTLE_BIN__800a1c58 + uVar7);
      uVar7 = uVar7 + 1;
      *puVar3 = *puVar4;
      puVar4 = puVar4 + 1;
    } while (uVar7 < uVar6);
  }
  DAT_BATTLE_BIN__800a1c58 = uVar7 + DAT_BATTLE_BIN__800a1c58;
  return;
}



void FUN_BATTLE_BIN__800873bc(int *param_1,byte *param_2)

{
  int iVar1;
  byte *pbVar2;
  int iVar3;
  int iVar4;
  byte *pbVar5;
  uint uVar6;
  uint uVar7;
  int *piVar8;
  int iVar9;
  
  iVar4 = DAT_BATTLE_BIN__800bf78c;
  uVar6 = 0;
  pbVar5 = param_2 + 8;
  iVar9 = (uint)*param_2 + (uint)param_2[1] * 0x100 + (uint)param_2[2] * 0x10000 +
          (uint)param_2[3] * 0x1000000;
  *param_1 = (uint)param_2[4] + (uint)param_2[5] * 0x100;
  param_1[1] = (uint)param_2[6] + (uint)param_2[7] * 0x100;
  piVar8 = param_1;
  do {
    iVar1 = (uint)*pbVar5 + (uint)pbVar5[1] * 0x100 + (uint)pbVar5[2] * 0x10000 +
            (uint)pbVar5[3] * 0x1000000;
    iVar3 = iVar1 + iVar4;
    if (iVar1 == -1) {
      iVar3 = iVar4;
    }
    piVar8[2] = iVar3;
    if (iVar9 == 8) {
      piVar8[0xd2] = iVar3;
    }
    pbVar5 = pbVar5 + 4;
    uVar6 = uVar6 + 1;
    piVar8 = piVar8 + 1;
  } while (uVar6 < 0xd0);
  uVar6 = 0xd0;
  iVar4 = 0x348;
  do {
    iVar3 = iVar4;
    uVar6 = uVar6 + 1;
    iVar4 = iVar3 + 4;
  } while (uVar6 < 0x100);
  uVar7 = (uint)param_2[iVar4] + (uint)(param_2 + iVar4)[1] * 0x100;
  uVar6 = 0;
  if (uVar7 != 0) {
    pbVar5 = param_2 + iVar3 + 6;
    do {
      pbVar2 = (byte *)(DAT_BATTLE_BIN__800bf78c + uVar6);
      uVar6 = uVar6 + 1;
      *pbVar2 = *pbVar5;
      pbVar5 = pbVar5 + 1;
    } while (uVar6 < uVar7);
  }
  iVar4 = uVar6 + DAT_BATTLE_BIN__800bf78c;
  uVar6 = 0;
  DAT_BATTLE_BIN__800bf78c = iVar4;
  if (iVar9 != 8) {
    pbVar5 = param_2 + iVar9;
    do {
      iVar3 = (uint)*pbVar5 + (uint)pbVar5[1] * 0x100 + (uint)pbVar5[2] * 0x10000 +
              (uint)pbVar5[3] * 0x1000000;
      pbVar5 = pbVar5 + 4;
      if (iVar3 == -1) {
        iVar3 = 0;
      }
      param_1[0xd2] = iVar3 + iVar4;
      uVar6 = uVar6 + 1;
      param_1 = param_1 + 1;
    } while (uVar6 < 0xd0);
    uVar6 = 0xd0;
    iVar4 = iVar9 + 0x340;
    do {
      iVar9 = iVar4;
      uVar6 = uVar6 + 1;
      iVar4 = iVar9 + 4;
    } while (uVar6 < 0x100);
    uVar7 = (uint)param_2[iVar4] + (uint)(param_2 + iVar4)[1] * 0x100;
    uVar6 = 0;
    if (uVar7 != 0) {
      pbVar5 = param_2 + iVar9 + 6;
      do {
        pbVar2 = (byte *)(DAT_BATTLE_BIN__800bf78c + uVar6);
        uVar6 = uVar6 + 1;
        *pbVar2 = *pbVar5;
        pbVar5 = pbVar5 + 1;
      } while (uVar6 < uVar7);
    }
    DAT_BATTLE_BIN__800bf78c = uVar6 + DAT_BATTLE_BIN__800bf78c;
  }
  return;
}



void FUN_BATTLE_BIN__800875f0(undefined2 *param_1,int param_2)

{
  undefined2 uVar1;
  int iVar2;
  int iVar3;
  undefined *puVar4;
  undefined *puVar5;
  undefined2 *puVar6;
  byte *pbVar7;
  uint uVar8;
  undefined2 *puVar9;
  int iVar10;
  uint uVar11;
  
  uVar11 = 0;
  puVar6 = (undefined2 *)(param_2 + 4);
  puVar9 = param_1;
  do {
    uVar1 = *puVar6;
    puVar6 = puVar6 + 1;
    uVar11 = uVar11 + 1;
    *puVar9 = uVar1;
    iVar2 = DAT_BATTLE_BIN__800bf78c;
    puVar9 = puVar9 + 1;
  } while (uVar11 < 0x20);
  uVar11 = 0;
  pbVar7 = (byte *)(param_2 + 0x44);
  iVar3 = 0x44;
  do {
    iVar10 = iVar3;
    iVar3 = (uint)*pbVar7 + (uint)pbVar7[1] * 0x100 + (uint)pbVar7[2] * 0x10000 +
            (uint)pbVar7[3] * 0x1000000;
    pbVar7 = pbVar7 + 4;
    if (iVar3 == -1) {
      iVar3 = 0;
    }
    *(int *)(param_1 + 0x20) = iVar3 + iVar2;
    iVar3 = iVar10 + 4;
    uVar11 = uVar11 + 1;
    param_1 = param_1 + 2;
  } while (uVar11 < 0x200);
  pbVar7 = (byte *)(param_2 + iVar3);
  uVar8 = (uint)*pbVar7 + (uint)pbVar7[1] * 0x100;
  uVar11 = 0;
  if (uVar8 != 0) {
    puVar5 = (undefined *)(iVar10 + 6 + param_2);
    do {
      puVar4 = (undefined *)(DAT_BATTLE_BIN__800bf78c + uVar11);
      uVar11 = uVar11 + 1;
      *puVar4 = *puVar5;
      puVar5 = puVar5 + 1;
    } while (uVar11 < uVar8);
  }
  DAT_BATTLE_BIN__800bf78c = uVar11 + DAT_BATTLE_BIN__800bf78c;
  return;
}



void FUN_BATTLE_BIN__80087704(byte *param_1,uint param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  byte bVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  byte *pbVar6;
  byte *pbVar7;
  undefined *puVar8;
  
  iVar4 = (uint)*(byte *)(param_4 + 5) * 0x32d6;
  pbVar6 = &DAT_BATTLE_BIN__800cadbe + iVar4;
  puVar8 = &DAT_BATTLE_BIN__800c7cea + iVar4;
  if (param_1 != (byte *)0x0) {
    uVar5 = 0;
    pbVar7 = param_1;
    do {
      if ((uVar5 & 1) == 0) {
LAB_BATTLE_BIN__800877ac:
        bVar2 = *pbVar7;
      }
      else {
        uVar3 = uVar5;
        if ((int)uVar5 < 0) {
          uVar3 = uVar5 + 0x1f;
        }
        if (uVar5 + ((int)uVar3 >> 5) * -0x20 == 1) goto LAB_BATTLE_BIN__800877ac;
        bVar2 = *pbVar7 | 0x80;
      }
      *pbVar6 = bVar2;
      pbVar6 = pbVar6 + 1;
      uVar5 = uVar5 + 1;
      pbVar7 = pbVar7 + 1;
    } while ((int)uVar5 < 0x200);
    LoadTPage((u_long *)(param_1 + 0x200),0,0,(int)((param_2 * 0x40 + 0x100) * 0x10000) >> 0x10,
              0x100,0x100,0x100);
    LoadTPage((u_long *)(param_1 + 0x8200),0,0,
              (int)(((param_2 >> 3) * 0x40 + 0x340) * 0x10000) >> 0x10,(param_2 & 7) * 0x20 + 0x100,
              0x100,0x20);
    iVar4 = 0;
    do {
      iVar1 = iVar4 + 0x9000;
      iVar4 = iVar4 + 1;
      *puVar8 = *(undefined *)((int)(param_1 + 0x200) + iVar1);
      puVar8 = puVar8 + 1;
    } while (iVar4 < 0x30d4);
  }
  return;
}



void FUN_BATTLE_BIN__800878a4(undefined *param_1)

{
  int iVar1;
  undefined *puVar2;
  
  iVar1 = 0;
  puVar2 = param_1;
  do {
    (&DAT_BATTLE_BIN__800b6294)[iVar1] = *puVar2;
    iVar1 = iVar1 + 1;
    puVar2 = puVar2 + 1;
  } while (iVar1 < 0x200);
  LoadTPage((u_long *)(param_1 + 0x200),0,0,0x240,0,0x100,0x100);
  iVar1 = 0;
  puVar2 = param_1 + 0x8200;
  do {
    (&DAT_BATTLE_BIN__800b6494)[iVar1] = *puVar2;
    iVar1 = iVar1 + 1;
    puVar2 = puVar2 + 1;
  } while (iVar1 < 0x200);
  LoadTPage((u_long *)(param_1 + 0x8400),0,0,0x200,0,0x100,0x100);
  FUN_BATTLE_BIN__800926d8((ushort *)(param_1 + 0x10400),0xb,0,1);
  LoadTPage((u_long *)(param_1 + 0x10600),0,0,0x200,0x70,0x100,0x90);
  return;
}



void FUN_BATTLE_BIN__800879b8(byte *param_1)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  byte *pbVar4;
  
  uVar3 = 0;
  pbVar4 = &DAT_BATTLE_BIN__800bf790;
  do {
    if ((uVar3 & 1) == 0) {
LAB_BATTLE_BIN__80087a04:
      bVar1 = *param_1;
    }
    else {
      uVar2 = uVar3;
      if ((int)uVar3 < 0) {
        uVar2 = uVar3 + 0x1f;
      }
      if (uVar3 + ((int)uVar2 >> 5) * -0x20 == 1) goto LAB_BATTLE_BIN__80087a04;
      bVar1 = *param_1 | 0x80;
    }
    param_1 = param_1 + 1;
    *pbVar4 = bVar1;
    uVar3 = uVar3 + 1;
    pbVar4 = pbVar4 + 1;
    if (0x29f < (int)uVar3) {
      return;
    }
  } while( true );
}



ENTDDisplayUnitData *
FUN_BATTLE_BIN__80087a28
          (uint param_1,int param_2,uint param_3,ushort param_4,ushort param_5,ushort param_6,
          ushort param_7,BattleUnitData *param_8,int param_9,byte *param_10)

{
  u_short uVar1;
  short sVar2;
  ENTDDisplayUnitData *pEVar3;
  uint uVar4;
  undefined1 *puVar5;
  uint uVar6;
  uint uVar7;
  undefined *puVar8;
  StatusBubbleDisplay *pSVar9;
  SpriteDisplayData *pSVar10;
  int iVar11;
  undefined *puVar12;
  undefined *puVar13;
  uint uVar14;
  int iVar15;
  uint uVar16;
  undefined2 *puVar17;
  int iVar18;
  uint uVar19;
  byte local_48;
  byte local_40;
  byte local_38;
  
  pEVar3 = FUN_BATTLE_BIN__80083cd4(param_7);
  if (pEVar3 == (ENTDDisplayUnitData *)0x0) {
    pEVar3 = (ENTDDisplayUnitData *)0x0;
  }
  else {
    uVar19 = (uint)pEVar3->ENTDID;
    pEVar3->SpritesheetID = (SpritesheetID)param_5;
    uVar4 = FUN_BATTLE_BIN__80081c60(param_5);
    uVar16 = uVar4 & 0xff;
    pEVar3->SpritesheetVRAM = (byte)uVar4;
    if (uVar16 == 0xffff) {
      (&DAT_BATTLE_BIN__800b7304)[(uint)pEVar3->ENTDID * 0x110] = 0;
      pEVar3 = (ENTDDisplayUnitData *)0x0;
    }
    else {
      if (((ushort)(param_5 - 0x60) < 0x26) && (param_8 != (BattleUnitData *)0x0)) {
        param_6 = (ushort)(param_8->field0_0x0).TeamPalette;
      }
      if (5 < (short)param_6) {
        param_6 = 0;
      }
      pEVar3->PaletteID = (byte)param_6;
      pEVar3->StatusesRem56 = 0;
      pEVar3->StatusesRem1234 = 0;
      pEVar3->StatusesAdd56 = 0;
      pEVar3->StatusesAdd1234 = 0;
      *(undefined4 *)&pEVar3->field_0x144 = 0;
      *(undefined4 *)&pEVar3->field_0x140 = 0;
      FUN_BATTLE_BIN__80087704(param_10,uVar16,uVar19,(int)pEVar3);
      puVar5 = FUN_BATTLE_BIN__80183fb4(param_1,param_2,param_3);
      FUN_BATTLE_BIN__80082468((int *)pEVar3,(byte)puVar5[6] >> 2 & 3,1);
      FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094bc4,4,uVar19,0);
      uVar1 = GetClut(uVar19 << 4,0x1e3);
      pEVar3->CLUT = uVar1;
      pEVar3->TPAGE = (short)uVar16 + 0x14;
      if (param_9 == 0) {
        *(undefined2 *)&pEVar3->AnimateUnit = 1;
        (pEVar3->UnitSpriteData).GraphicTrigger = 1;
      }
      else {
        *(undefined2 *)&pEVar3->AnimateUnit = 0;
        (pEVar3->UnitSpriteData).GraphicTrigger = 0;
      }
      uVar14 = 0xfbffffff;
      uVar4 = (uint)param_5;
      pEVar3->field_0x11e = 0;
      pEVar3->UnitBattleData = param_8;
      pEVar3->ChangeOfAnim = 0;
      pEVar3->CurrentFacing = (short)((int)((uint)param_4 << 0x10) >> 6);
      pEVar3->AttackFacing = -1;
      *(undefined2 *)&pEVar3->field_0x6c = 0xffff;
      *(undefined2 *)&pEVar3->field_0x6e = 0xffff;
      pEVar3->MountVal = 0;
      pEVar3->field_0x13f = 0;
      *(undefined2 *)&pEVar3->field_0x74 = 0;
      *(undefined2 *)&pEVar3->field_0x76 = 0;
      *(undefined2 *)&pEVar3->field_0x78 = 0;
      pEVar3->CentreTileOffs = 0;
      pEVar3->NumTilesFinalMove = 0;
      *(undefined2 *)&pEVar3->field_0x12 = 0;
      *(undefined2 *)&pEVar3->field_0x14 = 0;
      pEVar3->CTResolved = 0;
      pEVar3->OTHER_VOffset = 0;
      pEVar3->field_0x87 = 0;
      *(undefined4 *)&pEVar3->field_0x88 = 0;
      uVar16._0_1_ = pEVar3->MoveX;
      uVar16._1_1_ = pEVar3->MoveY;
      uVar16._2_1_ = pEVar3->MoveZ;
      uVar16._3_1_ = pEVar3->MoveMovementFlags;
      local_48 = (byte)param_1;
      puVar13 = (undefined *)(param_1 & 0xff);
      uVar16 = uVar16 & 0xfeffffff;
      pEVar3->MapX = local_48;
      pEVar3->MoveX = (char)uVar16;
      pEVar3->MoveY = (char)(uVar16 >> 8);
      pEVar3->MoveZ = (char)(uVar16 >> 0x10);
      pEVar3->MoveMovementFlags = (char)(uVar16 >> 0x18);
      uVar6._0_1_ = pEVar3->MoveX;
      uVar6._1_1_ = pEVar3->MoveY;
      uVar6._2_1_ = pEVar3->MoveZ;
      uVar6._3_1_ = pEVar3->MoveMovementFlags;
      local_40 = (byte)param_2;
      uVar6 = uVar6 & 0xfbffffff;
      pEVar3->MapY = local_40;
      pEVar3->MoveX = (char)uVar6;
      pEVar3->MoveY = (char)(uVar6 >> 8);
      pEVar3->MoveZ = (char)(uVar6 >> 0x10);
      pEVar3->MoveMovementFlags = (char)(uVar6 >> 0x18);
      uVar7._0_1_ = pEVar3->MoveX;
      uVar7._1_1_ = pEVar3->MoveY;
      uVar7._2_1_ = pEVar3->MoveZ;
      uVar7._3_1_ = pEVar3->MoveMovementFlags;
      local_38 = (byte)param_3;
      uVar7 = uVar7 & 0xc7ffffff;
      pEVar3->MapZ = local_38;
      pEVar3->MoveX = (char)uVar7;
      pEVar3->MoveY = (char)(uVar7 >> 8);
      pEVar3->MoveZ = (char)(uVar7 >> 0x10);
      pEVar3->MoveMovementFlags = (char)(uVar7 >> 0x18);
      pEVar3->MoveX = local_48;
      pEVar3->MoveY = local_40;
      pEVar3->MoveZ = local_38;
      FUN_BATTLE_BIN__80081b0c((int *)pEVar3);
      *(undefined4 *)&pEVar3->field_0x30 = 0;
      *(undefined4 *)&pEVar3->field_0x2c = 0;
      *(undefined4 *)&pEVar3->field_0x28 = 0;
      *(undefined4 *)&pEVar3->MovementFlags = 0x2000;
      *(undefined2 *)&pEVar3->field_0x54 = 0;
      *(undefined2 *)&pEVar3->field_0x52 = 0;
      *(undefined2 *)&pEVar3->field_0x50 = 0;
      *(undefined2 *)&pEVar3->field_0x5c = 0;
      *(undefined2 *)&pEVar3->field_0x5a = 0;
      *(undefined2 *)&pEVar3->field_0x58 = 0;
      *(undefined2 *)&pEVar3->field_0x64 = 0;
      *(undefined2 *)&pEVar3->field_0x62 = 0;
      *(undefined2 *)&pEVar3->field_0x60 = 0;
      pEVar3->field_0x13e = 0;
      *(undefined *)&pEVar3->ShadowGraphicTrigger = 1;
      *(undefined *)((int)&pEVar3->ShadowGraphicTrigger + 1) = 1;
      pEVar3->field_0x29a = 0;
      *(undefined *)&pEVar3->AtkResultGraphicTrigger = 0;
      pEVar3->DisplayType = 0;
      *(undefined2 *)&pEVar3->field_0x2c2 = 0;
      puVar8 = FUN_BATTLE_BIN__8007ad08(uVar19,0,puVar13);
      pEVar3->NumericalDisplayPtr0 = puVar8;
      puVar8 = FUN_BATTLE_BIN__8007ad08(uVar19,1,puVar13);
      pEVar3->NumericalDisplayPtr1 = puVar8;
      puVar8 = FUN_BATTLE_BIN__8007ad08(uVar19,2,puVar13);
      puVar12 = pEVar3->NumericalDisplayPtr0;
      puVar13 = pEVar3->NumericalDisplayPtr1;
      pEVar3->NumericalDisplayPtr2 = puVar8;
      *(undefined2 *)(puVar8 + 10) = 0x1000;
      *(undefined2 *)(puVar8 + 8) = 0x1000;
      *(undefined2 *)(puVar13 + 10) = 0x1000;
      *(undefined2 *)(puVar13 + 8) = 0x1000;
      *(undefined2 *)(puVar12 + 10) = 0x1000;
      *(undefined2 *)(puVar12 + 8) = 0x1000;
      puVar13 = pEVar3->NumericalDisplayPtr0;
      puVar8 = pEVar3->NumericalDisplayPtr1;
      *(undefined2 *)(pEVar3->NumericalDisplayPtr2 + 4) = 0x1f;
      *(undefined2 *)(puVar8 + 4) = 0x1f;
      *(undefined2 *)(puVar13 + 4) = 0x1f;
      puVar13 = pEVar3->NumericalDisplayPtr0;
      puVar8 = pEVar3->NumericalDisplayPtr1;
      sVar2 = pEVar3->CLUT + 0x100;
      *(short *)(pEVar3->NumericalDisplayPtr2 + 6) = sVar2;
      *(short *)(puVar8 + 6) = sVar2;
      *(short *)(puVar13 + 6) = sVar2;
      puVar13 = pEVar3->NumericalDisplayPtr0;
      puVar8 = pEVar3->NumericalDisplayPtr1;
      pEVar3->NumericalDisplayPtr2[3] = 1;
      puVar8[3] = 1;
      puVar13[3] = 1;
      pEVar3->StatusBubbleGraphicTrigger = 0;
      pEVar3->StatusBubbleIndex = 0;
      *(undefined2 *)&pEVar3->StatBubTimer = 0;
      pSVar9 = FUN_BATTLE_BIN__8007adb4(uVar19);
      pEVar3->StatusBubbleDisplayDataPtr = &pSVar9->R;
      *(undefined *)&pEVar3->FoundItemGraphicTrigger = 0;
      puVar8 = FUN_BATTLE_BIN__8007ae48(uVar19);
      pEVar3->FoundItemDisplayPointer = puVar8;
      *(undefined4 *)&pEVar3->field_0x2e8 = 0;
      pSVar10 = FUN_BATTLE_BIN__8007ac60(uVar19);
      (pEVar3->UnitSpriteData).SpriteDisplayPtr = pSVar10;
      (pEVar3->UnitSpriteData).GraphicType = 0;
      puVar8 = FUN_BATTLE_BIN__800819a8(uVar4);
      (pEVar3->UnitSpriteData).SHPPointer2 = puVar8;
      (pEVar3->UnitSpriteData).SHPPointer = puVar8;
      puVar8 = FUN_BATTLE_BIN__80081a08(uVar4);
      iVar18 = 0;
      (pEVar3->UnitSpriteData).SEQPointer2 = puVar8;
      (pEVar3->UnitSpriteData).SEQPointer = puVar8;
      (pEVar3->UnitSpriteData).WaitTime = 1;
      (pEVar3->UnitSpriteData).DebugLoopcount = 0;
      (pEVar3->UnitSpriteData).SHPInstrIndex = 0;
      (pEVar3->UnitSpriteData).CurrentAnim = 6;
      (pEVar3->UnitSpriteData).SHPFrame = 0;
      *(undefined2 *)&(pEVar3->UnitSpriteData).field_0x18 = 0;
      (pEVar3->UnitSpriteData).WaitTimeIncrease = 0;
      (pEVar3->UnitSpriteData).SHPFrame0 = 0;
      (pEVar3->UnitSpriteData).WaitLoopCount = 0;
      ((pEVar3->UnitSpriteData).SpriteDisplayPtr)->XWidth = 0x1000;
      iVar15 = 0x208;
      ((pEVar3->UnitSpriteData).SpriteDisplayPtr)->YWidth = 0x1000;
      ((pEVar3->UnitSpriteData).SpriteDisplayPtr)->YSpin = 0;
      FUN_BATTLE_BIN__80082eec((int)pEVar3);
      FUN_BATTLE_BIN__80084818((int)pEVar3,(int)&pEVar3->UnitSpriteData,1,uVar14);
      do {
        puVar17 = (undefined2 *)((int)&pEVar3->PrevMiscUnitData + iVar15);
        puVar8 = FUN_BATTLE_BIN__8007acac(uVar19,iVar18);
        *(undefined **)(puVar17 + 0x12) = puVar8;
        if (iVar18 == 0) {
          puVar17[1] = 1;
          iVar11 = FUN_BATTLE_BIN__80081a58(uVar4);
          *(int *)(puVar17 + 0xe) = iVar11;
          iVar11 = FUN_BATTLE_BIN__80081a94(uVar4);
          *(int *)(puVar17 + 0x10) = iVar11;
        }
        else {
          puVar17[1] = 2;
          puVar8 = FUN_BATTLE_BIN__80081ad0();
          *(undefined **)(puVar17 + 0xe) = puVar8;
          puVar8 = FUN_BATTLE_BIN__80081ae0();
          *(undefined **)(puVar17 + 0x10) = puVar8;
        }
        *puVar17 = 0;
        puVar17[5] = 1;
        puVar17[3] = 0;
        puVar17[2] = 0;
        puVar17[4] = 0;
        puVar17[0xc] = 0;
        puVar17[9] = 0;
        puVar17[10] = 0;
        puVar17[0xb] = 0;
        *(undefined2 *)(*(int *)(puVar17 + 0x12) + 8) = 0x1000;
        *(undefined2 *)(*(int *)(puVar17 + 0x12) + 10) = 0x1000;
        *(undefined2 *)(*(int *)(puVar17 + 0x12) + 0xc) = 0;
        if (((((short)param_5 < 0x86) && ((short)param_5 < 0x3c)) && (0x49 < (short)param_5)) &&
           (param_5 != 0x5d)) {
          FUN_BATTLE_BIN__8008526c
                    ((int)pEVar3,(undefined2 *)((int)&pEVar3->PrevMiscUnitData + iVar15),
                     (short)iVar18,1);
        }
        iVar18 = iVar18 + 1;
        iVar15 = iVar15 + 0x30;
      } while (iVar18 < 3);
      pEVar3->PrevMiscUnitData = DAT_BATTLE_BIN__80098a54;
      DAT_BATTLE_BIN__80098a54 = pEVar3;
      FUN_BATTLE_BIN__80083758((uint)(pEVar3->UnitBattleData->field0_0x0).RHWeapon,(int)pEVar3);
      FUN_BATTLE_BIN__80180fe4((uint)(pEVar3->UnitBattleData->field1_0x16e).UnitID2);
      uVar4._0_1_ = pEVar3->MoveX;
      uVar4._1_1_ = pEVar3->MoveY;
      uVar4._2_1_ = pEVar3->MoveZ;
      uVar4._3_1_ = pEVar3->MoveMovementFlags;
      uVar4 = uVar4 | 0x2000000;
      pEVar3->MoveX = (char)uVar4;
      pEVar3->MoveY = (char)(uVar4 >> 8);
      pEVar3->MoveZ = (char)(uVar4 >> 0x10);
      pEVar3->MoveMovementFlags = (char)(uVar4 >> 0x18);
      FUN_BATTLE_BIN__80068e30((ushort)pEVar3->ENTDID);
      FUN_BATTLE_BIN__80082eec((int)pEVar3);
      uVar19._0_1_ = pEVar3->MoveX;
      uVar19._1_1_ = pEVar3->MoveY;
      uVar19._2_1_ = pEVar3->MoveZ;
      uVar19._3_1_ = pEVar3->MoveMovementFlags;
      uVar19 = uVar19 & 0xfdffffff;
      pEVar3->MoveX = (char)uVar19;
      pEVar3->MoveY = (char)(uVar19 >> 8);
      pEVar3->MoveZ = (char)(uVar19 >> 0x10);
      pEVar3->MoveMovementFlags = (char)(uVar19 >> 0x18);
    }
  }
  return pEVar3;
}



void FUN_BATTLE_BIN__80088018(void)

{
  int iVar1;
  int iVar2;
  
  DAT_BATTLE_BIN__80098a54 = 0;
  iVar1 = 0x3fc0;
  do {
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800b7304 + iVar1) = 0;
    iVar1 = iVar1 + -0x440;
  } while (-1 < iVar1);
  iVar1 = 0x196b0;
  do {
    (&DAT_BATTLE_BIN__800c7ce8)[iVar1] = 0;
    iVar1 = iVar1 + -0x32d6;
    iVar2 = 0;
  } while (-1 < iVar1);
  iVar1 = 0;
  do {
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800a77c4 + iVar1) = 0xff;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800a77c8 + iVar1) = 0;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800a77cc + iVar1) = 0;
    iVar2 = iVar2 + 1;
    iVar1 = iVar1 + 0x7564;
  } while (iVar2 < 2);
  DAT_BATTLE_BIN__800a77d0 = 0x100;
  DAT_BATTLE_BIN__800aed34 = 0x140;
  DAT_BATTLE_BIN__800a1c58 = &DAT_BATTLE_BIN__800a1c84;
  DAT_BATTLE_BIN__800a77d2 = 0;
  DAT_BATTLE_BIN__800a77d4 = 0x40;
  DAT_BATTLE_BIN__800a77d6 = 200;
  DAT_BATTLE_BIN__800aed36 = 0;
  DAT_BATTLE_BIN__800aed38 = 0x40;
  DAT_BATTLE_BIN__800aed3a = 200;
  DAT_BATTLE_BIN__80098d74 = 0;
  DAT_BATTLE_BIN__80098d78 = 0;
  DAT_BATTLE_BIN__80098d7c = 0;
  DAT_BATTLE_BIN__80098d80 = 0;
  DAT_BATTLE_BIN__800bf78c = &DAT_BATTLE_BIN__800c1260;
  return;
}



int FUN_BATTLE_BIN__80088130(void)

{
  int iVar1;
  undefined *puVar2;
  int *piVar3;
  uint uVar4;
  
  if (DAT_BATTLE_BIN__80098d78 == 1) {
    iVar1 = Check_File_Still_Loading();
    if (iVar1 != 0) {
      return DAT_BATTLE_BIN__80098d74;
    }
    DAT_BATTLE_BIN__80098d78 = DAT_BATTLE_BIN__80098d78 + 1;
    return DAT_BATTLE_BIN__80098d74;
  }
  if (1 < DAT_BATTLE_BIN__80098d78) {
    if (DAT_BATTLE_BIN__80098d78 != 2) {
      if (DAT_BATTLE_BIN__80098d78 != 3) {
        return DAT_BATTLE_BIN__80098d74;
      }
      Call_BIN_Free_FFT((int)DAT_BATTLE_BIN__80098d80);
      DAT_BATTLE_BIN__80098d78 = 0;
      switch(DAT_BATTLE_BIN__80098d74) {
      case 0:
        break;
      case 1:
        break;
      case 2:
      case 3:
        if (DAT_BATTLE_BIN__80098d7c + 1 < 2) {
          DAT_BATTLE_BIN__80098d78 = 0;
          DAT_BATTLE_BIN__80098d7c = DAT_BATTLE_BIN__80098d7c + 1;
          return DAT_BATTLE_BIN__80098d74;
        }
        goto LAB_BATTLE_BIN__800887b0;
      case 4:
      case 5:
        if (DAT_BATTLE_BIN__80098d7c + 1 < 1) {
          DAT_BATTLE_BIN__80098d78 = 0;
          DAT_BATTLE_BIN__80098d7c = DAT_BATTLE_BIN__80098d7c + 1;
          return DAT_BATTLE_BIN__80098d74;
        }
        goto LAB_BATTLE_BIN__800887b0;
      case 6:
      case 7:
        piVar3 = &DAT_BATTLE_BIN__80098d74;
        DAT_BATTLE_BIN__80098d7c = 0;
        iVar1 = DAT_BATTLE_BIN__80098d74;
        goto LAB_BATTLE_BIN__800887e8;
      default:
        DAT_BATTLE_BIN__80098d78 = 0;
        return DAT_BATTLE_BIN__80098d74;
      }
      if (DAT_BATTLE_BIN__80098d7c + 1 < 5) {
        DAT_BATTLE_BIN__80098d78 = 0;
        DAT_BATTLE_BIN__80098d7c = DAT_BATTLE_BIN__80098d7c + 1;
        return DAT_BATTLE_BIN__80098d74;
      }
LAB_BATTLE_BIN__800887b0:
      DAT_BATTLE_BIN__80098d74 = DAT_BATTLE_BIN__80098d74 + 1;
      DAT_BATTLE_BIN__80098d78 = 0;
      DAT_BATTLE_BIN__80098d7c = 0;
      return DAT_BATTLE_BIN__80098d74;
    }
    switch(DAT_BATTLE_BIN__80098d74) {
    case 0:
      FUN_BATTLE_BIN__800873bc
                ((int *)(DAT_BATTLE_BIN__80098d7c * 0x688 + -0x7ff69d0c),
                 (byte *)DAT_BATTLE_BIN__80098d80);
      break;
    case 1:
      FUN_BATTLE_BIN__800871f4
                ((int *)(DAT_BATTLE_BIN__80098d7c * 0x408 + -0x7ff405d0),
                 (byte *)DAT_BATTLE_BIN__80098d80);
      break;
    case 2:
      puVar2 = (undefined *)0x800bdf0c;
      goto LAB_BATTLE_BIN__80088644;
    case 3:
      puVar2 = (undefined *)0x800be74c;
      goto LAB_BATTLE_BIN__80088680;
    case 4:
      puVar2 = &DAT_BATTLE_BIN__800b669c;
LAB_BATTLE_BIN__80088644:
      FUN_BATTLE_BIN__800875f0
                ((undefined2 *)(puVar2 + DAT_BATTLE_BIN__80098d7c * 0xc40),
                 (int)DAT_BATTLE_BIN__80098d80);
      break;
    case 5:
      puVar2 = &DAT_BATTLE_BIN__800b6edc;
LAB_BATTLE_BIN__80088680:
      FUN_BATTLE_BIN__800872ec
                ((int *)(puVar2 + DAT_BATTLE_BIN__80098d7c * 0xc40),(int)DAT_BATTLE_BIN__80098d80);
      break;
    case 6:
      FUN_BATTLE_BIN__800878a4((undefined *)DAT_BATTLE_BIN__80098d80);
      break;
    case 7:
      FUN_BATTLE_BIN__800879b8((byte *)DAT_BATTLE_BIN__80098d80);
    }
    piVar3 = &DAT_BATTLE_BIN__80098d78;
    iVar1 = DAT_BATTLE_BIN__80098d78;
LAB_BATTLE_BIN__800887e8:
    *piVar3 = iVar1 + 1;
    return DAT_BATTLE_BIN__80098d74;
  }
  if (DAT_BATTLE_BIN__80098d78 != 0) {
    return DAT_BATTLE_BIN__80098d74;
  }
  switch(DAT_BATTLE_BIN__80098d74) {
  case 0:
    DAT_BATTLE_BIN__80098d80 =
         (u_long *)
         BIN_Malloc_FFT(*(uint *)(&DAT_BATTLE_BIN__80094c50 + DAT_BATTLE_BIN__80098d7c * 8));
    if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) {
      return DAT_BATTLE_BIN__80098d74;
    }
    iVar1 = *(int *)(&DAT_BATTLE_BIN__80094c4c + DAT_BATTLE_BIN__80098d7c * 8);
    uVar4 = *(uint *)(&DAT_BATTLE_BIN__80094c50 + DAT_BATTLE_BIN__80098d7c * 8);
    break;
  case 1:
    DAT_BATTLE_BIN__80098d80 =
         (u_long *)
         BIN_Malloc_FFT(*(uint *)(&DAT_BATTLE_BIN__80094c08 + DAT_BATTLE_BIN__80098d7c * 8));
    if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) {
      return DAT_BATTLE_BIN__80098d74;
    }
    iVar1 = *(int *)(&DAT_BATTLE_BIN__80094c04 + DAT_BATTLE_BIN__80098d7c * 8);
    uVar4 = *(uint *)(&DAT_BATTLE_BIN__80094c08 + DAT_BATTLE_BIN__80098d7c * 8);
    break;
  case 2:
    DAT_BATTLE_BIN__80098d80 =
         (u_long *)
         BIN_Malloc_FFT(*(uint *)(&DAT_BATTLE_BIN__80094ca8 + DAT_BATTLE_BIN__80098d7c * 8));
    if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) {
      return DAT_BATTLE_BIN__80098d74;
    }
    iVar1 = *(int *)(&DAT_BATTLE_BIN__80094ca4 + DAT_BATTLE_BIN__80098d7c * 8);
    uVar4 = *(uint *)(&DAT_BATTLE_BIN__80094ca8 + DAT_BATTLE_BIN__80098d7c * 8);
    break;
  case 3:
    DAT_BATTLE_BIN__80098d80 =
         (u_long *)
         BIN_Malloc_FFT(*(uint *)(&DAT_BATTLE_BIN__80094c98 + DAT_BATTLE_BIN__80098d7c * 8));
    if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) {
      return DAT_BATTLE_BIN__80098d74;
    }
    iVar1 = *(int *)(&DAT_BATTLE_BIN__80094c94 + DAT_BATTLE_BIN__80098d7c * 8);
    uVar4 = *(uint *)(&DAT_BATTLE_BIN__80094c98 + DAT_BATTLE_BIN__80098d7c * 8);
    break;
  case 4:
    DAT_BATTLE_BIN__80098d80 =
         (u_long *)
         BIN_Malloc_FFT(*(uint *)(&DAT_BATTLE_BIN__80094cc8 + DAT_BATTLE_BIN__80098d7c * 8));
    if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) {
      return DAT_BATTLE_BIN__80098d74;
    }
    iVar1 = *(int *)(&DAT_BATTLE_BIN__80094cc4 + DAT_BATTLE_BIN__80098d7c * 8);
    uVar4 = *(uint *)(&DAT_BATTLE_BIN__80094cc8 + DAT_BATTLE_BIN__80098d7c * 8);
    break;
  case 5:
    DAT_BATTLE_BIN__80098d80 =
         (u_long *)
         BIN_Malloc_FFT(*(uint *)(&DAT_BATTLE_BIN__80094cb8 + DAT_BATTLE_BIN__80098d7c * 8));
    if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) {
      return DAT_BATTLE_BIN__80098d74;
    }
    iVar1 = *(int *)(&DAT_BATTLE_BIN__80094cb4 + DAT_BATTLE_BIN__80098d7c * 8);
    uVar4 = *(uint *)(&DAT_BATTLE_BIN__80094cb8 + DAT_BATTLE_BIN__80098d7c * 8);
    break;
  case 6:
    DAT_BATTLE_BIN__80098d80 = (u_long *)BIN_Malloc_FFT(0x15000);
    if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) {
      return DAT_BATTLE_BIN__80098d74;
    }
    iVar1 = Call_CalcFileHead_NNL(0xdefa,0x15000,DAT_BATTLE_BIN__80098d80);
    goto joined_r0x800884b0;
  case 7:
    DAT_BATTLE_BIN__80098d80 = (u_long *)BIN_Malloc_FFT(0x8800);
    if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) {
      return DAT_BATTLE_BIN__80098d74;
    }
    iVar1 = Call_CalcFileHead_NNL(0xdf24,0x8800,DAT_BATTLE_BIN__80098d80);
joined_r0x800884b0:
    if (iVar1 != 0) {
      Call_BIN_Free_FFT((int)DAT_BATTLE_BIN__80098d80);
      return DAT_BATTLE_BIN__80098d74;
    }
    goto LAB_BATTLE_BIN__800884b8;
  default:
    goto switchD_BATTLE_BIN__800881b0_caseD_8;
  }
  iVar1 = Call_CalcFileHead_NNL(iVar1,uVar4,DAT_BATTLE_BIN__80098d80);
  if (iVar1 == 0) {
LAB_BATTLE_BIN__800884b8:
    DAT_BATTLE_BIN__80098d78 = DAT_BATTLE_BIN__80098d78 + 1;
  }
  else {
    Call_BIN_Free_FFT((int)DAT_BATTLE_BIN__80098d80);
  }
switchD_BATTLE_BIN__800881b0_caseD_8:
  return DAT_BATTLE_BIN__80098d74;
}



void FUN_BATTLE_BIN__80088808(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    iVar1 = iVar1 + 1;
    FUN_BATTLE_BIN__8008719c(param_1,param_2,param_3,param_4);
  } while (iVar1 < 3);
  return;
}



void FUN_BATTLE_BIN__80088840(void)

{
  DAT_BATTLE_BIN__80098d74 = 0;
  DAT_BATTLE_BIN__80098d78 = 0;
  DAT_BATTLE_BIN__80098d7c = 0;
  DAT_BATTLE_BIN__80098d80 = 0;
  return;
}



void FUN_BATTLE_BIN__80088868(void)

{
  int iVar1;
  undefined *puVar2;
  
  DAT_80049c18 = 0;
  iVar1 = FUN_BATTLE_BIN__8013b590(0x1fe);
  if (iVar1 == 0) {
    if (DAT_BATTLE_BIN__80096108 != 0) {
      puVar2 = &DAT_800459a0;
      goto LAB_BATTLE_BIN__800888cc;
    }
  }
  else {
    puVar2 = (undefined *)FUN_801c5a50();
    FUN_BATTLE_BIN__8017f5f8(puVar2);
  }
  puVar2 = (undefined *)FUN_801c5a50();
LAB_BATTLE_BIN__800888cc:
  FUN_BATTLE_BIN__8017f620(puVar2);
  DAT_BATTLE_BIN__80098d74 = 0;
  DAT_BATTLE_BIN__80098d78 = 0;
  DAT_BATTLE_BIN__80098d7c = 0;
  DAT_BATTLE_BIN__80098d80 = 0;
  return;
}



byte FUN_BATTLE_BIN__80088904(void)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  byte bVar7;
  
  iVar6 = DAT_BATTLE_BIN__80098d74;
  bVar7 = 1;
  if (DAT_BATTLE_BIN__80098d78 == 1) {
    iVar6 = Check_File_Still_Loading();
    if (iVar6 != 0) goto LAB_BATTLE_BIN__80088eb0;
  }
  else {
    if (1 < DAT_BATTLE_BIN__80098d78) {
      if (DAT_BATTLE_BIN__80098d78 == 2) {
        if (DAT_BATTLE_BIN__80098d74 == 1) {
          DAT_BATTLE_BIN__800a1c58 = &DAT_BATTLE_BIN__800e4670;
          FUN_BATTLE_BIN__800871f4
                    ((int *)&DAT_BATTLE_BIN__800c0e58,(byte *)DAT_BATTLE_BIN__80098d80);
        }
        else if (DAT_BATTLE_BIN__80098d74 < 2) {
          if (DAT_BATTLE_BIN__80098d74 == 0) {
            DAT_BATTLE_BIN__800bf78c = &DAT_BATTLE_BIN__80098dec;
            FUN_BATTLE_BIN__800873bc
                      ((int *)&DAT_BATTLE_BIN__8009839c,(byte *)DAT_BATTLE_BIN__80098d80);
          }
        }
        else if (DAT_BATTLE_BIN__80098d74 == 2) {
          iVar6 = DAT_BATTLE_BIN__80098d7c * 0x14;
          uVar1 = (uint)(byte)(&DAT_80049c1c)[iVar6];
          uVar3 = (uint)(byte)(&DAT_80049c1d)[iVar6];
          uVar4 = (uint)(byte)(&DAT_80049c1e)[iVar6];
          uVar5 = (uint)(short)*(ushort *)(&DAT_80049c20 + iVar6);
          FUN_BATTLE_BIN__80087a28
                    (uVar1,uVar3,uVar4,*(ushort *)(&DAT_80049c20 + iVar6),
                     *(ushort *)(&DAT_80049c22 + iVar6),
                     *(ushort *)(&DAT_80049c24 + DAT_BATTLE_BIN__80098d7c * 0x14),
                     *(ushort *)(&DAT_80049c26 + DAT_BATTLE_BIN__80098d7c * 0x14),
                     *(BattleUnitData **)(&DAT_80049c28 + DAT_BATTLE_BIN__80098d7c * 0x14),
                     *(int *)(&DAT_80049c2c + DAT_BATTLE_BIN__80098d7c * 0x14),
                     (byte *)DAT_BATTLE_BIN__80098d80);
          FUN_BATTLE_BIN__80088808(uVar1,uVar3,uVar4,uVar5);
        }
        DAT_BATTLE_BIN__80098d78 = DAT_BATTLE_BIN__80098d78 + 1;
      }
      else if (DAT_BATTLE_BIN__80098d78 == 3) {
        if (DAT_BATTLE_BIN__80098d80 != (u_long *)0x0) {
          Call_BIN_Free_FFT((int)DAT_BATTLE_BIN__80098d80);
        }
        DAT_BATTLE_BIN__80098d78 = 0;
        if (-1 < DAT_BATTLE_BIN__80098d74) {
          if (DAT_BATTLE_BIN__80098d74 < 2) {
            DAT_BATTLE_BIN__80098d74 = DAT_BATTLE_BIN__80098d74 + 1;
            bVar7 = 2;
            goto LAB_BATTLE_BIN__80088eb0;
          }
          bVar7 = 2;
          if (DAT_BATTLE_BIN__80098d74 != 2) goto LAB_BATTLE_BIN__80088eb0;
          DAT_BATTLE_BIN__80098d74 = 0;
          DAT_BATTLE_BIN__80098d7c = DAT_BATTLE_BIN__80098d7c + 1;
        }
        bVar7 = 2;
      }
      goto LAB_BATTLE_BIN__80088eb0;
    }
    if (DAT_BATTLE_BIN__80098d78 != 0) goto LAB_BATTLE_BIN__80088eb0;
    if (DAT_BATTLE_BIN__80098d74 == 1) {
      uVar1 = (uint)(byte)(&DAT_BATTLE_BIN__80094749)
                          [*(short *)(&DAT_80049c22 + DAT_BATTLE_BIN__80098d7c * 0x14) * 4];
      if ((uVar1 < 5) || (iVar6 = uVar1 * 8, uVar1 == DAT_BATTLE_BIN__80096120)) {
LAB_BATTLE_BIN__80088aa4:
        bVar7 = 2;
        DAT_BATTLE_BIN__80098d80 = (u_long *)0x0;
        DAT_BATTLE_BIN__80098d78 = 3;
        goto LAB_BATTLE_BIN__80088eb0;
      }
      DAT_BATTLE_BIN__80096120 = uVar1;
      DAT_BATTLE_BIN__80098d80 =
           (u_long *)BIN_Malloc_FFT(*(uint *)(&DAT_BATTLE_BIN__80094c08 + iVar6));
      if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) goto LAB_BATTLE_BIN__80088eb0;
      iVar2 = *(int *)(&DAT_BATTLE_BIN__80094c04 + iVar6);
      uVar1 = *(uint *)(&DAT_BATTLE_BIN__80094c08 + iVar6);
    }
    else if (DAT_BATTLE_BIN__80098d74 < 2) {
      if (DAT_BATTLE_BIN__80098d74 != 0) goto LAB_BATTLE_BIN__80088eb0;
      uVar1 = (uint)(byte)(&DAT_BATTLE_BIN__80094748)
                          [*(short *)(&DAT_80049c22 + DAT_BATTLE_BIN__80098d7c * 0x14) * 4];
      if ((uVar1 < 5) || (iVar6 = uVar1 * 8, uVar1 == DAT_BATTLE_BIN__80096124))
      goto LAB_BATTLE_BIN__80088aa4;
      DAT_BATTLE_BIN__80096124 = uVar1;
      DAT_BATTLE_BIN__80098d80 =
           (u_long *)BIN_Malloc_FFT(*(uint *)(&DAT_BATTLE_BIN__80094c50 + iVar6));
      if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) goto LAB_BATTLE_BIN__80088eb0;
      iVar2 = *(int *)(&DAT_BATTLE_BIN__80094c4c + iVar6);
      uVar1 = *(uint *)(&DAT_BATTLE_BIN__80094c50 + iVar6);
    }
    else {
      if (DAT_BATTLE_BIN__80098d74 != 2) goto LAB_BATTLE_BIN__80088eb0;
      if (0x9f < *(short *)(&DAT_80049c22 + DAT_BATTLE_BIN__80098d7c * 0x14)) {
        *(undefined2 *)(&DAT_80049c22 + DAT_BATTLE_BIN__80098d7c * 0x14) = 1;
      }
      iVar2 = FUN_BATTLE_BIN__80081c1c(*(ushort *)(&DAT_80049c22 + DAT_BATTLE_BIN__80098d7c * 0x14))
      ;
      if (iVar2 != 0) {
        bVar7 = 2;
        DAT_BATTLE_BIN__80098d80 = (u_long *)0x0;
        DAT_BATTLE_BIN__80098d78 = iVar6;
        goto LAB_BATTLE_BIN__80088eb0;
      }
      DAT_BATTLE_BIN__80098d80 =
           (u_long *)
           BIN_Malloc_FFT(*(uint *)(&DAT_BATTLE_BIN__80094cd8 +
                                   *(short *)(&DAT_80049c22 + DAT_BATTLE_BIN__80098d7c * 0x14) * 8))
      ;
      if (DAT_BATTLE_BIN__80098d80 == (u_long *)0x0) goto LAB_BATTLE_BIN__80088eb0;
      iVar2 = *(int *)(&DAT_BATTLE_BIN__80094cd4 +
                      *(short *)(&DAT_80049c22 + DAT_BATTLE_BIN__80098d7c * 0x14) * 8);
      uVar1 = *(uint *)(&DAT_BATTLE_BIN__80094cd8 +
                       *(short *)(&DAT_80049c22 + DAT_BATTLE_BIN__80098d7c * 0x14) * 8);
    }
    iVar6 = Call_CalcFileHead_NNL(iVar2,uVar1,DAT_BATTLE_BIN__80098d80);
    if (iVar6 != 0) {
      Call_BIN_Free_FFT((int)DAT_BATTLE_BIN__80098d80);
      goto LAB_BATTLE_BIN__80088eb0;
    }
  }
  DAT_BATTLE_BIN__80098d78 = DAT_BATTLE_BIN__80098d78 + 1;
LAB_BATTLE_BIN__80088eb0:
  return bVar7 & -(DAT_BATTLE_BIN__80098d7c < DAT_80049c18);
}



void FUN_BATTLE_BIN__80088eec(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  ushort *puVar4;
  
  DAT_BATTLE_BIN__800961f0 = DAT_BATTLE_BIN__800961f0 + DAT_80045980;
  if (3 < DAT_BATTLE_BIN__800961f0) {
    DAT_BATTLE_BIN__800961f0 = 0;
    DAT_BATTLE_BIN__800961ec = DAT_BATTLE_BIN__800961ec + 1;
    if (0xe < DAT_BATTLE_BIN__800961ec) {
      DAT_BATTLE_BIN__800961ec = 0;
    }
    if (DAT_BATTLE_BIN__800961ec == 0) {
      puVar4 = (ushort *)&DAT_BATTLE_BIN__80094ae4;
    }
    else {
      iVar2 = 2;
      DAT_BATTLE_BIN__800a1be8 = DAT_BATTLE_BIN__80094ae4;
      DAT_BATTLE_BIN__800a1be9 = DAT_BATTLE_BIN__80094ae5;
      DAT_BATTLE_BIN__800a1c08 = DAT_BATTLE_BIN__80094b04;
      DAT_BATTLE_BIN__800a1c09 = DAT_BATTLE_BIN__80094b05;
      for (iVar1 = DAT_BATTLE_BIN__800961ec * 2 + 2; iVar1 < 0x20; iVar1 = iVar1 + 1) {
        (&DAT_BATTLE_BIN__800a1be8)[iVar2] = (&DAT_BATTLE_BIN__80094ae4)[iVar1];
        (&DAT_BATTLE_BIN__800a1c08)[iVar2] = (&DAT_BATTLE_BIN__80094b04)[iVar1];
        iVar2 = iVar2 + 1;
      }
      iVar1 = DAT_BATTLE_BIN__800961ec * 2;
      iVar3 = DAT_BATTLE_BIN__800961ec * -2 + 0x20;
      for (iVar2 = 2; iVar2 < iVar1 + 2; iVar2 = iVar2 + 1) {
        (&DAT_BATTLE_BIN__800a1be8)[iVar3] = (&DAT_BATTLE_BIN__80094ae4)[iVar2];
        (&DAT_BATTLE_BIN__800a1c08)[iVar3] = (&DAT_BATTLE_BIN__80094b04)[iVar2];
        iVar3 = iVar3 + 1;
        iVar1 = DAT_BATTLE_BIN__800961ec << 1;
      }
      puVar4 = (ushort *)&DAT_BATTLE_BIN__800a1be8;
    }
    FUN_BATTLE_BIN__800926d8(puVar4,2,1,0);
    FUN_BATTLE_BIN__800926d8(puVar4 + 0x10,2,2,0);
  }
  return;
}



void FUN_BATTLE_BIN__800890b8(VECTOR *param_1,short *param_2,SVECTOR *param_3)

{
  int iVar1;
  byte *pbVar2;
  long alStack_20 [2];
  
  FUN_BATTLE_BIN__80088eec();
  SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  Store_3_Halfwords(param_2,(short)DAT_BATTLE_BIN__800961b4 * 0x1c + 0xe,0,
                    (short)DAT_BATTLE_BIN__800961bc * 0x1c + 0xe);
  iVar1 = FUN_BATTLE_BIN__8007c80c(param_2,DAT_BATTLE_BIN__800961b8 & 0xff);
  param_2[1] = (short)iVar1;
  pbVar2 = FUN_BATTLE_BIN__80183fb4
                     (((int)*param_2 / 0x1c) * 0x10000 >> 0x10,
                      ((int)param_2[2] / 0x1c) * 0x10000 >> 0x10,DAT_BATTLE_BIN__800961b8);
  param_2[1] = param_2[1] + (ushort)(pbVar2[3] >> 5) * -0xc;
  if ((*pbVar2 & 0x40) == 0) {
    FUN_BATTLE_BIN__8007b92c(param_2,&param_3->vx);
  }
  else {
    FUN_BATTLE_BIN__8007b94c(param_2,&param_3->vx);
  }
  RotTrans(param_3,param_1,alStack_20);
  DAT_BATTLE_BIN__800c7c68 = *(undefined2 *)&param_1->vx;
  DAT_BATTLE_BIN__800c7c6c = *(undefined2 *)&param_1->vy;
  return;
}



void FUN_BATTLE_BIN__8008924c(void)

{
  int iVar1;
  undefined1 *puVar2;
  int iVar3;
  SVECTOR local_58;
  SVECTOR SStack_50;
  SVECTOR SStack_48;
  SVECTOR SStack_40;
  SVECTOR SStack_38;
  SVECTOR SStack_30;
  VECTOR VStack_28;
  
  FUN_BATTLE_BIN__800890b8(&VStack_28,&local_58.vx,&SStack_50);
  if (VStack_28.vz < 0) {
    VStack_28.vz = VStack_28.vz + 3;
  }
  iVar1 = Get_OTAG_List();
  FUN_BATTLE_BIN__8007e304(&local_58,iVar1);
  iVar1 = FUN_BATTLE_BIN__8007c444(&local_58.vx,DAT_BATTLE_BIN__800961b8 & 0xff,&SStack_48.vx);
  puVar2 = FUN_BATTLE_BIN__80183fb4
                     (((int)local_58.vx / 0x1c) * 0x10000 >> 0x10,
                      ((int)local_58.vz / 0x1c) * 0x10000 >> 0x10,DAT_BATTLE_BIN__800961b8);
  iVar3 = Get_OTAG_List();
  FUN_BATTLE_BIN__8007db1c
            ((byte)puVar2[6] >> 1 & 1,iVar1,&SStack_48,&SStack_40,&SStack_38,&SStack_30,
             (uint *)(iVar3 + (VStack_28.vz >> 2) * 4));
  return;
}



void FUN_BATTLE_BIN__80089384(void)

{
  int *piVar1;
  int iVar2;
  SVECTOR SStack_38;
  SVECTOR SStack_30;
  VECTOR VStack_28;
  long alStack_18 [2];
  
  SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  piVar1 = FUN_BATTLE_BIN__8007a218();
  Store_3_Halfwords(&SStack_38.vx,*(undefined2 *)(piVar1 + 0x10),*(undefined2 *)((int)piVar1 + 0x42)
                    ,*(undefined2 *)(piVar1 + 0x11));
  RotTrans(&SStack_38,&VStack_28,alStack_18);
  FUN_BATTLE_BIN__8007b92c((short *)(piVar1 + 0x10),&SStack_30.vx);
  SStack_30.vy = SStack_30.vy + -0x30;
  RotTrans(&SStack_30,&VStack_28,alStack_18);
  if (VStack_28.vz < 0) {
    VStack_28.vz = VStack_28.vz + 3;
  }
  iVar2 = Get_OTAG_List();
  FUN_BATTLE_BIN__8007e72c(&SStack_38.vx,(uint *)(iVar2 + (VStack_28.vz >> 2) * 4));
  return;
}



void FUN_BATTLE_BIN__8008945c(int param_1,int param_2,ushort param_3,ushort param_4,ushort param_5)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)param_1);
  if (piVar1 != (int *)0x0) {
    FUN_BATTLE_BIN__8007a7b8((ushort)param_1);
    *(undefined *)((int)piVar1 + 0x13e) = 1;
    *(undefined *)(piVar1 + 0xa6) = 0;
    *(ushort *)((int)piVar1 + 0x12) = *(ushort *)((int)piVar1 + 0x12) & 0xff9f | 0x21;
    FUN_BATTLE_BIN__800933c4(4,param_2,param_1,param_3,param_4,param_5);
    *(undefined2 *)((int)piVar1 + 0x76) = 0;
    *(undefined2 *)(piVar1 + 0x1d) = 0;
  }
  return;
}



void FUN_BATTLE_BIN__80089528(int param_1)

{
  FUN_BATTLE_BIN__8008945c(param_1,4,0x1f,0,0);
  return;
}



void FUN_BATTLE_BIN__80089554(int param_1)

{
  *(int *)(param_1 + 0x18) = (int)*(short *)(param_1 + 0x40) << 0xc;
  *(int *)(param_1 + 0x20) = (int)*(short *)(param_1 + 0x44) << 0xc;
  *(int *)(param_1 + 0x1c) = (int)*(short *)(param_1 + 0x42) << 0xc;
  return;
}



void FUN_BATTLE_BIN__8008957c(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(param_1 + 0x18);
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0xfff;
  }
  iVar2 = *(int *)(param_1 + 0x1c);
  *(short *)(param_1 + 0x40) = (short)(iVar1 >> 0xc);
  if (iVar2 < 0) {
    iVar2 = iVar2 + 0xfff;
  }
  iVar1 = *(int *)(param_1 + 0x20);
  *(short *)(param_1 + 0x42) = (short)(iVar2 >> 0xc);
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0xfff;
  }
  *(short *)(param_1 + 0x44) = (short)(iVar1 >> 0xc);
  return;
}



void FUN_BATTLE_BIN__8008b234(int param_1)

{
  uint uVar1;
  
  uVar1 = (uint)*(byte *)(param_1 + 0x87);
  if (uVar1 != 0) {
    if (uVar1 < 0x12) {
      (*(code *)(&PTR_DAT_BATTLE_BIN__80089638_BATTLE_BIN__80093da0)[uVar1])();
    }
    else {
      ERROREXCEPTION_DEPRECATED();
    }
  }
  return;
}



undefined4 * FUN_BATTLE_BIN__8008b2fc(void)

{
  return &DAT_BATTLE_BIN__800e4e74;
}



void FUN_BATTLE_BIN__8008b30c(undefined4 *param_1)

{
  DAT_BATTLE_BIN__800e4e74 = *param_1;
  DAT_BATTLE_BIN__800e4e78 = param_1[1];
  DAT_BATTLE_BIN__800e4e7c = param_1[2];
  return;
}



void FUN_BATTLE_BIN__8008b440(void)

{
  if (DAT_BATTLE_BIN__8009616a != 0) {
    DAT_BATTLE_BIN__800e4e74 = DAT_BATTLE_BIN__800e4e74 + DAT_BATTLE_BIN__800b72f4;
    DAT_BATTLE_BIN__800e4e78 = DAT_BATTLE_BIN__800e4e78 + DAT_BATTLE_BIN__800b72f8;
    DAT_BATTLE_BIN__800e4e7c = DAT_BATTLE_BIN__800e4e7c + DAT_BATTLE_BIN__800b72fc;
    DAT_BATTLE_BIN__8009616a = DAT_BATTLE_BIN__8009616a + -1;
  }
  return;
}



void FUN_BATTLE_BIN__8008b6e4(void)

{
  int iVar1;
  
  if (DAT_BATTLE_BIN__80096168 != 0) {
    DAT_BATTLE_BIN__80098a44 = DAT_BATTLE_BIN__80098a44 + DAT_BATTLE_BIN__800b72f4;
    DAT_BATTLE_BIN__80098a48 = DAT_BATTLE_BIN__80098a48 + DAT_BATTLE_BIN__800b72f8;
    DAT_BATTLE_BIN__80098a4c = DAT_BATTLE_BIN__80098a4c + DAT_BATTLE_BIN__800b72fc;
    iVar1 = DAT_BATTLE_BIN__80098a44;
    if (DAT_BATTLE_BIN__80098a44 < 0) {
      iVar1 = DAT_BATTLE_BIN__80098a44 + 0xfff;
    }
    DAT_BATTLE_BIN__800a77b0 = iVar1 >> 0xc;
    iVar1 = DAT_BATTLE_BIN__80098a48;
    if (DAT_BATTLE_BIN__80098a48 < 0) {
      iVar1 = DAT_BATTLE_BIN__80098a48 + 0xfff;
    }
    DAT_BATTLE_BIN__800a77b4 = iVar1 >> 0xc;
    DAT_BATTLE_BIN__80096168 = DAT_BATTLE_BIN__80096168 + -1;
    iVar1 = DAT_BATTLE_BIN__80098a4c;
    if (DAT_BATTLE_BIN__80098a4c < 0) {
      iVar1 = DAT_BATTLE_BIN__80098a4c + 0xfff;
    }
    DAT_BATTLE_BIN__800a77b8 = iVar1 >> 0xc;
  }
  return;
}



undefined2 * FUN_BATTLE_BIN__8008b824(void)

{
  return &DAT_BATTLE_BIN__800c7ca0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8008b834(undefined4 *param_1)

{
  _DAT_BATTLE_BIN__800c7ca0 = *param_1;
  _DAT_BATTLE_BIN__800c7ca4 = param_1[1];
  DAT_BATTLE_BIN__800c7ca8 = param_1[2];
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8008b968(void)

{
  if (DAT_BATTLE_BIN__80096164 != 0) {
    _DAT_BATTLE_BIN__800c7ca0 = _DAT_BATTLE_BIN__800c7ca0 + DAT_BATTLE_BIN__800a1c74;
    _DAT_BATTLE_BIN__800c7ca4 = _DAT_BATTLE_BIN__800c7ca4 + DAT_BATTLE_BIN__800a1c78;
    DAT_BATTLE_BIN__800c7ca8 = DAT_BATTLE_BIN__800c7ca8 + DAT_BATTLE_BIN__800a1c7c;
    DAT_BATTLE_BIN__80096164 = DAT_BATTLE_BIN__80096164 + -1;
  }
  return;
}



undefined2 * FUN_BATTLE_BIN__8008ba50(void)

{
  return &DAT_BATTLE_BIN__800a7784;
}



void FUN_BATTLE_BIN__8008ba60(undefined2 *param_1)

{
  DAT_BATTLE_BIN__800a7784 = *param_1;
  DAT_BATTLE_BIN__800a7786 = param_1[1];
  DAT_BATTLE_BIN__800a7788 = param_1[2];
  return;
}



void FUN_BATTLE_BIN__8008bb94(void)

{
  if (DAT_BATTLE_BIN__80096166 != 0) {
    DAT_BATTLE_BIN__800a7784 = DAT_BATTLE_BIN__800a7784 + DAT_BATTLE_BIN__800a1c6c;
    DAT_BATTLE_BIN__800a7786 = DAT_BATTLE_BIN__800a7786 + DAT_BATTLE_BIN__800a1c6e;
    DAT_BATTLE_BIN__800a7788 = DAT_BATTLE_BIN__800a7788 + DAT_BATTLE_BIN__800a1c70;
    DAT_BATTLE_BIN__80096166 = DAT_BATTLE_BIN__80096166 + -1;
  }
  return;
}



void FUN_BATTLE_BIN__8008be7c(ushort param_1,short param_2)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  if (piVar1 != (int *)0x0) {
    FUN_BATTLE_BIN__80081978(param_2,*(undefined2 *)(piVar1 + 0x1c),(int)piVar1);
  }
  return;
}



int FUN_BATTLE_BIN__8008c0ac(ushort param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  if (piVar1 == (int *)0x0) {
    iVar2 = -1;
  }
  else {
    iVar2 = (int)*(short *)(piVar1 + 0x1c);
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0xff;
    }
    iVar2 = iVar2 >> 8;
    iVar3 = iVar2;
    if (iVar2 < 0) {
      iVar3 = iVar2 + 0xf;
    }
    iVar2 = (iVar2 + (iVar3 >> 4) * -0x10) * 0x10000 >> 0x10;
  }
  return iVar2;
}



undefined4 FUN_BATTLE_BIN__8008c114(undefined4 param_1,int param_2)

{
  int *piVar1;
  ushort uVar2;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)param_1);
  if (piVar1 == (int *)0x0) {
    param_1 = 0xffffffff;
  }
  else {
    uVar2 = *(ushort *)(piVar1 + 0x77) >> 1;
    *(short *)(piVar1 + 0x1c) = (short)(param_2 << 8);
    if (uVar2 < 3) {
      uVar2 = 2;
    }
    FUN_BATTLE_BIN__80081988(uVar2,(short)((uint)(param_2 << 0x18) >> 0x10),(int)piVar1);
  }
  return param_1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8008c2dc(undefined4 param_1,int param_2)

{
  DAT_BATTLE_BIN__800960e8 = DAT_BATTLE_BIN__800960e4;
  DAT_BATTLE_BIN__80096104 = param_1;
  DAT_BATTLE_BIN__800960e4 = 0x35;
  _DAT_BATTLE_BIN__8009610c = 0x100;
  if (param_2 != 0) {
    _DAT_BATTLE_BIN__8009610c = 0x100 / param_2;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8008c320(undefined4 param_1,int param_2)

{
  DAT_BATTLE_BIN__800960e8 = DAT_BATTLE_BIN__800960e4;
  DAT_BATTLE_BIN__80096104 = param_1;
  DAT_BATTLE_BIN__800960e4 = 0x38;
  _DAT_BATTLE_BIN__8009610c = 0x100;
  if (param_2 != 0) {
    _DAT_BATTLE_BIN__8009610c = 0x100 / param_2;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8008c364(int param_1)

{
  DAT_BATTLE_BIN__800960e8 = DAT_BATTLE_BIN__800960e4;
  DAT_BATTLE_BIN__800960e4 = 0x3a;
  _DAT_BATTLE_BIN__8009610c = 0x100;
  if (param_1 != 0) {
    _DAT_BATTLE_BIN__8009610c = 0x100 / param_1;
  }
  return;
}



int * FUN_BATTLE_BIN__8008c410(ushort param_1)

{
  int *piVar1;
  int *piVar2;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  piVar2 = piVar1 + 0x10;
  if (piVar1 == (int *)0x0) {
    piVar2 = (int *)0x0;
  }
  return piVar2;
}



bool FUN_BATTLE_BIN__8008c468(ushort param_1,short *param_2)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = FUN_BATTLE_BIN__8007a724(param_1);
  if (piVar1 != (int *)0x0) {
    iVar2 = piVar1[0x4d];
    FUN_BATTLE_BIN__80183fb4
              ((uint)*(byte *)(iVar2 + 0x47),(uint)*(byte *)(iVar2 + 0x48),
               (uint)(*(ushort *)(iVar2 + 0x48) >> 0xf));
    *param_2 = (ushort)*(byte *)(piVar1[0x4d] + 0x47) * 0x1c + 0xe;
    param_2[2] = (ushort)*(byte *)(piVar1[0x4d] + 0x48) * 0x1c + 0xe;
    iVar2 = FUN_BATTLE_BIN__8007d51c(piVar1);
    param_2[1] = (short)iVar2;
  }
  return piVar1 != (int *)0x0;
}



void FUN_BATTLE_BIN__8008c550(SVECTOR *param_1,undefined2 *param_2)

{
  undefined2 local_28;
  undefined2 local_24;
  long alStack_18 [2];
  
  FUN_BATTLE_BIN__800ee95c
            ((uint *)&DAT_BATTLE_BIN__80098a24,(undefined4 *)&DAT_BATTLE_BIN__800a7784,
             &DAT_BATTLE_BIN__800a77b0,(undefined4 *)&DAT_BATTLE_BIN__800c7ca0);
  SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__80098a24);
  RotTrans(param_1,(VECTOR *)&local_28,alStack_18);
  *param_2 = local_28;
  param_2[1] = local_24;
  return;
}



bool FUN_BATTLE_BIN__8008cbb4(ushort param_1)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  return piVar1 != (int *)0x0;
}



uint FUN_BATTLE_BIN__8008cdd0(ushort param_1)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  if (piVar1 == (int *)0x0) {
    FUN_80044a34();
  }
  else if (piVar1[0x4d] != 0) {
    return (uint)*(byte *)(piVar1[0x4d] + 0x18a);
  }
  return 0xffffffff;
}



uint GetMiscIDByMiscID(uint param_1)

{
  int *piVar1;
  
  piVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
    do {
      if ((piVar1[0x4d] != 0) && (*(byte *)(piVar1[0x4d] + 0x18a) == param_1)) {
        return (uint)*(byte *)(piVar1 + 1);
      }
      piVar1 = (int *)*piVar1;
    } while (piVar1 != (int *)0x0);
  }
  return 0xffffffff;
}



uint GetUniquePortraitID(uint param_1)

{
  int *piVar1;
  
  piVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
    do {
      if ((piVar1[0x4d] != 0) && (*(byte *)(piVar1[0x4d] + 0x18a) == param_1)) {
        return (uint)*(byte *)((int)piVar1 + 5);
      }
      piVar1 = (int *)*piVar1;
    } while (piVar1 != (int *)0x0);
  }
  return 0xffffffff;
}



int * FUN_BATTLE_BIN__8008ced0(ushort param_1)

{
  int *piVar1;
  int *piVar2;
  
  piVar1 = FUN_BATTLE_BIN__8007a724(param_1);
  piVar2 = piVar1 + 0x57;
  if (piVar1 == (int *)0x0) {
    piVar2 = (int *)0x0;
  }
  return piVar2;
}



bool FUN_BATTLE_BIN__8008cefc(ushort param_1)

{
  bool bVar1;
  int *piVar2;
  
  piVar2 = FUN_BATTLE_BIN__8007a6e4(param_1);
  if (piVar2 == (int *)0x0) {
    FUN_80044a34();
    bVar1 = false;
  }
  else {
    bVar1 = *(char *)(piVar2 + 0x27) != '\0';
  }
  return bVar1;
}



void FUN_BATTLE_BIN__8008d104(void)

{
  byte bVar1;
  undefined3 extraout_var;
  
  do {
    bVar1 = FUN_BATTLE_BIN__80088904();
  } while (CONCAT31(extraout_var,bVar1) == 2);
  return;
}



undefined4 FUN_BATTLE_BIN__8008d138(ushort param_1)

{
  int *piVar1;
  undefined4 uVar2;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  if (piVar1 == (int *)0x0) {
    uVar2 = 0;
  }
  else {
    *(undefined2 *)((int)piVar1 + 10) = 1;
    *(undefined2 *)(piVar1 + 0x76) = 1;
    if (piVar1[0x4d] != 0) {
      FUN_BATTLE_BIN__8017fd08((uint)*(byte *)(piVar1[0x4d] + 0x18a));
    }
    uVar2 = 1;
  }
  return uVar2;
}



bool FUN_BATTLE_BIN__8008d18c(ushort param_1)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  if (piVar1 != (int *)0x0) {
    *(undefined2 *)((int)piVar1 + 10) = 0;
    *(undefined2 *)(piVar1 + 0x76) = 0;
  }
  return piVar1 != (int *)0x0;
}



void FUN_BATTLE_BIN__8008d1c8(void)

{
  int *piVar1;
  
  piVar1 = DAT_BATTLE_BIN__80098a54;
  if (DAT_BATTLE_BIN__80098a54 != (int *)0x0) {
    do {
      if ((piVar1[0x51] & 0x40U) != 0) {
        FUN_BATTLE_BIN__8008d18c((ushort)*(byte *)(piVar1 + 1));
      }
      piVar1 = (int *)*piVar1;
    } while (piVar1 != (int *)0x0);
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8008d2a0(int param_1,byte *param_2)

{
  byte bVar1;
  undefined4 uVar2;
  int iVar3;
  byte *pbVar4;
  int iVar5;
  byte *pbVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  
  uVar2 = 0;
  if ((&DAT_BATTLE_BIN__800a77c8)[param_1 * 0x1d59] == 0) {
    iVar7 = 0;
    pbVar6 = param_2;
    do {
      iVar3 = (uint)*pbVar6 + (uint)pbVar6[1] * 0x100 + (uint)pbVar6[2] * 0x10000 +
              (uint)pbVar6[3] * 0x1000000;
      if (iVar3 == -1) {
        iVar3 = 0;
      }
      *(undefined **)(&DAT_BATTLE_BIN__800a77e0 + iVar7 * 4 + param_1 * 0x7564) =
           &DAT_BATTLE_BIN__800a78e0 + iVar3 + param_1 * 0x7564;
      iVar7 = iVar7 + 1;
      pbVar6 = pbVar6 + 4;
    } while (iVar7 < 0x40);
    iVar7 = 0x100;
    pbVar6 = &DAT_BATTLE_BIN__800a78e0 + param_1 * 0x7564;
    pbVar4 = param_2 + 0x100;
    do {
      bVar1 = *pbVar4;
      pbVar4 = pbVar4 + 1;
      *pbVar6 = bVar1;
      pbVar6 = pbVar6 + 1;
      iVar7 = iVar7 + 1;
    } while ((int)pbVar6 < (int)(&DAT_BATTLE_BIN__800a7ce0 + param_1 * 0x7564));
    iVar8 = 0;
    iVar3 = param_1 * 0x7564;
    puVar9 = (undefined4 *)(&DAT_BATTLE_BIN__800a8028 + iVar3);
    pbVar6 = param_2 + iVar7;
    do {
      iVar5 = (uint)*pbVar6 + (uint)pbVar6[1] * 0x100 + (uint)pbVar6[2] * 0x10000 +
              (uint)pbVar6[3] * 0x1000000;
      pbVar6 = pbVar6 + 4;
      if (iVar5 == -1) {
        iVar5 = 0;
      }
      iVar7 = iVar7 + 4;
      *(undefined **)(&DAT_BATTLE_BIN__800a7ce8 + iVar8 * 4 + iVar3) =
           &DAT_BATTLE_BIN__800a7ce0 + iVar5 + 0x688 + iVar3;
      *puVar9 = &DAT_BATTLE_BIN__800a7ce0 + iVar5 + 0x868 + iVar3;
      iVar8 = iVar8 + 1;
      puVar9 = puVar9 + 1;
    } while (iVar8 < 0x28);
    iVar3 = 0;
    pbVar4 = &DAT_BATTLE_BIN__800a8548 + param_1 * 0x7564;
    pbVar6 = param_2 + iVar7;
    do {
      iVar7 = iVar7 + 1;
      iVar8 = iVar3 + param_1 * 0x7564;
      iVar3 = iVar3 + 1;
      (&DAT_BATTLE_BIN__800a8368)[iVar8] = *pbVar6;
      bVar1 = *pbVar6;
      pbVar6 = pbVar6 + 1;
      *pbVar4 = bVar1;
      pbVar4 = pbVar4 + 1;
    } while (iVar3 < 0x1e0);
    pbVar6 = &DAT_BATTLE_BIN__800a8728 + param_1 * 0x7564;
    pbVar4 = param_2 + iVar7;
    do {
      bVar1 = *pbVar4;
      pbVar4 = pbVar4 + 1;
      *pbVar6 = bVar1;
      pbVar6 = pbVar6 + 1;
      iVar7 = iVar7 + 1;
    } while ((int)pbVar6 < (int)(&DAT_BATTLE_BIN__800a8928 + param_1 * 0x7564));
    pbVar6 = &DAT_BATTLE_BIN__800a8928 + param_1 * 0x7564;
    pbVar4 = param_2 + iVar7;
    do {
      *pbVar6 = *pbVar4;
      pbVar6 = pbVar6 + 1;
      pbVar4 = pbVar4 + 1;
    } while ((int)pbVar6 < (int)(&DAT_BATTLE_BIN__800aed28 + param_1 * 0x1d59));
    (&DAT_BATTLE_BIN__800a77c8)[param_1 * 0x1d59] = 0xfe;
    (&DAT_BATTLE_BIN__800a77cc)[param_1 * 0x1d59] = 3;
    uVar2 = 1;
  }
  return uVar2;
}



bool FUN_BATTLE_BIN__8008d5c8(int param_1)

{
  int iVar1;
  
  iVar1 = (&DAT_BATTLE_BIN__800a77c4)[param_1 * 0x1d59];
  if (iVar1 == 0xff) {
    LoadImage((RECT *)(&DAT_BATTLE_BIN__800a77d0 + param_1 * 0x3ab2),
              (u_long *)(&DAT_BATTLE_BIN__800a8928 + param_1 * 0x7564));
    (&DAT_BATTLE_BIN__800a77c4)[param_1 * 0x1d59] = 0xfe;
  }
  return iVar1 == 0xff;
}



bool FUN_BATTLE_BIN__8008d650(int param_1)

{
  int iVar1;
  
  iVar1 = (&DAT_BATTLE_BIN__800a77c4)[param_1 * 0x1d59];
  if (iVar1 == 0xfe) {
    (&DAT_BATTLE_BIN__800a77c4)[param_1 * 0x1d59] = 0xff;
  }
  return iVar1 == 0xfe;
}



bool FUN_BATTLE_BIN__8008d6a8(int param_1)

{
  int iVar1;
  
  iVar1 = (&DAT_BATTLE_BIN__800a77c8)[param_1 * 0x1d59];
  if (iVar1 == 0xfe) {
    (&DAT_BATTLE_BIN__800a77c8)[param_1 * 0x1d59] = 0;
    (&DAT_BATTLE_BIN__800a77cc)[param_1 * 0x1d59] = 0;
  }
  return iVar1 == 0xfe;
}



undefined4 FUN_BATTLE_BIN__8008d708(int param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  RECT local_28;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)param_1);
  if ((&DAT_BATTLE_BIN__800a77c4)[param_2 * 0x1d59] == 0xfe) {
    iVar2 = 0;
    iVar3 = 0;
    do {
      iVar2 = iVar2 + 1;
      if (*(int *)((int)&DAT_BATTLE_BIN__800a77c8 + iVar3) == 0) {
        FUN_BATTLE_BIN__8007aa34
                  (&DAT_BATTLE_BIN__800c7cea + (uint)*(byte *)((int)piVar1 + 5) * 0x32d6,
                   &DAT_BATTLE_BIN__800a8928 + iVar3);
        LoadImage((RECT *)(&DAT_BATTLE_BIN__800a77d0 + param_2 * 0x3ab2),
                  (u_long *)(&DAT_BATTLE_BIN__800a8928 + iVar3));
        local_28.x = (ushort)(*(byte *)((int)piVar1 + 5) >> 3) * 0x40 + 0x340;
        local_28.w = 0x40;
        local_28.h = 0x20;
        local_28.y = (*(byte *)((int)piVar1 + 5) & 7) * 0x20 + 0x100;
        MoveImage(&local_28,(int)(short)(&DAT_BATTLE_BIN__800a77d0)[param_2 * 0x3ab2],
                  (short)(&DAT_BATTLE_BIN__800a77d2)[param_2 * 0x3ab2] + 200);
        (&DAT_BATTLE_BIN__800a77c4)[param_2 * 0x1d59] = param_1 + 0x80;
        (&DAT_BATTLE_BIN__800a77c8)[param_2 * 0x1d59] = 2;
        (&DAT_BATTLE_BIN__800a77cc)[param_2 * 0x1d59] = 1;
        return 1;
      }
      iVar3 = iVar3 + 0x7564;
    } while (iVar2 < 2);
  }
  return 0;
}



bool FUN_BATTLE_BIN__8008d8e4(int param_1)

{
  bool bVar1;
  
  bVar1 = ((&DAT_BATTLE_BIN__800a77c4)[param_1 * 0x1d59] & 0x80) != 0;
  if (bVar1) {
    (&DAT_BATTLE_BIN__800a77c4)[param_1 * 0x1d59] = 0xff;
    (&DAT_BATTLE_BIN__800a77cc)[param_1 * 0x1d59] = 0;
  }
  return bVar1;
}



undefined4 FUN_BATTLE_BIN__8008d950(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  iVar1 = 0;
  do {
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800a77c4 + iVar1) = 0xff;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800a77c8 + iVar1) = 0;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800a77cc + iVar1) = 0;
    iVar2 = iVar2 + 1;
    iVar1 = iVar1 + 0x7564;
  } while (iVar2 < 2);
  return 1;
}



undefined FUN_BATTLE_BIN__8008dc24(int param_1)

{
  undefined uVar1;
  
  uVar1 = 0;
  if (((param_1 != 0) && (uVar1 = 0, (*(uint *)(param_1 + 0x144) & 9) == 0)) &&
     (uVar1 = 0, (*(uint *)(param_1 + 0x140) & 4) == 0)) {
    uVar1 = (&DAT_BATTLE_BIN__8009474b)[(uint)*(byte *)(param_1 + 6) * 4];
  }
  return uVar1;
}



void FUN_BATTLE_BIN__8008dc74(ushort param_1)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4(param_1);
  FUN_BATTLE_BIN__8008dc24((int)piVar1);
  return;
}



void FUN_BATTLE_BIN__8008dc9c(ushort param_1)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a724(param_1);
  FUN_BATTLE_BIN__8008dc24((int)piVar1);
  return;
}



void FUN_BATTLE_BIN__8008dd10(int param_1,int param_2,ushort *param_3)

{
  byte bVar1;
  undefined2 local_d0;
  undefined local_ce;
  undefined2 local_cc;
  ushort local_ca;
  ushort local_c8;
  ushort local_c6;
  undefined2 local_2c;
  byte local_2a;
  
  local_d0 = 1;
  local_2c = 0;
  local_2a = 0;
  bVar1 = (byte)param_3;
  if (param_2 == 0) {
    local_cc = 0;
    local_ca = (ushort)bVar1;
  }
  else if (param_2 == 1) {
    local_cc = 1;
    local_ca = *param_3;
    local_c6 = param_3[2];
    local_c8 = param_3[1];
  }
  else {
    local_cc = 0;
    local_ca = (ushort)bVar1;
    local_2a = bVar1;
  }
  local_ce = 0;
  FUN_BATTLE_BIN__801a15b4(0,param_1,(undefined4 *)&local_d0);
  return;
}



// Possible SCGMUTE.OBJ/SsGetMute

bool SsGetMute(uint param_1)

{
  bool bVar1;
  undefined3 extraout_var;
  
  bVar1 = FUN_BATTLE_BIN__801a13bc(param_1);
  return CONCAT31(extraout_var,bVar1) != 0;
}



void FUN_BATTLE_BIN__8008de90(void)

{
  DAT_8004598c = 0;
  return;
}



// Possible GS_125.OBJ/GsGetWorkBase

undefined4 FUN_BATTLE_BIN__8008ded8(void)

{
  return DAT_80045980;
}



undefined4 FUN_BATTLE_BIN__8008dee8(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  uVar2 = 0;
  iVar1 = param_1;
  if (1 < param_1 - 1U) {
    uVar2 = 0xffffffff;
    iVar1 = DAT_80045980;
  }
  DAT_80045980 = iVar1;
  return uVar2;
}



void FUN_BATTLE_BIN__8008df10(undefined2 *param_1)

{
  Store_3_Halfwords(param_1,(short)DAT_BATTLE_BIN__800961b4,(short)DAT_BATTLE_BIN__800961b8,
                    (short)DAT_BATTLE_BIN__800961bc);
  return;
}



void FUN_BATTLE_BIN__8008dfac(ushort param_1)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a724(param_1);
  FUN_BATTLE_BIN__80183fb4
            ((uint)*(byte *)(piVar1 + 0x1f),(uint)*(byte *)((int)piVar1 + 0x7d),
             (uint)*(byte *)((int)piVar1 + 0x7e));
  return;
}



bool FUN_BATTLE_BIN__8008e068(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__800f3718(DAT_BATTLE_BIN__80096104,0x75);
  return iVar1 != 0;
}



void FUN_BATTLE_BIN__8008e094(void)

{
  FUN_BATTLE_BIN__800f3718(DAT_BATTLE_BIN__80096104,0x76);
  return;
}



undefined4 FUN_BATTLE_BIN__8008e0bc(uint param_1,int param_2)

{
  FUN_BATTLE_BIN__800f0be0(0x80,param_1,param_2,1);
  return 1;
}



void FUN_BATTLE_BIN__8008e0f0(uint param_1)

{
  FUN_BATTLE_BIN__800f0be0(0x81,param_1,1,1);
  return;
}



undefined4 FUN_BATTLE_BIN__8008e11c(uint param_1,int param_2)

{
  FUN_BATTLE_BIN__800f0be0(0x83,param_1,param_2,1);
  return 1;
}



void FUN_BATTLE_BIN__8008e150(uint param_1)

{
  FUN_BATTLE_BIN__800f0be0(0x82,param_1,1,1);
  return;
}



bool FUN_BATTLE_BIN__8008e17c(void)

{
  bool bVar1;
  
  bVar1 = true;
  if ((((DAT_BATTLE_BIN__800a1c48 == 0) && (DAT_BATTLE_BIN__800a1c4c == 0)) &&
      (DAT_BATTLE_BIN__800a1c50 == 0)) &&
     ((DAT_BATTLE_BIN__800960c8 == 0 && (DAT_BATTLE_BIN__800960d4 == 0)))) {
    bVar1 = DAT_BATTLE_BIN__800960cc != 0;
  }
  return bVar1;
}



bool FUN_BATTLE_BIN__8008e1f8(ushort param_1)

{
  int *piVar1;
  
  piVar1 = FUN_BATTLE_BIN__8007a724(param_1);
  if (piVar1 != (int *)0x0) {
    FUN_BATTLE_BIN__800683e4((int)piVar1);
  }
  return piVar1 != (int *)0x0;
}



void FUN_BATTLE_BIN__8008e348(void)

{
  DAT_80045998 = 0;
  return;
}



void FUN_BATTLE_BIN__8008e358(short *param_1,ushort *param_2)

{
  undefined1 *puVar1;
  
  Store_3_Words(&DAT_BATTLE_BIN__800e4e74,*param_1 * -0x1000,param_1[1] * -0x1000,
                param_1[2] * -0x1000);
  Store_3_Halfwords(&DAT_BATTLE_BIN__800a7784,*param_2 & 0x1fff,param_2[1] & 0x1fff,
                    param_2[2] & 0x1fff);
  DAT_BATTLE_BIN__800961b8 = 0;
  DAT_BATTLE_BIN__800961b4 = DAT_BATTLE_BIN__800e4e74 / 0x1c000;
  DAT_BATTLE_BIN__800961bc = DAT_BATTLE_BIN__800e4e7c / 0x1c000;
  puVar1 = FUN_BATTLE_BIN__80183fb4(DAT_BATTLE_BIN__800961b4,DAT_BATTLE_BIN__800961bc,0);
  DAT_BATTLE_BIN__800e4e78 = (uint)(byte)puVar1[2] * -0xc000;
  return;
}



void FUN_BATTLE_BIN__8008e468(void)

{
  Store_3_Words(&DAT_BATTLE_BIN__800a77b0,0x100,0xa0,0x280);
  Store_3_Words((undefined4 *)&DAT_BATTLE_BIN__800c7ca0,0x1000,0x1000,0x1000);
  Store_3_Halfwords(&DAT_BATTLE_BIN__800a7784,0x12e,0xe00,0);
  Store_3_Words(&DAT_BATTLE_BIN__800e4e74,0,0,0);
  DAT_BATTLE_BIN__8009611c = 0xff;
  DAT_BATTLE_BIN__80096118 = 0xff;
  DAT_BATTLE_BIN__800961bc = 0;
  DAT_BATTLE_BIN__800961b8 = 0;
  DAT_BATTLE_BIN__800961b4 = 0;
  DAT_BATTLE_BIN__800960c8 = 0;
  DAT_BATTLE_BIN__800960cc = 0;
  DAT_BATTLE_BIN__800960d0 = 1;
  DAT_BATTLE_BIN__800960d4 = 0;
  DAT_BATTLE_BIN__800960d8 = 1;
  DAT_BATTLE_BIN__800960dc = 0;
  return;
}



void FUN_BATTLE_BIN__8008e540
               (undefined param_1,undefined param_2,undefined param_3,undefined2 param_4,
               short param_5,undefined2 param_6,undefined2 param_7,undefined4 param_8,
               undefined4 param_9)

{
  (&DAT_80049c1c)[DAT_80049c18 * 0x14] = param_1;
  (&DAT_80049c1d)[DAT_80049c18 * 0x14] = param_2;
  (&DAT_80049c1e)[DAT_80049c18 * 0x14] = param_3;
  *(undefined2 *)(&DAT_80049c20 + DAT_80049c18 * 0x14) = param_4;
  *(short *)(&DAT_80049c22 + DAT_80049c18 * 0x14) = param_5;
  if (0x9e < param_5) {
    *(undefined2 *)(&DAT_80049c22 + DAT_80049c18 * 0x14) = 1;
  }
  *(undefined2 *)(&DAT_80049c24 + DAT_80049c18 * 0x14) = param_6;
  *(undefined2 *)(&DAT_80049c26 + DAT_80049c18 * 0x14) = param_7;
  *(undefined4 *)(&DAT_80049c28 + DAT_80049c18 * 0x14) = param_8;
  *(undefined4 *)(&DAT_80049c2c + DAT_80049c18 * 0x14) = param_9;
  if (DAT_80049c18 < 0x10) {
    DAT_80049c18 = DAT_80049c18 + 1;
  }
  return;
}



void FUN_BATTLE_BIN__8008e6d8(void)

{
  int iVar1;
  
  DAT_80047600 = FUN_BATTLE_BIN__8013b590(0x32);
  if (DAT_800459dc == 1) {
    iVar1 = 0xfa;
  }
  else if (DAT_800459dc == 2) {
    iVar1 = rand();
    iVar1 = iVar1 * 5;
    if (iVar1 < 0) {
      iVar1 = iVar1 + 0x7fff;
    }
    iVar1 = (iVar1 >> 0xf) + 0x4b;
  }
  else if (DAT_800459dc == 3) {
    iVar1 = rand();
    iVar1 = iVar1 * 0x3b;
    if (iVar1 < 0) {
      iVar1 = iVar1 + 0x7fff;
    }
    iVar1 = (iVar1 >> 0xf) + 1;
  }
  else if ((DAT_800459dc != 4) || (iVar1 = DAT_BATTLE_BIN__80096104, DAT_BATTLE_BIN__80096104 == 0))
  goto LAB_BATTLE_BIN__8008e79c;
  DAT_80047600 = iVar1;
LAB_BATTLE_BIN__8008e79c:
  Open_ENTD_withEventID();
  return;
}



undefined4 FUN_BATTLE_BIN__8008e7b8(void)

{
  char *pcVar1;
  
  pcVar1 = (char *)Get_Current_ENTD_Data_Pointer();
  if (pcVar1 != (char *)0xffffffff) {
    if (pcVar1 == (char *)0x0) {
      return 1;
    }
    FUN_BATTLE_BIN__8017f8a0(pcVar1);
    Call_BIN_Free_FFT(DAT_80047604);
  }
  return 0;
}



// WARNING: Removing unreachable block (ram,0x8008e894)
// WARNING: Removing unreachable block (ram,0x8008e8e0)

void FUN_BATTLE_BIN__8008e80c(void)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  int iVar7;
  undefined4 uVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  undefined4 *puVar11;
  undefined4 *puVar12;
  char acStack_10038 [65512];
  undefined4 local_50 [2];
  undefined4 local_48 [2];
  undefined4 local_40;
  undefined local_3c;
  undefined4 local_38 [10];
  
  local_50[0] = DAT_BATTLE_BIN__80068228;
  local_48[0] = DAT_BATTLE_BIN__8006822c;
  local_40 = DAT_BATTLE_BIN__80068230;
  local_3c = DAT_BATTLE_BIN__80068234;
  puVar9 = &DAT_BATTLE_BIN__80068238;
  puVar11 = local_38;
  do {
    puVar12 = puVar11;
    puVar10 = puVar9;
    uVar5 = puVar10[1];
    uVar6 = puVar10[2];
    uVar8 = puVar10[3];
    *puVar12 = *puVar10;
    puVar12[1] = uVar5;
    puVar12[2] = uVar6;
    puVar12[3] = uVar8;
    puVar9 = puVar10 + 4;
    puVar11 = puVar12 + 4;
  } while (puVar10 + 4 != (undefined4 *)0x80068258);
  uVar5 = puVar10[5];
  puVar12[4] = uRam80068258;
  puVar12[5] = uVar5;
  uVar2 = FUN_BATTLE_BIN__8013b590(0x2e);
  iVar3 = FUN_BATTLE_BIN__8013b590(0x2f);
  iVar4 = FUN_BATTLE_BIN__8013b590(0x23);
  iVar7 = 0;
  puVar11 = local_48;
  puVar9 = local_50;
  do {
    bVar1 = *(byte *)puVar9;
    if (((int)uVar2 < (int)(uint)bVar1) ||
       ((puVar9 = (undefined4 *)((int)puVar9 + 1), uVar2 == bVar1 &&
        (iVar3 < (int)(uint)*(byte *)puVar11)))) break;
    iVar7 = iVar7 + 1;
    puVar11 = (undefined4 *)((int)puVar11 + 1);
  } while (iVar7 < 4);
  bVar1 = *(byte *)((int)&local_40 + iVar7);
  iVar3 = rand();
  iVar3 = iVar3 * 10;
  if (iVar3 < 0) {
    iVar3 = iVar3 + 0x7fff;
  }
  uVar2 = iVar4 + *(char *)((int)local_38 + (iVar3 >> 0xf) + (uint)bVar1 * 10);
  if ((int)uVar2 < 0) {
    uVar2 = 0;
  }
  else if (4 < (int)uVar2) {
    uVar2 = 4;
  }
  FUN_BATTLE_BIN__8013b644(0x23,uVar2);
  iVar3 = rand();
  iVar3 = iVar3 * 3;
  if (iVar3 < 0) {
    iVar3 = iVar3 + 0x7fff;
  }
  FUN_BATTLE_BIN__8013b644(0x24,(uint)(iVar3 >> 0xf == 0));
  return;
}



int FUN_BATTLE_BIN__8008ea6c(MusicDataHeader *param_1,int param_2,undefined4 *param_3)

{
  byte bVar1;
  undefined3 extraout_var;
  int iVar2;
  
  switch(param_2) {
  case 0:
    param_2 = param_2 + 1;
    FUN_800440f4(param_1);
    FUN_BATTLE_BIN__8008e468();
    FUN_BATTLE_BIN__80093048();
    FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094b84,2,0,0);
    DAT_80049c18 = 0;
    FUN_BATTLE_BIN__8013d188();
    break;
  case 1:
    iVar2 = FUN_BATTLE_BIN__8013d19c();
    if (iVar2 == 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 2:
    iVar2 = FUN_BATTLE_BIN__800f3718((uint)param_1,0x75);
    if (iVar2 != 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 3:
    iVar2 = FUN_BATTLE_BIN__800f3718((uint)param_1,0x76);
    if (iVar2 == 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 4:
    iVar2 = FUN_BATTLE_BIN__8008e6d8();
    if (iVar2 != 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 5:
    iVar2 = FUN_BATTLE_BIN__8008e7b8();
    if (iVar2 == 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 6:
    param_2 = param_2 + 1;
    FUN_BATTLE_BIN__80088840();
    break;
  case 7:
    do {
      bVar1 = FUN_BATTLE_BIN__80088904();
    } while (CONCAT31(extraout_var,bVar1) == 2);
    if (CONCAT31(extraout_var,bVar1) == 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 8:
    FUN_BATTLE_BIN__8017f620(&DAT_800459a0);
    param_2 = param_2 + 1;
    break;
  case 0xb:
    if (DAT_80045978 != 1) {
      param_1 = (MusicDataHeader *)0x1fe;
      iVar2 = FUN_BATTLE_BIN__8013b590(0x1fe);
      if (iVar2 == 0) goto switchD_BATTLE_BIN__8008ea9c_caseD_9;
    }
    FUN_80043f50();
    FUN_800440f4(param_1);
    iVar2 = rand();
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0x1fff;
    }
    param_2 = param_2 + 1;
    FUN_80043f88((uint)(byte)(&DAT_BATTLE_BIN__80094a3c)[iVar2 >> 0xd]);
    break;
  case 0xc:
    iVar2 = param_2;
    FUN_BATTLE_BIN__800f59f0();
    FUN_BATTLE_BIN__80092dc0(param_1,iVar2,param_3);
    FUN_BATTLE_BIN__80092e98(param_1,iVar2,param_3);
    FUN_BATTLE_BIN__80092f18(param_1,iVar2,param_3);
    FUN_BATTLE_BIN__80092f98();
    FUN_BATTLE_BIN__801827f0(1);
    FUN_BATTLE_BIN__80199d20();
  case 9:
  case 10:
switchD_BATTLE_BIN__8008ea9c_caseD_9:
    param_2 = param_2 + 1;
  }
  return param_2;
}



int FUN_BATTLE_BIN__8008ec70(MusicDataHeader *param_1,int param_2,undefined4 *param_3)

{
  byte bVar1;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int iVar2;
  
  switch(param_2) {
  case 0:
    FUN_800440f4(param_1);
    FUN_BATTLE_BIN__8008e468();
    FUN_BATTLE_BIN__80093048();
    param_2 = param_2 + 1;
    if (DAT_80045978 == 1) {
      FUN_BATTLE_BIN__8008e80c();
    }
    FUN_BATTLE_BIN__800926d8((ushort *)&DAT_BATTLE_BIN__80094b84,2,0,0);
    DAT_80049c18 = 0;
    break;
  case 1:
    goto switchD_BATTLE_BIN__8008eca4_caseD_1;
  case 2:
    iVar2 = FUN_BATTLE_BIN__800f3718((uint)param_1,0x75);
    if (iVar2 != 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 3:
    iVar2 = FUN_BATTLE_BIN__800f3718((uint)param_1,0x76);
    if (iVar2 == 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 4:
    iVar2 = FUN_BATTLE_BIN__8008e6d8();
    if (iVar2 != 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 5:
    iVar2 = FUN_BATTLE_BIN__8008e7b8();
    if (iVar2 == 0) {
      if (DAT_BATTLE_BIN__80096114 == 0) {
        param_2 = param_2 + 1;
        FUN_BATTLE_BIN__80088018();
      }
      else {
        FUN_BATTLE_BIN__80088840();
        param_2 = 7;
      }
    }
    break;
  case 6:
    iVar2 = FUN_BATTLE_BIN__80088130();
    if (iVar2 == 8) {
      DAT_BATTLE_BIN__80096114 = 1;
      FUN_BATTLE_BIN__80088840();
      param_2 = param_2 + 1;
    }
    break;
  case 7:
    iVar2 = FUN_BATTLE_BIN__8013b590(0x1fe);
    if (iVar2 == 0) {
      do {
        bVar1 = FUN_BATTLE_BIN__80088904();
      } while (CONCAT31(extraout_var,bVar1) == 2);
      if (CONCAT31(extraout_var,bVar1) != 0) {
        return param_2;
      }
      return param_2 + 1;
    }
    goto switchD_BATTLE_BIN__8008eca4_caseD_1;
  case 8:
    if (DAT_BATTLE_BIN__800e6aa4 != 0) {
      param_2 = param_2 + 1;
      FUN_BATTLE_BIN__80088868();
      DAT_BATTLE_BIN__80096108 = 0;
    }
    break;
  case 9:
    do {
      bVar1 = FUN_BATTLE_BIN__80088904();
    } while (CONCAT31(extraout_var_00,bVar1) == 2);
    if (CONCAT31(extraout_var_00,bVar1) == 0) {
      param_2 = param_2 + 1;
    }
    break;
  case 10:
    if (param_3 == (undefined4 *)0x0) {
      param_2 = param_2 + 1;
      FUN_801c3b00();
    }
    break;
  case 0xb:
    if (DAT_80045978 != 1) {
      param_1 = (MusicDataHeader *)0x1fe;
      iVar2 = FUN_BATTLE_BIN__8013b590(0x1fe);
      if (iVar2 == 0) goto switchD_BATTLE_BIN__8008eca4_caseD_1;
    }
    FUN_80043f50();
    FUN_800440f4(param_1);
    iVar2 = rand();
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0x1fff;
    }
    param_2 = param_2 + 1;
    FUN_80043f88((uint)(byte)(&DAT_BATTLE_BIN__80094a3c)[iVar2 >> 0xd]);
    break;
  case 0xc:
    iVar2 = param_2;
    FUN_BATTLE_BIN__800f59f0();
    FUN_BATTLE_BIN__80092dc0(param_1,iVar2,param_3);
    FUN_BATTLE_BIN__80092e98(param_1,iVar2,param_3);
    FUN_BATTLE_BIN__80092f18(param_1,iVar2,param_3);
    FUN_BATTLE_BIN__80092f98();
    FUN_BATTLE_BIN__801827f0(1);
    FUN_BATTLE_BIN__80199d20();
switchD_BATTLE_BIN__8008eca4_caseD_1:
    param_2 = param_2 + 1;
  }
  return param_2;
}



void FUN_BATTLE_BIN__8008efb4(uint param_1,byte param_2,byte param_3,byte param_4,ushort param_5)

{
  int iVar1;
  
  if (param_5 != 0) {
    DAT_BATTLE_BIN__800961e0 = (short)((int)(uint)param_5 / DAT_80045980);
    iVar1 = (int)DAT_BATTLE_BIN__800961e0;
    DAT_BATTLE_BIN__800961c4 = param_2;
    DAT_BATTLE_BIN__800961c5 = param_3;
    DAT_BATTLE_BIN__800961c6 = param_4;
    if (iVar1 != 0) {
      DAT_BATTLE_BIN__800961d0 = (ushort)DAT_BATTLE_BIN__800961c8 << 8;
      DAT_BATTLE_BIN__800961d4 = (ushort)DAT_BATTLE_BIN__800961ca << 8;
      DAT_BATTLE_BIN__800961d2 = (ushort)DAT_BATTLE_BIN__800961c9 << 8;
      DAT_BATTLE_BIN__800961d8 =
           (undefined2)((int)(((uint)param_2 - (uint)DAT_BATTLE_BIN__800961c8) * 0x100) / iVar1);
      DAT_BATTLE_BIN__800961da =
           (undefined2)((int)(((uint)param_3 - (uint)DAT_BATTLE_BIN__800961c9) * 0x100) / iVar1);
      DAT_BATTLE_BIN__800961dc =
           (undefined2)((int)(((uint)param_4 - (uint)DAT_BATTLE_BIN__800961ca) * 0x100) / iVar1);
      SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__800e6aa8,0,0,(param_1 & 0xffff) << 5,
                  (RECT *)&DAT_BATTLE_BIN__800961e4);
      DAT_BATTLE_BIN__800e6ab4 = DAT_BATTLE_BIN__800e6aa8;
      DAT_BATTLE_BIN__800e6ab8 = DAT_BATTLE_BIN__800e6aac;
      DAT_BATTLE_BIN__800e6abc = DAT_BATTLE_BIN__800e6ab0;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8008f130(void)

{
  bool bVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  short sVar5;
  
  sVar5 = DAT_BATTLE_BIN__800961e0 + -1;
  if (DAT_BATTLE_BIN__800961e0 != 0) {
    uVar4 = (uint)DAT_BATTLE_BIN__800961d0;
    uVar3 = (uint)DAT_BATTLE_BIN__800961d2;
    uVar2 = (uint)DAT_BATTLE_BIN__800961d4;
    DAT_BATTLE_BIN__800961d0 = (ushort)(uVar4 + DAT_BATTLE_BIN__800961d8);
    DAT_BATTLE_BIN__800961d2 = (ushort)(uVar3 + DAT_BATTLE_BIN__800961da);
    DAT_BATTLE_BIN__800961d4 = (ushort)(uVar2 + DAT_BATTLE_BIN__800961dc);
    DAT_BATTLE_BIN__800961c8 = (undefined)(uVar4 + DAT_BATTLE_BIN__800961d8 >> 8);
    DAT_BATTLE_BIN__800961c9 = (undefined)(uVar3 + DAT_BATTLE_BIN__800961da >> 8);
    DAT_BATTLE_BIN__800961ca = (undefined)(uVar2 + DAT_BATTLE_BIN__800961dc >> 8);
    bVar1 = DAT_BATTLE_BIN__800961e0 == 1;
    DAT_BATTLE_BIN__800961e0 = sVar5;
    if (bVar1) {
      DAT_BATTLE_BIN__800961c8 = DAT_BATTLE_BIN__800961c4;
      DAT_BATTLE_BIN__800961c9 = DAT_BATTLE_BIN__800961c5;
      DAT_BATTLE_BIN__800961ca = DAT_BATTLE_BIN__800961c6;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8008f208(void)

{
  void *pvVar1;
  
  if ((byte)(DAT_BATTLE_BIN__800961ca | DAT_BATTLE_BIN__800961c8 | DAT_BATTLE_BIN__800961c9) != 0) {
    *(byte *)(&DAT_BATTLE_BIN__800c7c74 + ScreenPolarity * 6) = DAT_BATTLE_BIN__800961c8;
    *(byte *)((int)&DAT_BATTLE_BIN__800c7c74 + ScreenPolarity * 0x18 + 1) = DAT_BATTLE_BIN__800961c9
    ;
    *(byte *)((int)&DAT_BATTLE_BIN__800c7c74 + ScreenPolarity * 0x18 + 2) = DAT_BATTLE_BIN__800961ca
    ;
    pvVar1 = (void *)Get_OTAG_List();
    AddPrim(pvVar1,&DAT_BATTLE_BIN__800c7c70 + ScreenPolarity * 6);
    pvVar1 = (void *)Get_OTAG_List();
    AddPrim(pvVar1,&DAT_BATTLE_BIN__800e6aa8 + ScreenPolarity * 3);
  }
  return;
}



void FUN_BATTLE_BIN__8008f320(int param_1,int param_2,int param_3,ushort *param_4)

{
  char cVar1;
  char cVar2;
  char cVar3;
  undefined1 *puVar4;
  uint uVar5;
  int iVar6;
  char *pcVar7;
  int iVar8;
  
  iVar8 = 0;
  do {
    iVar6 = param_3 * 0x10 + iVar8;
    uVar5 = (uint)*param_4;
    pcVar7 = &DAT_BATTLE_BIN__80099676 + iVar6 * 7 + param_2 * 0x982;
    cVar1 = (char)(uVar5 & 0x1f);
    cVar2 = (char)((uVar5 & 0x3e0) >> 5);
    cVar3 = (char)((uVar5 & 0x7c00) >> 10);
    if (param_1 == 0) {
      pcVar7[1] = cVar2;
      *pcVar7 = cVar1;
      pcVar7[2] = cVar3;
      (&DAT_BATTLE_BIN__800e4ea4)[param_2 * 0x100 + iVar6] =
           (short)(uVar5 & 0x1f) + (short)(uVar5 & 0x3e0) + (short)(uVar5 & 0x7c00) +
           (ushort)(byte)pcVar7[3] * -0x8000;
    }
    else {
      pcVar7[4] = (cVar1 - *pcVar7) + '\x1f';
      pcVar7[5] = (cVar2 - pcVar7[1]) + '\x1f';
      pcVar7[6] = (cVar3 - pcVar7[2]) + '\x1f';
    }
    iVar8 = iVar8 + 1;
    param_4 = param_4 + 1;
  } while (iVar8 < 0x10);
  if (param_1 == 0) {
    (&DAT_BATTLE_BIN__800995f6)[param_3 * 8 + param_2 * 0x982] = 0;
  }
  else {
    puVar4 = &DAT_BATTLE_BIN__800995f6 + param_3 * 8 + param_2 * 0x982;
    *puVar4 = 1;
    puVar4[1] = 0;
    puVar4[2] = 0;
    puVar4[3] = (char)param_1;
  }
  return;
}



void FUN_BATTLE_BIN__8008f498(int param_1,int param_2,int param_3,int param_4,ushort *param_5)

{
  int iVar1;
  
  if (param_4 == 1) {
    iVar1 = 0;
    do {
      FUN_BATTLE_BIN__8008f320(param_1,param_2,iVar1,param_5);
      iVar1 = iVar1 + 1;
      param_5 = param_5 + 0x10;
    } while (iVar1 < 0x10);
  }
  else {
    FUN_BATTLE_BIN__8008f320(param_1,param_2,param_3,param_5);
  }
  DAT_BATTLE_BIN__800995ec = 1;
  return;
}



void FUN_BATTLE_BIN__8008f710
               (int param_1,int param_2,int param_3,int param_4,int param_5,ushort param_6,
               ushort param_7,ushort param_8)

{
  int iVar1;
  uint uVar2;
  char *pcVar3;
  undefined1 *puVar4;
  byte *pbVar5;
  uint in_t0;
  uint in_t1;
  uint in_t3;
  int iVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  
  uVar7 = (uint)param_6;
  uVar8 = (uint)param_7;
  uVar9 = (uint)param_8;
  if (param_5 == 1) {
    iVar1 = param_3 * 0x982;
    iVar6 = 0;
    do {
      pbVar5 = &DAT_BATTLE_BIN__80099676 + iVar6 * 7 + iVar1;
      if ((uint)*pbVar5 + (uint)pbVar5[1] + (uint)pbVar5[2] == 0) {
        pbVar5[6] = 0x1f;
        pbVar5[5] = 0x1f;
        pbVar5[4] = 0x1f;
        goto LAB_BATTLE_BIN__8008fb2c;
      }
      switch(param_1) {
      case 0:
        pbVar5 = &DAT_BATTLE_BIN__80099676 + iVar6 * 7 + iVar1;
        in_t3 = uVar7 + *pbVar5;
        in_t1 = uVar8 + pbVar5[1];
        in_t0 = uVar9 + pbVar5[2];
        break;
      case 1:
        pbVar5 = &DAT_BATTLE_BIN__80099676 + iVar6 * 7 + iVar1;
        in_t3 = (*pbVar5 >> 1) + uVar7;
        in_t1 = (pbVar5[1] >> 1) + uVar8;
        in_t0 = (pbVar5[2] >> 1) + uVar9;
        break;
      case 2:
        pbVar5 = &DAT_BATTLE_BIN__80099676 + iVar6 * 7 + iVar1;
        uVar2 = ((uint)*pbVar5 * 2 + (uint)pbVar5[1] * 3 + (uint)pbVar5[2]) / 6;
        goto LAB_BATTLE_BIN__8008f9b0;
      case 3:
        pbVar5 = &DAT_BATTLE_BIN__80099676 + iVar6 * 7 + iVar1;
        uVar2 = ((uint)*pbVar5 * 2 + (uint)pbVar5[1] * 3 + (uint)pbVar5[2]) / 0xc;
        goto LAB_BATTLE_BIN__8008f9b0;
      case 4:
      case 9:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar6 * 2 + iVar1);
        in_t3 = uVar7 + (uVar2 & 0x1f);
        in_t1 = uVar8 + ((uVar2 & 0x3e0) >> 5);
        in_t0 = uVar9 + ((uVar2 & 0x7c00) >> 10);
        break;
      case 5:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar6 * 2 + iVar1);
        in_t3 = uVar7 + ((int)(uVar2 & 0x1f) >> 1);
        in_t1 = uVar8 + ((uVar2 & 0x3e0) >> 6);
        in_t0 = uVar9 + ((uVar2 & 0x7c00) >> 0xb);
        break;
      case 6:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar6 * 2 + iVar1);
        uVar2 = ((uVar2 & 0x1f) * 2 + ((uVar2 & 0x3e0) >> 5) * 3 + ((uVar2 & 0x7c00) >> 10)) / 6;
        goto LAB_BATTLE_BIN__8008f9b0;
      case 7:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar6 * 2 + iVar1);
        uVar2 = ((uVar2 & 0x1f) * 2 + ((uVar2 & 0x3e0) >> 5) * 3 + ((uVar2 & 0x7c00) >> 10)) / 0xc;
LAB_BATTLE_BIN__8008f9b0:
        in_t3 = uVar7 + uVar2;
        in_t1 = uVar8 + uVar2;
        in_t0 = uVar9 + uVar2;
        break;
      case 8:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar6 * 2 + iVar1);
        in_t3 = uVar2 & 0x1f;
        in_t1 = (uVar2 & 0x3e0) >> 5;
        in_t0 = (uVar2 & 0x7c00) >> 10;
        break;
      case 10:
        iVar6 = 0xf;
        iVar1 = iVar1 + 0x78;
        do {
          (&DAT_BATTLE_BIN__800995fa)[iVar1] = 0;
          iVar6 = iVar6 + -1;
          iVar1 = iVar1 + -8;
        } while (-1 < iVar6);
        return;
      }
      if (0x1f < (short)in_t3) {
        in_t3 = 0x1f;
      }
      if (0x1f < (short)in_t1) {
        in_t1 = 0x1f;
      }
      if (0x1f < (short)in_t0) {
        in_t0 = 0x1f;
      }
      if ((int)(in_t3 << 0x10) < 1) {
        in_t3 = 0;
      }
      if ((int)(in_t1 << 0x10) < 1) {
        in_t1 = 0;
      }
      if ((int)(in_t0 << 0x10) < 1) {
        in_t0 = 0;
      }
      if (((in_t0 | in_t3 | in_t1) & 0xffff) == 0) {
        in_t0 = 1;
      }
      if (param_2 == 0) {
        pcVar3 = &DAT_BATTLE_BIN__80099676 + iVar6 * 7 + iVar1;
        *pcVar3 = (char)in_t3;
        pcVar3[1] = (char)in_t1;
        pcVar3[2] = (char)in_t0;
        (&DAT_BATTLE_BIN__800e4ea4)[param_3 * 0x100 + iVar6] =
             (short)in_t3 + (short)in_t1 * 0x20 + (short)in_t0 * 0x400 +
             (ushort)(byte)pcVar3[3] * -0x8000;
      }
      else {
        pcVar3 = &DAT_BATTLE_BIN__80099676 + iVar6 * 7 + iVar1;
        pcVar3[4] = ((char)in_t3 - *pcVar3) + '\x1f';
        pcVar3[5] = ((char)in_t1 - pcVar3[1]) + '\x1f';
        pcVar3[6] = ((char)in_t0 - pcVar3[2]) + '\x1f';
      }
LAB_BATTLE_BIN__8008fb2c:
      iVar6 = iVar6 + 1;
    } while (iVar6 < 0x100);
    iVar1 = 0;
    if (param_2 != 0) {
      puVar4 = &DAT_BATTLE_BIN__800995f6 + param_3 * 0x982;
      do {
        *puVar4 = 1;
        puVar4[1] = 0;
        puVar4[2] = 0;
        puVar4[3] = (char)param_2;
        if (param_1 == 9) {
          puVar4[4] = 1;
          puVar4[5] = (char)param_6;
          puVar4[6] = (char)param_7;
          puVar4[7] = (char)param_8;
        }
        iVar1 = iVar1 + 1;
        puVar4 = puVar4 + 8;
      } while (iVar1 < 0x10);
      return;
    }
    iVar6 = 0xf;
    iVar1 = param_3 * 0x982 + 0x78;
    do {
      (&DAT_BATTLE_BIN__800995f6)[iVar1] = 0;
      iVar6 = iVar6 + -1;
      iVar1 = iVar1 + -8;
    } while (-1 < iVar6);
  }
  else {
    iVar6 = 0;
    iVar1 = param_3 * 0x982;
    iVar10 = param_4 << 4;
    pbVar5 = &DAT_BATTLE_BIN__80099676 + param_4 * 0x70 + iVar1;
    do {
      if ((uint)*pbVar5 + (uint)pbVar5[1] + (uint)pbVar5[2] == 0) {
        pbVar5[6] = 0x1f;
        pbVar5[5] = 0x1f;
        pbVar5[4] = 0x1f;
        goto LAB_BATTLE_BIN__8008ff78;
      }
      switch(param_1) {
      case 0:
        in_t3 = uVar7 + *pbVar5;
        in_t0 = uVar9 + pbVar5[2];
        in_t1 = uVar8 + pbVar5[1];
        break;
      case 1:
        in_t3 = (*pbVar5 >> 1) + uVar7;
        in_t1 = (pbVar5[1] >> 1) + uVar8;
        in_t0 = (pbVar5[2] >> 1) + uVar9;
        break;
      case 2:
        uVar2 = ((uint)*pbVar5 * 2 + (uint)pbVar5[1] * 3 + (uint)pbVar5[2]) / 6;
        goto LAB_BATTLE_BIN__8008fe18;
      case 3:
        uVar2 = (uint)*pbVar5 * 2 + (uint)pbVar5[1] * 3 + (uint)pbVar5[2];
        goto LAB_BATTLE_BIN__8008fe08;
      case 4:
      case 9:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar10 * 2 + iVar1);
        in_t3 = uVar7 + (uVar2 & 0x1f);
        in_t1 = uVar8 + ((uVar2 & 0x3e0) >> 5);
        in_t0 = uVar9 + ((uVar2 & 0x7c00) >> 10);
        break;
      case 5:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar10 * 2 + iVar1);
        in_t3 = uVar7 + ((int)(uVar2 & 0x1f) >> 1);
        in_t1 = uVar8 + ((uVar2 & 0x3e0) >> 6);
        in_t0 = uVar9 + ((uVar2 & 0x7c00) >> 0xb);
        break;
      case 6:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar10 * 2 + iVar1);
        uVar2 = ((uVar2 & 0x1f) * 2 + ((uVar2 & 0x3e0) >> 5) * 3 + ((uVar2 & 0x7c00) >> 10)) / 6;
        goto LAB_BATTLE_BIN__8008fe18;
      case 7:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar10 * 2 + iVar1);
        uVar2 = (uVar2 & 0x1f) * 2 + ((uVar2 & 0x3e0) >> 5) * 3 + ((uVar2 & 0x7c00) >> 10);
LAB_BATTLE_BIN__8008fe08:
        uVar2 = uVar2 / 0xc;
LAB_BATTLE_BIN__8008fe18:
        in_t3 = uVar7 + uVar2;
        in_t1 = uVar8 + uVar2;
        in_t0 = uVar9 + uVar2;
        break;
      case 8:
        uVar2 = (uint)*(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar10 * 2 + iVar1);
        in_t3 = uVar2 & 0x1f;
        in_t1 = (uVar2 & 0x3e0) >> 5;
        in_t0 = (uVar2 & 0x7c00) >> 10;
        break;
      case 10:
        (&DAT_BATTLE_BIN__800995fa)[param_4 * 8 + iVar1] = 0;
        return;
      }
      if (0x1f < (short)in_t3) {
        in_t3 = 0x1f;
      }
      if (0x1f < (short)in_t1) {
        in_t1 = 0x1f;
      }
      if (0x1f < (short)in_t0) {
        in_t0 = 0x1f;
      }
      if ((int)(in_t3 << 0x10) < 1) {
        in_t3 = 0;
      }
      if ((int)(in_t1 << 0x10) < 1) {
        in_t1 = 0;
      }
      if ((int)(in_t0 << 0x10) < 1) {
        in_t0 = 0;
      }
      if (((in_t0 | in_t3 | in_t1) & 0xffff) == 0) {
        in_t0 = 1;
      }
      if (param_2 == 0) {
        *pbVar5 = (byte)in_t3;
        pbVar5[1] = (byte)in_t1;
        pbVar5[2] = (byte)in_t0;
        (&DAT_BATTLE_BIN__800e4ea4)[param_3 * 0x100 + iVar10] =
             (short)in_t3 + (short)in_t1 * 0x20 + (short)in_t0 * 0x400 + (ushort)pbVar5[3] * -0x8000
        ;
      }
      else {
        pbVar5[4] = ((byte)in_t3 - *pbVar5) + 0x1f;
        pbVar5[5] = ((byte)in_t1 - pbVar5[1]) + 0x1f;
        pbVar5[6] = ((byte)in_t0 - pbVar5[2]) + 0x1f;
      }
LAB_BATTLE_BIN__8008ff78:
      iVar10 = iVar10 + 1;
      iVar6 = iVar6 + 1;
      pbVar5 = pbVar5 + 7;
    } while (iVar6 < 0x10);
    if (param_2 != 0) {
      puVar4 = &DAT_BATTLE_BIN__800995f6 + param_4 * 8 + param_3 * 0x982;
      *puVar4 = 1;
      puVar4[1] = 0;
      puVar4[2] = 0;
      puVar4[3] = (char)param_2;
      if (param_1 != 9) {
        return;
      }
      puVar4[4] = 1;
      puVar4[5] = (char)param_6;
      puVar4[6] = (char)param_7;
      puVar4[7] = (char)param_8;
      return;
    }
    (&DAT_BATTLE_BIN__800995f6)[param_4 * 8 + param_3 * 0x982] = 0;
  }
  DAT_BATTLE_BIN__800995ec = 1;
  return;
}



void FUN_BATTLE_BIN__80090258(int param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint in_t0;
  uint in_t1;
  uint in_t2;
  byte *pbVar5;
  int iVar6;
  undefined4 *puVar7;
  byte *pbVar8;
  uint *puVar9;
  int iVar10;
  int iVar11;
  undefined local_30;
  undefined local_2f;
  undefined local_2e;
  undefined local_2c;
  undefined local_2b;
  undefined local_2a;
  
  iVar11 = param_3 * 0x10000;
  iVar10 = param_4 * 0x10000;
  iVar4 = param_2 << 3;
  puVar9 = (uint *)&DAT_BATTLE_BIN__800a1b18;
  pbVar5 = (byte *)((int)&DAT_BATTLE_BIN__800a1b48 + 2);
  pbVar8 = (byte *)((int)&DAT_BATTLE_BIN__800a1b48 + 1);
  puVar7 = &DAT_BATTLE_BIN__800a1b48;
  iVar6 = param_5 * 0x10000;
  do {
    switch(param_1) {
    case 0:
      in_t2 = iVar11 + *puVar9;
      in_t0 = iVar6 + puVar9[2];
      in_t1 = iVar10 + puVar9[1];
      break;
    case 1:
      in_t2 = (int)*puVar9 / 2 + iVar11;
      in_t1 = (int)puVar9[1] / 2 + iVar10;
      in_t0 = (int)puVar9[2] / 2 + iVar6;
      break;
    case 2:
      iVar1 = *puVar9 * 2 + puVar9[1] * 3 + puVar9[2];
      iVar2 = iVar1 >> 0x1f;
      uVar3 = iVar1 / 6 + iVar2;
      goto LAB_BATTLE_BIN__80090468;
    case 3:
      iVar2 = puVar9[1] * 3;
      uVar3 = puVar9[2];
      iVar1 = *puVar9 << 1;
      goto LAB_BATTLE_BIN__80090450;
    case 4:
    case 9:
      in_t2 = ((uint)*(byte *)puVar7 + param_3) * 0x10000;
      in_t1 = ((uint)*pbVar8 + param_4) * 0x10000;
      in_t0 = ((uint)*pbVar5 + param_5) * 0x10000;
      break;
    case 5:
      in_t2 = (uint)*(byte *)puVar7 * 0x8000 + iVar11;
      in_t1 = (uint)*pbVar8 * 0x8000 + iVar10;
      in_t0 = (uint)*pbVar5 * 0x8000 + iVar6;
      break;
    case 6:
      uVar3 = ((uint)*(byte *)puVar7 * 0x20000 + (uint)*pbVar8 * 0x30000 + (uint)*pbVar5 * 0x10000)
              / 6;
      iVar2 = 0;
      goto LAB_BATTLE_BIN__80090468;
    case 7:
      uVar3 = (uint)*pbVar5 << 0x10;
      iVar1 = (uint)*(byte *)puVar7 << 0x11;
      iVar2 = (uint)*pbVar8 * 0x30000;
LAB_BATTLE_BIN__80090450:
      iVar1 = iVar1 + iVar2 + uVar3;
      iVar2 = iVar1 >> 0x1f;
      uVar3 = iVar1 / 0xc + iVar2;
LAB_BATTLE_BIN__80090468:
      iVar2 = uVar3 - iVar2;
      in_t2 = iVar2 + iVar11;
      in_t1 = iVar2 + iVar10;
      in_t0 = iVar2 + iVar6;
      break;
    case 8:
      in_t2 = (uint)*(byte *)puVar7 << 0x10;
      in_t0 = (uint)*pbVar5 << 0x10;
      in_t1 = (uint)*pbVar8 << 0x10;
      break;
    case 10:
      DAT_BATTLE_BIN__800a1b14 = 0;
      return;
    }
    in_t2 = in_t2 & 0xffff0000;
    in_t1 = in_t1 & 0xffff0000;
    in_t0 = in_t0 & 0xffff0000;
    if (0xff0000 < (int)in_t2) {
      in_t2 = 0xff0000;
    }
    if (0xff0000 < (int)in_t1) {
      in_t1 = 0xff0000;
    }
    if (0xff0000 < (int)in_t0) {
      in_t0 = 0xff0000;
    }
    if ((int)in_t2 < 0) {
      in_t2 = 0;
    }
    if ((int)in_t1 < 0) {
      in_t1 = 0;
    }
    if ((int)in_t0 < 0) {
      in_t0 = 0;
    }
    if (param_2 == 0) {
      *puVar9 = in_t2;
      puVar9[1] = in_t1;
      puVar9[2] = in_t0;
    }
    else {
      puVar9[3] = (int)(in_t2 - (*puVar9 & 0xffff0000)) / iVar4;
      puVar9[4] = (int)(in_t1 - (puVar9[1] & 0xffff0000)) / iVar4;
      puVar9[5] = (int)(in_t0 - (puVar9[2] & 0xffff0000)) / iVar4;
    }
    puVar9 = puVar9 + 6;
    pbVar5 = pbVar5 + 4;
    pbVar8 = pbVar8 + 4;
    puVar7 = puVar7 + 1;
    if (-0x7ff5e4af < (int)pbVar5) {
      if (param_2 == 0) {
        DAT_BATTLE_BIN__800a1b10 = 0;
        iVar4 = DAT_BATTLE_BIN__800a1b18;
        if (DAT_BATTLE_BIN__800a1b18 < 0) {
          iVar4 = DAT_BATTLE_BIN__800a1b18 + 0xffff;
        }
        local_30 = (undefined)((uint)iVar4 >> 0x10);
        iVar4 = DAT_BATTLE_BIN__800a1b1c;
        if (DAT_BATTLE_BIN__800a1b1c < 0) {
          iVar4 = DAT_BATTLE_BIN__800a1b1c + 0xffff;
        }
        local_2f = (undefined)((uint)iVar4 >> 0x10);
        iVar4 = DAT_BATTLE_BIN__800a1b20;
        if (DAT_BATTLE_BIN__800a1b20 < 0) {
          iVar4 = DAT_BATTLE_BIN__800a1b20 + 0xffff;
        }
        local_2e = (undefined)((uint)iVar4 >> 0x10);
        iVar4 = DAT_BATTLE_BIN__800a1b30;
        if (DAT_BATTLE_BIN__800a1b30 < 0) {
          iVar4 = DAT_BATTLE_BIN__800a1b30 + 0xffff;
        }
        local_2c = (undefined)((uint)iVar4 >> 0x10);
        iVar4 = DAT_BATTLE_BIN__800a1b34;
        if (DAT_BATTLE_BIN__800a1b34 < 0) {
          iVar4 = DAT_BATTLE_BIN__800a1b34 + 0xffff;
        }
        local_2b = (undefined)((uint)iVar4 >> 0x10);
        iVar4 = DAT_BATTLE_BIN__800a1b38;
        if (DAT_BATTLE_BIN__800a1b38 < 0) {
          iVar4 = DAT_BATTLE_BIN__800a1b38 + 0xffff;
        }
        local_2a = (undefined)((uint)iVar4 >> 0x10);
        FUN_BATTLE_BIN__800e8190(0x56,(undefined4 *)&local_30);
      }
      else {
        DAT_BATTLE_BIN__800a1b10 = 1;
        DAT_BATTLE_BIN__800a1b11 = 0;
        DAT_BATTLE_BIN__800a1b12 = 0;
        DAT_BATTLE_BIN__800a1b13 = (undefined)param_2;
        if (param_1 == 9) {
          DAT_BATTLE_BIN__800a1b14 = 1;
          DAT_BATTLE_BIN__800a1b15 = (undefined)param_3;
          DAT_BATTLE_BIN__800a1b16 = (undefined)param_4;
          DAT_BATTLE_BIN__800a1b17 = (undefined)param_5;
        }
      }
      return;
    }
  } while( true );
}



void FUN_BATTLE_BIN__80090840(int param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint in_t0;
  uint uVar4;
  uint in_t1;
  uint uVar5;
  uint in_t2;
  uint uVar6;
  undefined local_10;
  undefined local_f;
  undefined local_e;
  
  switch(param_1) {
  case 0:
    in_t2 = param_3 * 0x10000 + DAT_BATTLE_BIN__800a1b58;
    in_t1 = param_4 * 0x10000 + DAT_BATTLE_BIN__800a1b5c;
    uVar4 = DAT_BATTLE_BIN__800a1b60;
    goto LAB_BATTLE_BIN__80090a74;
  case 1:
    in_t2 = (int)DAT_BATTLE_BIN__800a1b58 / 2 + param_3 * 0x10000;
    in_t1 = (int)DAT_BATTLE_BIN__800a1b5c / 2 + param_4 * 0x10000;
    in_t0 = (int)DAT_BATTLE_BIN__800a1b60 / 2 + param_5 * 0x10000;
    break;
  case 2:
    iVar1 = DAT_BATTLE_BIN__800a1b58 * 2 + DAT_BATTLE_BIN__800a1b5c * 3 + DAT_BATTLE_BIN__800a1b60;
    iVar3 = iVar1 >> 0x1f;
    uVar4 = iVar1 / 6 + iVar3;
    goto LAB_BATTLE_BIN__80090a5c;
  case 3:
    iVar3 = DAT_BATTLE_BIN__800a1b5c * 3;
    iVar1 = DAT_BATTLE_BIN__800a1b58 << 1;
    uVar4 = DAT_BATTLE_BIN__800a1b60;
    goto LAB_BATTLE_BIN__80090a44;
  case 4:
  case 9:
    in_t2 = ((uint)(byte)DAT_BATTLE_BIN__800a1b70 + param_3) * 0x10000;
    in_t1 = ((uint)DAT_BATTLE_BIN__800a1b70._1_1_ + param_4) * 0x10000;
    in_t0 = ((uint)DAT_BATTLE_BIN__800a1b70._2_1_ + param_5) * 0x10000;
    break;
  case 5:
    in_t2 = (uint)(byte)DAT_BATTLE_BIN__800a1b70 * 0x8000 + param_3 * 0x10000;
    in_t1 = (uint)DAT_BATTLE_BIN__800a1b70._1_1_ * 0x8000 + param_4 * 0x10000;
    in_t0 = (uint)DAT_BATTLE_BIN__800a1b70._2_1_ * 0x8000 + param_5 * 0x10000;
    break;
  case 6:
    uVar4 = ((uint)(byte)DAT_BATTLE_BIN__800a1b70 * 0x20000 +
             (uint)DAT_BATTLE_BIN__800a1b70._1_1_ * 0x30000 +
            (uint)DAT_BATTLE_BIN__800a1b70._2_1_ * 0x10000) / 6;
    iVar3 = 0;
    goto LAB_BATTLE_BIN__80090a5c;
  case 7:
    iVar1 = (uint)(byte)DAT_BATTLE_BIN__800a1b70 << 0x11;
    iVar3 = (uint)DAT_BATTLE_BIN__800a1b70._1_1_ * 0x30000;
    uVar4 = (uint)DAT_BATTLE_BIN__800a1b70._2_1_ << 0x10;
LAB_BATTLE_BIN__80090a44:
    iVar1 = iVar1 + iVar3 + uVar4;
    iVar3 = iVar1 >> 0x1f;
    uVar4 = iVar1 / 0xc + iVar3;
LAB_BATTLE_BIN__80090a5c:
    uVar4 = uVar4 - iVar3;
    in_t2 = uVar4 + param_3 * 0x10000;
    in_t1 = uVar4 + param_4 * 0x10000;
LAB_BATTLE_BIN__80090a74:
    in_t0 = uVar4 + param_5 * 0x10000;
    break;
  case 8:
    in_t2 = (uint)(byte)DAT_BATTLE_BIN__800a1b70 << 0x10;
    in_t0 = (uint)DAT_BATTLE_BIN__800a1b70._2_1_ << 0x10;
    in_t1 = (uint)DAT_BATTLE_BIN__800a1b70._1_1_ << 0x10;
    break;
  case 10:
    DAT_BATTLE_BIN__800a1b54 = 0;
    return;
  }
  uVar6 = in_t2 & 0xffff0000;
  uVar5 = in_t1 & 0xffff0000;
  uVar4 = in_t0 & 0xffff0000;
  if (0xff0000 < (int)uVar6) {
    uVar6 = 0xff0000;
  }
  if (0xff0000 < (int)uVar5) {
    uVar5 = 0xff0000;
  }
  if (0xff0000 < (int)uVar4) {
    uVar4 = 0xff0000;
  }
  if ((int)uVar6 < 0) {
    uVar6 = 0;
  }
  if ((int)uVar5 < 0) {
    uVar5 = 0;
  }
  if ((int)uVar4 < 0) {
    uVar4 = 0;
  }
  iVar3 = param_2 << 3;
  if (param_2 == 0) {
    DAT_BATTLE_BIN__800a1b50 = 0;
    uVar2 = uVar6;
    if ((int)uVar6 < 0) {
      uVar2 = uVar6 + 0xffff;
    }
    local_10 = (undefined)(uVar2 >> 0x10);
    uVar2 = uVar5;
    if ((int)uVar5 < 0) {
      uVar2 = uVar5 + 0xffff;
    }
    local_f = (undefined)(uVar2 >> 0x10);
    uVar2 = uVar4;
    if ((int)uVar4 < 0) {
      uVar2 = uVar4 + 0xffff;
    }
    local_e = (undefined)(uVar2 >> 0x10);
    DAT_BATTLE_BIN__800a1b58 = uVar6;
    DAT_BATTLE_BIN__800a1b5c = uVar5;
    DAT_BATTLE_BIN__800a1b60 = uVar4;
    FUN_BATTLE_BIN__800e8190(0x5a,(undefined4 *)&local_10);
  }
  else {
    DAT_BATTLE_BIN__800a1b64 = (int)(uVar6 - (DAT_BATTLE_BIN__800a1b58 & 0xffff0000)) / iVar3;
    DAT_BATTLE_BIN__800a1b68 = (int)(uVar5 - (DAT_BATTLE_BIN__800a1b5c & 0xffff0000)) / iVar3;
    DAT_BATTLE_BIN__800a1b6c = (int)(uVar4 - (DAT_BATTLE_BIN__800a1b60 & 0xffff0000)) / iVar3;
    DAT_BATTLE_BIN__800a1b50 = 1;
    DAT_BATTLE_BIN__800a1b51 = 0;
    DAT_BATTLE_BIN__800a1b52 = 0;
    DAT_BATTLE_BIN__800a1b53 = (undefined)param_2;
    if (param_1 == 9) {
      DAT_BATTLE_BIN__800a1b54 = 1;
      DAT_BATTLE_BIN__800a1b55 = (undefined)param_3;
      DAT_BATTLE_BIN__800a1b56 = (undefined)param_4;
      DAT_BATTLE_BIN__800a1b57 = (undefined)param_5;
    }
  }
  return;
}



void FUN_BATTLE_BIN__80090dec(int param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint in_t0;
  uint uVar4;
  uint in_t1;
  uint uVar5;
  uint in_t2;
  uint uVar6;
  undefined local_10;
  undefined local_f;
  undefined local_e;
  
  switch(param_1) {
  case 0:
    in_t2 = param_3 * 0x10000 + DAT_BATTLE_BIN__800a1b7c;
    in_t1 = param_4 * 0x10000 + DAT_BATTLE_BIN__800a1b80;
    uVar4 = DAT_BATTLE_BIN__800a1b84;
    goto LAB_BATTLE_BIN__80091020;
  case 1:
    in_t2 = (int)DAT_BATTLE_BIN__800a1b7c / 2 + param_3 * 0x10000;
    in_t1 = (int)DAT_BATTLE_BIN__800a1b80 / 2 + param_4 * 0x10000;
    in_t0 = (int)DAT_BATTLE_BIN__800a1b84 / 2 + param_5 * 0x10000;
    break;
  case 2:
    iVar1 = DAT_BATTLE_BIN__800a1b7c * 2 + DAT_BATTLE_BIN__800a1b80 * 3 + DAT_BATTLE_BIN__800a1b84;
    iVar3 = iVar1 >> 0x1f;
    uVar4 = iVar1 / 6 + iVar3;
    goto LAB_BATTLE_BIN__80091008;
  case 3:
    iVar3 = DAT_BATTLE_BIN__800a1b80 * 3;
    iVar1 = DAT_BATTLE_BIN__800a1b7c << 1;
    uVar4 = DAT_BATTLE_BIN__800a1b84;
    goto LAB_BATTLE_BIN__80090ff0;
  case 4:
  case 9:
    in_t2 = ((uint)DAT_BATTLE_BIN__800a1b94 + param_3) * 0x10000;
    in_t1 = ((uint)DAT_BATTLE_BIN__800a1b95 + param_4) * 0x10000;
    in_t0 = ((uint)DAT_BATTLE_BIN__800a1b96 + param_5) * 0x10000;
    break;
  case 5:
    in_t2 = (uint)DAT_BATTLE_BIN__800a1b94 * 0x8000 + param_3 * 0x10000;
    in_t1 = (uint)DAT_BATTLE_BIN__800a1b95 * 0x8000 + param_4 * 0x10000;
    in_t0 = (uint)DAT_BATTLE_BIN__800a1b96 * 0x8000 + param_5 * 0x10000;
    break;
  case 6:
    uVar4 = ((uint)DAT_BATTLE_BIN__800a1b94 * 0x20000 + (uint)DAT_BATTLE_BIN__800a1b95 * 0x30000 +
            (uint)DAT_BATTLE_BIN__800a1b96 * 0x10000) / 6;
    iVar3 = 0;
    goto LAB_BATTLE_BIN__80091008;
  case 7:
    iVar1 = (uint)DAT_BATTLE_BIN__800a1b94 << 0x11;
    iVar3 = (uint)DAT_BATTLE_BIN__800a1b95 * 0x30000;
    uVar4 = (uint)DAT_BATTLE_BIN__800a1b96 << 0x10;
LAB_BATTLE_BIN__80090ff0:
    iVar1 = iVar1 + iVar3 + uVar4;
    iVar3 = iVar1 >> 0x1f;
    uVar4 = iVar1 / 0xc + iVar3;
LAB_BATTLE_BIN__80091008:
    uVar4 = uVar4 - iVar3;
    in_t2 = uVar4 + param_3 * 0x10000;
    in_t1 = uVar4 + param_4 * 0x10000;
LAB_BATTLE_BIN__80091020:
    in_t0 = uVar4 + param_5 * 0x10000;
    break;
  case 8:
    in_t2 = (uint)DAT_BATTLE_BIN__800a1b94 << 0x10;
    in_t0 = (uint)DAT_BATTLE_BIN__800a1b96 << 0x10;
    in_t1 = (uint)DAT_BATTLE_BIN__800a1b95 << 0x10;
    break;
  case 10:
    DAT_BATTLE_BIN__800a1b78 = 0;
    return;
  }
  uVar6 = in_t2 & 0xffff0000;
  uVar5 = in_t1 & 0xffff0000;
  uVar4 = in_t0 & 0xffff0000;
  if (0xff0000 < (int)uVar6) {
    uVar6 = 0xff0000;
  }
  if (0xff0000 < (int)uVar5) {
    uVar5 = 0xff0000;
  }
  if (0xff0000 < (int)uVar4) {
    uVar4 = 0xff0000;
  }
  if ((int)uVar6 < 0) {
    uVar6 = 0;
  }
  if ((int)uVar5 < 0) {
    uVar5 = 0;
  }
  if ((int)uVar4 < 0) {
    uVar4 = 0;
  }
  iVar3 = param_2 << 3;
  if (param_2 == 0) {
    DAT_BATTLE_BIN__800a1b74 = 0;
    uVar2 = uVar6;
    if ((int)uVar6 < 0) {
      uVar2 = uVar6 + 0xffff;
    }
    local_10 = (undefined)(uVar2 >> 0x10);
    uVar2 = uVar5;
    if ((int)uVar5 < 0) {
      uVar2 = uVar5 + 0xffff;
    }
    local_f = (undefined)(uVar2 >> 0x10);
    uVar2 = uVar4;
    if ((int)uVar4 < 0) {
      uVar2 = uVar4 + 0xffff;
    }
    local_e = (undefined)(uVar2 >> 0x10);
    DAT_BATTLE_BIN__800a1b7c = uVar6;
    DAT_BATTLE_BIN__800a1b80 = uVar5;
    DAT_BATTLE_BIN__800a1b84 = uVar4;
    FUN_BATTLE_BIN__800e8190(99,(undefined4 *)&local_10);
  }
  else {
    DAT_BATTLE_BIN__800a1b88 = (int)(uVar6 - (DAT_BATTLE_BIN__800a1b7c & 0xffff0000)) / iVar3;
    DAT_BATTLE_BIN__800a1b8c = (int)(uVar5 - (DAT_BATTLE_BIN__800a1b80 & 0xffff0000)) / iVar3;
    DAT_BATTLE_BIN__800a1b90 = (int)(uVar4 - (DAT_BATTLE_BIN__800a1b84 & 0xffff0000)) / iVar3;
    DAT_BATTLE_BIN__800a1b74 = 1;
    DAT_BATTLE_BIN__800a1b75 = 0;
    DAT_BATTLE_BIN__800a1b76 = 0;
    DAT_BATTLE_BIN__800a1b77 = (undefined)param_2;
    if (param_1 == 9) {
      DAT_BATTLE_BIN__800a1b78 = 1;
      DAT_BATTLE_BIN__800a1b79 = (undefined)param_3;
      DAT_BATTLE_BIN__800a1b7a = (undefined)param_4;
      DAT_BATTLE_BIN__800a1b7b = (undefined)param_5;
    }
  }
  return;
}



int FUN_BATTLE_BIN__800911f4(char param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4)

{
  char *pcVar1;
  int iVar2;
  
  iVar2 = 0;
  pcVar1 = &DAT_BATTLE_BIN__800a1b98;
  do {
    if (*pcVar1 == '\0') {
      *pcVar1 = '\x01';
      *(undefined2 *)(pcVar1 + 4) = param_2;
      *(undefined2 *)(pcVar1 + 6) = param_3;
      *(undefined2 *)(pcVar1 + 8) = param_4;
      pcVar1[2] = param_1;
      return iVar2 + 1;
    }
    iVar2 = iVar2 + 1;
    pcVar1 = pcVar1 + 10;
  } while (iVar2 < 8);
  return 0;
}



bool FUN_BATTLE_BIN__80091248(int param_1)

{
  bool bVar1;
  
  bVar1 = param_1 - 1U < 8;
  if (bVar1) {
    (&DAT_BATTLE_BIN__800a1b98)[param_1 * 10] = 0;
  }
  return bVar1;
}



void FUN_BATTLE_BIN__80091280(void)

{
  int iVar1;
  
  iVar1 = 0x46;
  do {
    (&DAT_BATTLE_BIN__800a1b98)[iVar1] = 0;
    iVar1 = iVar1 + -10;
  } while (-1 < iVar1);
  return;
}



void FUN_BATTLE_BIN__800912a4(void)

{
  undefined uVar1;
  undefined uVar2;
  undefined uVar3;
  char cVar4;
  ushort uVar5;
  undefined2 uVar6;
  undefined2 uVar7;
  byte bVar8;
  undefined4 uVar9;
  int iVar10;
  undefined1 *puVar11;
  uint uVar12;
  undefined1 *puVar13;
  byte *pbVar14;
  uint uVar15;
  int *piVar16;
  uint uVar17;
  int iVar18;
  uint uVar19;
  short *psVar20;
  int iVar21;
  int iVar22;
  int iVar23;
  int iVar24;
  short *psVar25;
  undefined4 *puVar26;
  undefined local_38;
  undefined local_37;
  undefined local_36;
  undefined local_34;
  undefined local_33;
  undefined local_32;
  undefined1 *local_30;
  
  iVar23 = 0;
  iVar21 = 0;
  do {
    if (((&DAT_BATTLE_BIN__800a1b98)[iVar21] != '\0') &&
       ((&DAT_BATTLE_BIN__800a1b99)[iVar21] = (&DAT_BATTLE_BIN__800a1b99)[iVar21] + '\x01',
       (byte)(&DAT_BATTLE_BIN__800a1b9a)[iVar21] <= (byte)(&DAT_BATTLE_BIN__800a1b99)[iVar21])) {
      uVar5 = *(ushort *)((int)&DAT_BATTLE_BIN__800a1b9c + iVar21);
      (&DAT_BATTLE_BIN__800a1b99)[iVar21] = 0;
      iVar10 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1ba0 + iVar21) * 7 + (uint)uVar5 * 0x982;
      uVar9 = *(undefined4 *)(&DAT_BATTLE_BIN__800995f4 + iVar10 + 0x82);
      uVar1 = (&DAT_BATTLE_BIN__800995f4)[iVar10 + 0x86];
      uVar2 = (&DAT_BATTLE_BIN__800995f4)[iVar10 + 0x87];
      uVar3 = (&DAT_BATTLE_BIN__800995f4)[iVar10 + 0x88];
      uVar15 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1ba0 + iVar21);
      uVar12 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9e + iVar21);
      puVar11 = &DAT_BATTLE_BIN__800995f4 + uVar15 * 2 + (uint)uVar5 * 0x982;
      uVar6 = *(undefined2 *)(puVar11 + 0x782);
      uVar7 = (&DAT_BATTLE_BIN__800e4ea4)
              [(uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9c + iVar21) * 0x100 + uVar15];
      if (uVar12 < uVar15) {
        if (uVar12 < uVar15) {
          puVar13 = &DAT_BATTLE_BIN__800995f4 + uVar15 * 7 + (uint)uVar5 * 0x982;
          do {
            *(undefined4 *)(puVar13 + 0x82) = *(undefined4 *)(puVar13 + 0x7b);
            puVar13[0x86] = puVar13[0x7f];
            puVar13[0x87] = puVar13[0x80];
            puVar13[0x88] = puVar13[0x81];
            puVar13 = puVar13 + -7;
            *(undefined2 *)(puVar11 + 0x782) = *(undefined2 *)(puVar11 + 0x780);
            iVar10 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9c + iVar21) * 0x100 + uVar15;
            uVar15 = uVar15 - 1;
            (&DAT_BATTLE_BIN__800e4ea4)[iVar10] = (&DAT_BATTLE_BIN__800e4ea4 + iVar10)[-1];
            puVar11 = puVar11 + -2;
          } while ((int)(uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9e + iVar21) < (int)uVar15);
        }
      }
      else if (uVar15 < uVar12) {
        puVar13 = &DAT_BATTLE_BIN__800995f4 + uVar15 * 7 + (uint)uVar5 * 0x982;
        do {
          *(undefined4 *)(puVar13 + 0x82) = *(undefined4 *)(puVar13 + 0x89);
          puVar13[0x86] = puVar13[0x8d];
          puVar13[0x87] = puVar13[0x8e];
          puVar13[0x88] = puVar13[0x8f];
          puVar13 = puVar13 + 7;
          *(undefined2 *)(puVar11 + 0x782) = *(undefined2 *)(puVar11 + 0x784);
          iVar10 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9c + iVar21) * 0x100 + uVar15;
          uVar15 = uVar15 + 1;
          (&DAT_BATTLE_BIN__800e4ea4)[iVar10] = (&DAT_BATTLE_BIN__800e4ea4 + iVar10)[1];
          puVar11 = puVar11 + 2;
        } while ((int)uVar15 < (int)(uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9e + iVar21));
      }
      iVar10 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9e + iVar21) * 7 + (uint)uVar5 * 0x982;
      *(undefined4 *)(&DAT_BATTLE_BIN__800995f4 + iVar10 + 0x82) = uVar9;
      (&DAT_BATTLE_BIN__800995f4)[iVar10 + 0x86] = uVar1;
      (&DAT_BATTLE_BIN__800995f4)[iVar10 + 0x87] = uVar2;
      (&DAT_BATTLE_BIN__800995f4)[iVar10 + 0x88] = uVar3;
      *(undefined2 *)
       (&DAT_BATTLE_BIN__800995f4 +
       (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9e + iVar21) * 2 + (uint)uVar5 * 0x982 + 0x782)
           = uVar6;
      (&DAT_BATTLE_BIN__800e4ea4)
      [(uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9c + iVar21) * 0x100 +
       (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800a1b9e + iVar21)] = uVar7;
      DAT_BATTLE_BIN__800995ec = 1;
    }
    iVar23 = iVar23 + 1;
    iVar21 = iVar21 + 10;
  } while (iVar23 < 8);
  iVar21 = 0;
  bVar8 = DAT_BATTLE_BIN__800a1b11;
  if (DAT_BATTLE_BIN__800a1b10 != '\0') {
    piVar16 = &DAT_BATTLE_BIN__800a1b18;
    do {
      iVar21 = iVar21 + 1;
      *piVar16 = *piVar16 + piVar16[3];
      piVar16[1] = piVar16[1] + piVar16[4];
      piVar16[2] = piVar16[2] + piVar16[5];
      piVar16 = piVar16 + 6;
    } while (iVar21 < 2);
    iVar21 = DAT_BATTLE_BIN__800a1b18;
    if (DAT_BATTLE_BIN__800a1b18 < 0) {
      iVar21 = DAT_BATTLE_BIN__800a1b18 + 0xffff;
    }
    local_38 = (undefined)((uint)iVar21 >> 0x10);
    iVar21 = DAT_BATTLE_BIN__800a1b1c;
    if (DAT_BATTLE_BIN__800a1b1c < 0) {
      iVar21 = DAT_BATTLE_BIN__800a1b1c + 0xffff;
    }
    local_37 = (undefined)((uint)iVar21 >> 0x10);
    iVar21 = DAT_BATTLE_BIN__800a1b20;
    if (DAT_BATTLE_BIN__800a1b20 < 0) {
      iVar21 = DAT_BATTLE_BIN__800a1b20 + 0xffff;
    }
    local_36 = (undefined)((uint)iVar21 >> 0x10);
    iVar21 = DAT_BATTLE_BIN__800a1b30;
    if (DAT_BATTLE_BIN__800a1b30 < 0) {
      iVar21 = DAT_BATTLE_BIN__800a1b30 + 0xffff;
    }
    local_34 = (undefined)((uint)iVar21 >> 0x10);
    iVar21 = DAT_BATTLE_BIN__800a1b34;
    if (DAT_BATTLE_BIN__800a1b34 < 0) {
      iVar21 = DAT_BATTLE_BIN__800a1b34 + 0xffff;
    }
    local_33 = (undefined)((uint)iVar21 >> 0x10);
    iVar21 = DAT_BATTLE_BIN__800a1b38;
    if (DAT_BATTLE_BIN__800a1b38 < 0) {
      iVar21 = DAT_BATTLE_BIN__800a1b38 + 0xffff;
    }
    local_32 = (undefined)((uint)iVar21 >> 0x10);
    FUN_BATTLE_BIN__800e8190(0x56,(undefined4 *)&local_38);
    if (DAT_BATTLE_BIN__800a1b13 < 4) {
      bVar8 = DAT_BATTLE_BIN__800a1b11 + 1;
      if ((uint)DAT_BATTLE_BIN__800a1b13 << 3 <= (uint)(byte)(DAT_BATTLE_BIN__800a1b11 + 1)) {
        if (DAT_BATTLE_BIN__800a1b14 == '\x01') {
LAB_BATTLE_BIN__80091740:
          DAT_BATTLE_BIN__800a1b11 = DAT_BATTLE_BIN__800a1b11 + 1;
          FUN_BATTLE_BIN__80090258(8,(uint)DAT_BATTLE_BIN__800a1b13,0,0,0);
          DAT_BATTLE_BIN__800a1b14 = '\x02';
          bVar8 = DAT_BATTLE_BIN__800a1b11;
        }
        else {
          if (DAT_BATTLE_BIN__800a1b14 == '\x02') goto LAB_BATTLE_BIN__80091760;
LAB_BATTLE_BIN__80091790:
          DAT_BATTLE_BIN__800a1b11 = DAT_BATTLE_BIN__800a1b11 + 1;
          DAT_BATTLE_BIN__800a1b10 = '\0';
          bVar8 = DAT_BATTLE_BIN__800a1b11;
        }
      }
    }
    else {
      DAT_BATTLE_BIN__800a1b12 = DAT_BATTLE_BIN__800a1b12 + 1;
      bVar8 = DAT_BATTLE_BIN__800a1b11;
      if (DAT_BATTLE_BIN__800a1b13 >> 2 <= DAT_BATTLE_BIN__800a1b12) {
        DAT_BATTLE_BIN__800a1b12 = 0;
        bVar8 = DAT_BATTLE_BIN__800a1b11 + 1;
        if (0x1f < (byte)(DAT_BATTLE_BIN__800a1b11 + 1)) {
          if (DAT_BATTLE_BIN__800a1b14 == '\x01') goto LAB_BATTLE_BIN__80091740;
          if (DAT_BATTLE_BIN__800a1b14 != '\x02') goto LAB_BATTLE_BIN__80091790;
LAB_BATTLE_BIN__80091760:
          DAT_BATTLE_BIN__800a1b11 = DAT_BATTLE_BIN__800a1b11 + 1;
          FUN_BATTLE_BIN__80090258
                    (9,(uint)DAT_BATTLE_BIN__800a1b13,(uint)DAT_BATTLE_BIN__800a1b15,
                     (uint)DAT_BATTLE_BIN__800a1b16,(uint)DAT_BATTLE_BIN__800a1b17);
          DAT_BATTLE_BIN__800a1b14 = '\x01';
          bVar8 = DAT_BATTLE_BIN__800a1b11;
        }
      }
    }
  }
  DAT_BATTLE_BIN__800a1b11 = bVar8;
  bVar8 = DAT_BATTLE_BIN__800a1b51;
  if (DAT_BATTLE_BIN__800a1b50 != '\0') {
    DAT_BATTLE_BIN__800a1b58 = DAT_BATTLE_BIN__800a1b58 + DAT_BATTLE_BIN__800a1b64;
    DAT_BATTLE_BIN__800a1b5c = DAT_BATTLE_BIN__800a1b5c + DAT_BATTLE_BIN__800a1b68;
    DAT_BATTLE_BIN__800a1b60 = DAT_BATTLE_BIN__800a1b60 + DAT_BATTLE_BIN__800a1b6c;
    local_38 = (undefined)((uint)DAT_BATTLE_BIN__800a1b58 >> 0x10);
    if (DAT_BATTLE_BIN__800a1b58 < 0) {
      local_38 = (undefined)((uint)(DAT_BATTLE_BIN__800a1b58 + 0xffff) >> 0x10);
    }
    iVar21 = DAT_BATTLE_BIN__800a1b5c;
    if (DAT_BATTLE_BIN__800a1b5c < 0) {
      iVar21 = DAT_BATTLE_BIN__800a1b5c + 0xffff;
    }
    local_37 = (undefined)((uint)iVar21 >> 0x10);
    iVar21 = DAT_BATTLE_BIN__800a1b60;
    if (DAT_BATTLE_BIN__800a1b60 < 0) {
      iVar21 = DAT_BATTLE_BIN__800a1b60 + 0xffff;
    }
    local_36 = (undefined)((uint)iVar21 >> 0x10);
    FUN_BATTLE_BIN__800e8190(0x5a,(undefined4 *)&local_38);
    uVar12 = (uint)DAT_BATTLE_BIN__800a1b53;
    if (uVar12 < 4) {
      bVar8 = DAT_BATTLE_BIN__800a1b51 + 1;
      if (uVar12 << 3 <= (uint)bVar8) {
        if (DAT_BATTLE_BIN__800a1b54 == '\x01') {
LAB_BATTLE_BIN__8009192c:
          DAT_BATTLE_BIN__800a1b51 = DAT_BATTLE_BIN__800a1b51 + 1;
          FUN_BATTLE_BIN__80090840(8,uVar12,0,0,0);
          DAT_BATTLE_BIN__800a1b54 = '\x02';
          bVar8 = DAT_BATTLE_BIN__800a1b51;
        }
        else if (DAT_BATTLE_BIN__800a1b54 == '\x02') {
LAB_BATTLE_BIN__80091958:
          DAT_BATTLE_BIN__800a1b51 = DAT_BATTLE_BIN__800a1b51 + 1;
          FUN_BATTLE_BIN__80090840
                    (9,uVar12,(uint)DAT_BATTLE_BIN__800a1b55,(uint)DAT_BATTLE_BIN__800a1b56,
                     (uint)DAT_BATTLE_BIN__800a1b57);
          DAT_BATTLE_BIN__800a1b54 = '\x01';
          bVar8 = DAT_BATTLE_BIN__800a1b51;
        }
        else {
          DAT_BATTLE_BIN__800a1b50 = '\0';
        }
      }
    }
    else {
      DAT_BATTLE_BIN__800a1b52 = DAT_BATTLE_BIN__800a1b52 + 1;
      bVar8 = DAT_BATTLE_BIN__800a1b51;
      if (DAT_BATTLE_BIN__800a1b53 >> 2 <= DAT_BATTLE_BIN__800a1b52) {
        DAT_BATTLE_BIN__800a1b52 = 0;
        bVar8 = DAT_BATTLE_BIN__800a1b51 + 1;
        if (0x1f < bVar8) {
          if (DAT_BATTLE_BIN__800a1b54 == '\x01') goto LAB_BATTLE_BIN__8009192c;
          if (DAT_BATTLE_BIN__800a1b54 == '\x02') goto LAB_BATTLE_BIN__80091958;
          DAT_BATTLE_BIN__800a1b50 = '\0';
        }
      }
    }
  }
  DAT_BATTLE_BIN__800a1b51 = bVar8;
  if (DAT_BATTLE_BIN__800a1b74 == '\0') goto LAB_BATTLE_BIN__80091c38;
  DAT_BATTLE_BIN__800a1b7c = DAT_BATTLE_BIN__800a1b7c + DAT_BATTLE_BIN__800a1b88;
  DAT_BATTLE_BIN__800a1b80 = DAT_BATTLE_BIN__800a1b80 + DAT_BATTLE_BIN__800a1b8c;
  DAT_BATTLE_BIN__800a1b84 = DAT_BATTLE_BIN__800a1b84 + DAT_BATTLE_BIN__800a1b90;
  local_38 = (undefined)((uint)DAT_BATTLE_BIN__800a1b7c >> 0x10);
  if (DAT_BATTLE_BIN__800a1b7c < 0) {
    local_38 = (undefined)((uint)(DAT_BATTLE_BIN__800a1b7c + 0xffff) >> 0x10);
  }
  iVar21 = DAT_BATTLE_BIN__800a1b80;
  if (DAT_BATTLE_BIN__800a1b80 < 0) {
    iVar21 = DAT_BATTLE_BIN__800a1b80 + 0xffff;
  }
  local_37 = (undefined)((uint)iVar21 >> 0x10);
  iVar21 = DAT_BATTLE_BIN__800a1b84;
  if (DAT_BATTLE_BIN__800a1b84 < 0) {
    iVar21 = DAT_BATTLE_BIN__800a1b84 + 0xffff;
  }
  local_36 = (undefined)((uint)iVar21 >> 0x10);
  FUN_BATTLE_BIN__800e8190(99,(undefined4 *)&local_38);
  uVar12 = (uint)DAT_BATTLE_BIN__800a1b77;
  if (uVar12 < 4) {
    bVar8 = DAT_BATTLE_BIN__800a1b75 + 1;
    if (uVar12 << 3 <= (uint)bVar8) {
      if (DAT_BATTLE_BIN__800a1b78 == '\x01') {
LAB_BATTLE_BIN__80091b28:
        DAT_BATTLE_BIN__800a1b75 = DAT_BATTLE_BIN__800a1b75 + 1;
        FUN_BATTLE_BIN__80090dec(8,uVar12,0,0,0);
        DAT_BATTLE_BIN__800a1b78 = '\x02';
        bVar8 = DAT_BATTLE_BIN__800a1b75;
      }
      else if (DAT_BATTLE_BIN__800a1b78 == '\x02') {
LAB_BATTLE_BIN__80091b54:
        DAT_BATTLE_BIN__800a1b75 = DAT_BATTLE_BIN__800a1b75 + 1;
        FUN_BATTLE_BIN__80090dec
                  (9,uVar12,(uint)DAT_BATTLE_BIN__800a1b79,(uint)DAT_BATTLE_BIN__800a1b7a,
                   (uint)DAT_BATTLE_BIN__800a1b7b);
        DAT_BATTLE_BIN__800a1b78 = '\x01';
        bVar8 = DAT_BATTLE_BIN__800a1b75;
      }
      else {
        DAT_BATTLE_BIN__800a1b74 = '\0';
      }
    }
  }
  else {
    DAT_BATTLE_BIN__800a1b76 = DAT_BATTLE_BIN__800a1b76 + 1;
    bVar8 = DAT_BATTLE_BIN__800a1b75;
    if (DAT_BATTLE_BIN__800a1b77 >> 2 <= DAT_BATTLE_BIN__800a1b76) {
      DAT_BATTLE_BIN__800a1b76 = 0;
      bVar8 = DAT_BATTLE_BIN__800a1b75 + 1;
      if (0x1f < bVar8) {
        if (DAT_BATTLE_BIN__800a1b78 == '\x01') goto LAB_BATTLE_BIN__80091b28;
        if (DAT_BATTLE_BIN__800a1b78 == '\x02') goto LAB_BATTLE_BIN__80091b54;
        DAT_BATTLE_BIN__800a1b74 = '\0';
      }
    }
  }
  DAT_BATTLE_BIN__800a1b75 = bVar8;
  if ((DAT_BATTLE_BIN__800b6698 & 2) != 0) {
    iVar21 = DAT_BATTLE_BIN__800a1b7c;
    if (DAT_BATTLE_BIN__800a1b7c < 0) {
      iVar21 = DAT_BATTLE_BIN__800a1b7c + 0x7ffff;
    }
    iVar23 = DAT_BATTLE_BIN__800a1b80;
    if (DAT_BATTLE_BIN__800a1b80 < 0) {
      iVar23 = DAT_BATTLE_BIN__800a1b80 + 0x7ffff;
    }
    iVar10 = DAT_BATTLE_BIN__800a1b84;
    if (DAT_BATTLE_BIN__800a1b84 < 0) {
      iVar10 = DAT_BATTLE_BIN__800a1b84 + 0x7ffff;
    }
    DAT_BATTLE_BIN__800e4ea4 =
         (short)(iVar21 >> 0x13) + (short)(iVar23 >> 0x13) * 0x20 + (short)(iVar10 >> 0x13) * 0x400
         + -0x8000;
    DAT_BATTLE_BIN__800995ec = 1;
  }
LAB_BATTLE_BIN__80091c38:
  iVar23 = 0;
  iVar21 = 0;
  puVar26 = &DAT_BATTLE_BIN__800995ec;
  psVar25 = &DAT_BATTLE_BIN__800e4ea4;
  local_30 = &DAT_BATTLE_BIN__80099676;
  do {
    puVar11 = local_30;
    iVar10 = 0;
    if ((&DAT_BATTLE_BIN__800995f4)[iVar21] == '\0') {
      iVar24 = 0;
      iVar22 = iVar21;
      do {
        if ((&DAT_BATTLE_BIN__800995f6)[iVar22] != '\0') {
          iVar18 = 0;
          if ((byte)(&DAT_BATTLE_BIN__800995f9)[iVar22] < 4) {
            uVar12 = (uint)(byte)(&DAT_BATTLE_BIN__800995f7)[iVar22];
            pbVar14 = puVar11 + iVar24;
            do {
              if ((uint)*pbVar14 + (uint)pbVar14[1] + (uint)pbVar14[2] != 0) {
                uVar19 = (uint)*pbVar14 +
                         (int)*(char *)((uint)pbVar14[4] * 8 + -0x7ff6a13c + uVar12);
                uVar17 = (uint)pbVar14[1] +
                         (int)*(char *)((uint)pbVar14[5] * 8 + -0x7ff6a13c + uVar12);
                uVar15 = (uint)pbVar14[2] +
                         (int)*(char *)((uint)pbVar14[6] * 8 + -0x7ff6a13c + uVar12);
                if ((uVar15 | uVar19 | uVar17) == 0) {
                  uVar15 = 1;
                }
                pbVar14[2] = (byte)uVar15;
                *pbVar14 = (byte)uVar19;
                pbVar14[1] = (byte)uVar17;
                psVar25[iVar10 * 0x10 + iVar18] =
                     (short)uVar19 + (short)uVar17 * 0x20 + (short)uVar15 * 0x400 +
                     (ushort)pbVar14[3] * -0x8000;
              }
              iVar18 = iVar18 + 1;
              pbVar14 = pbVar14 + 7;
            } while (iVar18 < 0x10);
            cVar4 = (&DAT_BATTLE_BIN__800995f7)[iVar22];
            (&DAT_BATTLE_BIN__800995f7)[iVar22] = cVar4 + 1U;
            if (7 < (byte)(cVar4 + 1U)) {
              if ((&DAT_BATTLE_BIN__800995fa)[iVar22] == '\x01') {
LAB_BATTLE_BIN__80091fb8:
                FUN_BATTLE_BIN__8008f710
                          (8,(uint)(byte)(&DAT_BATTLE_BIN__800995f9)[iVar22],iVar23,iVar10,0,0,0,0);
                (&DAT_BATTLE_BIN__800995fa)[iVar22] = 2;
              }
              else {
                if ((&DAT_BATTLE_BIN__800995fa)[iVar22] != '\x02') goto LAB_BATTLE_BIN__8009206c;
LAB_BATTLE_BIN__80092004:
                FUN_BATTLE_BIN__8008f710
                          (9,(uint)(byte)(&DAT_BATTLE_BIN__800995f9)[iVar22],iVar23,iVar10,0,
                           (ushort)(byte)(&DAT_BATTLE_BIN__800995fb)[iVar22],
                           (ushort)(byte)(&DAT_BATTLE_BIN__800995fc)[iVar22],
                           (ushort)(byte)(&DAT_BATTLE_BIN__800995fd)[iVar22]);
                (&DAT_BATTLE_BIN__800995fa)[iVar22] = 1;
              }
            }
          }
          else {
            cVar4 = (&DAT_BATTLE_BIN__800995f8)[iVar22];
            (&DAT_BATTLE_BIN__800995f8)[iVar22] = cVar4 + 1U;
            if ((byte)((byte)(&DAT_BATTLE_BIN__800995f9)[iVar22] >> 2) <= (byte)(cVar4 + 1U)) {
              iVar18 = 0;
              uVar12 = (uint)(byte)(&DAT_BATTLE_BIN__800995f7)[iVar22];
              pbVar14 = puVar11 + iVar24;
              (&DAT_BATTLE_BIN__800995f8)[iVar22] = 0;
              do {
                if ((uint)*pbVar14 + (uint)pbVar14[1] + (uint)pbVar14[2] != 0) {
                  uVar19 = (uint)*pbVar14 +
                           (int)*(char *)((uint)pbVar14[4] * 0x20 + -0x7ff6a91c + uVar12);
                  uVar17 = (uint)pbVar14[1] +
                           (int)*(char *)((uint)pbVar14[5] * 0x20 + -0x7ff6a91c + uVar12);
                  uVar15 = (uint)pbVar14[2] +
                           (int)*(char *)((uint)pbVar14[6] * 0x20 + -0x7ff6a91c + uVar12);
                  if ((uVar15 | uVar19 | uVar17) == 0) {
                    uVar15 = 1;
                  }
                  pbVar14[2] = (byte)uVar15;
                  *pbVar14 = (byte)uVar19;
                  pbVar14[1] = (byte)uVar17;
                  psVar25[iVar10 * 0x10 + iVar18] =
                       (short)uVar19 + (short)uVar17 * 0x20 + (short)uVar15 * 0x400 +
                       (ushort)pbVar14[3] * -0x8000;
                }
                iVar18 = iVar18 + 1;
                pbVar14 = pbVar14 + 7;
              } while (iVar18 < 0x10);
              cVar4 = (&DAT_BATTLE_BIN__800995f7)[iVar22];
              (&DAT_BATTLE_BIN__800995f7)[iVar22] = cVar4 + 1U;
              if (0x1f < (byte)(cVar4 + 1U)) {
                if ((&DAT_BATTLE_BIN__800995fa)[iVar22] == '\x01') goto LAB_BATTLE_BIN__80091fb8;
                if ((&DAT_BATTLE_BIN__800995fa)[iVar22] == '\x02') goto LAB_BATTLE_BIN__80092004;
LAB_BATTLE_BIN__8009206c:
                (&DAT_BATTLE_BIN__800995f6)[iVar22] = 0;
              }
            }
          }
          DAT_BATTLE_BIN__800995ec = 1;
        }
        iVar22 = iVar22 + 8;
        iVar10 = iVar10 + 1;
        iVar24 = iVar24 + 0x70;
      } while (iVar10 < 0x10);
    }
    else if ((&DAT_BATTLE_BIN__800995f6)[iVar21] != '\0') {
      iVar10 = 0;
      if ((byte)(&DAT_BATTLE_BIN__800995f9)[iVar21] < 4) {
        uVar12 = (uint)(byte)(&DAT_BATTLE_BIN__800995f7)[iVar21];
        pbVar14 = &DAT_BATTLE_BIN__80099676 + iVar21;
        psVar20 = psVar25;
        do {
          if ((uint)*pbVar14 + (uint)pbVar14[1] + (uint)pbVar14[2] != 0) {
            uVar19 = (uint)*pbVar14 + (int)*(char *)((uint)pbVar14[4] * 8 + -0x7ff6a13c + uVar12);
            uVar17 = (uint)pbVar14[1] + (int)*(char *)((uint)pbVar14[5] * 8 + -0x7ff6a13c + uVar12);
            uVar15 = (uint)pbVar14[2] + (int)*(char *)((uint)pbVar14[6] * 8 + -0x7ff6a13c + uVar12);
            if ((uVar15 | uVar19 | uVar17) == 0) {
              uVar15 = 1;
            }
            *pbVar14 = (byte)uVar19;
            pbVar14[1] = (byte)uVar17;
            pbVar14[2] = (byte)uVar15;
            *psVar20 = (short)uVar19 + (short)uVar17 * 0x20 + (short)uVar15 * 0x400 +
                       (ushort)pbVar14[3] * -0x8000;
          }
          psVar20 = psVar20 + 1;
          iVar10 = iVar10 + 1;
          pbVar14 = pbVar14 + 7;
        } while (iVar10 < 0x100);
        cVar4 = (&DAT_BATTLE_BIN__800995f7)[iVar21];
        *(byte *)((int)puVar26 + 0xb) = cVar4 + 1U;
        if (7 < (byte)(cVar4 + 1U)) {
          if ((&DAT_BATTLE_BIN__800995fa)[iVar21] == '\x01') {
LAB_BATTLE_BIN__800923c8:
            FUN_BATTLE_BIN__8008f710
                      (8,(uint)(byte)(&DAT_BATTLE_BIN__800995f9)[iVar21],iVar23,0,1,0,0,0);
            (&DAT_BATTLE_BIN__800995fa)[iVar21] = 2;
          }
          else {
            iVar10 = 0xf;
            if ((&DAT_BATTLE_BIN__800995fa)[iVar21] == '\x02') {
LAB_BATTLE_BIN__80092414:
              FUN_BATTLE_BIN__8008f710
                        (9,(uint)(byte)(&DAT_BATTLE_BIN__800995f9)[iVar21],iVar23,0,1,
                         (ushort)(byte)(&DAT_BATTLE_BIN__800995fb)[iVar21],
                         (ushort)(byte)(&DAT_BATTLE_BIN__800995fc)[iVar21],
                         (ushort)(byte)(&DAT_BATTLE_BIN__800995fd)[iVar21]);
              (&DAT_BATTLE_BIN__800995fa)[iVar21] = 1;
            }
            else {
              iVar22 = iVar21 + 0x78;
              do {
                (&DAT_BATTLE_BIN__800995f6)[iVar22] = 0;
                iVar10 = iVar10 + -1;
                iVar22 = iVar22 + -8;
              } while (-1 < iVar10);
            }
          }
        }
      }
      else {
        cVar4 = (&DAT_BATTLE_BIN__800995f8)[iVar21];
        *(byte *)(puVar26 + 3) = cVar4 + 1U;
        if ((byte)((byte)(&DAT_BATTLE_BIN__800995f9)[iVar21] >> 2) <= (byte)(cVar4 + 1U)) {
          uVar12 = (uint)(byte)(&DAT_BATTLE_BIN__800995f7)[iVar21];
          pbVar14 = &DAT_BATTLE_BIN__80099676 + iVar21;
          (&DAT_BATTLE_BIN__800995f8)[iVar21] = 0;
          psVar20 = psVar25;
          do {
            if ((uint)*pbVar14 + (uint)pbVar14[1] + (uint)pbVar14[2] != 0) {
              uVar19 = (uint)*pbVar14 +
                       (int)*(char *)((uint)pbVar14[4] * 0x20 + -0x7ff6a91c + uVar12);
              uVar17 = (uint)pbVar14[1] +
                       (int)*(char *)((uint)pbVar14[5] * 0x20 + -0x7ff6a91c + uVar12);
              uVar15 = (uint)pbVar14[2] +
                       (int)*(char *)((uint)pbVar14[6] * 0x20 + -0x7ff6a91c + uVar12);
              if ((uVar15 | uVar19 | uVar17) == 0) {
                uVar15 = 1;
              }
              *pbVar14 = (byte)uVar19;
              pbVar14[1] = (byte)uVar17;
              pbVar14[2] = (byte)uVar15;
              *psVar20 = (short)uVar19 + (short)uVar17 * 0x20 + (short)uVar15 * 0x400 +
                         (ushort)pbVar14[3] * -0x8000;
            }
            psVar20 = psVar20 + 1;
            iVar10 = iVar10 + 1;
            pbVar14 = pbVar14 + 7;
          } while (iVar10 < 0x100);
          cVar4 = (&DAT_BATTLE_BIN__800995f7)[iVar21];
          *(byte *)((int)puVar26 + 0xb) = cVar4 + 1U;
          if (0x1f < (byte)(cVar4 + 1U)) {
            if ((&DAT_BATTLE_BIN__800995fa)[iVar21] == '\x01') goto LAB_BATTLE_BIN__800923c8;
            iVar10 = 0xf;
            if ((&DAT_BATTLE_BIN__800995fa)[iVar21] == '\x02') goto LAB_BATTLE_BIN__80092414;
            iVar22 = iVar21 + 0x78;
            do {
              (&DAT_BATTLE_BIN__800995f6)[iVar22] = 0;
              iVar10 = iVar10 + -1;
              iVar22 = iVar22 + -8;
            } while (-1 < iVar10);
          }
        }
      }
      if ((iVar23 == 0) && ((DAT_BATTLE_BIN__800b6698 & 2) != 0)) {
        iVar10 = DAT_BATTLE_BIN__800a1b7c;
        if (DAT_BATTLE_BIN__800a1b7c < 0) {
          iVar10 = DAT_BATTLE_BIN__800a1b7c + 0x7ffff;
        }
        iVar22 = DAT_BATTLE_BIN__800a1b80;
        if (DAT_BATTLE_BIN__800a1b80 < 0) {
          iVar22 = DAT_BATTLE_BIN__800a1b80 + 0x7ffff;
        }
        iVar24 = DAT_BATTLE_BIN__800a1b84;
        if (DAT_BATTLE_BIN__800a1b84 < 0) {
          iVar24 = DAT_BATTLE_BIN__800a1b84 + 0x7ffff;
        }
        DAT_BATTLE_BIN__800e4ea4 =
             (short)(iVar10 >> 0x13) + (short)(iVar22 >> 0x13) * 0x20 +
             (short)(iVar24 >> 0x13) * 0x400 + -0x8000;
      }
      DAT_BATTLE_BIN__800995ec = 1;
    }
    iVar21 = iVar21 + 0x982;
    puVar26 = (undefined4 *)((int)puVar26 + 0x982);
    psVar25 = psVar25 + 0x100;
    iVar23 = iVar23 + 1;
    local_30 = local_30 + 0x982;
    if (0xd < iVar23) {
      return;
    }
  } while( true );
}



void FUN_BATTLE_BIN__80092620(ushort *param_1,int param_2,int param_3)

{
  ushort uVar1;
  byte *pbVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  do {
    uVar1 = *param_1;
    iVar3 = param_3 * 0x10 + iVar4;
    iVar4 = iVar4 + 1;
    (&DAT_BATTLE_BIN__800e4ea4)[param_2 * 0x100 + iVar3] = uVar1;
    pbVar2 = &DAT_BATTLE_BIN__80099676 + iVar3 * 7 + param_2 * 0x982;
    *(ushort *)(&DAT_BATTLE_BIN__80099d76 + iVar3 * 2 + param_2 * 0x982) = uVar1;
    *pbVar2 = (byte)uVar1 & 0x1f;
    pbVar2[1] = (byte)((uVar1 & 0x3e0) >> 5);
    pbVar2[2] = (byte)((uVar1 & 0x7c00) >> 10);
    pbVar2[3] = (byte)(uVar1 >> 0xf);
    param_1 = param_1 + 1;
  } while (iVar4 < 0x10);
  return;
}



void FUN_BATTLE_BIN__800926d8(ushort *param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  
  iVar2 = param_2 * 0x982;
  if ((&DAT_BATTLE_BIN__800995f5)[iVar2] == '\0') {
    iVar1 = 0xf;
    if (param_4 == 1) {
      iVar2 = iVar2 + 0x78;
      do {
        (&DAT_BATTLE_BIN__800995f6)[iVar2] = 0;
        iVar1 = iVar1 + -1;
        iVar2 = iVar2 + -8;
      } while (-1 < iVar1);
      iVar2 = 0;
      do {
        FUN_BATTLE_BIN__80092620(param_1,param_2,iVar2);
        iVar2 = iVar2 + 1;
        param_1 = param_1 + 0x10;
      } while (iVar2 < 0x10);
    }
    else {
      (&DAT_BATTLE_BIN__800995f6)[param_3 * 8 + iVar2] = 0;
      FUN_BATTLE_BIN__80092620(param_1,param_2,param_3);
    }
    DAT_BATTLE_BIN__800995ec = 1;
  }
  return;
}



void FUN_BATTLE_BIN__800927bc
               (int param_1,ushort *param_2,int param_3,int param_4,int param_5,ushort param_6,
               ushort param_7,ushort param_8,int param_9)

{
  ushort uVar1;
  int iVar2;
  undefined1 *puVar3;
  short sVar4;
  short *psVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  int iVar14;
  
  uVar12 = (uint)param_6;
  uVar11 = (uint)param_7;
  uVar10 = (uint)param_8;
  if (param_5 == 1) {
    iVar9 = 0;
    iVar13 = param_3 * 0x982;
    iVar14 = 0;
    psVar5 = &DAT_BATTLE_BIN__800e4ea4 + param_3 * 0x100;
    do {
      uVar1 = *param_2;
      uVar6 = (uint)uVar1;
      if (*param_2 == 0) {
        uVar8 = uVar6 & 0x1f;
        uVar7 = (uVar6 & 0x3e0) >> 5;
        uVar6 = (uVar6 & 0x7c00) >> 10;
      }
      else if (param_1 == 5) {
        uVar8 = uVar12 + ((int)(uVar6 & 0x1f) >> 1);
        uVar7 = uVar11 + ((uVar6 & 0x3e0) >> 6);
        uVar6 = uVar10 + ((uVar6 & 0x7c00) >> 0xb);
      }
      else if (param_1 < 6) {
LAB_BATTLE_BIN__80092914:
        uVar8 = uVar12 + (uVar6 & 0x1f);
        uVar7 = uVar11 + ((uVar6 & 0x3e0) >> 5);
        uVar6 = uVar10 + ((uVar6 & 0x7c00) >> 10);
      }
      else {
        if (param_1 == 6) {
          uVar6 = ((uVar6 & 0x1f) * 2 + ((uVar6 & 0x3e0) >> 5) * 3 + ((uVar6 & 0x7c00) >> 10)) / 6;
        }
        else {
          if (param_1 != 7) goto LAB_BATTLE_BIN__80092914;
          uVar6 = ((uVar6 & 0x1f) * 2 + ((uVar6 & 0x3e0) >> 5) * 3 + ((uVar6 & 0x7c00) >> 10)) / 0xc
          ;
        }
        uVar8 = uVar12 + uVar6;
        uVar7 = uVar11 + uVar6;
        uVar6 = uVar10 + uVar6;
      }
      if (0x1f < (short)uVar8) {
        uVar8 = 0x1f;
      }
      if (0x1f < (short)uVar7) {
        uVar7 = 0x1f;
      }
      if (0x1f < (short)uVar6) {
        uVar6 = 0x1f;
      }
      if ((int)(uVar8 << 0x10) < 1) {
        uVar8 = 0;
      }
      if ((int)(uVar7 << 0x10) < 1) {
        uVar7 = 0;
      }
      if ((int)(uVar6 << 0x10) < 1) {
        uVar6 = 0;
      }
      sVar4 = (short)uVar6;
      if ((((uVar6 | uVar8 | uVar7) & 0xffff) == 0) && ((uVar1 & 0x7fff) != 0)) {
        sVar4 = 1;
      }
      if (param_9 != 0) {
        *psVar5 = (short)uVar8 + (short)uVar7 * 0x20 + sVar4 * 0x400 +
                  ((short)uVar1 >> 0xf) * -0x8000;
        iVar2 = iVar9;
        if (iVar9 < 0) {
          iVar2 = iVar9 + 0xf;
        }
        if ((&DAT_BATTLE_BIN__800995f6)[(iVar2 >> 4) * 8 + iVar13] == '\0') {
          puVar3 = &DAT_BATTLE_BIN__80099676 + iVar9 * 7 + iVar13;
          *puVar3 = (char)uVar8;
          puVar3[1] = (char)uVar7;
          puVar3[2] = (char)sVar4;
          puVar3[3] = (byte)(uVar1 >> 0xf);
        }
      }
      *(short *)(&DAT_BATTLE_BIN__80099d76 + iVar14 + iVar13) =
           (short)uVar8 + (short)uVar7 * 0x20 + sVar4 * 0x400 + ((short)uVar1 >> 0xf) * -0x8000;
      iVar14 = iVar14 + 2;
      psVar5 = psVar5 + 1;
      iVar9 = iVar9 + 1;
      param_2 = param_2 + 1;
    } while (iVar9 < 0x100);
  }
  else {
    iVar9 = 0;
    iVar13 = param_3 * 0x982;
    do {
      uVar1 = *param_2;
      uVar6 = (uint)uVar1;
      if (*param_2 == 0) {
        uVar8 = uVar6 & 0x1f;
        uVar7 = (uVar6 & 0x3e0) >> 5;
        uVar6 = (uVar6 & 0x7c00) >> 10;
      }
      else if (param_1 == 5) {
        uVar8 = uVar12 + ((int)(uVar6 & 0x1f) >> 1);
        uVar7 = uVar11 + ((uVar6 & 0x3e0) >> 6);
        uVar6 = uVar10 + ((uVar6 & 0x7c00) >> 0xb);
      }
      else if (param_1 < 6) {
LAB_BATTLE_BIN__80092bb8:
        uVar8 = uVar12 + (uVar6 & 0x1f);
        uVar7 = uVar11 + ((uVar6 & 0x3e0) >> 5);
        uVar6 = uVar10 + ((uVar6 & 0x7c00) >> 10);
      }
      else {
        if (param_1 == 6) {
          uVar6 = ((uVar6 & 0x1f) * 2 + ((uVar6 & 0x3e0) >> 5) * 3 + ((uVar6 & 0x7c00) >> 10)) / 6;
        }
        else {
          if (param_1 != 7) goto LAB_BATTLE_BIN__80092bb8;
          uVar6 = ((uVar6 & 0x1f) * 2 + ((uVar6 & 0x3e0) >> 5) * 3 + ((uVar6 & 0x7c00) >> 10)) / 0xc
          ;
        }
        uVar8 = uVar12 + uVar6;
        uVar7 = uVar11 + uVar6;
        uVar6 = uVar10 + uVar6;
      }
      if (0x1f < (short)uVar8) {
        uVar8 = 0x1f;
      }
      if (0x1f < (short)uVar7) {
        uVar7 = 0x1f;
      }
      if (0x1f < (short)uVar6) {
        uVar6 = 0x1f;
      }
      if ((int)(uVar8 << 0x10) < 1) {
        uVar8 = 0;
      }
      if ((int)(uVar7 << 0x10) < 1) {
        uVar7 = 0;
      }
      if ((int)(uVar6 << 0x10) < 1) {
        uVar6 = 0;
      }
      sVar4 = (short)uVar6;
      if ((((uVar6 | uVar8 | uVar7) & 0xffff) == 0) && ((uVar1 & 0x7fff) != 0)) {
        sVar4 = 1;
      }
      param_2 = param_2 + 1;
      if (param_9 != 0) {
        iVar14 = param_4 * 0x10 + iVar9;
        (&DAT_BATTLE_BIN__800e4ea4)[param_3 * 0x100 + iVar14] =
             (short)uVar8 + (short)uVar7 * 0x20 + sVar4 * 0x400 + ((short)uVar1 >> 0xf) * -0x8000;
        if ((&DAT_BATTLE_BIN__800995f6)[param_4 * 8 + iVar13] == '\0') {
          puVar3 = &DAT_BATTLE_BIN__80099676 + iVar14 * 7 + iVar13;
          *puVar3 = (char)uVar8;
          puVar3[1] = (char)uVar7;
          puVar3[2] = (char)sVar4;
          puVar3[3] = (byte)(uVar1 >> 0xf);
        }
      }
      *(short *)(&DAT_BATTLE_BIN__80099d76 + (param_4 * 0x10 + iVar9) * 2 + iVar13) =
           (short)uVar8 + (short)uVar7 * 0x20 + sVar4 * 0x400 + ((short)uVar1 >> 0xf) * -0x8000;
      iVar9 = iVar9 + 1;
    } while (iVar9 < 0x10);
  }
  DAT_BATTLE_BIN__800995ec = 1;
  return;
}



void FUN_BATTLE_BIN__80092d4c
               (ushort *param_1,int param_2,int param_3,int param_4,ushort param_5,ushort param_6,
               ushort param_7,int param_8)

{
  FUN_BATTLE_BIN__800927bc(8,param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8);
  return;
}



void FUN_BATTLE_BIN__80092dc0(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)FUN_BATTLE_BIN__800e8190(0x57,param_3);
  DAT_BATTLE_BIN__800a1b48 = *puVar1;
  DAT_BATTLE_BIN__800a1b4c = puVar1[1];
  DAT_BATTLE_BIN__800a1b18 = (uint)*(byte *)puVar1 << 0x10;
  DAT_BATTLE_BIN__800a1b1c = (uint)*(byte *)((int)puVar1 + 1) << 0x10;
  DAT_BATTLE_BIN__800a1b20 = (uint)*(byte *)((int)puVar1 + 2) << 0x10;
  DAT_BATTLE_BIN__800a1b30 = (uint)*(byte *)(puVar1 + 1) << 0x10;
  DAT_BATTLE_BIN__800a1b34 = (uint)*(byte *)((int)puVar1 + 5) << 0x10;
  DAT_BATTLE_BIN__800a1b38 = (uint)*(byte *)((int)puVar1 + 6) << 0x10;
  return;
}



void FUN_BATTLE_BIN__80092e98(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)FUN_BATTLE_BIN__800e8190(0x5d,param_3);
  DAT_BATTLE_BIN__800a1b70 = *puVar1;
  DAT_BATTLE_BIN__800a1b58 = (uint)*(byte *)puVar1 << 0x10;
  DAT_BATTLE_BIN__800a1b5c = (uint)*(byte *)((int)puVar1 + 1) << 0x10;
  DAT_BATTLE_BIN__800a1b60 = (uint)*(byte *)((int)puVar1 + 2) << 0x10;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__80092f18(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)FUN_BATTLE_BIN__800e8190(0x65,param_3);
  _DAT_BATTLE_BIN__800a1b94 = *puVar1;
  DAT_BATTLE_BIN__800a1b7c = (uint)*(byte *)puVar1 << 0x10;
  DAT_BATTLE_BIN__800a1b80 = (uint)*(byte *)((int)puVar1 + 1) << 0x10;
  DAT_BATTLE_BIN__800a1b84 = (uint)*(byte *)((int)puVar1 + 2) << 0x10;
  return;
}



void FUN_BATTLE_BIN__80092f98(void)

{
  RECT local_10;
  
  if (DAT_BATTLE_BIN__800995f0 != 0) {
    local_10.y = 0x1ee;
    local_10.w = 0x100;
    local_10.x = 0;
    local_10.h = 0xe;
    MoveImage(&local_10,0,0x1e0);
    DAT_BATTLE_BIN__800995f0 = 0;
  }
  if (DAT_BATTLE_BIN__800995ec != 0) {
    local_10.y = 0x1ee;
    local_10.w = 0x100;
    local_10.x = 0;
    local_10.h = 0xe;
    LoadImage(&local_10,(u_long *)&DAT_BATTLE_BIN__800e4ea4);
    DAT_BATTLE_BIN__800995ec = 0;
    DAT_BATTLE_BIN__800995f0 = 1;
  }
  return;
}



void FUN_BATTLE_BIN__80093048(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0;
  DAT_BATTLE_BIN__800995ec = 0;
  DAT_BATTLE_BIN__800995f0 = 0;
  do {
    iVar2 = 0xf;
    iVar1 = iVar3 + 0x78;
    (&DAT_BATTLE_BIN__800995f5)[iVar3] = 0;
    (&DAT_BATTLE_BIN__800995f4)[iVar3] = 1;
    do {
      (&DAT_BATTLE_BIN__800995f6)[iVar1] = 0;
      iVar2 = iVar2 + -1;
      iVar1 = iVar1 + -8;
    } while (-1 < iVar2);
    (&DAT_BATTLE_BIN__8009967a)[iVar3] = 0;
    iVar3 = iVar3 + 0x982;
  } while (iVar3 < 0x851c);
  DAT_BATTLE_BIN__800a1b10 = 0;
  DAT_BATTLE_BIN__800a1b14 = 0;
  DAT_BATTLE_BIN__800a1b50 = 0;
  DAT_BATTLE_BIN__800a1b54 = 0;
  DAT_BATTLE_BIN__8009a8f8 = 0;
  DAT_BATTLE_BIN__8009b27a = 0;
  DAT_BATTLE_BIN__8009bbfc = 0;
  DAT_BATTLE_BIN__8009d882 = 0;
  FUN_BATTLE_BIN__80091280();
  return;
}



void FUN_BATTLE_BIN__80093118(void)

{
  FUN_BATTLE_BIN__800f0be0(0x71,0,0,0);
  return;
}



void FUN_BATTLE_BIN__80093144(void)

{
  FUN_BATTLE_BIN__800f0be0(0x72,0,0,0);
  return;
}



void FUN_BATTLE_BIN__800931c4
               (int param_1,int param_2,int param_3,ushort param_4,ushort param_5,ushort param_6)

{
  int *piVar1;
  undefined1 *puVar2;
  short local_48 [2];
  short local_44;
  ushort local_40;
  ushort local_38;
  ushort local_30;
  
  piVar1 = FUN_BATTLE_BIN__8007a6e4((ushort)param_3);
  local_38 = param_5;
  local_30 = param_6;
  if (piVar1 != (int *)0x0) {
    local_40 = param_4;
    FUN_BATTLE_BIN__8007b96c(local_48,(int)piVar1);
    puVar2 = FUN_BATTLE_BIN__80183fb4
                       (((int)local_48[0] / 0x1c) * 0x10000 >> 0x10,
                        ((int)local_44 / 0x1c) * 0x10000 >> 0x10,(uint)*(byte *)((int)piVar1 + 0x7e)
                       );
    FUN_BATTLE_BIN__8008f710(param_1,param_2,3,param_3,0,param_4,param_5,param_6);
    if (((puVar2[3] & 0xe0) == 0) ||
       ((int)*(short *)((int)piVar1 + 0x42) <
        (int)(((uint)(byte)puVar2[2] + (uint)((byte)puVar2[3] >> 5)) * -0xc))) {
      param_4 = -local_40;
      param_5 = -local_38;
      param_6 = -local_30;
    }
    FUN_BATTLE_BIN__8008f710(param_1,param_2,4,param_3,0,param_4,param_5,param_6);
  }
  return;
}



void FUN_BATTLE_BIN__800933c4
               (int param_1,int param_2,int param_3,ushort param_4,ushort param_5,ushort param_6)

{
  int iVar1;
  
  if (param_3 < 0x10) {
    FUN_BATTLE_BIN__800931c4(param_1,param_2,param_3,param_4,param_5,param_6);
  }
  else {
    iVar1 = 0;
    do {
      FUN_BATTLE_BIN__800931c4(param_1,param_2,iVar1,param_4,param_5,param_6);
      iVar1 = iVar1 + 1;
    } while (iVar1 < 0x10);
  }
  return;
}



undefined4 FUN_BATTLE_BIN__80093654(void)

{
  int iVar1;
  int *piVar2;
  
  DAT_80045944 = PadRead(1);
  iVar1 = FUN_BATTLE_BIN__8013b590(0x1fc);
  if (iVar1 != 0) {
    FUN_BATTLE_BIN__80142d2c(&DAT_80045944);
  }
  DAT_80045964 = DAT_8004594c;
  DAT_80045968 = DAT_8004594c;
  DAT_8004596c = DAT_8004594c;
  DAT_80045970 = DAT_8004594c;
  DAT_8004594c = ~DAT_80045948 & DAT_80045944;
  DAT_80045950 = ~DAT_80045944 & DAT_80045948;
  DAT_80045954 = DAT_80045948;
  DAT_80045958 = DAT_80045948;
  DAT_8004595c = DAT_80045948;
  DAT_80045960 = DAT_80045948;
  if (DAT_80045948 == DAT_80045944) {
    DAT_80045974 = DAT_80045974 + 1;
  }
  else {
    DAT_80045974 = 0;
  }
  DAT_80045948 = DAT_80045944;
  if (((((DAT_8004594c & 0x10) != 0) && (DAT_BATTLE_BIN__800960e4 != 0x34)) &&
      (piVar2 = FUN_BATTLE_BIN__8007a218(), DAT_BATTLE_BIN__800e4e8c != 0)) &&
     ((DAT_BATTLE_BIN__800960f8 == 0 && ((*(byte *)((int)piVar2 + 0x13d) & 8) == 0)))) {
    Call_Play_Sound(0x71);
    DAT_BATTLE_BIN__800960f8 = 1;
  }
  if ((DAT_80045948 & 0x90c) == 0x90c) {
    MidState_QuitSound_GetStack();
  }
  return 1;
}



undefined4 FUN_BATTLE_BIN__800937f8(void)

{
  DAT_80045944 = PadRead(1);
  DAT_8004594c = ~DAT_80045948 & DAT_80045944;
  DAT_80045950 = ~DAT_80045944 & DAT_80045948;
  DAT_80045948 = DAT_80045944;
  if ((DAT_80045944 & 0x90c) == 0x90c) {
    MidState_QuitSound_GetStack();
  }
  return 1;
}



void FUN_BATTLE_BIN__8009386c
               (int param_1,int param_2,undefined4 param_3,u_char param_4,u_char param_5,
               u_char param_6)

{
  uint y;
  RECT local_30;
  
  local_30._0_4_ = DAT_BATTLE_BIN__800683b8;
  local_30._4_4_ = DAT_BATTLE_BIN__800683bc;
  y = -(uint)(param_2 != 0x1e0) & 0xf0;
  SetDispMask(0);
  ResetGraph(1);
  PutScreentoGTE(param_1 / 2,param_2 / 2);
  PutProjectionPlacetoGTE(param_3);
  SetDefDrawEnv(&DRAWENV1,-0x80,0,param_1 + 0x80,param_2);
  SetDefDispEnv(&DISPENV1,0,y,param_1,param_2);
  SetDefDrawEnv(&DRAWENV2,-0x80,y,param_1 + 0x80,param_2);
  SetDefDispEnv(&DISPENV2,0,0,param_1,param_2);
  DRAWENV2.dtd = '\x01';
  DRAWENV1.dtd = '\x01';
  DRAWENV2.isbg = '\0';
  DRAWENV1.isbg = '\0';
  DRAWENV1.g0 = param_5;
  DRAWENV1.b0 = param_6;
  DRAWENV2.g0 = param_5;
  DRAWENV2.b0 = param_6;
  DRAWENV1.r0 = param_4;
  DRAWENV2.r0 = param_4;
  ClearImage(&local_30,'\0','\0','\0');
  DrawSync(0);
  if (DAT_800459d0 != 0) {
    Get_EFC_FNT();
  }
  PutDispEnv(&DISPENV1 + ScreenPolarity);
  PutDrawEnv(&DRAWENV1 + ScreenPolarity);
  return;
}



uint FUN_BATTLE_BIN__80093a98(u_long *param_1)

{
  uint uVar1;
  int mode;
  
  if (DAT_80045980 == 1) {
    DrawSync(0);
    mode = 0;
  }
  else {
    DrawSync(0);
    if ((DAT_BATTLE_BIN__800960e4 == 0x33) ||
       (mode = DAT_80045980, DAT_BATTLE_BIN__800960e4 == 0x2d)) {
      mode = 4;
      if ((DAT_8004598c < 0x10) && (mode = 3, DAT_8004598c == 0)) {
        mode = 2;
      }
      else {
        DAT_8004598c = DAT_8004598c + -1;
      }
      if ((mode < DAT_80045998) && (mode = DAT_80045998, DAT_80045998 == 1)) {
        mode = 0;
      }
    }
  }
  uVar1 = VSync(mode);
  PutDispEnv(&DISPENV1 + ScreenPolarity);
  PutDrawEnv(&DRAWENV1 + ScreenPolarity);
  DrawOTag(param_1);
  FntFlush(-1);
  return uVar1;
}



uint FUN_BATTLE_BIN__80093bf0(u_long *param_1)

{
  uint uVar1;
  
  DrawSync(0);
  uVar1 = VSync(0);
  PutDispEnv(&DISPENV1 + ScreenPolarity);
  PutDrawEnv(&DRAWENV1 + ScreenPolarity);
  DrawOTag(param_1);
  FntFlush(-1);
  return uVar1;
}



void FUN_BATTLE_BIN__800e72a0(int param_1)

{
  short *psVar1;
  ushort uVar2;
  ushort uVar3;
  ushort *puVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  
  iVar5 = DAT_BATTLE_BIN__800f5b64;
  if (param_1 == 0x47) {
    iVar6 = 0;
    if (0 < DAT_BATTLE_BIN__800f5b64) {
      puVar4 = &DAT_BATTLE_BIN__8011a2e6;
      do {
        iVar6 = iVar6 + 1;
        *puVar4 = *puVar4 & 0xfffe;
        puVar4 = puVar4 + 0xc;
      } while (iVar6 < iVar5);
    }
    iVar5 = DAT_BATTLE_BIN__800f5b68;
    iVar6 = 0;
    if (0 < DAT_BATTLE_BIN__800f5b68) {
      puVar4 = &DAT_BATTLE_BIN__8011c4a6;
      do {
        iVar6 = iVar6 + 1;
        *puVar4 = *puVar4 & 0xfffe;
        puVar4 = puVar4 + 0x10;
      } while (iVar6 < iVar5);
    }
    DAT_BATTLE_BIN__800f5c50 = 0;
  }
  else if (param_1 < 0x48) {
    if (param_1 == 0x46) {
      iVar6 = 0;
      if (0 < DAT_BATTLE_BIN__800f5b64) {
        puVar4 = &DAT_BATTLE_BIN__8011a2e6;
        do {
          uVar2 = *puVar4;
          uVar3 = uVar2 | 1;
          if (((int)(short)uVar2 & 0x8000U) == 0) {
            uVar3 = uVar2 & 0xfffe;
          }
          *puVar4 = uVar3;
          iVar6 = iVar6 + 1;
          puVar4 = puVar4 + 0xc;
        } while (iVar6 < iVar5);
      }
      iVar5 = DAT_BATTLE_BIN__800f5b68;
      iVar6 = 0;
      if (0 < DAT_BATTLE_BIN__800f5b68) {
        puVar4 = &DAT_BATTLE_BIN__8011c4a6;
        do {
          uVar2 = *puVar4;
          uVar3 = uVar2 | 1;
          if (((int)(short)uVar2 & 0x8000U) == 0) {
            uVar3 = uVar2 & 0xfffe;
          }
          *puVar4 = uVar3;
          iVar6 = iVar6 + 1;
          puVar4 = puVar4 + 0x10;
        } while (iVar6 < iVar5);
      }
    }
  }
  else if (param_1 == 0x94) {
    iVar5 = 0;
    if (0 < DAT_BATTLE_BIN__800f5b64) {
      iVar6 = 0;
      iVar7 = 0;
      do {
        psVar1 = (short *)((int)&DAT_BATTLE_BIN__8011a2e6 + iVar7);
        iVar7 = iVar7 + 0x18;
        if (((int)*psVar1 & 0x8000U) == 0) {
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 4) = DAT_BATTLE_BIN__800f6854;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 5) = DAT_BATTLE_BIN__800f6855;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 6) = DAT_BATTLE_BIN__800f6856;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x10) = DAT_BATTLE_BIN__800f6854;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x11) = DAT_BATTLE_BIN__800f6855;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x12) = DAT_BATTLE_BIN__800f6856;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x1c) = DAT_BATTLE_BIN__800f6854;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x1d) = DAT_BATTLE_BIN__800f6855;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x1e) = DAT_BATTLE_BIN__800f6856;
        }
        iVar5 = iVar5 + 1;
        iVar6 = iVar6 + 0x28;
      } while (iVar5 < DAT_BATTLE_BIN__800f5b64);
    }
    iVar5 = 0;
    if (0 < DAT_BATTLE_BIN__800f5b68) {
      iVar6 = 0;
      iVar7 = 0;
      do {
        psVar1 = (short *)((int)&DAT_BATTLE_BIN__8011c4a6 + iVar7);
        iVar7 = iVar7 + 0x20;
        if (((int)*psVar1 & 0x8000U) == 0) {
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x3844) = DAT_BATTLE_BIN__800f6854;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x3845) = DAT_BATTLE_BIN__800f6855;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x3846) = DAT_BATTLE_BIN__800f6856;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x3850) = DAT_BATTLE_BIN__800f6854;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x3851) = DAT_BATTLE_BIN__800f6855;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x3852) = DAT_BATTLE_BIN__800f6856;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x385c) = DAT_BATTLE_BIN__800f6854;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x385d) = DAT_BATTLE_BIN__800f6855;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x385e) = DAT_BATTLE_BIN__800f6856;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x3868) = DAT_BATTLE_BIN__800f6854;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x3869) = DAT_BATTLE_BIN__800f6855;
          *(undefined *)(iVar6 + DAT_BATTLE_BIN__8011a2d4 + 0x386a) = DAT_BATTLE_BIN__800f6856;
        }
        iVar5 = iVar5 + 1;
        iVar6 = iVar6 + 0x34;
      } while (iVar5 < DAT_BATTLE_BIN__800f5b68);
    }
    DAT_BATTLE_BIN__800f5b5c = DAT_BATTLE_BIN__8011a2d4;
  }
  return;
}



void FUN_BATTLE_BIN__800e767c(undefined2 *param_1,undefined2 *param_2)

{
  undefined2 uVar1;
  int iVar2;
  undefined4 uVar3;
  undefined2 *puVar4;
  undefined4 *puVar5;
  undefined2 *puVar6;
  int iVar7;
  undefined4 *puVar8;
  undefined2 *puVar9;
  undefined2 *puVar10;
  
  puVar10 = &DAT_BATTLE_BIN__800f79c4;
  puVar8 = &DAT_BATTLE_BIN__800f5af4;
  iVar7 = 0;
  puVar9 = param_1;
  do {
    iVar2 = 0;
    puVar4 = puVar9;
    puVar5 = puVar8;
    puVar6 = puVar10;
    do {
      uVar1 = *puVar4;
      puVar4 = puVar4 + 1;
      iVar2 = iVar2 + 1;
      *(undefined2 *)puVar5 = uVar1;
      *puVar6 = uVar1;
      puVar6 = puVar6 + 1;
      puVar5 = (undefined4 *)((int)puVar5 + 2);
    } while (iVar2 < 3);
    uVar3 = *(undefined4 *)(param_1 + 10);
    param_1 = param_1 + 2;
    puVar10 = puVar10 + 3;
    puVar9 = puVar9 + 3;
    iVar2 = iVar7 + 1;
    (&DAT_BATTLE_BIN__800f5b08)[iVar7] = uVar3;
    (&DAT_BATTLE_BIN__800f79d8)[iVar7] = uVar3;
    puVar8 = (undefined4 *)((int)puVar8 + 6);
    iVar7 = iVar2;
  } while (iVar2 < 3);
  puVar10 = &DAT_BATTLE_BIN__800f7a04;
  puVar8 = &DAT_BATTLE_BIN__800f5b14;
  iVar7 = 0;
  puVar9 = param_2;
  do {
    iVar2 = 0;
    puVar4 = puVar9;
    puVar5 = puVar8;
    puVar6 = puVar10;
    do {
      uVar1 = *puVar4;
      puVar4 = puVar4 + 1;
      iVar2 = iVar2 + 1;
      *(undefined2 *)puVar5 = uVar1;
      *puVar6 = uVar1;
      puVar6 = puVar6 + 1;
      puVar5 = (undefined4 *)((int)puVar5 + 2);
    } while (iVar2 < 3);
    uVar3 = *(undefined4 *)(param_2 + 10);
    param_2 = param_2 + 2;
    puVar10 = puVar10 + 3;
    puVar9 = puVar9 + 3;
    iVar2 = iVar7 + 1;
    (&DAT_BATTLE_BIN__800f5b28)[iVar7] = uVar3;
    (&DAT_BATTLE_BIN__800f7a18)[iVar7] = uVar3;
    puVar8 = (undefined4 *)((int)puVar8 + 6);
    iVar7 = iVar2;
  } while (iVar2 < 3);
  SetColorMatrix((MATRIX *)&DAT_BATTLE_BIN__800f5af4);
  return;
}



void FUN_BATTLE_BIN__800e77b8(int param_1,int param_2,int param_3,int param_4)

{
  if (param_1 == 9) {
    if (DAT_BATTLE_BIN__800f6674 != '\x01') {
      DAT_BATTLE_BIN__800f5b40 = param_2;
      DAT_BATTLE_BIN__800f5b44 = param_3;
      DAT_BATTLE_BIN__800f5b48 = param_4;
      SetBackColor(param_2,param_3,param_4);
    }
  }
  else if ((8 < param_1) && (param_1 != 10)) {
    if (param_1 == 0xb) {
      SetBackColor(0,0,0);
      DAT_BATTLE_BIN__800f6674 = '\x01';
    }
    else if (param_1 == 0xc) {
      SetBackColor(DAT_BATTLE_BIN__800f5b40,DAT_BATTLE_BIN__800f5b44,DAT_BATTLE_BIN__800f5b48);
      DAT_BATTLE_BIN__800f6674 = '\0';
    }
  }
  return;
}



void FUN_BATTLE_BIN__800e78c0
               (undefined4 param_1,undefined4 *param_2,undefined4 *param_3,ushort param_4)

{
  short sVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int iVar5;
  uint uVar6;
  undefined4 *puVar7;
  short *psVar8;
  short *psVar9;
  int iVar10;
  uint uVar11;
  int iVar12;
  int iVar13;
  undefined4 *puVar14;
  undefined4 *puVar15;
  int *piVar16;
  int *piVar17;
  undefined4 *puVar18;
  
  switch(param_1) {
  case 0x5e:
    DAT_BATTLE_BIN__800f5af4 = *param_2;
    DAT_BATTLE_BIN__800f5af8 = param_2[1];
    DAT_BATTLE_BIN__800f5afc = param_2[2];
    DAT_BATTLE_BIN__800f5b00 = param_2[3];
    DAT_BATTLE_BIN__800f5b04 = param_2[4];
    DAT_BATTLE_BIN__800f5b08 = param_2[5];
    DAT_BATTLE_BIN__800f5b0c = param_2[6];
    DAT_BATTLE_BIN__800f5b10 = param_2[7];
    DAT_BATTLE_BIN__800f5b14 = *param_3;
    DAT_BATTLE_BIN__800f5b18 = param_3[1];
    DAT_BATTLE_BIN__800f5b1c = param_3[2];
    DAT_BATTLE_BIN__800f5b20 = param_3[3];
    DAT_BATTLE_BIN__800f5b24 = param_3[4];
    DAT_BATTLE_BIN__800f5b28 = param_3[5];
    DAT_BATTLE_BIN__800f5b2c = param_3[6];
    DAT_BATTLE_BIN__800f5b30 = param_3[7];
    SetColorMatrix((MATRIX *)&DAT_BATTLE_BIN__800f5af4);
    break;
  case 0x5f:
    DAT_BATTLE_BIN__80121d5c = DAT_BATTLE_BIN__800f5af4;
    DAT_BATTLE_BIN__80121d60 = DAT_BATTLE_BIN__800f5af8;
    DAT_BATTLE_BIN__80121d64 = DAT_BATTLE_BIN__800f5afc;
    DAT_BATTLE_BIN__80121d68 = DAT_BATTLE_BIN__800f5b00;
    DAT_BATTLE_BIN__80121d6c = DAT_BATTLE_BIN__800f5b04;
    DAT_BATTLE_BIN__80121d70 = DAT_BATTLE_BIN__800f5b08;
    DAT_BATTLE_BIN__80121d74 = DAT_BATTLE_BIN__800f5b0c;
    DAT_BATTLE_BIN__80121d78 = DAT_BATTLE_BIN__800f5b10;
    DAT_BATTLE_BIN__800faa94 = DAT_BATTLE_BIN__800f5b14;
    DAT_BATTLE_BIN__800faa98 = DAT_BATTLE_BIN__800f5b18;
    DAT_BATTLE_BIN__800faa9c = DAT_BATTLE_BIN__800f5b1c;
    DAT_BATTLE_BIN__800faaa0 = DAT_BATTLE_BIN__800f5b20;
    DAT_BATTLE_BIN__800faaa4 = DAT_BATTLE_BIN__800f5b24;
    DAT_BATTLE_BIN__800faaa8 = DAT_BATTLE_BIN__800f5b28;
    DAT_BATTLE_BIN__800faaac = DAT_BATTLE_BIN__800f5b2c;
    DAT_BATTLE_BIN__800faab0 = DAT_BATTLE_BIN__800f5b30;
    break;
  case 0x60:
    DAT_BATTLE_BIN__800f5af4 = DAT_BATTLE_BIN__80121d5c;
    DAT_BATTLE_BIN__800f5af8 = DAT_BATTLE_BIN__80121d60;
    DAT_BATTLE_BIN__800f5afc = DAT_BATTLE_BIN__80121d64;
    DAT_BATTLE_BIN__800f5b00 = DAT_BATTLE_BIN__80121d68;
    DAT_BATTLE_BIN__800f5b04 = DAT_BATTLE_BIN__80121d6c;
    DAT_BATTLE_BIN__800f5b08 = DAT_BATTLE_BIN__80121d70;
    DAT_BATTLE_BIN__800f5b0c = DAT_BATTLE_BIN__80121d74;
    DAT_BATTLE_BIN__800f5b10 = DAT_BATTLE_BIN__80121d78;
    DAT_BATTLE_BIN__800f5b14 = DAT_BATTLE_BIN__800faa94;
    DAT_BATTLE_BIN__800f5b18 = DAT_BATTLE_BIN__800faa98;
    DAT_BATTLE_BIN__800f5b1c = DAT_BATTLE_BIN__800faa9c;
    DAT_BATTLE_BIN__800f5b20 = DAT_BATTLE_BIN__800faaa0;
    DAT_BATTLE_BIN__800f5b24 = DAT_BATTLE_BIN__800faaa4;
    DAT_BATTLE_BIN__800f5b28 = DAT_BATTLE_BIN__800faaa8;
    DAT_BATTLE_BIN__800f5b2c = DAT_BATTLE_BIN__800faaac;
    DAT_BATTLE_BIN__800f5b30 = DAT_BATTLE_BIN__800faab0;
    break;
  case 0x61:
    break;
  case 0x62:
    break;
  case 0x66:
    DAT_BATTLE_BIN__800f66f0 = *param_2;
    DAT_BATTLE_BIN__800f66f4 = param_2[1];
    DAT_BATTLE_BIN__800f66f8 = param_2[2];
    DAT_BATTLE_BIN__800f66fc = param_2[3];
    DAT_BATTLE_BIN__800f6700 = param_2[4];
    DAT_BATTLE_BIN__800f6704 = param_2[5];
    DAT_BATTLE_BIN__800f6708 = param_2[6];
    DAT_BATTLE_BIN__800f670c = param_2[7];
    DAT_BATTLE_BIN__800f66b0 = *param_3;
    DAT_BATTLE_BIN__800f66b4 = param_3[1];
    DAT_BATTLE_BIN__800f66b8 = param_3[2];
    DAT_BATTLE_BIN__800f66bc = param_3[3];
    DAT_BATTLE_BIN__800f66c0 = param_3[4];
    DAT_BATTLE_BIN__800f66c4 = param_3[5];
    DAT_BATTLE_BIN__800f66c8 = param_3[6];
    DAT_BATTLE_BIN__800f66cc = param_3[7];
    DAT_BATTLE_BIN__800f5c52 = 0x67;
    goto LAB_BATTLE_BIN__800e7f60;
  case 0x67:
    piVar17 = &DAT_BATTLE_BIN__800f66a4;
    puVar14 = &DAT_BATTLE_BIN__800f66d0;
    piVar16 = &DAT_BATTLE_BIN__800f66e4;
    iVar10 = 0;
    puVar18 = &DAT_BATTLE_BIN__800f66f0;
    puVar15 = &DAT_BATTLE_BIN__800f5af4;
    uVar11 = (uint)DAT_BATTLE_BIN__800f6714;
    uVar6 = (uint)DAT_BATTLE_BIN__800f6710;
    iVar13 = 0;
    do {
      iVar5 = 0;
      psVar9 = (short *)((int)&DAT_BATTLE_BIN__800f5b14 + iVar10);
      psVar8 = (short *)((int)&DAT_BATTLE_BIN__800f6690 + iVar10);
      puVar3 = puVar18;
      puVar4 = puVar14;
      puVar7 = puVar15;
      do {
        *(short *)puVar7 =
             *(short *)puVar4 +
             (short)((int)(((int)*(short *)puVar3 - (int)*(short *)puVar4) * uVar11) / (int)uVar6);
        iVar2 = iVar5 * 2;
        sVar1 = *psVar8;
        puVar4 = (undefined4 *)((int)puVar4 + 2);
        puVar3 = (undefined4 *)((int)puVar3 + 2);
        iVar5 = iVar5 + 1;
        psVar8 = psVar8 + 1;
        puVar7 = (undefined4 *)((int)puVar7 + 2);
        *psVar9 = sVar1 + (short)((int)(((int)*(short *)((int)&DAT_BATTLE_BIN__800f66b0 +
                                                        iVar2 + iVar10) - (int)sVar1) * uVar11) /
                                 (int)uVar6);
        psVar9 = psVar9 + 1;
      } while (iVar5 < 3);
      (&DAT_BATTLE_BIN__800f5b08)[iVar13] =
           (int)*(short *)((int)puVar14 + iVar5 * 2) +
           (int)(((&DAT_BATTLE_BIN__800f6704)[iVar13] - *piVar16) * uVar11) / (int)uVar6;
      iVar2 = *piVar17;
      piVar16 = piVar16 + 1;
      puVar18 = (undefined4 *)((int)puVar18 + 6);
      puVar15 = (undefined4 *)((int)puVar15 + 6);
      iVar12 = iVar13 + 1;
      puVar14 = (undefined4 *)((int)puVar14 + 6);
      piVar17 = piVar17 + 1;
      (&DAT_BATTLE_BIN__800f5b28)[iVar13] =
           (int)*(short *)((int)&DAT_BATTLE_BIN__800f6690 + iVar5 * 2 + iVar10) +
           (int)(((&DAT_BATTLE_BIN__800f66c4)[iVar13] - iVar2) * uVar11) / (int)uVar6;
      iVar10 = iVar10 + 6;
      iVar13 = iVar12;
    } while (iVar12 < 3);
    goto LAB_BATTLE_BIN__800e8120;
  case 0x68:
    DAT_BATTLE_BIN__800f66f0 = *param_2;
    DAT_BATTLE_BIN__800f66f4 = param_2[1];
    DAT_BATTLE_BIN__800f66f8 = param_2[2];
    DAT_BATTLE_BIN__800f66fc = param_2[3];
    DAT_BATTLE_BIN__800f6700 = param_2[4];
    DAT_BATTLE_BIN__800f6704 = param_2[5];
    DAT_BATTLE_BIN__800f6708 = param_2[6];
    DAT_BATTLE_BIN__800f670c = param_2[7];
    DAT_BATTLE_BIN__800f66b0 = *param_3;
    DAT_BATTLE_BIN__800f66b4 = param_3[1];
    DAT_BATTLE_BIN__800f66b8 = param_3[2];
    DAT_BATTLE_BIN__800f66bc = param_3[3];
    DAT_BATTLE_BIN__800f66c0 = param_3[4];
    DAT_BATTLE_BIN__800f66c4 = param_3[5];
    DAT_BATTLE_BIN__800f66c8 = param_3[6];
    DAT_BATTLE_BIN__800f66cc = param_3[7];
    DAT_BATTLE_BIN__800f5c52 = 0x69;
LAB_BATTLE_BIN__800e7f60:
    DAT_BATTLE_BIN__800f66ec = DAT_BATTLE_BIN__800f5b10;
    DAT_BATTLE_BIN__800f66e8 = DAT_BATTLE_BIN__800f5b0c;
    DAT_BATTLE_BIN__800f66e4 = DAT_BATTLE_BIN__800f5b08;
    DAT_BATTLE_BIN__800f66e0 = DAT_BATTLE_BIN__800f5b04;
    DAT_BATTLE_BIN__800f66dc = DAT_BATTLE_BIN__800f5b00;
    DAT_BATTLE_BIN__800f66d8 = DAT_BATTLE_BIN__800f5afc;
    DAT_BATTLE_BIN__800f66d4 = DAT_BATTLE_BIN__800f5af8;
    DAT_BATTLE_BIN__800f66d0 = DAT_BATTLE_BIN__800f5af4;
    DAT_BATTLE_BIN__800f66ac = DAT_BATTLE_BIN__800f5b30;
    DAT_BATTLE_BIN__800f66a8 = DAT_BATTLE_BIN__800f5b2c;
    DAT_BATTLE_BIN__800f66a4 = DAT_BATTLE_BIN__800f5b28;
    DAT_BATTLE_BIN__800f66a0 = DAT_BATTLE_BIN__800f5b24;
    DAT_BATTLE_BIN__800f669c = DAT_BATTLE_BIN__800f5b20;
    DAT_BATTLE_BIN__800f6698 = DAT_BATTLE_BIN__800f5b1c;
    DAT_BATTLE_BIN__800f6694 = DAT_BATTLE_BIN__800f5b18;
    DAT_BATTLE_BIN__800f6690 = DAT_BATTLE_BIN__800f5b14;
    DAT_BATTLE_BIN__800f6714 = 0;
    DAT_BATTLE_BIN__800f6710 = param_4;
    break;
  case 0x69:
    puVar14 = &DAT_BATTLE_BIN__800f66d0;
    iVar10 = 0;
    puVar15 = &DAT_BATTLE_BIN__800f66f0;
    puVar18 = &DAT_BATTLE_BIN__800f5af4;
    uVar11 = (uint)DAT_BATTLE_BIN__800f6714;
    uVar6 = (uint)DAT_BATTLE_BIN__800f6710;
    iVar13 = 0;
    do {
      iVar5 = 0;
      psVar9 = (short *)((int)&DAT_BATTLE_BIN__800f5b14 + iVar10);
      psVar8 = (short *)((int)&DAT_BATTLE_BIN__800f6690 + iVar10);
      puVar3 = puVar15;
      puVar4 = puVar14;
      puVar7 = puVar18;
      do {
        iVar2 = iVar5 * 2;
        *(short *)puVar7 =
             *(short *)puVar4 + (short)((int)((int)*(short *)puVar3 * uVar11) / (int)uVar6);
        puVar3 = (undefined4 *)((int)puVar3 + 2);
        puVar4 = (undefined4 *)((int)puVar4 + 2);
        iVar5 = iVar5 + 1;
        puVar7 = (undefined4 *)((int)puVar7 + 2);
        sVar1 = *psVar8;
        psVar8 = psVar8 + 1;
        *psVar9 = sVar1 + (short)((int)((int)*(short *)((int)&DAT_BATTLE_BIN__800f66b0 +
                                                       iVar2 + iVar10) * uVar11) / (int)uVar6);
        psVar9 = psVar9 + 1;
      } while (iVar5 < 3);
      (&DAT_BATTLE_BIN__800f5b08)[iVar13] =
           (int)*(short *)((int)puVar14 + iVar5 * 2) +
           (int)(uVar11 * (&DAT_BATTLE_BIN__800f6704)[iVar13]) / (int)uVar6;
      puVar15 = (undefined4 *)((int)puVar15 + 6);
      puVar18 = (undefined4 *)((int)puVar18 + 6);
      iVar2 = iVar13 + 1;
      puVar14 = (undefined4 *)((int)puVar14 + 6);
      (&DAT_BATTLE_BIN__800f5b28)[iVar13] =
           (int)*(short *)((int)&DAT_BATTLE_BIN__800f6690 + iVar5 * 2 + iVar10) +
           (int)(uVar11 * (&DAT_BATTLE_BIN__800f66c4)[iVar13]) / (int)uVar6;
      iVar10 = iVar10 + 6;
      iVar13 = iVar2;
    } while (iVar2 < 3);
LAB_BATTLE_BIN__800e8120:
    SetColorMatrix((MATRIX *)&DAT_BATTLE_BIN__800f5af4);
    DAT_BATTLE_BIN__800f6714 = DAT_BATTLE_BIN__800f6714 + 1;
    if (DAT_BATTLE_BIN__800f6710 < DAT_BATTLE_BIN__800f6714) {
      DAT_BATTLE_BIN__800f5c52 = 0;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__800e8190(undefined4 param_1,undefined4 *param_2)

{
  switch(param_1) {
  case 0x56:
    _DAT_BATTLE_BIN__801251c8 = *param_2;
    _DAT_BATTLE_BIN__801251cc = param_2[1];
    break;
  case 0x57:
    break;
  case 0x58:
    DAT_BATTLE_BIN__800f6858 = _DAT_BATTLE_BIN__801251c8;
    DAT_BATTLE_BIN__800f685c = _DAT_BATTLE_BIN__801251cc;
    break;
  case 0x59:
    _DAT_BATTLE_BIN__801251c8 = DAT_BATTLE_BIN__800f6858;
    _DAT_BATTLE_BIN__801251cc = DAT_BATTLE_BIN__800f685c;
    break;
  case 0x5a:
    DAT_BATTLE_BIN__800f5b40 = (uint)*(byte *)param_2;
    DAT_BATTLE_BIN__800f5b44 = (uint)*(byte *)((int)param_2 + 1);
    DAT_BATTLE_BIN__800f5b48 = (uint)*(byte *)((int)param_2 + 2);
    SetBackColor(DAT_BATTLE_BIN__800f5b40,DAT_BATTLE_BIN__800f5b44,DAT_BATTLE_BIN__800f5b48);
    break;
  case 0x5b:
    DAT_BATTLE_BIN__800f5b4c = DAT_BATTLE_BIN__800f5b40;
    DAT_BATTLE_BIN__800f5b50 = DAT_BATTLE_BIN__800f5b44;
    DAT_BATTLE_BIN__800f5b54 = DAT_BATTLE_BIN__800f5b48;
    break;
  case 0x5c:
    DAT_BATTLE_BIN__800f5b40 = DAT_BATTLE_BIN__800f5b4c;
    DAT_BATTLE_BIN__800f5b44 = DAT_BATTLE_BIN__800f5b50;
    DAT_BATTLE_BIN__800f5b48 = DAT_BATTLE_BIN__800f5b54;
    break;
  case 0x5d:
    DAT_BATTLE_BIN__800f6718 = (undefined)DAT_BATTLE_BIN__800f5b40;
    DAT_BATTLE_BIN__800f6719 = (undefined)DAT_BATTLE_BIN__800f5b44;
    DAT_BATTLE_BIN__800f671a = (undefined)DAT_BATTLE_BIN__800f5b48;
    break;
  case 99:
    DAT_BATTLE_BIN__800f5b58 = *(undefined *)param_2;
    DAT_BATTLE_BIN__800f5b59 = *(undefined *)((int)param_2 + 1);
    DAT_BATTLE_BIN__800f5b5a = *(undefined *)((int)param_2 + 2);
    break;
  case 100:
    DAT_BATTLE_BIN__800f5b58 = 0;
    DAT_BATTLE_BIN__800f5b59 = 0;
    DAT_BATTLE_BIN__800f5b5a = 1;
    break;
  case 0x65:
  }
  return;
}



void FUN_BATTLE_BIN__800e840c(undefined4 *param_1)

{
  bool bVar1;
  byte bVar2;
  undefined2 uVar3;
  undefined1 *puVar4;
  char cVar5;
  short sVar6;
  undefined2 uVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  short sVar11;
  ushort uVar12;
  int iVar13;
  int iVar14;
  MusicDataHeader *pMVar15;
  int iVar16;
  char *pcVar17;
  MATRIX *m0;
  int iVar18;
  MATRIX *m;
  SVECTOR *r;
  VECTOR *v;
  char acStackY_400a8 [262000];
  MATRIX MStack_128;
  MATRIX MStack_108;
  MATRIX MStack_e8;
  undefined4 local_c8;
  undefined4 local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 local_94;
  int local_90;
  int local_8c;
  int local_88;
  short local_70;
  short local_6c;
  int local_68;
  undefined4 local_60;
  int local_58;
  long lStack_54;
  long alStack_50 [2];
  int local_48;
  int local_40;
  int local_38;
  int local_30;
  
  local_c8 = DAT_BATTLE_BIN__800e6b30;
  local_c4 = DAT_BATTLE_BIN__800e6b34;
  local_c0 = DAT_BATTLE_BIN__800e6b38;
  local_bc = DAT_BATTLE_BIN__800e6b3c;
  local_b8 = DAT_BATTLE_BIN__800e6b40;
  local_b4 = DAT_BATTLE_BIN__800e6b44;
  local_b0 = DAT_BATTLE_BIN__800e6b48;
  local_ac = DAT_BATTLE_BIN__800e6b4c;
  local_a8 = DAT_BATTLE_BIN__800e6b50;
  local_a4 = DAT_BATTLE_BIN__800e6b54;
  local_a0 = DAT_BATTLE_BIN__800e6b58;
  local_9c = DAT_BATTLE_BIN__800e6b5c;
  local_98 = DAT_BATTLE_BIN__800e6b60;
  local_94 = DAT_BATTLE_BIN__800e6b64;
  local_60 = DAT_BATTLE_BIN__800e6b68;
  AddPrim((void *)(*(int *)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4) + 0x5fc),
          (void *)(DAT_BATTLE_BIN__8011a2d4 + 0xe5a8));
  AddPrim((void *)(*(int *)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4) + 0x5fc),
          (void *)(DAT_BATTLE_BIN__8011a2d4 + 0xe578));
  AddPrim((void *)(*(int *)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4) + 0x5fc),
          (void *)(DAT_BATTLE_BIN__8011a2d4 + 0xe59c));
  FUN_BATTLE_BIN__800f1204();
  FUN_BATTLE_BIN__800ef6f0();
  if ((DAT_BATTLE_BIN__800f79bc != 0) && (DAT_BATTLE_BIN__800f5c70 != '\0')) {
    iVar8 = rand();
    if (iVar8 == (iVar8 / 0x1e0) * 0x1e0) {
      DAT_BATTLE_BIN__800f79c0 = 0x3c;
      uVar9 = rand();
      if ((uVar9 & 1) == 0) {
        DAT_BATTLE_BIN__800f5c6c = 0x1000e;
        pMVar15 = (MusicDataHeader *)0x1000e;
      }
      else {
        DAT_BATTLE_BIN__800f5c68 = 0x10003;
        pMVar15 = (MusicDataHeader *)0x10003;
      }
      Call_Play_SoundEffect(pMVar15);
    }
    iVar8 = DAT_BATTLE_BIN__800f79c0 + -1;
    if (DAT_BATTLE_BIN__800f79c0 == 0) {
      FUN_BATTLE_BIN__800e8190(0x59,(undefined4 *)0x0);
      if (DAT_BATTLE_BIN__800f79bc == 2) {
        DAT_BATTLE_BIN__800f79bc = 0;
      }
    }
    else {
      cVar5 = (char)((uint)(iVar8 * 0xd0) / 0x3c);
      DAT_BATTLE_BIN__800f7a4c =
           (DAT_BATTLE_BIN__800f7a44 - (char)(((uint)DAT_BATTLE_BIN__800f7a44 * iVar8) / 0x3c)) +
           cVar5;
      DAT_BATTLE_BIN__800f7a4d =
           (DAT_BATTLE_BIN__800f7a45 - (char)(((uint)DAT_BATTLE_BIN__800f7a45 * iVar8) / 0x3c)) +
           cVar5;
      DAT_BATTLE_BIN__800f7a4e =
           (DAT_BATTLE_BIN__800f7a46 - (char)(((uint)DAT_BATTLE_BIN__800f7a46 * iVar8) / 0x3c)) +
           (char)iVar8 * '\x03';
      cVar5 = (char)((uint)(iVar8 * 0x70) / 0x3c);
      DAT_BATTLE_BIN__800f7a50 =
           (DAT_BATTLE_BIN__800f7a48 - (char)(((uint)DAT_BATTLE_BIN__800f7a48 * iVar8) / 0x3c)) +
           cVar5;
      DAT_BATTLE_BIN__800f7a51 =
           (DAT_BATTLE_BIN__800f7a49 - (char)(((uint)DAT_BATTLE_BIN__800f7a49 * iVar8) / 0x3c)) +
           cVar5;
      DAT_BATTLE_BIN__800f7a52 =
           (DAT_BATTLE_BIN__800f7a4a - (char)(((uint)DAT_BATTLE_BIN__800f7a4a * iVar8) / 0x3c)) +
           (char)((uint)(iVar8 * 0x60) / 0x3c);
      DAT_BATTLE_BIN__800f79c0 = iVar8;
      FUN_BATTLE_BIN__800e8190(0x56,(undefined4 *)&DAT_BATTLE_BIN__800f7a4c);
    }
    if ((DAT_BATTLE_BIN__800f79c0 == 0x3a) || (DAT_BATTLE_BIN__800f79c0 == 0x38)) {
      SetColorMatrix((MATRIX *)&DAT_BATTLE_BIN__800f79e4);
      SetBackColor(0,0,0x40);
    }
    if ((DAT_BATTLE_BIN__800f79c0 == 0x39) || (DAT_BATTLE_BIN__800f79c0 == 0x33)) {
      SetColorMatrix((MATRIX *)&DAT_BATTLE_BIN__800f79c4);
      SetBackColor(DAT_BATTLE_BIN__800f5b40,DAT_BATTLE_BIN__800f5b44,DAT_BATTLE_BIN__800f5b48);
    }
  }
  if (DAT_BATTLE_BIN__800f5c52 != 0) {
    FUN_BATTLE_BIN__800e78c0
              ((uint)DAT_BATTLE_BIN__800f5c52,&DAT_BATTLE_BIN__800f5af4,&DAT_BATTLE_BIN__800f5b14,0)
    ;
  }
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe57c) = DAT_BATTLE_BIN__801251c8;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe57d) = DAT_BATTLE_BIN__801251c9;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe57e) = DAT_BATTLE_BIN__801251ca;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe584) = DAT_BATTLE_BIN__801251c8;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe585) = DAT_BATTLE_BIN__801251c9;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe586) = DAT_BATTLE_BIN__801251ca;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe58c) = DAT_BATTLE_BIN__801251cc;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe58d) = DAT_BATTLE_BIN__801251cd;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe58e) = DAT_BATTLE_BIN__801251ce;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe594) = DAT_BATTLE_BIN__801251cc;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe595) = DAT_BATTLE_BIN__801251cd;
  *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + 0xe596) = DAT_BATTLE_BIN__801251ce;
  MulMatrix0((MATRIX *)&DAT_BATTLE_BIN__800f5b14,(MATRIX *)&DAT_BATTLE_BIN__800fbdd4,
             (MATRIX *)&DAT_BATTLE_BIN__800f7e34);
  SetLightMatrix((MATRIX *)&DAT_BATTLE_BIN__800f7e34);
  iVar8 = 0x98;
  if ((DAT_BATTLE_BIN__800f5c50 != '\0') &&
     (cVar5 = DAT_BATTLE_BIN__800f5c50 + -1, bVar1 = DAT_BATTLE_BIN__800f5c50 == '\x01',
     DAT_BATTLE_BIN__800f5c50 = cVar5, bVar1)) {
    FUN_BATTLE_BIN__800e72a0(0x47);
  }
  SetRotMatrix((MATRIX *)param_1);
  SetTransMatrix((MATRIX *)param_1);
  local_48 = 1;
  v = (VECTOR *)&DAT_BATTLE_BIN__800fbed8;
  r = (SVECTOR *)&DAT_BATTLE_BIN__800fbea0;
  m = (MATRIX *)&DAT_BATTLE_BIN__800fbef8;
  local_38 = 0x61;
  local_40 = 0;
  local_30 = 0x220;
  DAT_BATTLE_BIN__800f5b84 = (uint)DAT_BATTLE_BIN__800fbe90;
  iVar13 = (uint)DAT_BATTLE_BIN__800fbe88 * 0x18;
  DAT_BATTLE_BIN__800fa6b8 = &DAT_BATTLE_BIN__8011a2d8 + iVar13;
  DAT_BATTLE_BIN__800fbdf8 = &DAT_BATTLE_BIN__801251d4 + iVar13;
  FUN_BATTLE_BIN__8012cc54
            (*(uint **)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4),
             (uint)DAT_BATTLE_BIN__800fbe88 * 0x28 + DAT_BATTLE_BIN__8011a2d4,
             (int)DAT_BATTLE_BIN__800f5c0c._2_2_);
  DAT_BATTLE_BIN__800f5b88 = (uint)DAT_BATTLE_BIN__800fbe92;
  iVar13 = (uint)DAT_BATTLE_BIN__800fbe8a * 0x20;
  DAT_BATTLE_BIN__800fa6bc = &DAT_BATTLE_BIN__8011c498 + iVar13;
  DAT_BATTLE_BIN__800fbdfc = &DAT_BATTLE_BIN__80127394 + iVar13;
  FUN_BATTLE_BIN__8012cf44
            (*(uint **)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4),
             (uint)DAT_BATTLE_BIN__800fbe8a * 0x34 + 0x3840 + DAT_BATTLE_BIN__8011a2d4,
             (int)DAT_BATTLE_BIN__800f5c0c._2_2_);
  DAT_BATTLE_BIN__800f5b8c = (uint)DAT_BATTLE_BIN__800fbe94;
  DAT_BATTLE_BIN__800f7a58 = &DAT_BATTLE_BIN__80122004 + (uint)DAT_BATTLE_BIN__800fbe8c * 0x18;
  FUN_BATTLE_BIN__8012d2b4
            (*(int *)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4),
             (uint)DAT_BATTLE_BIN__800fbe8c * 0x14 + 0xc878 + DAT_BATTLE_BIN__8011a2d4,
             (int)DAT_BATTLE_BIN__800f5c0c._2_2_);
  DAT_BATTLE_BIN__800f5b90 = (uint)DAT_BATTLE_BIN__800fbe96;
  DAT_BATTLE_BIN__800f7a5c = &DAT_BATTLE_BIN__80122604 + (uint)DAT_BATTLE_BIN__800fbe8e * 0x20;
  FUN_BATTLE_BIN__8012d568
            (*(int *)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4),
             (uint)DAT_BATTLE_BIN__800fbe8e * 0x18 + 0xcd78 + DAT_BATTLE_BIN__8011a2d4,
             (int)DAT_BATTLE_BIN__800f5c0c._2_2_);
  PushMatrix();
  do {
    if (*(char *)(local_30 + -0x7ff05547) != '\0') {
      bVar2 = *(byte *)(iVar8 + -0x7ff0417a);
      RotMatrix(r,m);
      m0 = (MATRIX *)(&DAT_BATTLE_BIN__800fbe60 + (uint)bVar2 * 0x26);
      MulMatrix2(m0,m);
      SetRotMatrix(m0);
      SetTransMatrix(m0);
      RotTrans((SVECTOR *)((int)&DAT_BATTLE_BIN__800fbe20 + iVar8),(VECTOR *)m->t,&lStack_54);
      ScaleMatrix(m,v);
      RotMatrix(r,&MStack_128);
      MulMatrix0((MATRIX *)&DAT_BATTLE_BIN__800f7e34,&MStack_128,&MStack_108);
      SetLightMatrix(&MStack_108);
      SetRotMatrix(m);
      SetTransMatrix(m);
      DAT_BATTLE_BIN__800f5b84 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe90 + iVar8);
      DAT_BATTLE_BIN__800fa6b8 =
           &DAT_BATTLE_BIN__8011a2d8 +
           (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe88 + iVar8) * 0x18;
      DAT_BATTLE_BIN__800fbdf8 =
           &DAT_BATTLE_BIN__801251d4 +
           (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe88 + iVar8) * 0x18;
      FUN_BATTLE_BIN__8012cc54
                (*(uint **)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4),
                 (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe88 + iVar8) * 0x28 +
                 DAT_BATTLE_BIN__8011a2d4,(int)DAT_BATTLE_BIN__800f5c0c._2_2_);
      DAT_BATTLE_BIN__800f5b88 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe92 + iVar8);
      DAT_BATTLE_BIN__800fa6bc =
           &DAT_BATTLE_BIN__8011c498 +
           (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe8a + iVar8) * 0x20;
      DAT_BATTLE_BIN__800fbdfc =
           &DAT_BATTLE_BIN__80127394 +
           (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe8a + iVar8) * 0x20;
      FUN_BATTLE_BIN__8012cf44
                (*(uint **)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4),
                 (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe8a + iVar8) * 0x34 + 0x3840 +
                 DAT_BATTLE_BIN__8011a2d4,(int)DAT_BATTLE_BIN__800f5c0c._2_2_);
      DAT_BATTLE_BIN__800f5b8c = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe94 + iVar8);
      DAT_BATTLE_BIN__800f7a58 =
           &DAT_BATTLE_BIN__80122004 +
           (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe8c + iVar8) * 0x18;
      FUN_BATTLE_BIN__8012d2b4
                (*(int *)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4),
                 (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe8c + iVar8) * 0x14 + 0xc878 +
                 DAT_BATTLE_BIN__8011a2d4,(int)DAT_BATTLE_BIN__800f5c0c._2_2_);
      DAT_BATTLE_BIN__800f5b90 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe96 + iVar8);
      DAT_BATTLE_BIN__800f7a5c =
           &DAT_BATTLE_BIN__80122604 +
           (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe8e + iVar8) * 0x20;
      FUN_BATTLE_BIN__8012d568
                (*(int *)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4),
                 (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe8e + iVar8) * 0x18 + 0xcd78 +
                 DAT_BATTLE_BIN__8011a2d4,(int)DAT_BATTLE_BIN__800f5c0c._2_2_);
      if (((DAT_BATTLE_BIN__80121d58 != 0) && (DAT_BATTLE_BIN__801251c4 != 0)) &&
         ((DAT_BATTLE_BIN__800f5ba8 == 0x35 ||
          ((DAT_BATTLE_BIN__800f5ba8 == 0x37 || (DAT_BATTLE_BIN__800f5ba8 == 0x53)))))) {
        RotMatrix(r,&MStack_e8);
        iVar14 = local_38;
        iVar13 = local_40;
        local_90 = (int)*(short *)((int)&DAT_BATTLE_BIN__800fbe20 + iVar8);
        local_8c = (int)*(short *)((int)&DAT_BATTLE_BIN__800fbe20 + iVar8 + 2);
        local_88 = (int)*(short *)((int)&DAT_BATTLE_BIN__800fbe24 + iVar8);
        iVar18 = 0;
        FUN_8001cf48((int)&MStack_e8,&local_90);
        ScaleMatrix(&MStack_e8,v);
        SetRotMatrix(&MStack_e8);
        SetTransMatrix(&MStack_e8);
        iVar10 = iVar14;
        do {
          iVar16 = iVar18 * 0x10;
          iVar18 = iVar18 + 1;
          RotTrans((SVECTOR *)(&DAT_BATTLE_BIN__800f7e5c + iVar10 * 0x50),
                   (VECTOR *)(iVar16 + DAT_BATTLE_BIN__801251c4 + iVar13),alStack_50);
          iVar10 = iVar18 + iVar14;
        } while (iVar18 < 4);
      }
    }
    v = (VECTOR *)&v[9].vz;
    local_40 = local_40 + 0x40;
    r = r + 0x13;
    local_38 = local_38 + 4;
    iVar8 = iVar8 + 0x98;
    local_30 = local_30 + 0x220;
    m = (MATRIX *)(m[4].t + 1);
    local_48 = local_48 + 1;
  } while (local_48 < 9);
  PopMatrix();
  if (DAT_BATTLE_BIN__800f5b60 == 0x53) {
    PushMatrix();
    DAT_BATTLE_BIN__800f5bce = (ushort)DAT_BATTLE_BIN__800fa6a8 + DAT_BATTLE_BIN__800f5bce;
    RotMatrix((SVECTOR *)&DAT_BATTLE_BIN__800f5bcc,(MATRIX *)&DAT_BATTLE_BIN__800f5bac);
    FUN_8001cf48((int)&DAT_BATTLE_BIN__800f5bac,&DAT_BATTLE_BIN__800f5bd4);
    ScaleMatrix((MATRIX *)&DAT_BATTLE_BIN__800f5bac,(VECTOR *)&DAT_BATTLE_BIN__800f5be4);
    SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__800f5bac);
    SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__800f5bac);
    iVar8 = DAT_BATTLE_BIN__800f5c2c * DAT_BATTLE_BIN__800f5bf4;
    local_58 = 0;
    if (iVar8 < 0) {
      iVar8 = iVar8 + 0xfffff;
    }
    do {
      DAT_BATTLE_BIN__800f6878 = &DAT_BATTLE_BIN__8018f8cc;
      if (0x118 < *(short *)(&DAT_BATTLE_BIN__8010ab8e + local_58 * 0x20)) {
        if (DAT_BATTLE_BIN__800f5be8 != 0) {
          (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] = (short)(-0x100000 / DAT_BATTLE_BIN__800f5be8);
        }
        (&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] = 0;
        iVar13 = rand();
        iVar14 = (iVar13 % 3) * 0x10000 >> 0xd;
        pcVar17 = (char *)((int)&local_a8 + iVar14);
        (&DAT_BATTLE_BIN__8010ab90)[local_58 * 0x20] = *pcVar17;
        (&DAT_BATTLE_BIN__801199b8)[local_58 * 0x20] = *pcVar17;
        (&DAT_BATTLE_BIN__8010ab98)[local_58 * 0x20] = *pcVar17 + *(char *)((int)&local_a4 + iVar14)
        ;
        (&DAT_BATTLE_BIN__801199c0)[local_58 * 0x20] = *pcVar17 + *(char *)((int)&local_a4 + iVar14)
        ;
        (&DAT_BATTLE_BIN__8010aba0)[local_58 * 0x20] = *pcVar17 + *(char *)((int)&local_a4 + iVar14)
        ;
        (&DAT_BATTLE_BIN__801199c8)[local_58 * 0x20] = *pcVar17 + *(char *)((int)&local_a4 + iVar14)
        ;
        (&DAT_BATTLE_BIN__8010ab91)[local_58 * 0x20] = *(undefined *)((int)&local_a8 + iVar14 + 2);
        (&DAT_BATTLE_BIN__801199b9)[local_58 * 0x20] = *(undefined *)((int)&local_a8 + iVar14 + 2);
        (&DAT_BATTLE_BIN__8010ab99)[local_58 * 0x20] = *(undefined *)((int)&local_a8 + iVar14 + 2);
        (&DAT_BATTLE_BIN__801199c1)[local_58 * 0x20] = *(undefined *)((int)&local_a8 + iVar14 + 2);
        (&DAT_BATTLE_BIN__8010aba1)[local_58 * 0x20] =
             *(char *)((int)&local_a8 + iVar14 + 2) + *(char *)((int)&local_a4 + iVar14 + 2);
        (&DAT_BATTLE_BIN__801199c9)[local_58 * 0x20] =
             *(char *)((int)&local_a8 + iVar14 + 2) + *(char *)((int)&local_a4 + iVar14 + 2);
        (&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] =
             (short)(iVar13 % 3) + (ushort)DAT_BATTLE_BIN__800fa6a4;
        if (DAT_BATTLE_BIN__800f5be4 != 0) {
          uVar9 = rand();
          if ((uVar9 & 1) == 0) {
            iVar13 = rand();
            sVar11 = -(short)(iVar13 % (0x8c000 / DAT_BATTLE_BIN__800f5be4));
          }
          else {
            iVar13 = rand();
            sVar11 = (short)(iVar13 % (0x8c000 / DAT_BATTLE_BIN__800f5be4));
          }
          (&DAT_BATTLE_BIN__800fc358)[local_58 * 4] = sVar11;
        }
        if (DAT_BATTLE_BIN__800f5bec != 0) {
          uVar9 = rand();
          if ((uVar9 & 1) == 0) {
            iVar13 = rand();
            sVar11 = -(short)(iVar13 % (0x8c000 / DAT_BATTLE_BIN__800f5bec));
          }
          else {
            iVar13 = rand();
            sVar11 = (short)(iVar13 % (0x8c000 / DAT_BATTLE_BIN__800f5bec));
          }
          (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] = sVar11;
        }
      }
      uVar9 = rand();
      if ((uVar9 & 0x1f) == 0) {
        uVar9 = rand();
        if ((uVar9 & 1) == 0) {
          sVar11 = (&DAT_BATTLE_BIN__800fc358)[local_58 * 4] + -1;
        }
        else {
          sVar11 = (&DAT_BATTLE_BIN__800fc358)[local_58 * 4] + 1;
        }
        (&DAT_BATTLE_BIN__800fc358)[local_58 * 4] = sVar11;
      }
      uVar9 = rand();
      if ((uVar9 & 0x1f) == 0) {
        uVar9 = rand();
        if ((uVar9 & 1) == 0) {
          sVar11 = (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] + -1;
        }
        else {
          sVar11 = (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] + 1;
        }
        (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] = sVar11;
      }
      (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] =
           (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] +
           (&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] * (short)DAT_80045980;
      RotTrans((SVECTOR *)(&DAT_BATTLE_BIN__800fc358 + local_58 * 4),(VECTOR *)&local_70,&lStack_54)
      ;
      iVar13 = DAT_BATTLE_BIN__8011a2d4;
      iVar14 = local_68;
      if (local_68 < 0) {
        iVar14 = local_68 + 3;
      }
      if ((iVar14 >> 2) - 1U < 0x17f) {
        iVar14 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x20;
        sVar11 = (short)(iVar8 >> 0x14);
        sVar6 = local_70 + sVar11;
        *(short *)(iVar14 + 0xe638) = sVar6;
        *(short *)(iVar14 + 0xe640) = sVar6;
        *(short *)(iVar14 + 0xe642) = local_6c + sVar11;
        *(short *)(iVar14 + 0xe630) = local_70;
        *(short *)(iVar14 + 0xe632) = local_6c;
        *(short *)(iVar14 + 0xe63a) = local_6c;
        AddPrim((void *)(*(int *)(iVar13 + 0xe5b4) + 8),(void *)(local_58 * 0x20 + 0xe628 + iVar13))
        ;
      }
      local_58 = local_58 + 1;
    } while (local_58 < 0x40);
    PopMatrix();
  }
  if (DAT_BATTLE_BIN__800f5b60 == 0x96) {
    PushMatrix();
    DAT_BATTLE_BIN__800f5c06 = DAT_BATTLE_BIN__800f5c0c._2_2_;
    iVar8 = rsin((DAT_BATTLE_BIN__800f7a54 << 10) / DAT_BATTLE_BIN__80122000);
    DAT_BATTLE_BIN__800f5c08 = -(short)(iVar8 >> 4);
    iVar8 = rsin((DAT_BATTLE_BIN__800f7a54 << 10) / DAT_BATTLE_BIN__80122000);
    DAT_BATTLE_BIN__800f5be4 = iVar8 * 4 + 0x1000;
    DAT_BATTLE_BIN__800f5be8 = iVar8 + 0x1000;
    DAT_BATTLE_BIN__800f7a54 = DAT_BATTLE_BIN__800f7a54 + 1;
    DAT_BATTLE_BIN__800f5bec = DAT_BATTLE_BIN__800f5be4;
    RotMatrix((SVECTOR *)&DAT_BATTLE_BIN__800f5c04,(MATRIX *)&DAT_BATTLE_BIN__800f5bac);
    FUN_8001cf48((int)&DAT_BATTLE_BIN__800f5bac,&DAT_BATTLE_BIN__800f5bd4);
    ScaleMatrix((MATRIX *)&DAT_BATTLE_BIN__800f5bac,(VECTOR *)&DAT_BATTLE_BIN__800f5be4);
    SetRotMatrix((MATRIX *)&DAT_BATTLE_BIN__800f5bac);
    SetTransMatrix((MATRIX *)&DAT_BATTLE_BIN__800f5bac);
    iVar8 = DAT_BATTLE_BIN__800f5c2c * DAT_BATTLE_BIN__800f5bf4;
    local_58 = 0;
    if (iVar8 < 0) {
      iVar8 = iVar8 + 0xfffff;
    }
    do {
      DAT_BATTLE_BIN__800f6878 = &DAT_BATTLE_BIN__8018f8cc;
      iVar13 = DAT_BATTLE_BIN__80122000;
      if (DAT_BATTLE_BIN__80122000 < 0) {
        iVar13 = DAT_BATTLE_BIN__80122000 + 7;
      }
      if (((DAT_BATTLE_BIN__800f7a54 < iVar13 >> 3) &&
          (0x118 < *(short *)(&DAT_BATTLE_BIN__8010ab8e + local_58 * 0x20))) ||
         ((iVar13 >> 3 < DAT_BATTLE_BIN__800f7a54 &&
          (*(short *)(&DAT_BATTLE_BIN__8010ab8e + local_58 * 0x20) < 0)))) {
        if (DAT_BATTLE_BIN__800f5be8 != 0) {
          iVar13 = DAT_BATTLE_BIN__80122000;
          if (DAT_BATTLE_BIN__80122000 < 0) {
            iVar13 = DAT_BATTLE_BIN__80122000 + 7;
          }
          if (DAT_BATTLE_BIN__800f7a54 < iVar13 >> 3) {
            (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] =
                 (short)(-0x100000 / DAT_BATTLE_BIN__800f5be8);
          }
          iVar13 = DAT_BATTLE_BIN__80122000;
          if (DAT_BATTLE_BIN__80122000 < 0) {
            iVar13 = DAT_BATTLE_BIN__80122000 + 7;
          }
          if (iVar13 >> 3 < DAT_BATTLE_BIN__800f7a54) {
            (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] = (short)(0x30000 / DAT_BATTLE_BIN__800f5be8);
          }
        }
        iVar13 = rand();
        iVar14 = (iVar13 % 3) * 0x10000 >> 0xd;
        pcVar17 = (char *)((int)&local_a8 + iVar14);
        (&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] =
             (DAT_BATTLE_BIN__800fa6a4 + 3) - (short)(iVar13 % 3);
        (&DAT_BATTLE_BIN__8010ab90)[local_58 * 0x20] = *pcVar17;
        (&DAT_BATTLE_BIN__801199b8)[local_58 * 0x20] = *pcVar17;
        (&DAT_BATTLE_BIN__8010ab98)[local_58 * 0x20] = *pcVar17 + *(char *)((int)&local_a4 + iVar14)
        ;
        (&DAT_BATTLE_BIN__801199c0)[local_58 * 0x20] = *pcVar17 + *(char *)((int)&local_a4 + iVar14)
        ;
        (&DAT_BATTLE_BIN__8010aba0)[local_58 * 0x20] = *pcVar17 + *(char *)((int)&local_a4 + iVar14)
        ;
        (&DAT_BATTLE_BIN__801199c8)[local_58 * 0x20] = *pcVar17 + *(char *)((int)&local_a4 + iVar14)
        ;
        (&DAT_BATTLE_BIN__8010ab91)[local_58 * 0x20] = *(undefined *)((int)&local_a8 + iVar14 + 2);
        (&DAT_BATTLE_BIN__801199b9)[local_58 * 0x20] = *(undefined *)((int)&local_a8 + iVar14 + 2);
        (&DAT_BATTLE_BIN__8010ab99)[local_58 * 0x20] = *(undefined *)((int)&local_a8 + iVar14 + 2);
        (&DAT_BATTLE_BIN__801199c1)[local_58 * 0x20] = *(undefined *)((int)&local_a8 + iVar14 + 2);
        (&DAT_BATTLE_BIN__8010aba1)[local_58 * 0x20] =
             *(char *)((int)&local_a8 + iVar14 + 2) + *(char *)((int)&local_a4 + iVar14 + 2);
        (&DAT_BATTLE_BIN__801199c9)[local_58 * 0x20] =
             *(char *)((int)&local_a8 + iVar14 + 2) + *(char *)((int)&local_a4 + iVar14 + 2);
        if (DAT_BATTLE_BIN__800f5be4 != 0) {
          uVar9 = rand();
          if ((uVar9 & 1) == 0) {
            iVar13 = rand();
            sVar11 = -(short)(iVar13 % (0x8c000 / DAT_BATTLE_BIN__800f5be4));
          }
          else {
            iVar13 = rand();
            sVar11 = (short)(iVar13 % (0x8c000 / DAT_BATTLE_BIN__800f5be4));
          }
          (&DAT_BATTLE_BIN__800fc358)[local_58 * 4] = sVar11;
        }
        if (DAT_BATTLE_BIN__800f5bec != 0) {
          uVar9 = rand();
          if ((uVar9 & 1) == 0) {
            iVar13 = rand();
            sVar11 = -(short)(iVar13 % (0x8c000 / DAT_BATTLE_BIN__800f5bec));
          }
          else {
            iVar13 = rand();
            sVar11 = (short)(iVar13 % (0x8c000 / DAT_BATTLE_BIN__800f5bec));
          }
          (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] = sVar11;
        }
      }
      uVar9 = rand();
      if ((uVar9 & 0x1f) == 0) {
        uVar9 = rand();
        if ((uVar9 & 1) == 0) {
          sVar11 = (&DAT_BATTLE_BIN__800fc358)[local_58 * 4] + -1;
        }
        else {
          sVar11 = (&DAT_BATTLE_BIN__800fc358)[local_58 * 4] + 1;
        }
        (&DAT_BATTLE_BIN__800fc358)[local_58 * 4] = sVar11;
      }
      uVar9 = rand();
      if ((uVar9 & 0x1f) == 0) {
        uVar9 = rand();
        if ((uVar9 & 1) == 0) {
          sVar11 = (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] + -1;
        }
        else {
          sVar11 = (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] + 1;
        }
        (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] = sVar11;
      }
      iVar13 = DAT_BATTLE_BIN__80122000;
      if (DAT_BATTLE_BIN__80122000 < 0) {
        iVar13 = DAT_BATTLE_BIN__80122000 + 7;
      }
      if (DAT_BATTLE_BIN__800f7a54 < iVar13 >> 3) {
        iVar13 = rsin((DAT_BATTLE_BIN__800f7a54 << 0xd) / DAT_BATTLE_BIN__80122000 + 0x400);
        iVar13 = (short)(&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] * DAT_80045980 * iVar13;
        if (iVar13 < 0) {
          iVar13 = iVar13 + 0x7ff;
        }
        (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] =
             (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] + (short)(iVar13 >> 0xb);
      }
      iVar13 = DAT_BATTLE_BIN__80122000;
      if (DAT_BATTLE_BIN__80122000 < 0) {
        iVar13 = DAT_BATTLE_BIN__80122000 + 7;
      }
      if (iVar13 >> 3 < DAT_BATTLE_BIN__800f7a54) {
        (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] =
             (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] -
             (&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] * (short)DAT_80045980;
      }
      RotTrans((SVECTOR *)(&DAT_BATTLE_BIN__800fc358 + local_58 * 4),(VECTOR *)&local_70,&lStack_54)
      ;
      iVar13 = DAT_BATTLE_BIN__8011a2d4;
      iVar14 = local_68;
      if (local_68 < 0) {
        iVar14 = local_68 + 3;
      }
      if ((iVar14 >> 2) - 1U < 0x17f) {
        iVar14 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x20;
        sVar11 = (short)(iVar8 >> 0x14);
        sVar6 = local_70 + sVar11;
        *(short *)(iVar14 + 0xe638) = sVar6;
        *(short *)(iVar14 + 0xe640) = sVar6;
        *(short *)(iVar14 + 0xe642) = local_6c + sVar11;
        *(short *)(iVar14 + 0xe630) = local_70;
        *(short *)(iVar14 + 0xe632) = local_6c;
        *(short *)(iVar14 + 0xe63a) = local_6c;
        AddPrim((void *)(*(int *)(iVar13 + 0xe5b4) + 8),(void *)(local_58 * 0x20 + 0xe628 + iVar13))
        ;
      }
      local_58 = local_58 + 1;
    } while (local_58 < 0x40);
    if (DAT_BATTLE_BIN__800f7a54 == DAT_BATTLE_BIN__80122000) {
      FUN_BATTLE_BIN__800eeaf8(0x8b);
      DAT_BATTLE_BIN__800f5be4 = 0x1000;
      DAT_BATTLE_BIN__800f5be8 = 0x1000;
      DAT_BATTLE_BIN__800f5bec = 0x1000;
      DAT_BATTLE_BIN__800f5bcc = 0x10;
      DAT_BATTLE_BIN__800f5bd0 = 0x10;
      DAT_BATTLE_BIN__800f5bd4 = 0x100;
      DAT_BATTLE_BIN__800f5bd8 = 0xf0;
      DAT_BATTLE_BIN__800f5bce = 0;
      DAT_BATTLE_BIN__800f5bdc = 0x280;
    }
    PopMatrix();
  }
  if (DAT_BATTLE_BIN__800f5b60 == 0x55) {
    iVar8 = DAT_BATTLE_BIN__800f5c2c * 0x16;
    if (iVar8 < 0) {
      iVar8 = iVar8 + 0x1fff;
    }
    local_58 = 0;
    do {
      DAT_BATTLE_BIN__800f6878 = &DAT_BATTLE_BIN__8018f8cc;
      iVar14 = (((int)(short)(&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] / 0x1c) * 0x10000 >> 0x10) *
               (uint)DAT_BATTLE_BIN__800f6860 +
               (int)(short)(&DAT_BATTLE_BIN__800fc358)[local_58 * 4] / 0x1c;
      iVar13 = iVar14 * 0x10000 >> 0xd;
      iVar13 = ((uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar13] +
               (uint)((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar13] >> 5)) * -0xc;
      if (iVar13 < (short)(&DAT_BATTLE_BIN__800fc35a)[(local_58 + 0x20) * 4]) {
        (&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] = 0;
        iVar10 = rand();
        (&DAT_BATTLE_BIN__800fc358)[local_58 * 4] =
             (short)(iVar10 % (int)((uint)DAT_BATTLE_BIN__800f6860 * 0x1c));
        iVar10 = rand();
        uVar9 = (uint)DAT_BATTLE_BIN__800f6864;
        (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] = 0xfe80;
        (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4] = (short)(iVar10 % (int)(uVar9 * 0x1c));
        (&DAT_BATTLE_BIN__800fc358)[(local_58 + 0x20) * 4] =
             (&DAT_BATTLE_BIN__800fc358)[local_58 * 4];
        (&DAT_BATTLE_BIN__800fc35c)[(local_58 + 0x20) * 4] =
             (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4];
        iVar10 = rand();
        (&DAT_BATTLE_BIN__800fc35a)[(local_58 + 0x20) * 4] =
             (-0x180 - (ushort)DAT_BATTLE_BIN__800fa6a4) -
             (short)(iVar10 % (int)((uint)DAT_BATTLE_BIN__800fa6a8 * 0xc));
      }
      sVar6 = (short)DAT_80045980;
      sVar11 = (ushort)DAT_BATTLE_BIN__800fa6a4 * sVar6;
      (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] = (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] + sVar11
      ;
      iVar10 = local_58 + 0x20;
      (&DAT_BATTLE_BIN__800fc35a)[iVar10 * 4] = (&DAT_BATTLE_BIN__800fc35a)[iVar10 * 4] + sVar11;
      bVar2 = DAT_BATTLE_BIN__800fa6ac;
      if (local_58 < 0x10) {
        bVar2 = DAT_BATTLE_BIN__800fa6a8;
      }
      sVar6 = (ushort)bVar2 * sVar6;
      (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] = (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] + sVar6;
      (&DAT_BATTLE_BIN__800fc35a)[iVar10 * 4] = (&DAT_BATTLE_BIN__800fc35a)[iVar10 * 4] + sVar6;
      if (-0x180 < (short)(&DAT_BATTLE_BIN__800fc35a)[local_58 * 4]) {
        if (iVar13 < (short)(&DAT_BATTLE_BIN__800fc35a)[local_58 * 4]) {
          (&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] = PTR_DAT_BATTLE_BIN__800f5c60._0_2_;
        }
        else if ((short)(&DAT_BATTLE_BIN__800fc35a)[(local_58 + 0x20) * 4] < iVar13) {
          RotTrans((SVECTOR *)(&DAT_BATTLE_BIN__800fc358 + local_58 * 4),(VECTOR *)&local_70,
                   &lStack_54);
          iVar10 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x20;
          *(short *)(iVar10 + 0xe640) = local_70 + 1;
          *(short *)(iVar10 + 0xe630) = local_70;
          *(short *)(iVar10 + 0xe632) = local_6c;
          *(short *)(iVar10 + 0xe642) = local_6c + -1;
          RotTrans((SVECTOR *)(&DAT_BATTLE_BIN__800fc458 + local_58 * 4),(VECTOR *)&local_70,
                   &lStack_54);
          iVar10 = DAT_BATTLE_BIN__8011a2d4;
          iVar18 = local_68;
          if (local_68 < 0) {
            iVar18 = local_68 + 3;
          }
          if ((iVar18 >> 2) - 1U < 0x17f) {
            iVar16 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x20;
            *(short *)(iVar16 + 0xe638) = local_70;
            *(short *)(iVar16 + 0xe63a) = local_6c;
            AddPrim((void *)((iVar18 >> 2) * 4 + *(int *)(iVar10 + 0xe5b4)),
                    (void *)(local_58 * 0x20 + 0xe628 + iVar10));
          }
        }
      }
      if ((&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] == 0) {
        if (((iVar13 < (int)(undefined *)(int)(short)(&DAT_BATTLE_BIN__800fc35a)[local_58 * 4]) &&
            ((short)(&DAT_BATTLE_BIN__800fc35a)[(local_58 + 0x20) * 4] < iVar13)) ||
           ((undefined *)(int)(short)(&DAT_BATTLE_BIN__800fc35a)[local_58 * 4] ==
            PTR_DAT_BATTLE_BIN__800f5c60)) {
          iVar10 = local_58 * 8;
          uVar7 = (&DAT_BATTLE_BIN__800fc358)[local_58 * 4];
          uVar3 = (&DAT_BATTLE_BIN__800fc35c)[local_58 * 4];
          *(undefined2 *)(&DAT_BATTLE_BIN__8011a1da + iVar10) = 0x10;
          *(short *)(&DAT_BATTLE_BIN__8011a1d6 + iVar10) = (short)iVar13 + -8;
          *(undefined2 *)(&DAT_BATTLE_BIN__8011a1d4 + iVar10) = uVar7;
          puVar4 = DAT_BATTLE_BIN__800f6878;
          *(undefined2 *)(&DAT_BATTLE_BIN__8011a1d8 + iVar10) = uVar3;
          uVar7 = 2;
          if ((puVar4[(iVar14 * 0x10000 >> 0xd) + 6] & 2) == 0) {
            uVar7 = 1;
          }
          (&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] = uVar7;
        }
      }
      if (*(short *)(&DAT_BATTLE_BIN__8011a1da + local_58 * 8) != 0) {
        RotTrans((SVECTOR *)(&DAT_BATTLE_BIN__8011a1d4 + local_58 * 8),(VECTOR *)&local_70,
                 &lStack_54);
        iVar13 = DAT_BATTLE_BIN__8011a2d4;
        iVar14 = local_68;
        if (local_68 < 0) {
          iVar14 = local_68 + 3;
        }
        if ((iVar14 >> 2) - 1U < 0x17f) {
          iVar10 = DAT_BATTLE_BIN__8011a2d4 + (local_58 + 0x20) * 0x20;
          sVar11 = (short)(iVar8 >> 0xd);
          *(short *)(iVar10 + 0xe632) = (local_6c + -4) - sVar11;
          sVar6 = local_6c + -4 + sVar11;
          *(short *)(iVar10 + 0xe638) = local_70 + sVar11;
          *(short *)(iVar10 + 0xe630) = local_70 - sVar11;
          *(short *)(iVar10 + 0xe63a) = sVar6;
          *(short *)(iVar10 + 0xe640) = local_70 - sVar11;
          *(short *)(iVar10 + 0xe642) = sVar6;
          if ((&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] == 1) {
            AddPrim((void *)((iVar14 >> 2) * 4 + *(int *)(iVar13 + 0xe5b4)),
                    (void *)(local_58 * 0x20 + 0xea28 + iVar13));
          }
        }
        iVar13 = local_58 * 8;
        *(short *)(&DAT_BATTLE_BIN__8011a1da + iVar13) =
             *(short *)(&DAT_BATTLE_BIN__8011a1da + iVar13) + -1;
        if ((*(ushort *)(&DAT_BATTLE_BIN__8011a1da + iVar13) & 3) == 0) {
          iVar13 = (*(ushort *)(&DAT_BATTLE_BIN__8011a1da + iVar13) & 0xc) * 2;
          pcVar17 = (char *)((int)&local_c8 + iVar13);
          (&DAT_BATTLE_BIN__8010ab90)[(local_58 + 0x20) * 0x20] = *pcVar17;
          (&DAT_BATTLE_BIN__801199b8)[(local_58 + 0x20) * 0x20] = *pcVar17;
          (&DAT_BATTLE_BIN__8010ab98)[(local_58 + 0x20) * 0x20] =
               *pcVar17 + *(char *)((int)&local_c4 + iVar13);
          (&DAT_BATTLE_BIN__801199c0)[(local_58 + 0x20) * 0x20] =
               *pcVar17 + *(char *)((int)&local_c4 + iVar13);
          (&DAT_BATTLE_BIN__8010aba0)[(local_58 + 0x20) * 0x20] = *pcVar17;
          (&DAT_BATTLE_BIN__801199c8)[(local_58 + 0x20) * 0x20] = *pcVar17;
          (&DAT_BATTLE_BIN__8010ab91)[(local_58 + 0x20) * 0x20] =
               *(undefined *)((int)&local_c8 + iVar13 + 2);
          (&DAT_BATTLE_BIN__801199b9)[(local_58 + 0x20) * 0x20] =
               *(undefined *)((int)&local_c8 + iVar13 + 2);
          (&DAT_BATTLE_BIN__8010ab99)[(local_58 + 0x20) * 0x20] =
               *(char *)((int)&local_c8 + iVar13 + 2) + *(char *)((int)&local_c4 + iVar13 + 2);
          (&DAT_BATTLE_BIN__801199c1)[(local_58 + 0x20) * 0x20] =
               *(char *)((int)&local_c8 + iVar13 + 2) + *(char *)((int)&local_c4 + iVar13 + 2);
          (&DAT_BATTLE_BIN__8010aba1)[(local_58 + 0x20) * 0x20] =
               *(char *)((int)&local_c8 + iVar13 + 2) + *(char *)((int)&local_c4 + iVar13 + 2);
          (&DAT_BATTLE_BIN__801199c9)[(local_58 + 0x20) * 0x20] =
               *(char *)((int)&local_c8 + iVar13 + 2) + *(char *)((int)&local_c4 + iVar13 + 2);
        }
        if (*(short *)(&DAT_BATTLE_BIN__8011a1da + local_58 * 8) == 0) {
          (&DAT_BATTLE_BIN__800fc35e)[local_58 * 4] = 0;
        }
      }
      local_58 = local_58 + 1;
    } while (local_58 < 0x20);
  }
  if (DAT_BATTLE_BIN__800f5b5c != 0) {
    if (DAT_BATTLE_BIN__800f5b5c != DAT_BATTLE_BIN__8011a2d4) {
      local_58 = 0;
      if (0 < DAT_BATTLE_BIN__800f5b64) {
        do {
          if (((int)(short)(&DAT_BATTLE_BIN__8011a2e6)[local_58 * 0xc] & 0x8000U) == 0) {
            *(undefined *)(local_58 * 0x28 + DAT_BATTLE_BIN__8011a2d4 + 4) =
                 DAT_BATTLE_BIN__800f6854;
            *(undefined *)(local_58 * 0x28 + DAT_BATTLE_BIN__8011a2d4 + 5) =
                 DAT_BATTLE_BIN__800f6855;
            *(undefined *)(local_58 * 0x28 + DAT_BATTLE_BIN__8011a2d4 + 6) =
                 DAT_BATTLE_BIN__800f6856;
            *(undefined *)(local_58 * 0x28 + DAT_BATTLE_BIN__8011a2d4 + 0x10) =
                 DAT_BATTLE_BIN__800f6854;
            *(undefined *)(local_58 * 0x28 + DAT_BATTLE_BIN__8011a2d4 + 0x11) =
                 DAT_BATTLE_BIN__800f6855;
            *(undefined *)(local_58 * 0x28 + DAT_BATTLE_BIN__8011a2d4 + 0x12) =
                 DAT_BATTLE_BIN__800f6856;
            *(undefined *)(local_58 * 0x28 + DAT_BATTLE_BIN__8011a2d4 + 0x1c) =
                 DAT_BATTLE_BIN__800f6854;
            *(undefined *)(local_58 * 0x28 + DAT_BATTLE_BIN__8011a2d4 + 0x1d) =
                 DAT_BATTLE_BIN__800f6855;
            *(undefined *)(local_58 * 0x28 + DAT_BATTLE_BIN__8011a2d4 + 0x1e) =
                 DAT_BATTLE_BIN__800f6856;
          }
          local_58 = local_58 + 1;
        } while (local_58 < DAT_BATTLE_BIN__800f5b64);
      }
      local_58 = 0;
      if (0 < DAT_BATTLE_BIN__800f5b68) {
        do {
          if (((int)(short)(&DAT_BATTLE_BIN__8011c4a6)[local_58 * 0x10] & 0x8000U) == 0) {
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x3844) =
                 DAT_BATTLE_BIN__800f6854;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x3845) =
                 DAT_BATTLE_BIN__800f6855;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x3846) =
                 DAT_BATTLE_BIN__800f6856;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x3850) =
                 DAT_BATTLE_BIN__800f6854;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x3851) =
                 DAT_BATTLE_BIN__800f6855;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x3852) =
                 DAT_BATTLE_BIN__800f6856;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x385c) =
                 DAT_BATTLE_BIN__800f6854;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x385d) =
                 DAT_BATTLE_BIN__800f6855;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x385e) =
                 DAT_BATTLE_BIN__800f6856;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x3868) =
                 DAT_BATTLE_BIN__800f6854;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x3869) =
                 DAT_BATTLE_BIN__800f6855;
            *(undefined *)(local_58 * 0x34 + DAT_BATTLE_BIN__8011a2d4 + 0x386a) =
                 DAT_BATTLE_BIN__800f6856;
          }
          local_58 = local_58 + 1;
        } while (local_58 < DAT_BATTLE_BIN__800f5b68);
      }
    }
    DAT_BATTLE_BIN__800f5b5c = 0;
  }
  DAT_BATTLE_BIN__800f6878 = &DAT_BATTLE_BIN__8018f8cc;
  if (DAT_BATTLE_BIN__800f6870 == 1) {
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      do {
        if ((&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = (ushort)(&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] >> 1 & 0x7f
          ;
          DAT_BATTLE_BIN__800f6868 = (ushort)(&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] >> 8;
          uVar12 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if (((&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] & 1) != 0) {
            uVar12 = uVar12 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar12 << 0x10) >> 0xd) + 5] & 0x20) != 0) {
            iVar8 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28;
            *(undefined *)(iVar8 + 4) = 0x20;
            *(ushort *)(iVar8 + 0xe) = *(ushort *)(iVar8 + 0xe) & 0x803f | 0x7840;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x10) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1c) = 0x20;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 5) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x11) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1d) = 0x28;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 6) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x12) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1e) = 0x60;
          }
        }
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      do {
        if ((&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] != 0xfffe) {
          DAT_BATTLE_BIN__800f686c =
               (ushort)(&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = (ushort)(&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] >> 8;
          uVar12 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if (((&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] & 1) != 0) {
            uVar12 = uVar12 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar12 << 0x10) >> 0xd) + 5] & 0x20) != 0) {
            iVar8 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34;
            *(undefined *)(iVar8 + 0x3844) = 0x20;
            *(ushort *)(iVar8 + 0x384e) = *(ushort *)(iVar8 + 0x384e) & 0x803f | 0x7840;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3850) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385c) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3868) = 0x20;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3845) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3851) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385d) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3869) = 0x28;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3846) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3852) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385e) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x386a) = 0x60;
          }
        }
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6870 = 10;
  }
  if (DAT_BATTLE_BIN__800f6872 == 2) {
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      do {
        if ((&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = (ushort)(&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] >> 1 & 0x7f
          ;
          DAT_BATTLE_BIN__800f6868 = (ushort)(&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] >> 8;
          uVar12 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if (((&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] & 1) != 0) {
            uVar12 = uVar12 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar12 << 0x10) >> 0xd) + 5] & 0x40) != 0) {
            iVar8 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28;
            *(undefined *)(iVar8 + 4) = 0x60;
            *(ushort *)(iVar8 + 0xe) = *(ushort *)(iVar8 + 0xe) & 0x803f | 0x7840;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x10) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1c) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 5) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x11) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1d) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 6) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x12) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1e) = 0x20;
          }
        }
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      do {
        if ((&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] != 0xfffe) {
          DAT_BATTLE_BIN__800f686c =
               (ushort)(&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = (ushort)(&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] >> 8;
          uVar12 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if (((&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] & 1) != 0) {
            uVar12 = uVar12 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar12 << 0x10) >> 0xd) + 5] & 0x40) != 0) {
            iVar8 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34;
            *(undefined *)(iVar8 + 0x3844) = 0x60;
            *(ushort *)(iVar8 + 0x384e) = *(ushort *)(iVar8 + 0x384e) & 0x803f | 0x7840;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3850) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385c) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3868) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3845) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3851) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385d) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3869) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3846) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3852) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385e) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x386a) = 0x20;
          }
        }
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6872 = 0xb;
  }
  if (DAT_BATTLE_BIN__800f6874 == 7) {
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      do {
        if ((&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = (ushort)(&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] >> 1 & 0x7f
          ;
          DAT_BATTLE_BIN__800f6868 = (ushort)(&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] >> 8;
          uVar12 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if (((&DAT_BATTLE_BIN__8011a2de)[local_58 * 0xc] & 1) != 0) {
            uVar12 = uVar12 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar12 << 0x10) >> 0xd) + 5] & 0x80) != 0) {
            iVar8 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28;
            *(undefined *)(iVar8 + 4) = 0x50;
            *(ushort *)(iVar8 + 0xe) = *(ushort *)(iVar8 + 0xe) & 0x803f | 0x7840;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x10) = 0x50;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1c) = 0x50;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 5) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x11) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1d) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 6) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x12) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1e) = 0x10;
          }
        }
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      do {
        if ((&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] != 0xfffe) {
          DAT_BATTLE_BIN__800f686c =
               (ushort)(&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = (ushort)(&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] >> 8;
          uVar12 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if (((&DAT_BATTLE_BIN__8011c49e)[local_58 * 0x10] & 1) != 0) {
            uVar12 = uVar12 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar12 << 0x10) >> 0xd) + 5] & 0x80) != 0) {
            iVar8 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34;
            *(undefined *)(iVar8 + 0x3844) = 0x50;
            *(ushort *)(iVar8 + 0x384e) = *(ushort *)(iVar8 + 0x384e) & 0x803f | 0x7840;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3850) = 0x50;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385c) = 0x50;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3868) = 0x50;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3845) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3851) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385d) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3869) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3846) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3852) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385e) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x386a) = 0x10;
          }
        }
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6874 = 0xc;
  }
  if (DAT_BATTLE_BIN__800f6870 == 5) {
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      do {
        iVar13 = DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28;
        iVar8 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28;
        *(undefined2 *)(iVar8 + 0xe) = *(undefined2 *)(iVar13 + 0xe);
        if (((int)(short)(&DAT_BATTLE_BIN__8011a2e6)[local_58 * 0xc] & 0x8000U) == 0) {
          *(undefined *)(iVar8 + 4) = *(undefined *)(iVar13 + 4);
          *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x10) =
               *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 0x10);
          *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1c) =
               *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 0x1c);
        }
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      do {
        iVar13 = DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34;
        iVar8 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34;
        *(undefined2 *)(iVar8 + 0x384e) = *(undefined2 *)(iVar13 + 0x384e);
        if (((int)(short)(&DAT_BATTLE_BIN__8011c4a6)[local_58 * 0x10] & 0x8000U) == 0) {
          *(undefined *)(iVar8 + 0x3844) = *(undefined *)(iVar13 + 0x3844);
          *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3850) =
               *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x3850);
          *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385c) =
               *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x385c);
          *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3868) =
               *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x3868);
        }
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6870 = 0;
    if ((DAT_BATTLE_BIN__800f6872 | DAT_BATTLE_BIN__800f6874) == 0) {
      FUN_BATTLE_BIN__8008f710(10,8,1,0,1,0xffe0,0xffe0,0xffe0);
      FUN_BATTLE_BIN__8008f710(8,8,1,0,1,0xffe0,0xffe0,0xffe0);
    }
  }
  iVar13 = DAT_BATTLE_BIN__8011a2d4;
  iVar8 = DAT_BATTLE_BIN__800f79b8;
  if (DAT_BATTLE_BIN__800f6872 == 3) {
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      do {
        *(undefined2 *)(iVar13 + local_58 * 0x28 + 0xe) =
             *(undefined2 *)(iVar8 + local_58 * 0x28 + 0xe);
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    iVar13 = DAT_BATTLE_BIN__8011a2d4;
    iVar8 = DAT_BATTLE_BIN__800f79b8;
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      do {
        *(undefined2 *)(iVar13 + local_58 * 0x34 + 0x384e) =
             *(undefined2 *)(iVar8 + local_58 * 0x34 + 0x384e);
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6872 = 0;
    if ((DAT_BATTLE_BIN__800f6870 | DAT_BATTLE_BIN__800f6874) == 0) {
      FUN_BATTLE_BIN__8008f710(10,8,1,0,1,0xffe0,0xffe0,0xffe0);
      FUN_BATTLE_BIN__8008f710(8,8,1,0,1,0xffe0,0xffe0,0xffe0);
    }
  }
  if (DAT_BATTLE_BIN__800f6874 == 8) {
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      do {
        iVar8 = DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28;
        iVar13 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28;
        *(undefined2 *)(iVar13 + 0xe) = *(undefined2 *)(iVar8 + 0xe);
        *(undefined *)(iVar13 + 4) = *(undefined *)(iVar8 + 4);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x10) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 0x10);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1c) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 0x1c);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 5) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 5);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x11) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 0x11);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1d) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 0x1d);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 6) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 6);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x12) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 0x12);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x28 + 0x1e) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x28 + 0x1e);
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    local_58 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      do {
        iVar13 = DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34;
        iVar8 = DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34;
        *(undefined2 *)(iVar8 + 0x384e) = *(undefined2 *)(iVar13 + 0x384e);
        *(undefined *)(iVar8 + 0x3844) = *(undefined *)(iVar13 + 0x3844);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3850) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x3850);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385c) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x385c);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3868) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x3868);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3845) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x3845);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3851) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x3851);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385d) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x385d);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3869) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x3869);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3846) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x3846);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x3852) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x3852);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x385e) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x385e);
        *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + local_58 * 0x34 + 0x386a) =
             *(undefined *)(DAT_BATTLE_BIN__800f79b8 + local_58 * 0x34 + 0x386a);
        local_58 = local_58 + 1;
      } while (local_58 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6874 = 0;
    if ((DAT_BATTLE_BIN__800f6870 | DAT_BATTLE_BIN__800f6872) == 0) {
      FUN_BATTLE_BIN__8008f710(10,8,1,0,1,0xffe0,0xffe0,0xffe0);
      FUN_BATTLE_BIN__8008f710(8,8,1,0,1,0xffe0,0xffe0,0xffe0);
    }
  }
  return;
}



void FUN_BATTLE_BIN__800ec718(undefined4 param_1)

{
  ushort uVar1;
  ushort uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  ushort *puVar7;
  ushort *puVar8;
  
  DAT_BATTLE_BIN__800f6878 = &DAT_BATTLE_BIN__8018f8cc;
  switch(param_1) {
  case 0:
    iVar5 = 0;
    iVar6 = DAT_BATTLE_BIN__8011a2d4;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      do {
        iVar5 = iVar5 + 1;
        *(ushort *)(iVar6 + 0xe) = *(ushort *)(iVar6 + 0xe) & 0x803f | 0x7800;
        iVar6 = iVar6 + 0x28;
      } while (iVar5 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    iVar5 = 0;
    iVar6 = DAT_BATTLE_BIN__8011a2d4;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      do {
        iVar5 = iVar5 + 1;
        *(ushort *)(iVar6 + 0x384e) = *(ushort *)(iVar6 + 0x384e) & 0x803f | 0x7800;
        iVar6 = iVar6 + 0x34;
      } while (iVar5 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6870 = 5;
    DAT_BATTLE_BIN__800f6872 = 3;
    DAT_BATTLE_BIN__800f6874 = 8;
    FUN_BATTLE_BIN__800e72a0(0x46);
    FUN_BATTLE_BIN__800e72a0(0x94);
    DAT_BATTLE_BIN__800f79b8 = DAT_BATTLE_BIN__8011a2d4;
    break;
  case 1:
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011a2e6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011a2de;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x20) != 0) {
            iVar3 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(undefined *)(iVar3 + 4) = 0x20;
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar3 + 0xe) = *(ushort *)(iVar3 + 0xe) & 0x803f | 0x7840;
            *(undefined *)(iVar4 + 0x10) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1c) = 0x20;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 5) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x11) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1d) = 0x28;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 6) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x12) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1e) = 0x60;
            *puVar8 = *puVar8 & 0xfffe;
          }
        }
        puVar8 = puVar8 + 0xc;
        iVar5 = iVar5 + 0x28;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0xc;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011c4a6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011c49e;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x20) != 0) {
            iVar3 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(undefined *)(iVar3 + 0x3844) = 0x20;
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar3 + 0x384e) = *(ushort *)(iVar3 + 0x384e) & 0x803f | 0x7840;
            *(undefined *)(iVar4 + 0x3850) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385c) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3868) = 0x20;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3845) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3851) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385d) = 0x28;
                    // Possible PsyQ macro: setPolyF4()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3869) = 0x28;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3846) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3852) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385e) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x386a) = 0x60;
            *puVar8 = *puVar8 & 0xfffe;
          }
        }
        puVar8 = puVar8 + 0x10;
        iVar5 = iVar5 + 0x34;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0x10;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6870 = 1;
    if ((DAT_BATTLE_BIN__800f6872 | DAT_BATTLE_BIN__800f6874) != 0) {
      if (DAT_BATTLE_BIN__800f6872 != 3) {
        DAT_BATTLE_BIN__800f6870 = 1;
        return;
      }
      uVar2 = 8;
      uVar1 = DAT_BATTLE_BIN__800f6874;
LAB_BATTLE_BIN__800edb14:
      if (uVar1 != uVar2) {
        return;
      }
    }
    goto LAB_BATTLE_BIN__800edb1c;
  case 2:
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011a2e6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011a2de;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x40) != 0) {
            iVar3 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(undefined *)(iVar3 + 4) = 0x60;
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar3 + 0xe) = *(ushort *)(iVar3 + 0xe) & 0x803f | 0x7840;
            *(undefined *)(iVar4 + 0x10) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1c) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 5) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x11) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1d) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 6) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x12) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1e) = 0x20;
            *puVar8 = *puVar8 & 0xfffe;
          }
        }
        puVar8 = puVar8 + 0xc;
        iVar5 = iVar5 + 0x28;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0xc;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011c4a6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011c49e;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x40) != 0) {
            iVar3 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(undefined *)(iVar3 + 0x3844) = 0x60;
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar3 + 0x384e) = *(ushort *)(iVar3 + 0x384e) & 0x803f | 0x7840;
            *(undefined *)(iVar4 + 0x3850) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385c) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3868) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3845) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3851) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385d) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3869) = 0x18;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3846) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3852) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385e) = 0x20;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x386a) = 0x20;
            *puVar8 = *puVar8 & 0xfffe;
          }
        }
        puVar8 = puVar8 + 0x10;
        iVar5 = iVar5 + 0x34;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0x10;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6872 = 2;
    if ((DAT_BATTLE_BIN__800f6870 | DAT_BATTLE_BIN__800f6874) != 0) {
      if (DAT_BATTLE_BIN__800f6870 != 5) {
        DAT_BATTLE_BIN__800f6872 = 2;
        return;
      }
      uVar2 = 8;
      uVar1 = DAT_BATTLE_BIN__800f6874;
      goto LAB_BATTLE_BIN__800edb14;
    }
    goto LAB_BATTLE_BIN__800edb1c;
  case 3:
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011a2e6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011a2de;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x40) != 0) {
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar4 + 0xe) = *(ushort *)(iVar4 + 0xe) & 0x803f | 0x7800;
            if (((int)(short)*puVar8 & 0x8000U) == 0) {
              *(undefined *)(iVar4 + 4) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 5) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 6) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x10) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x11) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x12) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x1c) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x1d) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x1e) = DAT_BATTLE_BIN__800f6856;
            }
            else {
              *puVar8 = *puVar8 | 1;
            }
          }
        }
        puVar8 = puVar8 + 0xc;
        iVar5 = iVar5 + 0x28;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0xc;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011c4a6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011c49e;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x40) != 0) {
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar4 + 0x384e) = *(ushort *)(iVar4 + 0x384e) & 0x803f | 0x7800;
            if (((int)(short)*puVar8 & 0x8000U) == 0) {
              *(undefined *)(iVar4 + 0x3844) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3845) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3846) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3850) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3851) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3852) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x385c) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x385d) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x385e) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3868) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3869) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x386a) = DAT_BATTLE_BIN__800f6856;
            }
            else {
              *puVar8 = *puVar8 | 1;
            }
          }
        }
        puVar8 = puVar8 + 0x10;
        iVar5 = iVar5 + 0x34;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0x10;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6872 = 3;
    DAT_BATTLE_BIN__800f79b8 = DAT_BATTLE_BIN__8011a2d4;
    break;
  case 5:
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011a2e6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011a2de;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x20) != 0) {
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar4 + 0xe) = *(ushort *)(iVar4 + 0xe) & 0x803f | 0x7800;
            if (((int)(short)*puVar8 & 0x8000U) == 0) {
              *(undefined *)(iVar4 + 4) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 5) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 6) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x10) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x11) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x12) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x1c) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x1d) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x1e) = DAT_BATTLE_BIN__800f6856;
            }
            else {
              *puVar8 = *puVar8 | 1;
            }
          }
        }
        puVar8 = puVar8 + 0xc;
        iVar5 = iVar5 + 0x28;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0xc;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011c4a6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011c49e;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x20) != 0) {
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar4 + 0x384e) = *(ushort *)(iVar4 + 0x384e) & 0x803f | 0x7800;
            if (((int)(short)*puVar8 & 0x8000U) == 0) {
              *(undefined *)(iVar4 + 0x3844) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3845) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3846) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3850) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3851) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3852) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x385c) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x385d) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x385e) = DAT_BATTLE_BIN__800f6856;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3868) = DAT_BATTLE_BIN__800f6854;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3869) = DAT_BATTLE_BIN__800f6855;
              *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x386a) = DAT_BATTLE_BIN__800f6856;
            }
            else {
              *puVar8 = *puVar8 | 1;
            }
          }
        }
        puVar8 = puVar8 + 0x10;
        iVar5 = iVar5 + 0x34;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0x10;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6870 = 5;
    DAT_BATTLE_BIN__800f79b8 = DAT_BATTLE_BIN__8011a2d4;
    break;
  case 7:
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011a2e6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011a2de;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x80) != 0) {
            iVar3 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(undefined *)(iVar3 + 4) = 0x50;
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar3 + 0xe) = *(ushort *)(iVar3 + 0xe) & 0x803f | 0x7840;
            *(undefined *)(iVar4 + 0x10) = 0x50;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1c) = 0x50;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 5) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x11) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1d) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 6) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x12) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1e) = 0x10;
            *puVar8 = *puVar8 & 0xfffe;
          }
        }
        puVar8 = puVar8 + 0xc;
        iVar5 = iVar5 + 0x28;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0xc;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      puVar8 = &DAT_BATTLE_BIN__8011c4a6;
      iVar5 = 0;
      puVar7 = &DAT_BATTLE_BIN__8011c49e;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x80) != 0) {
            iVar3 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(undefined *)(iVar3 + 0x3844) = 0x50;
            iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
            *(ushort *)(iVar3 + 0x384e) = *(ushort *)(iVar3 + 0x384e) & 0x803f | 0x7840;
            *(undefined *)(iVar4 + 0x3850) = 0x50;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385c) = 0x50;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3868) = 0x50;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3845) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3851) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385d) = 0x60;
                    // Possible PsyQ macro: setTile()
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3869) = 0x60;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3846) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3852) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385e) = 0x10;
            *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x386a) = 0x10;
            *puVar8 = *puVar8 & 0xfffe;
          }
        }
        puVar8 = puVar8 + 0x10;
        iVar5 = iVar5 + 0x34;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0x10;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6874 = 7;
    if ((DAT_BATTLE_BIN__800f6870 | DAT_BATTLE_BIN__800f6872) != 0) {
      if (DAT_BATTLE_BIN__800f6870 != 5) {
        DAT_BATTLE_BIN__800f6874 = 7;
        return;
      }
      uVar2 = 3;
      uVar1 = DAT_BATTLE_BIN__800f6872;
      goto LAB_BATTLE_BIN__800edb14;
    }
LAB_BATTLE_BIN__800edb1c:
    FUN_BATTLE_BIN__8008f710(9,8,1,0,1,10,10,10);
    break;
  case 8:
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe90 != 0) {
      iVar5 = 0;
      puVar8 = &DAT_BATTLE_BIN__8011a2e6;
      puVar7 = &DAT_BATTLE_BIN__8011a2de;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x80) != 0) {
            if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x40) == 0) {
              iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
              *(ushort *)(iVar4 + 0xe) = *(ushort *)(iVar4 + 0xe) & 0x803f | 0x7800;
              if (((int)(short)*puVar8 & 0x8000U) == 0) {
                *(undefined *)(iVar4 + 4) = DAT_BATTLE_BIN__800f6854;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 5) = DAT_BATTLE_BIN__800f6855;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 6) = DAT_BATTLE_BIN__800f6856;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x10) = DAT_BATTLE_BIN__800f6854;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x11) = DAT_BATTLE_BIN__800f6855;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x12) = DAT_BATTLE_BIN__800f6856;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x1c) = DAT_BATTLE_BIN__800f6854;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x1d) = DAT_BATTLE_BIN__800f6855;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x1e) = DAT_BATTLE_BIN__800f6856;
              }
              else {
                *puVar8 = *puVar8 | 1;
              }
            }
            else {
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 4) = 0x60;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x10) = 0x60;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1c) = 0x60;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 5) = 0x18;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x11) = 0x18;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1d) = 0x18;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 6) = 0x20;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x12) = 0x20;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x1e) = 0x20;
            }
          }
        }
        iVar5 = iVar5 + 0x28;
        puVar8 = puVar8 + 0xc;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0xc;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe90);
    }
    iVar6 = 0;
    if (DAT_BATTLE_BIN__800fbe92 != 0) {
      iVar5 = 0;
      puVar8 = &DAT_BATTLE_BIN__8011c4a6;
      puVar7 = &DAT_BATTLE_BIN__8011c49e;
      do {
        if (*puVar7 != 0xfffe) {
          DAT_BATTLE_BIN__800f686c = *puVar7 >> 1 & 0x7f;
          DAT_BATTLE_BIN__800f6868 = *puVar7 >> 8;
          uVar1 = DAT_BATTLE_BIN__800f686c * DAT_BATTLE_BIN__800f6860 + DAT_BATTLE_BIN__800f6868;
          if ((*puVar7 & 1) != 0) {
            uVar1 = uVar1 + 0x100;
          }
          if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x80) != 0) {
            if ((DAT_BATTLE_BIN__800f6878[((int)((uint)uVar1 << 0x10) >> 0xd) + 5] & 0x40) == 0) {
              iVar4 = DAT_BATTLE_BIN__8011a2d4 + iVar5;
              *(ushort *)(iVar4 + 0x384e) = *(ushort *)(iVar4 + 0x384e) & 0x803f | 0x7800;
              if (((int)(short)*puVar8 & 0x8000U) == 0) {
                *(undefined *)(iVar4 + 0x3844) = DAT_BATTLE_BIN__800f6854;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3845) = DAT_BATTLE_BIN__800f6855
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3846) = DAT_BATTLE_BIN__800f6856
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3850) = DAT_BATTLE_BIN__800f6854
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3851) = DAT_BATTLE_BIN__800f6855
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3852) = DAT_BATTLE_BIN__800f6856
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x385c) = DAT_BATTLE_BIN__800f6854
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x385d) = DAT_BATTLE_BIN__800f6855
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x385e) = DAT_BATTLE_BIN__800f6856
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3868) = DAT_BATTLE_BIN__800f6854
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x3869) = DAT_BATTLE_BIN__800f6855
                ;
                *(undefined *)(iVar5 + DAT_BATTLE_BIN__8011a2d4 + 0x386a) = DAT_BATTLE_BIN__800f6856
                ;
              }
              else {
                *puVar8 = *puVar8 | 1;
              }
            }
            else {
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3844) = 0x60;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3850) = 0x60;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385c) = 0x60;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3868) = 0x60;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3845) = 0x18;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3851) = 0x18;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385d) = 0x18;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3869) = 0x18;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3846) = 0x20;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x3852) = 0x20;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x385e) = 0x20;
              *(undefined *)(DAT_BATTLE_BIN__8011a2d4 + iVar5 + 0x386a) = 0x20;
            }
          }
        }
        iVar5 = iVar5 + 0x34;
        puVar8 = puVar8 + 0x10;
        iVar6 = iVar6 + 1;
        puVar7 = puVar7 + 0x10;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__800fbe92);
    }
    DAT_BATTLE_BIN__800f6874 = 8;
    DAT_BATTLE_BIN__800f79b8 = DAT_BATTLE_BIN__8011a2d4;
  }
  return;
}



void FUN_BATTLE_BIN__800ee104(void)

{
  POLY_FT3 *p;
  POLY_GT3 *p_00;
  undefined *puVar1;
  int iVar2;
  int iVar3;
  POLY_FT3 *pPVar4;
  POLY_GT3 *pPVar5;
  int iVar6;
  POLY_F3 PStack_38;
  
  iVar2 = 0;
  pPVar4 = (POLY_FT3 *)&DAT_BATTLE_BIN__8010ab84;
  DAT_BATTLE_BIN__8011a2d4 = &DAT_BATTLE_BIN__800fc55c;
  DAT_BATTLE_BIN__8010ab10 = &DAT_80056b18;
  DAT_BATTLE_BIN__80119938 = &DAT_80057118;
  do {
    iVar6 = 0;
    p = pPVar4;
    do {
      SetPolyFT3(p);
      iVar6 = iVar6 + 1;
      p = p + 1;
    } while (iVar6 < 0x40);
    pPVar4 = (POLY_FT3 *)&pPVar4[0x771].x0;
    iVar2 = iVar2 + 1;
  } while (iVar2 < 2);
  SetPolyF3(&PStack_38);
  pPVar5 = (POLY_GT3 *)&DAT_BATTLE_BIN__800fc55c;
  DAT_BATTLE_BIN__800f5b58 = 0;
  DAT_BATTLE_BIN__800f5b59 = 0;
  DAT_BATTLE_BIN__800f5b5a = 1;
  DAT_BATTLE_BIN__800f5b5b = PStack_38.code;
  iVar2 = 0;
  SetPolyG4((POLY_G4 *)&DAT_BATTLE_BIN__8010aad4);
  SetPolyG4((POLY_G4 *)&DAT_BATTLE_BIN__801198fc);
  DAT_BATTLE_BIN__8010aadc = 0;
  DAT_BATTLE_BIN__8010aade = 0;
  DAT_BATTLE_BIN__8010aae4 = 0x180;
  DAT_BATTLE_BIN__8010aae6 = 0;
  DAT_BATTLE_BIN__8010aaec = 0;
  DAT_BATTLE_BIN__8010aaee = 0xf0;
  DAT_BATTLE_BIN__8010aaf4 = 0x180;
  DAT_BATTLE_BIN__8010aaf6 = 0xf0;
  DAT_BATTLE_BIN__80119904 = 0;
  DAT_BATTLE_BIN__80119906 = 0;
  DAT_BATTLE_BIN__8011990c = 0x180;
  DAT_BATTLE_BIN__8011990e = 0;
  DAT_BATTLE_BIN__80119914 = 0;
  DAT_BATTLE_BIN__80119916 = 0xf0;
  DAT_BATTLE_BIN__8011991c = 0x180;
  DAT_BATTLE_BIN__8011991e = 0xf0;
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8010ab04,0,1,0,(RECT *)0x0);
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8011992c,0,1,0,(RECT *)0x0);
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8010aaf8,0,1,0,(RECT *)0x0);
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__80119920,0,1,0,(RECT *)0x0);
  do {
    iVar6 = 0;
    p_00 = pPVar5;
    do {
      SetPolyGT3(p_00);
      p_00 = (POLY_GT3 *)&p_00[0x5f4].x0;
      iVar6 = iVar6 + 1;
    } while (iVar6 < 2);
    iVar2 = iVar2 + 1;
    pPVar5 = pPVar5 + 1;
  } while (iVar2 < 0x168);
  iVar2 = 0;
  iVar6 = 0;
  do {
    iVar3 = 0;
    puVar1 = &DAT_BATTLE_BIN__800ffd9c;
    do {
      SetPolyGT4((POLY_GT4 *)(puVar1 + iVar6));
      puVar1 = puVar1 + 0xee28;
      iVar3 = iVar3 + 1;
    } while (iVar3 < 2);
    iVar2 = iVar2 + 1;
    iVar6 = iVar6 + 0x34;
  } while (iVar2 < 0x2c6);
  iVar2 = 0;
  iVar6 = 0;
  do {
    iVar3 = 0;
    puVar1 = &DAT_BATTLE_BIN__80108dd4;
    do {
      SetPolyF3((POLY_F3 *)(puVar1 + iVar6));
      puVar1 = puVar1 + 0xee28;
      iVar3 = iVar3 + 1;
    } while (iVar3 < 2);
    iVar2 = iVar2 + 1;
    iVar6 = iVar6 + 0x14;
  } while (iVar2 < 0x40);
  iVar6 = 0;
  iVar2 = 0;
  do {
    iVar3 = 0;
    puVar1 = &DAT_BATTLE_BIN__801092d4;
    do {
      SetPolyF4((POLY_F4 *)(puVar1 + iVar2));
      puVar1 = puVar1 + 0xee28;
      iVar3 = iVar3 + 1;
    } while (iVar3 < 2);
    iVar6 = iVar6 + 1;
    iVar2 = iVar2 + 0x18;
  } while (iVar6 < 0x100);
  DAT_BATTLE_BIN__800f5c64 = 0;
  DAT_BATTLE_BIN__800f5c70 = 0;
  DAT_BATTLE_BIN__801251c4 = 0;
  return;
}



void FUN_BATTLE_BIN__800ee438(void)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined *puVar7;
  int iVar8;
  int iVar9;
  undefined4 *puVar10;
  undefined4 *puVar11;
  undefined4 *puVar12;
  undefined4 *puVar13;
  int iVar14;
  uchar *puVar15;
  uchar *puVar16;
  
  uVar6 = DAT_BATTLE_BIN__800e6ba8;
  uVar5 = DAT_BATTLE_BIN__800e6ba4;
  uVar4 = DAT_BATTLE_BIN__800e6ba0;
  uVar3 = DAT_BATTLE_BIN__800e6b9c;
  uVar2 = DAT_BATTLE_BIN__800e6b98;
  uVar1 = DAT_BATTLE_BIN__800e6b94;
  iVar14 = 0;
  iVar9 = -0x7ff08f4c;
  DAT_BATTLE_BIN__800f6860 = 1;
  DAT_BATTLE_BIN__800f6864 = 1;
  DAT_BATTLE_BIN__800f6868 = 1;
  DAT_BATTLE_BIN__800f686c = 1;
  DAT_BATTLE_BIN__80121d58 = 0;
  DAT_BATTLE_BIN__800fc558 = 4;
  DAT_BATTLE_BIN__800f5c54 = 0;
  do {
    iVar8 = 0xd;
    puVar7 = (undefined *)(iVar9 + 0xd);
    do {
      *puVar7 = 0;
      iVar8 = iVar8 + -1;
      puVar7 = puVar7 + -1;
    } while (-1 < iVar8);
    (&DAT_BATTLE_BIN__800f78e8)[iVar14] = 0;
    iVar14 = iVar14 + 1;
    iVar9 = iVar9 + 0xe;
  } while (iVar14 < 0x96);
  iVar9 = 0;
  puVar16 = &DAT_BATTLE_BIN__800f7a65;
  puVar15 = &DAT_BATTLE_BIN__800fa6c6;
  do {
    bzero(puVar15,0xe);
    bzero(puVar16,0xe);
    puVar16 = puVar16 + 0x14;
    iVar9 = iVar9 + 1;
    puVar15 = puVar15 + 0x14;
  } while (iVar9 < 0x31);
  FUN_BATTLE_BIN__800eeaf8(0x54);
  DAT_BATTLE_BIN__800f79bc = 0;
  DAT_BATTLE_BIN__800b6698 = DAT_BATTLE_BIN__800b6698 & 0x7d;
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8010ab04,0,1,0,(RECT *)0x0);
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8011992c,0,1,0,(RECT *)0x0);
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8010aaf8,0,1,0,(RECT *)0x0);
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__80119920,0,1,0,(RECT *)0x0);
  iVar9 = 0x21a8;
  DAT_BATTLE_BIN__800f6854 = 0x80;
  DAT_BATTLE_BIN__800f6855 = 0x80;
  DAT_BATTLE_BIN__800f6856 = 0x80;
  do {
    *(undefined2 *)((int)&DAT_BATTLE_BIN__8011a2e6 + iVar9) = 0x8001;
    iVar9 = iVar9 + -0x18;
    iVar14 = 0x58a0;
  } while (-1 < iVar9);
  do {
    *(undefined2 *)((int)&DAT_BATTLE_BIN__8011c4a6 + iVar14) = 0x8001;
    iVar14 = iVar14 + -0x20;
  } while (-1 < iVar14);
  iVar9 = 0x5e8;
  do {
    *(undefined2 *)((int)&DAT_BATTLE_BIN__80122012 + iVar9) = 0;
    iVar9 = iVar9 + -0x18;
  } while (-1 < iVar9);
  iVar9 = 0x1fe0;
  do {
    *(undefined2 *)((int)&DAT_BATTLE_BIN__80122612 + iVar9) = 0;
    iVar9 = iVar9 + -0x20;
    iVar14 = 0;
  } while (-1 < iVar9);
  iVar9 = 0;
  do {
    *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar9 + 2) = 0;
    *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar9 + 3) = 0;
    iVar14 = iVar14 + 1;
    iVar9 = iVar9 + 0x14;
  } while (iVar14 < 0x20);
  iVar9 = 0x21a8;
  do {
    *(undefined2 *)((int)&DAT_BATTLE_BIN__8011a2de + iVar9) = 0xfffe;
    iVar9 = iVar9 + -0x18;
  } while (-1 < iVar9);
  iVar9 = 0x58a0;
  do {
    *(undefined2 *)((int)&DAT_BATTLE_BIN__8011c49e + iVar9) = 0xfffe;
    iVar9 = iVar9 + -0x20;
  } while (-1 < iVar9);
  iVar8 = 1;
  puVar10 = &DAT_BATTLE_BIN__8011a1b4;
  iVar9 = 0x98;
  iVar14 = 0x220;
  do {
    *(undefined *)(iVar14 + -0x7ff05547) = 0;
    *(undefined *)(iVar9 + -0x7ff0417c) = 0x10;
    *(undefined *)(iVar9 + -0x7ff04179) = 0;
    *puVar10 = 0;
    puVar10 = puVar10 + 1;
    iVar9 = iVar9 + 0x98;
    iVar8 = iVar8 + 1;
    iVar14 = iVar14 + 0x220;
  } while (iVar8 < 9);
  puVar10 = &DAT_BATTLE_BIN__800fbe08;
  puVar13 = &DAT_BATTLE_BIN__800fbe50;
  puVar12 = &DAT_BATTLE_BIN__800fbe10;
  puVar11 = &DAT_BATTLE_BIN__800fbe00;
  iVar14 = 0;
  DAT_BATTLE_BIN__800f5b64 = 0;
  DAT_BATTLE_BIN__800f5b68 = 0;
  DAT_BATTLE_BIN__800f5b6c = 0;
  DAT_BATTLE_BIN__800f5b70 = 0;
  iVar9 = 0;
  do {
    *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe90 + iVar14) = 0;
    *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe92 + iVar14) = 0;
    *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe94 + iVar14) = 0;
    *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe96 + iVar14) = 0;
    *puVar10 = uVar1;
    puVar10[1] = uVar2;
    *puVar11 = uVar1;
    puVar11[1] = uVar2;
    *puVar12 = uVar1;
    puVar12[1] = uVar2;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe20 + iVar14) = uVar1;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe24 + iVar14) = uVar2;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe18 + iVar14) = uVar1;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe1c + iVar14) = uVar2;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar14) = uVar1;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe2c + iVar14) = uVar2;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe40 + iVar14) = uVar3;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe44 + iVar14) = uVar4;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe48 + iVar14) = uVar5;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe4c + iVar14) = uVar6;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe30 + iVar14) = uVar3;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe34 + iVar14) = uVar4;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe38 + iVar14) = uVar5;
    *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe3c + iVar14) = uVar6;
    *puVar13 = uVar3;
    puVar13[1] = uVar4;
    puVar13[2] = uVar5;
    puVar13[3] = uVar6;
    puVar13 = puVar13 + 0x26;
    puVar12 = puVar12 + 0x26;
    puVar11 = puVar11 + 0x26;
    puVar10 = puVar10 + 0x26;
    (&DAT_BATTLE_BIN__800fbe85)[iVar14] = 1;
    iVar8 = iVar9 + 1;
    (&DAT_BATTLE_BIN__8011a1b0)[iVar9] = 0;
    iVar14 = iVar14 + 0x98;
    iVar9 = iVar8;
  } while (iVar8 < 9);
  return;
}



void FUN_BATTLE_BIN__800ee95c
               (uint *param_1,undefined4 *param_2,undefined4 *param_3,undefined4 *param_4)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  long alStack_20 [2];
  
  DAT_BATTLE_BIN__800f5c2c = *param_4;
  DAT_BATTLE_BIN__800f5c30 = param_4[1];
  DAT_BATTLE_BIN__800f5c34 = param_4[2];
  DAT_BATTLE_BIN__800f5c38 = param_4[3];
  DAT_BATTLE_BIN__800f5c0c = *param_2;
  DAT_BATTLE_BIN__800f5c10 = param_2[1];
  RotMatrix((SVECTOR *)param_2,(MATRIX *)param_1);
  FUN_8001cf48((int)param_1,param_3);
  ScaleMatrix((MATRIX *)param_1,(VECTOR *)&DAT_BATTLE_BIN__800f5c2c);
  RotMatrix((SVECTOR *)param_2,(MATRIX *)&DAT_BATTLE_BIN__800f6d94);
  SetRotMatrix((MATRIX *)param_1);
  SetTransMatrix((MATRIX *)param_1);
  RotTrans((SVECTOR *)&DAT_BATTLE_BIN__800f5b9c,(VECTOR *)&DAT_BATTLE_BIN__800f6da8,alStack_20);
  ScaleMatrix((MATRIX *)&DAT_BATTLE_BIN__800f6d94,(VECTOR *)&DAT_BATTLE_BIN__800f5c2c);
  uVar3 = DAT_BATTLE_BIN__800f6da0;
  uVar2 = DAT_BATTLE_BIN__800f6d9c;
  uVar1 = DAT_BATTLE_BIN__800f6d98;
  *param_1 = DAT_BATTLE_BIN__800f6d94;
  param_1[1] = uVar1;
  param_1[2] = uVar2;
  param_1[3] = uVar3;
  uVar3 = DAT_BATTLE_BIN__800f6db0;
  uVar2 = DAT_BATTLE_BIN__800f6dac;
  uVar1 = DAT_BATTLE_BIN__800f6da8;
  param_1[4] = DAT_BATTLE_BIN__800f6da4;
  param_1[5] = uVar1;
  param_1[6] = uVar2;
  param_1[7] = uVar3;
  DAT_BATTLE_BIN__800fbe60 = DAT_BATTLE_BIN__800f6d94;
  DAT_BATTLE_BIN__800fbe64 = DAT_BATTLE_BIN__800f6d98;
  DAT_BATTLE_BIN__800fbe68 = DAT_BATTLE_BIN__800f6d9c;
  DAT_BATTLE_BIN__800fbe6c = DAT_BATTLE_BIN__800f6da0;
  DAT_BATTLE_BIN__800fbe70 = DAT_BATTLE_BIN__800f6da4;
  DAT_BATTLE_BIN__800fbe74 = DAT_BATTLE_BIN__800f6da8;
  DAT_BATTLE_BIN__800fbe78 = DAT_BATTLE_BIN__800f6dac;
  DAT_BATTLE_BIN__800fbe7c = DAT_BATTLE_BIN__800f6db0;
  RotMatrix((SVECTOR *)&DAT_BATTLE_BIN__800f5b34,(MATRIX *)&DAT_BATTLE_BIN__800fbdd4);
  return;
}



void FUN_BATTLE_BIN__800eeaf8(undefined param_1)

{
  uint uVar1;
  undefined uVar2;
  
  switch(param_1) {
  case 0x53:
    DAT_BATTLE_BIN__800fa6a4 = 1;
    DAT_BATTLE_BIN__800fa6a8 = 4;
    goto LAB_BATTLE_BIN__800eee08;
  case 0x54:
    DAT_BATTLE_BIN__800f5b60 = 0x54;
    DAT_BATTLE_BIN__800f79bc = 0;
    break;
  case 0x55:
    DAT_BATTLE_BIN__800fa6a4 = 5;
    DAT_BATTLE_BIN__800fa6a8 = 6;
    DAT_BATTLE_BIN__800fa6ac = 9;
    goto LAB_BATTLE_BIN__800eee88;
  case 0x7c:
    DAT_BATTLE_BIN__800fa6a4 = 3;
    DAT_BATTLE_BIN__800fa6a8 = 5;
    DAT_BATTLE_BIN__800fa6ac = 8;
    goto LAB_BATTLE_BIN__800eee88;
  case 0x7d:
    DAT_BATTLE_BIN__800fa6a4 = 5;
    DAT_BATTLE_BIN__800fa6a8 = 9;
    DAT_BATTLE_BIN__800fa6ac = 0x12;
LAB_BATTLE_BIN__800eee88:
    FUN_BATTLE_BIN__800eeecc(-0x70);
    break;
  case 0x7e:
    DAT_BATTLE_BIN__800fa6a8 = 1;
    DAT_BATTLE_BIN__800fa6a4 = 1;
    goto LAB_BATTLE_BIN__800eee08;
  case 0x7f:
    DAT_BATTLE_BIN__800fa6a4 = 3;
    DAT_BATTLE_BIN__800fa6a8 = 0x10;
LAB_BATTLE_BIN__800eee08:
    FUN_BATTLE_BIN__800eeecc(-0x71);
    break;
  case 0x89:
    DAT_BATTLE_BIN__800f79bc = 2;
    DAT_BATTLE_BIN__800f79c0 = 0x3c;
    DAT_BATTLE_BIN__800f5c64 = 0x10002;
    if (DAT_BATTLE_BIN__800f5c70 != '\0') {
      FUN_80044038(0x10002);
    }
    goto LAB_BATTLE_BIN__800eed70;
  case 0x8a:
    DAT_BATTLE_BIN__800f79bc = 1;
    DAT_BATTLE_BIN__800f79c0 = 0x3c;
LAB_BATTLE_BIN__800eed70:
    DAT_BATTLE_BIN__800f79e4 = 0;
    DAT_BATTLE_BIN__800f79e6 = 0;
    DAT_BATTLE_BIN__800f79e8 = 0;
    DAT_BATTLE_BIN__800f79ea = 0;
    DAT_BATTLE_BIN__800f79ec = 0;
    DAT_BATTLE_BIN__800f79ee = 0;
    DAT_BATTLE_BIN__800f79f0 = 0;
    DAT_BATTLE_BIN__800f79f2 = 0;
    DAT_BATTLE_BIN__800f79f4 = 0;
    FUN_BATTLE_BIN__800eeaf8(0x8c);
    break;
  case 0x8b:
    uVar1 = FUN_BATTLE_BIN__8013b590(0x23);
    DAT_BATTLE_BIN__800f79bc = 0;
    uVar1 = uVar1 & 7;
    if (uVar1 < 2) {
      FUN_BATTLE_BIN__800f5a64();
      FUN_BATTLE_BIN__800eeaf8(0x54);
      FUN_BATTLE_BIN__800eeaf8(0x8c);
    }
    if (uVar1 == 2) {
      if ((DAT_BATTLE_BIN__800b6698 & 1) == 0) {
        FUN_BATTLE_BIN__800f5a64();
        uVar2 = 0x7c;
      }
      else {
        FUN_BATTLE_BIN__800f5a64();
        uVar2 = 0x7e;
      }
      FUN_BATTLE_BIN__800eeaf8(uVar2);
      FUN_BATTLE_BIN__800eeaf8(0x8c);
    }
    if (uVar1 == 3) {
      if ((DAT_BATTLE_BIN__800b6698 & 1) == 0) {
        DAT_BATTLE_BIN__800f5c64 = 0x10002;
        if (DAT_BATTLE_BIN__800f5c70 != '\0') {
          FUN_80044038(0x10002);
        }
        uVar2 = 0x55;
      }
      else {
        FUN_BATTLE_BIN__800f5a64();
        uVar2 = 0x53;
      }
      FUN_BATTLE_BIN__800eeaf8(uVar2);
      FUN_BATTLE_BIN__800eeaf8(0x8c);
    }
    if (uVar1 == 4) {
      if ((DAT_BATTLE_BIN__800b6698 & 1) == 0) {
        FUN_BATTLE_BIN__800f5a64();
        FUN_BATTLE_BIN__800eeaf8(0x7d);
        FUN_BATTLE_BIN__800eeaf8(0x8a);
        DAT_BATTLE_BIN__800f5c64 = 0x10002;
        if (DAT_BATTLE_BIN__800f5c70 != '\0') {
          FUN_80044038(0x10002);
        }
      }
      else {
        FUN_BATTLE_BIN__800f5a64();
        FUN_BATTLE_BIN__800eeaf8(0x7f);
        FUN_BATTLE_BIN__800eeaf8(0x8c);
      }
    }
    break;
  case 0x8c:
    FUN_BATTLE_BIN__800e8190(0x59,(undefined4 *)0x0);
    SetColorMatrix((MATRIX *)&DAT_BATTLE_BIN__800f79c4);
    SetBackColor(DAT_BATTLE_BIN__800f5b40,DAT_BATTLE_BIN__800f5b44,DAT_BATTLE_BIN__800f5b48);
  }
  return;
}



void FUN_BATTLE_BIN__800eeecc(char param_1)

{
  short sVar1;
  u_short uVar2;
  int iVar3;
  undefined *puVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  char *pcVar8;
  short *psVar9;
  undefined2 *puVar10;
  uint uVar11;
  undefined2 *puVar12;
  int iVar13;
  uint uVar14;
  uint uVar15;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 *local_40;
  
  local_58 = DAT_BATTLE_BIN__800e6b50;
  local_54 = DAT_BATTLE_BIN__800e6b54;
  local_50 = DAT_BATTLE_BIN__800e6b58;
  local_4c = DAT_BATTLE_BIN__800e6b5c;
  local_48 = DAT_BATTLE_BIN__800e6b60;
  local_44 = DAT_BATTLE_BIN__800e6b64;
  if (param_1 == -0x71) {
    uVar14 = 0;
    local_40 = &local_58;
    psVar9 = &DAT_BATTLE_BIN__800fc35c;
    iVar6 = 0;
    DAT_BATTLE_BIN__800f5b60 = 0x53;
    do {
      uVar15 = 0;
      iVar3 = rand();
      *(ushort *)((int)&DAT_BATTLE_BIN__800fc35e + iVar6) = (ushort)DAT_BATTLE_BIN__800fa6a4;
      *(short *)((int)&DAT_BATTLE_BIN__800fc35a + iVar6) =
           (short)-iVar3 + (short)(-iVar3 / 0xf0) * -0xf0 + -0x10;
      iVar13 = rand();
      iVar7 = 0;
      pcVar8 = (char *)((int)local_40 + ((iVar13 % 3) * 0x10000 >> 0xd));
      iVar3 = uVar14 * 0x20;
      do {
        SetSemiTrans(&DAT_BATTLE_BIN__8010ab84 + uVar14 * 0x20 + iVar7,0);
        (&DAT_BATTLE_BIN__8010ab88)[iVar3] = 0x80;
        (&DAT_BATTLE_BIN__8010ab89)[iVar3] = 0x80;
        (&DAT_BATTLE_BIN__8010ab8a)[iVar3] = 0x80;
        uVar2 = GetClut(0,0x1e2);
        *(u_short *)((int)&DAT_BATTLE_BIN__8010ab92 + iVar3) = uVar2;
        uVar2 = GetTPage(0,3,0x3c0,0x100);
        *(u_short *)((int)&DAT_BATTLE_BIN__8010ab9a + iVar3) = uVar2;
        (&DAT_BATTLE_BIN__8010ab90)[iVar3] = *pcVar8;
        (&DAT_BATTLE_BIN__8010ab98)[iVar3] = *pcVar8 + pcVar8[4];
        (&DAT_BATTLE_BIN__8010aba0)[iVar3] = *pcVar8 + pcVar8[4];
        (&DAT_BATTLE_BIN__8010ab91)[iVar3] = pcVar8[2];
        iVar7 = iVar7 + 0xee28;
        (&DAT_BATTLE_BIN__8010ab99)[iVar3] = pcVar8[2];
        uVar15 = uVar15 + 1;
        (&DAT_BATTLE_BIN__8010aba1)[iVar3] = pcVar8[2] + pcVar8[6];
        iVar3 = iVar3 + 0xee28;
      } while (uVar15 < 2);
      *(ushort *)((int)&DAT_BATTLE_BIN__800fc35e + iVar6) =
           (short)(iVar13 % 3) + (ushort)DAT_BATTLE_BIN__800fa6a4;
      uVar15 = rand();
      if ((uVar15 & 1) == 0) {
        iVar3 = rand();
        *(short *)((int)&DAT_BATTLE_BIN__800fc358 + iVar6) =
             (short)(iVar3 / 0x8c) * 0x8c - (short)iVar3;
      }
      else {
        iVar3 = rand();
        *(short *)((int)&DAT_BATTLE_BIN__800fc358 + iVar6) =
             (short)iVar3 + (short)(iVar3 / 0x8c) * -0x8c;
      }
      uVar15 = rand();
      if ((uVar15 & 1) == 0) {
        iVar3 = rand();
        *psVar9 = (short)(iVar3 / 0x8c) * 0x8c - (short)iVar3;
      }
      else {
        iVar3 = rand();
        *psVar9 = (short)iVar3 + (short)(iVar3 / 0x8c) * -0x8c;
      }
      psVar9 = psVar9 + 4;
      uVar14 = uVar14 + 1;
      iVar6 = iVar6 + 8;
    } while (uVar14 < 0x40);
  }
  else if (param_1 == -0x70) {
    DAT_BATTLE_BIN__800f5b60 = 0x55;
    uVar14 = 0;
    psVar9 = &DAT_BATTLE_BIN__800fc35a;
    puVar12 = &DAT_BATTLE_BIN__800fc35c;
    puVar10 = &DAT_BATTLE_BIN__800fc358;
    iVar6 = 0x100;
    do {
      uVar14 = uVar14 + 1;
      iVar3 = rand();
      *puVar10 = (short)(iVar3 % (int)((uint)DAT_BATTLE_BIN__800f6860 * 0x1c));
      iVar3 = rand();
      *puVar12 = (short)(iVar3 % (int)((uint)DAT_BATTLE_BIN__800f6864 * 0x1c));
      iVar3 = rand();
      *psVar9 = ((short)(iVar3 / 0x180) * 0x180 - (short)iVar3) + -0x180;
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800fc358 + iVar6) = *puVar10;
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800fc35c + iVar6) = *puVar12;
      puVar10 = puVar10 + 4;
      iVar3 = rand();
      puVar12 = puVar12 + 4;
      sVar1 = *psVar9;
      psVar9 = psVar9 + 4;
      *(short *)((int)&DAT_BATTLE_BIN__800fc35a + iVar6) =
           sVar1 - ((short)iVar3 + (short)(iVar3 / 0x30) * -0x30);
      iVar6 = iVar6 + 8;
    } while (uVar14 < 0x20);
    uVar14 = 0;
    iVar6 = 0;
    do {
      uVar15 = 0;
      iVar13 = 0x400;
      iVar3 = iVar6;
      do {
        SetSemiTrans(&DAT_BATTLE_BIN__8010ab84 + uVar15 * 0x20 + iVar6,1);
        (&DAT_BATTLE_BIN__8010ab88)[iVar3] = 100;
        (&DAT_BATTLE_BIN__8010ab89)[iVar3] = 100;
        (&DAT_BATTLE_BIN__8010ab8a)[iVar3] = 100;
        uVar2 = GetClut(0,0x1e2);
        *(u_short *)((int)&DAT_BATTLE_BIN__8010ab92 + iVar3) = uVar2;
        uVar2 = GetTPage(0,3,0x3c0,0x100);
        *(u_short *)((int)&DAT_BATTLE_BIN__8010ab9a + iVar3) = uVar2;
        (&DAT_BATTLE_BIN__8010ab90)[iVar3] = 0xd8;
        (&DAT_BATTLE_BIN__8010ab91)[iVar3] = 0xaf;
        (&DAT_BATTLE_BIN__8010ab98)[iVar3] = 0xf7;
        (&DAT_BATTLE_BIN__8010ab99)[iVar3] = 0xaf;
        (&DAT_BATTLE_BIN__8010aba0)[iVar3] = 0xd8;
        (&DAT_BATTLE_BIN__8010aba1)[iVar3] = 0xaf;
        SetSemiTrans(&DAT_BATTLE_BIN__8010ab84 + iVar13 + iVar6,1);
        iVar7 = iVar13 + iVar6;
        (&DAT_BATTLE_BIN__8010ab88)[iVar7] = 0x80;
        (&DAT_BATTLE_BIN__8010ab89)[iVar7] = 0x80;
        (&DAT_BATTLE_BIN__8010ab8a)[iVar7] = 0x80;
        uVar2 = GetClut(0,0x1e2);
        *(u_short *)((int)&DAT_BATTLE_BIN__8010ab92 + iVar7) = uVar2;
        uVar2 = GetTPage(0,3,0x3c0,0x100);
        iVar13 = iVar13 + 0x20;
        uVar15 = uVar15 + 1;
        *(u_short *)((int)&DAT_BATTLE_BIN__8010ab9a + iVar7) = uVar2;
        (&DAT_BATTLE_BIN__8010ab98)[iVar7] = 0x1f;
        (&DAT_BATTLE_BIN__8010ab91)[iVar7] = 0xa0;
        (&DAT_BATTLE_BIN__8010ab90)[iVar7] = 0x10;
        (&DAT_BATTLE_BIN__8010aba0)[iVar7] = 0x10;
        (&DAT_BATTLE_BIN__8010ab99)[iVar7] = 0xaf;
        (&DAT_BATTLE_BIN__8010aba1)[iVar7] = 0xaf;
        iVar3 = iVar3 + 0x20;
      } while (uVar15 < 0x20);
      iVar6 = iVar6 + 0xee28;
      uVar14 = uVar14 + 1;
    } while (uVar14 < 2);
    PTR_DAT_BATTLE_BIN__800f5c60 = &DAT_80000000;
    uVar14 = (uint)DAT_BATTLE_BIN__800f6860;
    DAT_BATTLE_BIN__800f6878 = &DAT_BATTLE_BIN__8018f8cc;
    uVar15 = 0;
    if (uVar14 != 0) {
      do {
        uVar11 = 0;
        if (DAT_BATTLE_BIN__800f6864 != 0) {
          uVar5 = uVar15;
          do {
            iVar6 = (int)(uVar5 << 0x10) >> 0xd;
            puVar4 = (undefined *)
                     ((int)(((uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar6] +
                            (uint)((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar6] >> 5)) * -0xc0000) >>
                     0x10);
            uVar5 = uVar5 + uVar14;
            if ((int)PTR_DAT_BATTLE_BIN__800f5c60 < (int)puVar4) {
              PTR_DAT_BATTLE_BIN__800f5c60 = puVar4;
            }
            uVar11 = uVar11 + 1;
          } while (uVar11 < DAT_BATTLE_BIN__800f6864);
        }
        uVar15 = uVar15 + 1;
      } while (uVar15 < uVar14);
    }
  }
  return;
}



void FUN_BATTLE_BIN__800ef6a0(int param_1)

{
  if (param_1 == 0x87) {
    DAT_BATTLE_BIN__80121d58 = 0;
    DAT_BATTLE_BIN__800fc558 = 4;
  }
  else if (param_1 == 0x88) {
    DAT_BATTLE_BIN__80121d58 = 0xffffffff;
    DAT_BATTLE_BIN__800fc558 = 0;
  }
  return;
}



void FUN_BATTLE_BIN__800ef6f0(void)

{
  short sVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 *puVar6;
  int iVar7;
  short *psVar8;
  undefined4 *puVar9;
  short *psVar10;
  int local_70;
  byte local_68;
  int *local_60;
  int *local_58;
  int *local_50;
  short *local_48;
  undefined4 *local_40;
  int local_38;
  int local_30;
  
  local_70 = 1;
  local_60 = &DAT_BATTLE_BIN__800fbee0;
  local_58 = &DAT_BATTLE_BIN__800fbedc;
  local_50 = &DAT_BATTLE_BIN__800fbed8;
  psVar10 = &DAT_BATTLE_BIN__800fbebc;
  local_48 = &DAT_BATTLE_BIN__800fbeba;
  puVar6 = &DAT_BATTLE_BIN__800fbe20;
  puVar9 = &DAT_BATTLE_BIN__800fbea4;
  psVar8 = (short *)((int)&DAT_BATTLE_BIN__800fbea0 + 2);
  iVar7 = 0x98;
  local_40 = &DAT_BATTLE_BIN__800fbea0;
  local_38 = 4;
  local_30 = 0x220;
  do {
    puVar6 = puVar6 + 0x26;
    if ((*(char *)(local_30 + -0x7ff05547) != '\0') &&
       (iVar3 = (uint)*(ushort *)(&DAT_BATTLE_BIN__800fbe80 + iVar7) +
                (uint)(*(byte *)(iVar7 + -0x7ff0417c) >> 4) * DAT_80045980,
       *(short *)(&DAT_BATTLE_BIN__800fbe80 + iVar7) = (short)iVar3,
       (int)*(short *)(&DAT_BATTLE_BIN__800fbe82 + iVar7) < iVar3 * 0x10000 >> 0x10)) {
      local_68 = (&DAT_BATTLE_BIN__800fbe85)[iVar7];
      *(undefined *)(iVar7 + -0x7ff04179) = 0;
      if (*(short *)((uint)local_68 * 4 + local_30 + -0x7ff0554a) == 0) {
        *(undefined4 *)((int)&DAT_BATTLE_BIN__8011a1b0 + local_38) = 0;
      }
    }
    if (*(int *)((int)&DAT_BATTLE_BIN__8011a1b0 + local_38) != 0) {
      if (*(char *)(iVar7 + -0x7ff04179) == '\0') {
        iVar3 = (uint)local_68 * 4 + local_30;
        uVar5 = (uint)(byte)(&DAT_BATTLE_BIN__800faab4)[iVar3];
        *(undefined *)(iVar7 + -0x7ff04179) = (&DAT_BATTLE_BIN__800faab4)[iVar3];
        (&DAT_BATTLE_BIN__800fbe85)[iVar7] = *(undefined *)(iVar3 + -0x7ff0554b);
        *(undefined2 *)(&DAT_BATTLE_BIN__800fbe82 + iVar7) = *(undefined2 *)(iVar3 + -0x7ff0554a);
        *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe00 + iVar7) =
             *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe08 + iVar7);
        *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe04 + iVar7) =
             *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe0c + iVar7);
        *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe30 + iVar7) =
             *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe40 + iVar7);
        *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe34 + iVar7) =
             *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe44 + iVar7);
        *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe38 + iVar7) =
             *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe48 + iVar7);
        *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe3c + iVar7) =
             *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe4c + iVar7);
        *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe18 + iVar7) =
             *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe20 + iVar7);
        *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe1c + iVar7) =
             *(undefined4 *)((int)&DAT_BATTLE_BIN__800fbe24 + iVar7);
        *(undefined2 *)(&DAT_BATTLE_BIN__800fbe80 + iVar7) = 1;
        iVar3 = uVar5 * 0x50;
        if (((&DAT_BATTLE_BIN__800f7e90)[uVar5 * 0x28] & 1) != 0) {
          *(short *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7) =
               *(short *)(&DAT_BATTLE_BIN__800f7e54 + iVar3) -
               *(short *)((int)&DAT_BATTLE_BIN__800fbe00 + iVar7);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e92 + iVar3) & 1) != 0) {
          *(short *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7 + 2) =
               *(short *)(&DAT_BATTLE_BIN__800f7e56 + iVar3) -
               *(short *)((int)&DAT_BATTLE_BIN__800fbe00 + iVar7 + 2);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e94 + iVar3) & 1) != 0) {
          *(short *)((int)&DAT_BATTLE_BIN__800fbe14 + iVar7) =
               *(short *)(&DAT_BATTLE_BIN__800f7e58 + iVar3) -
               *(short *)((int)&DAT_BATTLE_BIN__800fbe04 + iVar7);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e96 + iVar3) & 1) != 0) {
          *(short *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7) =
               *(short *)(&DAT_BATTLE_BIN__800f7e5c + iVar3) -
               *(short *)((int)&DAT_BATTLE_BIN__800fbe18 + iVar7);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e98 + iVar3) & 1) != 0) {
          *(short *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7 + 2) =
               *(short *)(&DAT_BATTLE_BIN__800f7e5e + iVar3) -
               *(short *)((int)&DAT_BATTLE_BIN__800fbe18 + iVar7 + 2);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9a + iVar3) & 1) != 0) {
          *(short *)((int)&DAT_BATTLE_BIN__800fbe2c + iVar7) =
               *(short *)(&DAT_BATTLE_BIN__800f7e60 + iVar3) -
               *(short *)((int)&DAT_BATTLE_BIN__800fbe1c + iVar7);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9c + iVar3) & 1) != 0) {
          *(int *)((int)&DAT_BATTLE_BIN__800fbe50 + iVar7) =
               (int)*(short *)(&DAT_BATTLE_BIN__800f7e64 + iVar3) -
               *(int *)((int)&DAT_BATTLE_BIN__800fbe30 + iVar7);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9e + iVar3) & 1) != 0) {
          *(int *)((int)&DAT_BATTLE_BIN__800fbe54 + iVar7) =
               (int)*(short *)(&DAT_BATTLE_BIN__800f7e66 + iVar3) -
               *(int *)((int)&DAT_BATTLE_BIN__800fbe34 + iVar7);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7ea0 + iVar3) & 1) != 0) {
          *(int *)((int)&DAT_BATTLE_BIN__800fbe58 + iVar7) =
               (int)*(short *)(&DAT_BATTLE_BIN__800f7e68 + iVar3) -
               *(int *)((int)&DAT_BATTLE_BIN__800fbe38 + iVar7);
        }
        if (((&DAT_BATTLE_BIN__800f7e90)[uVar5 * 0x28] & 2) != 0) {
          *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7) =
               *(undefined2 *)(&DAT_BATTLE_BIN__800f7e54 + iVar3);
        }
        iVar3 = uVar5 * 0x50;
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e92 + iVar3) & 2) != 0) {
          *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7 + 2) =
               *(undefined2 *)(&DAT_BATTLE_BIN__800f7e56 + iVar3);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e94 + iVar3) & 2) != 0) {
          *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe14 + iVar7) =
               *(undefined2 *)(&DAT_BATTLE_BIN__800f7e58 + iVar3);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e96 + iVar3) & 2) != 0) {
          *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7) =
               *(undefined2 *)(&DAT_BATTLE_BIN__800f7e5c + iVar3);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e98 + iVar3) & 2) != 0) {
          *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7 + 2) =
               *(undefined2 *)(&DAT_BATTLE_BIN__800f7e5e + iVar3);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9a + iVar3) & 2) != 0) {
          *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe2c + iVar7) =
               *(undefined2 *)(&DAT_BATTLE_BIN__800f7e60 + iVar3);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9c + iVar3) & 2) != 0) {
          *(int *)((int)&DAT_BATTLE_BIN__800fbe50 + iVar7) =
               (int)*(short *)(&DAT_BATTLE_BIN__800f7e64 + iVar3);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9e + iVar3) & 2) != 0) {
          *(int *)((int)&DAT_BATTLE_BIN__800fbe54 + iVar7) =
               (int)*(short *)(&DAT_BATTLE_BIN__800f7e66 + iVar3);
        }
        if ((*(ushort *)(&DAT_BATTLE_BIN__800f7ea0 + iVar3) & 2) != 0) {
          *(int *)((int)&DAT_BATTLE_BIN__800fbe58 + iVar7) =
               (int)*(short *)(&DAT_BATTLE_BIN__800f7e68 + iVar3);
        }
      }
      uVar5 = (uint)*(byte *)(iVar7 + -0x7ff04179);
      sVar1 = *(short *)(&DAT_BATTLE_BIN__800fbe82 + iVar7);
      iVar3 = uVar5 * 0x50;
      sVar2 = *(short *)(&DAT_BATTLE_BIN__800fbe80 + iVar7);
      if (((&DAT_BATTLE_BIN__800f7e90)[uVar5 * 0x28] & 4) != 0) {
        *(short *)((int)&DAT_BATTLE_BIN__800fbe08 + iVar7) =
             (short)(((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7) * (int)sVar2) /
                    (int)sVar1);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e92 + iVar3) & 4) != 0) {
        *(short *)((int)&DAT_BATTLE_BIN__800fbe08 + iVar7 + 2) =
             (short)(((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7 + 2) * (int)sVar2) /
                    (int)sVar1);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e94 + iVar3) & 4) != 0) {
        *(short *)((int)&DAT_BATTLE_BIN__800fbe0c + iVar7) =
             (short)(((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe14 + iVar7) * (int)sVar2) /
                    (int)sVar1);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e96 + iVar3) & 4) != 0) {
        *(short *)((int)&DAT_BATTLE_BIN__800fbe20 + iVar7) =
             (short)(((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7) * (int)sVar2) /
                    (int)sVar1);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e98 + iVar3) & 4) != 0) {
        *(short *)((int)&DAT_BATTLE_BIN__800fbe20 + iVar7 + 2) =
             (short)(((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7 + 2) * (int)sVar2) /
                    (int)sVar1);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9a + iVar3) & 4) != 0) {
        *(short *)((int)&DAT_BATTLE_BIN__800fbe24 + iVar7) =
             (short)(((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe2c + iVar7) * (int)sVar2) /
                    (int)sVar1);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9c + iVar3) & 4) != 0) {
        *(int *)((int)&DAT_BATTLE_BIN__800fbe40 + iVar7) =
             ((int)sVar2 * *(int *)((int)&DAT_BATTLE_BIN__800fbe50 + iVar7)) / (int)sVar1;
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9e + iVar3) & 4) != 0) {
        *(int *)((int)&DAT_BATTLE_BIN__800fbe44 + iVar7) =
             ((int)sVar2 * *(int *)((int)&DAT_BATTLE_BIN__800fbe54 + iVar7)) / (int)sVar1;
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7ea0 + iVar3) & 4) != 0) {
        *(int *)((int)&DAT_BATTLE_BIN__800fbe48 + iVar7) =
             ((int)sVar2 * *(int *)((int)&DAT_BATTLE_BIN__800fbe58 + iVar7)) / (int)sVar1;
      }
      if (((&DAT_BATTLE_BIN__800f7e90)[uVar5 * 0x28] & 8) != 0) {
        iVar3 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e7e + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e6c + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e6c + iVar3));
        *(short *)((int)&DAT_BATTLE_BIN__800fbe08 + iVar7) =
             (short)(*(short *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7) * iVar3 >> 0xc);
      }
      iVar3 = uVar5 * 0x50;
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e92 + iVar3) & 8) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e80 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e6e + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e6e + iVar3));
        *psVar8 = (short)(*(short *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7 + 2) * iVar4 >> 0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e94 + iVar3) & 8) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e82 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e70 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e70 + iVar3));
        *(short *)puVar9 =
             (short)(*(short *)((int)&DAT_BATTLE_BIN__800fbe14 + iVar7) * iVar4 >> 0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e96 + iVar3) & 8) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e84 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e72 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e72 + iVar3));
        *(short *)puVar6 =
             (short)(*(short *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7) * iVar4 >> 0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e98 + iVar3) & 8) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e86 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e74 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e74 + iVar3));
        *local_48 = (short)(*(short *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7 + 2) * iVar4 >> 0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9a + iVar3) & 8) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e88 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e76 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e76 + iVar3));
        *psVar10 = (short)(*(short *)((int)&DAT_BATTLE_BIN__800fbe2c + iVar7) * iVar4 >> 0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9c + iVar3) & 8) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e8a + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e78 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e78 + iVar3));
        *local_50 = iVar4 * *(int *)((int)&DAT_BATTLE_BIN__800fbe50 + iVar7) >> 0xc;
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9e + iVar3) & 8) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e8c + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e7a + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e7a + iVar3));
        *local_58 = iVar4 * *(int *)((int)&DAT_BATTLE_BIN__800fbe54 + iVar7) >> 0xc;
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7ea0 + iVar3) & 8) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e8e + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e7c + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e7c + iVar3));
        *local_60 = iVar4 * *(int *)((int)&DAT_BATTLE_BIN__800fbe58 + iVar7) >> 0xc;
      }
      if (((&DAT_BATTLE_BIN__800f7e90)[uVar5 * 0x28] & 0x10) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e7e + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e6c + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e6c + iVar3));
        *(short *)local_40 =
             (short)((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7) * (iVar4 + 0x1000) >>
                    0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e92 + iVar3) & 0x10) != 0) {
        iVar3 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e80 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e6e + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e6e + iVar3));
        *psVar8 = (short)((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe10 + iVar7 + 2) *
                          (iVar3 + 0x1000) >> 0xc);
      }
      iVar3 = uVar5 * 0x50;
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e94 + iVar3) & 0x10) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e82 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e70 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e70 + iVar3));
        *(short *)puVar9 =
             (short)((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe14 + iVar7) * (iVar4 + 0x1000) >>
                    0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e96 + iVar3) & 0x10) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e84 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e72 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e72 + iVar3));
        *(short *)puVar6 =
             (short)((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7) * (iVar4 + 0x1000) >>
                    0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e98 + iVar3) & 0x10) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e86 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e74 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e74 + iVar3));
        *local_48 = (short)((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe28 + iVar7 + 2) *
                            (iVar4 + 0x1000) >> 0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9a + iVar3) & 0x10) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e88 + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e76 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e76 + iVar3));
        *psVar10 = (short)((int)*(short *)((int)&DAT_BATTLE_BIN__800fbe2c + iVar7) *
                           (iVar4 + 0x1000) >> 0xc);
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9c + iVar3) & 0x10) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e8a + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e78 + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e78 + iVar3));
        *local_50 = (iVar4 + 0x1000) * *(int *)((int)&DAT_BATTLE_BIN__800fbe50 + iVar7) >> 0xc;
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7e9e + iVar3) & 0x10) != 0) {
        iVar4 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e8c + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e7a + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e7a + iVar3));
        *local_58 = (iVar4 + 0x1000) * *(int *)((int)&DAT_BATTLE_BIN__800fbe54 + iVar7) >> 0xc;
      }
      if ((*(ushort *)(&DAT_BATTLE_BIN__800f7ea0 + iVar3) & 0x10) != 0) {
        iVar3 = rsin((((int)*(short *)(&DAT_BATTLE_BIN__800f7e8e + iVar3) -
                      (int)*(short *)(&DAT_BATTLE_BIN__800f7e7c + iVar3)) * (int)sVar2) / (int)sVar1
                     + (int)*(short *)(&DAT_BATTLE_BIN__800f7e7c + iVar3));
        *local_60 = (iVar3 + 0x1000) * *(int *)((int)&DAT_BATTLE_BIN__800fbe58 + iVar7) >> 0xc;
      }
      *(short *)local_40 = *(short *)local_40 + *(short *)((int)&DAT_BATTLE_BIN__800fbe00 + iVar7);
      *psVar8 = *psVar8 + *(short *)((int)&DAT_BATTLE_BIN__800fbe00 + iVar7 + 2);
      *(short *)puVar9 = *(short *)puVar9 + *(short *)((int)&DAT_BATTLE_BIN__800fbe04 + iVar7);
      *(short *)puVar6 = *(short *)puVar6 + *(short *)((int)&DAT_BATTLE_BIN__800fbe18 + iVar7);
      *local_48 = *local_48 + *(short *)((int)&DAT_BATTLE_BIN__800fbe18 + iVar7 + 2);
      *psVar10 = *psVar10 + *(short *)((int)&DAT_BATTLE_BIN__800fbe1c + iVar7);
      *local_50 = *local_50 + *(int *)((int)&DAT_BATTLE_BIN__800fbe30 + iVar7);
      *local_58 = *local_58 + *(int *)((int)&DAT_BATTLE_BIN__800fbe34 + iVar7);
      *local_60 = *local_60 + *(int *)((int)&DAT_BATTLE_BIN__800fbe38 + iVar7);
    }
    local_60 = local_60 + 0x26;
    local_58 = local_58 + 0x26;
    local_50 = local_50 + 0x26;
    psVar10 = psVar10 + 0x4c;
    local_48 = local_48 + 0x4c;
    local_40 = local_40 + 0x26;
    puVar9 = puVar9 + 0x26;
    local_38 = local_38 + 4;
    psVar8 = psVar8 + 0x4c;
    local_30 = local_30 + 0x220;
    iVar7 = iVar7 + 0x98;
    local_70 = local_70 + 1;
  } while (local_70 < 9);
  return;
}



void FUN_BATTLE_BIN__800f0be0(undefined4 param_1,uint param_2,int param_3,uint param_4)

{
  byte bVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  short sVar9;
  int iVar10;
  short sVar11;
  short sVar12;
  short sVar13;
  
  iVar3 = DAT_BATTLE_BIN__800f5b80;
  iVar4 = DAT_BATTLE_BIN__800f5b7c;
  iVar7 = DAT_BATTLE_BIN__800f5b78;
  iVar5 = DAT_BATTLE_BIN__800f5b74;
  switch(param_1) {
  case 0x6a:
    if (param_2 < 0x20) {
      (&DAT_BATTLE_BIN__800f6d4c)[param_2] =
           *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + param_2 * 0x14 + 2);
      *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + param_2 * 0x14 + 2) = 0;
    }
    break;
  case 0x6b:
    if (param_2 < 0x20) {
      *(undefined1 *)((int)&DAT_BATTLE_BIN__80121d88 + param_2 * 0x14 + 2) =
           (&DAT_BATTLE_BIN__800f6d4c)[param_2];
    }
    break;
  case 0x71:
    iVar5 = 0;
    iVar7 = 0;
    do {
      iVar4 = (iVar7 >> 0x10) * 0x14;
      iVar5 = iVar5 + 1;
      (&DAT_BATTLE_BIN__800f6d4c)[iVar7 >> 0x10] =
           *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar4 + 2);
      *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar4 + 2) = 0;
      iVar7 = iVar5 * 0x10000;
    } while (iVar5 * 0x10000 >> 0x10 < 0x20);
    break;
  case 0x72:
    iVar5 = 0;
    iVar7 = 0;
    do {
      iVar5 = iVar5 + 1;
      *(undefined1 *)((int)&DAT_BATTLE_BIN__80121d88 + (iVar7 >> 0x10) * 0x14 + 2) =
           (&DAT_BATTLE_BIN__800f6d4c)[iVar7 >> 0x10];
      iVar7 = iVar5 * 0x10000;
    } while (iVar5 * 0x10000 >> 0x10 < 0x20);
    break;
  case 0x7a:
    SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8010aaf8,0,0,0,(RECT *)0x0);
    iVar5 = 0;
    goto LAB_BATTLE_BIN__800f1070;
  case 0x7b:
    SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8010aaf8,0,1,0,(RECT *)0x0);
    iVar5 = 1;
LAB_BATTLE_BIN__800f1070:
    SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__80119920,0,iVar5,0,(RECT *)0x0);
    break;
  case 0x80:
    iVar7 = 0;
    iVar5 = 0;
    do {
      *(undefined4 *)(&DAT_BATTLE_BIN__800faab4 + (iVar5 >> 0xe) + param_2 * 0x220) =
           *(undefined4 *)
            (&DAT_BATTLE_BIN__800faab4 + (iVar5 >> 0xe) + param_3 * 0x44 + param_2 * 0x220);
      iVar7 = iVar7 + 1;
      iVar5 = iVar7 * 0x10000;
    } while (iVar7 * 0x10000 >> 0x10 < 0x11);
    iVar5 = param_2 * 0x98;
    *(undefined2 *)(&DAT_BATTLE_BIN__800fbe80 + iVar5) = 2;
    *(undefined2 *)(&DAT_BATTLE_BIN__800fbe82 + iVar5) = 0;
    (&DAT_BATTLE_BIN__800fbe85)[iVar5] = 1;
    (&DAT_BATTLE_BIN__8011a1b0)[param_2] = param_3 << 8 | param_4;
    break;
  case 0x81:
    break;
  case 0x82:
    break;
  case 0x83:
    if ((*(char *)((int)&DAT_BATTLE_BIN__80121d88 + param_2 * 0x14 + 2) == '\0') &&
       ((&DAT_BATTLE_BIN__800f6d4c)[param_2] != '\0')) {
      *(undefined1 *)((int)&DAT_BATTLE_BIN__80121d88 + param_2 * 0x14 + 2) =
           (&DAT_BATTLE_BIN__800f6d4c)[param_2];
    }
    iVar5 = param_2 * 0x14;
    bVar1 = *(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar5 + 2);
    if ((bVar1 == 0) || ((0x1d < bVar1 && ((0x82 < bVar1 || (bVar1 < 0x80)))))) {
      FUN_80044a00();
    }
    else {
      (&DAT_BATTLE_BIN__800f6dc0)[param_2 * 0xc] = (&DAT_BATTLE_BIN__80121d84)[param_2 * 10];
      (&DAT_BATTLE_BIN__800f6dc2)[param_2 * 0xc] = (&DAT_BATTLE_BIN__80121d86)[param_2 * 10];
      (&DAT_BATTLE_BIN__800f6dc8)[param_2 * 0xc] = (&DAT_BATTLE_BIN__80121d80)[param_2 * 10];
      (&DAT_BATTLE_BIN__800f6dca)[param_2 * 0xc] = (&DAT_BATTLE_BIN__80121d82)[param_2 * 10];
      (&DAT_BATTLE_BIN__800f6dc4)[param_2 * 0xc] = (&DAT_BATTLE_BIN__80121d7c)[param_2 * 10];
      (&DAT_BATTLE_BIN__800f6dc6)[param_2 * 0xc] = (&DAT_BATTLE_BIN__80121d7e)[param_2 * 10];
      *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar5 + 3) = 1;
                    // Possible PsyQ macro: setSprt16() + setSemiTrans(sprt16, 1)
      *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar5 + 2) = 0x7e;
      *(undefined *)(&DAT_BATTLE_BIN__80121d8c + param_2 * 5) = 0;
    }
    break;
  case 0x98:
    iVar8 = 1;
    do {
      iVar10 = iVar5 + -1;
      iVar6 = (int)(short)iVar8;
      if (iVar10 < 0) {
        iVar10 = iVar5 + 6;
      }
      sVar13 = (short)(iVar10 >> 3) + 1;
      (&DAT_BATTLE_BIN__800fbe90)[iVar6 * 0x4c] = sVar13;
      iVar10 = iVar7 + -1;
      if (iVar10 < 0) {
        iVar10 = iVar7 + 6;
      }
      sVar12 = (short)(iVar10 >> 3) + 1;
      (&DAT_BATTLE_BIN__800fbe92)[iVar6 * 0x4c] = sVar12;
      iVar10 = iVar4 + -1;
      if (iVar10 < 0) {
        iVar10 = iVar4 + 6;
      }
      sVar11 = (short)(iVar10 >> 3) + 1;
      (&DAT_BATTLE_BIN__800fbe94)[iVar6 * 0x4c] = sVar11;
      iVar10 = iVar3 + -1;
      if (iVar10 < 0) {
        iVar10 = iVar3 + 6;
      }
      sVar9 = (short)(iVar10 >> 3) + 1;
      (&DAT_BATTLE_BIN__800fbe96)[iVar6 * 0x4c] = sVar9;
      sVar2 = (short)iVar8 + -1;
      (&DAT_BATTLE_BIN__800fbe88)[iVar6 * 0x4c] = sVar13 * sVar2;
      (&DAT_BATTLE_BIN__800fbe8a)[iVar6 * 0x4c] = sVar12 * sVar2;
      (&DAT_BATTLE_BIN__800fbe8c)[iVar6 * 0x4c] = sVar11 * sVar2;
      iVar8 = iVar8 + 1;
      (&DAT_BATTLE_BIN__800fbe8e)[iVar6 * 0x4c] = sVar9 * sVar2;
    } while (iVar8 * 0x10000 >> 0x10 < 9);
    DAT_BATTLE_BIN__800fbe90 = 0;
    DAT_BATTLE_BIN__800fbe92 = 0;
    DAT_BATTLE_BIN__800fbe94 = 0;
    DAT_BATTLE_BIN__800fbe96 = 0;
    DAT_BATTLE_BIN__800fbe88 = 0;
    DAT_BATTLE_BIN__800fbe8a = 0;
    DAT_BATTLE_BIN__800fbe8c = 0;
    DAT_BATTLE_BIN__800fbe8e = 0;
    break;
  case 0x9a:
    DAT_BATTLE_BIN__800f5c54 = 0;
    break;
  case 0x9d:
    if (param_2 < 0x20) {
      *(char *)((int)&DAT_BATTLE_BIN__80121d8c + param_2 * 0x14 + 1) = (char)param_3;
      *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + param_2 * 0x14 + 2) = 0;
    }
  }
  return;
}



void FUN_BATTLE_BIN__800f1204(void)

{
  byte bVar1;
  char cVar2;
  short sVar3;
  short sVar4;
  undefined2 uVar5;
  undefined uVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  void *ot;
  int iVar10;
  int iVar11;
  byte *pbVar12;
  short *psVar13;
  undefined2 *puVar14;
  int iVar15;
  
  puVar14 = &DAT_BATTLE_BIN__80121d7c;
  psVar13 = &DAT_BATTLE_BIN__80121d80;
  pbVar12 = (byte *)((int)&DAT_BATTLE_BIN__80121d8c + 1);
  iVar10 = 0;
  iVar15 = 0;
  iVar11 = 0;
  do {
    if (*(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 3) == '\0')
    goto LAB_BATTLE_BIN__800f2240;
    switch(*(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 2)) {
    case 1:
      *(char *)(puVar14 + 9) = *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) + '\x01';
      if (*(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) < *pbVar12) break;
      *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0;
      *(char *)(puVar14 + 8) = *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + '\x01';
      *(char *)(puVar14 + 6) = *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) + '\x01';
      uVar8 = (uint)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
      if ((int)uVar8 < 0) {
        uVar8 = uVar8 + 0x3f;
      }
      if ((int)(uVar8 | 0x3f) <
          (int)*(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) +
          *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10) * 2) {
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) = 0;
        *(char *)((int)puVar14 + 0xd) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) + '\x01';
        iVar7 = (int)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        if (iVar7 < 0) {
          iVar7 = iVar7 + 0x3f;
        }
        *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
             (short)(iVar7 >> 6) * 0x40 - (*(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10) + -2)
        ;
      }
      if ((int)(*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 3) - 1) <
          (int)(uint)*(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10)) {
        sVar3 = *(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        sVar4 = *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10);
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) = 0;
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) = 0;
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) = 0;
        *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) = sVar3 - sVar4;
      }
      *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
           *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) +
           *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10);
      iVar7 = DAT_BATTLE_BIN__8011a2d4;
      *(ushort *)((int)&DAT_BATTLE_BIN__800f6dc2 + iVar11) =
           *(short *)((int)&DAT_BATTLE_BIN__80121d86 + iVar10) +
           *(short *)((int)&DAT_BATTLE_BIN__80121d82 + iVar10) *
           (ushort)*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1);
      ot = *(void **)(iVar7 + 0xe5b4);
      goto LAB_BATTLE_BIN__800f20e0;
    case 2:
      *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) =
           *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) + (char)DAT_80045980;
      if (*pbVar12 < *(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2)) {
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0;
        *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + '\x01';
        *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) + '\x01';
        uVar8 = (uint)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        if ((int)uVar8 < 0) {
          uVar8 = uVar8 + 0x3f;
        }
        if ((int)(uVar8 | 0x3f) <
            (int)*(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) +
            *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10) * 2) {
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) = 0;
          *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) =
               *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) + '\x01';
          iVar7 = (int)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
          if (iVar7 < 0) {
            iVar7 = iVar7 + 0x3f;
          }
          *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
               (short)(iVar7 >> 6) * 0x40 -
               (*(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10) + -2);
        }
        if ((int)(*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 3) - 2) <
            (int)(uint)*(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10)) {
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 2) = 0x80;
        }
        *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
             *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) +
             *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10);
        iVar7 = DAT_BATTLE_BIN__8011a2d4;
        *(ushort *)((int)&DAT_BATTLE_BIN__800f6dc2 + iVar11) =
             *(short *)((int)&DAT_BATTLE_BIN__80121d86 + iVar10) +
             *(short *)((int)&DAT_BATTLE_BIN__80121d82 + iVar10) *
             (ushort)*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1);
        ot = *(void **)(iVar7 + 0xe5b4);
        goto LAB_BATTLE_BIN__800f20e0;
      }
      break;
    case 3:
      *(char *)(puVar14 + 9) = *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) + '\x01';
      if (*pbVar12 <= *(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2)) {
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0;
        *(char *)(puVar14 + 8) = *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + '\x01';
        *(char *)(puVar14 + 6) = *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) + '\x01';
        if ((int)(*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 3) - 1) <
            (int)(uint)*(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10)) {
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) = 0;
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) = 0;
        }
        sVar3 = *(short *)((int)&DAT_BATTLE_BIN__80121d7c + iVar10);
        sVar4 = *(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        bVar1 = *(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10);
LAB_BATTLE_BIN__800f1adc:
        iVar7 = (int)sVar3;
        if (iVar7 < 0) {
          iVar7 = iVar7 + 0xf;
        }
        FUN_BATTLE_BIN__800926d8
                  (&DAT_BATTLE_BIN__800f687c + (uint)bVar1 * 0x10 + sVar4 * 0x10,0,iVar7 >> 4,0);
      }
      break;
    case 4:
      *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) =
           *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) + (char)DAT_80045980;
      if (*pbVar12 < *(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2)) {
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0;
        *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + '\x01';
        uVar6 = 0x81;
        if ((uint)*(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) ==
            *(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 3) - 1) {
LAB_BATTLE_BIN__800f1aa0:
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 2) = uVar6;
        }
LAB_BATTLE_BIN__800f1aac:
        sVar3 = *(short *)((int)&DAT_BATTLE_BIN__80121d7c + iVar10);
        sVar4 = *(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        bVar1 = *(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10);
        goto LAB_BATTLE_BIN__800f1adc;
      }
      break;
    case 5:
    case 6:
    case 7:
    case 8:
    case 9:
    case 10:
    case 0xb:
    case 0xc:
      *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) =
           *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) + (char)DAT_80045980;
      if (*pbVar12 < *(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2)) {
        if (*(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) != '\0') {
          *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
               *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) +
               *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10);
        }
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0;
        *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + '\x01';
        *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) + '\x01';
        uVar8 = (uint)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        if ((int)uVar8 < 0) {
          uVar8 = uVar8 + 0x3f;
        }
        if ((int)(uVar8 | 0x3f) <
            (int)*(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) +
            (int)*(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10)) {
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) = 0;
          *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) =
               *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) + '\x01';
          iVar7 = (int)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
          if (iVar7 < 0) {
            iVar7 = iVar7 + 0x3f;
          }
          *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) = (short)(iVar7 >> 6) * 0x40 + 2;
          *(ushort *)((int)&DAT_BATTLE_BIN__800f6dc2 + iVar11) =
               *(short *)((int)&DAT_BATTLE_BIN__800f6dc2 + iVar11) +
               *(short *)((int)&DAT_BATTLE_BIN__80121d82 + iVar10) *
               (ushort)*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1);
        }
        if (*(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) <=
            *(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 3)) {
          ot = *(void **)(DAT_BATTLE_BIN__8011a2d4 + 0xe5b4);
          goto LAB_BATTLE_BIN__800f20e0;
        }
        uVar5 = *(undefined2 *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) = 0;
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) = 0;
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) = 0;
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 3) = 0;
        *(undefined2 *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) = uVar5;
        *(undefined2 *)((int)&DAT_BATTLE_BIN__800f6dc2 + iVar11) =
             *(undefined2 *)((int)&DAT_BATTLE_BIN__80121d86 + iVar10);
      }
      break;
    case 0xd:
    case 0xe:
    case 0xf:
    case 0x10:
    case 0x11:
    case 0x12:
    case 0x13:
    case 0x14:
      *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) =
           *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) + (char)DAT_80045980;
      if (*pbVar12 < *(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2)) {
        iVar7 = (int)*(short *)((int)&DAT_BATTLE_BIN__80121d7c + iVar10);
        sVar3 = *(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0;
        if (iVar7 < 0) {
          iVar7 = iVar7 + 0xf;
        }
        FUN_BATTLE_BIN__800926d8
                  (&DAT_BATTLE_BIN__800f687c +
                   (uint)*(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) * 0x10 + sVar3 * 0x10,0,
                   iVar7 >> 4,0);
        *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + '\x01';
        if (*(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) ==
            *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 3)) {
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 3) = 0;
        }
      }
      break;
    case 0x15:
    case 0x16:
    case 0x17:
    case 0x18:
    case 0x19:
    case 0x1a:
    case 0x1b:
    case 0x1c:
      cVar2 = *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 3);
      *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) = 0;
      if (cVar2 != '\0') {
        do {
          *(char *)(puVar14 + 6) = *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) + '\x01';
          uVar8 = (uint)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
          if ((int)uVar8 < 0) {
            uVar8 = uVar8 + 0x3f;
          }
          if ((int)(uVar8 | 0x3f) <
              (int)*(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) + *psVar13 * 2) {
            *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) = 0;
            *(char *)((int)puVar14 + 0xd) =
                 *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) + '\x01';
            iVar7 = (int)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
            if (iVar7 < 0) {
              iVar7 = iVar7 + 0x3f;
            }
            *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
                 (short)(iVar7 >> 6) * 0x40 -
                 (*(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10) + -2);
          }
          *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
               *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) +
               *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10);
          *(ushort *)((int)&DAT_BATTLE_BIN__800f6dc2 + iVar11) =
               *(short *)((int)&DAT_BATTLE_BIN__80121d86 + iVar10) +
               *(short *)((int)&DAT_BATTLE_BIN__80121d82 + iVar10) *
               (ushort)*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1);
          *(char *)(puVar14 + 8) = *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + '\x01';
        } while (*(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) <
                 *(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 3));
      }
      *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0x7e;
      *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 2) = 0x82;
    case 0x82:
      *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) =
           *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) + (char)DAT_80045980;
      if (*pbVar12 < *(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2)) {
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0;
        *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + -1;
        *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) + -1;
        iVar9 = (int)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        iVar7 = iVar9;
        if (iVar9 < 0) {
          iVar7 = iVar9 + 0x3f;
        }
        if ((int)*(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) -
            (int)*(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10) < (iVar7 >> 6) * 0x40 + 2) {
          *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) =
               (char)((0x40 - ((iVar9 + (iVar7 >> 6) * -0x40) * 0x10000 >> 0x10)) /
                     (int)*(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10)) + -1;
          *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) =
               *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) + -1;
        }
        if (*(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) == '\0') {
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 3) = 0;
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 2) = 0x15;
        }
        *(ushort *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
             *(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10) +
             *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10) *
             (ushort)*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10);
        iVar7 = DAT_BATTLE_BIN__8011a2d4;
        *(ushort *)((int)&DAT_BATTLE_BIN__800f6dc2 + iVar11) =
             *(short *)((int)&DAT_BATTLE_BIN__80121d86 + iVar10) +
             *(short *)((int)&DAT_BATTLE_BIN__80121d82 + iVar10) *
             (ushort)*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1);
        ot = *(void **)(iVar7 + 0xe5b4);
LAB_BATTLE_BIN__800f20e0:
        AddPrim(ot,&DAT_BATTLE_BIN__800f6db4 + iVar11);
      }
      break;
    case 0x1d:
      if (*(int *)((int)&DAT_BATTLE_BIN__800f6ccc + iVar15) == 0) {
        iVar7 = FUN_BATTLE_BIN__800911f4
                          (*pbVar12,0,*(short *)((int)&DAT_BATTLE_BIN__80121d7c + iVar10),
                           *(short *)((int)&DAT_BATTLE_BIN__80121d7c + iVar10) + *psVar13 + -1);
        *(int *)((int)&DAT_BATTLE_BIN__800f6ccc + iVar15) = iVar7;
        if (iVar7 == 0) {
          FUN_80044a00();
        }
      }
      break;
    case 0x80:
      *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) =
           *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) + (char)DAT_80045980;
      if (*pbVar12 < *(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2)) {
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0;
        *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + -1;
        *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) + -1;
        iVar9 = (int)*(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10);
        iVar7 = iVar9;
        if (iVar9 < 0) {
          iVar7 = iVar9 + 0x3f;
        }
        if ((int)*(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) -
            (int)*(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10) < (iVar7 >> 6) * 0x40 + 2) {
          *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) =
               (char)((0x40 - ((iVar9 + (iVar7 >> 6) * -0x40) * 0x10000 >> 0x10)) /
                     (int)*(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10));
          *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) =
               *(char *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1) + -1;
          *(ushort *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
               *(short *)((int)&DAT_BATTLE_BIN__80121d84 + iVar10) +
               (ushort)*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10) *
               *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10);
        }
        if (*(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) == '\0') {
          *(undefined *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 2) = 2;
        }
        *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) =
             *(short *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar11) -
             *(short *)((int)&DAT_BATTLE_BIN__80121d80 + iVar10);
        iVar7 = DAT_BATTLE_BIN__8011a2d4;
        *(ushort *)((int)&DAT_BATTLE_BIN__800f6dc2 + iVar11) =
             *(short *)((int)&DAT_BATTLE_BIN__80121d86 + iVar10) +
             *(short *)((int)&DAT_BATTLE_BIN__80121d82 + iVar10) *
             (ushort)*(byte *)((int)&DAT_BATTLE_BIN__80121d88 + iVar10 + 1);
        ot = *(void **)(iVar7 + 0xe5b4);
        goto LAB_BATTLE_BIN__800f20e0;
      }
      break;
    case 0x81:
      *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) =
           *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) + (char)DAT_80045980;
      if (*pbVar12 < *(byte *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2)) {
        *(undefined *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10 + 2) = 0;
        *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) =
             *(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) + -1;
        uVar6 = 4;
        if (*(char *)((int)&DAT_BATTLE_BIN__80121d8c + iVar10) == '\0')
        goto LAB_BATTLE_BIN__800f1aa0;
        goto LAB_BATTLE_BIN__800f1aac;
      }
    }
LAB_BATTLE_BIN__800f2240:
    psVar13 = psVar13 + 10;
    pbVar12 = pbVar12 + 0x14;
    iVar10 = iVar10 + 0x14;
    iVar15 = iVar15 + 4;
    iVar11 = iVar11 + 0x18;
    puVar14 = puVar14 + 10;
    if (-0x7fede001 < (int)psVar13) {
      return;
    }
  } while( true );
}



int * FUN_BATTLE_BIN__800f2294(int *param_1,int *param_2)

{
  undefined uVar1;
  byte bVar2;
  bool bVar3;
  undefined4 *puVar4;
  int *piVar5;
  int iVar6;
  undefined4 uVar7;
  int *piVar8;
  int *piVar9;
  uint uVar10;
  undefined *puVar11;
  undefined4 *puVar12;
  int iVar13;
  uint uVar14;
  int *piVar15;
  int iVar16;
  uint uVar17;
  undefined4 *puVar18;
  
  iVar6 = *param_1;
  uVar14 = 1;
  if (iVar6 == 1) {
    uVar17 = param_1[1] + 1;
    param_2 = param_1 + 2;
    if (1 < uVar17) {
      piVar15 = &DAT_BATTLE_BIN__800f7ea4;
      piVar5 = param_1 + 0x16;
      do {
        piVar8 = param_2;
        piVar9 = piVar15;
        if (((uint)param_2 & 3) == 0) {
          do {
            iVar6 = piVar8[1];
            iVar13 = piVar8[2];
            iVar16 = piVar8[3];
            *piVar9 = *piVar8;
            piVar9[1] = iVar6;
            piVar9[2] = iVar13;
            piVar9[3] = iVar16;
            piVar8 = piVar8 + 4;
            piVar9 = piVar9 + 4;
          } while (piVar8 != piVar5);
        }
        else {
          do {
            iVar6 = piVar8[1];
            iVar13 = piVar8[2];
            iVar16 = piVar8[3];
            *piVar9 = *piVar8;
            piVar9[1] = iVar6;
            piVar9[2] = iVar13;
            piVar9[3] = iVar16;
            piVar8 = piVar8 + 4;
            piVar9 = piVar9 + 4;
          } while (piVar8 != piVar5);
        }
        piVar5 = piVar5 + 0x14;
        param_2 = param_2 + 0x14;
        uVar14 = uVar14 + 1;
        piVar15 = piVar15 + 0x14;
      } while (uVar14 < uVar17);
    }
  }
  else if (iVar6 != 0) {
    if (iVar6 == 2) {
      param_2 = param_1 + 2;
      uVar14 = 0;
      iVar6 = 0;
      do {
        uVar17 = 1;
        puVar11 = &DAT_BATTLE_BIN__800facd4;
        do {
          uVar10 = 1;
          piVar5 = (int *)(puVar11 + iVar6);
          do {
            piVar5 = piVar5 + 1;
            *piVar5 = *param_2;
            param_2 = param_2 + 1;
            uVar10 = uVar10 + 1;
          } while (uVar10 < 0x11);
          uVar17 = uVar17 + 1;
          puVar11 = puVar11 + 0x220;
        } while (uVar17 < 9);
        uVar14 = uVar14 + 1;
        iVar6 = iVar6 + 0x44;
      } while (uVar14 < 8);
    }
    else if (iVar6 == 3) {
      uVar17 = param_1[1] + 1;
      param_2 = param_1 + 2;
      if (1 < uVar17) {
        puVar12 = &DAT_BATTLE_BIN__800facd8;
        puVar18 = (undefined4 *)&DAT_BATTLE_BIN__800fbeb8;
        iVar16 = 0x220;
        iVar6 = 0x98;
        iVar13 = 4;
        piVar5 = param_2;
        puVar4 = &DAT_BATTLE_BIN__800fbe08;
        do {
          if (8 < uVar14) goto LAB_BATTLE_BIN__800f25f0;
          uVar1 = *(undefined *)piVar5;
          *(undefined2 *)(&DAT_BATTLE_BIN__800fbe82 + iVar6) = 0;
          *(undefined2 *)(&DAT_BATTLE_BIN__800fbe80 + iVar6) = 2;
          *(undefined *)(iVar6 + -0x7ff0417a) = uVar1;
          param_2 = piVar5 + 1;
          if (*(char *)(iVar16 + -0x7ff05547) == '\0') {
            *(undefined4 *)((int)&DAT_BATTLE_BIN__8011a1b0 + iVar13) = 0;
          }
          else {
            *(undefined4 *)((int)&DAT_BATTLE_BIN__8011a1b0 + iVar13) = 1;
          }
          *(undefined *)(iVar6 + -0x7ff04179) = 0;
          uVar7 = *(undefined4 *)(&DAT_BATTLE_BIN__800f7e58 + (uint)*(byte *)puVar12 * 0x50);
          puVar4[0x26] = *(undefined4 *)(&DAT_BATTLE_BIN__800f7e54 + (uint)*(byte *)puVar12 * 0x50);
          puVar4[0x27] = uVar7;
          uVar7 = *(undefined4 *)(&DAT_BATTLE_BIN__800f7e60 + (uint)*(byte *)puVar12 * 0x50);
          *puVar18 = *(undefined4 *)(&DAT_BATTLE_BIN__800f7e5c + (uint)*(byte *)puVar12 * 0x50);
          puVar18[1] = uVar7;
          iVar16 = iVar16 + 0x220;
          iVar13 = iVar13 + 4;
          *(int *)((int)&DAT_BATTLE_BIN__800fbe40 + iVar6) =
               (int)*(short *)(&DAT_BATTLE_BIN__800f7e64 + (uint)*(byte *)puVar12 * 0x50);
          uVar14 = uVar14 + 1;
          *(int *)((int)&DAT_BATTLE_BIN__800fbe44 + iVar6) =
               (int)*(short *)(&DAT_BATTLE_BIN__800f7e66 + (uint)*(byte *)puVar12 * 0x50);
          bVar2 = *(byte *)puVar12;
          puVar18 = puVar18 + 0x26;
          puVar12 = puVar12 + 0x88;
          *(int *)((int)&DAT_BATTLE_BIN__800fbe48 + iVar6) =
               (int)*(short *)(&DAT_BATTLE_BIN__800f7e68 + (uint)bVar2 * 0x50);
          bVar3 = uVar14 < uVar17;
          iVar6 = iVar6 + 0x98;
          piVar5 = param_2;
          puVar4 = puVar4 + 0x26;
        } while (bVar3);
        while (piVar5 = param_2 + 1, bVar3) {
          uVar14 = uVar14 + 1;
LAB_BATTLE_BIN__800f25f0:
          bVar3 = uVar14 < uVar17;
          param_2 = piVar5;
        }
      }
    }
  }
  return param_2;
}



undefined4 FUN_BATTLE_BIN__800f2618(byte param_1,short param_2,short param_3)

{
  undefined4 uVar1;
  
  uVar1 = 0;
  if (param_1 == 2) {
    if (param_3 < param_2) {
      uVar1 = 1;
    }
  }
  else if (param_1 < 3) {
    if ((param_1 == 1) && (param_3 == param_2)) {
      uVar1 = 1;
    }
  }
  else if ((param_1 == 3) && (param_2 < param_3)) {
    uVar1 = 1;
  }
  return uVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__800f26bc(undefined param_1,int *param_2)

{
  ushort uVar1;
  undefined2 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined2 *puVar6;
  int iVar7;
  int *piVar8;
  int iVar9;
  int iVar10;
  byte *pbVar11;
  undefined *puVar12;
  undefined4 *puVar13;
  undefined2 local_60;
  undefined2 local_5e;
  undefined2 local_5c;
  undefined2 local_5a;
  undefined2 local_58;
  undefined2 local_56;
  undefined2 local_54;
  undefined2 local_52;
  undefined2 local_50;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  
  local_40 = DAT_BATTLE_BIN__800e6b94;
  local_3c = DAT_BATTLE_BIN__800e6b98;
  piVar8 = &DAT_BATTLE_BIN__800e6b9c;
  local_38 = DAT_BATTLE_BIN__800e6b9c;
  local_34 = DAT_BATTLE_BIN__800e6ba0;
  local_30 = DAT_BATTLE_BIN__800e6ba4;
  local_2c = DAT_BATTLE_BIN__800e6ba8;
  do {
    iVar3 = DrawSync(1);
  } while (iVar3 != 0);
  switch(param_1) {
  case 0x10:
    iVar4 = 0;
    puVar13 = &DAT_BATTLE_BIN__800f7994;
    iVar3 = 0;
    DAT_BATTLE_BIN__800f5b64 = 0;
    DAT_BATTLE_BIN__800f5b68 = 0;
    DAT_BATTLE_BIN__800f5b6c = 0;
    DAT_BATTLE_BIN__800f5b70 = 0;
    do {
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe90 + iVar3) = 0;
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe92 + iVar3) = 0;
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe94 + iVar3) = 0;
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800fbe96 + iVar3) = 0;
      *puVar13 = 0;
      puVar13 = puVar13 + 1;
      iVar4 = iVar4 + 1;
      iVar3 = iVar3 + 0x98;
    } while (iVar4 < 9);
    DAT_BATTLE_BIN__800f7994 = param_2;
    FUN_BATTLE_BIN__800f4dd4((ushort *)param_2,(int)&DAT_BATTLE_BIN__800fbe00);
    DAT_BATTLE_BIN__800f5b74 = DAT_BATTLE_BIN__800f5b64;
    DAT_BATTLE_BIN__800f5b78 = DAT_BATTLE_BIN__800f5b68;
    DAT_BATTLE_BIN__800f5b7c = DAT_BATTLE_BIN__800f5b6c;
    DAT_BATTLE_BIN__800f5b80 = DAT_BATTLE_BIN__800f5b70;
    break;
  case 0x11:
    DAT_BATTLE_BIN__800f6cb0 = 1;
    iVar3 = 0;
    do {
      (&DAT_BATTLE_BIN__800f6ab0)[iVar3] = *(undefined *)param_2;
      iVar3 = iVar3 + 1;
      param_2 = (int *)((int)param_2 + 1);
    } while (iVar3 < 0x200);
    break;
  case 0x12:
    FUN_80044a00();
    break;
  case 0x13:
    DAT_BATTLE_BIN__800f6828 = 0x300;
    DAT_BATTLE_BIN__800f682c = 0x40;
    DAT_BATTLE_BIN__800f682a = 0;
    DAT_BATTLE_BIN__800f682e = 0x100;
    LoadImage((RECT *)&DAT_BATTLE_BIN__800f6828,(u_long *)param_2);
    do {
      iVar3 = DrawSync(1);
    } while (iVar3 != 0);
    break;
  case 0x14:
    DAT_BATTLE_BIN__800f6828 = 0x340;
    DAT_BATTLE_BIN__800f682c = 0x40;
    DAT_BATTLE_BIN__800f682a = 0;
    DAT_BATTLE_BIN__800f682e = 0x100;
    LoadImage((RECT *)&DAT_BATTLE_BIN__800f6828,(u_long *)param_2);
    do {
      iVar3 = DrawSync(1);
    } while (iVar3 != 0);
    break;
  case 0x15:
    DAT_BATTLE_BIN__800f6828 = 0x380;
    DAT_BATTLE_BIN__800f682c = 0x40;
    DAT_BATTLE_BIN__800f682a = 0;
    DAT_BATTLE_BIN__800f682e = 0x100;
    LoadImage((RECT *)&DAT_BATTLE_BIN__800f6828,(u_long *)param_2);
    do {
      iVar3 = DrawSync(1);
    } while (iVar3 != 0);
    break;
  case 0x16:
    DAT_BATTLE_BIN__800f6828 = 0x3c0;
    DAT_BATTLE_BIN__800f682c = 0x40;
    DAT_BATTLE_BIN__800f682a = 0;
    DAT_BATTLE_BIN__800f682e = 0x100;
    LoadImage((RECT *)&DAT_BATTLE_BIN__800f6828,(u_long *)param_2);
    do {
      iVar3 = DrawSync(1);
    } while (iVar3 != 0);
    break;
  case 0x17:
    if (DAT_BATTLE_BIN__800f6cbc != '\0') {
      FUN_BATTLE_BIN__800f26bc(0x13,param_2);
    }
    if (DAT_BATTLE_BIN__800f6cc0 != '\0') {
      FUN_BATTLE_BIN__800f26bc(0x14,param_2 + 0x2000);
    }
    if (DAT_BATTLE_BIN__800f6cc4 != '\0') {
      FUN_BATTLE_BIN__800f26bc(0x15,param_2 + 0x4000);
    }
    if (DAT_BATTLE_BIN__800f6cc8 != '\0') {
      FUN_BATTLE_BIN__800f26bc(0x16,param_2 + 0x6000);
    }
    DAT_BATTLE_BIN__800f6cbc = '\0';
    DAT_BATTLE_BIN__800f6cc0 = '\0';
    DAT_BATTLE_BIN__800f6cc4 = '\0';
    DAT_BATTLE_BIN__800f6cc8 = '\0';
    DAT_BATTLE_BIN__800f6cb4 = 0;
    break;
  case 0x19:
    DAT_BATTLE_BIN__800f6aac = 1;
    iVar3 = 0;
    do {
      (&DAT_BATTLE_BIN__800f6a7c)[iVar3] = *(undefined *)param_2;
      iVar3 = iVar3 + 1;
      param_2 = (int *)((int)param_2 + 1);
    } while (iVar3 < 0x2d);
    break;
  case 0x1a:
    DAT_BATTLE_BIN__800f6860 = *(undefined *)param_2;
    DAT_BATTLE_BIN__800f6864 = *(undefined *)((int)param_2 + 1);
    FUN_BATTLE_BIN__80183ea0((undefined *)param_2);
    break;
  case 0x1b:
    iVar3 = 0;
    piVar8 = (int *)&DAT_BATTLE_BIN__80121d7c;
    puVar12 = (undefined *)((int)&DAT_BATTLE_BIN__80121d8c + 3);
    pbVar11 = (byte *)((int)&DAT_BATTLE_BIN__80121d88 + 2);
    iVar4 = 0;
    iVar9 = 0;
    puVar13 = &DAT_BATTLE_BIN__800f6ccc;
    do {
      *puVar13 = 0;
      iVar5 = param_2[1];
      iVar7 = param_2[2];
      iVar10 = param_2[3];
      *piVar8 = *param_2;
      piVar8[1] = iVar5;
      piVar8[2] = iVar7;
      piVar8[3] = iVar10;
      piVar8[4] = param_2[4];
      SetDrawMove((DR_MOVE *)(&DAT_BATTLE_BIN__800f6db4 + iVar4));
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800f6dc0 + iVar4) =
           *(undefined2 *)((int)&DAT_BATTLE_BIN__80121d84 + iVar9);
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800f6dc2 + iVar4) =
           *(undefined2 *)((int)&DAT_BATTLE_BIN__80121d86 + iVar9);
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800f6dc8 + iVar4) =
           *(undefined2 *)((int)&DAT_BATTLE_BIN__80121d80 + iVar9);
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800f6dca + iVar4) =
           *(undefined2 *)((int)&DAT_BATTLE_BIN__80121d82 + iVar9);
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800f6dc4 + iVar4) =
           *(undefined2 *)((int)&DAT_BATTLE_BIN__80121d7c + iVar9);
      *(undefined2 *)((int)&DAT_BATTLE_BIN__800f6dc6 + iVar4) =
           *(undefined2 *)((int)&DAT_BATTLE_BIN__80121d7e + iVar9);
      if (*pbVar11 - 5 < 0x18) {
        *puVar12 = 0;
      }
      else if (*pbVar11 != 0) {
        *puVar12 = 1;
      }
      puVar12 = puVar12 + 0x14;
      pbVar11 = pbVar11 + 0x14;
      iVar4 = iVar4 + 0x18;
      piVar8 = piVar8 + 5;
      param_2 = param_2 + 5;
      iVar9 = iVar9 + 0x14;
      iVar3 = iVar3 + 1;
      puVar13 = puVar13 + 1;
    } while (iVar3 < 0x20);
    break;
  case 0x1c:
    iVar3 = 0;
    puVar6 = &DAT_BATTLE_BIN__800f687c;
    do {
      uVar2 = *(undefined2 *)param_2;
      param_2 = (int *)((int)param_2 + 2);
      iVar3 = iVar3 + 1;
      *puVar6 = uVar2;
      puVar6 = puVar6 + 1;
    } while (iVar3 < 0x100);
    break;
  case 0x1f:
    iVar3 = 1;
    DAT_BATTLE_BIN__800f682a = 0x1e1;
    goto LAB_BATTLE_BIN__800f2d0c;
  case 0x23:
    iVar3 = *param_2;
    while (iVar3 != 0) {
      param_2 = FUN_BATTLE_BIN__800f2294(param_2,piVar8);
      iVar3 = *param_2;
    }
    break;
  case 0x24:
    DAT_BATTLE_BIN__800f7998 = param_2;
    FUN_BATTLE_BIN__800f4dd4((ushort *)param_2,(int)&DAT_BATTLE_BIN__800fbe98);
    break;
  case 0x25:
    DAT_BATTLE_BIN__800f799c = param_2;
    FUN_BATTLE_BIN__800f4dd4((ushort *)param_2,(int)&DAT_BATTLE_BIN__800fbf30);
    break;
  case 0x26:
    DAT_BATTLE_BIN__800f79a0 = param_2;
    FUN_BATTLE_BIN__800f4dd4((ushort *)param_2,(int)&DAT_BATTLE_BIN__800fbfc8);
    break;
  case 0x27:
    DAT_BATTLE_BIN__800f79a4 = param_2;
    FUN_BATTLE_BIN__800f4dd4((ushort *)param_2,(int)&DAT_BATTLE_BIN__800fc060);
    break;
  case 0x28:
    DAT_BATTLE_BIN__800f79a8 = param_2;
    FUN_BATTLE_BIN__800f4dd4((ushort *)param_2,(int)&DAT_BATTLE_BIN__800fc0f8);
    break;
  case 0x29:
    DAT_BATTLE_BIN__800f79ac = param_2;
    FUN_BATTLE_BIN__800f4dd4((ushort *)param_2,(int)&DAT_BATTLE_BIN__800fc190);
    break;
  case 0x2a:
    DAT_BATTLE_BIN__800f79b0 = param_2;
    FUN_BATTLE_BIN__800f4dd4((ushort *)param_2,(int)&DAT_BATTLE_BIN__800fc228);
    break;
  case 0x2b:
    DAT_BATTLE_BIN__800f79b4 = param_2;
    FUN_BATTLE_BIN__800f4dd4((ushort *)param_2,(int)&DAT_BATTLE_BIN__800fc2c0);
    break;
  case 0x2c:
    piVar8 = param_2 + 0xe0;
    iVar3 = 0;
    iVar4 = 0;
    iVar9 = 0;
    do {
      uVar1 = *(ushort *)piVar8;
      *(ushort *)((int)&DAT_BATTLE_BIN__8011a2e6 + iVar9) = uVar1;
      piVar8 = (int *)((int)piVar8 + 2);
      if ((uVar1 & 0x8000) == 0) {
        (&DAT_BATTLE_BIN__800fc560)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800fc56c)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800fc578)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800fc561)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800fc56d)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800fc579)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800fc562)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800fc56e)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800fc57a)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010b388)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010b394)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010b3a0)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010b389)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010b395)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010b3a1)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010b38a)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010b396)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010b3a2)[iVar4] = 0x80;
      }
      iVar4 = iVar4 + 0x28;
      iVar3 = iVar3 + 1;
      iVar9 = iVar9 + 0x18;
    } while (iVar3 < 0x168);
    for (; iVar3 < 0x200; iVar3 = iVar3 + 1) {
      piVar8 = (int *)((int)piVar8 + 2);
    }
    iVar3 = 0;
    iVar4 = 0;
    iVar9 = 0;
    do {
      uVar1 = *(ushort *)piVar8;
      *(ushort *)((int)&DAT_BATTLE_BIN__8011c4a6 + iVar9) = uVar1;
      piVar8 = (int *)((int)piVar8 + 2);
      if ((uVar1 & 0x8000) == 0) {
        (&DAT_BATTLE_BIN__800ffda0)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffdac)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffdb8)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffdc4)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffda1)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffdad)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffdb9)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffdc5)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffda2)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffdae)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffdba)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__800ffdc6)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebc8)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebd4)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebe0)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebec)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebc9)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebd5)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebe1)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebed)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebca)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebd6)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebe2)[iVar4] = 0x80;
        (&DAT_BATTLE_BIN__8010ebee)[iVar4] = 0x80;
      }
      iVar4 = iVar4 + 0x34;
      iVar3 = iVar3 + 1;
      iVar9 = iVar9 + 0x20;
    } while (iVar3 < 0x2c6);
    for (; iVar3 < 0x300; iVar3 = iVar3 + 1) {
      piVar8 = (int *)((int)piVar8 + 2);
    }
    iVar4 = 0;
    iVar3 = 0;
    do {
      uVar1 = *(ushort *)piVar8;
      piVar8 = (int *)((int)piVar8 + 2);
      iVar4 = iVar4 + 1;
      *(ushort *)((int)&DAT_BATTLE_BIN__80122012 + iVar3) = uVar1;
      iVar3 = iVar3 + 0x18;
    } while (iVar4 < 0x40);
    iVar3 = 0;
    do {
      *(ushort *)((int)&DAT_BATTLE_BIN__80122612 + iVar3) = *(ushort *)piVar8;
      iVar3 = iVar3 + 0x20;
      piVar8 = (int *)((int)piVar8 + 2);
    } while (iVar3 < 0x2000);
    FUN_BATTLE_BIN__800e72a0(0x46);
    break;
  case 0x2e:
  case 0x2f:
  case 0x30:
    iVar3 = 0x10;
    piVar8 = param_2 + 0x10;
    do {
      iVar4 = *piVar8;
      piVar8 = piVar8 + 1;
      if (iVar4 != 0) {
        FUN_BATTLE_BIN__800f26bc((char)iVar3,(int *)((int)param_2 + iVar4));
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < 0x31);
    break;
  case 0x32:
    DAT_BATTLE_BIN__800f6aac = 0;
    DAT_BATTLE_BIN__800f5b34 = 0;
    DAT_BATTLE_BIN__800f5b36 = 0;
    DAT_BATTLE_BIN__800f5b38 = 0;
    local_60 = *(undefined2 *)((int)param_2 + 0x12);
    local_5e = *(undefined2 *)(param_2 + 5);
    local_5c = *(undefined2 *)((int)param_2 + 0x16);
    local_5a = *(undefined2 *)(param_2 + 6);
    local_58 = *(undefined2 *)((int)param_2 + 0x1a);
    local_56 = *(undefined2 *)(param_2 + 7);
    local_54 = *(undefined2 *)((int)param_2 + 0x1e);
    local_52 = *(undefined2 *)(param_2 + 8);
    local_50 = *(undefined2 *)((int)param_2 + 0x22);
    FUN_BATTLE_BIN__800e767c((undefined2 *)param_2,&local_60);
    FUN_BATTLE_BIN__800e77b8
              (9,(uint)*(byte *)(param_2 + 9),(uint)*(byte *)((int)param_2 + 0x25),
               (uint)*(byte *)((int)param_2 + 0x26));
    _DAT_BATTLE_BIN__801251c8 =
         CONCAT13(DAT_BATTLE_BIN__801251c8_3,*(undefined3 *)((int)param_2 + 0x27));
    _DAT_BATTLE_BIN__801251cc =
         CONCAT13(DAT_BATTLE_BIN__801251cc_3,*(undefined3 *)((int)param_2 + 0x2a));
    _DAT_BATTLE_BIN__800f7a44 = _DAT_BATTLE_BIN__801251c8;
    _DAT_BATTLE_BIN__800f7a48 = _DAT_BATTLE_BIN__801251cc;
    FUN_BATTLE_BIN__800e8190(0x58,(undefined4 *)0x0);
    break;
  case 0x33:
    iVar3 = 0;
    DAT_BATTLE_BIN__800f682a = 0x1e0;
    DAT_BATTLE_BIN__800f6cb0 = 0;
LAB_BATTLE_BIN__800f2d0c:
    DAT_BATTLE_BIN__800f682c = 0x100;
    DAT_BATTLE_BIN__800f6828 = 0;
    DAT_BATTLE_BIN__800f682e = 1;
    FUN_BATTLE_BIN__800926d8((ushort *)param_2,iVar3,0,1);
    break;
  case 0x83:
    DAT_BATTLE_BIN__800f5b9c = -*(short *)(param_2 + 3);
    DAT_BATTLE_BIN__800f5b9e = *(undefined2 *)((int)param_2 + 0xe);
    DAT_BATTLE_BIN__800f5ba0 = -*(short *)(param_2 + 4);
    FUN_BATTLE_BIN__8008e358(&DAT_BATTLE_BIN__800f5b9c,(ushort *)&DAT_BATTLE_BIN__800f5c0c);
    break;
  case 0x84:
    DAT_BATTLE_BIN__800f5c0c._0_2_ = *(undefined2 *)(param_2 + 3);
    DAT_BATTLE_BIN__800f5c0c._2_2_ = *(undefined2 *)((int)param_2 + 0xe);
    DAT_BATTLE_BIN__800f5c10._0_2_ = *(undefined2 *)(param_2 + 4);
    FUN_BATTLE_BIN__8008e358(&DAT_BATTLE_BIN__800f5b9c,(ushort *)&DAT_BATTLE_BIN__800f5c0c);
    break;
  case 0x85:
    DAT_BATTLE_BIN__800b6698 = DAT_BATTLE_BIN__800b6698 | 2;
    SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8010aaf8,0,0,0,(RECT *)0x0);
    iVar3 = 0;
    goto LAB_BATTLE_BIN__800f3420;
  case 0x86:
    DAT_BATTLE_BIN__800b6698 = DAT_BATTLE_BIN__800b6698 & 0xfffffffd;
    SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__8010aaf8,0,1,0,(RECT *)0x0);
    iVar3 = 1;
LAB_BATTLE_BIN__800f3420:
    SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__80119920,0,iVar3,0,(RECT *)0x0);
    break;
  case 0x88:
    DAT_BATTLE_BIN__800b6698 = DAT_BATTLE_BIN__800b6698 & 0xfffffffe;
    break;
  case 0x89:
    DAT_BATTLE_BIN__800b6698 = DAT_BATTLE_BIN__800b6698 | 1;
    break;
  case 0x8b:
    DAT_BATTLE_BIN__800b6698 = DAT_BATTLE_BIN__800b6698 & 0x7f | (int)*(short *)(param_2 + 3) << 7;
  }
  return;
}



undefined4 FUN_BATTLE_BIN__800f34c4(int param_1,int *param_2)

{
  char cVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  undefined uVar5;
  
  if (param_1 != 2) {
    return 0;
  }
  cVar1 = *(char *)((int)param_2 + 5);
  if (cVar1 == -0x7b) {
    uVar5 = 0x85;
  }
  else if (cVar1 == -0x7a) {
    uVar5 = 0x86;
  }
  else if (cVar1 == -0x78) {
    uVar5 = 0x88;
  }
  else if (cVar1 == -0x77) {
    uVar5 = 0x89;
  }
  else if (cVar1 == -0x76) {
    uVar5 = 0x8a;
  }
  else {
    uVar5 = 0x8b;
    if (cVar1 != -0x75) {
      uVar2 = FUN_BATTLE_BIN__8013b590((uint)*(byte *)param_2);
      uVar3 = FUN_BATTLE_BIN__8013b590(0x23);
      uVar4 = FUN_BATTLE_BIN__8013b590(0x24);
      uVar3 = FUN_BATTLE_BIN__800f2618
                        (*(byte *)(param_2 + 1),(ushort)*(byte *)((int)param_2 + 2),
                         (ushort)uVar2 & 0xfff | (ushort)((uVar3 & 7) << 0xc) |
                         (ushort)((uVar4 & 1) << 0xf));
      if ((uVar3 & 0xffff) == 0) goto LAB_BATTLE_BIN__800f3600;
      uVar5 = *(undefined *)((int)param_2 + 5);
    }
  }
  FUN_BATTLE_BIN__800f26bc(uVar5,param_2);
LAB_BATTLE_BIN__800f3600:
  DAT_BATTLE_BIN__800fbdf4 = (uint)*(byte *)(param_2 + 2) + DAT_BATTLE_BIN__800fbdf4;
  return 0;
}



undefined4 * FUN_BATTLE_BIN__800f3638(uint param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  FUN_BATTLE_BIN__80183f60((undefined4 *)((param_1 & 0xffff) * 0x10 + -0x7ff0a18c));
  puVar1 = (undefined4 *)bzero((uchar *)&DAT_BATTLE_BIN__80124604,3000);
  if (*(int *)(&DAT_BATTLE_BIN__800f5c74 + (param_1 & 0xffff) * 4) != 0) {
    iVar2 = Call_CalcFileHead_NNL
                      (*(int *)(&DAT_BATTLE_BIN__800f5c74 + (param_1 & 0xffff) * 4),0x1000,
                       DAT_BATTLE_BIN__80121ffc);
    puVar1 = (undefined4 *)0x0;
    if (iVar2 == 0) {
      puVar1 = &DAT_BATTLE_BIN__80124604;
    }
  }
  return puVar1;
}



u_long * FUN_BATTLE_BIN__800f36c4(undefined4 param_1,int param_2,u_long *param_3)

{
  int iVar1;
  u_long *puVar2;
  
  if (*(char *)(param_2 + 0xd) == '\0') {
    puVar2 = (u_long *)0x0;
  }
  else {
    iVar1 = Call_CalcFileHead_NNL(*(int *)(param_2 + 2),*(uint *)(param_2 + 6),param_3);
    puVar2 = (u_long *)0x0;
    if (iVar1 == 0) {
      puVar2 = param_3;
    }
  }
  return puVar2;
}



int FUN_BATTLE_BIN__800f3718(uint param_1,uint param_2)

{
  undefined *puVar1;
  ushort *puVar2;
  ushort *puVar3;
  ushort *puVar4;
  ushort *puVar5;
  byte bVar6;
  byte bVar7;
  char cVar8;
  uint *puVar9;
  undefined4 *puVar10;
  int iVar11;
  undefined4 uVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  uint uVar16;
  uint uVar17;
  int iVar18;
  byte *pbVar19;
  int iVar20;
  byte *pbVar21;
  undefined4 uVar22;
  byte *pbVar23;
  byte bVar24;
  undefined4 uVar25;
  uint *puVar26;
  u_long *puVar27;
  byte *pbVar28;
  int *piVar29;
  
  uVar13 = param_1;
  if (DAT_BATTLE_BIN__800f5c58 == 0) {
    param_2 = param_2 - 0x73;
    switch(param_2) {
    case 0:
      iVar11 = Check_File_Still_Loading();
      if (iVar11 != 0) {
        return 0;
      }
      DAT_BATTLE_BIN__80121ffc = (u_long *)BIN_Malloc_FFT(0x20000);
      if (DAT_BATTLE_BIN__80121ffc == (u_long *)0x0) {
        param_2 = 0x3c2;
        FUN_80044a00();
      }
      uVar13 = param_1 & 0xffff;
      FUN_BATTLE_BIN__800f3638(uVar13);
      goto LAB_BATTLE_BIN__800f384c;
    default:
      break;
    case 2:
      goto switchD_BATTLE_BIN__800f3764_caseD_75;
    case 0x26:
      DAT_BATTLE_BIN__800f5c54 = '\x01';
switchD_BATTLE_BIN__800f3764_caseD_75:
      iVar11 = Check_File_Still_Loading();
      if (iVar11 != 0) {
        return 0;
      }
      DAT_BATTLE_BIN__80121ffc = (u_long *)BIN_Malloc_FFT(0x20000);
      uVar13 = 2;
      if (DAT_BATTLE_BIN__80121ffc == (u_long *)0x0) {
        param_2 = 0x3c2;
        FUN_80044a00();
      }
      DAT_BATTLE_BIN__800f6cbc = 0;
      DAT_BATTLE_BIN__800f6cc0 = 0;
      DAT_BATTLE_BIN__800f6cc4 = 0;
      DAT_BATTLE_BIN__800f6cc8 = 0;
      DAT_BATTLE_BIN__800f6cb4 = '\0';
      DAT_BATTLE_BIN__800f6cb0 = '\0';
      DAT_BATTLE_BIN__800f6aac = '\0';
      if (param_1 == DAT_BATTLE_BIN__800f5ba8) {
        DAT_BATTLE_BIN__800f5c5c = 0;
        DAT_BATTLE_BIN__800f5c58 = 0xf;
      }
      else {
        uVar13 = param_1 & 0xffff;
        puVar10 = FUN_BATTLE_BIN__800f3638(uVar13);
        if (puVar10 != &DAT_BATTLE_BIN__80124604) {
          return 0;
        }
LAB_BATTLE_BIN__800f384c:
        DAT_BATTLE_BIN__800f5c5c = 0x74;
        DAT_BATTLE_BIN__800f5c58 = 0xf;
        DAT_BATTLE_BIN__800f5ba8 = param_1;
        FUN_BATTLE_BIN__800ee438();
      }
    }
  }
  uVar17 = DAT_BATTLE_BIN__800f5c5c - 0x74;
  if (DAT_BATTLE_BIN__800f5c5c == 0) {
    if (DAT_BATTLE_BIN__800f5c58 != 1) {
      iVar11 = 0x3c0;
      if (DAT_BATTLE_BIN__800f5c58 != 0xf) {
        return DAT_BATTLE_BIN__800f5c58;
      }
      DAT_BATTLE_BIN__800fbdf4 = (int *)0x0;
      DAT_BATTLE_BIN__800f5c58 = 1;
      do {
        (&DAT_BATTLE_BIN__800f7a65)[iVar11] = 0;
        iVar11 = iVar11 + -0x14;
      } while (-1 < iVar11);
      if (0x7f < DAT_BATTLE_BIN__80124608._1_1_) {
        return DAT_BATTLE_BIN__800f5c58;
      }
      pbVar28 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + 1);
      iVar11 = 0;
      do {
        if (*pbVar28 == 0x2e) {
          uVar12 = FUN_BATTLE_BIN__8013b590
                             ((int)*(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11));
          uVar13 = FUN_BATTLE_BIN__8013b590(0x23);
          uVar17 = FUN_BATTLE_BIN__8013b590(0x24);
          uVar13 = FUN_BATTLE_BIN__800f2618
                             (*(byte *)((int)&DAT_BATTLE_BIN__80124608 + iVar11),
                              *(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11 + 2),
                              (ushort)uVar12 & 0xfff | (ushort)((uVar13 & 7) << 0xc) |
                              (ushort)((uVar17 & 1) << 0xf));
          iVar18 = 0;
          if ((uVar13 & 0xffff) != 0) {
            do {
              iVar20 = iVar18 + (uint)*(byte *)((int)&DAT_BATTLE_BIN__80124608 + iVar11 + 1) * 0x14;
              iVar18 = iVar18 + 1;
                    // Possible PsyQ macro: setLineF3()
              (&DAT_BATTLE_BIN__800fa6c6)[iVar20] = 0x48;
            } while (iVar18 < 0xe);
          }
          bVar24 = 0;
          pbVar19 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + iVar11 + 2);
          pbVar21 = &DAT_BATTLE_BIN__800fa6c6 + (uint)*pbVar28 * 0x14;
          do {
            bVar6 = *pbVar19;
            pbVar19 = pbVar19 + 1;
            bVar7 = *pbVar21;
            pbVar21 = pbVar21 + 1;
            bVar24 = bVar24 | bVar7 ^ bVar6;
          } while ((int)pbVar19 < (int)(&DAT_BATTLE_BIN__80124618 + iVar11));
          if (bVar24 != 0) {
            iVar18 = (uint)*pbVar28 * 0x14;
            uVar12 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124608 + iVar11);
            uVar22 = *(undefined4 *)((int)&DAT_BATTLE_BIN__8012460c + iVar11);
            uVar25 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124610 + iVar11);
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a60 + iVar18) =
                 *(undefined4 *)((int)&DAT_BATTLE_BIN__80124604 + iVar11);
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a64 + iVar18) = uVar12;
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a68 + iVar18) = uVar22;
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a6c + iVar18) = uVar25;
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a70 + iVar18) =
                 *(undefined4 *)((int)&DAT_BATTLE_BIN__80124614 + iVar11);
          }
        }
        pbVar28 = pbVar28 + 0x14;
        iVar11 = iVar11 + 0x14;
      } while (*pbVar28 < 0x80);
      if (0x7f < DAT_BATTLE_BIN__80124608._1_1_) {
        return DAT_BATTLE_BIN__800f5c58;
      }
      pbVar28 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + 1);
      iVar11 = 0;
      do {
        if (*pbVar28 == 0x2f) {
          uVar12 = FUN_BATTLE_BIN__8013b590
                             ((int)*(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11));
          uVar13 = FUN_BATTLE_BIN__8013b590(0x23);
          uVar17 = FUN_BATTLE_BIN__8013b590(0x24);
          uVar13 = FUN_BATTLE_BIN__800f2618
                             (*(byte *)((int)&DAT_BATTLE_BIN__80124608 + iVar11),
                              *(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11 + 2),
                              (ushort)uVar12 & 0xfff | (ushort)((uVar13 & 7) << 0xc) |
                              (ushort)((uVar17 & 1) << 0xf));
          iVar18 = 0;
          if ((uVar13 & 0xffff) != 0) {
            do {
              iVar20 = iVar18 + (uint)*(byte *)((int)&DAT_BATTLE_BIN__80124608 + iVar11 + 1) * 0x14;
              iVar18 = iVar18 + 1;
                    // Possible PsyQ macro: setLineF3()
              (&DAT_BATTLE_BIN__800fa6c6)[iVar20] = 0x48;
            } while (iVar18 < 0xe);
          }
          bVar24 = 0;
          pbVar19 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + iVar11 + 2);
          pbVar21 = &DAT_BATTLE_BIN__800fa6c6 + (uint)*pbVar28 * 0x14;
          do {
            bVar6 = *pbVar19;
            pbVar19 = pbVar19 + 1;
            bVar7 = *pbVar21;
            pbVar21 = pbVar21 + 1;
            bVar24 = bVar24 | bVar7 ^ bVar6;
          } while ((int)pbVar19 < (int)(&DAT_BATTLE_BIN__80124618 + iVar11));
          if (bVar24 != 0) {
            iVar18 = (uint)*pbVar28 * 0x14;
            uVar12 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124608 + iVar11);
            uVar22 = *(undefined4 *)((int)&DAT_BATTLE_BIN__8012460c + iVar11);
            uVar25 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124610 + iVar11);
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a60 + iVar18) =
                 *(undefined4 *)((int)&DAT_BATTLE_BIN__80124604 + iVar11);
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a64 + iVar18) = uVar12;
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a68 + iVar18) = uVar22;
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a6c + iVar18) = uVar25;
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a70 + iVar18) =
                 *(undefined4 *)((int)&DAT_BATTLE_BIN__80124614 + iVar11);
          }
        }
        pbVar28 = pbVar28 + 0x14;
        iVar11 = iVar11 + 0x14;
      } while (*pbVar28 < 0x80);
      iVar11 = 0;
      if (0x7f < DAT_BATTLE_BIN__80124608._1_1_) {
        return DAT_BATTLE_BIN__800f5c58;
      }
      pbVar28 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + 2);
      pbVar19 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + 1);
      do {
        if (((*pbVar19 == 0x17) &&
            ((*(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11) == 0x22 ||
             (*(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11) == 0x30)))) &&
           (bVar24 = 0, *(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11 + 2) == 0)) {
          pbVar23 = &DAT_BATTLE_BIN__800fa892;
          pbVar21 = pbVar28;
          do {
            bVar6 = *pbVar21;
            pbVar21 = pbVar21 + 1;
            bVar7 = *pbVar23;
            pbVar23 = pbVar23 + 1;
            bVar24 = bVar24 | bVar7 ^ bVar6;
          } while ((int)pbVar21 < (int)(pbVar28 + 0xe));
          if (bVar24 != 0) {
            iVar18 = (uint)*pbVar19 * 0x14;
            uVar12 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124608 + iVar11);
            uVar22 = *(undefined4 *)((int)&DAT_BATTLE_BIN__8012460c + iVar11);
            uVar25 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124610 + iVar11);
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a60 + iVar18) =
                 *(undefined4 *)((int)&DAT_BATTLE_BIN__80124604 + iVar11);
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a64 + iVar18) = uVar12;
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a68 + iVar18) = uVar22;
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a6c + iVar18) = uVar25;
            *(undefined4 *)(&DAT_BATTLE_BIN__800f7a70 + iVar18) =
                 *(undefined4 *)((int)&DAT_BATTLE_BIN__80124614 + iVar11);
          }
        }
        pbVar19 = pbVar19 + 0x14;
        iVar11 = iVar11 + 0x14;
        pbVar28 = pbVar28 + 0x14;
      } while (*pbVar19 < 0x80);
      if (0x7f < DAT_BATTLE_BIN__80124608._1_1_) {
        return DAT_BATTLE_BIN__800f5c58;
      }
      pbVar28 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + 2);
      pbVar19 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + 1);
      iVar11 = 0;
      do {
        if (((*pbVar19 != 0) &&
            ((uVar13 = (uint)*(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11), uVar13 != 0x22 ||
             (*(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11 + 2) != 0)))) &&
           ((uVar13 != 0x30 || (*(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11 + 2) != 0)))) {
          uVar12 = FUN_BATTLE_BIN__8013b590(uVar13);
          uVar13 = FUN_BATTLE_BIN__8013b590(0x23);
          uVar17 = FUN_BATTLE_BIN__8013b590(0x24);
          uVar13 = FUN_BATTLE_BIN__800f2618
                             (*(byte *)((int)&DAT_BATTLE_BIN__80124608 + iVar11),
                              *(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar11 + 2),
                              (ushort)uVar12 & 0xfff | (ushort)((uVar13 & 7) << 0xc) |
                              (ushort)((uVar17 & 1) << 0xf));
          bVar24 = 0;
          if ((uVar13 & 0xffff) != 0) {
            pbVar23 = &DAT_BATTLE_BIN__800fa6c6 + (uint)*pbVar19 * 0x14;
            pbVar21 = pbVar28;
            do {
              bVar6 = *pbVar21;
              pbVar21 = pbVar21 + 1;
              bVar7 = *pbVar23;
              pbVar23 = pbVar23 + 1;
              bVar24 = bVar24 | bVar7 ^ bVar6;
            } while ((int)pbVar21 < (int)(pbVar28 + 0xe));
            if (bVar24 == 0) {
              (&DAT_BATTLE_BIN__800f7a65)[(uint)*pbVar19 * 0x14] = 0;
            }
            else {
              iVar18 = (uint)*pbVar19 * 0x14;
              uVar12 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124608 + iVar11);
              uVar22 = *(undefined4 *)((int)&DAT_BATTLE_BIN__8012460c + iVar11);
              uVar25 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124610 + iVar11);
              *(undefined4 *)(&DAT_BATTLE_BIN__800f7a60 + iVar18) =
                   *(undefined4 *)((int)&DAT_BATTLE_BIN__80124604 + iVar11);
              *(undefined4 *)(&DAT_BATTLE_BIN__800f7a64 + iVar18) = uVar12;
              *(undefined4 *)(&DAT_BATTLE_BIN__800f7a68 + iVar18) = uVar22;
              *(undefined4 *)(&DAT_BATTLE_BIN__800f7a6c + iVar18) = uVar25;
              *(undefined4 *)(&DAT_BATTLE_BIN__800f7a70 + iVar18) =
                   *(undefined4 *)((int)&DAT_BATTLE_BIN__80124614 + iVar11);
            }
          }
        }
        pbVar19 = pbVar19 + 0x14;
        iVar11 = iVar11 + 0x14;
        pbVar28 = pbVar28 + 0x14;
      } while (*pbVar19 < 0x80);
      return DAT_BATTLE_BIN__800f5c58;
    }
    iVar11 = Check_File_Still_Loading();
    if (iVar11 != 0) {
      return DAT_BATTLE_BIN__800f5c58;
    }
    while ((((byte)(&DAT_BATTLE_BIN__800f7a65)[(int)DAT_BATTLE_BIN__800fbdf4 * 0x14] == 0 &&
            (DAT_BATTLE_BIN__800fbdf4 < 0x31)) ||
           ((byte)(&DAT_BATTLE_BIN__800f7a65)[(int)DAT_BATTLE_BIN__800fbdf4 * 0x14] - 0x12 < 6))) {
      DAT_BATTLE_BIN__800fbdf4 = (int *)((int)DAT_BATTLE_BIN__800fbdf4 + 1);
    }
    if (DAT_BATTLE_BIN__800fbdf4 < 0x31) {
      if (DAT_BATTLE_BIN__800fbdf4 == (int *)0x1b) {
        bzero((uchar *)DAT_BATTLE_BIN__80121ffc,0x280);
      }
      FUN_BATTLE_BIN__800f36c4
                (s_C__FFTIMG_MAP_GNS__BATTLE_BIN__800e7160,
                 (int)DAT_BATTLE_BIN__800fbdf4 * 0x14 + -0x7ff0859a,DAT_BATTLE_BIN__80121ffc);
      DAT_BATTLE_BIN__800f5c5c = 0x78;
      return DAT_BATTLE_BIN__800f5c58;
    }
    if (DAT_BATTLE_BIN__800f7bcd != '\0') {
      FUN_80044a00();
      DAT_BATTLE_BIN__800f7bcd = 0;
      return DAT_BATTLE_BIN__800f5c58;
    }
    if (DAT_BATTLE_BIN__800f7be1 != '\0') {
      DAT_BATTLE_BIN__800f7be1 = 0;
      FUN_BATTLE_BIN__800f36c4
                (s_C__FFTIMG_MAP_GNS__BATTLE_BIN__800e7160,(int)&DAT_BATTLE_BIN__800f7be2,
                 DAT_BATTLE_BIN__80121ffc + 0x2000);
      DAT_BATTLE_BIN__800f6cb4 = 1;
      DAT_BATTLE_BIN__800f6cbc = 1;
      return DAT_BATTLE_BIN__800f5c58;
    }
    if (DAT_BATTLE_BIN__800f7bf5 != '\0') {
      DAT_BATTLE_BIN__800f7bf5 = 0;
      FUN_BATTLE_BIN__800f36c4
                (s_C__FFTIMG_MAP_GNS__BATTLE_BIN__800e7160,(int)&DAT_BATTLE_BIN__800f7bf6,
                 DAT_BATTLE_BIN__80121ffc + 0x4000);
      DAT_BATTLE_BIN__800f6cb4 = 1;
      DAT_BATTLE_BIN__800f6cc0 = 1;
      return DAT_BATTLE_BIN__800f5c58;
    }
    if (DAT_BATTLE_BIN__800f7c09 != '\0') {
      DAT_BATTLE_BIN__800f7c09 = 0;
      FUN_BATTLE_BIN__800f36c4
                (s_C__FFTIMG_MAP_GNS__BATTLE_BIN__800e7160,(int)&DAT_BATTLE_BIN__800f7c0a,
                 DAT_BATTLE_BIN__80121ffc + 0x6000);
      DAT_BATTLE_BIN__800f6cb4 = 1;
      DAT_BATTLE_BIN__800f6cc4 = 1;
      return DAT_BATTLE_BIN__800f5c58;
    }
    if (DAT_BATTLE_BIN__800f7c1d != '\0') {
      DAT_BATTLE_BIN__800f7c1d = 0;
      FUN_BATTLE_BIN__800f36c4
                (s_C__FFTIMG_MAP_GNS__BATTLE_BIN__800e7160,(int)&DAT_BATTLE_BIN__800f7c1e,
                 DAT_BATTLE_BIN__80121ffc + 0x8000);
      DAT_BATTLE_BIN__800f6cb4 = 1;
      DAT_BATTLE_BIN__800f6cc8 = 1;
      return DAT_BATTLE_BIN__800f5c58;
    }
    if (DAT_BATTLE_BIN__800f7c31 != '\0') {
      DAT_BATTLE_BIN__800f7c31 = 0;
      FUN_BATTLE_BIN__800f36c4
                (s_C__FFTIMG_MAP_GNS__BATTLE_BIN__800e7160,(int)&DAT_BATTLE_BIN__800f7c32,
                 DAT_BATTLE_BIN__80121ffc);
      DAT_BATTLE_BIN__800f5c5c = 0x92;
      DAT_BATTLE_BIN__800f6cb4 = 1;
      DAT_BATTLE_BIN__800f6cbc = 1;
      DAT_BATTLE_BIN__800f6cc0 = 1;
      DAT_BATTLE_BIN__800f6cc4 = 1;
      DAT_BATTLE_BIN__800f6cc8 = 1;
      return DAT_BATTLE_BIN__800f5c58;
    }
    iVar11 = 0;
    if (DAT_BATTLE_BIN__80124608._1_1_ < 0x80) {
      pbVar28 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + 1);
      do {
        bVar24 = *pbVar28;
        pbVar28 = pbVar28 + 0x14;
        if (bVar24 == 0) break;
        iVar11 = iVar11 + 1;
      } while (*pbVar28 < 0x80);
    }
    DAT_BATTLE_BIN__800fbdf4 = &DAT_BATTLE_BIN__80124604 + (iVar11 + 1) * 5;
    DAT_BATTLE_BIN__800f7bcd = 0;
    DAT_BATTLE_BIN__800f7be1 = 0;
    DAT_BATTLE_BIN__800f7bf5 = 0;
    DAT_BATTLE_BIN__800f7c09 = 0;
    DAT_BATTLE_BIN__800f7c1d = 0;
    DAT_BATTLE_BIN__800f7c31 = 0;
    cVar8 = *(char *)((int)&DAT_BATTLE_BIN__80124608 + (iVar11 + 1) * 0x14 + 1);
    while (cVar8 != '\0') {
      FUN_BATTLE_BIN__800f34c4(2,DAT_BATTLE_BIN__800fbdf4);
      cVar8 = *(char *)((int)DAT_BATTLE_BIN__800fbdf4 + 5);
    }
    DAT_BATTLE_BIN__800f5c58 = 0;
    DAT_BATTLE_BIN__800f5c5c = 0x77;
    FUN_BATTLE_BIN__800eeaf8(0x8b);
    BIN_Free_FFT((int)DAT_BATTLE_BIN__80121ffc);
    return DAT_BATTLE_BIN__800f5c58;
  }
  iVar11 = DAT_BATTLE_BIN__800f5c58;
  switch(uVar17) {
  case 0:
    iVar18 = Check_File_Still_Loading();
    iVar11 = DAT_BATTLE_BIN__800f5c58;
    if (iVar18 == 0) {
      iVar18 = 0;
      puVar26 = &DAT_BATTLE_BIN__80124604;
      DAT_BATTLE_BIN__800f5c5c = 0;
      uVar16 = 0;
      puVar27 = DAT_BATTLE_BIN__80121ffc;
      do {
        uVar15 = (int)puVar27 + 3U & 3;
        uVar14 = (uint)puVar27 & 3;
        uVar14 = (*(int *)(((int)puVar27 + 3U) - uVar15) << (3 - uVar15) * 8 |
                 uVar16 & 0xffffffffU >> (uVar15 + 1) * 8) & -1 << (4 - uVar14) * 8 |
                 *(uint *)((int)puVar27 - uVar14) >> uVar14 * 8;
        uVar16 = (int)puVar27 + 7U & 3;
        uVar15 = (uint)(puVar27 + 1) & 3;
        uVar17 = (*(int *)(((int)puVar27 + 7U) - uVar16) << (3 - uVar16) * 8 |
                 uVar17 & 0xffffffffU >> (uVar16 + 1) * 8) & -1 << (4 - uVar15) * 8 |
                 *(uint *)((int)(puVar27 + 1) - uVar15) >> uVar15 * 8;
        uVar16 = (int)puVar27 + 0xbU & 3;
        uVar15 = (uint)(puVar27 + 2) & 3;
        uVar13 = (*(int *)(((int)puVar27 + 0xbU) - uVar16) << (3 - uVar16) * 8 |
                 uVar13 & 0xffffffffU >> (uVar16 + 1) * 8) & -1 << (4 - uVar15) * 8 |
                 *(uint *)((int)(puVar27 + 2) - uVar15) >> uVar15 * 8;
        uVar16 = (int)puVar27 + 0xfU & 3;
        uVar15 = (uint)(puVar27 + 3) & 3;
        param_2 = (*(int *)(((int)puVar27 + 0xfU) - uVar16) << (3 - uVar16) * 8 |
                  param_2 & 0xffffffffU >> (uVar16 + 1) * 8) & -1 << (4 - uVar15) * 8 |
                  *(uint *)((int)(puVar27 + 3) - uVar15) >> uVar15 * 8;
        uVar16 = (int)puVar26 + 3U & 3;
        puVar9 = (uint *)(((int)puVar26 + 3U) - uVar16);
        *puVar9 = *puVar9 & -1 << (uVar16 + 1) * 8 | uVar14 >> (3 - uVar16) * 8;
        *puVar26 = uVar14;
        uVar16 = (int)puVar26 + 7U & 3;
        puVar9 = (uint *)(((int)puVar26 + 7U) - uVar16);
        *puVar9 = *puVar9 & -1 << (uVar16 + 1) * 8 | uVar17 >> (3 - uVar16) * 8;
        puVar26[1] = uVar17;
        uVar16 = (int)puVar26 + 0xbU & 3;
        puVar9 = (uint *)(((int)puVar26 + 0xbU) - uVar16);
        *puVar9 = *puVar9 & -1 << (uVar16 + 1) * 8 | uVar13 >> (3 - uVar16) * 8;
        puVar26[2] = uVar13;
        uVar16 = (int)puVar26 + 0xfU & 3;
        puVar9 = (uint *)(((int)puVar26 + 0xfU) - uVar16);
        *puVar9 = *puVar9 & -1 << (uVar16 + 1) * 8 | param_2 >> (3 - uVar16) * 8;
        puVar26[3] = param_2;
        uVar16 = (int)puVar27 + 0x13U & 3;
        uVar15 = (uint)(puVar27 + 4) & 3;
        uVar15 = (*(int *)(((int)puVar27 + 0x13U) - uVar16) << (3 - uVar16) * 8 |
                 uVar14 & 0xffffffffU >> (uVar16 + 1) * 8) & -1 << (4 - uVar15) * 8 |
                 *(uint *)((int)(puVar27 + 4) - uVar15) >> uVar15 * 8;
        uVar16 = (int)puVar26 + 0x13U & 3;
        puVar9 = (uint *)(((int)puVar26 + 0x13U) - uVar16);
        *puVar9 = *puVar9 & -1 << (uVar16 + 1) * 8 | uVar15 >> (3 - uVar16) * 8;
        puVar26[4] = uVar15;
        puVar26 = puVar26 + 5;
        iVar18 = iVar18 + 1;
        uVar16 = (uint)(iVar18 < 0x96);
        puVar27 = puVar27 + 5;
        iVar11 = DAT_BATTLE_BIN__800f5c58;
      } while (uVar16 != 0);
    }
    break;
  case 4:
    iVar18 = Check_File_Still_Loading();
    iVar11 = DAT_BATTLE_BIN__800f5c58;
    if ((iVar18 == 0) && (iVar11 = 0x9b, DAT_BATTLE_BIN__800f5c54 == '\0')) {
      DAT_BATTLE_BIN__800f5c5c = 0;
      FUN_BATTLE_BIN__800f26bc
                ((&DAT_BATTLE_BIN__800f7a65)[(int)DAT_BATTLE_BIN__800fbdf4 * 0x14],
                 (int *)DAT_BATTLE_BIN__80121ffc);
      iVar11 = (int)DAT_BATTLE_BIN__800fbdf4 * 0x14;
      uVar13 = *(uint *)(&DAT_BATTLE_BIN__800f7a60 + iVar11);
      uVar17 = *(uint *)(&DAT_BATTLE_BIN__800f7a64 + iVar11);
      uVar16 = *(uint *)(&DAT_BATTLE_BIN__800f7a68 + iVar11);
      uVar15 = *(uint *)(&DAT_BATTLE_BIN__800f7a6c + iVar11);
      uVar14 = iVar11 + 0x800fa6c3U & 3;
      puVar26 = (uint *)((iVar11 + 0x800fa6c3U) - uVar14);
      *puVar26 = *puVar26 & -1 << (uVar14 + 1) * 8 | uVar13 >> (3 - uVar14) * 8;
      *(uint *)(iVar11 + -0x7ff05940) = uVar13;
      puVar1 = &DAT_BATTLE_BIN__800fa6c7 + iVar11;
      uVar13 = (uint)puVar1 & 3;
      *(uint *)(puVar1 + -uVar13) =
           *(uint *)(puVar1 + -uVar13) & -1 << (uVar13 + 1) * 8 | uVar17 >> (3 - uVar13) * 8;
      *(uint *)(iVar11 + -0x7ff0593c) = uVar17;
      uVar13 = iVar11 + 0x800fa6cbU & 3;
      puVar26 = (uint *)((iVar11 + 0x800fa6cbU) - uVar13);
      *puVar26 = *puVar26 & -1 << (uVar13 + 1) * 8 | uVar16 >> (3 - uVar13) * 8;
      *(uint *)(iVar11 + -0x7ff05938) = uVar16;
      uVar13 = iVar11 + 0x800fa6cfU & 3;
      puVar26 = (uint *)((iVar11 + 0x800fa6cfU) - uVar13);
      *puVar26 = *puVar26 & -1 << (uVar13 + 1) * 8 | uVar15 >> (3 - uVar13) * 8;
      *(uint *)(iVar11 + -0x7ff05934) = uVar15;
      uVar13 = *(uint *)(&DAT_BATTLE_BIN__800f7a70 + iVar11);
      uVar17 = iVar11 + 0x800fa6d3U & 3;
      puVar26 = (uint *)((iVar11 + 0x800fa6d3U) - uVar17);
      *puVar26 = *puVar26 & -1 << (uVar17 + 1) * 8 | uVar13 >> (3 - uVar17) * 8;
      *(uint *)(iVar11 + -0x7ff05930) = uVar13;
      DAT_BATTLE_BIN__800fbdf4 = (int *)((int)DAT_BATTLE_BIN__800fbdf4 + 1);
      iVar11 = DAT_BATTLE_BIN__800f5c58;
    }
    break;
  case 5:
    if (DAT_BATTLE_BIN__800f7980 != DAT_BATTLE_BIN__8011a2d4) {
      iVar11 = 0;
      iVar18 = 0;
      piVar29 = &DAT_BATTLE_BIN__800f7994;
      iRam800f7984 = 0;
      iRam800f7988 = 0;
      iRam800f798c = 0;
      iRam800f7990 = 0;
      do {
        iVar20 = *piVar29;
        piVar29 = piVar29 + 1;
        if (iVar20 != 0) {
          func_0x800f5578();
        }
        iRam800f7984 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe90 + iVar18) + iRam800f7984;
        iRam800f7988 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe92 + iVar18) + iRam800f7988;
        iVar11 = iVar11 + 1;
        iRam800f798c = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe94 + iVar18) + iRam800f798c;
        iRam800f7990 = (uint)*(ushort *)((int)&DAT_BATTLE_BIN__800fbe96 + iVar18) + iRam800f7990;
        iVar18 = iVar18 + 0x98;
      } while (iVar11 < 9);
      DAT_BATTLE_BIN__800f5c5c = 0x91;
      iVar11 = DAT_BATTLE_BIN__800f5c58;
    }
    break;
  case 0x1d:
    if (DAT_BATTLE_BIN__800f7980 == DAT_BATTLE_BIN__8011a2d4) {
      return DAT_BATTLE_BIN__800f5c58;
    }
    iVar11 = 0;
    iVar18 = 0;
    piVar29 = &DAT_BATTLE_BIN__800f7994;
    iRam800f7984 = 0;
    iRam800f7988 = 0;
    iRam800f798c = 0;
    iRam800f7990 = 0;
    do {
      iVar11 = iVar11 + 1;
      if (*piVar29 != 0) {
        func_0x800f5578();
      }
      *piVar29 = 0;
      puVar2 = (ushort *)((int)&DAT_BATTLE_BIN__800fbe90 + iVar18);
      puVar3 = (ushort *)((int)&DAT_BATTLE_BIN__800fbe92 + iVar18);
      puVar4 = (ushort *)((int)&DAT_BATTLE_BIN__800fbe94 + iVar18);
      puVar5 = (ushort *)((int)&DAT_BATTLE_BIN__800fbe96 + iVar18);
      iVar18 = iVar18 + 0x98;
      iRam800f7984 = (uint)*puVar2 + iRam800f7984;
      iRam800f7988 = (uint)*puVar3 + iRam800f7988;
      iRam800f798c = (uint)*puVar4 + iRam800f798c;
      iRam800f7990 = (uint)*puVar5 + iRam800f7990;
      piVar29 = piVar29 + 1;
    } while (iVar11 < 9);
    goto code_r0x800f4a98;
  case 0x1e:
    iVar18 = Check_File_Still_Loading();
    iVar11 = DAT_BATTLE_BIN__800f5c58;
    if (iVar18 == 0) {
      if (DAT_BATTLE_BIN__800f6aac != '\0') {
        FUN_BATTLE_BIN__800f26bc(0x32,(int *)&DAT_BATTLE_BIN__800f6a7c);
      }
      DAT_BATTLE_BIN__800f6aac = '\0';
      DAT_BATTLE_BIN__800f5c5c = 0x93;
      iVar11 = DAT_BATTLE_BIN__800f5c58;
    }
    break;
  case 0x1f:
    if (DAT_BATTLE_BIN__800f6cb4 != '\0') {
      FUN_BATTLE_BIN__800f26bc(0x17,(int *)DAT_BATTLE_BIN__80121ffc);
    }
    if (DAT_BATTLE_BIN__800f6cb0 != '\0') {
      FUN_BATTLE_BIN__800f26bc(0x33,(int *)&DAT_BATTLE_BIN__800f6ab0);
    }
code_r0x800f4a98:
    DAT_BATTLE_BIN__800f5c5c = 0;
    iVar11 = DAT_BATTLE_BIN__800f5c58;
  }
  return iVar11;
}



int FUN_BATTLE_BIN__800f4acc(int param_1)

{
  byte bVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  byte *pbVar7;
  
  if (DAT_BATTLE_BIN__800f6678 == 0) {
    if (DAT_BATTLE_BIN__80124608._1_1_ < 0x80) {
      puVar2 = &DAT_BATTLE_BIN__80124604;
      pbVar7 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + 1);
      do {
        bVar1 = *pbVar7;
        pbVar7 = pbVar7 + 0x14;
        if (bVar1 == 0x2e) {
          DAT_BATTLE_BIN__800f6830 = *puVar2;
          DAT_BATTLE_BIN__800f6834 = puVar2[1];
          DAT_BATTLE_BIN__800f6838 = puVar2[2];
          DAT_BATTLE_BIN__800f683c = puVar2[3];
          DAT_BATTLE_BIN__800f6840 = puVar2[4];
        }
        puVar2 = puVar2 + 5;
      } while (*pbVar7 < 0x80);
      if (DAT_BATTLE_BIN__80124608._1_1_ < 0x80) {
        pbVar7 = (byte *)((int)&DAT_BATTLE_BIN__80124608 + 1);
        iVar6 = 0;
        do {
          bVar1 = *pbVar7;
          pbVar7 = pbVar7 + 0x14;
          if (bVar1 == 0x30) {
            uVar3 = FUN_BATTLE_BIN__8013b590
                              ((int)*(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar6));
            uVar4 = FUN_BATTLE_BIN__8013b590(0x23);
            uVar5 = FUN_BATTLE_BIN__8013b590(0x24);
            uVar4 = FUN_BATTLE_BIN__800f2618
                              (*(byte *)((int)&DAT_BATTLE_BIN__80124608 + iVar6),
                               *(short *)((int)&DAT_BATTLE_BIN__80124604 + iVar6 + 2),
                               (ushort)uVar3 & 0xfff | (ushort)((uVar4 & 7) << 0xc) |
                               (ushort)((uVar5 & 1) << 0xf));
            if ((uVar4 & 0xffff) != 0) {
              DAT_BATTLE_BIN__800f6830 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124604 + iVar6);
              DAT_BATTLE_BIN__800f6834 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124608 + iVar6);
              DAT_BATTLE_BIN__800f6838 = *(undefined4 *)((int)&DAT_BATTLE_BIN__8012460c + iVar6);
              DAT_BATTLE_BIN__800f683c = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124610 + iVar6);
              DAT_BATTLE_BIN__800f6840 = *(undefined4 *)((int)&DAT_BATTLE_BIN__80124614 + iVar6);
            }
          }
          iVar6 = iVar6 + 0x14;
        } while (*pbVar7 < 0x80);
      }
    }
    DAT_BATTLE_BIN__801251d0 = (u_long *)BIN_Malloc_FFT(0x20000);
    if (DAT_BATTLE_BIN__801251d0 == (u_long *)0x0) {
      FUN_80044a00();
    }
    FUN_BATTLE_BIN__800f36c4
              (s_C__FFTIMG_MAP_GNS__BATTLE_BIN__800e7160,-0x7ff097ca,DAT_BATTLE_BIN__801251d0);
    DAT_BATTLE_BIN__800f6678 = 0x8d;
  }
  else if ((DAT_BATTLE_BIN__800f6678 == 0x8d) && (iVar6 = Check_File_Still_Loading(), iVar6 != 0)) {
    FUN_BATTLE_BIN__8008f498
              (param_1,1,0,1,(ushort *)(DAT_BATTLE_BIN__801251d0 + DAT_BATTLE_BIN__801251d0[0x11]));
    BIN_Free_FFT((int)DAT_BATTLE_BIN__801251d0);
    DAT_BATTLE_BIN__800f6678 = 0;
  }
  return DAT_BATTLE_BIN__800f6678;
}



void FUN_BATTLE_BIN__800f4dd4(ushort *param_1,int param_2)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  undefined2 uVar5;
  undefined2 uVar6;
  undefined2 uVar7;
  int iVar8;
  int iVar9;
  ushort *puVar10;
  ushort *puVar11;
  int iVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  uint uVar16;
  
  iVar12 = DAT_BATTLE_BIN__800f5b64;
  DAT_BATTLE_BIN__800f5c5c = 0x79;
  uVar6 = (undefined2)DAT_BATTLE_BIN__800f5b6c;
  uVar7 = (undefined2)DAT_BATTLE_BIN__800f5b70;
  DAT_BATTLE_BIN__800f7980 = DAT_BATTLE_BIN__8011a2d4;
  uVar1 = *param_1;
  uVar13 = (uint)uVar1;
  uVar2 = param_1[1];
  uVar14 = (uint)uVar2;
  uVar3 = param_1[2];
  uVar15 = (uint)uVar3;
  uVar4 = param_1[3];
  uVar16 = (uint)uVar4;
  uVar5 = (undefined2)DAT_BATTLE_BIN__800f5b68;
  puVar11 = param_1 + 4;
  *(undefined2 *)(param_2 + 0x88) = (undefined2)DAT_BATTLE_BIN__800f5b64;
  *(undefined2 *)(param_2 + 0x8c) = uVar6;
  *(undefined2 *)(param_2 + 0x8e) = uVar7;
  *(undefined2 *)(param_2 + 0x8a) = uVar5;
  iVar8 = uVar13 + iVar12;
  *(ushort *)(param_2 + 0x90) = uVar1;
  *(ushort *)(param_2 + 0x92) = uVar2;
  *(ushort *)(param_2 + 0x94) = uVar3;
  *(ushort *)(param_2 + 0x96) = uVar4;
  if (iVar12 < iVar8) {
    iVar9 = iVar12 * 0x18;
    do {
      iVar12 = iVar12 + 1;
      *(ushort *)(&DAT_BATTLE_BIN__8011a2d8 + iVar9) = *puVar11;
      *(ushort *)(&DAT_BATTLE_BIN__8011a2da + iVar9) = puVar11[1];
      *(ushort *)(&DAT_BATTLE_BIN__8011a2dc + iVar9) = puVar11[2];
      *(ushort *)(&DAT_BATTLE_BIN__8011a2e0 + iVar9) = puVar11[3];
      *(ushort *)(&DAT_BATTLE_BIN__8011a2e2 + iVar9) = puVar11[4];
      *(ushort *)(&DAT_BATTLE_BIN__8011a2e4 + iVar9) = puVar11[5];
      *(ushort *)(&DAT_BATTLE_BIN__8011a2e8 + iVar9) = puVar11[6];
      puVar10 = puVar11 + 8;
      *(ushort *)(&DAT_BATTLE_BIN__8011a2ea + iVar9) = puVar11[7];
      puVar11 = puVar11 + 9;
      *(ushort *)(&DAT_BATTLE_BIN__8011a2ec + iVar9) = *puVar10;
      iVar9 = iVar9 + 0x18;
    } while (iVar12 < iVar8);
  }
  iVar8 = uVar14 + DAT_BATTLE_BIN__800f5b68;
  iVar12 = DAT_BATTLE_BIN__800f5b68 << 5;
  if (DAT_BATTLE_BIN__800f5b68 < iVar8) {
    do {
      *(ushort *)(&DAT_BATTLE_BIN__8011c498 + iVar12) = *puVar11;
      *(ushort *)(&DAT_BATTLE_BIN__8011c49a + iVar12) = puVar11[1];
      *(ushort *)(&DAT_BATTLE_BIN__8011c49c + iVar12) = puVar11[2];
      *(ushort *)(&DAT_BATTLE_BIN__8011c4a0 + iVar12) = puVar11[3];
      *(ushort *)(&DAT_BATTLE_BIN__8011c4a2 + iVar12) = puVar11[4];
      *(ushort *)(&DAT_BATTLE_BIN__8011c4a4 + iVar12) = puVar11[5];
      *(ushort *)(&DAT_BATTLE_BIN__8011c4a8 + iVar12) = puVar11[6];
      *(ushort *)(&DAT_BATTLE_BIN__8011c4aa + iVar12) = puVar11[7];
      *(ushort *)(&DAT_BATTLE_BIN__8011c4ac + iVar12) = puVar11[8];
      *(ushort *)(&DAT_BATTLE_BIN__8011c4b0 + iVar12) = puVar11[9];
      *(ushort *)(&DAT_BATTLE_BIN__8011c4b2 + iVar12) = puVar11[10];
      *(ushort *)(&DAT_BATTLE_BIN__8011c4b4 + iVar12) = puVar11[0xb];
      iVar12 = iVar12 + 0x20;
      puVar11 = puVar11 + 0xc;
    } while (iVar12 < iVar8 * 0x20);
  }
  iVar12 = uVar15 + DAT_BATTLE_BIN__800f5b6c;
  if (DAT_BATTLE_BIN__800f5b6c < iVar12) {
    iVar9 = DAT_BATTLE_BIN__800f5b6c * 0x18;
    iVar8 = DAT_BATTLE_BIN__800f5b6c;
    do {
      iVar8 = iVar8 + 1;
      *(ushort *)(&DAT_BATTLE_BIN__80122004 + iVar9) = *puVar11;
      *(ushort *)(&DAT_BATTLE_BIN__80122006 + iVar9) = puVar11[1];
      *(ushort *)(&DAT_BATTLE_BIN__80122008 + iVar9) = puVar11[2];
      *(ushort *)(&DAT_BATTLE_BIN__8012200c + iVar9) = puVar11[3];
      *(ushort *)(&DAT_BATTLE_BIN__8012200e + iVar9) = puVar11[4];
      *(ushort *)(&DAT_BATTLE_BIN__80122010 + iVar9) = puVar11[5];
      *(ushort *)(&DAT_BATTLE_BIN__80122014 + iVar9) = puVar11[6];
      puVar10 = puVar11 + 8;
      *(ushort *)(&DAT_BATTLE_BIN__80122016 + iVar9) = puVar11[7];
      puVar11 = puVar11 + 9;
      *(ushort *)(&DAT_BATTLE_BIN__80122018 + iVar9) = *puVar10;
      iVar9 = iVar9 + 0x18;
    } while (iVar8 < iVar12);
  }
  iVar8 = uVar16 + DAT_BATTLE_BIN__800f5b70;
  iVar12 = DAT_BATTLE_BIN__800f5b70 << 5;
  if (DAT_BATTLE_BIN__800f5b70 < iVar8) {
    do {
      *(ushort *)(&DAT_BATTLE_BIN__80122604 + iVar12) = *puVar11;
      *(ushort *)(&DAT_BATTLE_BIN__80122606 + iVar12) = puVar11[1];
      *(ushort *)(&DAT_BATTLE_BIN__80122608 + iVar12) = puVar11[2];
      *(ushort *)(&DAT_BATTLE_BIN__8012260c + iVar12) = puVar11[3];
      *(ushort *)(&DAT_BATTLE_BIN__8012260e + iVar12) = puVar11[4];
      *(ushort *)(&DAT_BATTLE_BIN__80122610 + iVar12) = puVar11[5];
      *(ushort *)(&DAT_BATTLE_BIN__80122614 + iVar12) = puVar11[6];
      *(ushort *)(&DAT_BATTLE_BIN__80122616 + iVar12) = puVar11[7];
      *(ushort *)(&DAT_BATTLE_BIN__80122618 + iVar12) = puVar11[8];
      *(ushort *)(&DAT_BATTLE_BIN__8012261c + iVar12) = puVar11[9];
      *(ushort *)(&DAT_BATTLE_BIN__8012261e + iVar12) = puVar11[10];
      *(ushort *)(&DAT_BATTLE_BIN__80122620 + iVar12) = puVar11[0xb];
      iVar12 = iVar12 + 0x20;
      puVar11 = puVar11 + 0xc;
    } while (iVar12 < iVar8 * 0x20);
  }
  iVar12 = uVar13 + DAT_BATTLE_BIN__800f5b64;
  if (DAT_BATTLE_BIN__800f5b64 < iVar12) {
    iVar9 = DAT_BATTLE_BIN__800f5b64 * 0x18;
    iVar8 = DAT_BATTLE_BIN__800f5b64;
    do {
      iVar8 = iVar8 + 1;
      *(ushort *)(&DAT_BATTLE_BIN__801251d4 + iVar9) = *puVar11;
      *(ushort *)(&DAT_BATTLE_BIN__801251d6 + iVar9) = puVar11[1];
      *(ushort *)(&DAT_BATTLE_BIN__801251d8 + iVar9) = puVar11[2];
      *(ushort *)(&DAT_BATTLE_BIN__801251dc + iVar9) = puVar11[3];
      *(ushort *)(&DAT_BATTLE_BIN__801251de + iVar9) = puVar11[4];
      *(ushort *)(&DAT_BATTLE_BIN__801251e0 + iVar9) = puVar11[5];
      *(ushort *)(&DAT_BATTLE_BIN__801251e4 + iVar9) = puVar11[6];
      puVar10 = puVar11 + 8;
      *(ushort *)(&DAT_BATTLE_BIN__801251e6 + iVar9) = puVar11[7];
      puVar11 = puVar11 + 9;
      *(ushort *)(&DAT_BATTLE_BIN__801251e8 + iVar9) = *puVar10;
      iVar9 = iVar9 + 0x18;
    } while (iVar8 < iVar12);
  }
  iVar8 = uVar14 + DAT_BATTLE_BIN__800f5b68;
  iVar12 = DAT_BATTLE_BIN__800f5b68 << 5;
  if (DAT_BATTLE_BIN__800f5b68 < iVar8) {
    do {
      *(ushort *)(&DAT_BATTLE_BIN__80127394 + iVar12) = *puVar11;
      *(ushort *)(&DAT_BATTLE_BIN__80127396 + iVar12) = puVar11[1];
      *(ushort *)(&DAT_BATTLE_BIN__80127398 + iVar12) = puVar11[2];
      *(ushort *)(&DAT_BATTLE_BIN__8012739c + iVar12) = puVar11[3];
      *(ushort *)(&DAT_BATTLE_BIN__8012739e + iVar12) = puVar11[4];
      *(ushort *)(&DAT_BATTLE_BIN__801273a0 + iVar12) = puVar11[5];
      *(ushort *)(&DAT_BATTLE_BIN__801273a4 + iVar12) = puVar11[6];
      *(ushort *)(&DAT_BATTLE_BIN__801273a6 + iVar12) = puVar11[7];
      *(ushort *)(&DAT_BATTLE_BIN__801273a8 + iVar12) = puVar11[8];
      *(ushort *)(&DAT_BATTLE_BIN__801273ac + iVar12) = puVar11[9];
      *(ushort *)(&DAT_BATTLE_BIN__801273ae + iVar12) = puVar11[10];
      *(ushort *)(&DAT_BATTLE_BIN__801273b0 + iVar12) = puVar11[0xb];
      iVar12 = iVar12 + 0x20;
      puVar11 = puVar11 + 0xc;
    } while (iVar12 < iVar8 * 0x20);
  }
  puVar11 = puVar11 + uVar13 * 5 + uVar14 * 6 + uVar15 * 2 + uVar16 * 2;
  iVar12 = uVar13 + DAT_BATTLE_BIN__800f5b64;
  if (DAT_BATTLE_BIN__800f5b64 < iVar12) {
    iVar9 = DAT_BATTLE_BIN__800f5b64 * 0x18;
    iVar8 = DAT_BATTLE_BIN__800f5b64;
    do {
      uVar1 = *puVar11;
      puVar11 = puVar11 + 1;
      iVar8 = iVar8 + 1;
      *(ushort *)((int)&DAT_BATTLE_BIN__8011a2de + iVar9) = uVar1;
      iVar9 = iVar9 + 0x18;
    } while (iVar8 < iVar12);
  }
  iVar8 = uVar14 + DAT_BATTLE_BIN__800f5b68;
  iVar12 = DAT_BATTLE_BIN__800f5b68 << 5;
  if (DAT_BATTLE_BIN__800f5b68 < iVar8) {
    do {
      *(ushort *)((int)&DAT_BATTLE_BIN__8011c49e + iVar12) = *puVar11;
      iVar12 = iVar12 + 0x20;
      puVar11 = puVar11 + 1;
    } while (iVar12 < iVar8 * 0x20);
  }
  DAT_BATTLE_BIN__800f5b64 = uVar13 + DAT_BATTLE_BIN__800f5b64;
  DAT_BATTLE_BIN__800f5b68 = uVar14 + DAT_BATTLE_BIN__800f5b68;
  DAT_BATTLE_BIN__800f5b6c = uVar15 + DAT_BATTLE_BIN__800f5b6c;
  DAT_BATTLE_BIN__800f5b70 = uVar16 + DAT_BATTLE_BIN__800f5b70;
  return;
}



undefined4 FUN_BATTLE_BIN__800f5984(void)

{
  int *piVar1;
  int iVar2;
  
  FUN_BATTLE_BIN__800f5a64();
  iVar2 = 0;
  piVar1 = &DAT_BATTLE_BIN__800f6ccc;
  do {
    iVar2 = iVar2 + 1;
    if (*piVar1 != 0) {
      FUN_BATTLE_BIN__80091248(*piVar1);
      *piVar1 = 0;
    }
    piVar1 = piVar1 + 1;
  } while (iVar2 < 0x20);
  DAT_BATTLE_BIN__800f5c70 = 0;
  return 0;
}



void FUN_BATTLE_BIN__800f59f0(void)

{
  DAT_BATTLE_BIN__800f5c70 = 1;
  if (DAT_BATTLE_BIN__800f5c64 != 0) {
    FUN_80044038(DAT_BATTLE_BIN__800f5c64);
  }
  return;
}



void FUN_BATTLE_BIN__800f5a64(void)

{
  if (DAT_BATTLE_BIN__800f5c64 != (MusicDataHeader *)0x0) {
    FUN_800440f4(DAT_BATTLE_BIN__800f5c64);
    DAT_BATTLE_BIN__800f5c64 = (MusicDataHeader *)0x0;
  }
  if (DAT_BATTLE_BIN__800f5c68 != (MusicDataHeader *)0x0) {
    FUN_800440f4(DAT_BATTLE_BIN__800f5c68);
    DAT_BATTLE_BIN__800f5c68 = (MusicDataHeader *)0x0;
  }
  if (DAT_BATTLE_BIN__800f5c6c != (MusicDataHeader *)0x0) {
    FUN_800440f4(DAT_BATTLE_BIN__800f5c6c);
    DAT_BATTLE_BIN__800f5c6c = (MusicDataHeader *)0x0;
  }
  return;
}



void FUN_BATTLE_BIN__8012cc54(uint *param_1,int param_2,uint param_3)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  uint uVar5;
  uint uVar6;
  uint in_t2;
  uint uVar7;
  int in_t3;
  uint in_t4;
  int in_t5;
  int iVar8;
  SVECTOR *r0;
  SVECTOR *pSVar9;
  SVECTOR *r0_00;
  uint uVar10;
  int iVar11;
  int in_t9;
  
  uVar10 = (param_3 - 1 & 0xe00) >> 9;
  uVar2 = (param_3 & 0xc00) >> 10;
  if ((param_3 + 0x200 & 0x3ff) != 0) {
    uVar2 = 4;
  }
  DAT_BATTLE_BIN__8012d878 = DAT_BATTLE_BIN__8012d878 + 1;
  r0_00 = (SVECTOR *)(DAT_BATTLE_BIN__800fbdf8 + -0x18);
  puVar1 = (uint *)(param_2 + -0x28);
  puVar4 = &DAT_BATTLE_BIN__8012d878;
  uVar5 = DAT_BATTLE_BIN__8012d878;
  iVar8 = DAT_BATTLE_BIN__800f5b84;
  r0 = (SVECTOR *)DAT_BATTLE_BIN__800fa6b8;
  while (iVar8 = iVar8 + -1, -1 < iVar8) {
    gte_ldv0(r0);
    pSVar9 = r0 + 1;
    puVar1 = puVar1 + 10;
    copFunction(2,0x480012);
    uVar3 = (uint)r0[1].pad;
    r0_00 = r0_00 + 3;
    read_mt(puVar4,uVar5,in_t9);
    gte_ldv0(pSVar9);
    pSVar9 = pSVar9 + 1;
    copFunction(2,0x480012);
    gte_ldSXY0((uint)puVar4 | uVar5 << 0x10);
    gte_ldSZ1(in_t9);
    *(short *)(puVar1 + 2) = (short)puVar4;
    *(short *)((int)puVar1 + 10) = (short)uVar5;
    read_mt(in_t2,in_t3,in_t9);
    gte_ldv0(pSVar9);
    r0 = pSVar9 + 1;
    copFunction(2,0x480012);
    *(short *)(puVar1 + 5) = (short)in_t2;
    *(short *)((int)puVar1 + 0x16) = (short)in_t3;
    gte_ldSXY1(in_t2 | in_t3 << 0x10);
    gte_ldSZ2(in_t9);
    read_mt(in_t4,in_t5,in_t9);
    gte_ldSXY2(in_t4 | in_t5 << 0x10);
    gte_ldSZ3(in_t9);
    if ((((uVar3 & 0x3ffc) >> (uVar10 & 0x1f) & 4) == 0) &&
       (((uVar3 & 0x3ffc) >> (uVar2 & 0x1f) & 0x400) == 0)) {
      *(short *)(puVar1 + 8) = (short)in_t4;
      *(short *)((int)puVar1 + 0x22) = (short)in_t5;
      gte_nclip_b();
      if (((-1 < (int)puVar4) || ((-1 < (int)in_t2 || (-1 < (int)in_t4)))) &&
         ((-1 < (int)uVar5 || ((-1 < in_t3 || (-1 < in_t5)))))) {
        puVar4 = puVar4 + -0xa0;
        in_t2 = in_t2 - 0x280;
        if (((int)puVar4 < 0) || ((in_t4 = in_t4 - 0x280, (int)in_t2 < 0 || ((int)in_t4 < 0)))) {
          iVar11 = gte_stMAC0();
          uVar5 = uVar5 - 0x1e0;
          in_t3 = in_t3 + -0x1e0;
          if ((-1 < iVar11) &&
             (((in_t5 = in_t5 + -0x1e0, (int)uVar5 < 0 || (in_t3 < 0)) || (in_t5 < 0)))) {
            gte_avsz3();
            iVar11 = gte_stOTZ();
            in_t9 = iVar11;
            if ((-1 < iVar11) && (in_t9 = iVar11 + -0x180, in_t9 < 0)) {
              uVar7 = in_t2;
              if ((uVar3 & 1) != 0) {
                gte_ldVXY1(r0_00 + 1);
                gte_ldVZ1(&r0_00[1].vz);
                gte_ldVXY2(r0_00 + 2);
                gte_ldVZ2(&r0_00[2].vz);
                gte_ldv0(r0_00);
                uVar7 = in_t2;
              }
              gte_nct_b();
              puVar4 = param_1 + iVar11;
              in_t9 = -0x1000000;
                    // Probable PsyQ macro: addPrim().
              *puVar1 = *puVar1 & 0xff000000 | *puVar4 & 0xffffff;
              uVar6 = (uint)puVar1 & 0xffffff;
              *puVar4 = *puVar4 & 0xff000000 | uVar6;
              puVar4 = param_1;
              uVar5 = uVar6;
              in_t2 = uVar7;
              if ((uVar3 & 1) != 0) {
                read_rgb_fifo(param_1,uVar6,uVar7);
                *(short *)(puVar1 + 1) = (short)param_1;
                *(short *)(puVar1 + 4) = (short)uVar6;
                *(short *)(puVar1 + 7) = (short)uVar7;
                puVar4 = (uint *)((uint)param_1 >> 0x10);
                uVar5 = uVar6 >> 0x10;
                in_t2 = uVar7 >> 0x10;
                *(char *)((int)puVar1 + 6) = (char)((uint)param_1 >> 0x10);
                *(char *)((int)puVar1 + 0x12) = (char)(uVar6 >> 0x10);
                *(char *)((int)puVar1 + 0x1e) = (char)(uVar7 >> 0x10);
              }
            }
          }
        }
      }
    }
  }
  return;
}



void FUN_BATTLE_BIN__8012cf44(uint *param_1,int param_2,uint param_3)

{
  uint in_v0;
  uint in_v1;
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  uint uVar5;
  uint uVar6;
  uint in_t2;
  int in_t3;
  uint in_t4;
  int in_t5;
  int iVar7;
  SVECTOR *r0;
  SVECTOR *pSVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  int in_t9;
  
  uVar10 = (param_3 - 1 & 0xe00) >> 9;
  uVar2 = (param_3 & 0xc00) >> 10;
  if ((param_3 + 0x200 & 0x3ff) != 0) {
    uVar2 = 4;
  }
  DAT_BATTLE_BIN__8012d878 = DAT_BATTLE_BIN__8012d878 + 1;
  puVar1 = (uint *)(param_2 + -0x34);
  iVar9 = DAT_BATTLE_BIN__800fbdfc + -0x20;
  puVar4 = &DAT_BATTLE_BIN__8012d878;
  uVar5 = DAT_BATTLE_BIN__8012d878;
  iVar7 = DAT_BATTLE_BIN__800f5b88;
  r0 = (SVECTOR *)DAT_BATTLE_BIN__800fa6bc;
  while (iVar7 = iVar7 + -1, -1 < iVar7) {
    gte_ldv0(r0);
    pSVar8 = r0 + 1;
    puVar1 = puVar1 + 0xd;
    copFunction(2,0x480012);
    uVar3 = (uint)r0[1].pad;
    iVar9 = iVar9 + 0x20;
    read_mt(puVar4,uVar5,in_t9);
    gte_ldv0(pSVar8);
    pSVar8 = pSVar8 + 1;
    copFunction(2,0x480012);
    *(short *)(puVar1 + 2) = (short)puVar4;
    *(short *)((int)puVar1 + 10) = (short)uVar5;
    gte_ldSXY0((uint)puVar4 | uVar5 << 0x10);
    gte_ldSZ0(in_t9);
    read_mt(in_t2,in_t3,in_t9);
    gte_ldv0(pSVar8);
    pSVar8 = pSVar8 + 1;
    copFunction(2,0x480012);
    *(short *)(puVar1 + 5) = (short)in_t2;
    *(short *)((int)puVar1 + 0x16) = (short)in_t3;
    gte_ldSXY1(in_t2 | in_t3 << 0x10);
    gte_ldSZ1(in_t9);
    read_mt(in_t4,in_t5,in_t9);
    gte_ldv0(pSVar8);
    r0 = pSVar8 + 1;
    copFunction(2,0x480012);
    *(short *)(puVar1 + 8) = (short)in_t4;
    *(short *)((int)puVar1 + 0x22) = (short)in_t5;
    gte_ldSXY2(in_t4 | in_t5 << 0x10);
    gte_ldSZ2(in_t9);
    read_mt(in_v0,in_v1,in_t9);
    *(short *)(puVar1 + 0xb) = (short)in_v0;
    *(short *)((int)puVar1 + 0x2e) = (short)in_v1;
    gte_ldSXY2(in_t4 | in_t5 << 0x10);
    gte_ldSZ3(in_t9);
    if ((((((uVar3 & 0x3ffc) >> (uVar10 & 0x1f) & 4) == 0) &&
         (gte_nclip(), ((uVar3 & 0x3ffc) >> (uVar2 & 0x1f) & 0x400) == 0)) &&
        ((-1 < (int)puVar4 || (((-1 < (int)in_t2 || (-1 < (int)in_t4)) || (-1 < (int)in_v0)))))) &&
       (((-1 < (int)uVar5 || (-1 < in_t3)) || ((-1 < in_t5 || (-1 < (int)in_v1)))))) {
      puVar4 = puVar4 + -0xa0;
      in_t2 = in_t2 - 0x280;
      if ((((int)puVar4 < 0) || (in_t4 = in_t4 - 0x280, (int)in_t2 < 0)) ||
         ((in_v0 = in_v0 - 0x280, (int)in_t4 < 0 || ((int)in_v0 < 0)))) {
        iVar11 = gte_stMAC0();
        uVar5 = uVar5 - 0x1e0;
        in_t3 = in_t3 + -0x1e0;
        if ((-1 < iVar11) &&
           ((((in_t5 = in_t5 + -0x1e0, (int)uVar5 < 0 || (in_v1 = in_v1 - 0x1e0, in_t3 < 0)) ||
             (in_t5 < 0)) || ((int)in_v1 < 0)))) {
          gte_avsz4();
          iVar11 = gte_stOTZ();
          in_t9 = iVar11;
          if ((-1 < iVar11) && (in_t9 = iVar11 + -0x180, in_t9 < 0)) {
            if ((uVar3 & 1) != 0) {
              gte_ldVZ0(iVar9 + 4);
              gte_ldVXY0(iVar9);
              gte_ldVXY1(iVar9 + 8);
              gte_ldVZ1(iVar9 + 0xc);
              gte_ldVXY2(iVar9 + 0x10);
              gte_ldVZ2(iVar9 + 0x14);
              gte_ldVZ0(iVar9 + 4);
              gte_ldVXY0(iVar9);
            }
            gte_nct_b();
            puVar4 = param_1 + iVar11;
            in_t9 = -0x1000000;
                    // Probable PsyQ macro: addPrim().
            *puVar1 = *puVar1 & 0xff000000 | *puVar4 & 0xffffff;
            uVar6 = (uint)puVar1 & 0xffffff;
            in_v0 = *puVar4 & 0xff000000 | uVar6;
            *puVar4 = in_v0;
            in_v1 = uVar3 & 1;
            puVar4 = param_1;
            uVar5 = uVar6;
            if (in_v1 != 0) {
              read_rgb_fifo(param_1,uVar6,in_t2);
              gte_ldVXY0(iVar9 + 0x18);
              gte_ldVZ0(iVar9 + 0x1c);
              *(short *)(puVar1 + 1) = (short)param_1;
              *(short *)(puVar1 + 4) = (short)uVar6;
              gte_ncs_b();
              *(short *)(puVar1 + 7) = (short)in_t2;
              uVar5 = uVar6 >> 0x10;
              *(char *)((int)puVar1 + 6) = (char)((uint)param_1 >> 0x10);
              *(char *)((int)puVar1 + 0x12) = (char)(uVar6 >> 0x10);
              uVar3 = gte_stRGB2();
              *(char *)((int)puVar1 + 0x1e) = (char)(in_t2 >> 0x10);
              *(short *)(puVar1 + 10) = (short)uVar3;
              puVar4 = (uint *)(uVar3 >> 0x10);
              *(char *)((int)puVar1 + 0x2a) = (char)(uVar3 >> 0x10);
              in_t2 = in_t2 >> 0x10;
            }
          }
        }
      }
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8012d2b4(int param_1,int param_2,uint param_3)

{
  uint *puVar1;
  uint *puVar2;
  uint *puVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint in_t2;
  int in_t3;
  uint in_t4;
  int in_t5;
  int iVar8;
  SVECTOR *r0;
  SVECTOR *pSVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  int iVar14;
  uint in_t9;
  
  uVar7 = DAT_BATTLE_BIN__8012d878 + 1;
  uVar11 = (param_3 - 1 & 0xe00) >> 9;
  uVar4 = (param_3 & 0xc00) >> 10;
  if ((param_3 + 0x200 & 0x3ff) != 0) {
    uVar4 = 4;
  }
  puVar2 = (uint *)(param_2 + -0x14);
  iVar8 = DAT_BATTLE_BIN__800f5b8c;
  r0 = (SVECTOR *)DAT_BATTLE_BIN__800f7a58;
  uVar10 = _DAT_BATTLE_BIN__800f5b58;
  uVar12 = DAT_BATTLE_BIN__80121d58;
  uVar13 = DAT_BATTLE_BIN__800fc558;
  DAT_BATTLE_BIN__8012d878 = uVar7;
  while (iVar8 = iVar8 + -1, -1 < iVar8) {
    gte_ldv0(r0);
    pSVar9 = r0 + 1;
    puVar3 = puVar2 + 5;
    copFunction(2,0x480012);
    uVar5 = (uint)r0[1].pad;
    *(char *)(puVar2 + 6) = (char)uVar10;
    *(char *)((int)puVar2 + 0x19) = (char)(uVar10 >> 8);
    uVar6 = uVar10 >> 0x10;
    *(char *)((int)puVar2 + 0x1a) = (char)(uVar10 >> 0x10);
    read_mt(uVar6,uVar7,in_t9);
    gte_ldv0(pSVar9);
    pSVar9 = pSVar9 + 1;
    copFunction(2,0x480012);
    gte_ldSXY0(uVar6 | uVar7 << 0x10);
    gte_ldSZ1(in_t9);
    *(short *)(puVar3 + 2) = (short)uVar6;
    *(short *)((int)puVar3 + 10) = (short)uVar7;
    read_mt(in_t2,in_t3,in_t9);
    gte_ldv0(pSVar9);
    r0 = pSVar9 + 1;
    copFunction(2,0x480012);
    *(short *)(puVar3 + 3) = (short)in_t2;
    *(short *)((int)puVar3 + 0xe) = (short)in_t3;
    gte_ldSXY1(in_t2 | in_t3 << 0x10);
    gte_ldSZ2(in_t9);
    read_mt(in_t4,in_t5,in_t9);
    gte_ldSXY2(in_t4 | in_t5 << 0x10);
    gte_ldSZ3(in_t9);
    puVar2 = puVar3;
    if ((((uVar5 & 0x3ffc) >> (uVar11 & 0x1f) & 4) == 0) &&
       (((uVar5 & 0x3ffc) >> (uVar4 & 0x1f) & 0x400) == 0)) {
      *(short *)(puVar3 + 4) = (short)in_t4;
      *(short *)((int)puVar3 + 0x12) = (short)in_t5;
      gte_nclip_b();
      if ((((-1 < (int)uVar6) || ((-1 < (int)in_t2 || (-1 < (int)in_t4)))) &&
          ((-1 < (int)uVar7 || ((-1 < in_t3 || (-1 < in_t5)))))) &&
         ((in_t2 = in_t2 - 0x280, (int)(uVar6 - 0x280) < 0 ||
          ((in_t4 = in_t4 - 0x280, (int)in_t2 < 0 || ((int)in_t4 < 0)))))) {
        iVar14 = gte_stMAC0();
        uVar7 = uVar7 - 0x1e0;
        in_t3 = in_t3 + -0x1e0;
        if ((-1 < iVar14) &&
           (((in_t5 = in_t5 + -0x1e0, (int)uVar7 < 0 || (in_t3 < 0)) || (in_t5 < 0)))) {
          gte_avsz3();
          uVar5 = gte_stOTZ();
          in_t9 = uVar5;
          if ((-1 < (int)uVar5) && (in_t9 = uVar5 - 0x180, (int)in_t9 < 0)) {
            puVar1 = (uint *)(param_1 + (uVar5 & uVar12 | uVar13) * 4);
            in_t9 = 0xff000000;
                    // Probable PsyQ macro: addPrim().
            *puVar3 = *puVar3 & 0xff000000 | *puVar1 & 0xffffff;
            uVar7 = (uint)puVar3 & 0xffffff;
            *puVar1 = *puVar1 & 0xff000000 | uVar7;
          }
        }
      }
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8012d568(int param_1,int param_2,uint param_3)

{
  uint in_v0;
  uint in_v1;
  uint *puVar1;
  uint *puVar2;
  uint *puVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint in_t2;
  int in_t3;
  uint in_t4;
  int in_t5;
  int iVar8;
  SVECTOR *r0;
  SVECTOR *pSVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  int iVar14;
  uint in_t9;
  
  uVar11 = (param_3 - 1 & 0xe00) >> 9;
  uVar4 = (param_3 & 0xc00) >> 10;
  if ((param_3 + 0x200 & 0x3ff) != 0) {
    uVar4 = 4;
  }
  uVar7 = DAT_BATTLE_BIN__8012d878 + 1;
  puVar2 = (uint *)(param_2 + -0x18);
  iVar8 = DAT_BATTLE_BIN__800f5b90;
  r0 = (SVECTOR *)DAT_BATTLE_BIN__800f7a5c;
  uVar10 = _DAT_BATTLE_BIN__800f5b58;
  uVar12 = DAT_BATTLE_BIN__80121d58;
  uVar13 = DAT_BATTLE_BIN__800fc558;
  DAT_BATTLE_BIN__8012d878 = uVar7;
  while (iVar8 = iVar8 + -1, -1 < iVar8) {
    gte_ldv0(r0);
    pSVar9 = r0 + 1;
    puVar3 = puVar2 + 6;
    copFunction(2,0x480012);
    uVar5 = (uint)r0[1].pad;
    *(char *)(puVar2 + 7) = (char)uVar10;
    *(char *)((int)puVar2 + 0x1d) = (char)(uVar10 >> 8);
    uVar6 = uVar10 >> 0x10;
    *(char *)((int)puVar2 + 0x1e) = (char)(uVar10 >> 0x10);
    read_mt(uVar6,uVar7,in_t9);
    gte_ldv0(pSVar9);
    pSVar9 = pSVar9 + 1;
    copFunction(2,0x480012);
    *(short *)(puVar3 + 2) = (short)uVar6;
    *(short *)((int)puVar3 + 10) = (short)uVar7;
    gte_ldSXY0(uVar6 | uVar7 << 0x10);
    gte_ldSZ0(in_t9);
    read_mt(in_t2,in_t3,in_t9);
    gte_ldv0(pSVar9);
    pSVar9 = pSVar9 + 1;
    copFunction(2,0x480012);
    *(short *)(puVar3 + 3) = (short)in_t2;
    *(short *)((int)puVar3 + 0xe) = (short)in_t3;
    gte_ldSXY1(in_t2 | in_t3 << 0x10);
    gte_ldSZ1(in_t9);
    read_mt(in_t4,in_t5,in_t9);
    gte_ldv0(pSVar9);
    r0 = pSVar9 + 1;
    copFunction(2,0x480012);
    *(short *)(puVar3 + 4) = (short)in_t4;
    *(short *)((int)puVar3 + 0x12) = (short)in_t5;
    gte_ldSXY2(in_t4 | in_t5 << 0x10);
    gte_ldSZ2(in_t9);
    read_mt(in_v0,in_v1,in_t9);
    *(short *)(puVar3 + 5) = (short)in_v0;
    *(short *)((int)puVar3 + 0x16) = (short)in_v1;
    gte_ldSXY2(in_t4 | in_t5 << 0x10);
    gte_ldSZ3(in_t9);
    puVar2 = puVar3;
    if (((((((uVar5 & 0x3ffc) >> (uVar11 & 0x1f) & 4) == 0) &&
          (gte_nclip(), ((uVar5 & 0x3ffc) >> (uVar4 & 0x1f) & 0x400) == 0)) &&
         ((-1 < (int)uVar6 || (((-1 < (int)in_t2 || (-1 < (int)in_t4)) || (-1 < (int)in_v0)))))) &&
        (((-1 < (int)uVar7 || (-1 < in_t3)) || ((-1 < in_t5 || (-1 < (int)in_v1)))))) &&
       (((in_t2 = in_t2 - 0x280, (int)(uVar6 - 0x280) < 0 || (in_t4 = in_t4 - 0x280, (int)in_t2 < 0)
         ) || ((in_v0 = in_v0 - 0x280, (int)in_t4 < 0 || ((int)in_v0 < 0)))))) {
      iVar14 = gte_stMAC0();
      uVar7 = uVar7 - 0x1e0;
      in_t3 = in_t3 + -0x1e0;
      if ((-1 < iVar14) &&
         ((((in_t5 = in_t5 + -0x1e0, (int)uVar7 < 0 || (in_v1 = in_v1 - 0x1e0, in_t3 < 0)) ||
           (in_t5 < 0)) || ((int)in_v1 < 0)))) {
        gte_avsz4();
        uVar5 = gte_stOTZ();
        in_t9 = uVar5;
        if ((-1 < (int)uVar5) && (in_t9 = uVar5 - 0x180, (int)in_t9 < 0)) {
          puVar1 = (uint *)(param_1 + (uVar5 & uVar12 | uVar13) * 4);
          in_t9 = 0xff000000;
                    // Probable PsyQ macro: addPrim().
          in_v1 = *puVar3 & 0xff000000 | *puVar1 & 0xffffff;
          *puVar3 = in_v1;
          uVar7 = (uint)puVar3 & 0xffffff;
          in_v0 = *puVar1 & 0xff000000 | uVar7;
          *puVar1 = in_v0;
        }
      }
    }
  }
  return;
}



void FUN_BATTLE_BIN__8012da0c(ushort param_1,uint param_2)

{
  byte bVar1;
  int iVar2;
  uint UnitID;
  BattleUnitData *pBVar3;
  
  iVar2 = FUN_BATTLE_BIN__8013b590(0x1fd);
  if ((iVar2 == 0) && (iVar2 = FUN_BATTLE_BIN__8013b590(0x6f), iVar2 != 0)) {
    UnitID = FUN_BATTLE_BIN__8008cdd0(param_1);
    if ((-1 < (int)UnitID) && (param_2 < 500)) {
      pBVar3 = GetUnitDataPointer(UnitID);
      bVar1 = FUN_BATTLE_BIN__8018401c
                        (4,(uint)(pBVar3->field0_0x0).MapX,(uint)(pBVar3->field0_0x0).MapY,
                         (uint)(*(ushort *)&(pBVar3->field0_0x0).MapY >> 0xf));
      if (((pBVar3->field1_0x16e).field_0x14 & 0xc0) == 0) {
        if (bVar1 < 2) goto LAB_BATTLE_BIN__8012dadc;
        DAT_BATTLE_BIN__80173ca8 = &DAT_BATTLE_BIN__8008be04;
      }
      else {
        DAT_BATTLE_BIN__80173ca8 = &DAT_BATTLE_BIN__8008be54;
      }
      FUN_BATTLE_BIN__8014ceb4();
      return;
    }
  }
LAB_BATTLE_BIN__8012dadc:
  FUN_BATTLE_BIN__8008be7c(param_1,(short)param_2);
  return;
}



void FUN_BATTLE_BIN__8012db00(undefined4 param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  BattleUnitData *pBVar3;
  
  iVar1 = FUN_BATTLE_BIN__8013b590(0x1fd);
  if (((iVar1 == 0) && (uVar2 = FUN_BATTLE_BIN__8008cdd0((ushort)param_1), -1 < (int)uVar2)) &&
     (pBVar3 = GetUnitDataPointer(uVar2), (pBVar3->field1_0x16e).field_0x14 != '\0')) {
    uVar2 = GetMiscIDByMiscID((byte)(pBVar3->field1_0x16e).field_0x14 & 0x1f);
    FUN_BATTLE_BIN__8008c114(uVar2,param_2 & 0xffff);
  }
  FUN_BATTLE_BIN__8008c114(param_1,param_2 & 0xffff);
  return;
}



int FUN_BATTLE_BIN__8012db90(int param_1)

{
  int iVar1;
  
  if (param_1 == 0) {
    iVar1 = 0;
  }
  else if (param_1 < 0x60) {
    iVar1 = (param_1 * 0x7f) / 0x60;
  }
  else {
    iVar1 = 0x7f;
  }
  return iVar1;
}



bool FUN_BATTLE_BIN__8012dc84(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__8013b590(0x27);
  return iVar1 - 0x19aU < 0x10;
}



void FUN_BATTLE_BIN__8012dd1c(void)

{
  DAT_BATTLE_BIN__80165fb4 = 1;
  return;
}



void FUN_BATTLE_BIN__8012dd58(void)

{
  DAT_BATTLE_BIN__80165fb4 = 5;
  return;
}



void FUN_BATTLE_BIN__8012df98(uint param_1)

{
  bool bVar1;
  undefined3 extraout_var;
  uint uVar2;
  
  if ((param_1 == 0) ||
     ((bVar1 = FUN_BATTLE_BIN__8012dc84(), CONCAT31(extraout_var,bVar1) != 0 &&
      (uVar2 = FUN_BATTLE_BIN__8013b590(0x29), (uVar2 & 0x5000) != 0)))) {
    DAT_BATTLE_BIN__8016d9a8 = 0;
    DAT_BATTLE_BIN__8016d9ac = 0;
    DAT_BATTLE_BIN__8016d9b0 = 0;
  }
  DAT_BATTLE_BIN__8016d9a4 = DAT_BATTLE_BIN__8016d9a0;
  DAT_BATTLE_BIN__8016d9a0 = param_1;
  DAT_BATTLE_BIN__801697d0 = 0;
  if ((DAT_BATTLE_BIN__8016d9a4 == param_1) && ((param_1 & 0xf00c) != 0)) {
    DAT_BATTLE_BIN__8016d9a8 = DAT_BATTLE_BIN__8016d9a8 + 1;
    if (DAT_BATTLE_BIN__8016d9a8 == (int)(uint)DAT_800473a1 / DAT_BATTLE_BIN__80165f88) {
      DAT_BATTLE_BIN__801697d0 = param_1 & 0xf00c;
    }
    if (DAT_BATTLE_BIN__8016d9a8 < (uint)((int)(uint)DAT_800473a1 / DAT_BATTLE_BIN__80165f88)) {
      DAT_BATTLE_BIN__8016d9ac = 0;
      DAT_BATTLE_BIN__8016d9b0 = 0;
    }
    else {
      DAT_BATTLE_BIN__8016d9ac = DAT_BATTLE_BIN__8016d9ac + 1;
      DAT_BATTLE_BIN__8016d9b0 = DAT_BATTLE_BIN__8016d9b0 + 1;
      if ((uint)((int)(uint)DAT_800473a2 / DAT_BATTLE_BIN__80165f88) <= DAT_BATTLE_BIN__8016d9ac) {
        DAT_BATTLE_BIN__8016d9ac = 0;
        DAT_BATTLE_BIN__801697d0 = param_1 & 0xa000;
        if ((param_1 & 0x80) == 0) {
          DAT_BATTLE_BIN__801697d0 = param_1 & 0xf000;
        }
      }
      if ((uint)((int)(uint)DAT_800473a3 / DAT_BATTLE_BIN__80165f88) <= DAT_BATTLE_BIN__8016d9b0) {
        DAT_BATTLE_BIN__8016d9b0 = 0;
        uVar2 = param_1 & 0x500c;
        if ((param_1 & 0x80) == 0) {
          uVar2 = param_1 & 0xc;
        }
        DAT_BATTLE_BIN__801697d0 = uVar2 | DAT_BATTLE_BIN__801697d0;
      }
    }
  }
  else {
    DAT_BATTLE_BIN__801697d0 = ~DAT_BATTLE_BIN__8016d9a4 & param_1;
    DAT_BATTLE_BIN__8016d9a8 = 0;
  }
  return;
}



void FUN_BATTLE_BIN__8012e190(void)

{
  return;
}



void FUN_BATTLE_BIN__8012e320(void)

{
  undefined4 *puVar1;
  int iVar2;
  
  iVar2 = 5;
  puVar1 = &DAT_BATTLE_BIN__8016eae0;
  do {
    *puVar1 = 0xffffffff;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  return;
}



void FUN_BATTLE_BIN__8012e64c(int param_1,undefined param_2)

{
  *(undefined *)(param_1 + 4) = param_2;
  *(undefined *)(param_1 + 5) = param_2;
  *(undefined *)(param_1 + 6) = param_2;
  return;
}



void FUN_BATTLE_BIN__8012e65c(void)

{
  char cVar1;
  short sVar2;
  u_short uVar3;
  int iVar4;
  short sVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  short sVar9;
  int iVar10;
  uint uVar11;
  int iVar12;
  int *piVar13;
  
  iVar12 = 4;
  piVar13 = &DAT_BATTLE_BIN__8016eadc;
  do {
    if (((*piVar13 != -1) &&
        (piVar6 = *(int **)(&DAT_BATTLE_BIN__8016eacc + (iVar12 + DAT_BATTLE_BIN__80166014) * 4),
        *piVar6 == 1)) && ((&DAT_BATTLE_BIN__801698b4)[piVar6[1] * 0x100] != 0)) {
      FUN_BATTLE_BIN__8012e64c((int)(piVar6 + 0xe),*(undefined *)(piVar6 + 0x45));
      FUN_BATTLE_BIN__8012e64c((int)(piVar6 + 0x13),*(undefined *)(piVar6 + 0x45));
      FUN_BATTLE_BIN__8012e64c((int)(piVar6 + 0x18),*(undefined *)(piVar6 + 0x45));
      FUN_BATTLE_BIN__8012e64c((int)(piVar6 + 0x1d),*(undefined *)(piVar6 + 0x45));
      FUN_BATTLE_BIN__8012e64c((int)(piVar6 + 0x31),*(undefined *)(piVar6 + 0x45));
      FUN_BATTLE_BIN__8012e64c((int)(piVar6 + 0x3b),*(undefined *)(piVar6 + 0x45));
      iVar10 = (int)*(short *)(piVar6 + 0x35) - (int)*(short *)(piVar6 + 0x33);
      iVar4 = iVar10;
      if (iVar10 < 0) {
        iVar4 = iVar10 + 7;
      }
      if ((iVar4 >> 3) << 3 == iVar10 + -4) {
        sVar9 = (short)iVar10 + -0xf;
      }
      else {
        sVar9 = (short)iVar10 + -0xd;
      }
      *(short *)(piVar6 + 0x24) = *(short *)(piVar6 + 0x33) + sVar9;
      *(short *)(piVar6 + 0x29) = *(short *)(piVar6 + 0x33) + sVar9;
      *(short *)((int)piVar6 + 0x92) = *(short *)((int)piVar6 + 0xce) + 8;
      *(short *)((int)piVar6 + 0xa6) =
           *(short *)((int)piVar6 + 0xce) +
           (*(short *)((int)piVar6 + 0xde) - *(short *)((int)piVar6 + 0xce)) + -0x1a;
      if (piVar6[6] == 0x10) {
        if (piVar6[5] == 1) {
          sVar2 = *(short *)((int)piVar6 + 0x92) + -4;
          sVar5 = *(short *)((int)piVar6 + 0xa6) + -4;
        }
        else {
          sVar2 = *(short *)((int)piVar6 + 0x92) + 4;
          sVar5 = *(short *)((int)piVar6 + 0xa6) + 4;
        }
        *(short *)((int)piVar6 + 0x92) = sVar2;
        *(short *)((int)piVar6 + 0xa6) = sVar5;
      }
      iVar8 = (int)*(short *)((int)piVar6 + 0x92) + (int)*(short *)((int)piVar6 + 0x9a);
      iVar7 = iVar12 + DAT_BATTLE_BIN__80166014;
      iVar10 = *(int *)(&DAT_BATTLE_BIN__8016eacc + iVar7 * 4);
      iVar4 = *(int *)(iVar10 + 0x28);
      iVar10 = *(int *)(iVar10 + 0x24);
      *(short *)(piVar6 + 0x2e) = *(short *)(piVar6 + 0x33) + sVar9;
      *(short *)((int)piVar6 + 0xba) =
           (short)iVar8 +
           (short)((((*(short *)((int)piVar6 + 0xa6) - iVar8) + -4) * iVar4) / iVar10);
      uVar11 = *(uint *)(*(int *)(&DAT_BATTLE_BIN__8016eacc + iVar7 * 4) + 0x20);
      if ((uVar11 & 1) != 0) {
        FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0x22));
      }
      if ((uVar11 & 2) != 0) {
        FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0x27));
      }
      if ((uVar11 & 4) != 0) {
        FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0x2c));
      }
      FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0xe));
      FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0x13));
      FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0x18));
      FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0x1d));
      FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0xb));
      cVar1 = (char)piVar6[3] * ' ';
      if (piVar6[3] == -1) {
        CreatePortraitPolygon((POLY_FT4 *)(piVar6 + 0x3b),piVar6[4]);
      }
      else {
        *(char *)(piVar6 + 0x3e) = cVar1;
        *(char *)(piVar6 + 0x42) = cVar1;
        *(char *)(piVar6 + 0x40) = cVar1 + '\x1f';
        *(char *)(piVar6 + 0x44) = cVar1 + '\x1f';
        *(undefined *)((int)piVar6 + 0xf9) = 0xce;
        *(undefined *)((int)piVar6 + 0x101) = 0xce;
        *(undefined *)((int)piVar6 + 0x109) = 0xfe;
        *(undefined *)((int)piVar6 + 0x111) = 0xfe;
        uVar3 = GetTPage(0,0,0x1c0,0);
        iVar10 = piVar6[3];
        *(u_short *)((int)piVar6 + 0x102) = uVar3;
        iVar4 = iVar10;
        if (iVar10 < 0) {
          iVar4 = iVar10 + 3;
        }
        uVar3 = GetClut((iVar10 + (iVar4 >> 2) * -4) * 0x10 + 0x1c0,(iVar4 >> 2) + 0xfe);
        *(u_short *)((int)piVar6 + 0xfa) = uVar3;
      }
      FUN_BATTLE_BIN__801328ac((int)(piVar6 + 0x3b),-piVar6[7]);
      FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0x3b));
      FUN_BATTLE_BIN__8014a5e8((uint *)(piVar6 + 0x31));
    }
    iVar12 = iVar12 + -2;
    piVar13 = piVar13 + -2;
  } while (-1 < iVar12);
  return;
}



void FUN_BATTLE_BIN__8012e9c0(void)

{
  undefined *puVar1;
  int iVar2;
  undefined1 *puVar3;
  int iVar4;
  
  iVar4 = 0;
  puVar3 = &DAT_BATTLE_BIN__8016d86c;
  do {
    iVar2 = 0xf;
    puVar1 = puVar3 + 0xf;
    do {
      *puVar1 = 0;
      iVar2 = iVar2 + -1;
      puVar1 = puVar1 + -1;
    } while (-1 < iVar2);
    iVar4 = iVar4 + 1;
    puVar3 = puVar3 + 0x10;
  } while (iVar4 < 0xf);
  return;
}



void FUN_BATTLE_BIN__8012e9fc(RECT *UnitStatRect,int BlankRect,u_long *param_3)

{
  char cVar1;
  char cVar2;
  u_short uVar3;
  int iVar4;
  undefined1 *puVar5;
  short sVar6;
  undefined1 *puVar7;
  char *pcVar7;
  undefined uVar8;
  int iVar9;
  int iVar10;
  int NoteworthyValue;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  
  iVar12 = (int)((uint)(ushort)UnitStatRect->w << 0x10) >> 0x14;
  iVar4 = (int)((uint)(ushort)UnitStatRect->h << 0x10) >> 0x14;
  if ((UnitStatRect->w & 0xfU) != 0) {
    iVar12 = iVar12 + 1;
  }
  NoteworthyValue = 0;
  if ((UnitStatRect->h & 0xfU) != 0) {
    iVar4 = iVar4 + 1;
  }
  if (0 < 0x10 - iVar4) {
    do {
      iVar14 = 0;
      if (-1 < 0x10 - iVar12) {
        iVar11 = NoteworthyValue + iVar4;
        iVar10 = iVar12;
        do {
          puVar7 = &DAT_BATTLE_BIN__8016d86c + NoteworthyValue * 0x10;
          if (puVar7[iVar14] == '\0') {
            if (NoteworthyValue < iVar11) {
              iVar13 = NoteworthyValue;
              do {
                if (iVar14 < iVar10) {
                  pcVar7 = puVar7 + iVar14;
                  iVar9 = iVar14;
                  do {
                    iVar9 = iVar9 + 1;
                    if (*pcVar7 == -1) goto LAB_BATTLE_BIN__8012ec40;
                    pcVar7 = pcVar7 + 1;
                  } while (iVar9 < iVar10);
                }
                iVar13 = iVar13 + 1;
                puVar7 = puVar7 + 0x10;
              } while (iVar13 < iVar11);
              if (NoteworthyValue < iVar11) {
                puVar7 = &DAT_BATTLE_BIN__8016d86c + NoteworthyValue * 0x10;
                iVar4 = NoteworthyValue;
                do {
                  if (iVar14 < iVar10) {
                    puVar5 = puVar7 + iVar14;
                    iVar12 = iVar14;
                    do {
                      *puVar5 = 0xff;
                      iVar12 = iVar12 + 1;
                      puVar5 = puVar5 + 1;
                    } while (iVar12 < iVar10);
                  }
                  iVar4 = iVar4 + 1;
                  puVar7 = puVar7 + 0x10;
                } while (iVar4 < iVar11);
              }
            }
            iVar4 = iVar14 * 0x10;
            cVar2 = (char)(NoteworthyValue * 0x10);
            uVar8 = (undefined)iVar4;
            if ((*(byte *)(BlankRect + 7) & 0xfc) == 100) {
              *(undefined *)(BlankRect + 0xc) = uVar8;
              *(char *)(BlankRect + 0xd) = cVar2;
              *(short *)(BlankRect + 0x10) = UnitStatRect->w;
              sVar6 = UnitStatRect->h;
              *(undefined2 *)(BlankRect + 0xe) = 0x7c3c;
              *(short *)(BlankRect + 0x12) = sVar6;
            }
            else {
              *(undefined *)(BlankRect + 0x1c) = uVar8;
              *(undefined *)(BlankRect + 0xc) = uVar8;
              *(char *)(BlankRect + 0x15) = cVar2;
              *(char *)(BlankRect + 0xd) = cVar2;
              if (0xff < iVar4 + UnitStatRect->w) {
                iVar4 = iVar4 + -1;
              }
              cVar1 = *(char *)&UnitStatRect->w + (char)iVar4;
              *(char *)(BlankRect + 0x24) = cVar1;
              *(char *)(BlankRect + 0x14) = cVar1;
              cVar2 = *(char *)&UnitStatRect->h + cVar2;
              *(char *)(BlankRect + 0x25) = cVar2;
              *(char *)(BlankRect + 0x1d) = cVar2;
              uVar3 = GetTPage(0,0,0x1c0,0);
              *(u_short *)(BlankRect + 0x16) = uVar3;
              *(undefined2 *)(BlankRect + 0xe) = 0x7c3c;
            }
            UnitStatRect->x = (short)iVar14 * 4 + 0x1c0;
            UnitStatRect->y = (short)(NoteworthyValue * 0x10);
            sVar6 = UnitStatRect->w >> 2;
            if ((UnitStatRect->w & 3U) != 0) {
              sVar6 = sVar6 + 1;
            }
            UnitStatRect->w = sVar6;
            if (param_3 == (u_long *)0xffffffff) {
              return;
            }
            LoadImage(UnitStatRect,param_3);
            return;
          }
LAB_BATTLE_BIN__8012ec40:
          iVar14 = iVar14 + 1;
          iVar10 = iVar10 + 1;
        } while (iVar14 <= 0x10 - iVar12);
      }
      NoteworthyValue = NoteworthyValue + 1;
    } while (NoteworthyValue < 0x10 - iVar4);
  }
  FUN_BATTLE_BIN__8014c958();
  return;
}



void FUN_BATTLE_BIN__8012ee3c(void)

{
  int iVar1;
  undefined *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  iVar1 = 0x78;
  do {
    *(undefined4 *)(iVar1 + -0x7fe914fc) = 0xffffffff;
    iVar1 = iVar1 + -8;
  } while (-1 < iVar1);
  iVar1 = 0x34;
  puVar2 = &DAT_BATTLE_BIN__801720b8;
  do {
    *puVar2 = 0;
    iVar1 = iVar1 + -1;
    puVar2 = puVar2 + -1;
  } while (-1 < iVar1);
  iVar1 = 0;
  puVar4 = &DAT_BATTLE_BIN__80166090;
  puVar3 = &DAT_BATTLE_BIN__80166084;
  do {
    *puVar3 = 0;
    *puVar4 = 0;
    puVar4 = puVar4 + 1;
    iVar1 = iVar1 + 1;
    puVar3 = puVar3 + 1;
  } while (iVar1 < 3);
  return;
}



void FUN_BATTLE_BIN__801328ac(int param_1,int param_2)

{
  undefined uVar1;
  undefined uVar2;
  
  if (param_2 < 0) {
    if (*(char *)(param_1 + 0xc) == *(char *)(param_1 + 0x14)) {
      uVar1 = *(undefined *)(param_1 + 0x15);
      *(undefined *)(param_1 + 0x15) = *(undefined *)(param_1 + 0xd);
      uVar2 = *(undefined *)(param_1 + 0x1d);
      *(undefined *)(param_1 + 0xd) = uVar1;
      *(undefined *)(param_1 + 0x1d) = *(undefined *)(param_1 + 0x25);
      *(undefined *)(param_1 + 0x25) = uVar2;
    }
    else {
      uVar1 = *(undefined *)(param_1 + 0x14);
      *(undefined *)(param_1 + 0x14) = *(undefined *)(param_1 + 0xc);
      uVar2 = *(undefined *)(param_1 + 0x1c);
      *(undefined *)(param_1 + 0xc) = uVar1;
      *(undefined *)(param_1 + 0x1c) = *(undefined *)(param_1 + 0x24);
      *(undefined *)(param_1 + 0x24) = uVar2;
    }
  }
  return;
}



void FUN_BATTLE_BIN__80133048(ushort param_1,undefined2 *param_2)

{
  SVECTOR *pSVar1;
  
  pSVar1 = (SVECTOR *)FUN_BATTLE_BIN__8008c410(param_1);
  if (pSVar1 != (SVECTOR *)0xffffffff) {
    FUN_BATTLE_BIN__8008c550(pSVar1,param_2);
  }
  return;
}



void FUN_BATTLE_BIN__801334a4(void)

{
  byte bVar1;
  BattleUnitData *pBVar2;
  BattleUnitData *pBVar3;
  int iVar4;
  int iVar5;
  byte *pbVar6;
  byte *pbVar7;
  uint UnitID;
  
  FUN_BATTLE_BIN__8014a51c();
  UnitID = 0;
  pbVar7 = DAT_BATTLE_BIN__80173fac;
  do {
    pBVar2 = GetUnitDataPointer(UnitID);
    iVar4 = 0;
    pBVar3 = pBVar2;
    if ((pBVar2->field0_0x0).UnitID == 0xff) {
      *pbVar7 = 0xfe;
LAB_BATTLE_BIN__801334f4:
      pbVar6 = pbVar7 + 1;
    }
    else {
      do {
        bVar1 = (pBVar3->field0_0x0).UnitName[0];
        *pbVar7 = bVar1;
        if ((bVar1 & 0xfe) == 0xfe) goto LAB_BATTLE_BIN__801334f4;
        pbVar6 = pbVar7 + 1;
        if (iVar4 == 0xf) {
          *pbVar6 = 0xfe;
          pbVar6 = pbVar7 + 2;
        }
        iVar5 = iVar4 + 1;
        pBVar3 = (BattleUnitData *)(&(pBVar2->field0_0x0).UnitID + iVar4);
        iVar4 = iVar5;
        pbVar7 = pbVar6;
      } while (iVar5 < 0x10);
    }
    UnitID = UnitID + 1;
    pbVar7 = pbVar6;
    if (0x14 < (int)UnitID) {
      return;
    }
  } while( true );
}



void FUN_BATTLE_BIN__80133fe8(int *param_1)

{
  int iVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  
  iVar4 = 0;
  piVar2 = &DAT_BATTLE_BIN__80173f8c;
  piVar3 = param_1;
  do {
    iVar1 = *piVar3;
    piVar3 = piVar3 + 1;
    iVar4 = iVar4 + 1;
    *piVar2 = (int)param_1 + iVar1 + 0x80;
    piVar2 = piVar2 + 1;
  } while (iVar4 < 0x20);
  return;
}



void FUN_BATTLE_BIN__80134020(void)

{
  if (DAT_BATTLE_BIN__8016791c == 0) {
    FUN_BATTLE_BIN__8014bf54(&DAT_BATTLE_BIN__801721d8,(undefined *)&DAT_BATTLE_BIN__80173f8c,0x80);
    DAT_BATTLE_BIN__8016791c = DAT_BATTLE_BIN__8016791c + 1;
  }
  return;
}



void FUN_BATTLE_BIN__80134074(void)

{
  FUN_BATTLE_BIN__8014bf54((undefined *)&DAT_BATTLE_BIN__80173f8c,&DAT_BATTLE_BIN__801721d8,0x80);
  DAT_BATTLE_BIN__8016791c = 0;
  return;
}



// Possible VS_MONO.OBJ/SsSetMono

void FUN_BATTLE_BIN__801343bc(void)

{
  DAT_BATTLE_BIN__80167970 = 1;
  return;
}



// Possible VS_MONO.OBJ/SsSetStereo
// Possible VM_DOFF.OBJ/SpuVmDamperOff

void FUN_BATTLE_BIN__801343d0(void)

{
  DAT_BATTLE_BIN__80167970 = 0;
  return;
}



// WARNING: Removing unreachable block (ram,0x80136b84)

void FUN_BATTLE_BIN__80136b10(int param_1,uint param_2)

{
  byte bVar1;
  byte bVar2;
  u_short uVar3;
  PrimaryItemData *pPVar4;
  int iVar5;
  
  pPVar4 = Get_Item_DataPointer(param_2);
  bVar1 = pPVar4->SpriteID;
  bVar2 = pPVar4->Palette;
  *(byte *)(param_1 + 0xc) = (bVar1 % 0xf) * '\x10';
  *(byte *)(param_1 + 0xd) = (bVar1 / 0xf) * '\x10' + ' ';
  iVar5 = (int)(uint)bVar2 >> 3;
  uVar3 = GetClut((int)DAT_BATTLE_BIN__80165eb4 + ((uint)bVar2 + iVar5 * -8) * 0x10,
                  DAT_BATTLE_BIN__80165eb6 + iVar5);
  *(u_short *)(param_1 + 0xe) = uVar3;
  *(undefined2 *)(param_1 + 0x10) = 0x10;
  *(undefined2 *)(param_1 + 0x12) = 0x10;
  return;
}



void CreatePortraitPolygon(POLY_FT4 *PortraitFT4,int MiscUnitID)

{
  u_short t;
  BattleUnitData *UnitBattlePointer;
  uint UniquePortraitID;
  uint UnitID;
  int x;
  int y;
  u_char PortraitOffset;
  
  UnitBattlePointer = GetUnitDataPointer(MiscUnitID);
  if ((UnitBattlePointer->field0_0x0).ENTDID == CurUniquePortrait) {
    PortraitFT4->u0 = 0xe0;
    PortraitFT4->v1 = 0xcf;
    PortraitFT4->u1 = 0xff;
    PortraitFT4->v0 = 0xcf;
    PortraitFT4->u2 = 0xe0;
    PortraitFT4->v2 = 0xff;
    PortraitFT4->u3 = 0xff;
    PortraitFT4->v3 = 0xff;
    t = GetTPage(0,0,0x380,0x100);
    x = 0x40;
    y = 0x1fe;
    PortraitFT4->tpage = t;
  }
  else {
    UniquePortraitID = GetUniquePortraitID(MiscUnitID);
    UnitID = GetMiscIDByMiscID(MiscUnitID);
    PortraitOffset = (u_char)(UniquePortraitID << 5);
    if ((int)UniquePortraitID < 8) {
      t = GetTPage(0,0,0x340,0x100);
      PortraitFT4->tpage = t;
    }
    else {
      t = GetTPage(0,0,0x380,0x120);
      PortraitFT4->tpage = t;
      PortraitOffset = '\0';
    }
    PortraitFT4->u0 = 0x80;
    PortraitFT4->u1 = 0x80;
    PortraitFT4->v0 = PortraitOffset + 0x20;
                    // Possible PsyQ macro: setLineG2()
    PortraitFT4->u2 = 'P';
    PortraitFT4->u3 = 'P';
    x = (UnitID & 0xf) << 4;
    PortraitFT4->v3 = PortraitOffset + 0x20;
    y = 0x1ea;
    PortraitFT4->v1 = PortraitOffset;
    PortraitFT4->v2 = PortraitOffset;
    PortraitFT4->v0 = PortraitFT4->v0 + 0xff;
    PortraitFT4->v3 = PortraitFT4->v3 + 0xff;
  }
  t = GetClut(x,y);
  PortraitFT4->clut = t;
  return;
}



// Possible VM_DEBUG.OBJ/SpuVmCheck

void FUN_BATTLE_BIN__8013aedc(undefined2 param_1)

{
  DAT_BATTLE_BIN__80168ef4 = param_1;
  return;
}



undefined4 FUN_BATTLE_BIN__8013b590(uint param_1)

{
  uint uVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  
  uVar4 = *(undefined4 *)PTR_DAT_BATTLE_BIN__80165f9c;
  if (param_1 == 0x22) {
    uVar1 = FUN_BATTLE_BIN__8013b590(0x24);
    uVar2 = FUN_BATTLE_BIN__8013b590(0x23);
    FUN_BATTLE_BIN__8013b644(0x22,(uVar1 & 1) << 0xf | (uVar2 & 7) << 0xc);
  }
  FUN_BATTLE_BIN__8014a018(0xbe,0,0);
  FUN_BATTLE_BIN__8014a018(0xb1,0,param_1);
  uVar3 = *(undefined4 *)PTR_DAT_BATTLE_BIN__80165f9c;
  *(undefined4 *)PTR_DAT_BATTLE_BIN__80165f9c = uVar4;
  return uVar3;
}



void FUN_BATTLE_BIN__8013b644(uint param_1,uint param_2)

{
  undefined4 uVar1;
  
  uVar1 = *(undefined4 *)PTR_DAT_BATTLE_BIN__80165f9c;
  if ((param_1 == 0x2c) && (99999999 < (int)param_2)) {
    param_2 = 99999999;
  }
  FUN_BATTLE_BIN__8014a018(0xbe,param_1,0);
  FUN_BATTLE_BIN__8014a018(0xb0,param_1,param_2);
  *(undefined4 *)PTR_DAT_BATTLE_BIN__80165f9c = uVar1;
  return;
}



void FUN_BATTLE_BIN__8013b6e4(void)

{
  u_short uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined *puVar5;
  
  puVar5 = &DAT_BATTLE_BIN__801739bc;
  uVar1 = GetTPage(0,2,0x3c0,0x100);
  SetDrawMode((DR_MODE *)&DAT_BATTLE_BIN__801739bc,0,0,(uint)uVar1,(RECT *)&DAT_BATTLE_BIN__80165ecc
             );
  SetTile((TILE *)&DAT_BATTLE_BIN__801739c8);
  DAT_BATTLE_BIN__801739cc = 0;
  DAT_BATTLE_BIN__801739cd = 0;
  DAT_BATTLE_BIN__801739ce = 0;
  SetSemiTrans(&DAT_BATTLE_BIN__801739c8,1);
  iVar2 = 0;
  iVar4 = 0xac;
  iVar3 = 0x1c;
  DAT_BATTLE_BIN__801739d0 = 0x80;
  DAT_BATTLE_BIN__801739d2 = 0xac;
  DAT_BATTLE_BIN__801739d4 = 0x100;
  DAT_BATTLE_BIN__801739d6 = 0x32;
  do {
    SetTile((TILE *)(&DAT_BATTLE_BIN__801739bc + iVar3));
    puVar5[0x20] = 0;
    puVar5[0x21] = 0;
    puVar5[0x22] = 0;
    SetSemiTrans((TILE *)(&DAT_BATTLE_BIN__801739bc + iVar3),1);
    *(undefined2 *)(puVar5 + 0x28) = 0x100;
    *(undefined2 *)(puVar5 + 0x2a) = 1;
    *(undefined2 *)(puVar5 + 0x24) = 0x80;
    *(short *)(puVar5 + 0x26) = (short)iVar2 + 0xa3;
    SetTile((TILE *)(&DAT_BATTLE_BIN__801739bc + iVar4));
    puVar5[0xb0] = 0;
    puVar5[0xb1] = 0;
    puVar5[0xb2] = 0;
    SetSemiTrans((TILE *)(&DAT_BATTLE_BIN__801739bc + iVar4),1);
    iVar4 = iVar4 + 0x10;
    *(undefined2 *)(puVar5 + 0xb8) = 0x100;
    *(undefined2 *)(puVar5 + 0xba) = 1;
    *(undefined2 *)(puVar5 + 0xb4) = 0x80;
    *(short *)(puVar5 + 0xb6) = (short)iVar2 + 0xde;
    puVar5 = puVar5 + 0x10;
    iVar2 = iVar2 + 1;
    iVar3 = iVar3 + 0x10;
  } while (iVar2 < 9);
  FUN_BATTLE_BIN__8014bf54(&DAT_BATTLE_BIN__80173af8,&DAT_BATTLE_BIN__801739bc,0x13c);
  return;
}



void FUN_BATTLE_BIN__8013b898(void)

{
  int iVar1;
  int iVar2;
  undefined uVar3;
  undefined *puVar4;
  int iVar5;
  undefined *puVar6;
  int iVar7;
  
  if (DAT_BATTLE_BIN__80166060 != 0) {
    iVar1 = DAT_BATTLE_BIN__80166014 * 0x13c;
    puVar6 = &DAT_BATTLE_BIN__801739bc + iVar1;
    if ((DAT_BATTLE_BIN__80166060 == 1) && (DAT_BATTLE_BIN__80166064 < 0x50)) {
      DAT_BATTLE_BIN__80166064 = DAT_BATTLE_BIN__80166064 + 8;
    }
    iVar5 = DAT_BATTLE_BIN__80166064;
    if ((DAT_BATTLE_BIN__80166060 == 2) &&
       (iVar5 = DAT_BATTLE_BIN__80166064 + -8, DAT_BATTLE_BIN__80166064 == 0)) {
      DAT_BATTLE_BIN__80166060 = 0;
      iVar5 = DAT_BATTLE_BIN__80166064;
    }
    DAT_BATTLE_BIN__80166064 = iVar5;
    iVar5 = 0;
    (&DAT_BATTLE_BIN__801739cc)[iVar1] = (undefined)DAT_BATTLE_BIN__80166064;
    iVar7 = 0xac;
    (&DAT_BATTLE_BIN__801739cd)[iVar1] = (undefined)DAT_BATTLE_BIN__80166064;
    (&DAT_BATTLE_BIN__801739ce)[iVar1] = (undefined)DAT_BATTLE_BIN__80166064;
    iVar1 = DAT_BATTLE_BIN__80166064;
    puVar4 = puVar6;
    do {
      if (iVar1 != 0) {
        iVar1 = iVar1 + -8;
      }
      iVar2 = (8 - iVar5) * 0x10;
      uVar3 = (undefined)iVar1;
      puVar6[iVar2 + 0x20] = uVar3;
      puVar6[iVar2 + 0x21] = uVar3;
      puVar6[iVar2 + 0x22] = uVar3;
      puVar4[0xb0] = uVar3;
      puVar4[0xb1] = uVar3;
      puVar4[0xb2] = uVar3;
      FUN_BATTLE_BIN__8014a5e8((uint *)(puVar6 + iVar2 + 0x1c));
      FUN_BATTLE_BIN__8014a5e8((uint *)(puVar6 + iVar7));
      iVar7 = iVar7 + 0x10;
      iVar5 = iVar5 + 1;
      puVar4 = puVar4 + 0x10;
    } while (iVar5 < 9);
    FUN_BATTLE_BIN__8014a5e8((uint *)(&DAT_BATTLE_BIN__801739c8 + DAT_BATTLE_BIN__80166014 * 0x13c))
    ;
    FUN_BATTLE_BIN__8014a5e8((uint *)(&DAT_BATTLE_BIN__801739bc + DAT_BATTLE_BIN__80166014 * 0x13c))
    ;
  }
  return;
}



void FUN_BATTLE_BIN__8013ba68(uint *param_1,int param_2)

{
  u_short uVar1;
  DR_MODE *p;
  int abr;
  undefined uVar2;
  
  if (param_2 != 0) {
    SetTile((TILE *)param_1);
    SetSemiTrans(param_1,1);
    abr = 2;
    *(undefined2 *)(param_1 + 3) = 0x100;
    *(undefined2 *)((int)param_1 + 0xe) = 0xf0;
    *(undefined *)(param_1 + 1) = 0;
    *(undefined *)((int)param_1 + 5) = 0;
    *(undefined *)((int)param_1 + 6) = 0;
    *(undefined2 *)(param_1 + 2) = 0x80;
    *(undefined2 *)((int)param_1 + 10) = 0;
    if (param_2 < 0) {
      abr = 1;
      param_2 = -param_2;
    }
    uVar1 = GetTPage(0,abr,0x3c0,0x100);
    p = (DR_MODE *)(param_1 + 4);
    SetDrawMode(p,0,0,(uint)uVar1,(RECT *)&DAT_BATTLE_BIN__80165ecc);
    uVar2 = (undefined)param_2;
    *(undefined *)(param_1 + 1) = uVar2;
    *(undefined *)((int)param_1 + 5) = uVar2;
    *(undefined *)((int)param_1 + 6) = uVar2;
    if (DAT_BATTLE_BIN__80165ff2 == 0) {
      FUN_BATTLE_BIN__8014a5e8(param_1);
    }
    else {
      FUN_BATTLE_BIN__8014a5e8((uint *)p);
      p = (DR_MODE *)param_1;
    }
    FUN_BATTLE_BIN__8014a5e8(&p->tag);
    DAT_BATTLE_BIN__801697d0 = 0;
  }
  return;
}



void FUN_BATTLE_BIN__8013ca70(undefined *param_1)

{
  FUN_BATTLE_BIN__8014bf54(&DAT_BATTLE_BIN__8016d95c,param_1,0x20);
  FUN_BATTLE_BIN__8014bf54(&DAT_BATTLE_BIN__8016d97c,param_1 + 0x20,0x20);
  return;
}



void FUN_BATTLE_BIN__8013cac4(void)

{
  FUN_BATTLE_BIN__8013ca70(&DAT_BATTLE_BIN__8014e5d4);
  FUN_BATTLE_BIN__8014a51c();
  return;
}



void FUN_BATTLE_BIN__8013cafc(void)

{
  int iVar1;
  
  if ((DAT_BATTLE_BIN__80166008 == 0) || (DAT_BATTLE_BIN__80169038 != 0)) {
    if ((DAT_BATTLE_BIN__80166008 != 0) && (DAT_BATTLE_BIN__80169038 != 0)) {
      DAT_BATTLE_BIN__80173ca8 = Check_File_Still_Loading;
      iVar1 = FUN_BATTLE_BIN__8014ceb4();
      if (iVar1 == 0) {
        DAT_BATTLE_BIN__80169038 = 0;
        DAT_BATTLE_BIN__80166008 = 0;
      }
    }
  }
  else {
    DAT_BATTLE_BIN__80173ca8 = Call_CalcFileHead_NNL;
    iVar1 = FUN_BATTLE_BIN__8014ceb4();
    if (iVar1 == 0) {
      DAT_BATTLE_BIN__80169038 = 1;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8013cbdc(void)

{
  int iVar1;
  
  if ((DAT_BATTLE_BIN__80166004 == 0) || (DAT_BATTLE_BIN__8016903c != 0)) {
    if ((DAT_BATTLE_BIN__80166004 != 0) && (DAT_BATTLE_BIN__8016903c != 0)) {
      DAT_BATTLE_BIN__80173ca8 = Check_File_Still_Loading;
      iVar1 = FUN_BATTLE_BIN__8014ceb4();
      if (iVar1 == 0) {
        DAT_BATTLE_BIN__8016903c = 0;
        DAT_BATTLE_BIN__80166004 = 0;
      }
    }
  }
  else {
    DAT_BATTLE_BIN__80173ca8 = Call_CalcFileHead_NNL;
    iVar1 = FUN_BATTLE_BIN__8014ceb4();
    if (iVar1 == 0) {
      DAT_BATTLE_BIN__8016903c = 1;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8013ccec(void)

{
  return;
}



void FUN_BATTLE_BIN__8013cf58(uint param_1)

{
  uint uVar1;
  byte *pbVar2;
  undefined *puVar3;
  int iVar4;
  short local_10 [4];
  
  if (DAT_BATTLE_BIN__80165ff6 != 1) {
    if ((((DAT_BATTLE_BIN__80166048 == 0) && (DAT_BATTLE_BIN__8016602c == 0)) &&
        (DAT_BATTLE_BIN__80169200 == 0)) && (param_1 != 0xffffffff)) {
      DAT_BATTLE_BIN__80173cb8 = &DAT_BATTLE_BIN__80166b10;
      DAT_BATTLE_BIN__80165f84 = param_1;
      uVar1 = GetMiscIDByMiscID((int)DAT_BATTLE_BIN__8014d08a);
      FUN_BATTLE_BIN__80133048((ushort)uVar1,local_10);
      iVar4 = 0;
      uVar1 = local_10[0] < 0x101 ^ 1;
      puVar3 = DAT_BATTLE_BIN__80173cb8;
      do {
        pbVar2 = &DAT_BATTLE_BIN__80169190 + uVar1;
        uVar1 = uVar1 + 2;
        if (*pbVar2 != 0) {
          *(ushort *)(puVar3 + 8) = *pbVar2 + 0x80;
        }
        iVar4 = iVar4 + 1;
        puVar3 = puVar3 + 0x3c;
      } while (iVar4 < 0x34);
      FUN_BATTLE_BIN__8013f7b4(param_1);
      *(undefined2 *)(DAT_BATTLE_BIN__80173cb8 + 0x218) = 0;
      DAT_BATTLE_BIN__801669e8 = 0;
      FUN_BATTLE_BIN__8013f76c();
      FUN_BATTLE_BIN__8014c8a0(3,&DAT_BATTLE_BIN__8013ccf4);
      FUN_BATTLE_BIN__8014ca38(3,param_1,0,0);
    }
    DAT_BATTLE_BIN__80169200 = 0;
  }
  return;
}



void FUN_BATTLE_BIN__8013d0ac(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__8014cc94(8);
  if (((iVar2 != 0) || (iVar2 = FUN_BATTLE_BIN__8014cc94(3), iVar2 != 0)) &&
     (DAT_BATTLE_BIN__80165f84 != 10)) {
    DAT_BATTLE_BIN__80169200 = 1;
  }
  if (((DAT_BATTLE_BIN__80166050 == 0) && (DAT_BATTLE_BIN__80165f74 == 0)) &&
     ((bVar1 = FUN_BATTLE_BIN__8008e17c(), CONCAT31(extraout_var,bVar1) == 0 &&
      ((DAT_BATTLE_BIN__8016600c == 0 && (iVar2 = FUN_BATTLE_BIN__8014cc94(3), iVar2 == 0)))))) {
    DAT_BATTLE_BIN__8016602c = 1;
    FUN_BATTLE_BIN__8014c8a0(3,&DAT_BATTLE_BIN__8013c284);
    FUN_BATTLE_BIN__8014ca38(3,0,0,0);
  }
  return;
}



void FUN_BATTLE_BIN__8013d188(void)

{
  DAT_BATTLE_BIN__80166004 = 8;
  return;
}



undefined4 FUN_BATTLE_BIN__8013d19c(void)

{
  undefined4 uVar1;
  
  if (DAT_BATTLE_BIN__80166004 == 0) {
    uVar1 = 0;
  }
  else {
    FUN_BATTLE_BIN__8013cbdc();
    uVar1 = 1;
    if (DAT_BATTLE_BIN__80166004 == 0) {
      FUN_801d7000();
      uVar1 = 0;
    }
  }
  return uVar1;
}



void FUN_BATTLE_BIN__8013d230(void)

{
  int iVar1;
  
  do {
    VSync(0);
    DAT_BATTLE_BIN__80173ca8 = FUN_80043708;
    iVar1 = FUN_BATTLE_BIN__8014ceb4();
  } while (iVar1 != 0);
  return;
}



void FUN_BATTLE_BIN__8013d278(int param_1,int param_2)

{
  FUN_80043f00();
  if (param_1 != 0) {
    DAT_BATTLE_BIN__80173ca8 = FUN_800435c4;
    FUN_BATTLE_BIN__8014ceb4();
    FUN_BATTLE_BIN__8013d230();
  }
  if (param_2 != 0) {
    DAT_BATTLE_BIN__80173ca8 = FUN_800435c4;
    FUN_BATTLE_BIN__8014ceb4();
    FUN_BATTLE_BIN__8013d230();
  }
  if (param_1 != 0) {
    DAT_BATTLE_BIN__80173ca8 = FUN_80043a90;
    FUN_BATTLE_BIN__8014ceb4();
  }
  return;
}



bool FUN_BATTLE_BIN__8013d320(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  DAT_BATTLE_BIN__80166044 = 0;
  FUN_BATTLE_BIN__8013efac();
  FUN_BATTLE_BIN__8013f168();
  FUN_BATTLE_BIN__8013f8b4();
  if (DAT_BATTLE_BIN__80165fda == 2) {
    DAT_BATTLE_BIN__80165fda = 3;
  }
  else {
    DAT_BATTLE_BIN__80173ca8 = Get_DAT_BIN_as_File;
    FUN_BATTLE_BIN__8014ceb4();
  }
  iVar2 = FUN_801c34b4();
  if (DAT_BATTLE_BIN__80165fda != 3) {
    FUN_801c7fe4();
    FUN_801c8004();
  }
  DAT_BATTLE_BIN__80166060 = 0;
  DAT_BATTLE_BIN__80166064 = 0;
  bVar1 = FUN_BATTLE_BIN__8012dc84();
  if (CONCAT31(extraout_var,bVar1) == 0) {
    DAT_BATTLE_BIN__8016603c = 0;
  }
  else {
    DAT_BATTLE_BIN__8016603c = 0xff;
    DAT_BATTLE_BIN__8016d99c = DAT_800473ac;
    DAT_800473ac = DAT_800473ac & 0xe6667e38 | 0x80040;
  }
  FUN_801c3078();
  if (iVar2 == 0) {
    DAT_BATTLE_BIN__80165fd4 = 0;
    DAT_BATTLE_BIN__80165fd6 = 0;
    FUN_BATTLE_BIN__8013d278(0x2a,0);
    FUN_801c9488();
    FUN_801c9ec0();
    FUN_BATTLE_BIN__8014c8a0(6,&DAT_801c3f44);
  }
  else {
    FUN_BATTLE_BIN__8014c8a0(6,&DAT_BATTLE_BIN__8013d1f8);
  }
  return iVar2 != 0;
}



void FUN_BATTLE_BIN__8013d4dc(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__8014cc94(8);
  if (((iVar1 == 0) && (iVar1 = FUN_BATTLE_BIN__8014cc94(7), iVar1 == 0)) &&
     (DAT_BATTLE_BIN__80166048 == 0)) {
    DAT_BATTLE_BIN__80165f84 = 10;
    DAT_BATTLE_BIN__80173cb8 = &DAT_BATTLE_BIN__80166b10;
    FUN_BATTLE_BIN__8014c8a0(8,&DAT_BATTLE_BIN__8013bfbc);
    FUN_BATTLE_BIN__8014ca38(8,DAT_BATTLE_BIN__80173cb8 + 600,0,0);
    DAT_BATTLE_BIN__8016b8b8 = 0x42;
  }
  return;
}



uint FUN_BATTLE_BIN__8013d578(void)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  
  uVar1 = (uint)DAT_BATTLE_BIN__8016604a;
  if (uVar1 == 0) {
    iVar2 = FUN_BATTLE_BIN__8014cc94(3);
    uVar1 = 2;
    if (iVar2 == 0) {
      iVar2 = 4;
      do {
        if ((iVar2 != 3) && (iVar3 = FUN_BATTLE_BIN__8014cc94(iVar2), iVar3 != 0)) break;
        iVar2 = iVar2 + 1;
      } while (iVar2 < 10);
      if (DAT_BATTLE_BIN__80165ff6 == 1) {
        uVar1 = 2;
      }
      else {
        uVar1 = (uint)(iVar2 != 10) << 2;
      }
    }
  }
  return uVar1;
}



void FUN_BATTLE_BIN__8013d610(void)

{
  DAT_BATTLE_BIN__8016604c = 1;
  return;
}



void FUN_BATTLE_BIN__8013d634(int param_1,int param_2,int param_3)

{
  int iVar1;
  
  if (DAT_BATTLE_BIN__80166048 != 1) {
    FUN_BATTLE_BIN__801334a4();
    DAT_BATTLE_BIN__80166060 = (uint)(byte)(&DAT_BATTLE_BIN__80169220)[param_1];
    if (param_2 != 0xff) {
      DAT_BATTLE_BIN__8014d042 = (undefined2)param_2;
      DAT_BATTLE_BIN__8014d08a = DAT_BATTLE_BIN__8014d042;
    }
    if (param_3 != 0xff) {
      DAT_BATTLE_BIN__8014d066 = (undefined2)param_3;
      DAT_BATTLE_BIN__8014d09a = DAT_BATTLE_BIN__8014d066;
    }
    iVar1 = FUN_BATTLE_BIN__8014cc94(2);
    if (iVar1 == 0) {
      FUN_BATTLE_BIN__8014c8a0(2,&DAT_BATTLE_BIN__8013d704);
    }
    FUN_BATTLE_BIN__8014ca38(2,param_1,0,0);
  }
  return;
}



void FUN_BATTLE_BIN__8013da00(int param_1)

{
  DAT_BATTLE_BIN__80165f88 = param_1;
  FUN_BATTLE_BIN__8008dee8(param_1);
  return;
}



void FUN_BATTLE_BIN__8013da70(void)

{
  return;
}



void FUN_BATTLE_BIN__8013efac(void)

{
  FUN_BATTLE_BIN__8013eff4();
  FUN_BATTLE_BIN__8013cac4();
  FUN_BATTLE_BIN__8012e190();
  FUN_BATTLE_BIN__8013f080();
  FUN_BATTLE_BIN__8013f0c0();
  FUN_BATTLE_BIN__8013b6e4();
  return;
}



void FUN_BATTLE_BIN__8013eff4(void)

{
  PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 = &DAT_BATTLE_BIN__8016986c;
  DAT_BATTLE_BIN__80173c98 = &DAT_BATTLE_BIN__8014e614;
  DAT_BATTLE_BIN__80173f5c = &DAT_BATTLE_BIN__8014d5d4;
  DAT_BATTLE_BIN__80173ca4 = &DAT_8004a6bc;
  PTR_DAT_BATTLE_BIN__80165f9c = (undefined *)&DAT_8005771c;
  DAT_BATTLE_BIN__80173cb8 = &DAT_BATTLE_BIN__80166b10;
  DAT_BATTLE_BIN__80173f60 = 0xffffffff;
  DAT_BATTLE_BIN__8016604e = 0;
  DAT_BATTLE_BIN__8016d9c0 = 0;
  DAT_BATTLE_BIN__80173c80 = 0;
  return;
}



void FUN_BATTLE_BIN__8013f080(void)

{
  FUN_BATTLE_BIN__8014a464();
  FUN_BATTLE_BIN__8012e320();
  FUN_BATTLE_BIN__8012e9c0();
  FUN_BATTLE_BIN__8012ee3c();
  FUN_BATTLE_BIN__8014c994();
  return;
}



void FUN_BATTLE_BIN__8013f0c0(void)

{
  undefined4 *puVar1;
  undefined *puVar2;
  undefined4 *unaff_s0;
  
  DAT_BATTLE_BIN__80174010 = 0;
  DAT_BATTLE_BIN__80174012 = 0;
  DAT_BATTLE_BIN__80174014 = 0;
  DAT_BATTLE_BIN__80173c84 = 0x1000;
  DAT_BATTLE_BIN__80173c88 = 0x1000;
  DAT_BATTLE_BIN__80173c8c = 0x1000;
  puVar1 = (undefined4 *)FUN_BATTLE_BIN__800e78c0(0x62,unaff_s0,unaff_s0,0);
  FUN_BATTLE_BIN__8014bf54(&DAT_BATTLE_BIN__80173f6c,(undefined *)puVar1,0x20);
  puVar2 = (undefined *)FUN_BATTLE_BIN__800e78c0(0x61,puVar1,puVar1,0);
  FUN_BATTLE_BIN__8014bf54(&DAT_BATTLE_BIN__80174018,puVar2,0x20);
  return;
}



void FUN_BATTLE_BIN__8013f168(void)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  undefined1 *puVar3;
  int iVar4;
  undefined2 *puVar5;
  
  puVar3 = &DAT_BATTLE_BIN__8016d9dd;
  puVar5 = &DAT_BATTLE_BIN__8016da6c;
  iVar4 = 0;
  do {
    puVar3[-1] = 0;
    puVar3[1] = 0;
    bVar1 = FUN_BATTLE_BIN__8008cbb4((ushort)iVar4);
    if (CONCAT31(extraout_var,bVar1) == 0) {
      *puVar3 = 0xff;
    }
    else {
      iVar2 = FUN_BATTLE_BIN__8008c0ac((ushort)iVar4);
      *puVar3 = (char)iVar2;
    }
    *puVar5 = 0;
    puVar5 = puVar5 + 1;
    iVar2 = iVar4 + 1;
    (&DAT_BATTLE_BIN__8016da98)[iVar4] = 0;
    puVar3 = puVar3 + 7;
    iVar4 = iVar2;
  } while (iVar2 < 0x15);
  return;
}



void FUN_BATTLE_BIN__8013f20c(void)

{
  char cVar1;
  bool bVar2;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  char *pcVar6;
  uint unaff_s2;
  int iVar7;
  ushort *puVar8;
  byte *pbVar9;
  int iVar10;
  undefined2 *puVar11;
  
  pbVar9 = &DAT_BATTLE_BIN__8016d9d8;
  iVar7 = 0;
  pcVar6 = &DAT_BATTLE_BIN__8016d9d9;
  puVar8 = &DAT_BATTLE_BIN__8016da6c;
  puVar11 = &DAT_BATTLE_BIN__8016da98;
  iVar10 = 0;
  do {
    uVar5 = (ushort)iVar7;
    bVar2 = FUN_BATTLE_BIN__8008cbb4(uVar5);
    if (CONCAT31(extraout_var,bVar2) == 0) {
      *puVar11 = 0;
      *puVar8 = 0;
    }
    else {
      if (*puVar8 != 0) {
        bVar2 = FUN_BATTLE_BIN__8008cefc(uVar5);
        if ((CONCAT31(extraout_var_00,bVar2) == 0) &&
           (*(short *)((int)&DAT_BATTLE_BIN__8016da98 + iVar10) != 0)) {
          FUN_BATTLE_BIN__8012da0c(uVar5,(uint)*puVar8);
          *puVar8 = 0;
        }
        *puVar11 = (short)CONCAT31(extraout_var_00,bVar2);
      }
      uVar3 = FUN_BATTLE_BIN__8008c0ac(uVar5);
      if (pcVar6[3] != '\0') {
        if (uVar3 == *pbVar9) {
          pcVar6[3] = '\0';
        }
        else {
          pcVar6[2] = pcVar6[2] + '\x01';
          if (pcVar6[5] == '\0') {
            if ((byte)pcVar6[1] <= (byte)pcVar6[2]) {
              cVar1 = *pcVar6;
              pcVar6[2] = '\0';
              if (cVar1 == '\0') {
                uVar4 = uVar3 + 0xf;
                if (((*pbVar9 - uVar3) + 0x10 & 0xf) <= ((uVar3 - *pbVar9) + 0x10 & 0xf)) {
                  uVar4 = uVar3 + 1;
                }
LAB_BATTLE_BIN__8013f388:
                unaff_s2 = uVar4 & 0xf;
              }
              else {
                if (cVar1 == '\x01') {
                  uVar4 = uVar3 + 1;
                  goto LAB_BATTLE_BIN__8013f388;
                }
                uVar4 = uVar3 + 0xf;
                if (cVar1 == '\x02') goto LAB_BATTLE_BIN__8013f388;
              }
              FUN_BATTLE_BIN__8012db00(iVar7,unaff_s2);
            }
          }
          else {
            pcVar6[5] = pcVar6[5] + -1;
          }
        }
      }
    }
    puVar8 = puVar8 + 1;
    puVar11 = puVar11 + 1;
    iVar10 = iVar10 + 2;
    iVar7 = iVar7 + 1;
    pcVar6 = pcVar6 + 7;
    pbVar9 = pbVar9 + 7;
    if (0x14 < iVar7) {
      return;
    }
  } while( true );
}



void FUN_BATTLE_BIN__8013f3fc(void)

{
  int iVar1;
  
  FUN_BATTLE_BIN__8013f168();
  DAT_BATTLE_BIN__80165fda = 1;
  iVar1 = FUN_BATTLE_BIN__8013b590(0x1fd);
  if (iVar1 != 0) {
    FUN_BATTLE_BIN__80143a9c();
    FUN_BATTLE_BIN__8013f0c0();
    DAT_BATTLE_BIN__80165fdc = 0;
    DAT_BATTLE_BIN__80166054 = 0;
  }
  iVar1 = FUN_BATTLE_BIN__8013b590(0x27);
  if (iVar1 != 0) {
    DAT_BATTLE_BIN__80165fdc = 0;
    DAT_BATTLE_BIN__80166054 = 0;
    FUN_BATTLE_BIN__8008efb4(2,0,0,0,2);
    FUN_BATTLE_BIN__8014c8a0(1,&DAT_BATTLE_BIN__80143b80);
  }
  return;
}



void FUN_BATTLE_BIN__8013f4a8(void)

{
  int iVar1;
  
  FUN_BATTLE_BIN__8013f168();
  iVar1 = FUN_BATTLE_BIN__8014cc94(1);
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80143a9c();
    FUN_BATTLE_BIN__8013f0c0();
    DAT_BATTLE_BIN__80166054 = 0;
    DAT_BATTLE_BIN__80165fdc = 0;
  }
  return;
}



void FUN_BATTLE_BIN__8013f4f8(uint *param_1,uint param_2)

{
  FUN_BATTLE_BIN__80142d58(param_1,param_2);
  FUN_BATTLE_BIN__8014ca1c(6);
  return;
}



uint FUN_BATTLE_BIN__8013f520(uint *param_1,uint param_2)

{
  undefined2 *puVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  uint uVar5;
  
  DAT_BATTLE_BIN__80174048 = DAT_BATTLE_BIN__8019f3ac;
  if (DAT_BATTLE_BIN__80165ff6 != 0) {
    param_2 = DAT_BATTLE_BIN__8016d9b4;
  }
  FUN_BATTLE_BIN__8013f668();
  iVar4 = 3;
  puVar1 = &DAT_BATTLE_BIN__80165eea;
  do {
    *puVar1 = 0xfffe;
    iVar4 = iVar4 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar4);
  FUN_BATTLE_BIN__80142d58(param_1,param_2);
  FUN_BATTLE_BIN__8013b898();
  uVar2 = FUN_BATTLE_BIN__801411b4();
  iVar4 = FUN_BATTLE_BIN__8014cc94(8);
  if ((((iVar4 == 0) || (DAT_BATTLE_BIN__8016b8b8 == 0x42)) &&
      (iVar4 = FUN_BATTLE_BIN__8014cc94(7), iVar4 == 0)) &&
     (iVar4 = FUN_BATTLE_BIN__8014cc94(6), iVar4 == 0)) {
    if (DAT_BATTLE_BIN__8016922a != 1) {
      return uVar2;
    }
    uVar5 = (uint)DAT_BATTLE_BIN__80169228;
    DAT_BATTLE_BIN__8016922a = 0;
  }
  else {
    if (DAT_BATTLE_BIN__8016922a != 0) {
      return uVar2;
    }
    DAT_BATTLE_BIN__8016922a = 1;
    uVar3 = FUN_BATTLE_BIN__8008ded8();
    DAT_BATTLE_BIN__80169228 = (ushort)uVar3;
    uVar5 = 2;
  }
  FUN_BATTLE_BIN__8013da00(uVar5);
  return uVar2;
}



void FUN_BATTLE_BIN__8013f668(void)

{
  byte bVar1;
  short local_10;
  short local_e;
  short local_c;
  
  FUN_BATTLE_BIN__8008df10(&local_10);
  bVar1 = FUN_BATTLE_BIN__8018401c(0,(int)local_10,(int)local_c,(int)local_e);
  DAT_BATTLE_BIN__8014d02c = (ushort)bVar1;
  bVar1 = FUN_BATTLE_BIN__8018401c(3,(int)local_10,(int)local_c,(int)local_e);
  DAT_BATTLE_BIN__8014d032 = (ushort)bVar1;
  bVar1 = FUN_BATTLE_BIN__8018401c(2,(int)local_10,(int)local_c,(int)local_e);
  DAT_BATTLE_BIN__8014d032 = DAT_BATTLE_BIN__8014d032 + (ushort)bVar1 * 2;
  bVar1 = FUN_BATTLE_BIN__8018401c(4,(int)local_10,(int)local_c,(int)local_e);
  DAT_BATTLE_BIN__8014d034 = (ushort)bVar1;
  DAT_BATTLE_BIN__8014d032 = DAT_BATTLE_BIN__8014d032 + (ushort)bVar1 * 2;
  DAT_BATTLE_BIN__8014d02e = (ushort)(byte)(&DAT_8005e950)[(short)DAT_BATTLE_BIN__8014d02c * 2];
  DAT_BATTLE_BIN__8014d030 = (ushort)(byte)(&DAT_8005e951)[(short)DAT_BATTLE_BIN__8014d02c * 2];
  return;
}



void FUN_BATTLE_BIN__8013f76c(void)

{
  byte *pbVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = DAT_BATTLE_BIN__80173cb8;
  iVar3 = 0;
  do {
    pbVar1 = &DAT_BATTLE_BIN__80169230 + iVar3;
    iVar3 = iVar3 + 1;
    *(undefined2 *)((uint)*pbVar1 * 0x3c + iVar2 + 0x38) = 0;
  } while (iVar3 < 0xb);
  return;
}



void FUN_BATTLE_BIN__8013f7b4(uint param_1)

{
  int iVar1;
  int iVar2;
  byte *pbVar3;
  undefined1 *puVar4;
  byte *pbVar5;
  
  iVar1 = 0;
  iVar2 = 0;
  do {
    if (*(ushort *)((int)&DAT_BATTLE_BIN__8014d374 + iVar2) == param_1) break;
    iVar1 = iVar1 + 1;
    iVar2 = iVar2 + 8;
  } while (iVar1 < 0xc);
  if (iVar1 != 0xc) {
    iVar2 = 0;
    puVar4 = &DAT_BATTLE_BIN__8016923c;
    iVar1 = 0;
    pbVar5 = &DAT_BATTLE_BIN__8014d46c + DAT_BATTLE_BIN__8014d08a * 0x11;
    do {
      if (param_1 == (byte)(&DAT_BATTLE_BIN__8016923c)[iVar1]) {
        pbVar3 = puVar4 + 2;
        do {
          if (*pbVar5 == *pbVar3) {
            *pbVar5 = (&DAT_BATTLE_BIN__8016923d)[iVar1];
            break;
          }
          pbVar3 = pbVar3 + 1;
        } while ((int)pbVar3 < (int)(puVar4 + 5));
      }
      puVar4 = puVar4 + 5;
      iVar2 = iVar2 + 1;
      iVar1 = iVar1 + 5;
    } while (iVar2 < 8);
    *(ushort *)(param_1 * 0x3c + DAT_BATTLE_BIN__80173cb8 + 0x38) = (ushort)*pbVar5;
  }
  return;
}



void FUN_BATTLE_BIN__8013f8b4(void)

{
  undefined *puVar1;
  int iVar2;
  int iVar3;
  undefined *puVar4;
  
  iVar3 = 0;
  puVar4 = &DAT_BATTLE_BIN__8014d46c;
  do {
    iVar2 = 0x10;
    puVar1 = puVar4 + 0x10;
    do {
      *puVar1 = 0;
      iVar2 = iVar2 + -1;
      puVar1 = puVar1 + -1;
    } while (-1 < iVar2);
    (&DAT_BATTLE_BIN__8014d46d)[iVar3] = 0xff;
    iVar3 = iVar3 + 0x11;
    puVar4 = puVar4 + 0x11;
  } while (iVar3 < 0x165);
  return;
}



void FUN_BATTLE_BIN__8013f900(uint param_1)

{
  int iVar1;
  BattleUnitData *pBVar2;
  undefined *puVar3;
  
  pBVar2 = GetUnitDataPointer(param_1);
  iVar1 = param_1 * 0x11;
  puVar3 = &DAT_BATTLE_BIN__8014d46c + iVar1;
  do {
    if ((pBVar2->field2_0x18c).AutoBattle == 0) {
      *puVar3 = 0;
      (&DAT_BATTLE_BIN__8014d46d)[iVar1] = 0xff;
    }
    puVar3 = puVar3 + 1;
  } while ((int)puVar3 < iVar1 + -0x7feb2b83);
  return;
}



undefined4 * FUN_BATTLE_BIN__8013f978(void)

{
  return &DAT_BATTLE_BIN__80169828;
}



undefined4 FUN_BATTLE_BIN__80141160(uint param_1)

{
  uint uVar1;
  byte *pbVar2;
  
  if (DAT_BATTLE_BIN__801692b8 != 0xff) {
    pbVar2 = &DAT_BATTLE_BIN__801692b8;
    uVar1 = (uint)DAT_BATTLE_BIN__801692b8;
    do {
      if (uVar1 == param_1) {
        return 1;
      }
      pbVar2 = pbVar2 + 1;
      uVar1 = (uint)*pbVar2;
    } while (uVar1 != 0xff);
  }
  return 0;
}



uint FUN_BATTLE_BIN__801411b4(void)

{
  undefined **ppuVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  
  DAT_BATTLE_BIN__80169828 = (uint)DAT_BATTLE_BIN__80165ee4;
  uVar3 = (uint)DAT_BATTLE_BIN__80165ee6;
  uVar7 = (uint)DAT_BATTLE_BIN__80165ee8;
  uVar5 = uVar3;
  if ((DAT_BATTLE_BIN__80169828 != 0x12) && (iVar6 = 0, (DAT_BATTLE_BIN__80169828 & 0xfe) != 0xfe))
  {
    ppuVar1 = &PTR_DAT_BATTLE_BIN__8014d32c_BATTLE_BIN__8014d378;
    iVar2 = 0;
    do {
      uVar4 = uVar3;
      if (DAT_BATTLE_BIN__80165f84 == *(ushort *)((int)&DAT_BATTLE_BIN__8014d374 + iVar2)) {
        if (DAT_BATTLE_BIN__80169828 == 0xff) {
          DAT_BATTLE_BIN__80169828 = (uint)(byte)**ppuVar1;
        }
        else if (DAT_BATTLE_BIN__80165f84 == 0x69) {
          DAT_BATTLE_BIN__80169834 = DAT_BATTLE_BIN__80165f7c;
          DAT_BATTLE_BIN__80169828 = DAT_BATTLE_BIN__80165f78;
          uVar4 = 0xfffe;
        }
        else if ((DAT_BATTLE_BIN__80165f84 == 0x19) || (99 < (int)DAT_BATTLE_BIN__80165f84)) {
          DAT_BATTLE_BIN__80169828 = (uint)(byte)(*ppuVar1)[uVar3 + 1];
          uVar4 = 0xfffe;
        }
        else {
          DAT_BATTLE_BIN__80169828 = (uint)(byte)(*ppuVar1)[DAT_BATTLE_BIN__80169828 + 1];
        }
        break;
      }
      ppuVar1 = ppuVar1 + 2;
      iVar6 = iVar6 + 1;
      iVar2 = iVar2 + 8;
    } while (iVar6 < 0x1f);
    if (iVar6 == 0x1f) {
      DAT_BATTLE_BIN__80169828 = 7;
    }
    uVar5 = DAT_BATTLE_BIN__80169828;
    if ((0xf < iVar6) && (uVar5 = DAT_BATTLE_BIN__8014d314, DAT_BATTLE_BIN__80169828 - 5 < 2)) {
      DAT_BATTLE_BIN__80169836 = (undefined)DAT_BATTLE_BIN__80169828;
    }
    DAT_BATTLE_BIN__8014d314 = uVar5;
    if (DAT_BATTLE_BIN__80169828 == 1) {
      DAT_BATTLE_BIN__8014d324 = 1;
    }
    if (DAT_BATTLE_BIN__80169828 == 0xc) {
      if (uVar4 < 3) {
        DAT_BATTLE_BIN__80169828 = (uVar4 - 1) * 2 + uVar7 + 0xc;
      }
      else {
        DAT_BATTLE_BIN__80169828 = uVar4 + 0xd;
      }
      uVar4 = 0xfffe;
      uVar7 = 0xfffe;
      DAT_BATTLE_BIN__8014d314 = DAT_BATTLE_BIN__80169828;
    }
    uVar5 = uVar4 & 0xff;
    if ((uVar4 & 0xfe) != 0xfe) {
      DAT_BATTLE_BIN__8016982d = *(byte *)(uVar3 + 0x80174060);
      uVar5 = (uint)DAT_BATTLE_BIN__8016982d;
      if (((uVar5 - 1 < 2) || (uVar5 - 3 < 2)) || (uVar5 - 0x11 < 2)) {
        DAT_BATTLE_BIN__8016982e = 0;
        uVar7 = 0xfffe;
      }
      else if ((uVar5 == 0xbc) && (DAT_BATTLE_BIN__80169840 == 0)) {
        uVar7 = (uint)DAT_BATTLE_BIN__8016e428;
      }
      else {
        uVar7 = *(ushort *)(uVar7 * 2 + DAT_BATTLE_BIN__80174048) & 0x1ff;
      }
      DAT_BATTLE_BIN__8014d30c = uVar5;
      if (uVar7 != 0xfffe) {
        DAT_BATTLE_BIN__8014d310 = uVar7;
        if ((uVar5 == 6) || (uVar5 - 0x13 < 2)) {
          DAT_BATTLE_BIN__80169834 = (undefined)uVar7;
        }
        else {
          DAT_BATTLE_BIN__8016982e = (undefined2)uVar7;
        }
      }
    }
  }
  return DAT_BATTLE_BIN__80169828 | uVar5 << 8 | uVar7 << 0x10;
}



void FUN_BATTLE_BIN__80141654(undefined4 param_1)

{
  FUN_BATTLE_BIN__8013f76c();
  FUN_BATTLE_BIN__8014c8a0(4,&DAT_BATTLE_BIN__80141464);
  FUN_BATTLE_BIN__8014ca38(4,param_1,0,0);
  return;
}



void FUN_BATTLE_BIN__8014171c(byte param_1,uint param_2)

{
  BattleUnitData *pBVar1;
  
  pBVar1 = GetUnitDataPointer(param_2);
  (pBVar1->field2_0x18c).MainTargetID = param_1;
  (pBVar1->field2_0x18c).AutoBattle = (byte)DAT_BATTLE_BIN__8014d314;
  return;
}



void FUN_BATTLE_BIN__8014175c(int param_1,uint param_2,int param_3)

{
  JobID JVar1;
  BattleUnitData *pBVar2;
  int iVar3;
  uint uVar4;
  PrimaryAbilityData *local_20;
  SecondaryAbilityData *local_1c;
  
  Get_AbilityPointers_and_Type(*(ushort *)(param_1 + 2) & 0x1ff,&local_20,&local_1c);
  pBVar2 = GetUnitDataPointer(param_2);
  if (*(byte *)(param_1 + 1) == 0) {
    iVar3 = 1;
  }
  else {
    iVar3 = FUN_BATTLE_BIN__80141160((uint)*(byte *)(param_1 + 1));
  }
  if ((*(SkillsetID *)(param_1 + 1) == (pBVar2->field0_0x0).PrimarySkillset) &&
     ((*(ushort *)&(pBVar2->field0_0x0).MapY >> 0xc & 2) != 0)) {
    iVar3 = 1;
  }
  if ((*(SkillsetID *)(param_1 + 1) == (pBVar2->field0_0x0).SecondarySkillset) &&
     ((*(ushort *)&(pBVar2->field0_0x0).MapY >> 0xc & 1) != 0)) {
    iVar3 = 1;
  }
  if ((((iVar3 == 0) && (DAT_BATTLE_BIN__8014d308 != (*(ushort *)(param_1 + 2) & 0x1ff))) &&
      (JVar1 = (pBVar2->field0_0x0).JobID, JVar1 != Calculator)) &&
     (((JVar1 != Mime && ((short)*(ushort *)(param_1 + 2) < 0x170)) &&
      (((local_1c->field_0x5 & 2) != 0 &&
       ((((pBVar2->field0_0x0).CurrentStatuses.field_0x2 & 0x12) == 0 &&
        ((DAT_800473ac & 0x60000) == 0)))))))) {
    uVar4 = FUN_BATTLE_BIN__8013b590(0x21);
    iVar3 = 5;
    if ((uVar4 & 0xf) < 4) {
      DAT_BATTLE_BIN__8014d308 = *(ushort *)(param_1 + 2) & 0x1ff;
      goto LAB_BATTLE_BIN__80141990;
    }
  }
  if (*(byte *)(param_1 + 1) == 0) {
    iVar3 = 0;
  }
  else {
    iVar3 = FUN_BATTLE_BIN__80141160((uint)*(byte *)(param_1 + 1));
  }
  if ((((iVar3 != 0) || ((local_20->field_0x3 & 0x40) == 0)) || ((DAT_800473ac & 0x60000) != 0)) &&
     ((*(char *)(param_1 + 1) != '\x06' && (*(char *)(param_1 + 1) != '\x14')))) {
    param_3 = 0;
  }
  iVar3 = 7;
LAB_BATTLE_BIN__80141990:
  FUN_BATTLE_BIN__80141b0c(iVar3,0,param_2,0,param_3,param_1);
  return;
}



void FUN_BATTLE_BIN__801419b8(int param_1,uint param_2,uint param_3,uint param_4,int param_5)

{
  int *in_v1;
  
  if ((param_1 != 8) && (param_1 != 6)) {
    in_v1 = FUN_BATTLE_BIN__8008ced0((ushort)param_3);
    if (param_1 == 5) {
      FUN_BATTLE_BIN__8014175c((int)in_v1,param_3,param_5);
      return;
    }
    if (param_1 == 7) {
      param_1 = 7;
      param_2 = 0;
      param_4 = 0;
      param_5 = 0;
    }
  }
  FUN_BATTLE_BIN__80141b0c(param_1,param_2,param_3,param_4,param_5,(int)in_v1);
  return;
}



uint FUN_BATTLE_BIN__80141a8c(uint param_1)

{
  uint uVar1;
  
  GetUnitDataPointer(param_1);
  DAT_BATTLE_BIN__80173ca8 = &DAT_BATTLE_BIN__80180530;
  DAT_BATTLE_BIN__80174044 = (int *)FUN_BATTLE_BIN__8014ceb4();
  if (*DAT_BATTLE_BIN__80174044 + 1U < 2) {
    FUN_800449f8();
  }
  uVar1 = 0xffffffff;
  if (*DAT_BATTLE_BIN__80174044 == 4) {
    uVar1 = (uint)*(byte *)((int)DAT_BATTLE_BIN__80174044 + 0x52);
  }
  return uVar1;
}



undefined4
FUN_BATTLE_BIN__80141b0c(int param_1,uint param_2,uint param_3,uint param_4,int param_5,int param_6)

{
  short sVar1;
  BattleUnitData *pBVar2;
  uint uVar3;
  int iVar4;
  PrimaryItemData *pPVar5;
  uint uVar6;
  undefined4 uVar7;
  int iVar8;
  
  DAT_BATTLE_BIN__80173cb8 = &DAT_BATTLE_BIN__80166b10;
  DAT_BATTLE_BIN__80165f84 = 0xffffffff;
  DAT_BATTLE_BIN__8014d324 = 0;
  pBVar2 = GetUnitDataPointer(param_3);
  if (param_1 == 8) {
    uVar3 = FUN_BATTLE_BIN__8013b590(0x27);
    if ((0xf < uVar3 - 0x19a) && (DAT_BATTLE_BIN__80165ff6 == 0)) {
      if (param_2 == 1) goto LAB_BATTLE_BIN__80141e30;
      iVar4 = FUN_BATTLE_BIN__8014cc94(1);
      iVar8 = 0;
      if (iVar4 == 0) {
        uVar6 = 0;
        DAT_BATTLE_BIN__8014d304 = param_3;
        do {
          uVar6 = uVar6 + 1;
          iVar4 = FUN_BATTLE_BIN__80180b2c(uVar6);
          if (iVar4 == -3) {
            iVar8 = iVar8 + 1;
          }
        } while ((int)uVar6 < 3);
        uVar6 = FUN_BATTLE_BIN__80183374();
        if ((((int)uVar6 < 0) || (iVar8 != 0)) &&
           (iVar4 = FUN_BATTLE_BIN__8013b590(0x1fd), iVar4 == 0)) {
          if (param_2 == 2) {
            DAT_BATTLE_BIN__80173c74 = 400;
            return 2;
          }
          FUN_BATTLE_BIN__8013b644(0x27,400);
          FUN_BATTLE_BIN__8013d634(0,0xff,0xff);
          DAT_BATTLE_BIN__80166048 = 1;
          DAT_BATTLE_BIN__80173cb0 = 1;
          FUN_BATTLE_BIN__8013f3fc();
          return 2;
        }
        if (DAT_BATTLE_BIN__80173cb0 == 0) {
          iVar4 = FUN_BATTLE_BIN__8013b590(0x1fd);
          if (iVar4 != 0) {
            if (param_2 == 2) {
              DAT_BATTLE_BIN__80173c74 = 0x191;
              return 2;
            }
            FUN_BATTLE_BIN__8013d634(0,0xff,0xff);
            DAT_BATTLE_BIN__80166048 = 1;
            iVar4 = FUN_BATTLE_BIN__8013b590(0x1fe);
            if (iVar4 == 0) {
              uVar3 = 0x191;
            }
            else {
              uVar3 = 0x193;
            }
            FUN_BATTLE_BIN__8013b644(0x27,uVar3);
            FUN_BATTLE_BIN__8013f3fc();
            return 2;
          }
          uVar3 = FUN_BATTLE_BIN__80183374();
          if (uVar3 == 0) {
            if (param_2 == 2) {
              DAT_BATTLE_BIN__80173c74 = 0x192;
              return 2;
            }
            FUN_BATTLE_BIN__8013d634(0,0xff,0xff);
            DAT_BATTLE_BIN__80166048 = 1;
            FUN_BATTLE_BIN__8013b644(0x27,0x192);
            DAT_BATTLE_BIN__80173cb0 = 1;
            FUN_BATTLE_BIN__8013f3fc();
            return 2;
          }
        }
        else {
          iVar4 = FUN_BATTLE_BIN__801425b0();
          if (iVar4 != 0) {
            if (param_2 == 2) {
              DAT_BATTLE_BIN__80173c74 = FUN_BATTLE_BIN__8013b590(0x27);
              FUN_BATTLE_BIN__8013b644(0x27,uVar3);
              return 2;
            }
            FUN_BATTLE_BIN__8013d634(0,0xff,0xff);
            DAT_BATTLE_BIN__80166048 = 1;
            FUN_BATTLE_BIN__8013f3fc();
            return 2;
          }
        }
      }
      else {
        FUN_800449f8();
      }
    }
    if (param_2 == 2) {
      return 1;
    }
  }
  else if (param_5 != 0) {
    if (param_1 == 1) {
      uVar7 = 8;
      if ((DAT_BATTLE_BIN__8014d314 == 0) || (DAT_BATTLE_BIN__8014d314 == 0x19)) {
        uVar7 = 7;
        if (param_2 == 2) {
          uVar7 = 0x31;
        }
      }
      else if (DAT_BATTLE_BIN__8014d314 == 1) {
        DAT_BATTLE_BIN__8014d324 = 1;
        uVar7 = 6;
        if (param_2 == 1) {
          uVar7 = 0x29;
        }
      }
      else if (DAT_BATTLE_BIN__8014d314 == 0xc) {
        uVar7 = 0x14;
      }
      else if (DAT_BATTLE_BIN__8014d314 == 0xe) {
        uVar7 = 0x15;
      }
      else if (DAT_BATTLE_BIN__8014d30c == 2) {
        uVar7 = 0x1c;
      }
      goto LAB_BATTLE_BIN__801421b4;
    }
    if (param_1 == 2) {
      FUN_BATTLE_BIN__8012dd1c();
      if (param_2 != 0) {
        if (param_2 == 1) {
          FUN_BATTLE_BIN__80141654(0);
          DAT_BATTLE_BIN__8014d318 = param_1;
          DAT_BATTLE_BIN__8014d31c = param_2;
          return 1;
        }
        if (param_2 != 4) {
          FUN_BATTLE_BIN__8012dd58();
          FUN_BATTLE_BIN__80141654(param_2 + 0xd);
          DAT_BATTLE_BIN__8014d318 = param_1;
          DAT_BATTLE_BIN__8014d31c = param_2;
          return 1;
        }
        FUN_BATTLE_BIN__80141654(0x30);
        DAT_BATTLE_BIN__8014d318 = param_1;
        DAT_BATTLE_BIN__8014d31c = param_2;
        return 1;
      }
    }
    else if (param_1 == 3) {
      if ((DAT_BATTLE_BIN__8014d318 != 2) || (DAT_BATTLE_BIN__8014d31c != 1)) {
        FUN_BATTLE_BIN__80141654(1);
        DAT_BATTLE_BIN__8014d318 = param_1;
        DAT_BATTLE_BIN__8014d31c = param_2;
        return 1;
      }
    }
    else {
      if (param_1 == 4) {
        uVar7 = 0x2f;
        if ((param_2 != 5) && (uVar7 = 0xb, param_2 != 1)) {
          if ((param_2 == 2) || (param_2 == 4)) {
            uVar7 = 0x2d;
            if ((DAT_BATTLE_BIN__8014d310 != 0xfffe) && (DAT_BATTLE_BIN__8014d320 != 0)) {
              uVar7 = 0xc;
            }
          }
          else {
            uVar7 = 0x2e;
            if ((DAT_BATTLE_BIN__8014d310 == 0xfffe) && (DAT_BATTLE_BIN__8014d320 != 0)) {
              uVar7 = 0xd;
            }
          }
        }
        DAT_BATTLE_BIN__8014d324 = 1;
LAB_BATTLE_BIN__801421b4:
        FUN_BATTLE_BIN__80141654(uVar7);
        DAT_BATTLE_BIN__8014d318 = param_1;
        DAT_BATTLE_BIN__8014d31c = param_2;
        return 1;
      }
      if (param_1 == 5) {
        DAT_BATTLE_BIN__8014d308 = *(ushort *)(param_6 + 2) & 0x1ff;
        FUN_BATTLE_BIN__8014c8a0(4,&DAT_BATTLE_BIN__8013bdcc);
        FUN_BATTLE_BIN__8014ca38(4,param_3,DAT_BATTLE_BIN__8014d308,0);
        DAT_BATTLE_BIN__8014d318 = param_1;
        DAT_BATTLE_BIN__8014d31c = param_2;
        return 1;
      }
      if (param_1 == 7) {
        FUN_BATTLE_BIN__8013aedc(0x3c);
        if (ActionMenus[(pBVar2->field1_0x16e).SkillsetOfAttack] != Math) {
          if ((*(char *)(param_6 + 1) == '\x06') || (*(char *)(param_6 + 1) == '\x14')) {
            DAT_BATTLE_BIN__80165ef4 = *(byte *)(param_6 + 8) + 0x3800;
          }
          else {
            uVar3 = *(ushort *)(param_6 + 2) & 0x1ff;
            if (uVar3 - 0x3c < 0x1a) {
              DAT_BATTLE_BIN__80165ef4 = uVar3 + 0xb7c4;
            }
            else {
              DAT_BATTLE_BIN__80165ef4 = uVar3 + 0x7000;
            }
          }
          FUN_BATTLE_BIN__80141654(10);
          DAT_BATTLE_BIN__8014d318 = param_1;
          DAT_BATTLE_BIN__8014d31c = param_2;
          return 1;
        }
        DAT_BATTLE_BIN__80165ef8 = (pBVar2->field1_0x16e).CalcMultAb + 0x7000;
        DAT_BATTLE_BIN__80165ef4 = (pBVar2->field1_0x16e).CalcTypeAb + 0x7000;
        DAT_BATTLE_BIN__80165efc = (short)(pBVar2->field1_0x16e).AttackToUse + 0x7000;
        FUN_BATTLE_BIN__80141654(0x2c);
        DAT_BATTLE_BIN__8014d318 = param_1;
        DAT_BATTLE_BIN__8014d31c = param_2;
        return 1;
      }
      if (param_1 != 6) {
        if (param_1 == 9) {
          uVar7 = 8;
          if (param_2 == 1) {
            uVar7 = 0x16;
          }
          else if (param_2 == 2) {
            uVar7 = 0x17;
          }
          else if (param_2 == 3) {
            uVar7 = 0x20;
          }
          else if (DAT_BATTLE_BIN__8014d314 == 0xc) {
            uVar7 = 0x1a;
          }
          else if (DAT_BATTLE_BIN__8014d314 == 0xe) {
            uVar7 = 0x1b;
          }
          goto LAB_BATTLE_BIN__801421b4;
        }
        if (param_1 != 10) {
          if (param_1 == 0xb) {
            DAT_BATTLE_BIN__80165ef4 = param_2 + 0x7000;
            FUN_BATTLE_BIN__80141654(0x1e);
            DAT_BATTLE_BIN__8014d318 = param_1;
            DAT_BATTLE_BIN__8014d31c = param_2;
            return 1;
          }
          if (param_1 == 0xc) {
            FUN_BATTLE_BIN__80141654(0x1f);
            DAT_BATTLE_BIN__8014d318 = param_1;
            DAT_BATTLE_BIN__8014d31c = param_2;
            return 1;
          }
          if (param_1 == 0xd) {
            FUN_BATTLE_BIN__80141654(0x21);
            DAT_BATTLE_BIN__8014d318 = param_1;
            DAT_BATTLE_BIN__8014d31c = param_2;
            return 1;
          }
          if (param_1 == 0xe) {
            FUN_BATTLE_BIN__80141654(param_2 + 0x22);
            DAT_BATTLE_BIN__8014d318 = param_1;
            DAT_BATTLE_BIN__8014d31c = param_2;
            return 1;
          }
          if (param_1 == 0xf) {
            uVar3 = Get_Equip_Quantity((byte)param_2,1);
            if (uVar3 != 99) {
              Get_Item_DataPointer(param_2);
              DAT_BATTLE_BIN__80165ef4 = param_2;
              (&DAT_800596e0)[param_2] = (&DAT_800596e0)[param_2] + '\x01';
              FUN_BATTLE_BIN__80141654(0x27);
              DAT_BATTLE_BIN__8014d318 = param_1;
              DAT_BATTLE_BIN__8014d31c = param_2;
              return 1;
            }
            Get_Item_DataPointer(param_2);
            DAT_BATTLE_BIN__80165ef4 = param_2;
            DAT_BATTLE_BIN__80165ef8 = param_2;
            pPVar5 = Get_Item_DataPointer(param_2);
            DAT_BATTLE_BIN__80165efc = (uint)((ushort)pPVar5->Price >> 2);
            iVar4 = FUN_BATTLE_BIN__8013b590(0x2c);
            FUN_BATTLE_BIN__8013b644(0x2c,(uint)((ushort)pPVar5->Price >> 2) + iVar4);
            FUN_BATTLE_BIN__80141654(0x26);
            DAT_BATTLE_BIN__8014d318 = param_1;
            DAT_BATTLE_BIN__8014d31c = param_2;
            return 1;
          }
          if (param_1 == 0x10) {
            FUN_BATTLE_BIN__80141654(0x28);
            DAT_BATTLE_BIN__8014d318 = param_1;
            DAT_BATTLE_BIN__8014d31c = param_2;
            return 1;
          }
          if (param_1 != 0x11) {
            FUN_800449f8();
            FUN_BATTLE_BIN__80141654(8);
            DAT_BATTLE_BIN__8014d318 = param_1;
            DAT_BATTLE_BIN__8014d31c = param_2;
            return 0;
          }
          if (6 < param_2 - 0x27) {
            if (param_2 == 0x2e) {
              if ((int)param_4 < 0) {
                param_4 = -param_4;
              }
              DAT_BATTLE_BIN__801696aa = 0x508f;
              DAT_BATTLE_BIN__80165ef4 = param_4;
            }
            else {
              if (param_2 != 0x2f) {
                if (param_2 - 0x1c < 2) {
                  if ((param_4 & 0x8000) == 0) {
                    DAT_BATTLE_BIN__80165ef4 = param_4 + 0x3800;
                    DAT_BATTLE_BIN__801696aa = (short)param_2 + 0x5074;
                  }
                  else {
                    DAT_BATTLE_BIN__80165ef4 = (param_4 & 0xff) + 0x3800;
                    DAT_BATTLE_BIN__801696aa = 0x509b;
                  }
                  goto LAB_BATTLE_BIN__80142494;
                }
                goto LAB_BATTLE_BIN__801424a4;
              }
              DAT_BATTLE_BIN__80165ef4 = param_4 & 0x7f;
              DAT_BATTLE_BIN__801696aa = 0x508e;
            }
            FUN_BATTLE_BIN__80141654(0x32);
            DAT_BATTLE_BIN__8014d318 = param_1;
            DAT_BATTLE_BIN__8014d31c = param_2;
            return 1;
          }
          DAT_BATTLE_BIN__80165ef8 = param_2 + 0x506b;
          uVar3 = param_4 & 0x80;
          if ((param_2 == 0x2d) && (param_4 = 1, uVar3 != 0)) {
            param_4 = 0x81;
          }
          if ((param_4 & 0x80) == 0) {
            DAT_BATTLE_BIN__801696aa = 0x508d;
            DAT_BATTLE_BIN__80165efc = param_4;
          }
          else {
            DAT_BATTLE_BIN__80165efc = param_4 & 0x7f;
            DAT_BATTLE_BIN__801696aa = 0x508c;
          }
          DAT_BATTLE_BIN__80165ef4 = param_3;
          if (param_2 == 0x27) {
            if (param_4 == 0xff) {
              sVar1 = 0x509a;
            }
            else {
              sVar1 = 0x5099;
              if (param_4 != 0x7f) goto LAB_BATTLE_BIN__80142494;
            }
            DAT_BATTLE_BIN__801696aa = sVar1;
          }
LAB_BATTLE_BIN__80142494:
          FUN_BATTLE_BIN__80141654(0x32);
          DAT_BATTLE_BIN__8014d318 = param_1;
          DAT_BATTLE_BIN__8014d31c = param_2;
          return 1;
        }
        if ((DAT_800473ac & 0x180000) == 0) {
          DAT_BATTLE_BIN__80165ef4 = param_4 & 0xff;
          DAT_BATTLE_BIN__80169506 = (short)param_2;
          FUN_BATTLE_BIN__80141654(0x1d);
          DAT_BATTLE_BIN__8014d318 = param_1;
          DAT_BATTLE_BIN__8014d31c = param_2;
          return 1;
        }
      }
    }
LAB_BATTLE_BIN__801424a4:
    FUN_BATTLE_BIN__80141654(8);
    DAT_BATTLE_BIN__8014d318 = param_1;
    DAT_BATTLE_BIN__8014d31c = param_2;
    return 1;
  }
LAB_BATTLE_BIN__80141e30:
  FUN_BATTLE_BIN__80141654(8);
  return 1;
}



BattleUnitData * FUN_BATTLE_BIN__80142508(uint param_1)

{
  BattleUnitData *pBVar1;
  uint uVar2;
  uint local_10 [2];
  
  FUN_BATTLE_BIN__80180c90((byte)param_1,(int *)local_10);
  if ((int)local_10[0] < 0) {
    if (0x48 < param_1 - 1) {
      return (BattleUnitData *)0xffffffff;
    }
    local_10[0] = FUN_BATTLE_BIN__80180b2c(param_1);
    if ((-1 < (int)local_10[0]) &&
       (pBVar1 = GetUnitDataPointer(local_10[0]), (pBVar1->field0_0x0).ENTDID - 0x78 < 5)) {
      return pBVar1;
    }
  }
  else {
    uVar2 = GetMiscIDByMiscID(local_10[0]);
    if (-1 < (int)uVar2) {
      pBVar1 = GetUnitDataPointer(local_10[0]);
      return pBVar1;
    }
  }
  return (BattleUnitData *)0xffffffff;
}



undefined4 FUN_BATTLE_BIN__801425b0(void)

{
  int iVar1;
  int iVar2;
  short *psVar3;
  int iVar4;
  
  iVar4 = 0;
  iVar1 = 0;
  while( true ) {
    iVar1 = (uint)*(ushort *)((int)&DAT_800475e0 + iVar1) << 0x10;
    iVar2 = iVar1 >> 0x10;
    if ((iVar4 != 0) && (iVar2 == 0)) {
      return 0;
    }
    psVar3 = (short *)(&DAT_80049a18 + (iVar2 - (iVar1 >> 0x1f) >> 1) * 2);
    do {
      iVar1 = FUN_BATTLE_BIN__80142694
                        ((int)*psVar3,(int)psVar3[1],(int)psVar3[2],(int)psVar3[3],(int)psVar3[4]);
      psVar3 = psVar3 + (byte)(&DAT_BATTLE_BIN__801696bc)[*psVar3] + 1;
    } while (iVar1 == 1);
    iVar4 = iVar4 + 1;
    if (iVar1 == 2) break;
    iVar1 = iVar4 * 2;
    if (9 < iVar4) {
      return 0;
    }
  }
  return 1;
}



undefined4 FUN_BATTLE_BIN__80142694(int param_1,uint param_2,uint param_3,uint param_4,uint param_5)

{
  bool bVar1;
  uint uVar2;
  int iVar3;
  BattleUnitData *pBVar4;
  BattleUnitData *pBVar5;
  undefined3 extraout_var;
  int iVar6;
  
  if ((param_1 == 1) && (uVar2 = FUN_BATTLE_BIN__8013b590(param_2), uVar2 == param_3)) {
    return 1;
  }
  if (((param_1 != 2) || (iVar3 = FUN_BATTLE_BIN__8013b590(param_2), iVar3 < (int)param_3)) &&
     ((param_1 != 3 || (iVar3 = FUN_BATTLE_BIN__8013b590(param_2), (int)param_3 < iVar3)))) {
    if ((param_1 - 4U < 7) &&
       (pBVar4 = FUN_BATTLE_BIN__80142508(param_2), pBVar4 != (BattleUnitData *)0xffffffff)) {
      if (param_1 == 4) {
        return 1;
      }
      if ((param_1 == 5) && ((int)param_3 <= (int)(uint)(pBVar4->field0_0x0).HP)) {
        return 1;
      }
      if ((param_1 == 6) && ((int)(uint)(pBVar4->field0_0x0).HP <= (int)param_3)) {
        return 1;
      }
      if ((param_1 == 7) &&
         ((int)param_3 <=
          (int)(((uint)(pBVar4->field0_0x0).HP * 100) / ((pBVar4->field0_0x0).MaxHP + 1)))) {
        return 1;
      }
      if ((param_1 == 8) &&
         ((int)(((uint)(pBVar4->field0_0x0).HP * 100) / ((pBVar4->field0_0x0).MaxHP + 1)) <=
          (int)param_3)) {
        return 1;
      }
      if ((param_1 == 9) && ((int)param_3 <= (int)(uint)(ushort)(pBVar4->field0_0x0).MP)) {
        return 1;
      }
      if ((param_1 == 10) && ((int)(uint)(ushort)(pBVar4->field0_0x0).MP <= (int)param_3)) {
        return 1;
      }
    }
    if ((param_1 == 0xb) && (DAT_BATTLE_BIN__8014d304 != 0xff)) {
      pBVar4 = GetUnitDataPointer(DAT_BATTLE_BIN__8014d304);
      if ((pBVar4->field0_0x0).ENTDID == param_2) {
        return 1;
      }
      if (4 < (pBVar4->field0_0x0).ENTDID - 0x78) {
        return 0;
      }
      if ((pBVar4->field0_0x0).BaseClass != param_2) {
        return 0;
      }
      if (0x49 < param_2) {
        return 0;
      }
      if (param_2 == 0) {
        return 0;
      }
      return 1;
    }
    if (param_1 == 0xd) {
      uVar2 = 1;
      do {
        pBVar4 = FUN_BATTLE_BIN__80142508(uVar2);
        if (pBVar4 != (BattleUnitData *)0xffffffff) {
          pBVar5 = pBVar4;
          iVar3 = 0;
          do {
            iVar6 = iVar3 + 1;
            if ((pBVar5->field0_0x0).Head == param_2) {
              return 1;
            }
            pBVar5 = (BattleUnitData *)(&(pBVar4->field0_0x0).UnitID + iVar3);
            iVar3 = iVar6;
          } while (iVar6 < 7);
        }
        uVar2 = uVar2 + 1;
      } while ((int)uVar2 < 4);
    }
    if (((param_1 != 0xe) || (iVar3 = FUN_BATTLE_BIN__8013b590(0x2c), iVar3 < (int)param_3)) &&
       ((param_1 != 0xf || (iVar3 = FUN_BATTLE_BIN__8013b590(0x2c), (int)param_3 < iVar3)))) {
      if (param_1 == 0x10) {
        iVar3 = FUN_BATTLE_BIN__8013b590(0x2e);
        if (iVar3 < (int)param_2) {
          return 1;
        }
        uVar2 = FUN_BATTLE_BIN__8013b590(0x2e);
        if ((uVar2 == param_2) && (iVar3 = FUN_BATTLE_BIN__8013b590(0x2f), iVar3 <= (int)param_3)) {
          return 1;
        }
      }
      if (param_1 == 0x11) {
        iVar3 = FUN_BATTLE_BIN__8013b590(0x2e);
        if ((int)param_2 < iVar3) {
          return 1;
        }
        uVar2 = FUN_BATTLE_BIN__8013b590(0x2e);
        if ((uVar2 == param_2) && (iVar3 = FUN_BATTLE_BIN__8013b590(0x2f), (int)param_3 <= iVar3)) {
          return 1;
        }
      }
      if (((((param_1 != 0x12) || (iVar3 = FUN_BATTLE_BIN__8013b590(0x62), iVar3 < (int)param_2)) &&
           ((param_1 != 0x13 || (iVar3 = FUN_BATTLE_BIN__8013b590(0x62), (int)param_2 < iVar3)))) &&
          ((param_1 != 0x16 || (uVar2 = FUN_BATTLE_BIN__80183374(), uVar2 != 0)))) &&
         ((param_1 != 0x18 ||
          ((((pBVar4 = FUN_BATTLE_BIN__80142508(param_2), pBVar4 == (BattleUnitData *)0xffffffff ||
             ((pBVar4->field0_0x0).MapX != param_3)) || ((pBVar4->field0_0x0).MapY != param_4)) ||
           (*(ushort *)&(pBVar4->field0_0x0).MapY >> 0xf != param_5)))))) {
        if (param_1 == 0x25) {
          iVar3 = 0;
          do {
            bVar1 = FUN_BATTLE_BIN__8008cbb4((ushort)iVar3);
            if ((((CONCAT31(extraout_var,bVar1) != 0) &&
                 (uVar2 = FUN_BATTLE_BIN__8008cdd0((ushort)iVar3), uVar2 != 0xffffffff)) &&
                ((pBVar4 = GetUnitDataPointer(uVar2), (pBVar4->field0_0x0).MapX == param_3 &&
                 (((pBVar4->field0_0x0).MapY == param_4 &&
                  (*(ushort *)&(pBVar4->field0_0x0).MapY >> 0xf == param_5)))))) &&
               ((pBVar4->field0_0x0).TeamPalette == param_2)) {
              return 1;
            }
            iVar3 = iVar3 + 1;
          } while (iVar3 < 0x15);
        }
        if (param_1 != 0x19) {
          return 0;
        }
        FUN_BATTLE_BIN__8013b644(0x27,param_2);
        return 2;
      }
    }
  }
  return 1;
}



undefined2 FUN_BATTLE_BIN__80142b5c(void)

{
  undefined2 uVar1;
  int iVar2;
  
  if (DAT_BATTLE_BIN__80173cb0 == 0) {
    uVar1 = 0;
  }
  else {
    iVar2 = FUN_BATTLE_BIN__8013b590(0x27);
    uVar1 = *(undefined2 *)(&DAT_8004e5d0 + iVar2 * 2);
  }
  return uVar1;
}



uint FUN_BATTLE_BIN__80142ba4(void)

{
  return (*(ushort *)(&DAT_8004e5d0 + DAT_BATTLE_BIN__80173c74 * 2) & 0xf300) >> 8;
}



void FUN_BATTLE_BIN__80142c24(uint *param_1)

{
  uint uVar1;
  uint uVar2;
  
  if (*param_1 == 0x90c) {
    MidState_QuitSound_GetStack();
  }
  uVar2 = *param_1;
  uVar1 = FUN_BATTLE_BIN__8013b590(0x29);
  *param_1 = (uVar1 ^ 0xffff) & *param_1;
  uVar1 = FUN_BATTLE_BIN__8013b590(0x2a);
  *param_1 = uVar2 & 0xffff0000 | uVar1 | *param_1;
  return;
}



void FUN_BATTLE_BIN__80142ca8(void)

{
  if ((DAT_BATTLE_BIN__80165ff6 == 2) && (DAT_BATTLE_BIN__80174038 != 0)) {
    if (DAT_BATTLE_BIN__801697d0 == 0) {
      DAT_BATTLE_BIN__8016d9b8 = 0;
    }
    DAT_BATTLE_BIN__801697d0 = DAT_BATTLE_BIN__8016d9b8;
    if (*(int *)(&DAT_BATTLE_BIN__801698b8 + DAT_BATTLE_BIN__80174038 * 0x400) == 1) {
      DAT_BATTLE_BIN__801697d0 = DAT_BATTLE_BIN__8016d9b4;
    }
  }
  return;
}



void FUN_BATTLE_BIN__80142d2c(uint *param_1)

{
  DAT_BATTLE_BIN__8016d9b4 = *param_1;
  FUN_BATTLE_BIN__80142c24(param_1);
  return;
}



short FUN_BATTLE_BIN__80142d58(uint *param_1,uint param_2)

{
  byte bVar1;
  bool bVar2;
  ushort uVar3;
  short sVar4;
  int iVar5;
  undefined2 extraout_var_00;
  undefined3 extraout_var;
  undefined4 uVar6;
  uint uVar7;
  int iVar8;
  RECT local_18;
  
  DAT_BATTLE_BIN__80174048 = DAT_BATTLE_BIN__8019f3ac;
  if (DAT_BATTLE_BIN__80165ff2 != 0) {
    DrawSync(0);
    local_18.w = 0x100;
    local_18.x = 0;
    local_18.h = 0xf0;
    local_18.y = ((ushort)ScreenPolarity & 1) * 0xf0;
    LoadImage(&local_18,(u_long *)PTR_DAT_80010010);
  }
  DAT_BATTLE_BIN__80173f44 = param_1;
  FUN_BATTLE_BIN__8013ba68
            ((uint *)(DAT_BATTLE_BIN__80166014 * 0x1c + -0x7fe8c3cc),DAT_BATTLE_BIN__8016603c);
  FUN_BATTLE_BIN__80143a9c();
  FUN_BATTLE_BIN__8012e65c();
  iVar8 = 1;
  if (DAT_BATTLE_BIN__8016d9c0 != 0) {
    do {
      iVar5 = FUN_BATTLE_BIN__8014cc94(iVar8);
      if (iVar5 != 0) break;
      iVar8 = iVar8 + 1;
    } while (iVar8 < 0x10);
    if (iVar8 == 0x10) {
      uVar3 = FUN_BATTLE_BIN__80142b5c();
      if (CONCAT22(extraout_var_00,uVar3) == 0) {
        DAT_BATTLE_BIN__80166048 = 0;
        DAT_BATTLE_BIN__8016d9c0 = 0;
        return 0;
      }
      iVar8 = FUN_BATTLE_BIN__8013b590(0x1fc);
      if (iVar8 != 0) {
        DAT_BATTLE_BIN__8016d9c0 = 0;
        FUN_BATTLE_BIN__8013b644(0x1fc,0);
        return 9;
      }
      iVar8 = FUN_BATTLE_BIN__8013b590(0x27);
      if (iVar8 == 0x147) {
        return 0x13;
      }
      FUN_BATTLE_BIN__8013b644(0x27,(int)(uVar3 & 0xc00) >> 2 | uVar3 & 0xff);
      iVar8 = (int)(uVar3 & 0xf300) >> 8;
      DAT_BATTLE_BIN__8016d9c0 = 0;
      DAT_BATTLE_BIN__80166048 = 0;
      if (iVar8 == 0x80) {
        DAT_BATTLE_BIN__80166048 = 0;
        DAT_BATTLE_BIN__8016d9c0 = 0;
        return 9;
      }
      if (iVar8 == 0x81) {
        DAT_BATTLE_BIN__80166048 = 0;
        DAT_BATTLE_BIN__8016d9c0 = 0;
        return 10;
      }
      if (iVar8 == 0x82) {
        DAT_BATTLE_BIN__80166048 = 0;
        DAT_BATTLE_BIN__8016d9c0 = 0;
        return 0xb;
      }
      FUN_BATTLE_BIN__8013b644(0x27,0);
      FUN_BATTLE_BIN__8013b644(0x32,0);
      DAT_800459dc = 4;
      return 9;
    }
    DAT_BATTLE_BIN__8016d9c0 = 0;
  }
  FUN_BATTLE_BIN__8012df98(param_2);
  if (DAT_BATTLE_BIN__80165ff6 == 2) {
    DAT_BATTLE_BIN__8016d9b4 = DAT_BATTLE_BIN__801697d0;
    FUN_BATTLE_BIN__80142c24((uint *)&DAT_BATTLE_BIN__801697d0);
    DAT_BATTLE_BIN__8016d9b8 = DAT_BATTLE_BIN__801697d0;
    FUN_BATTLE_BIN__8013b644(0x2a,0);
  }
  if (2 < DAT_BATTLE_BIN__80165fde) {
    DAT_BATTLE_BIN__80165fde = 0;
  }
  if (2 < DAT_BATTLE_BIN__80165fe0) {
    DAT_BATTLE_BIN__80165fe0 = 0;
    DAT_BATTLE_BIN__8016605c = 1;
  }
  DAT_BATTLE_BIN__80174054 = 0xffff;
  DAT_BATTLE_BIN__80173f68 = 0xffff;
  DAT_BATTLE_BIN__80173f64 = 0xffff;
  DAT_BATTLE_BIN__8017405c = 0xffff;
  DAT_BATTLE_BIN__80173cb4 = 0xffff;
  DAT_BATTLE_BIN__80165fb8 = 0xffff;
  DAT_BATTLE_BIN__80165fc8 = 0xffff;
  DAT_BATTLE_BIN__80165fca = 0xffff;
  DAT_BATTLE_BIN__80173c9c = 0xffffffff;
  DAT_BATTLE_BIN__80173f4c = 0xffffffff;
  DAT_BATTLE_BIN__80173f50 = 0xffffffff;
  DAT_BATTLE_BIN__80173ca0 = 0xffffffff;
  DAT_BATTLE_BIN__80173cac = 0xffffffff;
  DAT_BATTLE_BIN__80173f48 = 0xffffffff;
  DAT_BATTLE_BIN__80165fb4 = 0xffffffff;
  DAT_BATTLE_BIN__80165fc0 = 0xffffffff;
  DAT_BATTLE_BIN__8016d9bc = 0;
  DAT_BATTLE_BIN__80165fe2 = 0;
  DAT_BATTLE_BIN__80165fe4 = 0;
  if (DAT_BATTLE_BIN__8016600c == 3) {
    DAT_BATTLE_BIN__8016d9c4 = (void *)JOBSTTS_Entrypoint((int)(short)DAT_BATTLE_BIN__8014d08a);
    if (DAT_BATTLE_BIN__8016d9c4 == (void *)0x0) {
      DAT_BATTLE_BIN__8016600c = 0;
    }
    else {
      AddPrims(DAT_BATTLE_BIN__80173f44,DAT_BATTLE_BIN__8016d9c4,
               (void *)((int)DAT_BATTLE_BIN__8016d9c4 + 0xfc));
    }
  }
  if (DAT_BATTLE_BIN__8016600c == 4) {
    DAT_BATTLE_BIN__8016d9c4 = (void *)FUN_801bf7e0();
    if (DAT_BATTLE_BIN__8016d9c4 < (void *)0x2) {
      DAT_BATTLE_BIN__8016600c = 0;
    }
    else {
      AddPrims(DAT_BATTLE_BIN__80173f44,DAT_BATTLE_BIN__8016d9c4,
               (void *)((int)DAT_BATTLE_BIN__8016d9c4 + 0xfc));
    }
  }
  bVar2 = FUN_BATTLE_BIN__8012dc84();
  iVar8 = 1;
  if (((CONCAT31(extraout_var,bVar2) == 0) && (DAT_BATTLE_BIN__801697d0 != 0x100)) &&
     (DAT_BATTLE_BIN__801697d0 != 0)) {
    DAT_BATTLE_BIN__80166050 = 5;
  }
  do {
    uVar6 = FUN_BATTLE_BIN__8014cc94(iVar8);
    *(char *)(iVar8 + -0x7fe9253c) = (char)uVar6;
    iVar8 = iVar8 + 1;
  } while (iVar8 < 0x10);
  iVar8 = 1;
  FUN_BATTLE_BIN__8014ca80();
  do {
    bVar1 = *(byte *)(iVar8 + -0x7fe9253c);
    uVar7 = FUN_BATTLE_BIN__8014cc94(iVar8);
    iVar8 = iVar8 + 1;
    if (bVar1 != uVar7) {
      DAT_BATTLE_BIN__80166050 = 5;
    }
  } while (iVar8 < 0x10);
  if (DAT_BATTLE_BIN__80166050 != 0) {
    DAT_BATTLE_BIN__80166050 = DAT_BATTLE_BIN__80166050 + -1;
  }
  FUN_BATTLE_BIN__801439c0();
  DAT_BATTLE_BIN__80166010 = DAT_BATTLE_BIN__80166010 + 1;
  DAT_BATTLE_BIN__80166014 = DAT_BATTLE_BIN__80166014 + 1 & 1;
  if (DAT_BATTLE_BIN__80166052 != 0) {
    DAT_BATTLE_BIN__80166052 = DAT_BATTLE_BIN__80166052 + -1;
  }
  FUN_BATTLE_BIN__8013da70();
  sVar4 = DAT_BATTLE_BIN__80173c80;
  if (DAT_BATTLE_BIN__80173c80 == 0) {
    if (DAT_BATTLE_BIN__8016600c == 1) {
      FUN_BATTLE_BIN__8013ccec();
      DAT_BATTLE_BIN__8016600c = 0;
    }
    else if (DAT_BATTLE_BIN__8016600c == 2) {
      FUN_BATTLE_BIN__8013da00(1);
      iVar8 = BUNIT_Entrypoint();
      FUN_BATTLE_BIN__8008e1f8((ushort)iVar8);
      DAT_BATTLE_BIN__8016600c = 0;
      DAT_BATTLE_BIN__8014d08a = (ushort)iVar8;
    }
    else if (DAT_BATTLE_BIN__8016600c == 5) {
      FUN_BATTLE_BIN__8013da00(1);
      uVar6 = ScreenPolarity;
      FUN_BATTLE_BIN__8013b644(0x51,1);
      FUN_801bf3b8();
      DAT_BATTLE_BIN__8016600c = 0;
      ScreenPolarity = uVar6;
    }
    FUN_BATTLE_BIN__8013cbdc();
    FUN_BATTLE_BIN__8013cafc();
    FUN_BATTLE_BIN__80143418();
    FUN_BATTLE_BIN__8014a82c();
    sVar4 = 1;
    if (DAT_BATTLE_BIN__80165ff6 != 1) {
      iVar8 = 1;
      if (DAT_BATTLE_BIN__80165ff6 == 2) {
        sVar4 = 0;
      }
      else {
        do {
          iVar5 = FUN_BATTLE_BIN__8014cc94(iVar8);
          if (iVar5 != 0) break;
          iVar8 = iVar8 + 1;
        } while (iVar8 < 0x10);
        sVar4 = 1;
        if (iVar8 == 0x10) {
          DAT_BATTLE_BIN__8016d9c0 = 1;
          sVar4 = 1;
        }
      }
    }
  }
  return sVar4;
}



void FUN_BATTLE_BIN__80143418(void)

{
  short sVar1;
  bool bVar2;
  int iVar3;
  undefined3 extraout_var;
  uint uVar4;
  ushort uVar5;
  
  FUN_BATTLE_BIN__8013f20c();
  if (DAT_BATTLE_BIN__80174054 != -1) {
    FUN_BATTLE_BIN__8008c2dc((int)DAT_BATTLE_BIN__80174054,0x10);
  }
  if (DAT_BATTLE_BIN__8017405c != -1) {
    FUN_BATTLE_BIN__8008c320((int)DAT_BATTLE_BIN__8017405c,0x10);
  }
  if (DAT_BATTLE_BIN__8016d9bc != 0) {
    FUN_BATTLE_BIN__8008c364((int)DAT_BATTLE_BIN__8016d9bc);
  }
  if (DAT_BATTLE_BIN__80165fe2 != 0) {
    FUN_BATTLE_BIN__8008e0bc((uint)DAT_BATTLE_BIN__80173c94,(uint)DAT_BATTLE_BIN__80173c96);
    DAT_BATTLE_BIN__8016606e = 1;
  }
  if (DAT_BATTLE_BIN__80165fe4 != 0) {
    FUN_BATTLE_BIN__8008e11c((uint)DAT_BATTLE_BIN__80174058,(uint)DAT_BATTLE_BIN__8017405a);
    DAT_BATTLE_BIN__80166070 = 1;
  }
  if (DAT_BATTLE_BIN__8016606e != 0) {
    DAT_BATTLE_BIN__8016606e = FUN_BATTLE_BIN__8008e0f0((uint)DAT_BATTLE_BIN__80173c94);
  }
  if (DAT_BATTLE_BIN__80166070 != 0) {
    DAT_BATTLE_BIN__80166070 = FUN_BATTLE_BIN__8008e150((uint)DAT_BATTLE_BIN__80174058);
  }
  if (DAT_BATTLE_BIN__8016606c != 0) {
    iVar3 = FUN_BATTLE_BIN__800f4acc(3);
    DAT_BATTLE_BIN__8016606c = (short)iVar3;
  }
  if (DAT_BATTLE_BIN__80165fde == 1) {
    bVar2 = FUN_BATTLE_BIN__8008e068();
    iVar3 = CONCAT31(extraout_var,bVar2);
LAB_BATTLE_BIN__801435a0:
    if (iVar3 == 0) {
      DAT_BATTLE_BIN__80165fde = DAT_BATTLE_BIN__80165fde + 1;
    }
  }
  else if (DAT_BATTLE_BIN__80165fde == 2) {
    iVar3 = FUN_BATTLE_BIN__8008e094();
    goto LAB_BATTLE_BIN__801435a0;
  }
  if ((DAT_BATTLE_BIN__80165fe0 == 1) && (DAT_BATTLE_BIN__8016605c == 0)) {
    uVar4 = FUN_BATTLE_BIN__8013b590(0x33);
    FUN_BATTLE_BIN__800f3718(uVar4,0x99);
  }
  else {
    if (DAT_BATTLE_BIN__80165fe0 != 2) goto LAB_BATTLE_BIN__80143644;
    uVar4 = FUN_BATTLE_BIN__8013b590(0x33);
    iVar3 = FUN_BATTLE_BIN__800f3718(uVar4,0x9c);
    if (iVar3 != 0x9b) goto LAB_BATTLE_BIN__80143644;
  }
  DAT_BATTLE_BIN__80165fe0 = DAT_BATTLE_BIN__80165fe0 + 1;
LAB_BATTLE_BIN__80143644:
  if (DAT_BATTLE_BIN__8016605c == 2) {
    DAT_BATTLE_BIN__8016605c = 3;
    FUN_BATTLE_BIN__800f0be0(0x9a,1,1,1);
  }
  else if (DAT_BATTLE_BIN__8016605c == 3) {
    uVar4 = FUN_BATTLE_BIN__8013b590(0x33);
    iVar3 = FUN_BATTLE_BIN__800f3718(uVar4,0x76);
    if (iVar3 == 0) {
      DAT_BATTLE_BIN__8016605c = 0;
    }
  }
  if (DAT_BATTLE_BIN__80173f68 != 0xffff) {
    uVar5 = DAT_BATTLE_BIN__80173f68 & 0xf;
    if ((DAT_BATTLE_BIN__80173f68 & 0xf00) == 0) {
      DAT_BATTLE_BIN__80173f68 = 0xffff;
    }
    else {
      DAT_BATTLE_BIN__80173f68 = uVar5;
      if ((DAT_BATTLE_BIN__800b6698 & 1) != 0) {
        DAT_BATTLE_BIN__80173f68 = uVar5 + 5;
      }
      FUN_BATTLE_BIN__800eeaf8((&DAT_BATTLE_BIN__801696e4)[(short)DAT_BATTLE_BIN__80173f68 * 2]);
    }
  }
  if ((int)DAT_BATTLE_BIN__80173f64 != 0xffffffff) {
    FUN_BATTLE_BIN__8013b644(0x24,(int)DAT_BATTLE_BIN__80173f64);
    FUN_BATTLE_BIN__800eeaf8(0x8b);
  }
  if (DAT_BATTLE_BIN__80173cb4 != -1) {
    iVar3 = 0;
    if (DAT_BATTLE_BIN__80166000 == 2) {
      iVar3 = 2;
    }
    FUN_BATTLE_BIN__8008dd10
              ((int)DAT_BATTLE_BIN__80173cb4,iVar3,(ushort *)(uint)DAT_BATTLE_BIN__80165ff8);
  }
  if (DAT_BATTLE_BIN__8016604e != 0) {
    DAT_BATTLE_BIN__8016604e = FUN_BATTLE_BIN__8008d104();
  }
  if (-1 < DAT_BATTLE_BIN__80173c9c) {
    FUN_BATTLE_BIN__8008d2a0(DAT_BATTLE_BIN__80173c9c,DAT_BATTLE_BIN__8017400c);
  }
  if (-1 < DAT_BATTLE_BIN__80173f4c) {
    FUN_BATTLE_BIN__8008d5c8(DAT_BATTLE_BIN__80173f4c);
  }
  if (-1 < DAT_BATTLE_BIN__80173f50) {
    FUN_BATTLE_BIN__8008d650(DAT_BATTLE_BIN__80173f50);
  }
  if (-1 < DAT_BATTLE_BIN__80173ca0) {
    FUN_BATTLE_BIN__8008d6a8(DAT_BATTLE_BIN__80173ca0);
  }
  if (-1 < (int)DAT_BATTLE_BIN__80173cac) {
    FUN_BATTLE_BIN__8008d708
              ((DAT_BATTLE_BIN__80173cac & 0xff00) >> 8,DAT_BATTLE_BIN__80173cac & 0xff);
  }
  if (-1 < DAT_BATTLE_BIN__80173f48) {
    FUN_BATTLE_BIN__8008d8e4(DAT_BATTLE_BIN__80173f48);
  }
  if (DAT_BATTLE_BIN__80165fb4 != 0xffffffff) {
    Call_Play_Sound(DAT_BATTLE_BIN__80165fb4);
  }
  if (-1 < DAT_BATTLE_BIN__80165fc8) {
    FUN_80043a38();
    DAT_BATTLE_BIN__80165fd8 = DAT_BATTLE_BIN__80165fd8 ^ 1;
    sVar1 = DAT_BATTLE_BIN__80165fd6;
    if (DAT_BATTLE_BIN__80165fd8 == 0) {
      sVar1 = DAT_BATTLE_BIN__80165fd4;
    }
    if (sVar1 != 0) {
      iVar3 = FUN_BATTLE_BIN__8012db90((uint)DAT_BATTLE_BIN__80173f54);
      FUN_80043a90(DAT_BATTLE_BIN__80165fd8 + 1,iVar3,DAT_BATTLE_BIN__80173f56 << 2);
    }
  }
  if (-1 < DAT_BATTLE_BIN__80165fca) {
    FUN_80043a38();
    FUN_800439c0((int)DAT_BATTLE_BIN__80165fca);
  }
  if (DAT_BATTLE_BIN__80165fb8 != -1) {
    FUN_80043f50();
    FUN_80043f88((int)DAT_BATTLE_BIN__80165fb8);
  }
  if (DAT_BATTLE_BIN__80165fc0 != 0xffffffff) {
    FUN_80043be8(DAT_BATTLE_BIN__80165fc0 & 0xffff,
                 (ushort)(DAT_BATTLE_BIN__80165fc0 >> 0xe) & 0x3ffc);
  }
  return;
}



void FUN_BATTLE_BIN__801439c0(void)

{
  DAT_BATTLE_BIN__8016e404 = *(undefined2 *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x74);
  DAT_BATTLE_BIN__8016e406 = *(undefined2 *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x78);
  DAT_BATTLE_BIN__8016e408 = *(undefined2 *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x7c);
  FUN_BATTLE_BIN__8008ba60(&DAT_BATTLE_BIN__8016e404);
  DAT_BATTLE_BIN__8016e3f0 = *(undefined4 *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x80);
  DAT_BATTLE_BIN__8016e3f4 = *(int *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x80);
  DAT_BATTLE_BIN__8016e3f8 = *(undefined4 *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x80);
  FUN_BATTLE_BIN__8008b834(&DAT_BATTLE_BIN__8016e3f0);
  DAT_BATTLE_BIN__8016e3f0 = *(undefined4 *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x68);
  DAT_BATTLE_BIN__8016e3f4 =
       (uint)DAT_BATTLE_BIN__80165ff0 * 0x1000 + *(int *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x6c);
  DAT_BATTLE_BIN__8016e3f8 = *(undefined4 *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x70);
  FUN_BATTLE_BIN__8008b30c(&DAT_BATTLE_BIN__8016e3f0);
  return;
}



void FUN_BATTLE_BIN__80143a9c(void)

{
  undefined *puVar1;
  
  DAT_BATTLE_BIN__8016e414 = FUN_BATTLE_BIN__8008ba50();
  puVar1 = PTR_DAT_BATTLE_BIN__80165f9c;
  *(int *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x74) = (int)*DAT_BATTLE_BIN__8016e414;
  *(int *)(puVar1 + 0x78) = (int)DAT_BATTLE_BIN__8016e414[1];
  *(int *)(puVar1 + 0x7c) = (int)DAT_BATTLE_BIN__8016e414[2];
  DAT_BATTLE_BIN__8016e400 = (undefined4 *)FUN_BATTLE_BIN__8008b824();
  puVar1 = PTR_DAT_BATTLE_BIN__80165f9c;
  *(undefined4 *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x80) = *DAT_BATTLE_BIN__8016e400;
  *(undefined4 *)(puVar1 + 0x80) = DAT_BATTLE_BIN__8016e400[1];
  *(undefined4 *)(puVar1 + 0x80) = DAT_BATTLE_BIN__8016e400[2];
  DAT_BATTLE_BIN__8016e400 = FUN_BATTLE_BIN__8008b2fc();
  puVar1 = PTR_DAT_BATTLE_BIN__80165f9c;
  *(undefined4 *)(PTR_DAT_BATTLE_BIN__80165f9c + 0x68) = *DAT_BATTLE_BIN__8016e400;
  *(uint *)(puVar1 + 0x6c) = DAT_BATTLE_BIN__8016e400[1] + (uint)DAT_BATTLE_BIN__80165ff0 * -0x1000;
  DAT_BATTLE_BIN__80165ff0 = 0;
  *(undefined4 *)(puVar1 + 0x70) = DAT_BATTLE_BIN__8016e400[2];
  return;
}



void FUN_BATTLE_BIN__8014a018(uint param_1,uint param_2,uint param_3)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint unaff_s1;
  uint uVar5;
  uint uVar6;
  
  if ((param_1 != 0xbe) && (unaff_s1 = param_3, (param_1 & 1) != 0)) {
    if (param_3 == 0x21) {
      unaff_s1 = FUN_BATTLE_BIN__8014a48c();
    }
    else {
      puVar1 = (uint *)FUN_BATTLE_BIN__8014a2ec(param_3);
      uVar2 = FUN_BATTLE_BIN__8014a39c(param_3);
      if ((int)uVar2 < 0) {
        unaff_s1 = *puVar1;
      }
      else {
        iVar4 = 1;
        if (0x35f < (int)param_3) {
          iVar4 = 0xf;
        }
        unaff_s1 = (iVar4 << (uVar2 & 0x1f) & *puVar1) >> (uVar2 & 0x1f);
      }
    }
  }
  uVar5 = 0xffffffff;
  puVar1 = (uint *)FUN_BATTLE_BIN__8014a2ec(param_2);
  uVar2 = FUN_BATTLE_BIN__8014a39c(param_2);
  if ((int)uVar2 < 0) {
    uVar3 = *puVar1;
  }
  else {
    iVar4 = 1;
    if (0x35f < (int)param_2) {
      iVar4 = 0xf;
    }
    uVar3 = iVar4 << (uVar2 & 0x1f);
    uVar5 = ~uVar3;
    uVar3 = (uVar3 & *puVar1) >> (uVar2 & 0x1f);
  }
  if (param_1 == 0xbe) {
    uVar6 = 0;
  }
  else if ((int)param_1 < 0xb2) {
    uVar6 = uVar3 + unaff_s1;
  }
  else if ((int)param_1 < 0xb4) {
    uVar6 = uVar3 - unaff_s1;
  }
  else {
    uVar6 = uVar3 * unaff_s1;
    if (0xb5 < (int)param_1) {
      if ((int)param_1 < 0xb8) {
        if (unaff_s1 == 0) {
          FUN_BATTLE_BIN__8014c958();
        }
        uVar6 = (int)uVar3 / (int)unaff_s1;
      }
      else if ((int)param_1 < 0xba) {
        uVar6 = (int)uVar3 % (int)unaff_s1;
      }
      else if ((int)param_1 < 0xbc) {
        uVar6 = uVar3 & unaff_s1;
      }
      else {
        uVar6 = uVar3;
        if ((int)param_1 < 0xbe) {
          uVar6 = uVar3 | unaff_s1;
        }
      }
    }
  }
  if (DAT_BATTLE_BIN__801660a3 == '\0') {
    if (0x3bf < (int)param_2) {
      DAT_BATTLE_BIN__801660a3 = 1;
      uVar3 = FUN_BATTLE_BIN__8013b590(param_2);
      DAT_BATTLE_BIN__801660a3 = '\0';
      if (0xb < uVar3) {
        DAT_BATTLE_BIN__801660a3 = 0;
        return;
      }
    }
    if (DAT_BATTLE_BIN__801660a3 == '\0') {
      DAT_BATTLE_BIN__801660a3 = 1;
      iVar4 = FUN_BATTLE_BIN__8013b590(0x1fc);
      DAT_BATTLE_BIN__801660a3 = '\0';
      if ((((((iVar4 != 0) && (0x1f < param_2 - 0x70)) && (3 < param_2 - 0x1fc)) &&
           ((param_2 != 0x66 && (7 < param_2 - 0x32)))) &&
          ((0x2b < (int)param_2 && ((param_2 != 0x30 && (4 < param_2 - 0x56)))))) &&
         (param_2 != 0x53)) {
        DAT_BATTLE_BIN__801660a3 = 0;
        return;
      }
    }
  }
  if ((int)uVar2 < 0) {
    *puVar1 = uVar6;
    if (param_2 == 0x19) {
      DAT_BATTLE_BIN__80165ef4 = uVar6;
    }
  }
  else {
    uVar3 = 1;
    if (0x35f < (int)param_2) {
      uVar3 = 0xf;
    }
    *puVar1 = (uVar6 & uVar3) << (uVar2 & 0x1f) | uVar5 & *puVar1;
  }
  return;
}



undefined * FUN_BATTLE_BIN__8014a2ec(int param_1)

{
  int iVar1;
  undefined *unaff_s0;
  
  if (param_1 < 0x80) {
    unaff_s0 = PTR_DAT_BATTLE_BIN__80165f9c + param_1 * 4;
  }
  else {
    iVar1 = param_1 + -0x80;
    if (param_1 < 0x360) {
      if (iVar1 < 0) {
        iVar1 = param_1 + -0x61;
      }
      unaff_s0 = PTR_DAT_BATTLE_BIN__80165f9c + (iVar1 >> 5) * 4 + 0x200;
    }
    else {
      iVar1 = param_1 + -0x360;
      if (param_1 < 0x400) {
        if (iVar1 < 0) {
          iVar1 = param_1 + -0x359;
        }
        unaff_s0 = PTR_DAT_BATTLE_BIN__80165f9c + (iVar1 >> 3) * 4 + 0x25c;
      }
      else {
        FUN_BATTLE_BIN__8014c958();
      }
    }
  }
  return unaff_s0;
}



uint FUN_BATTLE_BIN__8014a39c(uint param_1)

{
  uint uVar1;
  
  uVar1 = 0xffffffff;
  if (0x7f < (int)param_1) {
    if ((int)param_1 < 0x360) {
      uVar1 = param_1 & 0x1f;
    }
    else if ((int)param_1 < 0x400) {
      uVar1 = (param_1 & 7) << 2;
    }
    else {
      FUN_BATTLE_BIN__8014c958();
    }
  }
  return uVar1;
}



void FUN_BATTLE_BIN__8014a464(void)

{
  DAT_BATTLE_BIN__80173c7c = VSync(-1);
  return;
}



void FUN_BATTLE_BIN__8014a48c(void)

{
  DAT_BATTLE_BIN__80173c7c = DAT_BATTLE_BIN__80173c7c * 0x6255 + 0x3619 & 0xffff;
  return;
}



void FUN_BATTLE_BIN__8014a51c(void)

{
  short sVar1;
  int iVar2;
  int *piVar3;
  int *piVar4;
  
  sVar1 = DAT_BATTLE_BIN__80165ff6;
  piVar3 = &DAT_BATTLE_BIN__801612dc;
  iVar2 = 0;
  piVar4 = &DAT_BATTLE_BIN__80173f8c;
  do {
    if ((sVar1 == 0) || (iVar2 != 0)) {
      *piVar4 = *piVar3 + -0x7fe9eca4;
    }
    piVar3 = piVar3 + 1;
    iVar2 = iVar2 + 1;
    piVar4 = piVar4 + 1;
  } while (iVar2 < 0x1f);
  return;
}



void FUN_BATTLE_BIN__8014a5e8(uint *param_1)

{
  uint *puVar1;
  
  puVar1 = DAT_BATTLE_BIN__80173f44;
  if (DAT_BATTLE_BIN__80165ff2 == 0) {
                    // Probable PsyQ macro: addPrim().
    *param_1 = *param_1 & 0xff000000 | *DAT_BATTLE_BIN__80173f44 & 0xffffff;
    *puVar1 = *puVar1 & 0xff000000 | (uint)param_1 & 0xffffff;
  }
  else {
    DrawPrim(param_1);
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8014a81c(void)

{
  return 0;
}



void FUN_BATTLE_BIN__8014a82c(void)

{
  return;
}



void FUN_BATTLE_BIN__8014bf54(undefined *param_1,undefined *param_2,int param_3)

{
  do {
    *param_1 = *param_2;
    param_1 = param_1 + 1;
    param_2 = param_2 + 1;
    param_3 = param_3 + -1;
  } while (param_3 != 0);
  return;
}



void FUN_BATTLE_BIN__8014c8a0(int param_1,undefined4 param_2)

{
  undefined *puVar1;
  undefined4 uVar2;
  
  uVar2 = FUN_BATTLE_BIN__8014cbb4();
  puVar1 = PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98;
  *(undefined4 *)(PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 + param_1 * 0x400 + 0x38) =
       uVar2;
  *(undefined **)(puVar1 + param_1 * 0x400 + 0x3c) = puVar1 + param_1 * 0x400 + 0x3f0;
  *(undefined **)(puVar1 + param_1 * 0x400 + 0x40) = puVar1 + param_1 * 0x400 + 0x3f0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x44) = param_2;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x48) = 1;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x4c) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0xc) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x50) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x54) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x58) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x5c) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x60) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 100) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x68) = 0;
  return;
}



void FUN_BATTLE_BIN__8014c958(void)

{
  undefined *puVar1;
  int iVar2;
  
  iVar2 = DAT_BATTLE_BIN__80174038;
  puVar1 = PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98;
  *(undefined4 *)
   (PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 + DAT_BATTLE_BIN__80174038 * 0x400 + 0x48) = 0
  ;
  *(undefined4 *)(puVar1 + iVar2 * 0x400 + 0x4c) = 0;
  FUN_BATTLE_BIN__8014ca80();
  return;
}



void FUN_BATTLE_BIN__8014c994(void)

{
  undefined4 *puVar1;
  int iVar2;
  
  iVar2 = 0xfff;
  puVar1 = (undefined4 *)(PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 + 0x3ffc);
  do {
    *puVar1 = 0;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  DAT_BATTLE_BIN__80174038 = 0;
  *(undefined4 *)(PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 + 0x48) = 1;
  return;
}



undefined4 FUN_BATTLE_BIN__8014ca1c(int param_1)

{
  return *(undefined4 *)(PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 + param_1 * 0x400 + 0x48)
  ;
}



void FUN_BATTLE_BIN__8014ca38(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)(PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 + param_1 * 0x400);
  *puVar1 = param_2;
  puVar1[1] = param_3;
  puVar1[2] = param_4;
  return;
}



void FUN_BATTLE_BIN__8014ca80(void)

{
  int *piVar1;
  undefined *puVar2;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_s6;
  undefined4 unaff_s7;
  undefined4 in_k0;
  undefined4 in_k1;
  undefined4 unaff_s8;
  undefined4 unaff_retaddr;
  undefined auStackX_0 [16];
  
  puVar2 = PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 + DAT_BATTLE_BIN__80174038 * 0x400;
  *(undefined4 *)(puVar2 + 0x10) = unaff_s0;
  *(undefined4 *)(puVar2 + 0x14) = unaff_s1;
  *(undefined4 *)(puVar2 + 0x18) = unaff_s2;
  *(undefined4 *)(puVar2 + 0x1c) = unaff_s3;
  *(undefined4 *)(puVar2 + 0x20) = unaff_s4;
  *(undefined4 *)(puVar2 + 0x24) = unaff_s5;
  *(undefined4 *)(puVar2 + 0x28) = unaff_s6;
  *(undefined4 *)(puVar2 + 0x2c) = unaff_s7;
  *(undefined4 *)(puVar2 + 0x30) = in_k0;
  *(undefined4 *)(puVar2 + 0x34) = in_k1;
  *(BADSPACEBASE **)(puVar2 + 0x38) = register0x00000070;
  *(BADSPACEBASE **)(puVar2 + 0x3c) = register0x00000074;
  *(undefined4 *)(puVar2 + 0x40) = unaff_s8;
  *(undefined4 *)(puVar2 + 0x44) = unaff_retaddr;
  do {
    DAT_BATTLE_BIN__80174038 = DAT_BATTLE_BIN__80174038 + 1;
    if (DAT_BATTLE_BIN__80174038 == 0x10) {
      DAT_BATTLE_BIN__80174038 = 0;
      break;
    }
    piVar1 = (int *)(puVar2 + 0x448);
    puVar2 = puVar2 + 0x400;
  } while (*piVar1 == 0);
  FUN_BATTLE_BIN__80142ca8();
  return;
}



void FUN_BATTLE_BIN__8014cbb4(void)

{
  return;
}



undefined4 FUN_BATTLE_BIN__8014cc94(int param_1)

{
  return *(undefined4 *)(PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 + param_1 * 0x400 + 0x48)
  ;
}



void FUN_BATTLE_BIN__8014ceb4(void)

{
  int iVar1;
  undefined4 unaff_retaddr;
  undefined auStackX_0 [16];
  
  DAT_BATTLE_BIN__8014cf5c = unaff_retaddr;
  if (DAT_BATTLE_BIN__80174038 != 0) {
    iVar1 = *(int *)(PTR_DAT_BATTLE_BIN__8016986c_BATTLE_BIN__80165f98 + 0x3c);
    *(BADSPACEBASE **)(iVar1 + -0xc) = register0x00000074;
    *(undefined4 *)(iVar1 + -8) = unaff_retaddr;
    (*DAT_BATTLE_BIN__80173ca8)();
    return;
  }
  (*DAT_BATTLE_BIN__80173ca8)();
  return;
}



undefined4 FUN_BATTLE_BIN__80174370(void)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = FUN_BATTLE_BIN__8018e660();
  uVar2 = 1;
  if (2 < iVar1) {
    if (iVar1 == 5) {
      uVar2 = 1;
    }
    else if ((iVar1 == 3) || (uVar2 = 3, iVar1 == 6)) {
      uVar2 = 2;
    }
  }
  return uVar2;
}



undefined4 FUN_BATTLE_BIN__801743c8(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  if ((*(byte *)(param_1 + 3) - 0x5e < 3) && (iVar1 = Check_HasStatus(param_1,10), iVar1 == 0)) {
    uVar2 = 2;
    if (*(char *)(param_1 + 0x182) == '\0') {
      uVar2 = 1;
    }
  }
  else {
    uVar2 = 0;
  }
  return uVar2;
}



void FUN_BATTLE_BIN__80174430(uint param_1)

{
  char cVar1;
  byte bVar2;
  undefined *puVar3;
  undefined uVar4;
  char cVar5;
  char *pcVar7;
  int iVar8;
  char cVar9;
  byte bVar10;
  byte *pbVar11;
  undefined *puVar12;
  char *pcVar13;
  byte bVar14;
  uint uVar15;
  uint uVar16;
  BattleUnitData *UnitBattlePtr;
  int iVar17;
  byte *pbVar18;
  int iVar19;
  byte local_40 [8];
  undefined4 auStack_38 [2];
  byte local_30;
  undefined4 uVar6;
  
  pbVar18 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e0;
  FUN_BATTLE_BIN__8017c158(auStack_38,param_1);
  iVar17 = 0;
  pbVar11 = local_40;
  do {
    iVar19 = iVar17 + -0x3f;
    iVar17 = iVar17 + 1;
    *pbVar11 = UnitBattleData[param_1].field0_0x0.JobLevels[iVar19];
    pbVar11 = pbVar11 + 1;
  } while (iVar17 < 3);
  puVar3[0xd] = (char)param_1;
  puVar3[7] = UnitBattleData[param_1].field0_0x0.MapX;
  puVar3[8] = UnitBattleData[param_1].field0_0x0.MapY;
  puVar3[9] = (byte)((ushort)*(undefined2 *)&UnitBattleData[param_1].field0_0x0.MapY >> 0xf);
  puVar3[0x18] = DAT_BATTLE_BIN__800e4e9c;
  uVar4 = DAT_BATTLE_BIN__800e4ea0;
  puVar3[0x11] = 0;
  puVar3[0x14] = 0;
  puVar3[0x12] = 1;
  puVar3[0x13] = 1;
  puVar3[0x1d] = 0;
  puVar3[0x19] = uVar4;
  puVar3[0x22] = (byte)((ushort)*(undefined2 *)&UnitBattleData[param_1].field0_0x0.MapY >> 0xe) & 1;
  if ((local_40[2] & 0x28) == 0) {
    puVar3[0x25] = 0;
  }
  else {
    puVar3[0x25] = 1;
  }
  bVar14 = UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x2;
  uVar4 = 6;
  if ((bVar14 & 6) != 0) {
    local_40[1] = local_40[1] & 0xf3;
    local_40[2] = local_40[2] & 0xfb;
    uVar4 = 4;
  }
  puVar3[0x1b] = uVar4;
  if (((local_40[2] & 0x88) == 0) && ((local_40[1] & 0x10) != 0)) {
    puVar3[0x14] = 1;
  }
  if ((local_40[2] & 8) == 0) {
    puVar3[0x1c] = local_40[2];
  }
  else {
    puVar3[0x1b] = puVar3[0x1b] + '\x02';
    puVar3[0x1c] = local_40[2] | 0x80;
  }
  if ((bVar14 & 0x40) != 0) {
    local_40[2] = local_40[2] | 8;
  }
  if ((local_40[1] & 0x10) != 0) {
    local_40[2] = local_40[2] & 0xaf;
  }
  uVar6 = FUN_BATTLE_BIN__80174370();
  cVar5 = (char)uVar6;
  if ((local_40[2] & 4) == 0) {
    if ((local_40[1] & 0xc) == 0) {
      uVar4 = 2;
      if ((local_40[2] & 8) == 0) {
        if ((local_40[2] & 0x20) == 0) {
          if ((local_40[2] & 0x80) == 0) {
            if ((local_40[2] & 0x40) == 0) {
              if ((local_40[2] & 0x10) == 0) {
                uVar4 = 7;
                puVar3[0xf] = 0;
              }
              else {
                puVar3[0xf] = 4;
                uVar4 = 6;
              }
            }
            else {
              puVar3[0xf] = 3;
              uVar4 = 5;
            }
          }
          else {
            puVar3[0xf] = 3;
            uVar4 = 4;
          }
        }
        else {
          puVar3[0xf] = 5;
          uVar4 = 3;
        }
      }
      else {
        puVar3[0xf] = 2;
      }
      puVar3[0xe] = uVar4;
    }
    else {
      puVar3[0xf] = 1;
      puVar3[0xe] = 1;
      puVar3[0x1d] = 1;
      puVar3[0x24] = local_40[1];
    }
  }
  else {
    puVar3[0xf] = 1;
    puVar3[0xe] = 0;
    puVar3[0x1d] = 1;
  }
  if ((puVar3[0x1c] & 0xc0) != 0) {
    puVar3[0x13] = 0;
  }
  if ((puVar3[0x1c] & 0xd0) != 0) {
    puVar3[0x12] = 0;
  }
  if (((local_40[2] & 0x8c) == 0) && ((local_40[1] & 0x10) != 0)) {
    puVar3[0x11] = 1;
  }
  puVar3[0x10] = local_40[2];
  if ((local_40[1] & 2) != 0) {
    cVar5 = '\x01';
  }
  iVar17 = 0;
  pcVar13 = (char *)((uint)(byte)puVar3[0xf] * 0x40 + -0x7ffa15b0);
  do {
    cVar1 = *pcVar13;
    cVar9 = cVar5;
    if (((cVar1 != '\0') && (cVar9 = cVar1, (local_40[1] & 1) != 0)) && (cVar1 != -1)) {
      cVar9 = '\x01';
    }
    pcVar7 = PTR_DAT_BATTLE_BIN__8018f4ec + iVar17;
    iVar17 = iVar17 + 1;
    *pcVar7 = cVar9;
    pcVar13 = pcVar13 + 1;
  } while (iVar17 < 0x40);
  uVar15 = (uint)UnitBattleData[param_1].field0_0x0.Jump;
  if (7 < uVar15) {
    uVar15 = 7;
  }
  puVar3[5] = (char)(uVar15 >> 1);
  if ((puVar3[0xe] == '\0') || ((local_40[0] & 2) != 0)) {
    uVar15 = 0x1f;
  }
  puVar3[2] = (char)(uVar15 << 1);
  puVar3[4] = (char)uVar15;
  iVar17 = FUN_BATTLE_BIN__801743c8((int)(UnitBattleData + param_1));
  if (iVar17 == 0) {
    puVar3[0x15] = 0;
  }
  else {
    puVar3[0x15] = 1;
  }
  bVar14 = UnitBattleData[param_1].field0_0x0.Move;
  if (0x7c < bVar14) {
    bVar14 = 0x7c;
  }
  puVar3[6] = bVar14;
  if ((((UnitBattleData[param_1].field0_0x0.field_0x6 & 0xc0) == 0) ||
      ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x2 & 6) != 0)) ||
     ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x4 & 0x20) != 0)) {
    puVar3[0x16] = 0;
  }
  else {
    puVar3[0x16] = 1;
  }
  iVar17 = 0xf;
  local_30 = UnitBattleData[param_1].field2_0x18c.field_0x2e;
  puVar12 = pbVar18 + 0x69;
  puVar3[0x1a] = DAT_BATTLE_BIN__8018f4fc;
  do {
    puVar12[3] = 0xff;
    iVar17 = iVar17 + -1;
    puVar12 = puVar12 + -7;
  } while (-1 < iVar17);
  iVar19 = 0;
  uVar15 = 0;
  iVar17 = 0;
  do {
    if (0xf < iVar19) {
      return;
    }
    UnitBattlePtr = (BattleUnitData *)(&UnitBattleData[0].field0_0x0.BaseClass + iVar17);
    pbVar11 = pbVar18;
    if (((((&UnitBattleData[0].field0_0x0.UnitID)[iVar17] != 0xff) &&
         ((UnitBattleData[0].field0_0x0.JobLevels[iVar17 + -0x7a] & 100) == 0)) &&
        ((UnitBattleData[0].field0_0x0.JobLevels[iVar17 + -0x79] & 1) == 0)) && (uVar15 != param_1))
    {
      bVar14 = (&UnitBattleData[0].field1_0x16e.field_0x14)[iVar17];
      if (((bVar14 & 0x80) == 0) || ((bVar14 & 0x1f) != puVar3[0xd])) {
        iVar8 = FUN_BATTLE_BIN__801743c8((int)UnitBattlePtr);
        uVar16 = uVar15;
        if ((iVar8 != 1) &&
           ((&UnitBattleData[0].field1_0x16e.field_0x14)[iVar17] != (puVar3[0xd] | 0x40))) {
          uVar16 = uVar15 | 0x20;
        }
        bVar14 = (byte)uVar16;
        if (((local_30 ^ (&UnitBattleData[0].field0_0x0.field_0x5)[iVar17]) & 0x30) != 0) {
          bVar14 = bVar14 | 0x40;
        }
        pbVar18[3] = bVar14;
        *pbVar18 = (&UnitBattleData[0].field0_0x0.MapX)[iVar17];
        pbVar18[1] = (&UnitBattleData[0].field0_0x0.MapY)[iVar17];
        bVar14 = (byte)((ushort)*(undefined2 *)(&UnitBattleData[0].field0_0x0.MapY + iVar17) >> 8);
        pbVar18[2] = pbVar18[2] & 0x80 | bVar14 >> 7;
        pbVar18[2] = bVar14 >> 7 |
                     (byte)(*(ushort *)(&UnitBattleData[0].field0_0x0.MapY + iVar17) >> 7) & 0x80;
        if ((UnitBattleData[0].field0_0x0.JobLevels[iVar17 + -0x78] & 6) == 0) {
          pbVar18[4] = 6;
        }
        else {
          pbVar18[4] = 4;
          pbVar18[2] = pbVar18[2] & 0x7f;
        }
        bVar14 = (&UnitBattleData[0].field1_0x16e.field_0x14)[iVar17];
        if (((bVar14 & 0x40) != 0) && ((bVar14 & 0x1f) != puVar3[0xd])) {
          pbVar18[4] = pbVar18[4] + 2;
        }
        bVar14 = UnitBattleData[0].field0_0x0.JobLevels[iVar17 + -0x3d];
        iVar8 = GetUnitTileID(UnitBattlePtr);
        iVar8 = iVar8 * 8;
        bVar10 = (&DAT_BATTLE_BIN__8018f8ce)[iVar8] * '\x02' +
                 ((&DAT_BATTLE_BIN__8018f8cf)[iVar8] & 0x1f);
        bVar2 = (byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar8] >> 5;
        if (bVar2 == 0) {
          if ((UnitBattleData[0].field0_0x0.JobLevels[iVar17 + -0x78] & 0x40) != 0) {
            bVar10 = bVar10 + 2;
          }
        }
        else if ((UnitBattleData[0].field0_0x0.JobLevels[iVar17 + -0x78] & 0x40) == 0) {
          if ((bVar14 & 0x80) == 0) {
            if ((bVar14 & 0x40) != 0) {
              bVar10 = bVar10 + bVar2 * '\x02' + -2;
            }
          }
          else {
            bVar10 = bVar10 + bVar2 * '\x02';
          }
        }
        else {
          bVar10 = bVar10 + bVar2 * '\x02' + '\x02';
        }
        pbVar11 = pbVar18 + 7;
        iVar19 = iVar19 + 1;
        pbVar18[5] = bVar10;
        pbVar18[6] = bVar10 + pbVar18[4];
      }
      else {
        puVar3[0x1b] = puVar3[0x1b] + '\x02';
      }
    }
    uVar15 = uVar15 + 1;
    iVar17 = iVar17 + 0x1c0;
    pbVar18 = pbVar11;
  } while ((int)uVar15 < 0x15);
  return;
}



int FUN_BATTLE_BIN__80174b8c(uint param_1)

{
  byte bVar1;
  short sVar2;
  undefined *puVar3;
  undefined *puVar4;
  undefined *puVar5;
  int iVar6;
  undefined1 *puVar7;
  
  puVar5 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e0;
  iVar6 = -1;
  if (UnitBattleData[param_1].field0_0x0.UnitID != 0xff) {
    FUN_BATTLE_BIN__80174430(param_1);
    FUN_BATTLE_BIN__80174e84(1);
    if (puVar3[0xe] == '\x01') {
      iVar6 = 0x1ff;
      puVar7 = &DAT_BATTLE_BIN__801937d3;
      do {
        *puVar7 = 1;
        iVar6 = iVar6 + -1;
        puVar7 = puVar7 + -5;
      } while (-1 < iVar6);
    }
    else {
      iVar6 = 0;
      if (puVar3[6] != '\0') {
        do {
          if (puVar4[0x62] == '\0') break;
          puVar4[0x62] = 0;
          *(undefined2 *)(puVar4 + 0x2a) = 0;
          do {
            *(undefined2 *)(puVar4 + 0x28) = 0;
            *(short *)(puVar4 + 0x2c) = (short)((int)*(short *)(puVar4 + 0x2a) << 8);
            if (puVar3[0x19] != '\0') {
              do {
                bVar1 = puVar3[0x18];
                *(undefined2 *)(puVar4 + 0x26) = 0;
                *(ushort *)(puVar4 + 0x2e) =
                     *(short *)(puVar4 + 0x2c) + *(short *)(puVar4 + 0x28) * (ushort)bVar1;
                if (puVar3[0x18] != '\0') {
                  do {
                    *(short *)(puVar4 + 0x1a) =
                         *(short *)(puVar4 + 0x2e) + *(short *)(puVar4 + 0x26);
                    *(undefined1 **)puVar4 =
                         &DAT_BATTLE_BIN__8018f8cc +
                         ((int)((uint)(ushort)(*(short *)(puVar4 + 0x2e) + *(short *)(puVar4 + 0x26)
                                              ) << 0x10) >> 0xd);
                    *(undefined1 **)(puVar4 + 8) =
                         &DAT_BATTLE_BIN__80192dd8 + *(short *)(puVar4 + 0x1a) * 5;
                    bVar1 = puVar5[*(short *)(puVar4 + 0x1a)];
                    if ((bVar1 & 1) != 0) {
                      puVar5[*(short *)(puVar4 + 0x1a)] = bVar1 & 0xfe;
                      FUN_BATTLE_BIN__80175ea0();
                      if (puVar3[0x1d] == '\0') {
                        FUN_BATTLE_BIN__801764d8();
                      }
                      puVar4[0x54] = 8;
                    }
                    sVar2 = *(short *)(puVar4 + 0x26);
                    *(short *)(puVar4 + 0x26) = sVar2 + 1;
                  } while ((short)(sVar2 + 1) < (short)(ushort)(byte)puVar3[0x18]);
                }
                sVar2 = *(short *)(puVar4 + 0x28);
                *(short *)(puVar4 + 0x28) = sVar2 + 1;
              } while ((short)(sVar2 + 1) < (short)(ushort)(byte)puVar3[0x19]);
            }
            sVar2 = *(short *)(puVar4 + 0x2a);
            *(short *)(puVar4 + 0x2a) = sVar2 + 1;
          } while ((short)(sVar2 + 1) < 2);
          iVar6 = iVar6 + 1;
        } while (iVar6 < (int)(uint)(byte)puVar3[6]);
      }
    }
    FUN_BATTLE_BIN__80175288();
    DAT_BATTLE_BIN__8018f510 = 1;
    DAT_BATTLE_BIN__8018f514 = (uint)(byte)puVar3[0xd];
    iVar6 = (int)*(short *)(puVar4 + 0x18);
  }
  return iVar6;
}



void FUN_BATTLE_BIN__80174df8(void)

{
  int iVar1;
  BattleUnitData *UnitBattlePtr;
  int iVar2;
  
  iVar2 = 0;
  UnitBattlePtr = UnitBattleData;
  do {
    iVar2 = iVar2 + 1;
    if (((UnitBattlePtr->field0_0x0).UnitID != 0xff) &&
       ((*(byte *)&(UnitBattlePtr->field0_0x0).CurrentStatuses & 0x24) != 0)) {
      iVar1 = GetUnitTileID(UnitBattlePtr);
      PTR_DAT_BATTLE_BIN__8018f4f0[iVar1] = PTR_DAT_BATTLE_BIN__8018f4f0[iVar1] & 0xef;
    }
    UnitBattlePtr = UnitBattlePtr + 1;
  } while (iVar2 < 0x15);
  return;
}



void FUN_BATTLE_BIN__80174e84(uint param_1)

{
  char cVar1;
  undefined *puVar2;
  undefined *puVar3;
  undefined *puVar4;
  byte bVar5;
  byte bVar6;
  int iVar7;
  byte *pbVar8;
  undefined *puVar9;
  int iVar10;
  byte *pbVar11;
  int iVar12;
  int in_t2;
  
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4f0;
  pbVar11 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar2 = PTR_DAT_BATTLE_BIN__8018f4e0;
  iVar12 = 0;
  iVar10 = 0;
  pbVar8 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar9 = PTR_DAT_BATTLE_BIN__8018f4f0;
  do {
    (&DAT_BATTLE_BIN__80192dd9)[iVar10] = 0;
    (&DAT_BATTLE_BIN__80192dda)[iVar10] = 0;
    if ((param_1 & 1) != 0) {
      (&DAT_BATTLE_BIN__80192dd8)[iVar10] = 0;
      (&DAT_BATTLE_BIN__80192ddb)[iVar10] = 0;
      (&DAT_BATTLE_BIN__80192ddc)[iVar10] = 0xff;
    }
    iVar7 = iVar12 * 8;
    if (iVar12 < 0x200) {
      *puVar9 = 0;
      if ((((&DAT_BATTLE_BIN__8018f8d0)[iVar7] & 5) == 1) ||
         (((&DAT_BATTLE_BIN__8018f8d0)[iVar7] & 5) == 4)) {
        bVar6 = *pbVar8;
        *pbVar8 = bVar6 | 2;
        if (2 < ((&DAT_BATTLE_BIN__8018f8cf)[iVar7] & 0x1f)) {
          *pbVar8 = bVar6 | 0x42;
        }
      }
      else if ((byte)puVar2[4] < ((&DAT_BATTLE_BIN__8018f8cf)[iVar7] & 0x1f)) {
        *pbVar8 = *pbVar8 | 0x40;
      }
      if (((((&DAT_BATTLE_BIN__8018f8d2)[iVar7] & 1 |
            (byte)(&DAT_BATTLE_BIN__8018f8d2)[iVar7] >> 1 & 1) == 0) &&
          (((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar7] >> 5 == 0 || (puVar2[0x11] == '\0')))) &&
         (((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar7] >> 5 < 4 || (puVar2[0x13] == '\0')))) {
        *pbVar8 = *pbVar8 | 0x10;
      }
      if (((&DAT_BATTLE_BIN__8018f8d2)[iVar7] & 1) == 0) {
        if (((puVar2[0xe] != '\0') || (((&DAT_BATTLE_BIN__8018f8d2)[iVar7] & 2) == 0)) ||
           (((&DAT_BATTLE_BIN__8018f8cc)[iVar7] & 0x3f) == 0x3f)) goto LAB_BATTLE_BIN__80175040;
        bVar6 = *pbVar8 | 0x10;
      }
      else {
        bVar6 = *pbVar8 | 0x80;
      }
      *pbVar8 = bVar6;
    }
LAB_BATTLE_BIN__80175040:
    pbVar8 = pbVar8 + 1;
    puVar9 = puVar9 + 1;
    iVar12 = iVar12 + 1;
    iVar10 = iVar10 + 5;
    if (0x20f < iVar12) {
      if (param_1 != 3) {
        iVar10 = 0;
        do {
          bVar6 = pbVar11[3];
          if (bVar6 != 0xff) {
            in_t2 = (pbVar11[2] & 0x7f) * 0x100 + (uint)pbVar11[1] * (uint)(byte)puVar2[0x18] +
                    (uint)*pbVar11;
            pbVar8 = puVar4 + in_t2;
            if (UnitBattleData[bVar6 & 0x1f].field0_0x0.BaseClass == ArchAngel) {
              puVar4[in_t2] = puVar4[in_t2] & 0xef | 0x80;
            }
            (&DAT_BATTLE_BIN__80192dda)[in_t2 * 5] = (char)iVar10;
            bVar5 = *pbVar8;
            *pbVar8 = bVar5 | 4;
            if ((bVar6 & 0x40) == 0) {
              bVar5 = bVar5 & 0xf7 | 4;
              if (puVar2[0x22] == '\0') {
                bVar5 = bVar5 | (pbVar11[2] >> 7) << 3;
              }
              *pbVar8 = bVar5;
              pbVar8 = puVar4 + in_t2;
              if ((bVar6 & 0x20) == 0) {
                *pbVar8 = *pbVar8 | 0x20;
              }
              else {
                *pbVar8 = *pbVar8 & 0xdf;
              }
            }
            else {
              *pbVar8 = bVar5 & 0xcf | 4;
              bVar6 = bVar5 & 199 | 4;
              if (puVar2[0xe] == '\0') {
                bVar6 = bVar5 & 0xcf | 0xc;
              }
              *pbVar8 = bVar6;
            }
          }
          iVar10 = iVar10 + 1;
          pbVar11 = pbVar11 + 7;
        } while (iVar10 < 0x10);
      }
      if ((param_1 & 1) != 0) {
        *(undefined2 *)(puVar3 + 0x18) = 0;
        in_t2 = (uint)(byte)puVar2[9] * 0x100 + (uint)(byte)puVar2[8] * (uint)(byte)puVar2[0x18] +
                (uint)(byte)puVar2[7];
      }
      if (param_1 == 1) {
        iVar10 = in_t2 * 5;
        if ((puVar4[in_t2] & 0x20) == 0) {
          puVar3[0x54] = 8;
        }
        else {
          puVar3[0x54] = 0x24;
          bVar6 = (&DAT_BATTLE_BIN__80192dda)[iVar10];
          cVar1 = puVar2[6];
          (&DAT_BATTLE_BIN__801937dc)[(uint)bVar6 * 5] = 0;
          (&DAT_BATTLE_BIN__801937d8)[(uint)bVar6 * 5] = cVar1 + '\x01';
        }
        puVar3[0x55] = 4;
        cVar1 = puVar2[6];
        (&DAT_BATTLE_BIN__80192ddc)[iVar10] = 0;
        (&DAT_BATTLE_BIN__80192dd8)[iVar10] = cVar1 + '\x01';
        puVar4[in_t2] = puVar4[in_t2] | 1;
        puVar3[0x62] = puVar2[6] + '\x01';
      }
      return;
    }
  } while( true );
}



void FUN_BATTLE_BIN__80175288(void)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  undefined *puVar5;
  undefined *puVar6;
  byte bVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  byte *pbVar11;
  
  pbVar11 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar6 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar5 = PTR_DAT_BATTLE_BIN__8018f4e0;
  bVar1 = PTR_DAT_BATTLE_BIN__8018f4e0[8];
  bVar2 = PTR_DAT_BATTLE_BIN__8018f4e0[0x18];
  bVar3 = PTR_DAT_BATTLE_BIN__8018f4e0[9];
  bVar4 = PTR_DAT_BATTLE_BIN__8018f4e0[7];
  FUN_BATTLE_BIN__80174df8();
  iVar9 = 0;
  iVar10 = 0;
  do {
    iVar8 = iVar9 * 8;
    (&DAT_BATTLE_BIN__8018f8d1)[iVar8] = (&DAT_BATTLE_BIN__8018f8d1)[iVar8] & 0xdf;
    if (iVar9 != (uint)bVar3 * 0x100 + (uint)bVar1 * (uint)bVar2 + (uint)bVar4) {
      if (((puVar5[0xe] == '\x01') && ((*pbVar11 & 0x20) != 0)) ||
         (((&DAT_BATTLE_BIN__80192ddb)[iVar10] != '\0' && (puVar5[0x16] != '\0')))) {
LAB_BATTLE_BIN__8017547c:
        *(short *)(puVar6 + 0x18) = *(short *)(puVar6 + 0x18) + 1;
        (&DAT_BATTLE_BIN__8018f8d1)[iVar8] = (&DAT_BATTLE_BIN__8018f8d1)[iVar8] | 0x20;
      }
      else {
        bVar7 = (&DAT_BATTLE_BIN__8018f8cf)[iVar8] & 0x1f;
        if (((((((((bVar7 < 3) || ((*pbVar11 & 2) == 0)) &&
                 ((&DAT_BATTLE_BIN__80192dd8)[iVar10] != '\0')) &&
                ((bVar7 < 4 && (((&DAT_BATTLE_BIN__8018f8d2)[iVar8] & 0x80) == 0)))) &&
               (((&DAT_BATTLE_BIN__8018f8cc)[iVar8] & 0x3f) != 0x1c)) &&
              ((((&DAT_BATTLE_BIN__8018f8cf)[iVar8] & 0xe0) == 0 || (puVar5[0x14] == '\0')))) &&
             ((((&DAT_BATTLE_BIN__8018f8cf)[iVar8] & 0xe0) != 0x60 || (puVar5[0x12] == '\0')))) &&
            ((((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar8] >> 5 < 4 || (puVar5[0x13] == '\0')) &&
             ((((&DAT_BATTLE_BIN__8018f8cc)[iVar8] & 0x3f) != 0x12 || (puVar5[0x25] != '\0')))))) &&
           (((&DAT_BATTLE_BIN__8018f8d2)[iVar8] & 2) == 0)) {
          bVar7 = *pbVar11;
          if (((bVar7 & 0x10) != 0) &&
             (((bVar7 & 4) == 0 || (((bVar7 & 0x20) != 0 && (puVar5[0x16] != '\0'))))))
          goto LAB_BATTLE_BIN__8017547c;
        }
      }
    }
    pbVar11 = pbVar11 + 1;
    iVar9 = iVar9 + 1;
    iVar10 = iVar10 + 5;
    if (0x1ff < iVar9) {
      return;
    }
  } while( true );
}



void FUN_BATTLE_BIN__80175568(void)

{
  undefined *puVar1;
  
  puVar1 = PTR_DAT_BATTLE_BIN__8018f4e4;
  PTR_DAT_BATTLE_BIN__8018f4e4[0x65] = 0xff;
  puVar1[0x66] = 0xff;
  puVar1[0x5a] = 0;
  puVar1[0x5b] = 0;
  puVar1[0x67] = 0x7f;
  FUN_BATTLE_BIN__801755a8();
  return;
}



void FUN_BATTLE_BIN__801755a8(void)

{
  undefined *puVar1;
  int iVar2;
  
  puVar1 = PTR_DAT_BATTLE_BIN__8018f4e4;
  iVar2 = *(int *)PTR_DAT_BATTLE_BIN__8018f4e4;
  PTR_DAT_BATTLE_BIN__8018f4e4[0x4c] = *(char *)(*(int *)PTR_DAT_BATTLE_BIN__8018f4e4 + 2) << 1;
  puVar1[0x56] = *(byte *)(iVar2 + 3) & 0x1f;
  puVar1[0x58] = *(undefined *)(*(int *)puVar1 + 4);
  return;
}



void FUN_BATTLE_BIN__801755e8(void)

{
  short *psVar1;
  short *psVar2;
  undefined *puVar3;
  
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e4;
  psVar1 = (short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x28);
  psVar2 = (short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x3c);
  *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x30) =
       *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x26) +
       *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x3a);
  *(short *)(puVar3 + 0x32) = *psVar1 + *psVar2;
  return;
}



undefined4 FUN_BATTLE_BIN__80175618(void)

{
  if (-1 < *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x30)) {
    if (*(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x32) < 0) {
      return 1;
    }
    if ((short)(ushort)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[0x18] <=
        *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x30)) {
      return 1;
    }
    if (*(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x32) <
        (short)(ushort)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[0x19]) {
      return 0;
    }
  }
  return 1;
}



int FUN_BATTLE_BIN__8017567c(int param_1)

{
  byte *pbVar1;
  byte *pbVar2;
  char *pcVar3;
  byte bVar4;
  short sVar5;
  short sVar6;
  undefined *puVar7;
  undefined *puVar8;
  undefined *puVar9;
  undefined *puVar10;
  uint uVar11;
  char cVar12;
  
  puVar10 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar9 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar8 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar7 = PTR_DAT_BATTLE_BIN__8018f4e0;
  if ((param_1 < 8) && (PTR_DAT_BATTLE_BIN__8018f4e4[0x40] == '\0')) {
    pbVar1 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x58;
    pbVar2 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x45;
    pcVar3 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x56;
    sVar5 = *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x26);
    sVar6 = *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x28);
    bVar4 = PTR_DAT_BATTLE_BIN__8018f4e4[0x44];
    PTR_DAT_BATTLE_BIN__8018f4e4[0x48] =
         PTR_DAT_BATTLE_BIN__8018f4e4[0x4c] +
         PTR_DAT_BATTLE_BIN__8018f4e4[0x56] *
         ((byte)((int)(uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x58] >>
                ((byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x44] & 0x1f)) & 3);
    puVar8[0x49] = puVar8[0x4c] + *pcVar3 * ((byte)((int)(uint)*pbVar1 >> (*pbVar2 & 0x1f)) & 3);
    *(ushort *)(puVar8 + 0x36) = (ushort)(byte)puVar8[0x48] - (ushort)(byte)puVar8[0x49];
    uVar11 = FUN_BATTLE_BIN__80176164((int)sVar5,(int)sVar6,(uint)bVar4,(uint)(byte)puVar8[0x48]);
    puVar8[0x46] = (char)uVar11;
    if ((-1 < *(short *)(puVar8 + 0x36)) && ((puVar10[*(short *)(puVar8 + 0x1a)] & 0x40) != 0)) {
      return 3;
    }
    if (((*(byte *)(*(int *)puVar8 + 3) & 0xe0) != 0) && ((puVar7[0x1c] & 0xc0) != 0)) {
      cVar12 = puVar8[0x48] + (*(byte *)(*(int *)puVar8 + 3) >> 5) * '\x02';
      puVar8[0x48] = cVar12;
      if ((puVar7[0x1c] & 0x40) != 0) {
        puVar8[0x48] = cVar12 + -2;
      }
    }
    *(short *)(puVar8 + 0x1e) = *(short *)(puVar8 + 0x1a);
    *(undefined1 **)(puVar8 + 0x10) = &DAT_BATTLE_BIN__80192dd8 + *(short *)(puVar8 + 0x1a) * 5;
  }
  else {
    PTR_DAT_BATTLE_BIN__8018f4e4[0x41] =
         *(undefined *)(*(int *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 8) + 2);
    if (param_1 < 8) {
      if ((puVar10[*(short *)(puVar8 + 0x1a)] & 8) == 0) {
        return 2;
      }
      puVar8[0x48] = puVar9[(uint)(byte)puVar8[0x41] * 7 + 6];
    }
    else {
      if (param_1 < 0) {
        param_1 = param_1 + 3;
      }
      puVar8[0x48] = puVar9[(uint)(byte)puVar8[0x41] * 7 + 5] + (char)(param_1 >> 2) + -2;
      puVar8[0x50] = puVar8[0x4c] +
                     puVar8[0x56] *
                     ((byte)((int)(uint)(byte)puVar8[0x58] >> ((byte)puVar8[0x44] & 0x1f)) & 3);
      if ((byte)puVar8[0x48] < (byte)puVar8[0x50]) {
        return 1;
      }
    }
    *(undefined2 *)(puVar8 + 0x36) = 0;
    puVar8[0x49] = puVar8[0x48];
    uVar11 = FUN_BATTLE_BIN__80176164
                       ((int)*(short *)(puVar8 + 0x26),(int)*(short *)(puVar8 + 0x28),
                        (uint)(byte)puVar8[0x44],(byte)puVar8[0x48] - 1 & 0xff);
    puVar8[0x46] = (char)uVar11;
    *(short *)(puVar8 + 0x1e) = (short)((byte)puVar8[0x41] + 0x200);
    *(undefined1 **)(puVar8 + 0x10) = &DAT_BATTLE_BIN__80192dd8 + ((byte)puVar8[0x41] + 0x200) * 5;
  }
  return (uint)(**(byte **)(puVar8 + 0x10) < 2) << 2;
}



undefined4 FUN_BATTLE_BIN__80175958(int param_1,int param_2)

{
  undefined *puVar1;
  undefined *puVar2;
  undefined *puVar3;
  undefined *puVar4;
  undefined *puVar5;
  char cVar6;
  int iVar7;
  uint uVar8;
  undefined4 uVar9;
  byte bVar10;
  byte *pbVar11;
  
  puVar5 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4ec;
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar2 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar1 = PTR_DAT_BATTLE_BIN__8018f4e0;
  *(ushort *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x34) = (ushort)param_1 & 1;
  puVar2[0x42] = (char)(param_1 / 2);
  iVar7 = *(short *)(puVar2 + 0x34) * 0x100 +
          (int)*(short *)(puVar2 + 0x32) * (uint)(byte)puVar1[0x18] +
          (uint)*(ushort *)(puVar2 + 0x30);
  *(short *)(puVar2 + 0x1c) = (short)iVar7;
  *(undefined1 **)(puVar2 + 4) = &DAT_BATTLE_BIN__8018f8cc + (iVar7 * 0x10000 >> 0xd);
  *(undefined1 **)(puVar2 + 0xc) = &DAT_BATTLE_BIN__80192dd8 + *(short *)(puVar2 + 0x1c) * 5;
  puVar2[0x4d] = *(char *)(*(int *)(puVar2 + 4) + 2) << 1;
  puVar2[0x57] = *(byte *)(*(int *)(puVar2 + 4) + 3) & 0x1f;
  puVar2[0x59] = *(undefined *)(*(int *)(puVar2 + 4) + 4);
  pbVar11 = puVar5 + *(short *)(puVar2 + 0x1c);
  if (puVar2[0x42] == '\0') {
    if ((*pbVar11 & 0x10) == 0) {
      return 2;
    }
    puVar2[0x4a] = puVar2[0x4d] +
                   puVar2[0x57] *
                   ((byte)((int)(uint)(byte)puVar2[0x59] >> ((byte)puVar2[0x45] & 0x1f)) & 3);
    puVar2[0x4b] = puVar2[0x4d] +
                   puVar2[0x57] *
                   ((byte)((int)(uint)(byte)puVar2[0x59] >> ((byte)puVar2[0x44] & 0x1f)) & 3);
    *(ushort *)(puVar2 + 0x38) = (ushort)(byte)puVar2[0x4b] - (ushort)(byte)puVar2[0x4a];
    uVar8 = FUN_BATTLE_BIN__80176164
                      ((int)*(short *)(puVar2 + 0x30),(int)*(short *)(puVar2 + 0x32),
                       (uint)(byte)puVar2[0x45],(uint)(byte)puVar2[0x4a]);
    puVar2[0x47] = (char)uVar8;
    if ((0 < *(short *)(puVar2 + 0x38)) && ((*pbVar11 & 0x40) != 0)) {
      return 3;
    }
  }
  else {
    if ((*pbVar11 & 0x28) == 0) {
      return 1;
    }
    puVar2[0x43] = *(undefined *)(*(int *)(puVar2 + 0xc) + 2);
    cVar6 = puVar3[(uint)(byte)puVar2[0x43] * 7 + 6];
    puVar2[0x4a] = cVar6;
    uVar8 = FUN_BATTLE_BIN__80176164
                      ((int)*(short *)(puVar2 + 0x30),(int)*(short *)(puVar2 + 0x32),
                       (uint)(byte)puVar2[0x45],(uint)(byte)(cVar6 - 1));
    puVar2[0x47] = (char)uVar8;
    if ((*pbVar11 & 0x20) != 0) {
      FUN_BATTLE_BIN__80175fa4((uint)(byte)puVar2[0x43],param_2);
    }
    if ((*pbVar11 & 8) == 0) {
      return 0x11;
    }
  }
  uVar9 = 4;
  if ((uint)(byte)puVar2[0x48] + (uint)(byte)puVar1[0x1b] <= (uint)(byte)puVar2[0x47]) {
    uVar8 = (uint)(byte)puVar2[0x4a] + (uint)(byte)puVar1[0x1b];
    uVar9 = 5;
    if ((uVar8 <= (byte)puVar2[0x46]) && (uVar9 = 6, uVar8 <= (byte)puVar2[0x47])) {
      if (puVar2[0x42] == '\0') {
        puVar2[0x4a] = puVar2[0x4a] + (*(byte *)(*(int *)(puVar2 + 4) + 3) >> 5) * '\x02';
      }
      if ((byte)puVar2[0x48] < (byte)puVar2[0x4a]) {
        if (param_2 != 0) {
          return 8;
        }
        cVar6 = puVar2[0x4a] - puVar2[0x48];
      }
      else {
        cVar6 = puVar2[0x48] - puVar2[0x4a];
      }
      puVar2[100] = cVar6;
      uVar9 = 9;
      if ((byte)puVar2[100] <= (byte)puVar1[2]) {
        bVar10 = *(byte *)(*(int *)(puVar2 + 0x10) + 4);
        puVar2[0x50] = bVar10;
        if (bVar10 < (byte)puVar2[100]) {
          bVar10 = puVar2[100];
        }
        puVar2[100] = bVar10;
        if (puVar1[0xe] == '\0') {
          puVar2[100] = 0;
        }
        if (puVar2[0x42] == '\0') {
          iVar7 = ((uint)**(byte **)(puVar2 + 0x10) - param_2) -
                  (uint)(byte)puVar4[**(byte **)(puVar2 + 4) & 0x3f];
          *(short *)(puVar2 + 0x22) = (short)iVar7;
          if (iVar7 * 0x10000 < 1) {
            return 0xe;
          }
          bVar10 = **(byte **)(puVar2 + 0xc);
          if ((byte)puVar2[0x22] < bVar10) {
            return 0xf;
          }
          if ((puVar2[0x22] == bVar10) && ((*(byte **)(puVar2 + 0xc))[4] <= (byte)puVar2[100])) {
            return 0x10;
          }
          **(undefined **)(puVar2 + 0xc) = puVar2[0x22];
          *(undefined *)(*(int *)(puVar2 + 0xc) + 4) = puVar2[100];
        }
        else {
          iVar7 = (**(byte **)(puVar2 + 0x10) + 0xffff) - param_2;
          *(short *)(puVar2 + 0x22) = (short)iVar7;
          if (iVar7 * 0x10000 < 1) {
            return 0xb;
          }
          iVar7 = ((byte)puVar2[0x43] + 0x200) * 5;
          if ((byte)puVar2[0x22] < (byte)(&DAT_BATTLE_BIN__80192dd8)[iVar7]) {
            return 0xc;
          }
          if ((puVar2[0x22] == (&DAT_BATTLE_BIN__80192dd8)[iVar7]) &&
             ((byte)(&DAT_BATTLE_BIN__80192ddc)[iVar7] <= (byte)puVar2[100])) {
            return 0xd;
          }
          (&DAT_BATTLE_BIN__80192dd8)[((byte)puVar2[0x43] + 0x200) * 5] = puVar2[0x22];
          (&DAT_BATTLE_BIN__80192ddc)[((byte)puVar2[0x43] + 0x200) * 5] = puVar2[100];
        }
        uVar9 = 0;
        if (1 < *(short *)(puVar2 + 0x22)) {
          PTR_DAT_BATTLE_BIN__8018f4f0[*(short *)(puVar2 + 0x1c)] =
               PTR_DAT_BATTLE_BIN__8018f4f0[*(short *)(puVar2 + 0x1c)] | 1;
          uVar9 = 0;
          if ((byte)puVar2[0x62] < (byte)puVar2[0x22]) {
            puVar2[0x62] = puVar2[0x22];
            uVar9 = 0;
          }
        }
      }
    }
  }
  return uVar9;
}



void FUN_BATTLE_BIN__80175ea0(void)

{
  undefined *puVar1;
  bool bVar2;
  int iVar3;
  int iVar4;
  
  puVar1 = PTR_DAT_BATTLE_BIN__8018f4e4;
  FUN_BATTLE_BIN__801755a8();
  iVar4 = 0;
  if (puVar1[0x54] != '\0') {
    bVar2 = true;
    do {
      puVar1[0x40] = bVar2 ^ 1;
      iVar3 = iVar4;
      if (iVar4 < 0) {
        iVar3 = iVar4 + 3;
      }
      (*(code *)(&PTR_FUN_BATTLE_BIN__801754d0_BATTLE_BIN__8018f500)[iVar4 + (iVar3 >> 2) * -4])();
      FUN_BATTLE_BIN__801755e8();
      iVar3 = FUN_BATTLE_BIN__80175618();
      if (((iVar3 == 0) && (iVar3 = FUN_BATTLE_BIN__8017567c(iVar4), iVar3 == 0)) &&
         (iVar3 = 0, puVar1[0x55] != '\0')) {
        do {
          FUN_BATTLE_BIN__80175958(iVar3,0);
          iVar3 = iVar3 + 1;
        } while (iVar3 < (int)(uint)(byte)puVar1[0x55]);
      }
      iVar4 = iVar4 + 1;
      bVar2 = iVar4 < 4;
    } while (iVar4 < (int)(uint)(byte)puVar1[0x54]);
  }
  return;
}



void FUN_BATTLE_BIN__80175fa4(uint param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  if ((uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x48] +
      (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[0x1b] <=
      (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x47]) {
    uVar5 = (uint)**(byte **)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x10) - (param_2 + 1);
    uVar4 = uVar5 & 0xff;
    if ((uVar4 != 0) && ((*(byte **)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x10))[3] <= uVar4)) {
      uVar3 = (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e8[(param_1 & 0xff) * 7 + 5];
      uVar2 = (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x4d] +
              (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x57] *
              ((int)(uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x59] >>
               ((byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x45] & 0x1f) & 3U) +
              (uint)(*(byte *)(*(int *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 4) + 3) >> 5) * 2;
      uVar1 = uVar3;
      if (uVar3 < (uVar2 & 0xff)) {
        uVar1 = uVar2;
      }
      while( true ) {
        uVar2 = uVar1 & 0xff;
        if ((uVar3 + (byte)PTR_DAT_BATTLE_BIN__8018f4e8[(param_1 & 0xff) * 7 + 4] & 0xff) < uVar2) {
          return;
        }
        if ((uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x46] <
            uVar2 + (byte)PTR_DAT_BATTLE_BIN__8018f4e0[0x1b]) {
          return;
        }
        if ((uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x47] <
            uVar2 + (byte)PTR_DAT_BATTLE_BIN__8018f4e0[0x1b]) {
          return;
        }
        if ((byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x48] < uVar2) break;
        if (((byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x48] - uVar1 & 0xff) <=
            (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[2]) goto LAB_BATTLE_BIN__80176124;
        uVar1 = uVar1 + 1;
      }
      if ((param_2 == 0) &&
         ((uVar1 - (byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x48] & 0xff) <=
          (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[2])) {
LAB_BATTLE_BIN__80176124:
        if (*(byte *)(*(int *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0xc) + 3) < uVar4) {
          *(char *)(*(int *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0xc) + 3) = (char)uVar5;
        }
      }
    }
  }
  return;
}



uint FUN_BATTLE_BIN__80176164(int param_1,int param_2,uint param_3,uint param_4)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  
  iVar7 = param_2 * (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[0x18];
  iVar6 = 0;
  uVar4 = 0x7f;
  do {
    iVar1 = (iVar7 + param_1) * 8;
    uVar5 = uVar4;
    if (((&DAT_BATTLE_BIN__8018f8d2)[iVar1] & 1) == 0) {
      uVar3 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar1] * 2 +
              ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar1] & 0x1f) *
              ((int)(uint)(byte)(&DAT_BATTLE_BIN__8018f8d0)[iVar1] >> (param_3 & 0x1f) & 3U) +
              ((byte)(&DAT_BATTLE_BIN__8018f8d1)[iVar1] & 0x1f) * -2;
      uVar2 = uVar3 & 0xff;
      if (((param_4 & 0xff) < uVar2) && (uVar5 = uVar3, (uVar4 & 0xff) < uVar2)) {
        uVar5 = uVar4;
      }
    }
    iVar6 = iVar6 + 1;
    iVar7 = iVar7 + 0x100;
    uVar4 = uVar5;
  } while (iVar6 < 2);
  return uVar5 & 0xff;
}



bool FUN_BATTLE_BIN__8017622c(int param_1,uint param_2,uint param_3,uint param_4)

{
  byte bVar1;
  undefined *puVar2;
  undefined *puVar3;
  undefined *puVar4;
  bool bVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar2 = PTR_DAT_BATTLE_BIN__8018f4e4;
  uVar13 = 0x7f;
  uVar12 = 0;
  uVar11 = param_4 & 0xff;
  PTR_DAT_BATTLE_BIN__8018f4e4[0x53] = PTR_DAT_BATTLE_BIN__8018f4e0[0x1b];
  do {
    iVar8 = ((int)uVar12 / 2) * 0x100 + param_1;
    iVar6 = iVar8 * 8;
    if ((uVar12 & 1) == 0) {
      bVar1 = puVar4[iVar8];
      if ((bVar1 & 0x80) == 0) {
        puVar2[0x50] = (&DAT_BATTLE_BIN__8018f8ce)[iVar6] << 1;
        puVar2[0x51] = (&DAT_BATTLE_BIN__8018f8cf)[iVar6] & 0x1f;
        puVar2[0x52] = (&DAT_BATTLE_BIN__8018f8d0)[iVar6];
        uVar9 = (uint)(byte)puVar2[0x50] +
                (uint)(byte)puVar2[0x51] * ((int)(uint)(byte)puVar2[0x52] >> (param_2 & 0x1f) & 3U);
        uVar7 = (uint)(byte)puVar2[0x50] +
                (uint)(byte)puVar2[0x51] * ((int)(uint)(byte)puVar2[0x52] >> (param_3 & 0x1f) & 3U);
        if ((uVar7 & 0xff) < (uVar9 & 0xff)) {
          bVar1 = (&DAT_BATTLE_BIN__8018f8cf)[iVar6];
          puVar2[0x50] = (char)uVar7 + ((&DAT_BATTLE_BIN__8018f8d1)[iVar6] & 0x1f) * -2;
          uVar10 = (uint)(byte)puVar2[0x50];
          uVar7 = uVar9 + (uint)(bVar1 >> 5) * 2;
        }
        else {
          uVar7 = uVar7 + (uint)((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar6] >> 5) * 2;
          uVar10 = uVar9 + ((byte)(&DAT_BATTLE_BIN__8018f8d1)[iVar6] & 0x1f) * -2;
        }
        uVar9 = uVar10 & 0xff;
LAB_BATTLE_BIN__80176428:
        if (uVar9 < (uVar13 & 0xff)) {
          uVar13 = uVar10;
        }
        if ((uVar11 < uVar9) && (uVar9 < uVar11 + (byte)puVar2[0x53])) {
          return true;
        }
        if ((uVar11 < (uVar7 & 0xff)) && ((uVar7 & 0xff) < uVar11 + (byte)puVar2[0x53])) {
          return true;
        }
        if (((uVar10 & 0xff) <= uVar11) && (uVar11 + (byte)puVar2[0x53] <= (uVar7 & 0xff))) {
          return true;
        }
      }
      else if ((bVar1 & 4) != 0) {
        return true;
      }
    }
    else if ((puVar4[iVar8] & 0xc) == 4) {
      puVar2[0x50] = (&DAT_BATTLE_BIN__80192dda)[iVar8 * 5];
      if ((puVar3[(uint)(byte)puVar2[0x50] * 7 + 3] & 0x40) != 0) {
        uVar9 = (uint)(byte)puVar3[(uint)(byte)puVar2[0x50] * 7 + 5];
        uVar7 = uVar9 + 3 & 0xff;
        if ((uVar11 < uVar7) && (uVar7 < uVar11 + (byte)puVar2[0x53])) {
          return true;
        }
        uVar7 = (uint)(byte)puVar3[(uint)(byte)puVar2[0x50] * 7 + 6];
        uVar10 = uVar9;
        goto LAB_BATTLE_BIN__80176428;
      }
    }
    uVar12 = uVar12 + 1;
    if (3 < (int)uVar12) {
      bVar5 = false;
      if ((uVar13 & 0xff) != 0x7f) {
        bVar5 = (param_4 & 0xff) < (uVar13 & 0xff);
      }
      return bVar5;
    }
  } while( true );
}



void FUN_BATTLE_BIN__801764d8(void)

{
  byte bVar1;
  short sVar2;
  undefined *puVar3;
  undefined *puVar4;
  bool bVar5;
  int iVar6;
  int iVar7;
  undefined3 extraout_var;
  int iVar8;
  
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e0;
  FUN_BATTLE_BIN__801755a8();
  iVar8 = 0;
  if (puVar4[0x54] != '\0') {
    bVar5 = true;
    do {
      puVar4[0x40] = bVar5 ^ 1;
      iVar6 = iVar8;
      if (iVar8 < 0) {
        iVar6 = iVar8 + 3;
      }
      (*(code *)(&PTR_FUN_BATTLE_BIN__801754d0_BATTLE_BIN__8018f500)[iVar8 + (iVar6 >> 2) * -4])();
      iVar6 = FUN_BATTLE_BIN__8017567c(iVar8);
      if (iVar6 == 0) {
        iVar6 = 1;
        FUN_BATTLE_BIN__801755e8();
        if (puVar3[5] != '\0') {
          do {
            bVar1 = **(byte **)(puVar4 + 0x10);
            *(short *)(puVar4 + 0x24) = (short)((uint)bVar1 - iVar6);
            if (((int)(((uint)bVar1 - iVar6) * 0x10000) >> 0x10 < 2) ||
               (iVar7 = FUN_BATTLE_BIN__80175618(), iVar7 != 0)) break;
            bVar5 = FUN_BATTLE_BIN__8017622c
                              ((int)*(short *)(puVar4 + 0x32) * (uint)(byte)puVar3[0x18] +
                               (int)*(short *)(puVar4 + 0x30),(uint)(byte)puVar4[0x44],
                               (uint)(byte)puVar4[0x45],(uint)(byte)puVar4[0x48]);
            sVar2 = (short)iVar6 + 1;
            if (CONCAT31(extraout_var,bVar5) != 0) break;
            *(short *)(puVar4 + 0x30) =
                 *(short *)(puVar4 + 0x26) + *(short *)(puVar4 + 0x3a) * sVar2;
            *(short *)(puVar4 + 0x32) =
                 *(short *)(puVar4 + 0x28) + *(short *)(puVar4 + 0x3c) * sVar2;
            iVar7 = FUN_BATTLE_BIN__80175618();
            if (iVar7 != 0) break;
            iVar7 = 0;
            if (puVar4[0x55] != '\0') {
              do {
                FUN_BATTLE_BIN__80175958(iVar7,iVar6);
                iVar7 = iVar7 + 1;
              } while (iVar7 < (int)(uint)(byte)puVar4[0x55]);
            }
            iVar6 = iVar6 + 1;
          } while (iVar6 <= (int)(uint)(byte)puVar3[5]);
        }
      }
      iVar8 = iVar8 + 1;
      bVar5 = iVar8 < 4;
    } while (iVar8 < (int)(uint)(byte)puVar4[0x54]);
  }
  return;
}



undefined1 * FUN_BATTLE_BIN__801766b4(uint param_1,byte param_2,byte param_3,byte param_4)

{
  undefined *puVar1;
  undefined *puVar2;
  undefined *puVar3;
  undefined *puVar4;
  byte bVar5;
  bool bVar6;
  undefined3 extraout_var;
  int iVar7;
  ushort uVar8;
  byte bVar9;
  ushort uVar10;
  
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar2 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar1 = PTR_DAT_BATTLE_BIN__8018f4e0;
  PTR_DAT_BATTLE_BIN__8018f4e0[10] = param_2;
  puVar1[0x23] = 0;
  *(ushort *)(puVar2 + 0x26) = (ushort)param_2;
  puVar1[0xb] = param_3;
  *(ushort *)(puVar2 + 0x28) = (ushort)param_3;
  puVar1[0xc] = param_4;
  *(ushort *)(puVar2 + 0x2a) = (ushort)param_4;
  FUN_BATTLE_BIN__80174430(param_1);
  if (((byte)(&DAT_BATTLE_BIN__8018f8d1)
             [((uint)(byte)puVar1[0xc] * 0x100 + (uint)(byte)puVar1[0xb] * (uint)(byte)puVar1[0x18]
              + (uint)(byte)puVar1[10]) * 8] >> 5 & 1) == 0) {
    return (undefined1 *)0x0;
  }
  if (DAT_BATTLE_BIN__8018f510 == 0) {
    return (undefined1 *)0x0;
  }
  if (param_1 != DAT_BATTLE_BIN__8018f514) {
    return (undefined1 *)0x0;
  }
  if (UnitBattleData[param_1].field0_0x0.UnitID == 0xff) {
    return (undefined1 *)0x0;
  }
  FUN_BATTLE_BIN__80174e84(2);
  DAT_BATTLE_BIN__8018f86e = 0;
  DAT_BATTLE_BIN__8018f86f = '\0';
  puVar1[0x1e] = 0;
  puVar1[0x1f] = 0;
  puVar2[0x40] = 0;
  puVar2[0x41] = 0;
  puVar2[0x54] = 4;
  iVar7 = (uint)(byte)puVar1[0xc] * 0x100 + (uint)(byte)puVar1[0xb] * (uint)(byte)puVar1[0x18] +
          (uint)(byte)puVar1[10];
  bVar9 = puVar4[iVar7];
  if ((bVar9 & 4) != 0) {
    if ((bVar9 & 0x20) == 0) {
      return (undefined1 *)0x0;
    }
    puVar1[0x1f] = 1;
    puVar2[0x41] = (&DAT_BATTLE_BIN__80192dda)[iVar7 * 5];
    DAT_BATTLE_BIN__8018f86f = (puVar3[(uint)(byte)puVar2[0x41] * 7 + 3] & 0x1f) + 0x80;
    puVar2[0x54] = 0x1c;
  }
  bVar9 = puVar4[(uint)(byte)puVar1[9] * 0x100 + (uint)(byte)puVar1[8] * (uint)(byte)puVar1[0x18] +
                 (uint)(byte)puVar1[7]];
  if ((bVar9 & 4) != 0) {
    if ((bVar9 & 0x20) == 0) {
      return (undefined1 *)0x0;
    }
    puVar1[0x1e] = 1;
  }
  if (puVar1[0xe] == '\x01') {
    DAT_BATTLE_BIN__8018f86d = 8;
    bVar9 = puVar1[0x10];
    bVar5 = 0x28;
    if (((bVar9 & 0x80) != 0) || (bVar5 = 0x18, (bVar9 & 0x40) != 0)) {
      DAT_BATTLE_BIN__8018f86d = bVar5;
    }
    if ((bVar9 & 2) != 0) {
      DAT_BATTLE_BIN__8018f86d = DAT_BATTLE_BIN__8018f86d | 2;
    }
    bVar6 = FUN_BATTLE_BIN__80176c10();
    if (CONCAT31(extraout_var,bVar6) == 0) {
      DAT_BATTLE_BIN__8018f7f0 = 0xff;
    }
    else {
      DAT_BATTLE_BIN__8018f7f0 = 0xfe;
      DAT_BATTLE_BIN__8018f7f1 = param_2;
      DAT_BATTLE_BIN__8018f7f2 = param_3;
      DAT_BATTLE_BIN__8018f7f3 = param_4;
    }
  }
  else {
    *(undefined2 *)(puVar2 + 0x22) = 0xff;
    uVar8 = *(ushort *)(puVar2 + 0x22);
    puVar2[0x5e] = 0;
    puVar2[0x55] = 4;
    puVar2[0x72] = 0;
    while (uVar8 != 0) {
      puVar2[0x73] = puVar2[0x72];
      bVar9 = puVar2[0x5e] + 1;
      iVar7 = *(short *)(puVar2 + 0x2a) * 0x100 +
              (int)*(short *)(puVar2 + 0x28) * (uint)(byte)puVar1[0x18] +
              (uint)*(ushort *)(puVar2 + 0x26);
      *(short *)(puVar2 + 0x1a) = (short)iVar7;
      puVar2[0x5e] = bVar9;
      *(undefined1 **)puVar2 = &DAT_BATTLE_BIN__8018f8cc + (iVar7 * 0x10000 >> 0xd);
      *(undefined1 **)(puVar2 + 8) = &DAT_BATTLE_BIN__80192dd8 + *(short *)(puVar2 + 0x1a) * 5;
      if ((byte)puVar2[0x54] < 5) {
        if (puVar2[0x40] == '\0') {
          uVar8 = (ushort)**(byte **)(puVar2 + 8);
          (*(byte **)(puVar2 + 8))[1] = bVar9;
        }
        else {
          iVar7 = ((byte)puVar2[0x41] + 0x200) * 5;
          uVar8 = (ushort)(byte)(&DAT_BATTLE_BIN__80192dd8)[iVar7];
          (&DAT_BATTLE_BIN__80192dd9)[iVar7] = bVar9;
        }
      }
      else {
        uVar10 = (ushort)(*(byte **)(puVar2 + 8))[3];
        uVar8 = (ushort)**(byte **)(puVar2 + 8);
        if (uVar8 < uVar10) {
          (&DAT_BATTLE_BIN__80192ddb)[((byte)puVar2[0x41] + 0x200) * 5] = bVar9;
          uVar8 = uVar10;
        }
        else {
          puVar2[0x40] = 0;
          puVar2[0x54] = 4;
          *(undefined *)(*(int *)(puVar2 + 8) + 1) = puVar2[0x5e];
        }
      }
      *(ushort *)(puVar2 + 0x22) = uVar8;
      if (((*(ushort *)(puVar2 + 0x26) == (ushort)(byte)puVar1[7]) &&
          (*(ushort *)(puVar2 + 0x28) == (ushort)(byte)puVar1[8])) &&
         (*(ushort *)(puVar2 + 0x2a) == (ushort)(byte)puVar1[9])) break;
      FUN_BATTLE_BIN__801779dc();
      uVar10 = *(ushort *)(puVar2 + 0x22);
      if (uVar10 == uVar8) {
        FUN_BATTLE_BIN__80177c08();
        uVar8 = *(ushort *)(puVar2 + 0x22);
        if (uVar8 != uVar10) goto LAB_BATTLE_BIN__80176b70;
        if (puVar1[0x1e] == '\0') {
          return (undefined1 *)0x0;
        }
        puVar2[0x55] = 7;
        FUN_BATTLE_BIN__801779dc();
        uVar10 = *(ushort *)(puVar2 + 0x22);
        if (uVar10 != uVar8) goto LAB_BATTLE_BIN__80176bc0;
        FUN_BATTLE_BIN__80177c08();
        uVar8 = *(ushort *)(puVar2 + 0x22);
        if (uVar8 == uVar10) {
          return (undefined1 *)0x0;
        }
      }
      else {
LAB_BATTLE_BIN__80176b70:
        puVar2[0x54] = 4;
LAB_BATTLE_BIN__80176bc0:
        uVar8 = *(ushort *)(puVar2 + 0x22);
      }
    }
    FUN_BATTLE_BIN__80176c90();
  }
  return &DAT_BATTLE_BIN__8018f7f0;
}



bool FUN_BATTLE_BIN__80176c10(void)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  bVar1 = true;
  if ((PTR_DAT_BATTLE_BIN__8018f4e0[0x24] & 4) == 0) {
    iVar2 = (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[10] -
            (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[7];
    iVar3 = (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[0xb] -
            (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[8];
    if (iVar2 < 0) {
      iVar2 = -iVar2;
    }
    if (iVar3 < 0) {
      iVar3 = -iVar3;
    }
    bVar1 = PassFail_Roll(100,((iVar2 + iVar3) - (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[6]) * 10);
  }
  return bVar1;
}



void FUN_BATTLE_BIN__80176c90(void)

{
  char cVar1;
  char cVar2;
  bool bVar3;
  undefined *puVar4;
  undefined *puVar5;
  undefined *puVar6;
  undefined *puVar7;
  undefined uVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  byte bVar12;
  int iVar13;
  int iVar14;
  byte bVar15;
  int iVar16;
  byte *pbVar17;
  byte *in_t5;
  int iVar18;
  int iVar19;
  
  puVar7 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar6 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar5 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4e0;
  pbVar17 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x5e;
  iVar18 = 0;
  PTR_DAT_BATTLE_BIN__8018f4e4[0x41] = 0;
  if (0 < (int)(*pbVar17 - 1)) {
    iVar19 = 1;
    do {
      iVar11 = 0;
      iVar16 = 0;
      iVar14 = -0xe00;
      iVar13 = 0;
      iVar9 = *(short *)(puVar5 + 0x2a) * 0x100 +
              (int)*(short *)(puVar5 + 0x28) * (uint)(byte)puVar4[0x18] +
              (uint)*(ushort *)(puVar5 + 0x26);
      *(short *)(puVar5 + 0x1a) = (short)iVar9;
      *(undefined1 **)puVar5 = &DAT_BATTLE_BIN__8018f8cc + (iVar9 * 0x10000 >> 0xd);
      *(undefined1 **)(puVar5 + 8) = &DAT_BATTLE_BIN__80192dd8 + *(short *)(puVar5 + 0x1a) * 5;
      pbVar17 = puVar7;
      do {
        if ((0x1ff < iVar11) &&
           ((uint)(byte)(&DAT_BATTLE_BIN__80192ddb)[iVar13] ==
            ((uint)(byte)puVar5[0x5e] - iVar19 & 0xff))) {
          bVar3 = true;
LAB_BATTLE_BIN__80176e00:
          in_t5 = puVar6 + iVar14;
LAB_BATTLE_BIN__80176e04:
          if ((puVar5[0x43] != '\0') || (bVar3)) {
            *(ushort *)(puVar5 + 0x30) = (ushort)*in_t5;
            *(ushort *)(puVar5 + 0x32) = (ushort)in_t5[1];
            *(ushort *)(puVar5 + 0x34) = in_t5[2] & 0x7f;
          }
          if (*(short *)(puVar5 + 0x30) == *(short *)(puVar5 + 0x26)) {
            bVar15 = 0xc0;
            if (*(short *)(puVar5 + 0x28) < *(short *)(puVar5 + 0x32)) {
              cVar1 = puVar5[0x32];
              cVar2 = puVar5[0x28];
              puVar5[0x44] = 6;
              uVar8 = 4;
            }
            else {
              bVar15 = 0x80;
              cVar1 = puVar5[0x28];
              cVar2 = puVar5[0x32];
              puVar5[0x44] = 4;
              uVar8 = 6;
            }
            puVar5[0x45] = uVar8;
            puVar5[0x61] = cVar1 - cVar2;
          }
          else {
            bVar15 = 0;
            if (*(short *)(puVar5 + 0x26) < *(short *)(puVar5 + 0x30)) {
              cVar1 = puVar5[0x30];
              cVar2 = puVar5[0x26];
              puVar5[0x44] = 0;
              puVar5[0x45] = 2;
            }
            else {
              bVar15 = 0x40;
              cVar1 = puVar5[0x26];
              cVar2 = puVar5[0x30];
              puVar5[0x44] = 2;
              puVar5[0x45] = 0;
            }
            puVar5[0x61] = cVar1 - cVar2;
          }
          puVar5[0x60] = 0;
          if ((puVar5[0x43] == '\0') && (!bVar3)) {
            puVar5[0x4a] = ((&DAT_BATTLE_BIN__8018f8cf)[iVar16] & 0x1f) *
                           ((byte)((int)(uint)(byte)(&DAT_BATTLE_BIN__8018f8d0)[iVar16] >>
                                  ((byte)puVar5[0x44] & 0x1f)) & 3);
            puVar5[0x4b] = ((&DAT_BATTLE_BIN__8018f8cf)[iVar16] & 0x1f) *
                           ((byte)((int)(uint)(byte)(&DAT_BATTLE_BIN__8018f8d0)[iVar16] >>
                                  ((byte)puVar5[0x45] & 0x1f)) & 3);
            *(ushort *)(puVar5 + 0x38) = (ushort)(byte)puVar5[0x4a] - (ushort)(byte)puVar5[0x4b];
            if ((byte)puVar4[4] < ((&DAT_BATTLE_BIN__8018f8cf)[iVar16] & 0x1f)) {
              puVar5[0x60] = 1;
            }
            if ((2 < ((&DAT_BATTLE_BIN__8018f8cf)[iVar16] & 0x1f)) && ((*pbVar17 & 2) != 0)) {
              puVar5[0x60] = 1;
            }
            if (-1 < *(short *)(puVar5 + 0x38)) {
              puVar5[0x60] = 0;
            }
          }
          puVar5[0x5f] = 0;
          if (puVar5[0x41] == '\0') {
            if ((byte)puVar4[4] < (*(byte *)(*(int *)puVar5 + 3) & 0x1f)) {
              puVar5[0x5f] = 1;
            }
            if ((2 < (*(byte *)(*(int *)puVar5 + 3) & 0x1f)) &&
               ((puVar7[*(short *)(puVar5 + 0x1a)] & 2) != 0)) {
              puVar5[0x5f] = 1;
            }
          }
          bVar12 = puVar5[0x43] << 4;
          puVar5[0x41] = puVar5[0x43];
          if ((iVar18 == (byte)puVar5[0x5e] - 2) && ((DAT_BATTLE_BIN__8018f86e & 0x10) != 0)) {
            bVar12 = 0x10;
          }
          (&DAT_BATTLE_BIN__8018f7f0)[iVar19] =
               puVar5[0x61] - 1 |
               puVar5[0x5f] << 2 |
               puVar5[0x60] << 3 | bVar12 | bVar15 | (byte)((int)*(short *)(puVar5 + 0x34) << 5);
          *(undefined2 *)(puVar5 + 0x26) = *(undefined2 *)(puVar5 + 0x30);
          *(undefined2 *)(puVar5 + 0x28) = *(undefined2 *)(puVar5 + 0x32);
          *(undefined2 *)(puVar5 + 0x2a) = *(undefined2 *)(puVar5 + 0x34);
          break;
        }
        if ((uint)(byte)(&DAT_BATTLE_BIN__80192dd9)[iVar13] ==
            ((uint)(byte)puVar5[0x5e] - iVar19 & 0xff)) {
          bVar3 = false;
          if (0x1ff < iVar11) {
            puVar5[0x43] = 1;
            goto LAB_BATTLE_BIN__80176e00;
          }
          puVar5[0x43] = 0;
          iVar9 = iVar11;
          if (iVar11 < 0) {
            iVar9 = iVar11 + 0xff;
          }
          *(ushort *)(puVar5 + 0x34) = (ushort)((uint)iVar9 >> 8) & 0xff;
          iVar11 = iVar11 + (iVar9 >> 8) * -0x100;
          *(ushort *)(puVar5 + 0x32) = (ushort)(iVar11 / (int)(uint)(byte)puVar4[0x18]) & 0xff;
          *(ushort *)(puVar5 + 0x30) = (ushort)(iVar11 % (int)(uint)(byte)puVar4[0x18]) & 0xff;
          goto LAB_BATTLE_BIN__80176e04;
        }
        pbVar17 = pbVar17 + 1;
        iVar16 = iVar16 + 8;
        iVar14 = iVar14 + 7;
        iVar11 = iVar11 + 1;
        iVar13 = iVar13 + 5;
      } while (iVar11 < 0x210);
      iVar18 = iVar18 + 1;
      iVar19 = iVar19 + 1;
    } while (iVar18 < (int)((byte)puVar5[0x5e] - 1));
  }
  DAT_BATTLE_BIN__8018f7f0 = puVar5[0x5e] + -1;
  if ((byte)puVar4[0xd] < 0x15) {
    uVar10 = FUN_BATTLE_BIN__8017f020((int)(UnitBattleData + (byte)puVar4[0xd]));
    DAT_BATTLE_BIN__8018f86d = (undefined)uVar10;
  }
  else {
    DAT_BATTLE_BIN__8018f86d = 0;
  }
  return;
}



undefined4 FUN_BATTLE_BIN__80177180(int param_1)

{
  byte *pbVar1;
  byte *pbVar2;
  char *pcVar3;
  char *pcVar4;
  byte bVar5;
  undefined uVar6;
  short sVar7;
  short sVar8;
  undefined *puVar9;
  undefined *puVar10;
  undefined *puVar11;
  uint uVar12;
  
  puVar11 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar10 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar9 = PTR_DAT_BATTLE_BIN__8018f4e4;
  if ((byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x54] < 5) {
    if (PTR_DAT_BATTLE_BIN__8018f4e4[0x40] == '\0') {
      pbVar1 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x58;
      pbVar2 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x45;
      pcVar3 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x56;
      sVar7 = *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x26);
      sVar8 = *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x28);
      bVar5 = PTR_DAT_BATTLE_BIN__8018f4e4[0x44];
      PTR_DAT_BATTLE_BIN__8018f4e4[0x48] =
           PTR_DAT_BATTLE_BIN__8018f4e4[0x4c] +
           PTR_DAT_BATTLE_BIN__8018f4e4[0x56] *
           ((byte)((int)(uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x58] >>
                  ((byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x44] & 0x1f)) & 3);
      puVar9[0x49] = puVar9[0x4c] + *pcVar3 * ((byte)((int)(uint)*pbVar1 >> (*pbVar2 & 0x1f)) & 3);
      uVar12 = FUN_BATTLE_BIN__80176164((int)sVar7,(int)sVar8,(uint)bVar5,(uint)(byte)puVar9[0x48]);
      puVar9[0x46] = (char)uVar12;
      *(short *)(puVar9 + 0x36) = (short)((uint)(byte)puVar9[0x49] - (uint)(byte)puVar9[0x48]);
      if ((0 < (int)((uint)(byte)puVar9[0x49] - (uint)(byte)puVar9[0x48])) &&
         ((puVar11[*(short *)(puVar9 + 0x1a)] & 0x40) != 0)) {
        return 1;
      }
      puVar9[0x48] = puVar9[0x48] + (*(byte *)(*(int *)puVar9 + 3) >> 5) * '\x02';
      return 0;
    }
    if ((PTR_DAT_BATTLE_BIN__8018f4f0[*(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x1a)] & 8) == 0) {
      return 1;
    }
    sVar7 = *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x26);
    sVar8 = *(short *)(PTR_DAT_BATTLE_BIN__8018f4e4 + 0x28);
    bVar5 = PTR_DAT_BATTLE_BIN__8018f4e4[0x44];
    uVar6 = PTR_DAT_BATTLE_BIN__8018f4e8[(uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x41] * 7 + 6];
    PTR_DAT_BATTLE_BIN__8018f4e4[0x48] = uVar6;
    puVar9[0x49] = uVar6;
    uVar12 = (byte)puVar9[0x48] - 1;
  }
  else {
    if (param_1 < 0) {
      param_1 = param_1 + 3;
    }
    pbVar1 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x58;
    pbVar2 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x44;
    pcVar3 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x56;
    pcVar4 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x4c;
    PTR_DAT_BATTLE_BIN__8018f4e4[0x48] =
         PTR_DAT_BATTLE_BIN__8018f4e8[(uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x41] * 7 + 5] +
         *(char *)(-0x7fe70b22 - (param_1 >> 2));
    puVar9[0x50] = *pcVar4 + *pcVar3 * ((byte)((int)(uint)*pbVar1 >> (*pbVar2 & 0x1f)) & 3);
    if ((byte)puVar9[0x48] < (byte)puVar9[0x50]) {
      return 1;
    }
    sVar7 = *(short *)(puVar9 + 0x26);
    sVar8 = *(short *)(puVar9 + 0x28);
    bVar5 = puVar9[0x44];
    uVar12 = (byte)puVar10[(uint)(byte)puVar9[0x41] * 7 + 5] + 5;
  }
  uVar12 = FUN_BATTLE_BIN__80176164((int)sVar7,(int)sVar8,(uint)bVar5,uVar12 & 0xff);
  puVar9[0x46] = (char)uVar12;
  *(undefined2 *)(puVar9 + 0x36) = 0;
  return 0;
}



undefined4 FUN_BATTLE_BIN__801773b8(int param_1)

{
  undefined *puVar1;
  undefined *puVar2;
  undefined *puVar3;
  undefined *puVar4;
  int iVar5;
  uint uVar6;
  char cVar7;
  
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar2 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar1 = PTR_DAT_BATTLE_BIN__8018f4e0;
  PTR_DAT_BATTLE_BIN__8018f4e4[0x42] = 1 < param_1;
  *(ushort *)(puVar2 + 0x34) = (ushort)param_1 & 1;
  if (4 < (byte)puVar2[0x55]) {
    *(ushort *)(puVar2 + 0x34) = (ushort)(byte)puVar1[9];
  }
  iVar5 = *(short *)(puVar2 + 0x34) * 0x100 +
          (int)*(short *)(puVar2 + 0x32) * (uint)(byte)puVar1[0x18] +
          (uint)*(ushort *)(puVar2 + 0x30);
  *(short *)(puVar2 + 0x1c) = (short)iVar5;
  *(undefined1 **)(puVar2 + 4) = &DAT_BATTLE_BIN__8018f8cc + (iVar5 * 0x10000 >> 0xd);
  *(undefined1 **)(puVar2 + 0xc) = &DAT_BATTLE_BIN__80192dd8 + *(short *)(puVar2 + 0x1c) * 5;
  puVar2[0x4d] = *(char *)(*(int *)(puVar2 + 4) + 2) << 1;
  puVar2[0x57] = *(byte *)(*(int *)(puVar2 + 4) + 3) & 0x1f;
  puVar2[0x59] = *(undefined *)(*(int *)(puVar2 + 4) + 4);
  if (((byte)puVar2[0x55] < 5) && (puVar2[0x42] == '\0')) {
    if ((puVar4[*(short *)(puVar2 + 0x1c)] & 0x10) == 0) {
      return 4;
    }
    puVar2[0x4a] = puVar2[0x4d] +
                   puVar2[0x57] *
                   ((byte)((int)(uint)(byte)puVar2[0x59] >> ((byte)puVar2[0x45] & 0x1f)) & 3);
    puVar2[0x4b] = puVar2[0x4d] +
                   puVar2[0x57] *
                   ((byte)((int)(uint)(byte)puVar2[0x59] >> ((byte)puVar2[0x44] & 0x1f)) & 3);
    *(ushort *)(puVar2 + 0x38) = (ushort)(byte)puVar2[0x4a] - (ushort)(byte)puVar2[0x4b];
    uVar6 = FUN_BATTLE_BIN__80176164
                      ((int)*(short *)(puVar2 + 0x30),(int)*(short *)(puVar2 + 0x32),
                       (uint)(byte)puVar2[0x45],(uint)(byte)puVar2[0x4a]);
    puVar2[0x47] = (char)uVar6;
    if ((-1 < *(short *)(puVar2 + 0x38)) && ((puVar4[*(short *)(puVar2 + 0x1c)] & 0x40) != 0)) {
      return 5;
    }
    puVar2[0x74] = puVar2[0x48];
    if (((*(byte *)(*(int *)(puVar2 + 4) + 3) & 0xe0) != 0) && ((puVar1[0x1c] & 0xc0) != 0)) {
      cVar7 = puVar2[0x4a] + (*(byte *)(*(int *)(puVar2 + 4) + 3) >> 5) * '\x02';
      puVar2[0x4a] = cVar7;
      if ((puVar1[0x1c] & 0x40) != 0) {
        puVar2[0x4a] = cVar7 + -2;
      }
    }
    *(short *)(puVar2 + 0x20) = *(short *)(puVar2 + 0x1c);
    *(undefined1 **)(puVar2 + 0x14) = &DAT_BATTLE_BIN__80192dd8 + *(short *)(puVar2 + 0x1c) * 5;
  }
  else {
    puVar2[0x43] = *(undefined *)(*(int *)(puVar2 + 0xc) + 2);
    if ((byte)puVar2[0x55] < 5) {
      if ((puVar4[*(short *)(puVar2 + 0x1c)] & 8) == 0) {
        return 3;
      }
      puVar2[0x4a] = puVar3[(uint)(byte)puVar2[0x43] * 7 + 6];
    }
    else {
      puVar2[0x42] = 1;
      if ((puVar4[*(short *)(puVar2 + 0x1c)] & 0x20) == 0) {
        return 1;
      }
      puVar2[0x4a] = puVar3[(uint)(byte)puVar2[0x43] * 7 + 5] + (&DAT_BATTLE_BIN__8018f4d8)[param_1]
      ;
      puVar2[0x50] = puVar2[0x4d] +
                     puVar2[0x57] *
                     ((byte)((int)(uint)(byte)puVar2[0x59] >> ((byte)puVar2[0x45] & 0x1f)) & 3);
      if ((byte)puVar2[0x4a] < (byte)puVar2[0x50]) {
        return 2;
      }
    }
    *(undefined2 *)(puVar2 + 0x38) = 0;
    puVar2[0x4b] = puVar2[0x4a];
    uVar6 = FUN_BATTLE_BIN__80176164
                      ((int)*(short *)(puVar2 + 0x30),(int)*(short *)(puVar2 + 0x32),
                       (uint)(byte)puVar2[0x45],(byte)puVar2[0x4a] - 1 & 0xff);
    puVar2[0x47] = (char)uVar6;
    *(short *)(puVar2 + 0x20) = (short)((byte)puVar2[0x43] + 0x200);
    *(undefined1 **)(puVar2 + 0x14) = &DAT_BATTLE_BIN__80192dd8 + ((byte)puVar2[0x43] + 0x200) * 5;
  }
  return 0;
}



undefined4 FUN_BATTLE_BIN__80177794(int param_1)

{
  byte bVar1;
  short sVar2;
  undefined *puVar3;
  undefined *puVar4;
  undefined *puVar5;
  char cVar6;
  undefined4 uVar7;
  int iVar8;
  uint uVar9;
  
  puVar5 = PTR_DAT_BATTLE_BIN__8018f4ec;
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e0;
  uVar7 = 1;
  if ((uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x4a] +
      (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[0x1b] <=
      (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x46]) {
    uVar9 = (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x74] +
            (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e0[0x1b];
    uVar7 = 2;
    if ((uVar9 <= (byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x47]) &&
       (uVar7 = 3, uVar9 <= (byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x46])) {
      if ((uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x4a] <
          (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4e4[0x48]) {
        if (param_1 != 0) {
          return 4;
        }
        cVar6 = PTR_DAT_BATTLE_BIN__8018f4e4[0x48] - PTR_DAT_BATTLE_BIN__8018f4e4[0x4a];
      }
      else {
        cVar6 = PTR_DAT_BATTLE_BIN__8018f4e4[0x4a] - PTR_DAT_BATTLE_BIN__8018f4e4[0x48];
      }
      PTR_DAT_BATTLE_BIN__8018f4e4[100] = cVar6;
      uVar7 = 7;
      if ((byte)puVar4[100] <= (byte)puVar3[2]) {
        if (puVar3[0x23] == '\0') {
          if (((byte)puVar4[0x54] < 5) && (puVar4[0x40] == '\0')) {
            sVar2 = *(short *)(puVar4 + 0x22);
            iVar8 = ((uint)**(byte **)(puVar4 + 0x14) -
                    (uint)(byte)PTR_DAT_BATTLE_BIN__8018f4ec[**(byte **)puVar4 & 0x3f]) - param_1;
          }
          else {
            sVar2 = *(short *)(puVar4 + 0x22);
            iVar8 = (uint)**(byte **)(puVar4 + 0x14) - (param_1 + 1);
          }
          uVar7 = 0;
          if (sVar2 == iVar8) {
            puVar4[0x5a] = 1;
            uVar7 = 0;
          }
        }
        else {
          iVar8 = ((uint)**(byte **)(puVar4 + 8) - param_1) -
                  (uint)(byte)puVar5[**(byte **)puVar4 & 0x3f];
          *(short *)(puVar4 + 0x22) = (short)iVar8;
          uVar7 = 8;
          if (0 < iVar8 * 0x10000) {
            bVar1 = **(byte **)(puVar4 + 0xc);
            uVar7 = 9;
            if ((bVar1 <= (byte)puVar4[0x22]) &&
               ((puVar4[0x22] != bVar1 ||
                (uVar7 = 10, (byte)puVar4[100] < (*(byte **)(puVar4 + 0xc))[4])))) {
              **(undefined **)(puVar4 + 0xc) = puVar4[0x22];
              *(undefined *)(*(int *)(puVar4 + 0xc) + 4) = puVar4[100];
              uVar7 = 0xb;
              if (1 < *(short *)(puVar4 + 0x22)) {
                PTR_DAT_BATTLE_BIN__8018f4f0[*(short *)(puVar4 + 0x1c)] =
                     PTR_DAT_BATTLE_BIN__8018f4f0[*(short *)(puVar4 + 0x1c)] | 1;
                if ((byte)puVar4[0x62] < (byte)puVar4[0x22]) {
                  puVar4[0x62] = puVar4[0x22];
                }
                uVar7 = 0xb;
              }
            }
          }
        }
      }
    }
  }
  return uVar7;
}



void FUN_BATTLE_BIN__801779dc(void)

{
  undefined *puVar1;
  undefined *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  puVar2 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar1 = PTR_DAT_BATTLE_BIN__8018f4e0;
  FUN_BATTLE_BIN__80175568();
  iVar5 = 0;
  if (puVar2[0x54] != '\0') {
    do {
      iVar3 = iVar5;
      if (iVar5 < 0) {
        iVar3 = iVar5 + 3;
      }
      (*(code *)(&PTR_FUN_BATTLE_BIN__801754d0_BATTLE_BIN__8018f500)[iVar5 + (iVar3 >> 2) * -4])();
      FUN_BATTLE_BIN__801755e8();
      iVar3 = FUN_BATTLE_BIN__80175618();
      if ((((iVar3 == 0) && (iVar3 = FUN_BATTLE_BIN__80177180(iVar5), iVar3 == 0)) &&
          (((byte)puVar2[0x55] < 5 ||
           (((ushort)(byte)puVar1[7] == *(ushort *)(puVar2 + 0x30) &&
            ((ushort)(byte)puVar1[8] == *(ushort *)(puVar2 + 0x32))))))) &&
         (iVar3 = 0, puVar2[0x55] != 0)) {
        do {
          iVar4 = FUN_BATTLE_BIN__801773b8(iVar3);
          if (((iVar4 == 0) && (iVar4 = FUN_BATTLE_BIN__80177794(0), iVar4 == 0)) &&
             (puVar2[0x5a] != '\0')) {
            FUN_BATTLE_BIN__80177e64(iVar5,iVar3,0);
          }
          iVar3 = iVar3 + 1;
        } while (iVar3 < (int)(uint)(byte)puVar2[0x55]);
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < (int)(uint)(byte)puVar2[0x54]);
  }
  if ((puVar1[0x23] == '\0') && (puVar2[0x5b] != '\0')) {
    FUN_BATTLE_BIN__80177b64((int)puVar2);
  }
  return;
}



void FUN_BATTLE_BIN__80177b64(int param_1)

{
  *(ushort *)(param_1 + 0x22) = (ushort)*(byte *)(param_1 + 0x6d);
  *(ushort *)(param_1 + 0x26) = (ushort)*(byte *)(param_1 + 0x68);
  *(ushort *)(param_1 + 0x28) = (ushort)*(byte *)(param_1 + 0x69);
  *(ushort *)(param_1 + 0x2a) = (ushort)*(byte *)(param_1 + 0x6a);
  if ((*(byte *)(param_1 + 0x70) & 1) != 0) {
    DAT_BATTLE_BIN__8018f86e =
         DAT_BATTLE_BIN__8018f86e & 0x1f | *(char *)(param_1 + 0x6f) << 5 | 0x10;
  }
  if ((*(byte *)(param_1 + 0x70) & 2) != 0) {
    DAT_BATTLE_BIN__8018f86e =
         DAT_BATTLE_BIN__8018f86e & 0xf1 | (byte)((*(byte *)(param_1 + 0x6e) & 7) << 1) | 1;
  }
  *(undefined *)(param_1 + 0x40) = *(undefined *)(param_1 + 0x6b);
  *(undefined *)(param_1 + 0x41) = *(undefined *)(param_1 + 0x6c);
  return;
}



void FUN_BATTLE_BIN__80177c08(void)

{
  short sVar1;
  undefined *puVar2;
  undefined *puVar3;
  bool bVar4;
  int iVar5;
  int iVar6;
  undefined3 extraout_var;
  uint uVar7;
  int iVar8;
  
  puVar3 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar2 = PTR_DAT_BATTLE_BIN__8018f4e0;
  FUN_BATTLE_BIN__80175568();
  iVar8 = 0;
  if (puVar3[0x54] != '\0') {
    do {
      iVar5 = iVar8;
      if (iVar8 < 0) {
        iVar5 = iVar8 + 3;
      }
      (*(code *)(&PTR_FUN_BATTLE_BIN__801754d0_BATTLE_BIN__8018f500)[iVar8 + (iVar5 >> 2) * -4])();
      iVar5 = FUN_BATTLE_BIN__80177180(iVar8);
      if (iVar5 == 0) {
        uVar7 = 1;
        FUN_BATTLE_BIN__801755e8();
        if (puVar2[5] != '\0') {
          do {
            iVar5 = FUN_BATTLE_BIN__80175618();
            sVar1 = (short)uVar7 + 1;
            if (iVar5 != 0) break;
            *(short *)(puVar3 + 0x30) =
                 *(short *)(puVar3 + 0x26) + *(short *)(puVar3 + 0x3a) * sVar1;
            *(short *)(puVar3 + 0x32) =
                 *(short *)(puVar3 + 0x28) + *(short *)(puVar3 + 0x3c) * sVar1;
            iVar5 = FUN_BATTLE_BIN__80175618();
            if (iVar5 != 0) break;
            iVar5 = 0;
            if (puVar3[0x55] != '\0') {
              do {
                iVar6 = FUN_BATTLE_BIN__801773b8(iVar5);
                if (iVar6 == 0) {
                  puVar3[0x71] = 0;
                  iVar6 = 1;
                  if (0 < (int)uVar7) {
                    do {
                      bVar4 = FUN_BATTLE_BIN__8017622c
                                        (((int)*(short *)(puVar3 + 0x32) -
                                         *(short *)(puVar3 + 0x3c) * iVar6) *
                                         (uint)(byte)puVar2[0x18] +
                                         ((int)*(short *)(puVar3 + 0x30) -
                                         *(short *)(puVar3 + 0x3a) * iVar6),(uint)(byte)puVar3[0x44]
                                         ,(uint)(byte)puVar3[0x45],(uint)(byte)puVar3[0x4a]);
                      if (CONCAT31(extraout_var,bVar4) != 0) {
                        puVar3[0x71] = 1;
                        break;
                      }
                      iVar6 = iVar6 + 1;
                    } while (iVar6 <= (int)uVar7);
                  }
                  if (((puVar3[0x71] == '\0') &&
                      (iVar6 = FUN_BATTLE_BIN__80177794(uVar7), iVar6 == 0)) &&
                     (puVar3[0x5a] != '\0')) {
                    FUN_BATTLE_BIN__80177e64(iVar8,iVar5,uVar7);
                  }
                }
                iVar5 = iVar5 + 1;
              } while (iVar5 < (int)(uint)(byte)puVar3[0x55]);
            }
            uVar7 = uVar7 + 1;
          } while ((int)uVar7 <= (int)(uint)(byte)puVar2[5]);
        }
      }
      iVar8 = iVar8 + 1;
    } while (iVar8 < (int)(uint)(byte)puVar3[0x54]);
  }
  if ((puVar2[0x23] == '\0') && (puVar3[0x5b] != '\0')) {
    FUN_BATTLE_BIN__80177b64((int)puVar3);
  }
  return;
}



void FUN_BATTLE_BIN__80177e64(int param_1,int param_2,uint param_3)

{
  byte *pbVar1;
  char cVar2;
  undefined uVar3;
  undefined *puVar4;
  byte bVar5;
  
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4e4;
  pbVar1 = PTR_DAT_BATTLE_BIN__8018f4e4 + 0x55;
  PTR_DAT_BATTLE_BIN__8018f4e4[0x5a] = 0;
  if (4 < *pbVar1) {
    puVar4[0x6d] = **(undefined **)(puVar4 + 0x14);
    goto LAB_BATTLE_BIN__80177fd4;
  }
  puVar4[0x50] = *(undefined *)(*(int *)(puVar4 + 0x14) + 4);
  if (PTR_DAT_BATTLE_BIN__8018f4e0[0xe] == '\0') {
    if (puVar4[0x66] != -1) {
      cVar2 = puVar4[0x73];
      if (puVar4[0x72] == cVar2) {
        if (puVar4[0x44] != cVar2) {
          return;
        }
      }
      else if (puVar4[0x44] == cVar2) goto LAB_BATTLE_BIN__80177f2c;
      if ((byte)puVar4[0x66] <= (byte)puVar4[100]) {
        return;
      }
    }
LAB_BATTLE_BIN__80177f2c:
    uVar3 = puVar4[100];
    puVar4[100] = 0;
    puVar4[0x66] = uVar3;
  }
  else {
    if ((int)(uint)(byte)puVar4[0x67] < (int)param_3) {
      return;
    }
    if ((byte)puVar4[0x67] == param_3) {
      bVar5 = puVar4[0x50];
      if ((byte)puVar4[0x65] < bVar5) {
        return;
      }
      if (puVar4[0x65] == bVar5) {
        if (puVar4[0x73] != puVar4[0x44]) {
          return;
        }
        goto LAB_BATTLE_BIN__80177f8c;
      }
    }
    else {
LAB_BATTLE_BIN__80177f8c:
      bVar5 = puVar4[0x50];
    }
    if ((byte)puVar4[100] < bVar5) {
      puVar4[100] = puVar4[0x50];
    }
    puVar4[0x67] = (char)param_3;
  }
  puVar4[0x65] = puVar4[100];
  puVar4[0x72] = puVar4[0x44];
  puVar4[0x6d] = **(undefined **)(puVar4 + 0x14);
LAB_BATTLE_BIN__80177fd4:
  puVar4[0x70] = 0;
  puVar4[0x68] = puVar4[0x30];
  puVar4[0x69] = puVar4[0x32];
  puVar4[0x6a] = puVar4[0x34];
  if (4 < (byte)puVar4[0x54]) {
    puVar4[0x70] = 1;
    if (param_1 < 0) {
      param_1 = param_1 + 3;
    }
    puVar4[0x6f] = *(undefined *)(-0x7fe70b22 - (param_1 >> 2));
  }
  if (4 < (byte)puVar4[0x55]) {
    puVar4[0x70] = puVar4[0x70] | 2;
    puVar4[0x6e] = (&DAT_BATTLE_BIN__8018f4d8)[param_2];
  }
  if (puVar4[0x42] == '\0') {
    puVar4[0x6b] = 0;
    puVar4[0x6c] = 0;
  }
  else {
    puVar4[0x6b] = 1;
    puVar4[0x6c] = puVar4[0x43];
  }
  puVar4[0x5b] = 1;
  return;
}



int FUN_BATTLE_BIN__80178ca4
              (uint param_1,int param_2,int param_3,int param_4,int param_5,undefined4 *param_6,
              int param_7)

{
  byte bVar1;
  short sVar2;
  bool bVar3;
  undefined *puVar4;
  undefined *puVar5;
  undefined *puVar6;
  bool bVar7;
  undefined *puVar8;
  undefined1 *puVar9;
  undefined3 extraout_var;
  int iVar10;
  int iVar11;
  byte abStack_228 [512];
  
  puVar6 = PTR_DAT_BATTLE_BIN__8018f4f0;
  puVar8 = PTR_DAT_BATTLE_BIN__8018f4e8;
  puVar5 = PTR_DAT_BATTLE_BIN__8018f4e4;
  puVar4 = PTR_DAT_BATTLE_BIN__8018f4e0;
  bVar3 = false;
  *param_6 = 0;
  if (param_5 == 0) {
    StoreArg1_IntoArg2_(&DAT_BATTLE_BIN__80193924,(undefined *)&DAT_1f800000,0x400);
  }
  else {
    if (UnitBattleData[param_1].field0_0x0.UnitID == 0xff) {
      return -1;
    }
    iVar11 = 0xf;
    FUN_BATTLE_BIN__80174430(param_1);
    puVar4[6] = 0x7c;
    puVar8 = puVar8 + 0x69;
    do {
      puVar8[3] = 0xff;
      iVar11 = iVar11 + -1;
      puVar8 = puVar8 + -7;
    } while (-1 < iVar11);
    FUN_BATTLE_BIN__80174e84(1);
    iVar10 = (uint)(byte)puVar4[9] * 0x100 + (uint)(byte)puVar4[8] * (uint)(byte)puVar4[0x18] +
             (uint)(byte)puVar4[7];
    iVar11 = iVar10 * 5;
    (&DAT_BATTLE_BIN__80192ddb)[iVar11] = 0;
    (&DAT_BATTLE_BIN__80192dd8)[iVar11] = 0;
    puVar6[iVar10] = puVar6[iVar10] & 0xfe;
    puVar5[0x54] = 4;
    puVar5[0x55] = 4;
    (&DAT_BATTLE_BIN__80192dd8)[iVar11] = 0;
    (&DAT_BATTLE_BIN__80192ddc)[iVar11] = 0xff;
    iVar10 = param_4 * 0x100 + param_3 * (uint)(byte)puVar4[0x18] + param_2;
    iVar11 = iVar10 * 5;
    (&DAT_BATTLE_BIN__80192dd8)[iVar11] = 0x7d;
    puVar6[iVar10] = puVar6[iVar10] | 1;
    (&DAT_BATTLE_BIN__80192ddc)[iVar11] = 0;
    DAT_BATTLE_BIN__8018f7e8 = 0;
    puVar4[0x23] = 1;
  }
  if (puVar4[0xe] == '\x01') {
    iVar11 = 0x1ff;
    puVar9 = &DAT_BATTLE_BIN__801937d3;
    do {
      *puVar9 = 1;
      iVar11 = iVar11 + -1;
      puVar9 = puVar9 + -5;
    } while (-1 < iVar11);
  }
  else {
    iVar11 = DAT_BATTLE_BIN__8018f7e8;
    if (DAT_BATTLE_BIN__8018f7e8 < (int)(uint)(byte)puVar4[6]) {
      do {
        if (((param_7 != 0) &&
            (bVar7 = FUN_BATTLE_BIN__8019aef0(), CONCAT31(extraout_var,bVar7) != 0)) && (bVar3)) {
          DAT_BATTLE_BIN__8018f7e8 = iVar11;
          *param_6 = 1;
          StoreArg1_IntoArg2_((undefined *)&DAT_1f800000,&DAT_BATTLE_BIN__80193924,0x400);
          return 0;
        }
        if (puVar5[0x62] == '\0') break;
        *(undefined2 *)(puVar5 + 0x2a) = 0;
        do {
          *(undefined2 *)(puVar5 + 0x28) = 0;
          *(short *)(puVar5 + 0x2c) = (short)((int)*(short *)(puVar5 + 0x2a) << 8);
          if (puVar4[0x19] != '\0') {
            do {
              bVar1 = puVar4[0x18];
              *(undefined2 *)(puVar5 + 0x26) = 0;
              *(ushort *)(puVar5 + 0x2e) =
                   *(short *)(puVar5 + 0x2c) + *(short *)(puVar5 + 0x28) * (ushort)bVar1;
              if (puVar4[0x18] != '\0') {
                do {
                  *(short *)(puVar5 + 0x1a) = *(short *)(puVar5 + 0x2e) + *(short *)(puVar5 + 0x26);
                  *(undefined1 **)puVar5 =
                       &DAT_BATTLE_BIN__8018f8cc +
                       ((int)((uint)(ushort)(*(short *)(puVar5 + 0x2e) + *(short *)(puVar5 + 0x26))
                             << 0x10) >> 0xd);
                  *(undefined1 **)(puVar5 + 8) =
                       &DAT_BATTLE_BIN__80192dd8 + *(short *)(puVar5 + 0x1a) * 5;
                  abStack_228[*(short *)(puVar5 + 0x1a)] = puVar6[*(short *)(puVar5 + 0x1a)] & 1;
                  puVar6[*(short *)(puVar5 + 0x1a)] = puVar6[*(short *)(puVar5 + 0x1a)] & 0xfe;
                  sVar2 = *(short *)(puVar5 + 0x26);
                  *(short *)(puVar5 + 0x26) = sVar2 + 1;
                } while ((short)(sVar2 + 1) < (short)(ushort)(byte)puVar4[0x18]);
              }
              sVar2 = *(short *)(puVar5 + 0x28);
              *(short *)(puVar5 + 0x28) = sVar2 + 1;
            } while ((short)(sVar2 + 1) < (short)(ushort)(byte)puVar4[0x19]);
          }
          sVar2 = *(short *)(puVar5 + 0x2a);
          *(short *)(puVar5 + 0x2a) = sVar2 + 1;
        } while ((short)(sVar2 + 1) < 2);
        puVar5[0x62] = 0;
        *(undefined2 *)(puVar5 + 0x2a) = 0;
        do {
          *(undefined2 *)(puVar5 + 0x28) = 0;
          *(short *)(puVar5 + 0x2c) = (short)((int)*(short *)(puVar5 + 0x2a) << 8);
          if (puVar4[0x19] != '\0') {
            do {
              bVar1 = puVar4[0x18];
              *(undefined2 *)(puVar5 + 0x26) = 0;
              *(ushort *)(puVar5 + 0x2e) =
                   *(short *)(puVar5 + 0x2c) + *(short *)(puVar5 + 0x28) * (ushort)bVar1;
              if (puVar4[0x18] != '\0') {
                do {
                  *(short *)(puVar5 + 0x1a) = *(short *)(puVar5 + 0x2e) + *(short *)(puVar5 + 0x26);
                  *(undefined1 **)puVar5 =
                       &DAT_BATTLE_BIN__8018f8cc +
                       ((int)((uint)(ushort)(*(short *)(puVar5 + 0x2e) + *(short *)(puVar5 + 0x26))
                             << 0x10) >> 0xd);
                  *(undefined1 **)(puVar5 + 8) =
                       &DAT_BATTLE_BIN__80192dd8 + *(short *)(puVar5 + 0x1a) * 5;
                  if (abStack_228[*(short *)(puVar5 + 0x1a)] != 0) {
                    puVar5[0x40] = 0;
                    FUN_BATTLE_BIN__801779dc();
                    if (puVar4[0x1d] == '\0') {
                      puVar5[0x40] = 0;
                      FUN_BATTLE_BIN__80177c08();
                    }
                  }
                  sVar2 = *(short *)(puVar5 + 0x26);
                  *(short *)(puVar5 + 0x26) = sVar2 + 1;
                } while ((short)(sVar2 + 1) < (short)(ushort)(byte)puVar4[0x18]);
              }
              sVar2 = *(short *)(puVar5 + 0x28);
              *(short *)(puVar5 + 0x28) = sVar2 + 1;
            } while ((short)(sVar2 + 1) < (short)(ushort)(byte)puVar4[0x19]);
          }
          sVar2 = *(short *)(puVar5 + 0x2a);
          *(short *)(puVar5 + 0x2a) = sVar2 + 1;
        } while ((short)(sVar2 + 1) < 2);
        iVar11 = iVar11 + 1;
        bVar3 = true;
      } while (iVar11 < (int)(uint)(byte)puVar4[6]);
    }
  }
  FUN_BATTLE_BIN__80175288();
  DAT_BATTLE_BIN__8018f514 = (uint)(byte)puVar4[0xd];
  DAT_BATTLE_BIN__8018f510 = 1;
  return (int)*(short *)(puVar5 + 0x18);
}



void FUN_BATTLE_BIN__80179204(short param_1)

{
  byte *pbVar1;
  undefined1 *puVar2;
  undefined *puVar3;
  int iVar4;
  
  if (param_1 == 0x149) {
    iVar4 = 0;
    puVar3 = &DAT_BATTLE_BIN__80192dd8;
    puVar2 = &DAT_BATTLE_BIN__8018f8cc;
    do {
      pbVar1 = puVar2 + 3;
      puVar2 = puVar2 + 8;
      if ((*pbVar1 & 0xe0) != 0) {
        *puVar3 = 0;
      }
      iVar4 = iVar4 + 1;
      puVar3 = puVar3 + 5;
    } while (iVar4 < 0x200);
  }
  return;
}



void FUN_BATTLE_BIN__8017925c(void)

{
  byte *pbVar1;
  undefined *puVar2;
  undefined1 *puVar3;
  int iVar4;
  
  iVar4 = 0;
  puVar2 = &DAT_BATTLE_BIN__80192dd8;
  puVar3 = &DAT_BATTLE_BIN__8018f8cc;
  do {
    pbVar1 = puVar3 + 6;
    puVar3 = puVar3 + 8;
    if ((*pbVar1 & 2) != 0) {
      *puVar2 = 0;
      puVar2[1] = 0;
    }
    iVar4 = iVar4 + 1;
    puVar2 = puVar2 + 5;
  } while (iVar4 < 0x100);
  return;
}



void FUN_BATTLE_BIN__801792a4(uint param_1,uint param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined *puVar5;
  undefined *puVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  
  iVar3 = (param_2 & 0xff) << 1;
  uVar7 = param_1 & 0xff;
  iVar8 = 0;
  puVar6 = &DAT_BATTLE_BIN__80192dd8;
  iVar10 = 0x500;
  iVar9 = 0x800;
  do {
    iVar1 = iVar8 * 8;
    iVar4 = -0xff;
    if (((&DAT_BATTLE_BIN__8018f8d2)[iVar1] & 1) == 0) {
      iVar4 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar1] * 2 +
              ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar1] & 0x1f) +
              (uint)((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar1] >> 5) * 2;
    }
    else {
      *puVar6 = 0;
      puVar6[1] = 0;
    }
    puVar5 = &DAT_BATTLE_BIN__80192dd8 + iVar10;
    if (((&DAT_BATTLE_BIN__8018f8d2)[iVar9] & 1) == 0) {
      iVar1 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar9] * 2 +
              ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar9] & 0x1f) +
              (uint)((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar9] >> 5) * 2;
    }
    else {
      iVar1 = -0xff;
      *puVar5 = 0;
      (&DAT_BATTLE_BIN__80192dd9)[iVar10] = 0;
    }
    if (param_3 != 0) {
      if (iVar4 < iVar1) {
        iVar4 = -0xff;
      }
      else {
        iVar1 = -0xff;
      }
    }
    iVar2 = uVar7 - iVar4;
    if ((int)uVar7 <= iVar4) {
      iVar2 = iVar4 - uVar7;
    }
    if (iVar1 < (int)uVar7) {
      iVar1 = uVar7 - iVar1;
    }
    else {
      iVar1 = iVar1 - uVar7;
    }
    if (iVar1 < iVar2) {
      *puVar6 = 0;
      puVar6[1] = 0;
      if (iVar3 < iVar1) {
        *puVar5 = 0;
        (&DAT_BATTLE_BIN__80192dd9)[iVar10] = 0;
      }
    }
    else {
      *puVar5 = 0;
      (&DAT_BATTLE_BIN__80192dd9)[iVar10] = 0;
      if (iVar3 < iVar2) {
        *puVar6 = 0;
        puVar6[1] = 0;
      }
    }
    puVar6 = puVar6 + 5;
    iVar10 = iVar10 + 5;
    iVar8 = iVar8 + 1;
    iVar9 = iVar9 + 8;
  } while (iVar8 < 0x100);
  return;
}



void FUN_BATTLE_BIN__80179400(void)

{
  undefined1 *puVar1;
  int iVar2;
  
  iVar2 = 0x1ff;
  puVar1 = &DAT_BATTLE_BIN__801937d3;
  do {
    puVar1[1] = 0;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -5;
  } while (-1 < iVar2);
  return;
}



void FUN_BATTLE_BIN__80179424(int param_1,int param_2,int param_3)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar4 = 0;
  if (DAT_BATTLE_BIN__800e4ea0 != 0) {
    bVar1 = param_2 < 0;
    do {
      iVar5 = iVar4 - param_2;
      if (!bVar1) {
        iVar5 = param_2 - iVar4;
      }
      iVar3 = 0;
      if (DAT_BATTLE_BIN__800e4e9c != 0) {
        bVar1 = param_1 < 0;
        do {
          iVar2 = iVar3 - param_1;
          if (!bVar1) {
            iVar2 = param_1 - iVar3;
          }
          if (iVar5 + iVar2 <= param_3) {
            (&DAT_BATTLE_BIN__80192dd8)[(iVar4 * (uint)DAT_BATTLE_BIN__800e4e9c + iVar3) * 5] = 0;
            (&DAT_BATTLE_BIN__80192dd8)
            [(iVar4 * (uint)DAT_BATTLE_BIN__800e4e9c + iVar3 + 0x100) * 5] = 0;
          }
          iVar3 = iVar3 + 1;
          bVar1 = param_1 < iVar3;
        } while (iVar3 < (int)(uint)DAT_BATTLE_BIN__800e4e9c);
      }
      iVar4 = iVar4 + 1;
      bVar1 = param_2 < iVar4;
    } while (iVar4 < (int)(uint)DAT_BATTLE_BIN__800e4ea0);
  }
  return;
}



void FUN_BATTLE_BIN__80179518(byte param_1)

{
  bool bVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  
  if (param_1 == 0) {
    FUN_BATTLE_BIN__80179400();
  }
  else {
    iVar6 = 1;
    iVar7 = 0;
    if (param_1 != 0) {
      do {
        bVar1 = iVar6 == 0;
        iVar6 = 0;
        if (bVar1) {
          return;
        }
        iVar5 = 0;
        if (DAT_BATTLE_BIN__800e4ea0 != 0) {
          do {
            uVar3 = (uint)DAT_BATTLE_BIN__800e4e9c;
            iVar4 = 0;
            if (uVar3 != 0) {
              do {
                iVar2 = (iVar5 * uVar3 + iVar4) * 5;
                if ((&DAT_BATTLE_BIN__80192dd9)[iVar2] != '\0') {
                  (&DAT_BATTLE_BIN__80192dd9)[iVar2] = 0;
                  iVar2 = FUN_BATTLE_BIN__8017963c(iVar5,iVar4);
                  iVar6 = iVar6 + iVar2;
                }
                uVar3 = (uint)DAT_BATTLE_BIN__800e4e9c;
                iVar4 = iVar4 + 1;
              } while (iVar4 < (int)uVar3);
            }
            iVar5 = iVar5 + 1;
          } while (iVar5 < (int)(uint)DAT_BATTLE_BIN__800e4ea0);
        }
        iVar7 = iVar7 + 1;
      } while (iVar7 < (int)(uint)param_1);
    }
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8017963c(int param_1,int param_2)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int in_t2;
  int in_t3;
  undefined4 uVar6;
  
  uVar6 = 0;
  iVar5 = 0;
  bVar1 = (&DAT_BATTLE_BIN__80192dd8)[(param_1 * (uint)DAT_BATTLE_BIN__800e4e9c + param_2) * 5];
  do {
    if (iVar5 == 1) {
      in_t3 = 0;
      in_t2 = 1;
LAB_BATTLE_BIN__801796e0:
      iVar4 = param_2 + in_t3;
    }
    else {
      if (1 < iVar5) {
        if (iVar5 == 2) {
          in_t3 = -1;
          in_t2 = 0;
        }
        else {
          iVar4 = param_2 + in_t3;
          if (iVar5 != 3) goto LAB_BATTLE_BIN__801796e4;
          in_t3 = 0;
          in_t2 = -1;
        }
        goto LAB_BATTLE_BIN__801796e0;
      }
      iVar4 = param_2 + in_t3;
      if (iVar5 == 0) {
        in_t3 = 1;
        in_t2 = 0;
        goto LAB_BATTLE_BIN__801796e0;
      }
    }
LAB_BATTLE_BIN__801796e4:
    iVar3 = param_1 + in_t2;
    if ((((-1 < iVar4) && (-1 < iVar3)) && (iVar4 < (int)(uint)DAT_BATTLE_BIN__800e4e9c)) &&
       (iVar3 < (int)(uint)DAT_BATTLE_BIN__800e4ea0)) {
      iVar2 = (iVar3 * (uint)DAT_BATTLE_BIN__800e4e9c + iVar4) * 5;
      if ((byte)(&DAT_BATTLE_BIN__80192dd8)[iVar2] < bVar1) {
        (&DAT_BATTLE_BIN__80192dd8)[iVar2] = bVar1 - 1;
        (&DAT_BATTLE_BIN__80192dd8)[(iVar3 * (uint)DAT_BATTLE_BIN__800e4e9c + iVar4 + 0x100) * 5] =
             bVar1 - 1;
        if (2 < bVar1) {
          (&DAT_BATTLE_BIN__80192dd9)[iVar2] = 1;
          uVar6 = 1;
        }
      }
    }
    iVar5 = iVar5 + 1;
    if (3 < iVar5) {
      return uVar6;
    }
  } while( true );
}



char FUN_BATTLE_BIN__801797b4(BattleUnitData *param_1)

{
  byte bVar1;
  bool bVar2;
  char cVar3;
  int iVar4;
  char cVar5;
  
  bVar2 = false;
  iVar4 = GetUnitTileID(param_1);
  iVar4 = iVar4 * 8;
  bVar1 = (param_1->field1_0x16e).field_0x14;
  cVar3 = (&DAT_BATTLE_BIN__8018f8ce)[iVar4] * '\x02' + ((&DAT_BATTLE_BIN__8018f8cf)[iVar4] & 0x1f);
  cVar5 = ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar4] >> 5) * '\x02';
  if ((bVar1 & 0x80) != 0) {
    param_1 = UnitBattleData + (bVar1 & 0x1f);
    cVar3 = cVar3 + '\x02';
  }
  bVar1 = (param_1->field0_0x0).field_0x95;
  if (((bVar1 & 8) != 0) || (((param_1->field0_0x0).CurrentStatuses.field_0x2 & 0x40) != 0)) {
    cVar3 = cVar3 + '\x02';
    bVar2 = true;
  }
  if ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar4] >> 5 != 0) {
    if ((bVar2) || ((bVar1 & 0x80) != 0)) {
      cVar3 = cVar3 + cVar5;
    }
    else if ((bVar1 & 0x40) != 0) {
      cVar3 = cVar5 + cVar3 + -2;
    }
  }
  return cVar3;
}



void FUN_BATTLE_BIN__801798b0(BattleUnitData *param_1,uint param_2)

{
  bool bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  uint uVar11;
  
  bVar2 = FUN_BATTLE_BIN__801797b4(param_1);
  uVar10 = (uint)(param_1->field0_0x0).MapX;
  uVar11 = (uint)(param_1->field0_0x0).MapY;
  iVar8 = 0;
  if (DAT_BATTLE_BIN__800e4ea0 != 0) {
    bVar1 = false;
    do {
      iVar9 = iVar8 - uVar11;
      if (!bVar1) {
        iVar9 = uVar11 - iVar8;
      }
      iVar7 = 0;
      if (DAT_BATTLE_BIN__800e4e9c != 0) {
        bVar1 = false;
        do {
          iVar3 = iVar7 - uVar10;
          if (!bVar1) {
            iVar3 = uVar10 - iVar7;
          }
          if (2 < iVar3 + iVar9) {
            iVar6 = 0;
            do {
              iVar5 = iVar6 * 0x100 + iVar8 * (uint)DAT_BATTLE_BIN__800e4e9c + iVar7;
              iVar4 = iVar5 * 8;
              iVar4 = (uint)bVar2 -
                      ((uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar4] * 2 +
                       ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar4] & 0x1f) +
                       (uint)((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar4] >> 5) * 2 & 0xff);
              if (iVar4 < 0) {
                iVar4 = iVar4 + 3;
              }
              iVar6 = iVar6 + 1;
              if ((iVar3 + iVar9) - (iVar4 >> 2) <= (int)(param_2 & 0xff)) {
                (&DAT_BATTLE_BIN__80192dd8)[iVar5 * 5] = 1;
              }
            } while (iVar6 < 2);
          }
          iVar7 = iVar7 + 1;
          bVar1 = (int)uVar10 < iVar7;
        } while (iVar7 < (int)(uint)DAT_BATTLE_BIN__800e4e9c);
      }
      iVar8 = iVar8 + 1;
      bVar1 = (int)uVar11 < iVar8;
    } while (iVar8 < (int)(uint)DAT_BATTLE_BIN__800e4ea0);
  }
  return;
}



void FUN_BATTLE_BIN__80179a20(BattleUnitData *param_1)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  
  uVar6 = (uint)(param_1->field0_0x0).MapY;
  uVar4 = (uint)(param_1->field0_0x0).RHWeapon;
  uVar5 = (uint)(param_1->field0_0x0).MapX;
  if (((param_1->field0_0x0).CurrentStatuses.field_0x2 & 2) != 0) {
    uVar4 = 0;
  }
  if ((uVar4 == 0xff) && (uVar4 = (uint)(param_1->field0_0x0).LHWeapon, uVar4 == 0xff)) {
    uVar4 = 0;
  }
  if (0x7f < uVar4) {
    uVar4 = 0;
  }
  iVar3 = (uVar5 + uVar6 * DAT_BATTLE_BIN__800e4e9c) * 5;
  bVar1 = WeaponSecondary[uVar4].Range;
  bVar2 = WeaponSecondary[uVar4].field_0x1;
  (&DAT_BATTLE_BIN__80192dd8)[iVar3] = bVar1 + 1;
  (&DAT_BATTLE_BIN__801932d8)[iVar3] = bVar1 + 1;
  (&DAT_BATTLE_BIN__80192dd9)[iVar3] = 1;
  if ((bVar2 & 0xc0) == 0) {
    if ((bVar2 & 0x20) == 0) {
      FUN_BATTLE_BIN__801798b0(param_1,(uint)bVar1);
    }
    else {
      FUN_BATTLE_BIN__80179518(bVar1);
      FUN_BATTLE_BIN__80179424(uVar5,uVar6,2);
    }
  }
  else {
    FUN_BATTLE_BIN__80179b58(param_1,(uint)bVar2);
  }
  FUN_BATTLE_BIN__80179d84();
  return;
}



void FUN_BATTLE_BIN__80179b58(BattleUnitData *param_1,uint param_2)

{
  byte bVar1;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  uint uVar2;
  
  bVar1 = FUN_BATTLE_BIN__801797b4(param_1);
  uVar2 = (uint)bVar1;
  uVar6 = (uint)(param_1->field0_0x0).MapX;
  uVar7 = (uint)(param_1->field0_0x0).MapY;
  if ((param_2 & 0x80) == 0) {
    iVar3 = 1;
    iVar5 = uVar2 + 7;
    iVar8 = -8;
    do {
      iVar4 = uVar2 + iVar8;
      FUN_BATTLE_BIN__80179c9c(uVar6 - iVar3,uVar7,iVar4,iVar5);
      FUN_BATTLE_BIN__80179c9c(uVar6 + iVar3,uVar7,iVar4,iVar5);
      FUN_BATTLE_BIN__80179c9c(uVar6,uVar7 - iVar3,iVar4,iVar5);
      FUN_BATTLE_BIN__80179c9c(uVar6,uVar7 + iVar3,iVar4,iVar5);
      iVar3 = iVar3 + 1;
      iVar8 = iVar8 + 2;
    } while (iVar3 < 3);
  }
  else {
    iVar3 = uVar2 - 6;
    iVar5 = uVar2 + 5;
    FUN_BATTLE_BIN__80179c9c(uVar6 - 1,uVar7,iVar3,iVar5);
    FUN_BATTLE_BIN__80179c9c(uVar6 + 1,uVar7,iVar3,iVar5);
    FUN_BATTLE_BIN__80179c9c(uVar6,uVar7 - 1,iVar3,iVar5);
    FUN_BATTLE_BIN__80179c9c(uVar6,uVar7 + 1,iVar3,iVar5);
  }
  return;
}



void FUN_BATTLE_BIN__80179c9c(int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if ((((-1 < param_1) && (param_1 < (int)(uint)DAT_BATTLE_BIN__800e4e9c)) && (-1 < param_2)) &&
     (param_2 < (int)(uint)DAT_BATTLE_BIN__800e4ea0)) {
    iVar3 = 0;
    if (param_3 < 0) {
      param_3 = 0;
    }
    do {
      iVar1 = iVar3 * 0x100 + param_2 * (uint)DAT_BATTLE_BIN__800e4e9c + param_1;
      iVar2 = iVar1 * 8;
      iVar2 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar2] * 2 +
              ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar2] & 0x1f) +
              (uint)((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar2] >> 5) * 2;
      iVar3 = iVar3 + 1;
      if ((param_3 <= iVar2) && (iVar2 <= param_4)) {
        (&DAT_BATTLE_BIN__80192dd8)[iVar1 * 5] = 1;
      }
    } while (iVar3 < 2);
  }
  return;
}



void FUN_BATTLE_BIN__80179d84(void)

{
  byte *pbVar1;
  undefined1 *puVar2;
  undefined *puVar3;
  int iVar4;
  
  iVar4 = 0;
  puVar3 = &DAT_BATTLE_BIN__80192dd8;
  puVar2 = &DAT_BATTLE_BIN__8018f8cc;
  do {
    pbVar1 = puVar2 + 6;
    puVar2 = puVar2 + 8;
    if ((*pbVar1 & 2) != 0) {
      *puVar3 = 0;
    }
    iVar4 = iVar4 + 1;
    puVar3 = puVar3 + 5;
  } while (iVar4 < 0x200);
  return;
}



int FUN_BATTLE_BIN__80179dc8(CurActionTargetData *param_1)

{
  byte bVar1;
  ushort uVar2;
  int iVar3;
  int iVar4;
  char *pcVar5;
  int iVar6;
  short sVar7;
  uint uVar8;
  undefined1 *puVar9;
  short sVar10;
  short *psVar11;
  undefined1 *puVar12;
  int iVar13;
  char *pcVar14;
  uint uVar15;
  uint uVar16;
  short local_100 [20];
  byte abStack_d8 [24];
  byte abStack_c0 [72];
  byte abStack_78 [24];
  undefined auStack_60 [24];
  CurActionTargetData local_48;
  
  bVar1 = 1;
  BATTLE_Unit_Targetting_to_Temp(param_1,&local_48);
  uVar15 = 2;
  if (UnitBattleData[local_48.AttackerID].field0_0x0.JobID == Mime) {
    bVar1 = 8;
    uVar15 = 0x10;
  }
  iVar3 = GetUnitTileID(UnitBattleData + local_48.AttackerID);
  uVar16 = ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar3 * 8] & 0x1f) +
           (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar3 * 8] * 2;
  iVar4 = FUN_BATTLE_BIN__801817c0
                    ((uint)local_48.AttackerID,local_48.SkillsetOfAttack,local_100,abStack_d8,
                     abStack_c0,0,abStack_78,auStack_60);
  iVar13 = 0;
  if (0 < iVar4) {
    psVar11 = local_100;
    do {
      uVar2 = *psVar11 - 0x18a;
      if ((ushort)(*psVar11 - 0x18aU) < 0xc) {
        uVar8 = (uint)SecondaryJumpData[uVar2].Vert << 1;
        if (bVar1 < SecondaryJumpData[uVar2].Range) {
          bVar1 = SecondaryJumpData[uVar2].Range;
        }
        if ((uVar15 & 0xff) < (uVar8 & 0xff)) {
          uVar15 = uVar8;
        }
      }
      iVar13 = iVar13 + 1;
      psVar11 = psVar11 + 1;
    } while (iVar13 < iVar4);
  }
  iVar4 = uVar16 - (uVar15 & 0xff);
  if (iVar4 < 0) {
    iVar4 = 0;
  }
  FUN_BATTLE_BIN__8017ded0();
  iVar13 = iVar3 + 0x100;
  if (0xff < iVar3) {
    iVar13 = iVar3 + -0x100;
  }
  (&DAT_BATTLE_BIN__80192dd8)[iVar3 * 5] = bVar1 + 1;
  (&DAT_BATTLE_BIN__80192dd8)[iVar13 * 5] = bVar1 + 1;
  if (iVar3 < 0x100) {
    (&DAT_BATTLE_BIN__80192dd9)[iVar3 * 5] = 1;
  }
  else {
    (&DAT_BATTLE_BIN__80192dd9)[iVar13 * 5] = 1;
  }
  FUN_BATTLE_BIN__80179518(bVar1);
  iVar6 = iVar13 * 8;
  (&DAT_BATTLE_BIN__80192dd8)[iVar3 * 5] = '\0';
  (&DAT_BATTLE_BIN__80192dd8)[iVar13 * 5] = '\0';
  if ((((&DAT_BATTLE_BIN__8018f8d2)[iVar6] & 1) != 0) ||
     (iVar3 = 0,
     ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar6] & 0x1f) +
     (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar6] * 2 <= uVar16)) {
    iVar3 = 0;
    iVar13 = 0;
    pcVar5 = &DAT_BATTLE_BIN__80192dd8;
    pcVar14 = &DAT_BATTLE_BIN__801932d8;
    do {
      iVar6 = iVar13 * 8;
      if ((*pcVar5 == '\0') || (((&DAT_BATTLE_BIN__8018f8d2)[iVar6] & 1) != 0)) {
        sVar10 = -1;
      }
      else {
        sVar10 = ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar6] & 0x1f) +
                 (ushort)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar6] * 2;
      }
      sVar7 = -1;
      if ((*pcVar14 != '\0') && (((&DAT_BATTLE_BIN__801900d2)[iVar6] & 1) == 0)) {
        sVar7 = ((byte)(&DAT_BATTLE_BIN__801900cf)[iVar6] & 0x1f) +
                (ushort)(byte)(&DAT_BATTLE_BIN__801900ce)[iVar6] * 2;
      }
      puVar9 = &DAT_BATTLE_BIN__8018f8cc + iVar6;
      puVar12 = (undefined1 *)(iVar6 + -0x7fe6ff34);
      if (sVar10 < sVar7) {
        puVar9 = (undefined1 *)(iVar6 + -0x7fe6ff34);
        puVar12 = &DAT_BATTLE_BIN__8018f8cc + iVar6;
        sVar10 = sVar7;
      }
      if ((((int)sVar10 < (int)(short)iVar4) || ((int)(uVar16 + (uVar15 & 0xff)) < (int)sVar10)) ||
         ((puVar9[6] & 2) != 0)) {
        bVar1 = puVar9[5] & 0xbf;
      }
      else {
        iVar3 = iVar3 + 1;
        bVar1 = puVar9[5] | 0x40;
      }
      puVar9[5] = bVar1;
      pcVar5 = pcVar5 + 5;
      iVar13 = iVar13 + 1;
      puVar12[5] = puVar12[5] & 0xbf;
      pcVar14 = pcVar14 + 5;
    } while (iVar13 < 0x100);
  }
  return iVar3;
}



int FUN_BATTLE_BIN__8017a16c(int param_1,byte param_2)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  undefined1 *puVar4;
  char cVar5;
  int iVar6;
  int iVar7;
  char *pcVar8;
  
  bVar2 = *(byte *)(param_1 + 0x48);
  uVar3 = (uint)DAT_BATTLE_BIN__800e4e9c;
  bVar1 = *(byte *)(param_1 + 0x47);
  FUN_BATTLE_BIN__8017ded0();
  cVar5 = (param_2 & 0x7f) + 1;
  iVar6 = (bVar2 * uVar3 + (uint)bVar1) * 5;
  pcVar8 = &DAT_BATTLE_BIN__80192dd8;
  (&DAT_BATTLE_BIN__80192dd8)[iVar6] = cVar5;
  (&DAT_BATTLE_BIN__801932d8)[iVar6] = cVar5;
  (&DAT_BATTLE_BIN__80192dd9)[iVar6] = 1;
  FUN_BATTLE_BIN__80179518(param_2);
  iVar7 = 0;
  if ((param_2 & 0x80) != 0) {
    (&DAT_BATTLE_BIN__80192dd8)[iVar6] = '\0';
    (&DAT_BATTLE_BIN__801932d8)[iVar6] = '\0';
  }
  iVar6 = 0;
  puVar4 = &DAT_BATTLE_BIN__8018f8cc;
  do {
    if ((*pcVar8 == '\0') || ((puVar4[6] & 3) != 0)) {
      bVar2 = puVar4[5] & 0xbf;
    }
    else {
      iVar7 = iVar7 + 1;
      bVar2 = puVar4[5] | 0x40;
    }
    puVar4[5] = bVar2;
    pcVar8 = pcVar8 + 5;
    iVar6 = iVar6 + 1;
    puVar4 = puVar4 + 8;
  } while (iVar6 < 0x200);
  return iVar7;
}



void FUN_BATTLE_BIN__8017a290(CurActionTargetData *param_1)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  undefined *puVar9;
  BattleUnitData *UnitBattlePtr;
  uint uVar10;
  uint uVar11;
  CurActionTargetData local_58;
  byte local_38;
  byte local_30;
  
  BATTLE_Unit_Targetting_to_Temp(param_1,&local_58);
  uVar7 = (uint)local_58.AttackerID;
  UnitBattlePtr = UnitBattleData + uVar7;
  iVar8 = (int)(short)local_58.AttackToUse;
  local_58.CurrentATUnit = SecondaryAbilityData[iVar8].AOE;
  bVar1 = SecondaryAbilityData[iVar8].Range;
  local_38 = SecondaryAbilityData[iVar8].Vert;
  bVar2 = SecondaryAbilityData[iVar8].field_0x3;
  local_30 = SecondaryAbilityData[iVar8].field_0x6;
  uVar10 = (uint)UnitBattleData[uVar7].field0_0x0.MapX;
  uVar11 = (uint)UnitBattleData[uVar7].field0_0x0.MapY;
  iVar8 = GetUnitTileID(UnitBattlePtr);
  iVar6 = iVar8 * 8;
  puVar9 = &DAT_BATTLE_BIN__80192dd8;
  bVar3 = (&DAT_BATTLE_BIN__8018f8cf)[iVar6];
  uVar7 = (uint)DAT_BATTLE_BIN__800e4e9c;
  bVar4 = (&DAT_BATTLE_BIN__8018f8ce)[iVar6];
  bVar5 = (&DAT_BATTLE_BIN__8018f8cf)[iVar6];
  iVar6 = 0;
  if (bVar1 == 0xff) {
    do {
      *puVar9 = 1;
      puVar9[1] = 0;
      iVar6 = iVar6 + 1;
      puVar9 = puVar9 + 5;
    } while (iVar6 < 0x200);
  }
  else {
    do {
      *puVar9 = 0;
      puVar9[1] = 0;
      iVar6 = iVar6 + 1;
      puVar9 = puVar9 + 5;
    } while (iVar6 < 0x200);
    iVar6 = (uVar11 * uVar7 + uVar10) * 5;
    (&DAT_BATTLE_BIN__80192dd8)[iVar6] = bVar1 + 1;
    (&DAT_BATTLE_BIN__801932d8)[iVar6] = bVar1 + 1;
    (&DAT_BATTLE_BIN__80192dd9)[iVar6] = 1;
    if ((bVar2 & 0x20) == 0) {
      FUN_BATTLE_BIN__80179518(bVar1);
    }
    else {
      FUN_BATTLE_BIN__80179a20(UnitBattlePtr);
      (&DAT_BATTLE_BIN__80192dd8)[iVar6] = '\0';
      (&DAT_BATTLE_BIN__801932d8)[iVar6] = '\0';
    }
  }
  if ((bVar2 & 1) != 0) {
    (&DAT_BATTLE_BIN__80192dd8)[iVar8 * 5] = 0;
  }
  if ((bVar2 & 0x10) != 0) {
    FUN_BATTLE_BIN__8017a7bc(uVar10,uVar11);
  }
  if ((bVar2 & 8) != 0) {
    FUN_BATTLE_BIN__801792a4
              ((uint)bVar4 * 2 + (bVar3 & 0x1f) + (uint)(bVar5 >> 5) * 2 & 0xff,(uint)local_38,0);
  }
  if ((local_58.CurrentATUnit == 0) || ((local_30 & 0x20) != 0)) {
    FUN_BATTLE_BIN__8017925c();
  }
  if ((bVar2 & 0xc0) != 0) {
    FUN_BATTLE_BIN__8017a6dc(UnitBattlePtr,(uint)bVar2);
  }
  if ((bVar2 & 0xd0) == 0) {
    FUN_BATTLE_BIN__8017a5bc();
  }
  else {
    FUN_BATTLE_BIN__8017a64c();
  }
  return;
}



void FUN_BATTLE_BIN__8017a518(CurActionTargetData *param_1)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  byte local_28;
  
  BATTLE_Unit_Targetting_to_Temp(param_1,(CurActionTargetData *)&local_28);
  uVar4 = (uint)local_28;
  bVar1 = UnitBattleData[uVar4].field0_0x0.MapY;
  uVar5 = (uint)DAT_BATTLE_BIN__800e4e9c;
  bVar2 = UnitBattleData[uVar4].field0_0x0.MapX;
  FUN_BATTLE_BIN__8017ded0();
  FUN_BATTLE_BIN__80179a20(UnitBattleData + uVar4);
  iVar3 = (bVar1 * uVar5 + (uint)bVar2) * 5;
  (&DAT_BATTLE_BIN__80192dd8)[iVar3] = 0;
  (&DAT_BATTLE_BIN__801932d8)[iVar3] = 0;
  FUN_BATTLE_BIN__8017a5bc();
  return;
}



int FUN_BATTLE_BIN__8017a5bc(void)

{
  byte bVar1;
  byte *pbVar2;
  char *pcVar3;
  int iVar4;
  int iVar5;
  
  iVar5 = 0;
  iVar4 = 0;
  pbVar2 = &DAT_BATTLE_BIN__8018f8cc;
  pcVar3 = &DAT_BATTLE_BIN__80192dd8;
  do {
    if (((*pcVar3 == '\0') || ((pbVar2[6] & 1) != 0)) || ((*pbVar2 & 0x3f) == 0x3f)) {
      bVar1 = pbVar2[5] & 0xbf;
    }
    else {
      iVar5 = iVar5 + 1;
      bVar1 = pbVar2[5] | 0x40;
    }
    pbVar2[5] = bVar1;
    pbVar2 = pbVar2 + 8;
    iVar4 = iVar4 + 1;
    pcVar3 = pcVar3 + 5;
  } while (iVar4 < 0x200);
  return iVar5;
}



int FUN_BATTLE_BIN__8017a64c(void)

{
  byte bVar1;
  byte *pbVar2;
  undefined1 *puVar3;
  int iVar4;
  int iVar5;
  
  iVar5 = 0;
  iVar4 = 0;
  pbVar2 = &DAT_BATTLE_BIN__8018f8cc;
  puVar3 = &DAT_BATTLE_BIN__80192dd8;
  do {
    if (((puVar3[1] == '\0') || ((pbVar2[6] & 1) != 0)) || ((*pbVar2 & 0x3f) == 0x3f)) {
      bVar1 = pbVar2[5] & 0xbf;
    }
    else {
      iVar5 = iVar5 + 1;
      bVar1 = pbVar2[5] | 0x40;
    }
    pbVar2[5] = bVar1;
    pbVar2 = pbVar2 + 8;
    iVar4 = iVar4 + 1;
    puVar3 = puVar3 + 5;
  } while (iVar4 < 0x200);
  return iVar5;
}



void FUN_BATTLE_BIN__8017a6dc(BattleUnitData *param_1,uint param_2)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  bVar1 = (param_1->field0_0x0).field_0x5;
  do {
    if ((param_1->field0_0x0).UnitID != 0xff) {
      bVar2 = bVar1 ^ (param_1->field2_0x18c).field_0x2e;
      iVar3 = GetUnitTileID(param_1);
      if (((param_2 & 0x80) != 0) && ((bVar2 & 0x30) == 0)) {
        (&DAT_BATTLE_BIN__80192dd9)[iVar3 * 5] = 1;
      }
      if (((param_2 & 0x40) != 0) && ((bVar2 & 0x30) != 0)) {
        (&DAT_BATTLE_BIN__80192dd9)[iVar3 * 5] = 1;
      }
    }
    iVar4 = iVar4 + 1;
  } while (iVar4 < 0x15);
  return;
}



void FUN_BATTLE_BIN__8017a7bc(uint param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = -0x1f;
  do {
    iVar3 = (param_1 & 0xff) + iVar2;
    iVar1 = ((param_2 & 0xff) * (uint)DAT_BATTLE_BIN__800e4e9c + iVar3) * 5;
    if (((-1 < iVar3) && (iVar3 < (int)(uint)DAT_BATTLE_BIN__800e4e9c)) &&
       ((&DAT_BATTLE_BIN__80192dd8)[iVar1] != '\0')) {
      (&DAT_BATTLE_BIN__80192dd9)[iVar1] = 1;
      (&DAT_BATTLE_BIN__801932d9)[iVar1] = 1;
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x20);
  iVar2 = -0x1f;
  do {
    iVar3 = (param_2 & 0xff) + iVar2;
    iVar1 = (iVar3 * (uint)DAT_BATTLE_BIN__800e4e9c + (param_1 & 0xff)) * 5;
    if (((-1 < iVar3) && (iVar3 < (int)(uint)DAT_BATTLE_BIN__800e4ea0)) &&
       ((&DAT_BATTLE_BIN__80192dd8)[iVar1] != '\0')) {
      (&DAT_BATTLE_BIN__80192dd9)[iVar1] = 1;
      (&DAT_BATTLE_BIN__801932d9)[iVar1] = 1;
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x20);
  return;
}



uint FUN_BATTLE_BIN__8017a8c0(CurActionTargetData *param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  byte unaff_s2;
  int unaff_s3;
  AbilityID unaff_s4;
  byte unaff_s5;
  byte local_38;
  SkillsetID local_37;
  AbilityID local_36;
  ItemID local_30;
  
  BATTLE_Unit_Targetting_to_Temp(param_1,(CurActionTargetData *)&local_38);
  uVar1 = (uint)local_38;
  iVar3 = 0;
  if (0x14 < uVar1) {
    return 0xffffffff;
  }
  if (UnitBattleData[uVar1].field0_0x0.UnitID == 0xff) {
    return 0xffffffff;
  }
  switch(ActionMenus[local_37]) {
  case Default:
  case Monster:
    iVar3 = 1;
    unaff_s4 = local_36;
    break;
  case Item:
    unaff_s2 = 4;
    if (((*(byte *)((int)&UnitBattleData[uVar1].field0_0x0.Supports + 2) & 8) == 0) &&
       (UnitBattleData[uVar1].field0_0x0.JobID != Mime)) {
      unaff_s2 = 1;
      iVar3 = 2;
    }
    else {
      iVar3 = 2;
    }
    break;
  case Throw:
    iVar3 = 2;
    unaff_s2 = UnitBattleData[uVar1].field0_0x0.Move | 0x80;
    break;
  default:
    goto LAB_BATTLE_BIN__8017aad0;
  case Geomancy:
    iVar3 = GetUnitTileID(UnitBattleData + uVar1);
    unaff_s4 = (AbilityID)
               (byte)GeomancyAbilityTable[(byte)(&DAT_BATTLE_BIN__8018f8cc)[iVar3 * 8] & 0x3f];
    iVar3 = 1;
    break;
  case DEPRECATED:
  case BUGGED2:
    goto LAB_BATTLE_BIN__8017aad0;
  case DrawOut:
    iVar3 = 1;
    if (9 < local_30 - 0x26) {
      return 0xffffffff;
    }
    unaff_s4 = local_30 + Float;
    break;
  case Attack:
  case Aim:
    unaff_s3 = FUN_BATTLE_BIN__8017a518((CurActionTargetData *)&local_38);
    goto LAB_BATTLE_BIN__8017aa24;
  case Jump:
    unaff_s3 = FUN_BATTLE_BIN__80179dc8((CurActionTargetData *)&local_38);
LAB_BATTLE_BIN__8017aa24:
    unaff_s5 = 0x10;
  }
  if (iVar3 == 1) {
    uVar2 = (uint)unaff_s4;
    if (0x16f < uVar2) {
LAB_BATTLE_BIN__8017aad0:
      return 0xffffffff;
    }
    unaff_s2 = SecondaryAbilityData[uVar2].Range;
    unaff_s5 = SecondaryAbilityData[uVar2].field_0x4;
    if ((((SecondaryAbilityData[uVar2].field_0x3 & 2) != 0) && (unaff_s2 == 0)) &&
       ((SecondaryAbilityData[uVar2].field_0x3 & 0x20) == 0)) {
LAB_BATTLE_BIN__8017aad0:
      return 2;
    }
    local_36 = unaff_s4;
    unaff_s3 = FUN_BATTLE_BIN__8017a290((CurActionTargetData *)&local_38);
  }
  if (iVar3 == 2) {
    unaff_s3 = FUN_BATTLE_BIN__8017a16c((int)(UnitBattleData + uVar1),unaff_s2);
    unaff_s5 = 0x10;
  }
  if (unaff_s3 == 0) {
    uVar1 = 3;
  }
  else {
    uVar1 = (uint)((unaff_s5 & 0x10) != 0);
  }
  return uVar1;
}



int FUN_BATTLE_BIN__8017aaf8(CurActionTargetData *param_1)

{
  AbilityIDByte AVar1;
  undefined3 extraout_var;
  uint uVar2;
  uint unaff_s0;
  int iVar3;
  int unaff_s2;
  byte local_28;
  SkillsetID local_27;
  AbilityID local_26;
  ItemID local_20;
  byte local_1e;
  byte local_1d;
  
  BATTLE_Unit_Targetting_to_Temp(param_1,(CurActionTargetData *)&local_28);
  uVar2 = (uint)local_28;
  iVar3 = 1;
  if ((uVar2 < 0x15) && (UnitBattleData[uVar2].field0_0x0.UnitID != 0xff)) {
    if ((local_1e == 6) && (0x14 < local_1d)) {
      return -1;
    }
    switch(ActionMenus[local_27]) {
    case Default:
    case Monster:
      unaff_s0 = (uint)local_26;
      break;
    case Item:
    case Throw:
    case Attack:
    case Jump:
    case Aim:
      iVar3 = 2;
      break;
    case Math:
      unaff_s2 = FUN_BATTLE_BIN__8017b4d0((CurActionTargetData *)&local_28);
      iVar3 = 0;
      break;
    case Geomancy:
      AVar1 = FUN_BATTLE_BIN__8017f2d8(UnitBattleData + uVar2);
      unaff_s0 = CONCAT31(extraout_var,AVar1);
      break;
    case DEPRECATED:
    case BUGGED2:
      goto switchD_BATTLE_BIN__8017aba4_caseD_5;
    case DrawOut:
      if (9 < local_20 - 0x26) {
        return -1;
      }
      unaff_s0 = local_20 + 0x26;
      break;
    default:
      return 2;
    }
    if (iVar3 == 1) {
      if (0x16f < (unaff_s0 & 0xffff)) goto switchD_BATTLE_BIN__8017aba4_caseD_5;
      local_26 = (AbilityID)unaff_s0;
      unaff_s2 = FUN_BATTLE_BIN__8017b874((CurActionTargetData *)&local_28);
    }
    if (iVar3 == 2) {
      unaff_s2 = FUN_BATTLE_BIN__8017b7b4((CurActionTargetData *)&local_28);
    }
    if (unaff_s2 == 0) {
      iVar3 = 1;
    }
    else {
      iVar3 = -(uint)(unaff_s2 == -1);
    }
  }
  else {
switchD_BATTLE_BIN__8017aba4_caseD_5:
    iVar3 = -1;
  }
  return iVar3;
}



undefined4 FUN_BATTLE_BIN__8017ac90(CurActionTargetData *param_1)

{
  SkillsetType SVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  byte bVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  byte local_38;
  SkillsetID local_37;
  byte local_36;
  byte local_2e;
  byte local_2d;
  ushort local_2c;
  ushort local_2a;
  ushort local_28;
  
  BATTLE_Unit_Targetting_to_Temp(param_1,(CurActionTargetData *)&local_38);
  uVar10 = (uint)local_38;
  if (uVar10 < 0x15) {
    if (UnitBattleData[uVar10].field0_0x0.UnitID == 0xff) {
      return 0xffffffff;
    }
    SVar1 = ActionMenus[local_37];
    bVar7 = 0;
    if ((SVar1 == Default) || (SVar1 == Monster)) {
      bVar7 = SecondaryAbilityData[local_36].field_0x3;
    }
    if (((SVar1 == Attack) || (SVar1 == Aim)) || ((bVar7 & 0x20) != 0)) {
      uVar5 = (uint)UnitBattleData[uVar10].field0_0x0.LHWeapon;
      uVar6 = (uint)UnitBattleData[uVar10].field0_0x0.RHWeapon;
      uVar5 = uVar5 & -(uint)(uVar5 != 0xff);
      if (uVar6 != 0xff) {
        uVar5 = uVar6;
      }
      if ((((UnitBattleData[uVar10].field0_0x0.CurrentStatuses.field_0x2 & 2) != 0) ||
          ((UnitBattleData[uVar10].field0_0x0.field_0x6 & 0x20) != 0)) || (uVar5 == 0xff)) {
        uVar5 = 0;
      }
      if (0x7f < uVar5) goto LAB_BATTLE_BIN__8017ae10;
      bVar7 = WeaponSecondary[uVar5].field_0x1;
    }
    else {
      bVar7 = 0x20;
      if (local_2e == 6) {
        uVar5 = (uint)local_2d;
        if (0x14 < uVar5) goto LAB_BATTLE_BIN__8017ae10;
        local_2c = (ushort)UnitBattleData[uVar5].field0_0x0.MapX;
        local_28 = (ushort)UnitBattleData[uVar5].field0_0x0.MapY;
        local_2a = *(ushort *)&UnitBattleData[uVar5].field0_0x0.MapY >> 0xf;
        bVar7 = 0x20;
      }
    }
    uVar6 = (uint)UnitBattleData[uVar10].field1_0x16e.XMapCoordTarget;
    uVar8 = (uint)UnitBattleData[uVar10].field1_0x16e.YMapCoordTarget;
    uVar9 = (uint)UnitBattleData[uVar10].field1_0x16e.ZMapCoordTarget;
    uVar5 = FUN_BATTLE_BIN__8017dc88(uVar6,uVar8,uVar9);
    if ((int)uVar5 < 0) {
      uVar5 = 0xffffffff;
    }
    if ((bVar7 & 0x10) == 0) {
      if ((bVar7 & 0x20) == 0) {
        if ((bVar7 & 0x40) == 0) {
          uVar5 = FUN_BATTLE_BIN__8017b3f4(uVar10);
        }
        else {
          uVar5 = FUN_BATTLE_BIN__8017afc0(uVar10,uVar6,uVar8,uVar9,uVar5);
        }
      }
      else {
        iVar4 = uVar6 - UnitBattleData[uVar10].field0_0x0.MapX;
        if (iVar4 < 0) {
          iVar4 = -iVar4;
        }
        iVar2 = uVar8 - UnitBattleData[uVar10].field0_0x0.MapY;
        if (iVar2 < 0) {
          iVar2 = -iVar2;
        }
        if ((SVar1 != Item) || (1 < iVar4 + iVar2)) {
          uVar5 = FUN_BATTLE_BIN__801b0818
                            (uVar10,&UnitBattleData[uVar10].field1_0x16e.XMapCoordTarget,uVar5);
        }
      }
    }
    else {
      uVar5 = FUN_BATTLE_BIN__801aff18
                        (uVar10,&UnitBattleData[uVar10].field1_0x16e.XMapCoordTarget,uVar5);
    }
    FUN_BATTLE_BIN__8017b4a0();
    uVar3 = 0;
    if (uVar5 < 0x15) {
      iVar4 = GetUnitTileID(UnitBattleData + uVar5);
      (&DAT_BATTLE_BIN__8018f8d1)[iVar4 * 8] = (&DAT_BATTLE_BIN__8018f8d1)[iVar4 * 8] | 0x80;
      uVar3 = 0;
    }
  }
  else {
LAB_BATTLE_BIN__8017ae10:
    uVar3 = 0xffffffff;
  }
  return uVar3;
}



uint FUN_BATTLE_BIN__8017afc0(uint param_1,int param_2,int param_3,undefined4 param_4,uint param_5)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  undefined4 uStack_50;
  byte local_4b;
  byte local_4a;
  byte local_48;
  byte local_40;
  uint local_38;
  uint local_30;
  
  uVar8 = (uint)UnitBattleData[param_1].field0_0x0.MapX;
  uVar10 = (uint)UnitBattleData[param_1].field0_0x0.MapY;
  if ((int)uVar8 < param_2) {
    iVar3 = param_2 - uVar8;
  }
  else {
    iVar3 = uVar8 - param_2;
  }
  iVar2 = param_3 - uVar10;
  if (param_3 <= (int)uVar10) {
    iVar2 = uVar10 - param_3;
  }
  if (iVar3 == 0) {
    if (iVar2 != 1) {
      iVar3 = 2;
      if (iVar2 != 2) {
        return 0xffffffff;
      }
      goto LAB_BATTLE_BIN__8017b088;
    }
  }
  else {
    if (iVar2 != 0) {
      return 0xffffffff;
    }
    if (iVar3 != 1) {
      if (iVar3 != 2) {
        return 0xffffffff;
      }
      iVar3 = 2;
      goto LAB_BATTLE_BIN__8017b088;
    }
  }
  iVar3 = 1;
LAB_BATTLE_BIN__8017b088:
  FUN_BATTLE_BIN__8017c158(&uStack_50,param_5);
  if ((uStack_50._3_1_ & 0x80) != 0) {
    param_5 = 0xffffffff;
  }
  uVar7 = (uint)local_4a;
  uVar4 = (uint)local_4b;
  FUN_BATTLE_BIN__8017c158(&uStack_50,param_1);
  uVar1 = 0xffffffff;
  if ((uStack_50._3_1_ & 0x80) == 0) {
    local_48 = local_4b;
    local_40 = local_4a;
    if (iVar3 == 1) {
      uVar1 = 0xffffffff;
      if (((param_5 != 0xffffffff) && (uVar4 < local_4a + 2)) && ((uint)local_4b <= uVar7 + 2)) {
        uVar1 = param_5;
      }
    }
    else {
      local_38 = (int)(uVar8 + param_2) / 2;
      local_30 = (int)(uVar10 + param_3) / 2;
      if (((iVar3 == 2) && (param_5 != 0xffffffff)) &&
         ((uVar8 = local_4a + 2, uVar4 < uVar8 && (uVar10 = local_4b - 6, local_4b <= uVar7)))) {
        if ((int)uVar10 < (int)uVar4) {
          uVar10 = uVar4;
        }
        if (uVar7 < uVar8) {
          uVar8 = uVar7;
        }
        iVar3 = local_30 * DAT_BATTLE_BIN__800e4e9c + local_38;
        iVar2 = iVar3 * 8;
        iVar3 = (iVar3 + 0x100) * 8;
        uVar5 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar2] * 2 +
                ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar2] & 0x1f);
        uVar1 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar3] * 2 +
                ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar3] & 0x1f);
        uVar7 = FUN_BATTLE_BIN__8017dc88(local_38,local_30,0);
        uVar4 = FUN_BATTLE_BIN__8017dc88(local_38,local_30,1);
        if (((&DAT_BATTLE_BIN__8018f8d2)[iVar2] & 1) != 0) {
          uVar5 = 0xff;
        }
        if (((&DAT_BATTLE_BIN__8018f8d2)[iVar3] & 1) != 0) {
          uVar1 = 0xff;
        }
        uVar6 = uVar5;
        uVar9 = uVar7;
        if ((uVar1 & 0xff) < (uVar5 & 0xff)) {
          uVar6 = uVar1;
          uVar9 = uVar4;
          uVar1 = uVar5;
          uVar4 = uVar7;
        }
        if ((uVar6 & 0xff) != 0xff) {
          FUN_BATTLE_BIN__8017c158(&uStack_50,uVar9);
          if ((uStack_50._3_1_ & 0x80) == 0) {
            uVar6 = (uint)local_4a;
          }
          if ((uVar10 & 0xff) < (uVar6 & 0xff)) {
            uVar10 = uVar6;
          }
          if ((uVar8 & 0xff) < (uVar6 & 0xff)) {
            uVar10 = 0xff;
          }
        }
        if (((uVar1 & 0xff) != 0xff) &&
           (FUN_BATTLE_BIN__8017c158(&uStack_50,uVar4), (uStack_50._3_1_ & 0x80) == 0)) {
          if (((uVar1 & 0xff) <= (uVar10 & 0xff)) && ((uVar8 & 0xff) <= (uint)local_4a)) {
            uVar10 = 0xff;
          }
        }
        if ((uVar10 & 0xff) < (uVar8 & 0xff)) {
          return param_5;
        }
      }
      uVar8 = 0;
      uVar10 = (uint)local_48 + (uint)local_40 >> 1;
      do {
        uVar1 = FUN_BATTLE_BIN__8017dc88(local_38,local_30,uVar8);
        FUN_BATTLE_BIN__8017c158(&uStack_50,uVar1);
        uVar8 = uVar8 + 1;
        if ((((uStack_50._3_1_ & 0x80) == 0) && (local_4b < uVar10)) && (uVar10 < local_4a)) {
          return uVar1;
        }
        uVar1 = 0xffffffff;
      } while ((int)uVar8 < 2);
    }
  }
  return uVar1;
}



uint FUN_BATTLE_BIN__8017b3f4(uint param_1)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  uint in_stack_00000010;
  undefined4 uStack_18;
  byte local_13;
  byte local_12;
  
  FUN_BATTLE_BIN__8017c158(&uStack_18,in_stack_00000010);
  bVar2 = local_12;
  bVar1 = local_13;
  uVar3 = 0xffffffff;
  if ((uStack_18._3_1_ & 0x80) == 0) {
    FUN_BATTLE_BIN__8017c158(&uStack_18,param_1);
    if ((uStack_18._3_1_ & 0x80) == 0) {
      uVar3 = 0xffffffff;
      if ((bVar1 < local_12) && (local_13 <= bVar2)) {
        uVar3 = in_stack_00000010;
      }
    }
    else {
      uVar3 = 0xffffffff;
    }
  }
  return uVar3;
}



void FUN_BATTLE_BIN__8017b4a0(void)

{
  undefined1 *puVar1;
  int iVar2;
  
  iVar2 = 0;
  puVar1 = &DAT_BATTLE_BIN__8018f8cc;
  do {
    iVar2 = iVar2 + 1;
    puVar1[5] = puVar1[5] & 0x7f;
    puVar1 = puVar1 + 8;
  } while (iVar2 < 0x200);
  return;
}



int FUN_BATTLE_BIN__8017b4d0(CurActionTargetData *param_1)

{
  byte *pbVar1;
  byte bVar2;
  byte bVar3;
  bool bVar4;
  int iVar5;
  uint uVar6;
  BattleUnitData *UnitBattlePtr;
  uint uVar7;
  int iVar8;
  int iVar9;
  undefined4 uStack_40;
  byte local_3b;
  byte local_38;
  short local_34;
  short local_32;
  
  iVar9 = 0;
  BATTLE_Unit_Targetting_to_Temp(param_1,(CurActionTargetData *)&local_38);
  if (((ushort)(local_34 - 0x19eU) < 8) && ((ushort)(local_32 - 0x19eU) < 8)) {
    bVar2 = (&SecondaryAbilityData[0x157].field_0x4)[local_34];
    bVar3 = (&SecondaryAbilityData[0x157].field_0x4)[local_32];
    if (((bVar2 & 0xf0) != 0) && ((bVar3 & 0xf) != 0)) {
      if ((bVar2 & 0xf) != 0) {
        return -1;
      }
      if ((bVar3 & 0xf0) == 0) {
        uVar7 = 0;
        FUN_BATTLE_BIN__8017b4a0();
        iVar8 = 0;
        do {
          UnitBattlePtr = (BattleUnitData *)(&UnitBattleData[0].field0_0x0.BaseClass + iVar8);
          if (((((&UnitBattleData[0].field0_0x0.UnitID)[iVar8] != 0xff) &&
               ((UnitBattleData[0].field0_0x0.JobLevels[iVar8 + -0x7a] & 0x44) == 0)) &&
              ((UnitBattleData[0].field0_0x0.JobLevels[iVar8 + -0x79] & 1) == 0)) &&
             (((&UnitBattleData[0].field1_0x16e.field_0x14)[iVar8] & 0x40) == 0)) {
            if ((bVar2 & 0x80) == 0) {
              if ((bVar2 & 0x40) == 0) {
                if ((bVar2 & 0x20) == 0) {
                  FUN_BATTLE_BIN__8017c158(&uStack_40,uVar7);
                  if ((local_3b & 1) != 0) goto LAB_BATTLE_BIN__8017b774;
                  uVar6 = (uint)(local_3b >> 1);
                }
                else {
                  uVar6 = (uint)(&UnitBattleData[0].field0_0x0.Exp)[iVar8];
                }
              }
              else {
                uVar6 = (uint)(&UnitBattleData[0].field0_0x0.Level)[iVar8];
              }
            }
            else {
              uVar6 = (uint)(&UnitBattleData[0].field0_0x0.CT)[iVar8];
              if ((100 < uVar6) || (UnitBattlePtr == UnitBattleData + local_38)) {
                uVar6 = 100;
              }
            }
            if (uVar6 != 0) {
              bVar4 = false;
              if ((bVar3 & 8) == 0) {
                if (((((bVar3 & 4) != 0) &&
                     ((uVar6 - (((uint)((ulonglong)uVar6 * 0xcccccccd >> 0x20) & 0xfffffffc) +
                               uVar6 / 5) & 0xff) == 0)) ||
                    (((bVar3 & 2) != 0 && ((uVar6 & 3) == 0)))) ||
                   (((bVar3 & 1) != 0 &&
                    ((uVar6 - (((uint)((ulonglong)uVar6 * 0xaaaaaaab >> 0x20) & 0xfffffffe) +
                              uVar6 / 3) & 0xff) == 0)))) {
LAB_BATTLE_BIN__8017b740:
                  bVar4 = true;
                }
              }
              else {
                iVar5 = 0;
                do {
                  pbVar1 = PrimeNumbers + iVar5;
                  iVar5 = iVar5 + 1;
                  if (*pbVar1 == uVar6) goto LAB_BATTLE_BIN__8017b740;
                } while (iVar5 < 0x36);
              }
              if (bVar4) {
                iVar5 = GetUnitTileID(UnitBattlePtr);
                iVar9 = iVar9 + 1;
                (&DAT_BATTLE_BIN__8018f8d1)[iVar5 * 8] =
                     (&DAT_BATTLE_BIN__8018f8d1)[iVar5 * 8] | 0x80;
              }
            }
          }
LAB_BATTLE_BIN__8017b774:
          uVar7 = uVar7 + 1;
          iVar8 = iVar8 + 0x1c0;
          if (0x14 < (int)uVar7) {
            return iVar9;
          }
        } while( true );
      }
    }
  }
  return -1;
}



undefined4 FUN_BATTLE_BIN__8017b7b4(CurActionTargetData *param_1)

{
  int iVar1;
  undefined4 uVar2;
  byte local_14;
  byte local_12;
  byte local_10;
  
  BATTLE_Unit_Targetting_to_Temp(param_1,(CurActionTargetData *)&stack0xffffffe0);
  if ((((uint)local_14 < (uint)DAT_BATTLE_BIN__800e4e9c) &&
      ((uint)local_10 < (uint)DAT_BATTLE_BIN__800e4ea0)) && (local_12 < 2)) {
    iVar1 = ((uint)local_12 * 0x100 + (uint)local_10 * (uint)DAT_BATTLE_BIN__800e4e9c +
            (uint)local_14) * 8;
    uVar2 = 0xffffffff;
    if (((&DAT_BATTLE_BIN__8018f8d2)[iVar1] & 1) == 0) {
      FUN_BATTLE_BIN__8017b4a0();
      uVar2 = 1;
      (&DAT_BATTLE_BIN__8018f8d1)[iVar1] = (&DAT_BATTLE_BIN__8018f8d1)[iVar1] | 0x80;
    }
  }
  else {
    uVar2 = 0xffffffff;
  }
  return uVar2;
}



int FUN_BATTLE_BIN__8017b874(CurActionTargetData *param_1)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  byte bVar6;
  int iVar7;
  uint uVar8;
  undefined1 *puVar9;
  undefined *puVar10;
  uint uVar11;
  int iVar12;
  uint uVar13;
  uint uVar14;
  char *pcVar15;
  uint uVar16;
  byte local_38;
  AbilityID local_36;
  byte local_2e;
  byte local_2d;
  byte local_2c;
  byte local_2a;
  byte local_28;
  
  BATTLE_Unit_Targetting_to_Temp(param_1,(CurActionTargetData *)&local_38);
  iVar7 = (int)(short)local_36;
  uVar16 = (uint)local_38;
  bVar6 = SecondaryAbilityData[iVar7].field_0x3;
  uVar14 = (uint)(byte)SecondaryAbilityData[iVar7].field_0x4;
  bVar1 = SecondaryAbilityData[iVar7].AOE;
  bVar2 = SecondaryAbilityData[iVar7].Vert;
  if ((SecondaryAbilityData[iVar7].field_0x6 & 0x20) != 0) {
    bVar6 = bVar6 | 0x20;
    uVar14 = uVar14 & 0x39;
  }
  if ((uVar14 & 6) == 0) {
    if (local_2e == 6) {
      uVar8 = (uint)local_2d;
      uVar13 = (uint)UnitBattleData[uVar8].field0_0x0.MapX;
      uVar11 = (uint)UnitBattleData[uVar8].field0_0x0.MapY;
      uVar8 = (uint)(*(ushort *)&UnitBattleData[uVar8].field0_0x0.MapY >> 0xf);
    }
    else {
      uVar13 = (uint)local_2c;
      uVar11 = (uint)local_28;
      uVar8 = (uint)local_2a;
    }
  }
  else {
    uVar13 = (uint)UnitBattleData[uVar16].field0_0x0.MapX;
    uVar11 = (uint)UnitBattleData[uVar16].field0_0x0.MapY;
    uVar8 = (uint)(*(ushort *)&UnitBattleData[uVar16].field0_0x0.MapY >> 0xf);
  }
  if (((uVar13 < DAT_BATTLE_BIN__800e4e9c) && (uVar11 < DAT_BATTLE_BIN__800e4ea0)) && (uVar8 < 2)) {
    uVar13 = uVar8 * 0x100 + uVar11 * DAT_BATTLE_BIN__800e4e9c + uVar13;
    iVar7 = uVar13 * 8;
    if (((&DAT_BATTLE_BIN__8018f8d2)[iVar7] & 1) == 0) {
      bVar3 = (&DAT_BATTLE_BIN__8018f8ce)[iVar7];
      bVar4 = (&DAT_BATTLE_BIN__8018f8cf)[iVar7];
      bVar5 = (&DAT_BATTLE_BIN__8018f8cf)[iVar7];
      iVar7 = 0;
      if (bVar1 == 0xff) {
        puVar9 = &DAT_BATTLE_BIN__80192dd8;
        do {
          *puVar9 = 1;
          puVar9[1] = 0;
          iVar7 = iVar7 + 1;
          puVar9 = puVar9 + 5;
        } while (iVar7 < 0x200);
      }
      else {
        puVar10 = &DAT_BATTLE_BIN__80192dd8;
        do {
          *puVar10 = 0;
          puVar10[1] = 0;
          iVar7 = iVar7 + 1;
          puVar10 = puVar10 + 5;
        } while (iVar7 < 0x200);
        iVar7 = uVar13 * 5;
        (&DAT_BATTLE_BIN__80192dd8)[iVar7] = bVar1 + 1;
        if (uVar13 < 0x100) {
          pcVar15 = &DAT_BATTLE_BIN__801932d8 + iVar7;
          (&DAT_BATTLE_BIN__80192dd9)[iVar7] = 1;
        }
        else {
          pcVar15 = (char *)((int)UnitBattleData + iVar7 + 0x200c);
          *(undefined *)((int)UnitBattleData + iVar7 + 0x200d) = 1;
        }
        (&DAT_BATTLE_BIN__80192dd9)[(uVar13 & 0xff) * 5] = 1;
        if ((bVar6 & 0x20) == 0) {
          (&DAT_BATTLE_BIN__80192dd8)[iVar7] = bVar1 + 1;
          *pcVar15 = bVar1 + 1;
          FUN_BATTLE_BIN__80179518(bVar1);
          FUN_BATTLE_BIN__801792a4
                    ((uint)bVar3 * 2 + (bVar4 & 0x1f) + (uint)(bVar5 >> 5) * 2 & 0xff,(uint)bVar2,
                     uVar14 >> 5 & 1);
          FUN_BATTLE_BIN__80179204(local_36);
        }
      }
      iVar7 = GetUnitTileID(UnitBattleData + uVar16);
      pcVar15 = &DAT_BATTLE_BIN__80192dd8;
      if ((uVar14 & 1) != 0) {
        (&DAT_BATTLE_BIN__80192dd8)[iVar7 * 5] = 0;
      }
      if ((uVar14 & 4) != 0) {
        FUN_BATTLE_BIN__8017be68((CurActionTargetData *)&local_38,'\x01');
      }
      if ((uVar14 & 2) != 0) {
        FUN_BATTLE_BIN__8017be68((CurActionTargetData *)&local_38,'\x03');
      }
      if ((uVar14 & 0xc0) != 0) {
        FUN_BATTLE_BIN__8017bc78(uVar16,(byte)uVar14 & 0x80,(byte)uVar14 & 0x40,bVar1 == 0xff);
      }
      iVar7 = 0;
      if ((uVar14 & 0xc0) != 0) {
        iVar12 = 0;
        puVar9 = &DAT_BATTLE_BIN__8018f8cc;
        do {
          if ((pcVar15[1] == '\0') || ((puVar9[6] & 3) != 0)) {
            bVar6 = puVar9[5] & 0x7f;
          }
          else {
            iVar7 = iVar7 + 1;
            bVar6 = puVar9[5] | 0x80;
          }
          puVar9[5] = bVar6;
          pcVar15 = pcVar15 + 5;
          iVar12 = iVar12 + 1;
          puVar9 = puVar9 + 8;
        } while (iVar12 < 0x200);
        return iVar7;
      }
      iVar12 = 0;
      puVar9 = &DAT_BATTLE_BIN__8018f8cc;
      do {
        if ((*pcVar15 == '\0') || ((puVar9[6] & 3) != 0)) {
          bVar6 = puVar9[5] & 0x7f;
        }
        else {
          iVar7 = iVar7 + 1;
          bVar6 = puVar9[5] | 0x80;
        }
        puVar9[5] = bVar6;
        pcVar15 = pcVar15 + 5;
        iVar12 = iVar12 + 1;
        puVar9 = puVar9 + 8;
      } while (iVar12 < 0x200);
      return iVar7;
    }
  }
  return -1;
}



void FUN_BATTLE_BIN__8017bc78(uint param_1,char param_2,char param_3,char param_4)

{
  byte bVar1;
  char cVar2;
  bool bVar3;
  undefined3 extraout_var;
  char *pcVar4;
  byte bVar5;
  uint uVar6;
  int iVar7;
  int local_30 [2];
  
  uVar6 = 0;
  iVar7 = 0;
  bVar1 = UnitBattleData[param_1 & 0xff].field0_0x0.field_0x5;
  do {
    bVar3 = FUN_BATTLE_BIN__8017bdd0(uVar6,local_30);
    if (CONCAT31(extraout_var,bVar3) == 0) {
      bVar5 = bVar1 ^ (&UnitBattleData[0].field2_0x18c.field_0x2e)[iVar7];
      if ((param_1 & 0xff) == uVar6) {
        bVar5 = 0;
      }
      if ((&DAT_BATTLE_BIN__80192dd8)[local_30[0] * 5] != '\0') {
        cVar2 = param_3;
        if ((bVar5 & 0x30) == 0) {
          cVar2 = param_2;
        }
        if (cVar2 == '\0') {
          (&DAT_BATTLE_BIN__80192dd8)[local_30[0] * 5] = '\0';
        }
        else {
          (&DAT_BATTLE_BIN__80192dd9)[local_30[0] * 5] = 1;
        }
      }
    }
    uVar6 = uVar6 + 1;
    iVar7 = iVar7 + 0x1c0;
  } while ((int)uVar6 < 0x15);
  iVar7 = 0;
  if (param_4 == '\0') {
    pcVar4 = &DAT_BATTLE_BIN__80192dd8;
    do {
      iVar7 = iVar7 + 1;
      if (*pcVar4 != '\0') {
        pcVar4[1] = '\x01';
      }
      pcVar4 = pcVar4 + 5;
    } while (iVar7 < 0x200);
  }
  return;
}



bool FUN_BATTLE_BIN__8017bdd0(int param_1,int *param_2)

{
  bool bVar1;
  int iVar2;
  
  iVar2 = GetUnitTileID(UnitBattleData + param_1);
  *param_2 = iVar2;
  bVar1 = true;
  if (((UnitBattleData[param_1].field0_0x0.UnitID != 0xff) &&
      (bVar1 = true, (*(byte *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 0x44) == 0)) &&
     (bVar1 = true, (UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x1 & 1) == 0)) {
    bVar1 = (UnitBattleData[param_1].field1_0x16e.field_0x14 & 0x40) != 0;
  }
  return bVar1;
}



void FUN_BATTLE_BIN__8017be68(CurActionTargetData *param_1,char param_2)

{
  undefined *puVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  byte local_30;
  short local_24;
  short local_20;
  
  BATTLE_Unit_Targetting_to_Temp(param_1,(CurActionTargetData *)&local_30);
  DAT_BATTLE_BIN__8018f4f8 = 1;
  uVar4 = (uint)UnitBattleData[local_30].field0_0x0.MapX;
  uVar3 = (uint)UnitBattleData[local_30].field0_0x0.MapY;
  if (((int)uVar4 < (int)local_24) && (FUN_BATTLE_BIN__8017c044(0,uVar4,uVar3), param_2 == '\x03'))
  {
    FUN_BATTLE_BIN__8017c044(6,uVar4,uVar3);
    FUN_BATTLE_BIN__8017c044(4,uVar4,uVar3);
  }
  if (((int)local_24 < (int)uVar4) && (FUN_BATTLE_BIN__8017c044(2,uVar4,uVar3), param_2 == '\x03'))
  {
    FUN_BATTLE_BIN__8017c044(6,uVar4,uVar3);
    FUN_BATTLE_BIN__8017c044(4,uVar4,uVar3);
  }
  if (((int)uVar3 < (int)local_20) && (FUN_BATTLE_BIN__8017c044(6,uVar4,uVar3), param_2 == '\x03'))
  {
    FUN_BATTLE_BIN__8017c044(0,uVar4,uVar3);
    FUN_BATTLE_BIN__8017c044(2,uVar4,uVar3);
  }
  if (((int)local_20 < (int)uVar3) && (FUN_BATTLE_BIN__8017c044(4,uVar4,uVar3), param_2 == '\x03'))
  {
    FUN_BATTLE_BIN__8017c044(2,uVar4,uVar3);
    FUN_BATTLE_BIN__8017c044(0,uVar4,uVar3);
  }
  iVar2 = 0;
  puVar1 = &DAT_BATTLE_BIN__80192dd8;
  do {
    if (puVar1[1] == '\0') {
      *puVar1 = 0;
    }
    else {
      puVar1[1] = 0;
    }
    iVar2 = iVar2 + 1;
    puVar1 = puVar1 + 5;
  } while (iVar2 < 0x200);
  return;
}



void FUN_BATTLE_BIN__8017c044(int param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  if (param_1 == 2) {
    iVar5 = -1;
    iVar4 = 0;
  }
  else if (param_1 < 3) {
    iVar5 = 1;
    if (param_1 != 0) {
      return;
    }
    iVar4 = 0;
  }
  else if (param_1 == 4) {
    iVar5 = 0;
    iVar4 = -1;
  }
  else {
    iVar5 = 0;
    if (param_1 != 6) {
      return;
    }
    iVar4 = 1;
  }
  iVar3 = 0;
  while( true ) {
    if (param_2 < 0) {
      return;
    }
    if ((int)(uint)DAT_BATTLE_BIN__800e4e9c <= param_2) {
      return;
    }
    if (param_3 < 0) {
      return;
    }
    if ((int)(uint)DAT_BATTLE_BIN__800e4ea0 <= param_3) break;
    iVar2 = param_3 * (uint)DAT_BATTLE_BIN__800e4e9c + param_2;
    iVar1 = iVar2 * 5;
    if ((&DAT_BATTLE_BIN__80192dd8)[iVar1] != '\0') {
      (&DAT_BATTLE_BIN__80192dd9)[iVar1] = 1;
    }
    iVar1 = (iVar2 + 0x100) * 5;
    param_3 = param_3 + iVar4;
    if ((&DAT_BATTLE_BIN__80192dd8)[iVar1] != '\0') {
      (&DAT_BATTLE_BIN__80192dd9)[iVar1] = 1;
    }
    iVar3 = iVar3 + 1;
    param_2 = param_2 + iVar5;
    if (0x1f < iVar3) {
      return;
    }
  }
  return;
}



undefined4 * FUN_BATTLE_BIN__8017c158(undefined4 *param_1,uint param_2)

{
  ushort uVar1;
  byte bVar2;
  undefined2 uVar3;
  BattleUnitData *pBVar4;
  int iVar5;
  BattleUnitData *pBVar6;
  uint uVar7;
  char cVar8;
  byte bVar9;
  uint uVar10;
  BattleUnitData *UnitBattlePtr;
  undefined4 local_18;
  char local_14;
  char local_13;
  char local_12;
  
  cVar8 = '\0';
  pBVar6 = UnitBattleData;
  UnitBattlePtr = UnitBattleData + param_2;
  if (((param_2 < 0x15) && (UnitBattleData[param_2].field0_0x0.UnitID != 0xff)) &&
     ((*(ushort *)&UnitBattleData[param_2].field0_0x0.CurrentStatuses & 0x140) == 0)) {
    uVar10 = param_2;
    if (2 < UnitBattleData[param_2].field0_0x0.JobID - 0x5e) {
      uVar10 = param_2 | 0x20;
    }
    bVar9 = (byte)uVar10;
    uVar7 = 0;
    pBVar4 = UnitBattleData + param_2;
    uVar3._0_1_ = (pBVar4->field0_0x0).MapX;
    uVar3._1_1_ = (pBVar4->field0_0x0).MapY;
    uVar1 = *(ushort *)&UnitBattleData[param_2].field0_0x0.MapY;
    local_18._0_3_ = CONCAT12(local_18._2_1_ & 0x80 | (byte)(uVar1 >> 0xf),uVar3);
    do {
      if (((uVar7 != param_2) && ((pBVar6->field0_0x0).UnitID != 0xff)) &&
         (((pBVar6->field0_0x0).MapX == (pBVar4->field0_0x0).MapX &&
          (((pBVar6->field0_0x0).MapY == UnitBattleData[param_2].field0_0x0.MapY &&
           (*(ushort *)&(pBVar6->field0_0x0).MapY >> 0xf == uVar1 >> 0xf)))))) {
        cVar8 = '\x02';
        if ((uVar10 & 0x20) != 0) {
          UnitBattlePtr = pBVar6;
        }
        bVar9 = bVar9 | 0x40;
        break;
      }
      uVar7 = uVar7 + 1;
      pBVar6 = pBVar6 + 1;
    } while ((int)uVar7 < 0x15);
    local_18 = CONCAT13(bVar9,(undefined3)local_18);
    local_14 = cVar8 + '\x04';
    if (((UnitBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 6) == 0) {
      local_14 = cVar8 + '\x06';
    }
    bVar9 = (UnitBattlePtr->field0_0x0).field_0x95;
    iVar5 = GetUnitTileID(UnitBattlePtr);
    iVar5 = iVar5 * 8;
    local_13 = (&DAT_BATTLE_BIN__8018f8ce)[iVar5] * '\x02' +
               ((&DAT_BATTLE_BIN__8018f8cf)[iVar5] & 0x1f);
    bVar2 = (byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar5] >> 5;
    if (bVar2 == 0) {
      if (((UnitBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 0x40) != 0) {
        local_13 = local_13 + '\x02';
      }
    }
    else if (((UnitBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 0x40) == 0) {
      if ((bVar9 & 0x80) == 0) {
        if ((bVar9 & 0x40) != 0) {
          local_13 = local_13 + bVar2 * '\x02' + -2;
        }
      }
      else {
        local_13 = local_13 + bVar2 * '\x02';
      }
    }
    else {
      local_13 = local_13 + bVar2 * '\x02' + '\x02';
    }
    local_12 = local_13 + local_14;
    if ((*(byte *)&(UnitBattlePtr->field0_0x0).CurrentStatuses & 0x20) == 0)
    goto LAB_BATTLE_BIN__8017c370;
  }
  local_18 = CONCAT13(0x80,(undefined3)local_18);
LAB_BATTLE_BIN__8017c370:
  *param_1 = local_18;
  *(char *)(param_1 + 1) = local_14;
  *(char *)((int)param_1 + 5) = local_13;
  *(char *)((int)param_1 + 6) = local_12;
  return param_1;
}



void FUN_BATTLE_BIN__8017c3b8(CurActionTargetData *param_1)

{
  FUN_BATTLE_BIN__8017c45c(param_1,param_1,0);
  return;
}



uint FUN_BATTLE_BIN__8017c3dc(CurActionTargetData *param_1)

{
  byte bVar1;
  uint uVar2;
  
  bVar1 = param_1->AttackerID;
  uVar2 = FUN_BATTLE_BIN__8017c45c(param_1,&UnitBattleData[bVar1].field1_0x16e,1);
  if ((uVar2 == 1) && (DAT_BATTLE_BIN__8018f5f0 == 0)) {
    FUN_BATTLE_BIN__80183de0((int)(UnitBattleData + bVar1));
  }
  return uVar2;
}



uint FUN_BATTLE_BIN__8017c45c
               (CurActionTargetData *param_1,CurActionTargetData *param_2,uint param_3)

{
  bool bVar1;
  AbilityIDByte AVar2;
  byte bVar3;
  int iVar4;
  undefined3 extraout_var;
  uint uVar5;
  AbilityID AVar6;
  int iVar7;
  uint uVar8;
  uint unaff_s2;
  BattleUnitData *pBVar9;
  byte unaff_s7;
  byte local_40;
  SkillsetID local_3f;
  AbilityID local_3e;
  short local_3c;
  short local_3a;
  ItemID local_38;
  byte local_36;
  byte local_35;
  
  BATTLE_Unit_Targetting_to_Temp(param_1,(CurActionTargetData *)&local_40);
  uVar5 = (uint)local_40;
  if (0x14 < uVar5) {
    return 0xffffffff;
  }
  pBVar9 = UnitBattleData + uVar5;
  if (UnitBattleData[uVar5].field0_0x0.UnitID == 0xff) {
    return 0xffffffff;
  }
  bVar1 = false;
  if (local_36 == 6) {
    if (0x14 < local_35) {
      return 0xffffffff;
    }
    if (UnitBattleData[local_35].field0_0x0.UnitID == 0xff) {
      return 0xffffffff;
    }
  }
  switch(ActionMenus[local_3f]) {
  case Default:
  case Monster:
    break;
  case Item:
    if (PrimaryItemData[local_38].ItemType != 0x22) {
      return 0xffffffff;
    }
    BATTLE_Unit_Targetting_to_Temp((CurActionTargetData *)&local_40,param_2);
    param_2->AttackToUse = local_38 + HellIvy;
    if (param_3 == 0) {
      return 1;
    }
    if ((param_3 & 1) == 0) {
      return 1;
    }
    FUN_BATTLE_BIN__8017c954((int)pBVar9,(uint)local_38,1);
    UnitBattleData[uVar5].field1_0x16e.ActUnavailable = 1;
    return 1;
  case Throw:
    iVar7 = 0x17e;
    iVar4 = 0x17e0000;
    do {
      AVar6 = (AbilityID)iVar7;
      iVar7 = iVar7 + 1;
      if ((&SecondaryAbilityData[0x155].CT)[iVar4 >> 0x10] == PrimaryItemData[local_38].ItemType)
      break;
      iVar4 = iVar7 * 0x10000;
      AVar6 = (AbilityID)iVar7;
    } while (iVar7 * 0x10000 >> 0x10 < 0x18a);
    if (AVar6 == LevelJump2) {
      return 0xffffffff;
    }
    BATTLE_Unit_Targetting_to_Temp((CurActionTargetData *)&local_40,param_2);
    param_2->AttackToUse = AVar6;
    if (param_3 == 0) {
      return 1;
    }
    if ((param_3 & 1) == 0) {
      return 1;
    }
    FUN_BATTLE_BIN__8017c954((int)pBVar9,(uint)local_38,1);
    UnitBattleData[uVar5].field1_0x16e.ActUnavailable = 1;
    return 1;
  case Math:
    if (7 < (ushort)(local_3c - 0x19eU)) {
      return 0xffffffff;
    }
    if (7 < (ushort)(local_3a - 0x19eU)) {
      return 0xffffffff;
    }
    if (FrogAttack < local_3e) {
      return 0xffffffff;
    }
    BATTLE_Unit_Targetting_to_Temp((CurActionTargetData *)&local_40,param_2);
    if (param_3 == 0) {
      return 1;
    }
    if ((param_3 & 1) == 0) {
      return 1;
    }
    UnitBattleData[uVar5].field1_0x16e.ActUnavailable = 1;
    return 1;
  case Geomancy:
    AVar2 = FUN_BATTLE_BIN__8017f2d8(pBVar9);
    local_3e = (AbilityID)CONCAT31(extraout_var,AVar2);
    break;
  default:
    goto switchD_BATTLE_BIN__8017c540_caseD_5;
  case DrawOut:
    local_3e = local_38 + Float;
    if (9 < local_38 - 0x26) {
      return 0xffffffff;
    }
    if ((param_3 & 1) != 0) {
      FUN_BATTLE_BIN__8017c954((int)pBVar9,(uint)local_38,1);
    }
    break;
  case Attack:
    BATTLE_Unit_Targetting_to_Temp((CurActionTargetData *)&local_40,param_2);
    if ((param_3 != 0) && ((param_3 & 1) != 0)) {
      UnitBattleData[uVar5].field1_0x16e.ActUnavailable = 1;
    }
    param_2->AttackToUse = None;
    return 1;
  case Jump:
    BATTLE_Unit_Targetting_to_Temp((CurActionTargetData *)&local_40,param_2);
    if (param_3 != 0) {
      uVar8 = 0x32 / UnitBattleData[uVar5].field0_0x0.SP;
      bVar3 = (byte)uVar8;
      if (uVar8 == 0) {
        bVar3 = 1;
      }
      UnitBattleData[uVar5].field0_0x0.CurAbCT = bVar3;
      if ((param_3 & 1) != 0) {
        UnitBattleData[uVar5].field1_0x16e.ActUnavailable = 1;
        UnitBattleData[uVar5].field1_0x16e.MoveUnavailable = 1;
        Status_InflictionRemoval((int)pBVar9,6);
      }
    }
    param_2->AttackToUse = LevelJump2;
    return 3;
  case Aim:
    uVar8 = (uint)local_3e;
    if (7 < uVar8 - 0x196) {
      return 0xffffffff;
    }
    BATTLE_Unit_Targetting_to_Temp((CurActionTargetData *)&local_40,param_2);
    unaff_s2 = (uint)(&SecondaryAbilityData[0x139].Y)[(int)(uVar8 << 0x10) >> 0xf];
    bVar1 = true;
    if ((param_3 & 1) != 0) {
      UnitBattleData[uVar5].field1_0x16e.MoveUnavailable = 1;
    }
    unaff_s7 = 0;
    break;
  case Defend:
    return 0;
  case EqChng:
    return 2;
  }
  AVar6 = local_3e;
  if (!bVar1) {
    if (FrogAttack < local_3e) {
switchD_BATTLE_BIN__8017c540_caseD_5:
      return 0xffffffff;
    }
    BATTLE_Unit_Targetting_to_Temp((CurActionTargetData *)&local_40,param_2);
    unaff_s2 = SecondaryAbilityData[(short)AVar6].CT & 0x7f;
    unaff_s7 = SecondaryAbilityData[(short)AVar6].field_0x5 & 4;
    bVar3 = *(byte *)((int)&UnitBattleData[uVar5].field0_0x0.Supports + 3);
    if ((SecondaryAbilityData[(short)AVar6].field_0x5 & 4) == 0) {
      if ((bVar3 & 8) != 0) {
        unaff_s2 = unaff_s2 + 1 >> 1;
      }
      if ((bVar3 & 4) != 0) {
        unaff_s2 = 0;
      }
    }
  }
  if ((((param_3 != 0) &&
       (UnitBattleData[uVar5].field0_0x0.CurAbCT = (byte)unaff_s2, (param_3 & 1) != 0)) &&
      (DAT_BATTLE_BIN__8018f5f0 == 0)) &&
     (UnitBattleData[uVar5].field1_0x16e.ActUnavailable = 1, (unaff_s2 & 0xff) != 0)) {
    if (unaff_s7 == 0) {
      uVar5 = 5;
    }
    else {
      uVar5 = 8;
    }
    Status_InflictionRemoval((int)pBVar9,uVar5);
  }
  return (uint)((unaff_s2 & 0xff) == 0);
}



undefined4 FUN_BATTLE_BIN__8017c954(int param_1,uint param_2,int param_3)

{
  if ((*(byte *)(param_1 + 0x1ba) & 0x30) == 0) {
    if ((&DAT_800596e0)[param_2 & 0xff] == '\0') {
      return 0xffffffff;
    }
    if (param_3 == 0) {
      return 0;
    }
    if (DAT_BATTLE_BIN__8018f5fc != 0) {
      return 0;
    }
    (&DAT_800596e0)[param_2 & 0xff] = (&DAT_800596e0)[param_2 & 0xff] + -1;
  }
  return 0;
}



int FUN_BATTLE_BIN__8017c9b8(int param_1)

{
  int iVar1;
  int iVar2;
  BattleUnitData *pBVar3;
  BattleUnitData *pBVar4;
  
  DAT_BATTLE_BIN__8018f8c8 = 0xffffffff;
  DAT_BATTLE_BIN__8018f5f0 = 0;
  if (param_1 < 0x15) {
    pBVar4 = UnitBattleData;
    pBVar3 = UnitBattleData + param_1;
    if (UnitBattleData[param_1].field0_0x0.UnitID != 0xff) {
      if (CurrentAbilityData.Hamedo != 0) {
        FUN_BATTLE_BIN__8017dbc8((int)pBVar3);
        return 6;
      }
      iVar1 = FUN_BATTLE_BIN__8017da20(pBVar3);
      iVar2 = 0;
      if (iVar1 != 0) {
        FUN_BATTLE_BIN__8017dbc8((int)pBVar3);
        return iVar1;
      }
      DAT_BATTLE_BIN__80193d44 = UnitBattleData[param_1].field1_0x16e.AttackToUse;
      DAT_BATTLE_BIN__8018f8c8 = param_1;
      do {
        (pBVar4->field2_0x18c).ReactionID = 0;
        (pBVar4->field1_0x16e).field_0x1b = 0;
        iVar2 = iVar2 + 1;
        pBVar4 = pBVar4 + 1;
      } while (iVar2 < 0x15);
      FUN_BATTLE_BIN__8017d4a0((int)pBVar3);
      FUN_BATTLE_BIN__8018ef34((int)pBVar3);
      return 0;
    }
  }
  DAT_BATTLE_BIN__8018f8c8 = 0xffffffff;
  DAT_BATTLE_BIN__8018f5f0 = 0;
  return -1;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_BATTLE_BIN__8017cacc(int param_1,int param_2,int *param_3,undefined *param_4)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  bool bVar4;
  uint uVar5;
  undefined3 extraout_var;
  int iVar6;
  BattleUnitData *pBVar7;
  int local_20 [2];
  
  pBVar7 = UnitBattleData;
  if (DAT_BATTLE_BIN__80192d9c == 0x1bc) {
    DAT_BATTLE_BIN__80193878 = 0;
    iVar6 = 0;
    bVar1 = UnitBattleData[param_1].field0_0x0.field_0x5;
    do {
      if ((((iVar6 != param_1) && ((pBVar7->field0_0x0).UnitID != 0xff)) &&
          (((pBVar7->field1_0x16e).field_0x14 & 0x40) == 0)) &&
         ((((pBVar7->field0_0x0).HP != (pBVar7->field0_0x0).MaxHP &&
           ((*(byte *)&(pBVar7->field0_0x0).CurrentStatuses & 100) == 0)) &&
          ((((pBVar7->field0_0x0).CurrentStatuses.field_0x1 & 0x81) == 0 &&
           (((pBVar7->field2_0x18c).field_0x2e & 0x30) == (bVar1 & 0x30))))))) {
        *param_4 = (char)iVar6;
        param_4 = param_4 + 1;
        DAT_BATTLE_BIN__80193878 = DAT_BATTLE_BIN__80193878 + 1;
      }
      iVar6 = iVar6 + 1;
      pBVar7 = pBVar7 + 1;
    } while (iVar6 < 0x15);
    *param_3 = DAT_BATTLE_BIN__80193878;
    return 1;
  }
  if (DAT_BATTLE_BIN__80192d9c < 0x1bd) {
    if (DAT_BATTLE_BIN__80192d9c == 0x1b8) {
      bVar1 = *(byte *)&UnitBattleData[param_1].field1_0x16e.XMapCoordTarget;
      *(byte *)(param_2 + 0x1c) = bVar1;
      bVar2 = *(byte *)&UnitBattleData[param_1].field1_0x16e.YMapCoordTarget;
      *(byte *)(param_2 + 0x1d) = bVar2;
      bVar3 = *(byte *)&UnitBattleData[param_1].field1_0x16e.ZMapCoordTarget;
      *(byte *)(param_2 + 0x1e) = bVar3;
      uVar5 = FUN_BATTLE_BIN__8017dc88((uint)bVar1,(uint)bVar2,(uint)bVar3);
      if (-1 < (int)uVar5) {
        bVar1 = UnitBattleData[uVar5].field1_0x16e.field_0x14;
        if ((bVar1 & 0x40) != 0) {
          uVar5 = bVar1 & 0x1f;
        }
        bVar4 = FUN_BATTLE_BIN__8017bdd0(uVar5,local_20);
        if (CONCAT31(extraout_var,bVar4) == 0) {
          *param_3 = 1;
          *param_4 = (char)uVar5;
          return 1;
        }
      }
      goto LAB_BATTLE_BIN__8017ccfc;
    }
  }
  else if (DAT_BATTLE_BIN__80192d9c == 0x1be) {
    if (UnitBattleData[DAT_BATTLE_BIN__8018f8c8].field0_0x0.UnitID != 0xff) {
      *param_3 = 1;
      *param_4 = (undefined)DAT_BATTLE_BIN__8018f8c8;
      return 1;
    }
    goto LAB_BATTLE_BIN__8017ccfc;
  }
  if (((&DAT_8005ea2a)[DAT_BATTLE_BIN__80192d9c] & 4) != 0) {
    *param_3 = 1;
    *param_4 = (char)param_1;
    return 1;
  }
  if (((&DAT_8005ea2a)[DAT_BATTLE_BIN__80192d9c] & 8) != 0) {
    return 0;
  }
LAB_BATTLE_BIN__8017ccfc:
  *param_3 = 0;
  return 1;
}



int FUN_BATTLE_BIN__8017cd24(CurActionTargetData *param_1,undefined *param_2)

{
  int iVar1;
  uint uVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  
  bVar4 = 0;
  bVar3 = 0;
  uVar2 = (uint)ActionMenus[param_1->SkillsetOfAttack];
  bVar5 = 0;
  *param_2 = 0;
  if (((uVar2 == 0) || (uVar2 == 6)) && (iVar1 = (int)(short)param_1->AttackToUse, iVar1 < 0x170)) {
    *param_2 = SecondaryAbilityData[iVar1].field_0x5;
    bVar4 = SecondaryAbilityData[iVar1].field_0x6;
    bVar3 = SecondaryAbilityData[iVar1].field_0x3;
    bVar5 = SecondaryAbilityData[iVar1].field_0x4;
  }
  if (((uVar2 == 8) || (uVar2 == 10)) ||
     ((uVar2 - 1 < 2 || (((bVar4 & 0x20) != 0 || ((bVar3 & 0x20) != 0)))))) {
    iVar1 = FUN_BATTLE_BIN__8017ac90(param_1);
  }
  else {
    iVar1 = FUN_BATTLE_BIN__8017aaf8(param_1);
    if (((iVar1 != -1) && ((bVar5 & 8) != 0)) && (DAT_BATTLE_BIN__8018f5fc == 0)) {
      FUN_BATTLE_BIN__8017d708();
    }
  }
  return iVar1;
}



undefined4 FUN_BATTLE_BIN__8017ce44(int param_1,undefined *param_2)

{
  bool bVar1;
  byte TarID;
  AbilityID AVar2;
  bool bVar3;
  ItemID IVar4;
  undefined uVar5;
  byte *pbVar6;
  int iVar7;
  BattleUnitData *pBVar8;
  byte local_40 [24];
  int local_28;
  bool local_24 [4];
  
  iVar7 = 0x14;
  pbVar6 = local_40 + 0x14;
  DAT_BATTLE_BIN__8018f4f8 = 0;
  DAT_BATTLE_BIN__8018f4f4 = 0;
  CurrentAbilityData._115_1_ = 0;
  do {
    *pbVar6 = 0xff;
    iVar7 = iVar7 + -1;
    pbVar6 = pbVar6 + -1;
  } while (-1 < iVar7);
  if (0x14 < param_1) {
    DAT_BATTLE_BIN__8018f4f4 = 0;
    DAT_BATTLE_BIN__8018f4f8 = 0;
    CurrentAbilityData._115_1_ = 0;
    return 0xffffffff;
  }
  pBVar8 = UnitBattleData + param_1;
  FUN_BATTLE_BIN__8018bd74(&UnitBattleData[param_1].field2_0x18c.HitFlag);
  UnitBattleData[param_1].field2_0x18c.HitFlag = false;
  UnitBattleData[param_1].field2_0x18c.EvadeType = 8;
  FUN_BATTLE_BIN__8018bd74(&CasCurActData.HitFlag);
  CasCurActData.HitFlag = false;
  param_2[0x22] = 0;
  param_2[0x16] = 0;
  param_2[0x13] = 0;
  bVar3 = false;
  bVar1 = DAT_BATTLE_BIN__8018f5f0 == 0;
  *(undefined2 *)(param_2 + 0x20) = 0;
  if (bVar1) {
    if (UnitBattleData[param_1].field1_0x16e.SkillsetOfAttack == Math) {
      param_2[0x13] = 1;
    }
  }
  else {
    *(short *)(param_2 + 0x20) = DAT_BATTLE_BIN__80192d9c;
    iVar7 = FUN_BATTLE_BIN__8017cacc(param_1,(int)param_2,&local_28,local_40);
    if (iVar7 != 0) {
      local_24[0] = DAT_BATTLE_BIN__80192d9c == 0x1b8;
      bVar3 = true;
    }
  }
  if (!bVar3) {
    iVar7 = FUN_BATTLE_BIN__8017cd24(&UnitBattleData[param_1].field1_0x16e,local_24);
    if (iVar7 == -1) {
      param_2[1] = 0;
      param_2[0x18] = 0;
      return 0xffffffff;
    }
    if ((CurrentAbilityData.PostActionTarID < 0x15) &&
       ((CurrentAbilityData.CanPerformReaction != 0 || ((CurrentAbilityData._81_1_ & 0x80) != 0))))
    {
      FUN_BATTLE_BIN__8017b4a0();
      pbVar6 = local_40 + 1;
      local_28 = 1;
      local_40[0] = CurrentAbilityData.PostActionTarID;
      do {
        *pbVar6 = 0xff;
        pbVar6 = pbVar6 + 1;
      } while ((int)pbVar6 < (int)(local_40 + 0x10));
      iVar7 = GetUnitTileID(UnitBattleData + CurrentAbilityData.PostActionTarID);
      (&DAT_BATTLE_BIN__8018f8d1)[iVar7 * 8] = (&DAT_BATTLE_BIN__8018f8d1)[iVar7 * 8] | 0x80;
    }
    local_28 = FUN_BATTLE_BIN__8017d850((int)local_40,(int)pBVar8);
  }
  pbVar6 = local_40;
  CurrentAbilityData.CanKnockback = (bool)(char)local_28;
  FUN_BATTLE_BIN__8018edf8(local_40);
  FUN_BATTLE_BIN__8018b274(param_1 * 0x1c0 + -0x7fe6f5c6);
  do {
    TarID = *pbVar6;
    pbVar6 = pbVar6 + 1;
    if (TarID != 0xff) {
      CurrentAbilityData.DefaultToAbility00 = false;
      PreFormulaSetup(&UnitBattleData[param_1].field1_0x16e,TarID);
    }
  } while ((int)pbVar6 < (int)(local_40 + 0x15));
  FUN_BATTLE_BIN__8018ac74((int)pBVar8);
  local_28 = FUN_BATTLE_BIN__8018ee24(param_2 + 2);
  param_2[1] = (char)local_28;
  CurrentAbilityData.CanKnockback = (bool)(char)local_28;
  if (DAT_BATTLE_BIN__8018f5f0 == 0) {
    CurrentAbilityData.CanEarnEXP = true;
  }
  param_2[0x23] = 0;
  FUN_BATTLE_BIN__8017d410((int)pBVar8,(int)param_2,(char)local_28);
  *param_2 = (char)param_1;
  IVar4 = CurrentAbilityData.UsedItem3;
  param_2[0x17] = 0;
  param_2[0x1f] = IVar4;
  param_2[0x19] = CurrentAbilityData.NumHitsExecuted;
  FUN_BATTLE_BIN__8017d350((int)pBVar8,(int)param_2);
  uVar5 = CurrentAbilityData._114_1_;
  if (local_28 != 0) {
    param_2[0x12] = 0;
    param_2[0x16] = uVar5;
    if ((CurrentAbilityData.ReactionID2 == 0) || (CurrentAbilityData.CanPerformReaction != 0)) {
      if (CurrentAbilityData.DefaultToAbility00 == false) {
        *(AbilityID *)(param_2 + 0x14) = UnitBattleData[param_1].field1_0x16e.AttackToUse;
      }
      else {
        *(undefined2 *)(param_2 + 0x14) = 0;
      }
    }
    else {
      *(short *)(param_2 + 0x14) = CurrentAbilityData.ReactionID2;
      param_2[0x17] = 1;
    }
    *(short *)(param_2 + 0x1a) = CurrentAbilityData.ReactionID2;
    if (CurrentAbilityData._81_1_ != '\0') {
      param_2[0x22] = CurrentAbilityData._81_1_ & 0x7f;
      param_2[0x1c] = CurrentAbilityData.TarNewMapX;
      param_2[0x1d] = CurrentAbilityData.TarNewMapY;
      param_2[0x1e] = CurrentAbilityData.TarNewMapZ;
    }
    if ((CurrentAbilityData.CanPerformReaction == 0) && ((CurrentAbilityData._81_1_ & 0x80) == 0)) {
      if (CurrentAbilityData._81_1_ != '\0') {
        param_2[0x17] = 1;
        param_2[0x12] = 1;
        *(undefined2 *)(param_2 + 0x14) = 0x200;
      }
      CurrentAbilityData.NumHitsExecuted = CurrentAbilityData.NumHitsExecuted + 1;
      if (CurrentAbilityData.NoHits <= CurrentAbilityData.NumHitsExecuted) {
        param_2[0x18] = 0;
        return 0;
      }
    }
    param_2[0x18] = 1;
    return 0;
  }
  CurrentAbilityData.NumHitsExecuted = CurrentAbilityData.NumHitsExecuted + 1;
  AVar2 = UnitBattleData[param_1].field1_0x16e.AttackToUse;
  *(undefined2 *)(param_2 + 0x1a) = 0;
  *(AbilityID *)(param_2 + 0x14) = AVar2;
  if ((local_24[0] & 1U) == 0) {
    param_2[0x12] = 1;
  }
  if (CurrentAbilityData.NumHitsExecuted < CurrentAbilityData.NoHits) {
    param_2[0x18] = 1;
  }
  else {
    param_2[0x18] = 0;
  }
  return 1;
}



void FUN_BATTLE_BIN__8017d350(int param_1,int param_2)

{
  byte bVar1;
  
  *(undefined *)(param_2 + 0x12) = 0;
  if (CurrentAbilityData._115_1_ == '\0') {
    if (*(char *)(param_1 + 0x178) == '\x06') {
      bVar1 = *(byte *)(param_1 + 0x179);
      *(byte *)(param_2 + 0x1c) = UnitBattleData[bVar1].field0_0x0.MapX;
      *(byte *)(param_2 + 0x1d) = UnitBattleData[bVar1].field0_0x0.MapY;
      bVar1 = (byte)((ushort)*(undefined2 *)&UnitBattleData[bVar1].field0_0x0.MapY >> 0xf);
    }
    else {
      *(undefined *)(param_2 + 0x1c) = *(undefined *)(param_1 + 0x17a);
      *(undefined *)(param_2 + 0x1d) = *(undefined *)(param_1 + 0x17e);
      bVar1 = *(byte *)(param_1 + 0x17c);
    }
  }
  else {
    *(byte *)(param_2 + 0x1c) = CurrentAbilityData.TarNewMapX;
    *(byte *)(param_2 + 0x1d) = CurrentAbilityData.TarNewMapY;
    bVar1 = CurrentAbilityData.TarNewMapZ;
  }
  *(byte *)(param_2 + 0x1e) = bVar1;
  return;
}



void FUN_BATTLE_BIN__8017d410(int param_1,int param_2,char param_3)

{
  if ((ActionMenus[*(byte *)(param_1 + 0x16f)] == DrawOut) && (*(char *)(param_1 + 3) != ']')) {
    if ((param_3 == '\0') || ((CasCurActData._16_2_ & 8) != 0)) {
      CasCurActData._16_2_ = 8;
      CasCurActData._37_1_ = 1;
      CasCurActData.HitFlag = true;
    }
    else if ((CasCurActData._16_2_ & 0x1000) != 0) {
      *(undefined *)(param_2 + 0x23) = *(undefined *)(param_2 + 0x23);
    }
  }
  return;
}



void FUN_BATTLE_BIN__8017d4a0(int param_1)

{
  SkillsetType SVar1;
  int iVar2;
  uint uVar3;
  uint unaff_s0;
  
  CurrentAbilityData.NoHits = 1;
  CurrentAbilityData.NumHitsExecuted = 0;
  CurrentAbilityData.CanPerformReaction = 0;
  CurrentAbilityData._81_1_ = 0;
  uVar3 = 0;
  if (DAT_BATTLE_BIN__8018f5f0 == 0) {
    CurrentAbilityData.CanEarnEXP = false;
    CurrentAbilityData.EarnedEXP = 0;
    CurrentAbilityData._112_1_ = 0;
    CurrentAbilityData._113_1_ = 0;
  }
  SVar1 = ActionMenus[*(byte *)(param_1 + 0x16f)];
  DAT_BATTLE_BIN__8018f7ec = 0;
  CurrentAbilityData.SecondaryUsedItem = *(undefined *)(param_1 + 0x1f);
  CurrentAbilityData.PrimaryUsedItem = *(char *)(param_1 + 0x1d);
  if (*(char *)(param_1 + 0x1d) == -1) {
    CurrentAbilityData.SecondaryUsedItem = 0xff;
    CurrentAbilityData.PrimaryUsedItem = *(undefined *)(param_1 + 0x1f);
  }
  if (SVar1 == Throw) {
    CurrentAbilityData.PrimaryUsedItem = *(undefined *)(param_1 + 0x176);
    DAT_BATTLE_BIN__8018f7ec = 0;
    CurrentAbilityData.NoHits = 1;
    CurrentAbilityData.NumHitsExecuted = 0;
    CurrentAbilityData.CanPerformReaction = 0;
    CurrentAbilityData._81_1_ = 0;
    return;
  }
  if ((SVar1 == Default) || (SVar1 == Monster)) {
    iVar2 = (int)*(short *)(param_1 + 0x170);
    if ((-1 < iVar2) || (iVar2 < 0x170)) {
      DAT_BATTLE_BIN__8018f7ec = SecondaryAbilityData[iVar2].field_0x3;
      unaff_s0 = (uint)SecondaryAbilityData[iVar2].X;
      uVar3 = (uint)SecondaryAbilityData[iVar2].Formula;
    }
    if ((uVar3 - 0x1e < 2) && (DAT_BATTLE_BIN__8018f5fc == 0)) {
      iVar2 = rand();
      iVar2 = unaff_s0 * iVar2;
      if (iVar2 < 0) {
        iVar2 = iVar2 + 0x7fff;
      }
      CurrentAbilityData.NoHits = (char)(iVar2 >> 0xf) + 1;
      return;
    }
    if (uVar3 == 0x5e) {
      CurrentAbilityData.NoHits = (char)unaff_s0 + 1;
      CurrentAbilityData.NumHitsExecuted = 0;
      CurrentAbilityData.CanPerformReaction = 0;
      CurrentAbilityData._81_1_ = 0;
      return;
    }
  }
  if (SVar1 == Jump) {
    CurrentAbilityData.NoHits = 1;
    CurrentAbilityData.NumHitsExecuted = 0;
    CurrentAbilityData.CanPerformReaction = 0;
    CurrentAbilityData._81_1_ = 0;
    return;
  }
  if (((SVar1 != Attack) && (SVar1 != Aim)) && ((DAT_BATTLE_BIN__8018f7ec & 0x20) == 0)) {
    CurrentAbilityData.NoHits = 1;
    CurrentAbilityData.NumHitsExecuted = 0;
    CurrentAbilityData.CanPerformReaction = 0;
    CurrentAbilityData._81_1_ = 0;
    return;
  }
  if (((*(byte *)(param_1 + 0x5a) & 2) != 0) || ((*(byte *)(param_1 + 6) & 0x20) != 0)) {
    CurrentAbilityData.PrimaryUsedItem = NONE_ENTD;
    CurrentAbilityData.SecondaryUsedItem = NONE_ENTD;
  }
  if (CurrentAbilityData._40_2_ != -1) {
    if (CurrentAbilityData.PrimaryUsedItem == NONE_ENTD) {
      CurrentAbilityData.NoHits = 1;
      CurrentAbilityData.NumHitsExecuted = 0;
      CurrentAbilityData.CanPerformReaction = 0;
      CurrentAbilityData._81_1_ = 0;
      return;
    }
    if (CurrentAbilityData.SecondaryUsedItem == NONE_ENTD) {
      CurrentAbilityData.NoHits = 1;
      CurrentAbilityData.NumHitsExecuted = 0;
      CurrentAbilityData.CanPerformReaction = 0;
      CurrentAbilityData._81_1_ = 0;
      return;
    }
  }
  if ((*(byte *)(param_1 + 0x91) & 1) != 0) {
    CurrentAbilityData._81_1_ = 0;
    CurrentAbilityData.CanPerformReaction = 0;
    CurrentAbilityData.NumHitsExecuted = 0;
    CurrentAbilityData.NoHits = 2;
    return;
  }
  CurrentAbilityData.NoHits = 1;
  CurrentAbilityData.NumHitsExecuted = 0;
  CurrentAbilityData.CanPerformReaction = 0;
  CurrentAbilityData._81_1_ = 0;
  return;
}



// WARNING: Removing unreachable block (ram,0x8017d7f8)

void FUN_BATTLE_BIN__8017d708(void)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  undefined1 *puVar4;
  int iVar5;
  int iVar6;
  int unaff_s1;
  
  iVar6 = 0;
  iVar3 = 0;
  puVar4 = &DAT_BATTLE_BIN__8018f8cc;
  iVar1 = 0;
  do {
    if (iVar3 == 0x100) {
      unaff_s1 = iVar6;
    }
    iVar5 = iVar1;
    if ((puVar4[5] & 0x80) != 0) {
      iVar5 = iVar1 + 5;
      iVar6 = iVar6 + 1;
      puVar4[5] = puVar4[5] & 0x7f;
      (&DAT_BATTLE_BIN__80192dd9)[iVar1] = (char)iVar3;
    }
    iVar3 = iVar3 + 1;
    puVar4 = puVar4 + 8;
    iVar1 = iVar5;
  } while (iVar3 < 0x200);
  iVar1 = rand();
  iVar1 = iVar1 * iVar6;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0x7fff;
  }
  uVar2 = (uint)(byte)(&DAT_BATTLE_BIN__80192dd9)[(iVar1 >> 0xf) * 5];
  iVar3 = uVar2 << 3;
  if (unaff_s1 <= iVar1 >> 0xf) {
    uVar2 = uVar2 + 0x100;
    iVar3 = uVar2 * 8;
  }
  (&DAT_BATTLE_BIN__8018f8d1)[iVar3] = (&DAT_BATTLE_BIN__8018f8d1)[iVar3] | 0x80;
  CurrentAbilityData._115_1_ = 1;
  CurrentAbilityData.TarNewMapZ = (byte)(uVar2 >> 8);
  CurrentAbilityData.TarNewMapY = (byte)((uVar2 & 0xff) / (uint)DAT_BATTLE_BIN__800e4e9c);
  CurrentAbilityData.TarNewMapX = (byte)((uVar2 & 0xff) % (uint)DAT_BATTLE_BIN__800e4e9c);
  FUN_BATTLE_BIN__80179400();
  return;
}



int FUN_BATTLE_BIN__8017d850(int param_1,int param_2)

{
  byte bVar1;
  byte bVar2;
  bool bVar3;
  undefined3 extraout_var;
  int iVar4;
  int iVar5;
  int *piVar6;
  undefined *puVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int local_90 [19];
  int local_44 [7];
  
  iVar10 = 0;
  iVar11 = 0;
  iVar12 = 0;
  bVar1 = *(byte *)(param_2 + 0x47);
  bVar2 = *(byte *)(param_2 + 0x48);
  do {
    if ((((&UnitBattleData[0].field0_0x0.UnitID)[iVar12] != 0xff) &&
        (bVar3 = FUN_BATTLE_BIN__8017bdd0(iVar11,local_44 + 3), CONCAT31(extraout_var,bVar3) == 0))
       && (((&DAT_BATTLE_BIN__8018f8d1)[local_44[3] * 8] & 0x80) != 0)) {
      iVar8 = iVar10;
      if (DAT_BATTLE_BIN__8018f4f8 != 0) {
        iVar5 = (uint)bVar1 - (uint)(&UnitBattleData[0].field0_0x0.MapX)[iVar12];
        if (iVar5 < 0) {
          iVar5 = -iVar5;
        }
        iVar4 = (uint)bVar2 - (uint)(&UnitBattleData[0].field0_0x0.MapY)[iVar12];
        iVar8 = 0;
        if (iVar4 < 0) {
          iVar4 = -iVar4;
        }
        piVar6 = local_90;
        if (0 < iVar10) {
          do {
            if (iVar5 + iVar4 < *piVar6) break;
            iVar8 = iVar8 + 1;
            piVar6 = piVar6 + 1;
          } while (iVar8 < iVar10);
        }
        iVar9 = 0x14;
        if (iVar8 < 0x14) {
          piVar6 = local_44 + 1;
          puVar7 = (undefined *)(param_1 + 0x14);
          do {
            iVar9 = iVar9 + -1;
            *puVar7 = puVar7[-1];
            puVar7 = puVar7 + -1;
            *piVar6 = piVar6[-1];
            piVar6 = piVar6 + -1;
          } while (iVar8 < iVar9);
        }
        local_90[iVar8] = iVar5 + iVar4;
      }
      *(char *)(param_1 + iVar8) = (char)iVar11;
      iVar10 = iVar10 + 1;
    }
    iVar11 = iVar11 + 1;
    iVar12 = iVar12 + 0x1c0;
    if (0x14 < iVar11) {
      if (iVar10 < 0x15) {
        puVar7 = (undefined *)(iVar10 + param_1);
        do {
          *puVar7 = 0xff;
          puVar7 = puVar7 + 1;
        } while ((int)puVar7 < param_1 + 0x15);
      }
      return iVar10;
    }
  } while( true );
}



int FUN_BATTLE_BIN__8017da20(BattleUnitData *param_1)

{
  SkillsetType SVar1;
  short sVar2;
  AbilityID AVar3;
  int iVar4;
  
  AVar3 = (param_1->field1_0x16e).AttackToUse;
  SVar1 = ActionMenus[(param_1->field1_0x16e).SkillsetOfAttack];
  CurrentAbilityData.MPUsed = 0;
  if (DAT_BATTLE_BIN__8018f5f0 == 0) {
    Status_InflictionRemoval((int)param_1,0xff);
  }
  iVar4 = FUN_BATTLE_BIN__8018130c(param_1);
  if (((param_1->field0_0x0).CurrentStatuses.field_0x4 & 4) != 0) {
    iVar4 = 1;
  }
  if (iVar4 != 0) {
    return iVar4 + 6;
  }
  if (((param_1->field0_0x0).CurrentStatuses.field_0x2 & 2) != 0) {
    if (((AVar3 != None) && (AVar3 != FrogAttack)) && (AVar3 != Frog)) {
      return 5;
    }
    if (SVar1 == Aim) {
      return 5;
    }
  }
  if (AVar3 < Potion) {
    if (((SVar1 == Default) || (SVar1 == Monster)) &&
       (((SecondaryAbilityData[(short)AVar3].field_0x5 & 0x20) != 0 &&
        (((param_1->field0_0x0).CurrentStatuses.field_0x1 & 8) != 0)))) {
      return 2;
    }
    if (SVar1 != Default) {
      return 0;
    }
    if ((param_1->field0_0x0).JobID == Mime) {
      return 0;
    }
    CurrentAbilityData.MPUsed = SecondaryAbilityData[(short)AVar3].MPCost;
    if ((*(byte *)((int)&(param_1->field0_0x0).Supports + 1) & 0x80) != 0) {
      CurrentAbilityData.MPUsed = CurrentAbilityData.MPUsed >> 1;
    }
    sVar2 = (param_1->field0_0x0).MP;
    if (sVar2 < (short)(ushort)CurrentAbilityData.MPUsed) {
      return 3;
    }
    if (DAT_BATTLE_BIN__8018f5fc != 2) {
      (param_1->field0_0x0).MP = sVar2 - (ushort)CurrentAbilityData.MPUsed;
    }
  }
  return 0;
}



void FUN_BATTLE_BIN__8017dbc8(int param_1)

{
  if (*(char *)(param_1 + 3) == ']') {
    *(undefined *)(param_1 + 0x1d) = 0xff;
    *(undefined *)(param_1 + 0x1f) = 0xff;
  }
  else {
    if (DAT_BATTLE_BIN__8018f5f0 != 0) goto LAB_BATTLE_BIN__8017dc60;
    CurrentAbilityData.CasFacing = (byte)((ushort)*(undefined2 *)(param_1 + 0x48) >> 8) & 0xf;
  }
  if (DAT_BATTLE_BIN__8018f5f0 == 0) {
    CasCurActData.AutoBattle = *(byte *)(param_1 + 0x47);
    CasCurActData.FinalInflictStatus._1_1_ = *(undefined *)(param_1 + 0x48);
    DAT_BATTLE_BIN__80192dd4 = (byte)((ushort)*(undefined2 *)(param_1 + 0x48) >> 0xf);
    return;
  }
LAB_BATTLE_BIN__8017dc60:
  BATTLE_Unit_Targetting_to_Temp
            ((CurActionTargetData *)&DAT_BATTLE_BIN__80193848,
             (CurActionTargetData *)(param_1 + 0x16e));
  DAT_BATTLE_BIN__8018f5f0 = 0;
  return;
}



void FUN_BATTLE_BIN__8017dc88(uint param_1,uint param_2,uint param_3)

{
  FUN_BATTLE_BIN__8017dca8(param_1,param_2,param_3,0);
  return;
}



uint FUN_BATTLE_BIN__8017dca8(uint param_1,uint param_2,uint param_3,uint param_4)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  
  if ((-1 < (int)param_1) && ((int)param_1 < (int)(uint)DAT_BATTLE_BIN__800e4e9c)) {
    if ((int)param_2 < 0) {
      return 0xfffffffe;
    }
    if (((int)param_2 < (int)(uint)DAT_BATTLE_BIN__800e4ea0) && (param_3 < 2)) {
      iVar1 = (param_3 * 0x100 + param_2 * DAT_BATTLE_BIN__800e4e9c + param_1) * 8;
      if (((&DAT_BATTLE_BIN__8018f8d2)[iVar1] & 3) != 0) {
        return 0xfffffffe;
      }
      uVar3 = 0;
      if ((param_4 & 2) == 0) {
        iVar4 = 0;
      }
      else {
        if (((&DAT_BATTLE_BIN__8018f8cf)[iVar1] & 0xe0) != 0) {
          return 0xfffffffe;
        }
        iVar4 = 0;
        if (2 < ((&DAT_BATTLE_BIN__8018f8cf)[iVar1] & 0x1f)) {
          return 0xfffffffe;
        }
      }
      while( true ) {
        if ((((&UnitBattleData[0].field0_0x0.UnitID)[iVar4] != 0xff) &&
            (((((param_4 & 0x51) == 0 ||
               (((param_4 & 0x40) != 0 &&
                ((UnitBattleData[0].field0_0x0.JobLevels[iVar4 + -0x7a] & 0x40) != 0)))) ||
              (((param_4 & 1) != 0 &&
               ((UnitBattleData[0].field0_0x0.JobLevels[iVar4 + -0x79] & 1) != 0)))) ||
             (((param_4 & 0x10) != 0 &&
              ((UnitBattleData[0].field0_0x0.JobLevels[iVar4 + -0x78] & 0x10) != 0)))))) &&
           ((((param_4 & 0x80) == 0 ||
             (iVar1 = FUN_BATTLE_BIN__801743c8
                                ((int)(&UnitBattleData[0].field0_0x0.BaseClass + iVar4)), iVar1 != 0
             )) && ((((&UnitBattleData[0].field0_0x0.MapX)[iVar4] == param_1 &&
                     ((&UnitBattleData[0].field0_0x0.MapY)[iVar4] == param_2)) &&
                    (*(ushort *)(&UnitBattleData[0].field0_0x0.MapY + iVar4) >> 0xf == param_3))))))
        break;
        uVar3 = uVar3 + 1;
        iVar4 = iVar4 + 0x1c0;
        if (0x14 < (int)uVar3) {
          return 0xffffffff;
        }
      }
      uVar2 = (uint)(byte)(&UnitBattleData[0].field1_0x16e.field_0x14)[iVar4];
      if (0x7f < uVar2) {
        return uVar2 & 0x1f;
      }
      return uVar3;
    }
  }
  return 0xfffffffe;
}



void FUN_BATTLE_BIN__8017ded0(void)

{
  undefined *puVar1;
  int iVar2;
  
  iVar2 = 0;
  puVar1 = &DAT_BATTLE_BIN__80192dd8;
  do {
    *puVar1 = 0;
    puVar1[1] = 0;
    iVar2 = iVar2 + 1;
    puVar1 = puVar1 + 5;
  } while (iVar2 < 0x200);
  return;
}



uint FUN_BATTLE_BIN__8017defc(uint param_1,undefined2 *param_2)

{
  SkillsetType SVar1;
  short sVar2;
  bool bVar3;
  int iVar4;
  dword dVar5;
  undefined3 extraout_var;
  uint uVar6;
  uint uVar7;
  byte bVar8;
  BattleUnitData *pBVar9;
  byte local_38 [24];
  
  pBVar9 = UnitBattleData;
  CurrentAbilityData.Hamedo = 0;
  if (UnitBattleData[param_1].field0_0x0.UnitID != 0xff) {
    sVar2 = UnitBattleData[param_1].field0_0x0.MP;
    iVar4 = FUN_BATTLE_BIN__8017da20(UnitBattleData + param_1);
    UnitBattleData[param_1].field0_0x0.MP = sVar2;
    if (iVar4 == 0) {
      iVar4 = 0;
      do {
        (pBVar9->field2_0x18c).ReactionID = 0;
        (pBVar9->field1_0x16e).field_0x1b = 0;
        iVar4 = iVar4 + 1;
        pBVar9 = pBVar9 + 1;
      } while (iVar4 < 0x15);
      SVar1 = ActionMenus[UnitBattleData[param_1].field1_0x16e.SkillsetOfAttack];
      bVar8 = 0;
      if (((SVar1 == Default) || (SVar1 == Monster)) &&
         (uVar7 = (uint)UnitBattleData[param_1].field1_0x16e.AttackToUse, uVar7 < 0x170)) {
        bVar8 = SecondaryAbilityData[uVar7].field_0x3;
      }
      iVar4 = -1;
      if (((SVar1 == Attack) || (SVar1 == Aim)) || ((SVar1 == Throw || ((bVar8 & 0x20) != 0)))) {
        iVar4 = FUN_BATTLE_BIN__8017ac90(&UnitBattleData[param_1].field1_0x16e);
      }
      if (iVar4 == -1) {
        return 0xffffffff;
      }
      DAT_BATTLE_BIN__8018f4f8 = 0;
      dVar5 = FUN_BATTLE_BIN__8017d850((int)local_38,(int)(UnitBattleData + param_1));
      if ((dVar5 == 1) && (uVar7 = (uint)local_38[0], uVar7 != param_1)) {
        pBVar9 = UnitBattleData + uVar7;
        if ((*(byte *)((int)&UnitBattleData[uVar7].field0_0x0.Reactions + 3) & 1) == 0) {
          return 0xffffffff;
        }
        bVar3 = FUN_BATTLE_BIN__8018d384((int)pBVar9);
        if (CONCAT31(extraout_var,bVar3) != 0) {
          return 0xffffffff;
        }
        iVar4 = FUN_BATTLE_BIN__8018c968((int)pBVar9);
        if (iVar4 != 0) {
          return 0xffffffff;
        }
        DAT_BATTLE_BIN__8018f5f0 = dVar5;
        BATTLE_Unit_Targetting_to_Temp
                  (&UnitBattleData[uVar7].field1_0x16e,
                   (CurActionTargetData *)&DAT_BATTLE_BIN__80193848);
        DAT_BATTLE_BIN__80192d9c = 0x1c5;
        DAT_BATTLE_BIN__8018f8c8 = param_1;
        UnitBattleData[uVar7].field1_0x16e.AttackerID = local_38[0];
        uVar6 = FUN_BATTLE_BIN__8017e650((int)pBVar9,1,0,1);
        if ((uVar6 == 0) && (iVar4 = FUN_BATTLE_BIN__8017da20(pBVar9), iVar4 == 0)) {
          FUN_BATTLE_BIN__8017d4a0((int)pBVar9);
          *param_2 = DAT_BATTLE_BIN__80192d9c;
          if (UnitBattleData[param_1].field0_0x0.JobID != Mime) {
            CurrentAbilityData.Hamedo = dVar5;
            return uVar7;
          }
          CurrentAbilityData.Hamedo = dVar5;
          UnitBattleData[param_1].field0_0x0.RHWeapon = NONE_ENTD;
          UnitBattleData[param_1].field0_0x0.LHWeapon = NONE_ENTD;
          return uVar7;
        }
        BATTLE_Unit_Targetting_to_Temp
                  ((CurActionTargetData *)&DAT_BATTLE_BIN__80193848,
                   &UnitBattleData[uVar7].field1_0x16e);
      }
    }
  }
  return 0xffffffff;
}



int FUN_BATTLE_BIN__8017e178(AbilityID *param_1)

{
  AbilityID AVar1;
  int iVar2;
  uint uVar3;
  undefined uVar4;
  ushort uVar5;
  undefined2 uVar6;
  uint uVar7;
  BattleUnitData *UnitBattlePtr;
  CurActionTargetData *src;
  byte bVar8;
  int iVar9;
  
  if (DAT_BATTLE_BIN__8018f8c8 != -1) {
    iVar9 = 0;
    do {
      DAT_BATTLE_BIN__8018f5f0 = 0;
      if (iVar9 == DAT_BATTLE_BIN__8018f8c8) goto LAB_BATTLE_BIN__8017e54c;
      UnitBattlePtr = UnitBattleData + iVar9;
      src = &UnitBattleData[iVar9].field1_0x16e;
      iVar2 = FUN_BATTLE_BIN__8018130c(UnitBattlePtr);
      if ((iVar2 != 0) || (UnitBattleData[iVar9].field0_0x0.UnitID == 0xff))
      goto LAB_BATTLE_BIN__8017e54c;
      iVar2 = FUN_BATTLE_BIN__8018c968((int)UnitBattlePtr);
      AVar1 = UnitBattleData[iVar9].field2_0x18c.ReactionID;
      if ((((iVar2 != 0) || (DAT_BATTLE_BIN__8018f5fc == 1)) && (AVar1 != Reflect(Reaction))) ||
         (AVar1 == None)) goto LAB_BATTLE_BIN__8017e54c;
      DAT_BATTLE_BIN__8018f5f0 = 1;
      BATTLE_Unit_Targetting_to_Temp(src,(CurActionTargetData *)&DAT_BATTLE_BIN__80193848);
      bVar8 = (byte)iVar9;
      DAT_BATTLE_BIN__80192d9c = AVar1;
      src->AttackerID = bVar8;
      UnitBattleData[iVar9].field1_0x16e.SkillsetOfAttack = NONE;
      AVar1 = DAT_BATTLE_BIN__80192d9c;
      uVar7 = 1;
      UnitBattleData[iVar9].field1_0x16e.AttackToUse = DAT_BATTLE_BIN__80192d9c;
      uVar5 = UnitBattleData[iVar9].field2_0x18c.ReactionVar;
      UnitBattleData[iVar9].field2_0x18c.ReactionID = 0;
      switch(AVar1) {
      case MeatboneSlash:
        uVar3 = FUN_BATTLE_BIN__8017e650((int)UnitBattlePtr,1,0,1);
        if (uVar3 != 0) goto LAB_BATTLE_BIN__8017e3ec;
        UnitBattleData[iVar9].field1_0x16e.SkillsetOfAttack = Attack;
        UnitBattleData[iVar9].field1_0x16e.TileTarget = 5;
        break;
      case CounterMagic:
        uVar4 = 0xb;
        goto LAB_BATTLE_BIN__8017e34c;
      case CounterTackle:
        uVar4 = 0xb;
        uVar6 = 0x93;
        goto LAB_BATTLE_BIN__8017e3dc;
      case CounterFlood:
        iVar2 = GetUnitTileID(UnitBattlePtr);
        uVar4 = 0x11;
        uVar5 = (ushort)(byte)GeomancyAbilityTable
                              [(byte)(&DAT_BATTLE_BIN__8018f8cc)[iVar2 * 8] & 0x3f];
LAB_BATTLE_BIN__8017e34c:
        uVar7 = FUN_BATTLE_BIN__8017e650((int)UnitBattlePtr,uVar4,uVar5,0);
        uVar7 = (uint)(uVar7 == 0) << 1;
        break;
      default:
        uVar7 = -(uint)(((&DAT_8005ea2a)[(short)DAT_BATTLE_BIN__80192d9c] & 0x30) == 0);
        break;
      case Reflect(Reaction):
        iVar2 = FUN_BATTLE_BIN__8017e590(UnitBattlePtr);
        uVar7 = -(uint)(iVar2 == 0) & 3;
        break;
      case AutoPotion:
        iVar2 = FUN_BATTLE_BIN__8017e780((int)UnitBattlePtr);
        if (iVar2 != -1) {
          UnitBattleData[iVar9].field1_0x16e.SkillsetOfAttack = Item;
          UnitBattleData[iVar9].field1_0x16e.UsedItem = (ItemID)iVar2;
          UnitBattleData[iVar9].field1_0x16e.TileTarget = 5;
          UnitBattleData[iVar9].field1_0x16e.TargetID = bVar8;
          UnitBattleData[iVar9].field1_0x16e.XMapCoordTarget =
               (ushort)UnitBattleData[iVar9].field0_0x0.MapX;
          UnitBattleData[iVar9].field1_0x16e.YMapCoordTarget =
               (ushort)UnitBattleData[iVar9].field0_0x0.MapY;
          uVar7 = 2;
          UnitBattleData[iVar9].field1_0x16e.ZMapCoordTarget =
               *(ushort *)&UnitBattleData[iVar9].field0_0x0.MapY >> 0xf;
          uVar3 = FUN_BATTLE_BIN__8017c3dc(src);
          UnitBattleData[iVar9].field1_0x16e.AttackToUse = AutoPotion;
          if (uVar3 == 0xffffffff) goto LAB_BATTLE_BIN__8017e3ec;
          uVar3 = (uint)(uVar3 - 2 < 2);
          goto LAB_BATTLE_BIN__8017e3e4;
        }
        goto LAB_BATTLE_BIN__8017e3ec;
      case Counter:
        uVar4 = 1;
        uVar6 = 0;
LAB_BATTLE_BIN__8017e3dc:
        uVar3 = FUN_BATTLE_BIN__8017e650((int)UnitBattlePtr,uVar4,uVar6,1);
LAB_BATTLE_BIN__8017e3e4:
        if (uVar3 != 0) {
LAB_BATTLE_BIN__8017e3ec:
          uVar7 = 0;
        }
      }
      if ((uVar7 - 1 < 2) && (iVar2 = FUN_BATTLE_BIN__8017da20(UnitBattlePtr), iVar2 != 0)) {
        uVar7 = 0;
      }
      if (uVar7 != 0) {
        if (uVar7 - 1 < 3) {
          FUN_BATTLE_BIN__8017d4a0((int)UnitBattlePtr);
        }
        else {
          CurrentAbilityData.NoHits = 1;
          CurrentAbilityData.NumHitsExecuted = 0;
          CurrentAbilityData.CanPerformReaction = 0;
          CurrentAbilityData._81_1_ = 0;
          CurrentAbilityData.PrimaryUsedItem = UnitBattleData[iVar9].field0_0x0.RHWeapon;
          CurrentAbilityData.SecondaryUsedItem = UnitBattleData[iVar9].field0_0x0.LHWeapon;
          UnitBattleData[iVar9].field1_0x16e.SkillsetOfAttack = NONE;
          UnitBattleData[iVar9].field1_0x16e.TileTarget = 5;
          UnitBattleData[iVar9].field1_0x16e.TargetID = bVar8;
          if (DAT_BATTLE_BIN__80192d9c == DamageSplit) {
            UnitBattleData[iVar9].field1_0x16e.TargetID = (byte)DAT_BATTLE_BIN__8018f8c8;
            UnitBattlePtr = UnitBattleData + DAT_BATTLE_BIN__8018f8c8;
          }
          UnitBattleData[iVar9].field1_0x16e.XMapCoordTarget =
               (ushort)(UnitBattlePtr->field0_0x0).MapX;
          UnitBattleData[iVar9].field1_0x16e.YMapCoordTarget =
               (ushort)(UnitBattlePtr->field0_0x0).MapY;
          UnitBattleData[iVar9].field1_0x16e.ZMapCoordTarget =
               *(ushort *)&(UnitBattlePtr->field0_0x0).MapY >> 0xf;
        }
        *param_1 = DAT_BATTLE_BIN__80192d9c;
        src->AttackerID = bVar8;
        return iVar9;
      }
      BATTLE_Unit_Targetting_to_Temp((CurActionTargetData *)&DAT_BATTLE_BIN__80193848,src);
LAB_BATTLE_BIN__8017e54c:
      iVar9 = iVar9 + 1;
    } while (iVar9 < 0x15);
    DAT_BATTLE_BIN__8018f5f0 = 0;
    *param_1 = None;
  }
  return -1;
}



undefined4 FUN_BATTLE_BIN__8017e590(BattleUnitData *param_1)

{
  AbilityID AVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  short local_20;
  short local_1c;
  short local_18;
  
  iVar3 = (uint)(param_1->field0_0x0).MapX - (uint)CasCurActData.AutoBattle;
  iVar4 = (uint)(param_1->field0_0x0).MapY - (uint)(byte)CasCurActData.FinalInflictStatus._1_1_;
  if ((iVar3 != 0) || (uVar2 = 0xffffffff, iVar4 != 0)) {
    iVar3 = FUN_BATTLE_BIN__8018f2b0
                      (param_1,iVar3,iVar4,0,(int *)&local_20,(int *)&local_1c,
                       (undefined4 *)&local_18);
    uVar2 = 0xffffffff;
    if (iVar3 == 0) {
      (param_1->field1_0x16e).SkillsetOfAttack = BlackMagic;
      AVar1 = (param_1->field2_0x18c).ReactionVar;
      (param_1->field1_0x16e).TileTarget = 5;
      (param_1->field1_0x16e).TargetID = 0;
      uVar2 = 0;
      (param_1->field1_0x16e).AttackToUse = AVar1;
      (param_1->field1_0x16e).XMapCoordTarget = local_20;
      (param_1->field1_0x16e).YMapCoordTarget = local_1c;
      (param_1->field1_0x16e).ZMapCoordTarget = local_18;
    }
  }
  return uVar2;
}



uint FUN_BATTLE_BIN__8017e650(int param_1,undefined param_2,undefined2 param_3,int param_4)

{
  undefined uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  
  iVar2 = DAT_BATTLE_BIN__8018f8c8;
  *(undefined *)(param_1 + 0x16f) = param_2;
  *(undefined2 *)(param_1 + 0x170) = param_3;
  if (param_4 != 0) {
    uVar3 = FUN_BATTLE_BIN__8017a8c0((CurActionTargetData *)(param_1 + 0x16e));
    if ((uVar3 == 0xffffffff) || (uVar3 - 2 < 2)) {
      return 0xffffffff;
    }
    iVar4 = GetUnitTileID(UnitBattleData + iVar2);
    if (((&DAT_BATTLE_BIN__8018f8d1)[iVar4 * 8] & 0x40) == 0) {
      return 0xfffffffe;
    }
  }
  *(undefined *)(param_1 + 0x178) = 5;
  *(undefined *)(param_1 + 0x179) = (undefined)DAT_BATTLE_BIN__8018f8c8;
  *(ushort *)(param_1 + 0x17a) = (ushort)UnitBattleData[iVar2].field0_0x0.MapX;
  *(ushort *)(param_1 + 0x17e) = (ushort)UnitBattleData[iVar2].field0_0x0.MapY;
  *(ushort *)(param_1 + 0x17c) = *(ushort *)&UnitBattleData[iVar2].field0_0x0.MapY >> 0xf;
  uVar1 = *(undefined *)(param_1 + 0x15d);
  uVar3 = FUN_BATTLE_BIN__8017c3dc((CurActionTargetData *)(param_1 + 0x16e));
  *(undefined *)(param_1 + 0x15d) = uVar1;
  if ((uVar3 == 0xffffffff) || (uVar3 = (uint)(uVar3 - 2 < 2), uVar3 != 0)) {
    uVar3 = 0xfffffffd;
  }
  return uVar3;
}



undefined4 FUN_BATTLE_BIN__8017e780(int param_1)

{
  undefined4 uVar1;
  
  uVar1 = 0xf0;
  if (((*(byte *)(param_1 + 0x1ba) & 0x30) == 0) && (uVar1 = 0xf0, DAT_800597d0 == '\0')) {
    if (DAT_800597d1 == '\0') {
      uVar1 = 0xf2;
      if (DAT_800597d2 == '\0') {
        uVar1 = 0xffffffff;
      }
    }
    else {
      uVar1 = 0xf1;
    }
  }
  return uVar1;
}



undefined4 FUN_BATTLE_BIN__8017e7e4(int param_1,byte *param_2)

{
  byte bVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  BattleUnitData *pBVar7;
  uint uVar8;
  uint local_30 [2];
  
  *param_2 = 0;
  param_2[1] = 0;
  param_2[2] = 0;
  param_2[3] = 0;
  if (CurrentAbilityData.Hamedo == 0) {
    if (CurrentAbilityData.CanEarnEXP != false) {
      pBVar7 = UnitBattleData + param_1;
      if (UnitBattleData[param_1].field0_0x0.UnitID == 0xff) {
        return 0xffffffff;
      }
      if ((*(byte *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 0x60) != 0) {
        return 0xffffffff;
      }
      if ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x1 & 0x81) != 0)
      goto LAB_BATTLE_BIN__8017e894;
      bVar1 = UnitBattleData[param_1].field0_0x0.Level;
      uVar4 = (uint)UnitBattleData[param_1].field0_0x0.Exp + (uint)CurrentAbilityData.EarnedEXP;
      if (0xff < uVar4) {
        uVar4 = 0xff;
      }
      UnitBattleData[param_1].field0_0x0.Exp = (byte)uVar4;
      iVar3 = CheckUnit_LevelUp((int)pBVar7);
      if ((iVar3 != 0) || (CurrentAbilityData._112_1_ != '\0')) {
        param_2[2] = UnitBattleData[param_1].field0_0x0.Level;
      }
      *param_2 = CurrentAbilityData.EarnedEXP;
      if ((UnitBattleData[param_1].field0_0x0.field_0x6 & 0x20) != 0) {
        return 0;
      }
      uVar8 = (uint)UnitBattleData[param_1].field0_0x0.JobID;
      uVar4 = FUN_BATTLE_BIN__8017ea28((int)pBVar7,uVar8,local_30);
      iVar3 = uVar4 * 2 + (bVar1 >> 2) + 8;
      if (CurrentAbilityData.EarnedEXP == 0) {
        iVar3 = 0;
      }
      bVar1 = UnitBattleData[param_1].field0_0x0.field_0x5;
      iVar6 = 0;
      do {
        if (iVar6 != param_1) {
          iVar5 = iVar3;
          if (iVar3 < 0) {
            iVar5 = iVar3 + 3;
          }
          FUN_BATTLE_BIN__8017ea80(iVar6,iVar5 >> 2,bVar1 & 0x30,local_30[0]);
        }
        iVar6 = iVar6 + 1;
      } while (iVar6 < 0x15);
      if ((*(byte *)((int)&UnitBattleData[param_1].field0_0x0.Supports + 1) & 0x40) != 0) {
        iVar3 = (iVar3 * 3) / 2;
      }
      FUN_BATTLE_BIN__8017ea80
                (param_1,iVar3,UnitBattleData[param_1].field2_0x18c.field_0x2e & 0x30,local_30[0]);
      uVar8 = FUN_BATTLE_BIN__8017ea28((int)pBVar7,uVar8,local_30);
      if (uVar8 != uVar4) {
        param_2[3] = (byte)uVar8;
      }
      param_2[1] = (byte)iVar3;
    }
    uVar2 = 0;
  }
  else {
LAB_BATTLE_BIN__8017e894:
    uVar2 = 0xffffffff;
  }
  return uVar2;
}



uint FUN_BATTLE_BIN__8017ea28(int param_1,int param_2,uint *param_3)

{
  uint uVar1;
  
  if (param_2 - 0x4bU < 0x13) {
    *param_3 = param_2 - 0x4a;
  }
  else {
    *param_3 = 0;
  }
  uVar1 = (uint)*(byte *)(param_1 + (int)*param_3 / 2 + 0xd2);
  if ((*param_3 & 1) == 0) {
    uVar1 = (int)uVar1 >> 4;
  }
  else {
    uVar1 = uVar1 & 0xf;
  }
  return uVar1;
}



undefined4 FUN_BATTLE_BIN__8017ea80(int param_1,int param_2,byte param_3,uint param_4)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  ushort uVar4;
  
  if (-1 < param_2) {
    if (UnitBattleData[param_1].field0_0x0.UnitID == 0xff) {
      return 0xffffffff;
    }
    if ((*(byte *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 0x60) != 0) {
      return 0xffffffff;
    }
    if ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x1 & 1) != 0) {
      return 0xffffffff;
    }
    bVar2 = UnitBattleData[param_1].field0_0x0.field_0x6;
    if ((bVar2 & 0x20) != 0) {
      return 0xffffffff;
    }
    if ((UnitBattleData[param_1].field2_0x18c.field_0x2e & 0x30) != param_3) {
      return 0xffffffff;
    }
    if ((param_4 == 0x11) && ((bVar2 & 0x40) != 0)) {
      return 0xffffffff;
    }
    if ((param_4 != 0x12) || ((bVar2 & 0x80) == 0)) {
      iVar3 = (uint)(ushort)UnitBattleData[param_1].field0_0x0.JobJP[param_4] + param_2;
      if (9999 < iVar3) {
        iVar3 = 9999;
      }
      uVar4 = UnitBattleData[param_1].field0_0x0.JobTotalJP[param_4];
      UnitBattleData[param_1].field0_0x0.JobJP[param_4] = (short)iVar3;
      iVar3 = (uint)uVar4 + param_2;
      uVar4 = (ushort)iVar3;
      if (9999 < iVar3) {
        iVar3 = 9999;
        uVar4 = 9999;
      }
      UnitBattleData[param_1].field0_0x0.JobTotalJP[param_4] = (short)iVar3;
      uVar1 = Calc_Job_Level(uVar4);
      bVar2 = UnitBattleData[param_1].field0_0x0.JobLevels[(int)param_4 / 2];
      if ((param_4 & 1) == 0) {
        bVar2 = bVar2 & 0xf | (byte)((uVar1 & 0xff) << 4);
      }
      else {
        bVar2 = (char)uVar1 + (bVar2 & 0xf0);
      }
      UnitBattleData[param_1].field0_0x0.JobLevels[(int)param_4 / 2] = bVar2;
      uVar1 = Calc_Unlocked_Jobs(UnitBattleData[param_1].field0_0x0.JobLevels,
                                 (uint)(byte)UnitBattleData[param_1].field0_0x0.field_0x6);
      Store_1_5_halves(&UnitBattleData[param_1].field0_0x0.field_0x96,uVar1);
      return 0;
    }
  }
  return 0xffffffff;
}



undefined4 FUN_BATTLE_BIN__8017ec18(int param_1,undefined2 *param_2)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  uint uVar15;
  int unaff_s3;
  int unaff_s5;
  
  iVar4 = 0x9fb;
  bVar1 = UnitBattleData[param_1].field0_0x0.MapX;
  bVar2 = UnitBattleData[param_1].field0_0x0.MapY;
  do {
    (&DAT_BATTLE_BIN__80192dda)[iVar4] = 0;
    iVar4 = iVar4 + -5;
    iVar14 = 0;
  } while (-1 < iVar4);
  iVar4 = 0;
  do {
    if ((&UnitBattleData[0].field0_0x0.UnitID)[iVar4] != 0xff) {
      iVar5 = GetUnitTileID((BattleUnitData *)(&UnitBattleData[0].field0_0x0.BaseClass + iVar4));
      if (iVar14 == param_1) {
        iVar5 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar5 * 8] * 2 +
                ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar5 * 8] & 0x1f);
        unaff_s3 = iVar5 + -10;
        unaff_s5 = iVar5 + 4;
        if (unaff_s3 < 0) {
          unaff_s3 = 0;
        }
      }
      else {
        (&DAT_BATTLE_BIN__80192dda)[iVar5 * 5] = 1;
      }
    }
    iVar14 = iVar14 + 1;
    iVar4 = iVar4 + 0x1c0;
  } while (iVar14 < 0x15);
  iVar4 = 0;
  if (0 < DAT_BATTLE_BIN__8018f4f4) {
    iVar14 = 0;
    do {
      iVar4 = iVar4 + 1;
      (&DAT_BATTLE_BIN__80192dda)
      [((uint)(byte)(&DAT_BATTLE_BIN__80193882)[iVar14] * 0x100 +
        (uint)(byte)(&DAT_BATTLE_BIN__80193881)[iVar14] * (uint)DAT_BATTLE_BIN__800e4e9c +
       (uint)(byte)(&DAT_BATTLE_BIN__80193880)[iVar14]) * 5] = 1;
      iVar14 = iVar14 + 3;
    } while (iVar4 < DAT_BATTLE_BIN__8018f4f4);
  }
  iVar4 = DAT_BATTLE_BIN__8018f4f4;
  iVar14 = 0;
  do {
    uVar15 = 4;
    if (iVar14 != 0) {
      uVar15 = 0x11;
    }
    iVar5 = 1;
    if (1 < uVar15) {
      do {
        for (iVar11 = -iVar5; iVar11 <= iVar5; iVar11 = iVar11 + 1) {
          iVar13 = (uint)bVar1 + iVar11;
          if ((-1 < iVar13) && (iVar13 < (int)(uint)DAT_BATTLE_BIN__800e4e9c)) {
            iVar3 = -iVar11;
            if (iVar11 < 1) {
              iVar3 = iVar11;
            }
            iVar12 = -1;
            iVar10 = (uint)bVar2 - (iVar5 + iVar3);
            do {
              if ((-1 < iVar10) && (iVar10 < (int)(uint)DAT_BATTLE_BIN__800e4ea0)) {
                iVar8 = 0;
                do {
                  iVar9 = iVar8 * 0x100 + (uint)DAT_BATTLE_BIN__800e4e9c * iVar10 + iVar13;
                  iVar6 = iVar9 * 8;
                  uVar7 = (byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar6] & 0x1f;
                  if (((((((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar6] >> 5 < 3) && (uVar7 < 3)) &&
                        (((&DAT_BATTLE_BIN__8018f8d2)[iVar6] & 1) == 0)) &&
                       ((((&DAT_BATTLE_BIN__8018f8d2)[iVar6] & 2) == 0 &&
                        ((&DAT_BATTLE_BIN__80192dda)[iVar9 * 5] == '\0')))) &&
                      ((((&DAT_BATTLE_BIN__8018f8cc)[iVar6] & 0x3f) != 0x12 &&
                       (((&DAT_BATTLE_BIN__8018f8cc)[iVar6] & 0x3f) != 0x1c)))) &&
                     ((iVar14 != 0 ||
                      ((iVar6 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar6] * 2 + uVar7,
                       iVar6 <= unaff_s5 && (unaff_s3 <= iVar6)))))) {
                    *param_2 = (short)iVar13;
                    (&DAT_BATTLE_BIN__80193880)[iVar4 * 3] = (char)iVar13;
                    iVar4 = DAT_BATTLE_BIN__8018f4f4;
                    param_2[2] = (short)iVar10;
                    (&DAT_BATTLE_BIN__80193881)[iVar4 * 3] = (char)iVar10;
                    iVar4 = DAT_BATTLE_BIN__8018f4f4;
                    param_2[1] = (short)iVar8;
                    (&DAT_BATTLE_BIN__80193882)[iVar4 * 3] = (char)iVar8;
                    DAT_BATTLE_BIN__8018f4f4 = DAT_BATTLE_BIN__8018f4f4 + 1;
                    return 0;
                  }
                  iVar8 = iVar8 + 1;
                } while (iVar8 < 2);
              }
              iVar10 = iVar10 + (iVar5 + iVar3) * 2;
              iVar12 = iVar12 + 2;
            } while (iVar12 < 2);
          }
        }
        iVar5 = iVar5 + 1;
      } while (iVar5 < (int)uVar15);
    }
    iVar14 = iVar14 + 1;
    if (1 < iVar14) {
      return 0xffffffff;
    }
  } while( true );
}



uint FUN_BATTLE_BIN__8017f020(int param_1)

{
  uint uVar1;
  uint uVar2;
  byte bVar3;
  byte bVar4;
  
  bVar3 = *(byte *)(param_1 + 0x95);
  uVar1 = 0;
  if ((*(byte *)(param_1 + 0x5a) & 0x40) != 0) {
    bVar3 = bVar3 | 8;
  }
  bVar4 = bVar3;
  if ((*(byte *)(param_1 + 0x5a) & 6) != 0) {
    bVar4 = bVar3 & 0xfb;
  }
  if ((bVar3 & 0x80) == 0) {
    if ((bVar4 & 0x40) != 0) {
      uVar1 = 0x10;
    }
  }
  else {
    uVar1 = 0x20;
  }
  if ((bVar4 & 2) != 0) {
    uVar1 = uVar1 | 2;
  }
  if ((bVar4 & 4) == 0) {
    uVar2 = uVar1 | 8;
    if ((*(byte *)(param_1 + 0x94) & 0xc) == 0) {
      if ((bVar4 & 8) != 0) {
        return uVar1 & 6 | 0x40;
      }
      if ((bVar4 & 0x80) != 0) {
        return uVar1 | 0x20;
      }
      if ((bVar4 & 0x40) == 0) {
        return uVar1;
      }
      return uVar1 | 0x10;
    }
  }
  else {
    uVar2 = uVar1 | 0x80;
  }
  if ((bVar4 & 8) != 0) {
    uVar2 = uVar2 & 0x8e | 0x40;
  }
  return uVar2;
}



uint FUN_BATTLE_BIN__8017f0ec(int param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  
  uVar3 = (uint)DAT_BATTLE_BIN__8018f7f0;
  uVar4 = uVar3;
  if (uVar3 == 0xfe) {
    iVar1 = rand();
    iVar1 = iVar1 * (uint)*(byte *)(param_1 + 0x3a);
    if (iVar1 < 0) {
      iVar1 = iVar1 + 0x7fff;
    }
    uVar4 = (iVar1 >> 0xf) + 1;
    uVar3 = uVar4 & 0xff;
  }
  uVar2 = uVar4 & 0xff;
  if (uVar3 == 0xff) {
    uVar4 = 1;
    uVar2 = 1;
  }
  uVar4 = uVar4 & 0xff;
  if (99 < uVar2) {
    uVar4 = 99;
  }
  return uVar4;
}



AbilityIDByte FUN_BATTLE_BIN__8017f2d8(BattleUnitData *param_1)

{
  int iVar1;
  
  iVar1 = GetUnitTileID(param_1);
  return GeomancyAbilityTable[(byte)(&DAT_BATTLE_BIN__8018f8cc)[iVar1 * 8] & 0x3f];
}



int FUN_BATTLE_BIN__8017f388(undefined *param_1,int param_2)

{
  ushort uVar1;
  int iVar2;
  uint uVar3;
  JobID JVar4;
  BattleUnitData *pBVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  byte local_40 [8];
  int local_38;
  int local_30;
  
  iVar11 = 0;
  iVar9 = 1;
  if (param_2 == 0) {
    iVar10 = 0x78;
    local_38 = 1;
    local_30 = 0x10;
  }
  else {
    iVar10 = 0xfe;
    local_38 = -1;
    local_30 = 0;
  }
  iVar7 = 0;
  iVar8 = 0;
  CurrentUnitPartyID = param_1;
  do {
    iVar6 = iVar7 + local_30;
    pBVar5 = UnitBattleData + iVar6;
    UnitBattleData[iVar6].field1_0x16e.UnitID2 = (byte)iVar6;
    if (CurrentUnitPartyID[iVar8] == -1) {
LAB_BATTLE_BIN__8017f570:
      UnitBattleData[iVar6].field0_0x0.UnitID = 0xff;
      UnitBattleData[iVar6].field1_0x16e.field_0x15 = 0xff;
    }
    else {
      UnitBattleData[iVar6].field0_0x0.UnitID = (byte)iVar6;
      UnitBattleData[iVar6].field1_0x16e.field_0x15 = 1;
      iVar2 = Initialize_Unit_JobData((byte *)pBVar5,(uint)(byte)CurrentUnitPartyID[iVar8],0);
      if (iVar2 != 0) {
        FUN_8005e8e8();
        iVar11 = iVar11 + iVar9;
        goto LAB_BATTLE_BIN__8017f570;
      }
      iVar2 = FUN_BATTLE_BIN__8017f640(iVar6,(int)(CurrentUnitPartyID + iVar8));
      if (iVar2 != 0) {
        FUN_8005e8e8();
        iVar11 = iVar11 + iVar9;
        goto LAB_BATTLE_BIN__8017f570;
      }
      uVar3 = Get_Portrait((byte *)pBVar5,local_40);
      JVar4 = (pBVar5->field0_0x0).BaseClass;
      if ((JVar4 == None) || (SquireR3 < JVar4)) {
        JVar4 = (JobID)iVar10;
        iVar10 = iVar10 + local_38;
      }
      UnitBattleData[iVar6].field0_0x0.ENTDID = JVar4;
      if (param_2 != 0) {
        UnitBattleData[iVar6].field0_0x0.field_0x5 = 0x18;
        UnitBattleData[iVar6].field2_0x18c.field_0x2e = 0x18;
        UnitBattleData[iVar6].field0_0x0.TeamPalette = 1;
      }
      if ((CurrentUnitPartyID[iVar8 + 3] & 0x10) == 0) {
        uVar1 = *(ushort *)&UnitBattleData[iVar6].field0_0x0.MapY;
        FUN_BATTLE_BIN__8008e540
                  (UnitBattleData[iVar6].field0_0x0.MapX,UnitBattleData[iVar6].field0_0x0.MapY,
                   (byte)(uVar1 >> 0xf),uVar1 >> 8 & 0xf,(ushort)uVar3 & 0xff,(ushort)local_40[0],
                   0xff,pBVar5,0);
        Initialize_Enemy_ENTD((int)pBVar5,1);
        UnitBattleData[iVar6].field1_0x16e.field_0x15 = 1;
      }
      else {
        UnitBattleData[iVar6].field1_0x16e.field_0x15 = 0;
        UnitBattleData[iVar6].field0_0x0.UnitID = 0xff;
      }
    }
    iVar8 = iVar8 + 4;
    iVar7 = iVar7 + 1;
    iVar9 = iVar9 << 1;
    if (4 < iVar7) {
      if (param_2 != 0) {
        iVar10 = 5;
        iVar9 = -0x7fe6ee74;
        do {
          *(char *)(iVar9 + 0x18a) = (char)iVar10;
          *(undefined *)(iVar9 + 1) = 0xff;
          *(undefined *)(iVar9 + 0x183) = 0xff;
          iVar10 = iVar10 + 1;
          iVar9 = iVar9 + 0x1c0;
        } while (iVar10 < 0x10);
      }
      return iVar11;
    }
  } while( true );
}



void FUN_BATTLE_BIN__8017f5f8(undefined *param_1)

{
  DAT_BATTLE_BIN__80193844 = 0;
  FUN_BATTLE_BIN__8017f388(param_1,1);
  return;
}



void FUN_BATTLE_BIN__8017f620(undefined *param_1)

{
  FUN_BATTLE_BIN__8017f388(param_1,0);
  return;
}



void FUN_BATTLE_BIN__8017f640(int param_1,int param_2)

{
  *(ushort *)&UnitBattleData[param_1].field0_0x0.MapY =
       *(ushort *)&UnitBattleData[param_1].field0_0x0.MapY & 0x7fff |
       (ushort)(*(byte *)(param_2 + 3) >> 7) << 0xf;
  UnitBattleData[param_1].field0_0x0.MapY = *(byte *)(param_2 + 2);
  UnitBattleData[param_1].field0_0x0.MapX = *(byte *)(param_2 + 1);
  *(ushort *)&UnitBattleData[param_1].field0_0x0.MapY =
       *(ushort *)&UnitBattleData[param_1].field0_0x0.MapY & 0xf0ff |
       (ushort)((*(byte *)(param_2 + 3) & 0xf) << 8);
  FUN_BATTLE_BIN__8017f6c4(param_1);
  return;
}



undefined4 FUN_BATTLE_BIN__8017f6c4(int param_1)

{
  byte bVar1;
  byte bVar2;
  ushort uVar3;
  int iVar4;
  BattleUnitData *pBVar5;
  
  bVar1 = UnitBattleData[param_1].field0_0x0.MapX;
  uVar3 = *(ushort *)&UnitBattleData[param_1].field0_0x0.MapY;
  bVar2 = UnitBattleData[param_1].field0_0x0.MapY;
  if (bVar1 < DAT_BATTLE_BIN__800e4e9c) {
    if (DAT_BATTLE_BIN__800e4ea0 <= bVar2) {
      return 0xffffffff;
    }
    iVar4 = GetUnitTileID(UnitBattleData + param_1);
    iVar4 = iVar4 * 8;
    if (((&DAT_BATTLE_BIN__8018f8d2)[iVar4] & 3) != 0) {
      return 0xffffffff;
    }
    if (2 < ((&DAT_BATTLE_BIN__8018f8cf)[iVar4] & 0x1f)) {
      return 0xffffffff;
    }
    if ((((UnitBattleData[param_1].field0_0x0.field_0x94 & 0x10) != 0) &&
        (((&DAT_BATTLE_BIN__8018f8cf)[iVar4] & 0xe0) != 0)) &&
       ((UnitBattleData[param_1].field0_0x0.field_0x95 & 8) == 0)) {
      return 0xffffffff;
    }
    if ((2 < (byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar4] >> 5) &&
       ((UnitBattleData[param_1].field0_0x0.field_0x95 & 0xd8) == 0)) {
      return 0xffffffff;
    }
    if ((((&DAT_BATTLE_BIN__8018f8cc)[iVar4] & 0x3f) != 0x12) &&
       (((&DAT_BATTLE_BIN__8018f8cc)[iVar4] & 0x3f) != 0x1c)) {
      iVar4 = 0;
      if (0 < param_1) {
        pBVar5 = UnitBattleData;
        do {
          iVar4 = iVar4 + 1;
          if (((((pBVar5->field0_0x0).UnitID != 0xff) && ((pBVar5->field0_0x0).MapX == bVar1)) &&
              ((pBVar5->field0_0x0).MapY == bVar2)) &&
             (*(ushort *)&(pBVar5->field0_0x0).MapY >> 0xf == uVar3 >> 0xf)) {
            return 0xffffffff;
          }
          pBVar5 = pBVar5 + 1;
        } while (iVar4 < param_1);
      }
      return 0;
    }
  }
  return 0xffffffff;
}



void FUN_BATTLE_BIN__8017f8a0(char *param_1)

{
  byte bVar1;
  ushort uVar2;
  byte bVar3;
  bool bVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  undefined3 extraout_var;
  JobID *pJVar8;
  undefined4 uVar9;
  int iVar10;
  byte bVar11;
  int iVar12;
  int iVar13;
  byte local_58 [8];
  int local_50;
  int local_48;
  int local_40;
  int local_38;
  byte local_30;
  
  local_40 = 0;
  local_38 = 0;
  local_30 = 0xfe;
  DAT_BATTLE_BIN__80193898 = 0;
  DAT_BATTLE_BIN__80193844 = 0;
  DAT_BATTLE_BIN__80193920 = 0;
  Get_Highest_PlayerUnit_Level();
  local_50 = FUN_BATTLE_BIN__8013b590(0x39);
  if (local_50 < 10) {
    local_50 = 9 - local_50;
  }
  else {
    local_50 = 0;
  }
  local_48 = local_50 + 7;
  iVar12 = 0;
  FUN_BATTLE_BIN__8017fbec(0xff,0,0);
  iVar10 = 0;
  iVar13 = 0;
  do {
    pJVar8 = &UnitBattleData[0].field0_0x0.BaseClass + iVar13;
    (&UnitBattleData[0].field1_0x16e.UnitID2)[iVar13] = (byte)iVar10;
    CurrentENTD = param_1;
    if (*param_1 == '\0') {
      (&UnitBattleData[0].field0_0x0.UnitID)[iVar13] = 0xff;
      (&UnitBattleData[0].field1_0x16e.field_0x15)[iVar13] = 0xff;
    }
    else {
      (&UnitBattleData[0].field0_0x0.UnitID)[iVar13] = (byte)iVar10;
      (&UnitBattleData[0].field1_0x16e.field_0x15)[iVar13] = 1;
      iVar5 = BATTLE_Initialize_UnitGen(pJVar8,CurrentENTD,0,0);
      if (iVar5 != 0) {
        FUN_8005e8e8();
      }
      uVar6 = Get_Portrait(pJVar8,local_58);
      Initialize_Enemy_ENTD((int)pJVar8,0);
      bVar1 = local_30;
      bVar3 = CurrentENTD[0x20];
      if (CurrentENTD[0x20] == 0xff) {
        bVar1 = local_30 - 1;
        bVar3 = local_30;
      }
      local_30 = bVar1;
      bVar1 = (&UnitBattleData[0].field0_0x0.field_0x5)[iVar13];
      bVar11 = bVar1 & 0xc0;
      UnitBattleData[0].field0_0x0.SecondarySkillsetName[iVar13 + 0xd] = bVar3;
      if (((bVar1 & 0xc0) == 0) || ((bVar11 == 0x40 && (uVar7 = rand(), (uVar7 & 1) != 0)))) {
        (&UnitBattleData[0].field0_0x0.UnitID)[iVar13] = 0xff;
        (&UnitBattleData[0].field1_0x16e.field_0x15)[iVar13] = 0;
        Initialize_ENTD_UnitPos((int)pJVar8,(int)CurrentENTD);
      }
      else {
        Initialize_ENTD_UnitPos((int)pJVar8,(int)CurrentENTD);
        iVar5 = FUN_BATTLE_BIN__8017f6c4(iVar10);
        if (iVar5 == 0) {
          if ((&UnitBattleData[0].field0_0x0.UnitID)[iVar13] != 0xff) {
            bVar4 = FUN_BATTLE_BIN__8017fbec(iVar10,(ushort)uVar6 & 0xff,local_50);
            if (CONCAT31(extraout_var,bVar4) == 0) {
              uVar9 = 1;
              if (bVar11 == 0xc0) {
                (&UnitBattleData[0].field0_0x0.UnitID)[iVar13] = 0xff;
                (&UnitBattleData[0].field1_0x16e.field_0x15)[iVar13] = 0;
LAB_BATTLE_BIN__8017fb58:
                uVar2 = *(ushort *)(&UnitBattleData[0].field0_0x0.MapY + iVar13);
                FUN_BATTLE_BIN__8008e540
                          ((&UnitBattleData[0].field0_0x0.MapX)[iVar13],
                           (&UnitBattleData[0].field0_0x0.MapY)[iVar13],(byte)(uVar2 >> 0xf),
                           uVar2 >> 8 & 0xf,(ushort)uVar6 & 0xff,(ushort)local_58[0],(ushort)bVar3,
                           pJVar8,uVar9);
                if (bVar11 == 0xc0) goto LAB_BATTLE_BIN__8017fba8;
              }
              else {
                uVar9 = 0;
                if (iVar12 < local_48) {
                  FUN_BATTLE_BIN__80180db0((int)pJVar8);
                  goto LAB_BATTLE_BIN__8017fb58;
                }
                (&UnitBattleData[0].field0_0x0.UnitID)[iVar13] = 0xff;
                (&UnitBattleData[0].field1_0x16e.field_0x15)[iVar13] = 0xff;
                if (local_38 != 0) goto LAB_BATTLE_BIN__8017fba8;
                FUN_8005e8e8();
                local_38 = 1;
              }
              iVar12 = iVar12 + 1;
            }
            else {
              (&UnitBattleData[0].field0_0x0.UnitID)[iVar13] = 0xff;
              (&UnitBattleData[0].field1_0x16e.field_0x15)[iVar13] = 0;
              if (local_40 == 0) {
                FUN_8005e8e8();
                local_40 = 1;
              }
            }
          }
        }
        else {
          FUN_8005e8e8();
          (&UnitBattleData[0].field0_0x0.UnitID)[iVar13] = 0xff;
          (&UnitBattleData[0].field1_0x16e.field_0x15)[iVar13] = 0xff;
        }
      }
    }
LAB_BATTLE_BIN__8017fba8:
    param_1 = param_1 + 0x28;
    iVar10 = iVar10 + 1;
    iVar13 = iVar13 + 0x1c0;
    if (0xf < iVar10) {
      return;
    }
  } while( true );
}



bool FUN_BATTLE_BIN__8017fbec(int param_1,short param_2,int param_3)

{
  int iVar1;
  bool bVar2;
  int iVar3;
  short *psVar4;
  int iVar5;
  
  iVar1 = DAT_BATTLE_BIN__8018f89c;
  if (param_1 == 0xff) {
    DAT_BATTLE_BIN__8018f89c = 0;
    bVar2 = false;
  }
  else if (param_1 == 0) {
    DAT_BATTLE_BIN__8018f89c = 1;
    bVar2 = false;
    DAT_BATTLE_BIN__8018f870 = param_2;
  }
  else {
    iVar3 = 0;
    iVar5 = 0xff;
    if (0 < DAT_BATTLE_BIN__8018f89c) {
      psVar4 = &DAT_BATTLE_BIN__8018f870;
      do {
        iVar5 = iVar3;
        if (*psVar4 == param_2) break;
        iVar3 = iVar3 + 1;
        psVar4 = psVar4 + 1;
        iVar5 = 0xff;
      } while (iVar3 < DAT_BATTLE_BIN__8018f89c);
    }
    if (iVar5 == 0xff) {
      psVar4 = &DAT_BATTLE_BIN__8018f870 + DAT_BATTLE_BIN__8018f89c;
      DAT_BATTLE_BIN__8018f89c = DAT_BATTLE_BIN__8018f89c + 1;
      *psVar4 = param_2;
      iVar5 = iVar1;
    }
    bVar2 = param_3 <= iVar5;
  }
  return bVar2;
}



undefined4 FUN_BATTLE_BIN__8017fcc8(int param_1)

{
  if (UnitBattleData[param_1].field0_0x0.UnitID != 0xff) {
    UnitBattleData[param_1].field0_0x0.UnitID = 0xff;
    UnitBattleData[param_1].field1_0x16e.field_0x15 = 0x80;
  }
  return 0;
}



undefined4 FUN_BATTLE_BIN__8017fd08(int param_1)

{
  byte bVar1;
  undefined4 uVar2;
  
  uVar2 = 0;
  if ((UnitBattleData[param_1].field0_0x0.UnitID == 0xff) &&
     (uVar2 = 0xffffffff, UnitBattleData[param_1].field1_0x16e.field_0x15 == '\0')) {
    bVar1 = UnitBattleData[param_1].field0_0x0.field_0x5;
    UnitBattleData[param_1].field0_0x0.UnitID = (byte)param_1;
    UnitBattleData[param_1].field1_0x16e.field_0x15 = 1;
    if ((bVar1 & 0x30) != 0) {
      FUN_BATTLE_BIN__80180db0((int)(UnitBattleData + param_1));
    }
    uVar2 = 0;
  }
  return uVar2;
}



undefined4
FUN_BATTLE_BIN__8017fddc(uint param_1,byte param_2,byte param_3,uint param_4,byte param_5)

{
  byte bVar1;
  ushort uVar2;
  bool bVar3;
  ushort uVar4;
  ushort uVar5;
  uint uVar6;
  undefined4 uVar7;
  uint unaff_s6;
  
  bVar3 = false;
  uVar6 = FUN_BATTLE_BIN__8017dca8((uint)param_2,(uint)param_3,param_4 & 0xff,0x80);
  if ((-1 < (int)uVar6) && (uVar6 != param_1)) {
    bVar3 = true;
    unaff_s6 = uVar6;
  }
  uVar7 = 0xffffffff;
  if ((((&DAT_BATTLE_BIN__8018f8d2)
        [((param_4 & 0xff) * 0x100 + (uint)param_3 * (uint)DAT_BATTLE_BIN__800e4e9c + (uint)param_2)
         * 8] & 1) == 0) &&
     (uVar7 = 0xffffffff,
     ((&DAT_BATTLE_BIN__8018f8d2)
      [((param_4 & 0xff) * 0x100 + (uint)param_3 * (uint)DAT_BATTLE_BIN__800e4e9c + (uint)param_2) *
       8] & 2) == 0)) {
    bVar1 = UnitBattleData[param_1].field1_0x16e.field_0x14;
    uVar6 = (uint)bVar1;
    if (((bVar1 & 0x40) == 0) && (UnitBattleData[param_1].field1_0x16e.field_0x14 = 0, uVar6 != 0))
    {
      UnitBattleData[uVar6 & 0x1f].field1_0x16e.field_0x14 = 0;
    }
    if (bVar3) {
      UnitBattleData[param_1].field1_0x16e.field_0x14 = (char)unaff_s6 + -0x80;
      UnitBattleData[unaff_s6 & 0xff].field1_0x16e.field_0x14 = (char)param_1 + '@';
    }
    UnitBattleData[param_1].field0_0x0.MapY = param_3;
    uVar2 = *(ushort *)&UnitBattleData[param_1].field0_0x0.MapY;
    UnitBattleData[param_1].field0_0x0.MapX = param_2;
    uVar5 = (ushort)((param_4 & 0xff) << 0xf);
    uVar4 = (ushort)((param_5 & 0xf) << 8);
    *(ushort *)&UnitBattleData[param_1].field0_0x0.MapY = uVar2 & 0x70ff | uVar5 | uVar4;
    uVar6 = uVar6 & 0x1f;
    if ((bVar1 & 0x40) != 0) {
      UnitBattleData[uVar6].field0_0x0.MapY = param_3;
      uVar2 = *(ushort *)&UnitBattleData[uVar6].field0_0x0.MapY;
      UnitBattleData[uVar6].field0_0x0.MapX = param_2;
      *(ushort *)&UnitBattleData[uVar6].field0_0x0.MapY = uVar2 & 0x70ff | uVar5 | uVar4;
    }
    uVar7 = 0;
  }
  return uVar7;
}



uint FUN_BATTLE_BIN__8017ffc0(BattleUnitData *param_1)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  byte *pbVar4;
  uint uVar5;
  int iVar6;
  BattleUnitData *pBVar7;
  
  uVar2 = FUN_BATTLE_BIN__8017dca8
                    ((uint)(param_1->field0_0x0).MapX,(uint)(param_1->field0_0x0).MapY,
                     (uint)(*(ushort *)&(param_1->field0_0x0).MapY >> 0xf),0x41);
  bVar1 = (param_1->field1_0x16e).field_0x14;
  uVar2 = ~uVar2 >> 0x1f;
  pBVar7 = param_1;
  if ((bVar1 & 0x80) != 0) {
    uVar5 = bVar1 & 0x1f;
    pBVar7 = UnitBattleData + uVar5;
    TarCurActPtr = &UnitBattleData[uVar5].field2_0x18c;
    TarBattlePtr = pBVar7;
    FUN_BATTLE_BIN__8018bd74(&TarCurActPtr->HitFlag);
    iVar3 = 0;
    do {
      iVar6 = iVar3 + 1;
      (&(TarCurActPtr->StatusRemoval).field_0x0)[iVar3] = (&DAT_800662fd)[iVar3];
      iVar3 = iVar6;
    } while (iVar6 < 5);
    iVar3 = FUN_BATTLE_BIN__80184b24(0);
    if (iVar3 != 0) {
      TarCurActPtr->field_0x25 = 8;
      uVar2 = uVar2 | 0x400;
      FUN_BATTLE_BIN__8018e07c((uint)UnitBattleData[uVar5].field1_0x16e.UnitID2,0);
    }
  }
  bVar1 = (pBVar7->field0_0x0).field_0x95;
  pbVar4 = FUN_BATTLE_BIN__801802c8
                     ((param_1->field0_0x0).MapX,(param_1->field0_0x0).MapY,
                      (byte)((ushort)*(undefined2 *)&(param_1->field0_0x0).MapY >> 0xf));
  if (((bVar1 & 1) == 0) || ((*pbVar4 & 1) == 0)) {
    if ((*pbVar4 & 2) != 0) {
      uVar2 = uVar2 | 8;
    }
  }
  else {
    uVar2 = uVar2 | 4;
  }
  iVar3 = FUN_BATTLE_BIN__80180178(param_1,0);
  if (iVar3 != 0) {
    uVar2 = uVar2 | 0x10;
  }
  uVar5 = FUN_BATTLE_BIN__80180134((int)param_1);
  return uVar2 | uVar5;
}



uint FUN_BATTLE_BIN__80180134(int param_1)

{
  byte bVar1;
  uint uVar2;
  
  bVar1 = *(byte *)(param_1 + 0x94);
  uVar2 = -(*(byte *)(param_1 + 0x93) & 1) & 0x22;
  if ((bVar1 & 0x80) != 0) {
    uVar2 = uVar2 | 0x42;
  }
  if ((bVar1 & 0x40) != 0) {
    uVar2 = uVar2 | 0x82;
  }
  if ((bVar1 & 0x20) != 0) {
    uVar2 = uVar2 | 0x102;
  }
  return uVar2;
}



undefined4 FUN_BATTLE_BIN__80180178(BattleUnitData *param_1,int param_2)

{
  byte bVar1;
  
  while ((((*(byte *)&(param_1->field0_0x0).CurrentStatuses & 8) == 0 ||
          ((param_1->field0_0x0).CurAbCT == 0xff)) ||
         ((param_1->field1_0x16e).SkillsetOfAttack != Charge))) {
    bVar1 = (param_1->field1_0x16e).field_0x14;
    if ((bVar1 & 0x40) == 0) {
      return 0;
    }
    param_1 = UnitBattleData + (bVar1 & 0x1f);
  }
  if (param_2 == 0) {
    return 1;
  }
  FUN_BATTLE_BIN__80180210((int)param_1);
  return 1;
}



void FUN_BATTLE_BIN__80180210(int param_1)

{
  Status_InflictionRemoval(param_1,0);
  return;
}



undefined4 * FUN_BATTLE_BIN__80180230(int param_1)

{
  bool bVar1;
  undefined1 *puVar2;
  undefined3 extraout_var;
  uint uVar3;
  
  puVar2 = FUN_BATTLE_BIN__801802c8
                     (*(byte *)(param_1 + 0x47),*(byte *)(param_1 + 0x48),
                      (byte)((ushort)*(undefined2 *)(param_1 + 0x48) >> 0xf));
  bVar1 = PassFail_Roll(100,100 - (uint)*(byte *)(param_1 + 0x24));
  if (CONCAT31(extraout_var,bVar1) == 0) {
    DAT_BATTLE_BIN__8018f8a4 = puVar2[2];
  }
  else {
    DAT_BATTLE_BIN__8018f8a4 = puVar2[3];
  }
  uVar3 = FUN_BATTLE_BIN__8013b590(0x33);
  FUN_BATTLE_BIN__801804c4(uVar3,(uint)(byte)puVar2[1],1);
  DAT_BATTLE_BIN__8018f8a0 = 0;
  return &DAT_BATTLE_BIN__8018f8a0;
}



undefined1 * FUN_BATTLE_BIN__801802c8(byte param_1,byte param_2,byte param_3)

{
  byte bVar1;
  byte *pbVar2;
  bool bVar3;
  uint uVar4;
  undefined3 extraout_var;
  byte *pbVar5;
  int iVar6;
  char cVar7;
  
  cVar7 = -1;
  iVar6 = 0;
  DAT_BATTLE_BIN__8018f8a8 = 0;
  do {
    uVar4 = FUN_BATTLE_BIN__8017dca8((uint)param_1,(uint)param_2,(uint)param_3,0x10);
    if (-1 < (int)uVar4) break;
    iVar6 = iVar6 + 1;
  } while (iVar6 < 0x15);
  if (iVar6 != 0x15) {
    DAT_BATTLE_BIN__8018f8a8 = 4;
    DAT_BATTLE_BIN__8018f8ad = (undefined)uVar4;
  }
  iVar6 = 0;
  pbVar2 = &CurrentAbilityData.field_0x74;
  do {
    pbVar5 = pbVar2;
    if (((*pbVar5 >> 4 == param_1) && ((*pbVar5 & 0xf) == param_2)) && (pbVar5[1] >> 7 == param_3))
    break;
    iVar6 = iVar6 + 1;
    pbVar2 = pbVar5 + 4;
  } while (iVar6 < 4);
  if (iVar6 != 4) {
    DAT_BATTLE_BIN__8018f8a9 = (undefined)iVar6;
    if ((pbVar5[1] & 0x20) == 0) {
      uVar4 = FUN_BATTLE_BIN__8013b590(0x33);
      bVar3 = FUN_BATTLE_BIN__801804c4(uVar4,iVar6,0);
      if (CONCAT31(extraout_var,bVar3) != 0) {
        DAT_BATTLE_BIN__8018f8a8 = DAT_BATTLE_BIN__8018f8a8 | 1;
        DAT_BATTLE_BIN__8018f8aa = pbVar5[2];
        DAT_BATTLE_BIN__8018f8ab = pbVar5[3];
      }
    }
    bVar1 = pbVar5[1];
    if ((bVar1 & 0x10) == 0) {
      if ((bVar1 & 1) == 0) {
        if ((bVar1 & 2) == 0) {
          if ((bVar1 & 4) == 0) {
            if ((bVar1 & 8) != 0) {
              cVar7 = '\x03';
            }
          }
          else {
            cVar7 = '\x02';
          }
        }
        else {
          cVar7 = '\x01';
        }
      }
      else {
        cVar7 = '\0';
      }
      if (cVar7 != -1) {
        DAT_BATTLE_BIN__8018f8a8 = DAT_BATTLE_BIN__8018f8a8 | 2;
        DAT_BATTLE_BIN__8018f8ac = cVar7;
      }
    }
  }
  return &DAT_BATTLE_BIN__8018f8a8;
}



bool FUN_BATTLE_BIN__801804c4(uint param_1,int param_2,int param_3)

{
  bool bVar1;
  uint uVar2;
  int iVar3;
  
  iVar3 = (int)param_1 / 2;
  uVar2 = 0x80 >> ((param_1 & 1) * 4 + param_2 & 0x1f);
  if (param_3 == 0) {
    bVar1 = ((byte)(&DAT_80059414)[iVar3] & uVar2) == 0;
  }
  else {
    (&DAT_80059414)[iVar3] = (byte)uVar2 | (&DAT_80059414)[iVar3];
    bVar1 = true;
  }
  return bVar1;
}



int FUN_BATTLE_BIN__80180904(int param_1,uint param_2)

{
  int iVar1;
  byte *pbVar2;
  byte *pbVar3;
  byte *pbVar4;
  
  FUN_BATTLE_BIN__8018bd74((undefined *)(param_1 + 0x18c));
  *(undefined *)(param_1 + 0x18e) = 8;
  *(undefined *)(param_1 + 0x18c) = 0;
  if ((param_2 & 4) == 0) {
    if ((param_2 & 2) != 0) {
      *(undefined *)(param_1 + 0x18c) = 1;
                    // Possible PsyQ macro: setLineG2()
      *(undefined *)(param_1 + 0x1b1) = 0x50;
      *(undefined *)(param_1 + 0x18e) = 0;
      *(short *)(param_1 + 0x192) = *(short *)(param_1 + 0x2a) - *(short *)(param_1 + 0x28);
      *(short *)(param_1 + 0x196) = *(short *)(param_1 + 0x2e) - *(short *)(param_1 + 0x2c);
    }
    iVar1 = 0;
    if ((param_2 & 1) != 0) {
      iVar1 = 0;
      pbVar4 = &DAT_80066254;
      do {
        pbVar2 = (byte *)(param_1 + 0x99);
        pbVar3 = pbVar4;
        do {
          *pbVar2 = *pbVar2 | *pbVar3;
          pbVar2 = pbVar2 + 1;
          pbVar3 = pbVar3 + 1;
        } while ((int)pbVar2 < param_1 + 0x9c);
        pbVar4 = pbVar4 + 3;
        iVar1 = iVar1 + 1;
        param_1 = param_1 + 3;
      } while (iVar1 < 0x13);
      iVar1 = 0;
    }
  }
  else {
    iVar1 = FUN_BATTLE_BIN__8018e9e8(param_1,(uint)DAT_8006628e);
  }
  return iVar1;
}



BattleUnitData * GetUnitDataPointer(uint UnitID)

{
  BattleUnitData *UnitsBattleData;
  
  if (UnitID < 0x15) {
    UnitsBattleData = UnitBattleData + UnitID;
  }
  else {
    UnitsBattleData = (BattleUnitData *)0x0;
  }
  return UnitsBattleData;
}



int FUN_BATTLE_BIN__80180b2c(uint param_1)

{
  char cVar1;
  int iVar2;
  PartyUnit *pPVar3;
  BattleUnitData *pBVar4;
  int iVar5;
  
  if (param_1 < 0x80) {
    iVar2 = 0;
    pBVar4 = UnitBattleData;
    do {
      if (((pBVar4->field0_0x0).UnitID != 0xff) &&
         ((uint)(pBVar4->field0_0x0).BaseClass == (param_1 & 0xff))) {
        if (((*(byte *)&(pBVar4->field0_0x0).CurrentStatuses & 0x40) == 0) &&
           (((pBVar4->field0_0x0).CurrentStatuses.field_0x1 & 1) == 0)) {
          return iVar2;
        }
        return -3;
      }
      iVar2 = iVar2 + 1;
      pBVar4 = pBVar4 + 1;
    } while (iVar2 < 0x15);
    iVar2 = 0;
    pBVar4 = UnitBattleData;
    do {
      iVar2 = iVar2 + 1;
      if ((((pBVar4->field0_0x0).UnitID == 0xff) &&
          ((uint)(pBVar4->field0_0x0).BaseClass == (param_1 & 0xff))) &&
         (cVar1 = (pBVar4->field1_0x16e).field_0x15, cVar1 != -1)) {
        if (cVar1 == '\0') {
          return -2;
        }
        if (cVar1 == -0x80) {
          return -3;
        }
      }
      pBVar4 = pBVar4 + 1;
    } while (iVar2 < 0x15);
    iVar5 = 0;
    do {
      pPVar3 = Get_Party_Data_Pointer(iVar5);
      iVar5 = iVar5 + 1;
      if ((pPVar3->PartyID != 0xff) && ((uint)pPVar3->SpriteSet == (param_1 & 0xff))) {
        return -4;
      }
      iVar2 = -5;
    } while (iVar5 < 0x14);
  }
  else {
    iVar2 = -1;
  }
  return iVar2;
}



BattleUnitData * FUN_BATTLE_BIN__80180c90(byte param_1,int *param_2)

{
  char cVar1;
  BattleUnitData *pBVar2;
  int iVar3;
  
  iVar3 = 0;
  pBVar2 = UnitBattleData;
  do {
    if (((pBVar2->field0_0x0).UnitID != 0xff) && ((pBVar2->field0_0x0).ENTDID == param_1)) {
      if ((*(ushort *)&(pBVar2->field0_0x0).CurrentStatuses & 0x140) != 0) {
        *param_2 = -3;
        return pBVar2;
      }
      *param_2 = iVar3;
      return pBVar2;
    }
    iVar3 = iVar3 + 1;
    pBVar2 = pBVar2 + 1;
  } while (iVar3 < 0x15);
  iVar3 = 0;
  pBVar2 = UnitBattleData;
  do {
    if ((((pBVar2->field0_0x0).UnitID == 0xff) && ((pBVar2->field0_0x0).ENTDID == param_1)) &&
       (cVar1 = (pBVar2->field1_0x16e).field_0x15, cVar1 != -1)) {
      if (cVar1 == '\0') {
        *param_2 = -2;
        return pBVar2;
      }
      if (cVar1 == -0x80) {
        *param_2 = -3;
        return pBVar2;
      }
      if (cVar1 == '\x02') {
        *param_2 = -6;
        return pBVar2;
      }
    }
    iVar3 = iVar3 + 1;
    pBVar2 = pBVar2 + 1;
    if (0x14 < iVar3) {
      *param_2 = -3;
      return (BattleUnitData *)0x0;
    }
  } while( true );
}



void FUN_BATTLE_BIN__80180db0(int param_1)

{
  byte bVar1;
  
  if ((*(byte *)(param_1 + 5) & 0x30) != 0) {
    bVar1 = *(byte *)(param_1 + 0x22);
    DAT_BATTLE_BIN__80193844 = DAT_BATTLE_BIN__80193844 + (ushort)bVar1;
    if (DAT_BATTLE_BIN__80193920 < bVar1) {
      DAT_BATTLE_BIN__80193920 = bVar1;
    }
  }
  return;
}



void FUN_BATTLE_BIN__80180f40(int param_1)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  
  uVar3 = 0;
  bVar1 = *(byte *)(param_1 + 0x18a);
  do {
    uVar2 = uVar3;
    if ((int)uVar3 < 0) {
      uVar2 = uVar3 + 7;
    }
    if (((uint)*(byte *)(param_1 + ((int)uVar2 >> 3) + 0x58) & 0x80 >> (uVar3 & 7)) != 0) {
      FUN_BATTLE_BIN__80068e80(uVar3 + 1,0,(uint)bVar1);
    }
    uVar3 = uVar3 + 1;
  } while ((int)uVar3 < 0x28);
  Data_Null((undefined *)(param_1 + 0x4e),0x1f);
  Data_Null((undefined *)(param_1 + 0x1bb),5);
  return;
}



undefined4 FUN_BATTLE_BIN__80180fe4(int param_1)

{
  undefined4 uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar3 = 0;
  if (UnitBattleData[param_1].field0_0x0.UnitID == 0xff) {
    uVar1 = 0xffffffff;
  }
  else {
    do {
      uVar2 = uVar3;
      if ((int)uVar3 < 0) {
        uVar2 = uVar3 + 7;
      }
      if (((uint)UnitBattleData[param_1].field0_0x0.JobLevels[((int)uVar2 >> 3) + -0x7a] &
          0x80 >> (uVar3 & 7)) != 0) {
        FUN_BATTLE_BIN__80068e80(uVar3 + 1,1,param_1);
      }
      uVar3 = uVar3 + 1;
    } while ((int)uVar3 < 0x28);
    uVar1 = 0;
  }
  return uVar1;
}



int GetUnitTileID(BattleUnitData *UnitBattlePtr)

{
  return (uint)(*(ushort *)&(UnitBattlePtr->field0_0x0).MapY >> 0xf) * 0x100 +
         (uint)(UnitBattlePtr->field0_0x0).MapY * (uint)DAT_BATTLE_BIN__800e4e9c +
         (uint)(UnitBattlePtr->field0_0x0).MapX;
}



BattleUnitData * FUN_BATTLE_BIN__801810d4(uint param_1)

{
  BattleUnitData *pBVar1;
  
  pBVar1 = (BattleUnitData *)0x0;
  if ((param_1 < 0x15) &&
     (pBVar1 = UnitBattleData + param_1, UnitBattleData[param_1].field0_0x0.UnitID == 0xff)) {
    pBVar1 = (BattleUnitData *)0x0;
  }
  return pBVar1;
}



BattleUnitData * FUN_BATTLE_BIN__80181114(void)

{
  BattleUnitData *pBVar1;
  int iVar2;
  
  iVar2 = 0;
  pBVar1 = UnitBattleData;
  do {
    if ((pBVar1->field1_0x16e).CurrentATUnit != 0) {
      return pBVar1;
    }
    iVar2 = iVar2 + 1;
    pBVar1 = pBVar1 + 1;
  } while (iVar2 < 0x15);
  return (BattleUnitData *)0x0;
}



int FUN_BATTLE_BIN__8018114c(uint param_1)

{
  BattleUnitData *pBVar1;
  int iVar2;
  
  pBVar1 = FUN_BATTLE_BIN__801810d4(param_1);
  iVar2 = -1;
  if ((pBVar1 != (BattleUnitData *)0x0) &&
     (iVar2 = FUN_BATTLE_BIN__801811f8(pBVar1), ((pBVar1->field1_0x16e).field_0x14 & 0x80) != 0)) {
    if (iVar2 == 0xe) {
      iVar2 = 0x2f;
    }
    else if (iVar2 < 0xf) {
      if (iVar2 == 0) {
        iVar2 = 0x2e;
      }
    }
    else if (iVar2 == 0x13) {
      iVar2 = 0x30;
    }
    else if (iVar2 == 0x14) {
      iVar2 = 0x31;
    }
  }
  return iVar2;
}



undefined4 FUN_BATTLE_BIN__801811f8(BattleUnitData *param_1)

{
  bool bVar1;
  bool bVar2;
  BattleUnitData *pBVar3;
  undefined4 uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  byte bVar8;
  
  bVar2 = false;
  pBVar3 = FUN_BATTLE_BIN__80181114();
  if ((pBVar3 != (BattleUnitData *)0x0) &&
     ((((pBVar3->field0_0x0).field_0x5 & 8) == 0 || ((pBVar3->field2_0x18c).AutoBattle != 0)))) {
    bVar2 = true;
  }
  bVar1 = ((param_1->field0_0x0).field_0x5 & 8) != 0;
  if (bVar2) {
    uVar4 = 0x12;
    if (bVar1) {
      uVar4 = 0x11;
    }
  }
  else {
    bVar8 = (param_1->field0_0x0).CurrentStatuses.field_0x4;
    uVar5 = FUN_BATTLE_BIN__8018130c(param_1);
    bVar8 = (param_1->field1_0x16e).MoveUnavailable | bVar8 & 8;
    uVar7 = (uint)(param_1->field1_0x16e).ActUnavailable;
    if ((param_1->field1_0x16e).CurrentATUnit == 0) {
      uVar4 = 0xf;
      if (!bVar1) {
        uVar4 = 0x10;
      }
    }
    else {
      uVar6 = uVar7 | uVar5 & 0xff;
      if (bVar8 == 0) {
        if (uVar6 == 0) {
          return 0;
        }
      }
      else if (uVar6 == 0) {
        return 0xe;
      }
      uVar4 = 0x14;
      if ((bVar8 == 0) && ((uVar7 | uVar5 & 0xff) != 0)) {
        uVar4 = 0x13;
      }
    }
  }
  return uVar4;
}



int FUN_BATTLE_BIN__8018130c(BattleUnitData *param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = 1;
  if ((((param_1->field0_0x0).CurrentStatuses.field_0x4 & 4) == 0) &&
     (iVar1 = 1, ((param_1->field1_0x16e).field_0x14 & 0x40) == 0)) {
    iVar2 = GetUnitTileID(param_1);
    iVar1 = 0;
    if ((1 < (byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar2 * 8] >> 5) &&
       ((iVar1 = 0, ((param_1->field0_0x0).CurrentStatuses.field_0x2 & 0x46) == 0 &&
        (iVar1 = 0, ((param_1->field0_0x0).field_0x95 & 200) == 0)))) {
      iVar1 = (uint)(((param_1->field1_0x16e).field_0x14 & 0x80) == 0) << 1;
    }
  }
  return iVar1;
}



uint FUN_BATTLE_BIN__80181720(uint param_1,int param_2,byte *param_3)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  
  uVar3 = 0;
  if ((DAT_BATTLE_BIN__8018f51c == 9) && (param_2 != 0)) {
    param_2 = param_2 + 1;
  }
  while( true ) {
    bVar1 = *param_3;
    uVar2 = bVar1 & 0x1f;
    if (uVar2 == 0x1f) {
      return 0xff;
    }
    if ((param_2 << 8 <= (int)(uint)*(ushort *)(param_3 + 2)) &&
       (((param_2 << 8 != (uint)*(ushort *)(param_3 + 2) ||
         (((param_1 == uVar2 && ((bVar1 & 0x40) != 0)) || ((int)param_1 <= (int)uVar2)))) ||
        ((bVar1 & 0x40) == 0)))) break;
    uVar3 = uVar3 + 1;
    param_3 = param_3 + 4;
    if (0x27 < (int)uVar3) {
      return 0xff;
    }
  }
  return uVar3 & 0xff;
}



int FUN_BATTLE_BIN__801817c0
              (uint param_1,SkillsetID param_2,short *param_3,byte *param_4,byte *param_5,
              undefined4 param_6,byte *param_7,undefined *param_8)

{
  byte bVar1;
  undefined uVar2;
  BattleUnitData *pBVar3;
  uint uVar4;
  int iVar6;
  byte bVar7;
  uint uVar8;
  byte *pbVar9;
  int iVar10;
  byte abStack_120 [160];
  uint local_80;
  SkillsetID local_78;
  short *local_70;
  byte *local_68;
  uint local_60;
  short local_58;
  int local_50;
  int local_48;
  int local_40;
  int local_38;
  int local_30;
  uint uVar5;
  
  iVar10 = 0;
  local_50 = 0;
  local_48 = 0;
  local_40 = 0;
  local_38 = 0;
  local_30 = 0;
  local_80 = param_1;
  local_78 = param_2;
  local_70 = param_3;
  local_68 = param_4;
  pBVar3 = FUN_BATTLE_BIN__801810d4(param_1);
  if (pBVar3 == (BattleUnitData *)0x0) {
    return 0;
  }
  if (((pBVar3->field0_0x0).CurrentStatuses.field_0x2 & 2) != 0) {
    local_30 = 1;
  }
  if ((*(byte *)((int)&(pBVar3->field0_0x0).Supports + 1) & 0x80) != 0) {
    local_38 = 1;
  }
  bVar7 = *(byte *)((int)&(pBVar3->field0_0x0).Supports + 3);
  if ((bVar7 & 4) == 0) {
    if ((bVar7 & 8) != 0) {
      local_40 = 1;
    }
  }
  else {
    local_40 = 2;
  }
  FUN_BATTLE_BIN__8018370c((char *)abStack_120,0);
  bVar7 = (pBVar3->field1_0x16e).field_0x16;
  if ((bVar7 & 4) != 0) {
    local_50 = 1;
  }
  if ((bVar7 & 8) != 0) {
    local_48 = 1;
  }
  if (((pBVar3->field0_0x0).field_0x6 & 0x20) == 0) {
    if ((byte)(local_78 + ~DEPRECATED) < 0x13) {
      iVar6 = local_78 - 5;
      goto LAB_BATTLE_BIN__80181940;
    }
    iVar6 = 0;
    if ((local_78 == (pBVar3->field0_0x0).PrimarySkillset) ||
       (local_78 == (pBVar3->field0_0x0).SpecialSkillset)) goto LAB_BATTLE_BIN__80181940;
  }
  iVar6 = -1;
LAB_BATTLE_BIN__80181940:
  if (iVar6 == -1) {
    local_60 = 0xffffff;
  }
  else {
    local_60 = GetKnownAbilities((int)pBVar3,iVar6);
  }
  uVar8 = 0;
  pbVar9 = local_68;
  do {
    if ((local_60 & 0x800000 >> (uVar8 & 0x1f)) != 0) {
      uVar4 = Get_Abiltity_from_Skillset((uint)local_78,uVar8);
      local_58 = (short)uVar4;
      if ((local_30 == 0) || (local_58 == 0x1d)) {
        iVar6 = (int)local_58;
        if (iVar6 != 0) {
          if ((uVar4 - 1 & 0xffff) < 0x16f) {
            if ((((SecondaryAbilityData[iVar6].field_0x6 & 8) != 0) && (local_48 == 0)) ||
               (((SecondaryAbilityData[iVar6].field_0x6 & 4) != 0 && (local_50 == 0))))
            goto LAB_BATTLE_BIN__80181b1c;
            bVar7 = SecondaryAbilityData[iVar6].MPCost;
            if (local_38 != 0) {
              bVar7 = (byte)((int)(bVar7 + 1) >> 1);
            }
            bVar1 = SecondaryAbilityData[iVar6].field_0x5;
            uVar4 = SecondaryAbilityData[iVar6].CT & 0x7f;
            if ((bVar1 & 4) == 0) {
              if (local_40 == 1) {
                uVar4 = (int)(uVar4 + 1) >> 1;
              }
              if (local_40 == 2) {
                uVar4 = 0;
              }
            }
            uVar5 = FUN_BATTLE_BIN__80181720(local_80,uVar4,abStack_120);
            uVar2 = (undefined)uVar5;
            *pbVar9 = bVar7;
            *param_5 = (byte)uVar4;
            *param_7 = bVar1 >> 7 | (byte)((bVar1 & 0x20) >> 4);
LAB_BATTLE_BIN__80181af0:
            *param_8 = uVar2;
          }
          else if ((uVar4 - 0x196 & 0xffff) < 8) {
            bVar7 = (&SecondaryAbilityData[0x139].Y)[iVar6 * 2];
            uVar4 = FUN_BATTLE_BIN__80181720(local_80,(uint)bVar7,abStack_120);
            uVar2 = (undefined)uVar4;
            *pbVar9 = 0;
            *param_5 = bVar7;
            *param_7 = 0;
            goto LAB_BATTLE_BIN__80181af0;
          }
          param_8 = param_8 + 1;
          param_7 = param_7 + 1;
          param_5 = param_5 + 1;
          pbVar9 = pbVar9 + 1;
          iVar10 = iVar10 + 1;
          *local_70 = local_58;
          local_70 = local_70 + 1;
        }
      }
    }
LAB_BATTLE_BIN__80181b1c:
    uVar8 = uVar8 + 1;
    if (0xf < (int)uVar8) {
      *local_70 = -1;
      return iVar10;
    }
  } while( true );
}



// WARNING: Type propagation algorithm not settling

uint FUN_BATTLE_BIN__801827f0(int param_1)

{
  undefined4 uVar1;
  byte bVar2;
  byte bVar3;
  bool bVar4;
  undefined3 extraout_var;
  undefined2 *puVar5;
  BattleUnitData *pBVar6;
  uint uVar7;
  undefined *puVar8;
  JobID *pJVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  char *pcVar15;
  uint uVar16;
  int local_30;
  
  uVar16 = 0;
  local_30 = 0;
  if (param_1 == 1) {
    iVar10 = 3;
    puVar5 = &DAT_BATTLE_BIN__8018f5fa;
    DAT_BATTLE_BIN__8018f518 = 0;
    DAT_BATTLE_BIN__8018f520 = 0xffffffff;
    do {
      *puVar5 = 0;
      iVar10 = iVar10 + -1;
      puVar5 = puVar5 + -1;
    } while (-1 < iVar10);
    CurrentAbilityData.ActionPerformed = false;
    iVar10 = 0;
    pBVar6 = UnitBattleData;
    do {
      (pBVar6->field0_0x0).CT = 0;
      (pBVar6->field1_0x16e).CurrentATUnit = 0;
      (pBVar6->field1_0x16e).field_0x1b = 0;
      (pBVar6->field0_0x0).CurAbCT = 0xff;
      iVar10 = iVar10 + 1;
      pBVar6 = pBVar6 + 1;
    } while (iVar10 < 0x15);
    FUN_BATTLE_BIN__8018e628();
    return 0xe000;
  }
  if (param_1 == 2) {
    uVar16 = 0;
    pBVar6 = UnitBattleData;
    while ((((pBVar6->field0_0x0).UnitID == 0xff ||
            ((*(byte *)&(pBVar6->field0_0x0).CurrentStatuses & 100) != 0)) ||
           (((pBVar6->field0_0x0).CurrentStatuses.field_0x1 & 0x81) != 0))) {
      uVar16 = uVar16 + 1;
      pBVar6 = pBVar6 + 1;
      if (0x14 < (int)uVar16) {
        return 0xdf00;
      }
    }
    return uVar16 | 0xd000;
  }
  do {
    uVar1 = DAT_BATTLE_BIN__8018f518;
    switch(DAT_BATTLE_BIN__8018f518) {
    case 0:
      iVar11 = 0;
      iVar10 = 0;
      do {
        bVar3 = FUN_BATTLE_BIN__801832cc((int)(&UnitBattleData[0].field0_0x0.BaseClass + iVar10));
        if ((bVar3 & 1) == 0) {
          bVar2 = (&UnitBattleData[0].field0_0x0.SP)[iVar10];
          uVar14 = (uint)bVar2;
          if ((bVar3 & 0x20) == 0) {
            if ((bVar3 & 0x10) != 0) {
              uVar14 = uVar14 + (bVar2 >> 1);
            }
          }
          else {
            uVar14 = (uint)(bVar2 >> 1);
          }
          uVar14 = uVar14 + (&UnitBattleData[0].field0_0x0.CT)[iVar10];
          if (0xfe < uVar14) {
            uVar14 = 0xfe;
          }
          (&UnitBattleData[0].field0_0x0.CT)[iVar10] = (byte)uVar14;
        }
        iVar11 = iVar11 + 1;
        iVar10 = iVar10 + 0x1c0;
      } while (iVar11 < 0x15);
      DAT_BATTLE_BIN__8018f518 = 1;
      uVar1 = DAT_BATTLE_BIN__8018f518;
      break;
    case 1:
      uVar14 = 99;
      uVar13 = 0xff;
      uVar12 = 0;
      pBVar6 = UnitBattleData;
      do {
        bVar3 = FUN_BATTLE_BIN__801832cc((int)pBVar6);
        if (((bVar3 & 1) == 0) && (uVar7 = (uint)(pBVar6->field0_0x0).CT, uVar14 < uVar7)) {
          uVar14 = uVar7;
          uVar13 = uVar12;
        }
        uVar12 = uVar12 + 1;
        pBVar6 = pBVar6 + 1;
      } while ((int)uVar12 < 0x15);
      if (uVar13 == 0xff) {
        uVar1 = 2;
        break;
      }
      pBVar6 = UnitBattleData + uVar13;
      if ((*(byte *)&UnitBattleData[uVar13].field0_0x0.CurrentStatuses & 4) == 0) {
        if (UnitBattleData[uVar13].field0_0x0.CT == 0xff) {
          UnitBattleData[uVar13].field0_0x0.CT = 0;
        }
        else {
          UnitBattleData[uVar13].field0_0x0.CT = (char)uVar14 + (char)(uVar14 / 100) * -100;
        }
        uVar14 = FUN_BATTLE_BIN__80183078(uVar13,(int)pBVar6);
        if ((uVar14 != 0) && (uVar16 = uVar13 | 0x300, (uVar14 & 1) != 0)) {
          if (uVar14 == 1) {
            Increment_CasualtyInjure_Counters((int)pBVar6);
            return uVar16;
          }
          return uVar16;
        }
        bVar3 = FUN_BATTLE_BIN__801832cc((int)pBVar6);
        if (((bVar3 & 7) == 0) || (uVar14 == 2)) {
          UnitBattleData[uVar13].field1_0x16e.CurrentATUnit = 1;
          UnitBattleData[uVar13].field1_0x16e.MoveUnavailable = 0;
          UnitBattleData[uVar13].field1_0x16e.ActUnavailable = 0;
          UnitBattleData[uVar13].field0_0x0.ActiveUnit = 1;
          DAT_BATTLE_BIN__8018f51c = DAT_BATTLE_BIN__8018f518;
          if (uVar14 == 0) {
            uVar16 = uVar13 | 0x100;
          }
          DAT_BATTLE_BIN__8018f518 = 10;
          DAT_BATTLE_BIN__8018f520 = uVar13;
          return uVar16;
        }
      }
      else {
        UnitBattleData[uVar13].field0_0x0.CT = 99;
      }
      goto LAB_BATTLE_BIN__80183038;
    case 2:
      iVar10 = 0;
      pBVar6 = UnitBattleData;
      do {
        bVar3 = FUN_BATTLE_BIN__801832cc((int)pBVar6);
        iVar10 = iVar10 + 1;
        if ((((bVar3 & 0xf) == 0) && (bVar3 = (pBVar6->field0_0x0).CurAbCT, bVar3 != 0xff)) &&
           (bVar3 != 0)) {
          (pBVar6->field0_0x0).CurAbCT = bVar3 - 1;
        }
        pBVar6 = pBVar6 + 1;
      } while (iVar10 < 0x15);
      DAT_BATTLE_BIN__8018f518 = 3;
      uVar1 = DAT_BATTLE_BIN__8018f518;
      break;
    case 3:
      uVar14 = 0;
      iVar10 = 0;
      do {
        pJVar9 = &UnitBattleData[0].field0_0x0.BaseClass + iVar10;
        bVar3 = FUN_BATTLE_BIN__801832cc((int)pJVar9);
        if (((bVar3 & 0xf) == 0) &&
           (UnitBattleData[0].field0_0x0.SecondarySkillsetName[iVar10 + 9] == '\0')) {
          if ((UnitBattleData[0].field0_0x0.JobLevels[iVar10 + -0x7a] & 1) == 0) {
            UnitBattleData[0].field0_0x0.SecondarySkillsetName[iVar10 + 9] = -1;
          }
          else {
            Transfer_Last_Ability_Used_CT((int)pJVar9);
            UnitBattleData[0].field0_0x0.SecondarySkillsetName[iVar10 + 9] =
                 (&UnitBattleData[0].field1_0x16e.AbilityCT)[iVar10];
          }
          DAT_BATTLE_BIN__8018f518 = 9;
LAB_BATTLE_BIN__80182c70:
          return uVar14 | 0x200;
        }
        uVar14 = uVar14 + 1;
        iVar10 = iVar10 + 0x1c0;
      } while ((int)uVar14 < 0x15);
      uVar1 = 4;
      break;
    case 4:
      iVar10 = 0;
      pBVar6 = UnitBattleData;
      do {
        if (((pBVar6->field0_0x0).UnitID != 0xff) &&
           ((*(byte *)&(pBVar6->field0_0x0).CurrentStatuses & 4) == 0)) {
          FUN_BATTLE_BIN__8018d910(iVar10);
        }
        iVar10 = iVar10 + 1;
        pBVar6 = pBVar6 + 1;
      } while (iVar10 < 0x15);
      DAT_BATTLE_BIN__8018f518 = 5;
      uVar1 = DAT_BATTLE_BIN__8018f518;
      break;
    case 5:
      iVar10 = 0;
      puVar8 = &DAT_BATTLE_BIN__8018f8b0;
      pBVar6 = UnitBattleData;
      do {
        *puVar8 = 0;
        iVar10 = iVar10 + 1;
        if (((pBVar6->field0_0x0).UnitID != 0xff) &&
           ((*(byte *)&(pBVar6->field0_0x0).CurrentStatuses & 4) == 0)) {
          *puVar8 = (pBVar6->field2_0x18c).field_0x25;
        }
        puVar8 = puVar8 + 1;
        pBVar6 = pBVar6 + 1;
      } while (iVar10 < 0x15);
      DAT_BATTLE_BIN__8018f518 = 6;
      uVar1 = DAT_BATTLE_BIN__8018f518;
      break;
    case 6:
      uVar14 = 0;
      do {
        if ((&DAT_BATTLE_BIN__8018f8b0)[uVar14] != '\0') {
          (&DAT_BATTLE_BIN__8018f8b0)[uVar14] = 0;
          return uVar14 | 0x300;
        }
        uVar14 = uVar14 + 1;
      } while ((int)uVar14 < 0x15);
      DAT_BATTLE_BIN__8018f518 = 0;
      uVar1 = DAT_BATTLE_BIN__8018f518;
      break;
    case 9:
      bVar3 = 0xfe;
      uVar14 = 0xff;
      uVar13 = 0;
      iVar10 = 0;
      pBVar6 = UnitBattleData;
      do {
        bVar2 = FUN_BATTLE_BIN__801832cc((int)pBVar6);
        pBVar6 = pBVar6 + 1;
        if (((bVar2 & 1) == 0) &&
           (bVar2 = (&UnitBattleData[0].field0_0x0.CT)[iVar10], bVar3 < bVar2)) {
          uVar14 = uVar13;
          bVar3 = bVar2;
        }
        uVar13 = uVar13 + 1;
        iVar10 = iVar10 + 0x1c0;
      } while ((int)uVar13 < 0x15);
      if (uVar14 != 0xff) {
        UnitBattleData[uVar14].field1_0x16e.CurrentATUnit = 1;
        UnitBattleData[uVar14].field0_0x0.ActiveUnit = 1;
        UnitBattleData[uVar14].field0_0x0.CT = 0;
        UnitBattleData[uVar14].field1_0x16e.MoveUnavailable = 0;
        UnitBattleData[uVar14].field1_0x16e.ActUnavailable = 0;
        DAT_BATTLE_BIN__8018f518 = 10;
        DAT_BATTLE_BIN__8018f51c = 9;
        DAT_BATTLE_BIN__8018f520 = uVar14;
        return uVar14 | 0x100;
      }
      DAT_BATTLE_BIN__8018f51c = 3;
      uVar1 = 0xd;
      break;
    case 10:
      uVar14 = 0;
      pBVar6 = UnitBattleData;
      do {
        if ((pBVar6->field1_0x16e).CurrentATUnit != 0) {
          bVar3 = FUN_BATTLE_BIN__801832cc((int)pBVar6);
          bVar4 = FUN_BATTLE_BIN__80183d10(pBVar6);
          if (((bVar3 & 1) == 0) && (CONCAT31(extraout_var,bVar4) == 0)) {
            return uVar14 | 0x100;
          }
          FUN_BATTLE_BIN__80183c6c(uVar14);
          (pBVar6->field1_0x16e).CurrentATUnit = 0;
        }
        pBVar6 = pBVar6 + 1;
        uVar14 = uVar14 + 1;
      } while ((int)uVar14 < 0x15);
      uVar1 = 0x13;
      break;
    case 0xd:
      uVar1 = DAT_BATTLE_BIN__8018f51c;
      if (CurrentAbilityData.ActionPerformed != false) {
        iVar10 = 0;
        puVar8 = &DAT_BATTLE_BIN__8018f8b0;
        pBVar6 = UnitBattleData;
        do {
          *puVar8 = 0;
          iVar10 = iVar10 + 1;
          if (((pBVar6->field0_0x0).JobID == Mime) && ((pBVar6->field0_0x0).UnitID != 0xff)) {
            *puVar8 = 1;
          }
          puVar8 = puVar8 + 1;
          pBVar6 = pBVar6 + 1;
        } while (iVar10 < 0x15);
        DAT_BATTLE_BIN__8018f518 = 0xe;
        uVar1 = DAT_BATTLE_BIN__8018f518;
      }
      break;
    case 0xe:
      CurrentAbilityData.ActionPerformed = false;
      uVar14 = 0;
      pcVar15 = &DAT_BATTLE_BIN__8018f8b0;
      pBVar6 = UnitBattleData;
      do {
        if ((*pcVar15 != '\0') && ((pBVar6->field0_0x0).UnitID != 0xff)) {
          *pcVar15 = '\0';
          iVar10 = FUN_BATTLE_BIN__8018f038(pBVar6);
          if (iVar10 == 1) goto LAB_BATTLE_BIN__80182c70;
          if (iVar10 == -1) {
            return uVar14 | 0x500;
          }
        }
        pcVar15 = pcVar15 + 1;
        uVar14 = uVar14 + 1;
        pBVar6 = pBVar6 + 1;
        uVar1 = DAT_BATTLE_BIN__8018f51c;
      } while ((int)uVar14 < 0x15);
      break;
    case 0xf:
      DAT_BATTLE_BIN__8018f518 = 0x11;
      uVar1 = DAT_BATTLE_BIN__8018f518;
      if (DAT_BATTLE_BIN__8018f520 != 0xffffffff) {
        iVar10 = FUN_BATTLE_BIN__8018da88(UnitBattleData + DAT_BATTLE_BIN__8018f520);
LAB_BATTLE_BIN__80182f1c:
        uVar1 = DAT_BATTLE_BIN__8018f518;
        if (iVar10 != 0) {
          return DAT_BATTLE_BIN__8018f520 | 0x300;
        }
      }
      break;
    case 0x11:
      DAT_BATTLE_BIN__8018f518 = 0xd;
      uVar1 = DAT_BATTLE_BIN__8018f518;
      if (DAT_BATTLE_BIN__8018f520 != 0xffffffff) {
        iVar10 = FUN_BATTLE_BIN__8018d868(UnitBattleData + DAT_BATTLE_BIN__8018f520);
        goto LAB_BATTLE_BIN__80182f1c;
      }
      break;
    case 0x13:
      DAT_BATTLE_BIN__8018f518 = 0xf;
      uVar1 = DAT_BATTLE_BIN__8018f518;
      if (DAT_BATTLE_BIN__8018f520 != 0xffffffff) {
        iVar10 = FUN_BATTLE_BIN__8018d7c8(UnitBattleData + DAT_BATTLE_BIN__8018f520);
        goto LAB_BATTLE_BIN__80182f1c;
      }
    }
    DAT_BATTLE_BIN__8018f518 = uVar1;
    local_30 = local_30 + 1;
    if (0x4b0 < local_30) {
      return 0xff00;
    }
LAB_BATTLE_BIN__80183038:
    if (uVar16 != 0) {
      return 0xff00;
    }
  } while( true );
}



int FUN_BATTLE_BIN__80183078(undefined4 param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  char cVar5;
  
  FUN_BATTLE_BIN__8018bd74((undefined *)(param_2 + 0x18c));
  uVar1 = rand();
  if (((*(byte *)(param_2 + 0x58) & 0x30) == 0x20) && ((*(byte *)(param_2 + 0x5a) & 0x20) != 0)) {
    iVar2 = 2;
    *(undefined *)(param_2 + 0x1ac) = 0x20;
    *(undefined *)(param_2 + 0x1ae) = 0x20;
                    // Possible PsyQ macro: setLineF3()
    *(undefined *)(param_2 + 0x1b1) = 0x48;
    *(ushort *)(param_2 + 0x192) = *(ushort *)(param_2 + 0x2a) / 10;
  }
  else if (((*(byte *)(param_2 + 0x58) & 0x20) == 0) || (DAT_BATTLE_BIN__8018f5fc != 0)) {
    if ((*(byte *)(param_2 + 0x5c) & 1) != 0) {
      cVar5 = *(char *)(param_2 + 0x6c) + -1;
      if (cVar5 == '\0') {
        *(undefined *)(param_2 + 0x1b0) = 1;
        *(undefined *)(param_2 + 0x1b1) = 8;
        if ((*(byte *)(param_2 + 0x58) & 0x10) == 0) {
                    // Possible PsyQ macro: setPolyF3()
          *(undefined *)(param_2 + 0x1a7) = 0x20;
          return 3;
        }
      }
      else {
        *(char *)(param_2 + 0x6c) = cVar5;
      }
    }
    if ((*(byte *)(param_2 + 0x58) & 2) != 0) {
      *(undefined *)(param_2 + 0x1ac) = 2;
      *(undefined *)(param_2 + 0x1b1) = 8;
    }
    if (*(byte *)(param_2 + 0x24) < 10) {
      *(undefined *)(param_2 + 0x1a2) = 0x81;
      *(byte *)(param_2 + 0x1b1) = *(byte *)(param_2 + 0x1b1) | 1;
    }
    iVar2 = (uint)(*(char *)(param_2 + 0x1b1) != '\0') << 1;
  }
  else {
    iVar2 = 0;
    if (((*(byte *)(param_2 + 5) & 4) == 0) && (iVar2 = 0, (*(byte *)(param_2 + 6) & 9) == 0)) {
      cVar5 = *(char *)(param_2 + 7) + -1;
      iVar2 = 0;
      if (cVar5 == -1) {
        if (((*(byte *)(param_2 + 0x58) & 0x10) == 0) || ((uVar1 & 1) == 0)) {
          uVar4 = 0x10;
          if ((*(byte *)(param_2 + 0x1ba) & 8) != 0) {
            uVar4 = 0x110;
          }
          iVar2 = 1;
          if ((uVar1 & uVar4) == 0) {
            *(undefined *)(param_2 + 0x1a8) = 1;
          }
          else {
                    // Possible PsyQ macro: setLineF2()
            *(undefined *)(param_2 + 0x1a7) = 0x40;
          }
          *(undefined *)(param_2 + 0x1b1) = 8;
        }
        else {
          *(undefined *)(param_2 + 0x1ac) = 0x20;
          iVar3 = rand();
          iVar3 = iVar3 * (uint)*(ushort *)(param_2 + 0x2a);
          iVar2 = 2;
          if (iVar3 < 0) {
            iVar3 = iVar3 + 0x7fff;
          }
          *(short *)(param_2 + 0x192) = (short)(iVar3 >> 0xf) + 1;
                    // Possible PsyQ macro: setLineF3()
          *(undefined *)(param_2 + 0x1b1) = 0x48;
        }
      }
      else {
        *(char *)(param_2 + 7) = cVar5;
      }
    }
  }
  return iVar2;
}



byte FUN_BATTLE_BIN__801832cc(int param_1)

{
  int iVar1;
  byte bVar2;
  
  if (*(char *)(param_1 + 1) != -1) {
    iVar1 = Check_HasStatus(param_1,3);
    if (iVar1 != 0) {
      return 1;
    }
    if ((*(byte *)(param_1 + 0x182) & 0x40) == 0) {
      if ((*(byte *)(param_1 + 0x58) & 0x20) != 0) {
        return 6;
      }
      bVar2 = -((*(byte *)(param_1 + 0x5c) & 0x10) != 0) & 10;
      if ((*(byte *)(param_1 + 0x5b) & 8) != 0) {
        bVar2 = bVar2 | 0x10;
      }
      if ((*(byte *)(param_1 + 0x5b) & 4) == 0) {
        return bVar2;
      }
      return bVar2 | 0x20;
    }
  }
  return 1;
}



uint FUN_BATTLE_BIN__80183374(void)

{
  char cVar1;
  byte bVar2;
  int iVar3;
  BattleUnitData *pBVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  
  iVar6 = 0;
  iVar7 = 0;
  iVar5 = 0;
  iVar8 = 0;
  do {
    if (((((&UnitBattleData[0].field2_0x18c.field_0x2e)[iVar8] & 3) == 3) &&
        (cVar1 = (&UnitBattleData[0].field1_0x16e.field_0x15)[iVar8], cVar1 != -1)) &&
       (iVar3 = Check_HasStatus((int)(&UnitBattleData[0].field0_0x0.BaseClass + iVar8),1),
       (uint)(cVar1 == -0x80) + iVar3 != 0)) {
      if (((&UnitBattleData[0].field2_0x18c.field_0x2e)[iVar8] & 0x30) == 0) {
        iVar6 = iVar6 + 1;
      }
      else {
        iVar7 = iVar7 + 1;
      }
    }
    iVar5 = iVar5 + 1;
    iVar8 = iVar8 + 0x1c0;
  } while (iVar5 < 0x15);
  if (iVar6 == 0) {
    if (iVar7 != 0) {
      return 0;
    }
    iVar7 = 0;
    pBVar4 = UnitBattleData;
    iVar5 = 0;
    iVar6 = 0;
    do {
      if ((pBVar4->field0_0x0).UnitID != 0xff) {
        bVar2 = (pBVar4->field2_0x18c).field_0x2e;
        iVar8 = Check_HasStatus((int)pBVar4,0);
        if (iVar8 == 0) {
          if ((bVar2 & 0x30) == 0) {
            iVar5 = iVar5 + 1;
          }
          else {
            iVar6 = iVar6 + 1;
          }
        }
      }
      iVar7 = iVar7 + 1;
      pBVar4 = pBVar4 + 1;
    } while (iVar7 < 0x15);
    if (iVar5 != 0) {
      return (uint)(iVar6 != 0);
    }
  }
  return 0xffffffff;
}



uint FUN_BATTLE_BIN__80183544(int param_1)

{
  uint uVar1;
  byte abStack_a8 [160];
  
  FUN_BATTLE_BIN__8018370c((char *)abStack_a8,0);
  uVar1 = abStack_a8[param_1 * 4] & 0x1f;
  if (uVar1 == 0x1f) {
    uVar1 = 0xfffffffc;
  }
  else if ((abStack_a8[param_1 * 4] & 0x40) != 0) {
    uVar1 = uVar1 + 0x100;
  }
  return uVar1;
}



bool FUN_BATTLE_BIN__801835a8(int param_1)

{
  bool bVar1;
  
  bVar1 = true;
  if (((*(char *)(param_1 + 1) != -1) && (bVar1 = true, (*(byte *)(param_1 + 0x58) & 0x60) == 0)) &&
     (bVar1 = true, (*(byte *)(param_1 + 0x59) & 0x81) == 0)) {
    bVar1 = (*(byte *)(param_1 + 0x182) & 0x40) != 0;
  }
  return bVar1;
}



int FUN_BATTLE_BIN__8018370c(char *param_1,int param_2)

{
  byte bVar1;
  byte bVar2;
  bool bVar3;
  bool bVar4;
  BattleUnitData *pBVar5;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  char *pcVar6;
  uint uVar7;
  JobID *pJVar8;
  uint uVar9;
  uint uVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  uint uVar14;
  int iVar15;
  int iVar16;
  int local_30;
  
  iVar16 = 0;
  iVar15 = 0;
  bVar3 = DAT_BATTLE_BIN__8018f51c == 9;
  pcVar6 = param_1;
  do {
    *pcVar6 = -1;
    pcVar6[1] = -1;
    *(undefined2 *)(pcVar6 + 2) = 0xffff;
    iVar15 = iVar15 + 1;
    pcVar6 = pcVar6 + 4;
  } while (iVar15 < 0x28);
  iVar15 = 0;
  if ((param_2 != 2) && (pBVar5 = FUN_BATTLE_BIN__80181114(), pBVar5 != (BattleUnitData *)0x0)) {
    FUN_BATTLE_BIN__80183acc((uint)(pBVar5->field1_0x16e).UnitID2,0,0,param_1);
  }
  local_30 = 0;
  do {
    pJVar8 = &UnitBattleData[0].field0_0x0.BaseClass + local_30;
    bVar4 = FUN_BATTLE_BIN__801835a8((int)pJVar8);
    if (CONCAT31(extraout_var,bVar4) == 0) {
      uVar14 = 0;
      if ((UnitBattleData[0].field0_0x0.JobLevels[local_30 + -0x77] & 2) != 0) {
        uVar14 = (uint)UnitBattleData[0].field0_0x0.JobLevels[local_30 + -0x6f];
      }
      if (((UnitBattleData[0].field0_0x0.JobLevels[local_30 + -0x76] & 0x10) != 0) &&
         (uVar7 = (uint)UnitBattleData[0].field0_0x0.JobLevels[local_30 + -0x6a], uVar14 < uVar7)) {
        uVar14 = uVar7;
      }
      uVar7 = (uint)(byte)UnitBattleData[0].field0_0x0.SecondarySkillsetName[local_30 + 9];
      if ((uVar7 != 0xff) && (param_2 != 1)) {
        uVar9 = uVar14 + uVar7;
        if ((uVar7 != 0) ||
           (((&UnitBattleData[0].field1_0x16e.CurrentATUnit)[local_30] == 0 || (param_2 != 3)))) {
          uVar9 = uVar9 + bVar3;
        }
        bVar4 = FUN_BATTLE_BIN__80183acc(iVar15,1,(ushort)((uVar9 & 0xff) << 8),param_1);
        iVar16 = iVar16 + CONCAT31(extraout_var_00,bVar4);
        if ((UnitBattleData[0].field0_0x0.JobLevels[local_30 + -0x7a] & 1) != 0) {
          Transfer_Last_Ability_Used_CT((int)pJVar8);
          iVar12 = 0;
          do {
            uVar9 = (&UnitBattleData[0].field1_0x16e.AbilityCT)[local_30] + uVar9;
            if (0xff < (uVar9 & 0xffff)) break;
            bVar4 = FUN_BATTLE_BIN__80183acc(iVar15,1,(ushort)((uVar9 & 0xff) << 8),param_1);
            iVar16 = iVar16 + CONCAT31(extraout_var_01,bVar4);
            iVar12 = iVar12 + 1;
          } while (iVar12 < 0x27);
        }
      }
      if (param_2 != 2) {
        bVar1 = UnitBattleData[0].field0_0x0.JobLevels[local_30 + -0x77];
        bVar2 = (&UnitBattleData[0].field0_0x0.InnateStatuses.field_0x3)[local_30];
        iVar12 = 0;
        if ((bVar1 & 4) == 0) {
LAB_BATTLE_BIN__80183938:
          iVar11 = 0;
        }
        else {
          iVar11 = UnitBattleData[0].field0_0x0.JobLevels[local_30 + -0x70] - uVar14;
          if ((bVar2 & 4) != 0) {
            iVar11 = 0x200 - uVar14;
          }
          if (iVar11 < 0) goto LAB_BATTLE_BIN__80183938;
        }
        if ((bVar1 & 8) != 0) {
          iVar12 = UnitBattleData[0].field0_0x0.JobLevels[local_30 + -0x71] - uVar14;
          if ((bVar2 & 8) != 0) {
            iVar12 = 0x200 - uVar14;
          }
          if (iVar12 < 0) {
            iVar12 = 0;
          }
        }
        uVar7 = (uint)(&UnitBattleData[0].field0_0x0.SP)[local_30];
        if (uVar7 == 0) {
          uVar7 = 1;
        }
        uVar9 = (uint)(&UnitBattleData[0].field0_0x0.CT)[local_30];
        iVar13 = 0;
LAB_BATTLE_BIN__801839ec:
        do {
          uVar10 = uVar14 + 1;
          if ((uVar9 & 0xffff) < 100) {
            if (iVar11 == 0) {
              uVar14 = uVar7;
              if (iVar12 != 0) {
                iVar12 = iVar12 + -1;
                uVar14 = uVar7 * 3 >> 1 & 0xff;
              }
            }
            else {
              uVar14 = uVar7 >> 1;
              iVar11 = iVar11 + -1;
              if (uVar14 == 0) {
                uVar14 = 1;
              }
              if (iVar12 != 0) {
                iVar12 = iVar12 + -1;
              }
            }
            uVar9 = uVar9 + uVar14;
            uVar14 = uVar10;
            if ((uVar10 & 0xffff) < 0x1f5) goto LAB_BATTLE_BIN__801839ec;
          }
          if (0xff < (uVar14 & 0xffff)) break;
          uVar9 = (uVar9 & 0xffff) % 100;
          bVar4 = FUN_BATTLE_BIN__80183acc
                            (iVar15,0,((short)(uVar14 & 0xffff) * 0x100 + 100) - (short)uVar9,
                             param_1);
          if (CONCAT31(extraout_var_02,bVar4) == 0) break;
          iVar16 = iVar16 + CONCAT31(extraout_var_02,bVar4);
          iVar13 = iVar13 + 1;
        } while (iVar13 < 0x28);
      }
    }
    iVar15 = iVar15 + 1;
    local_30 = local_30 + 0x1c0;
    if (0x14 < iVar15) {
      return -(uint)(iVar16 == 0);
    }
  } while( true );
}



bool FUN_BATTLE_BIN__80183acc(int param_1,int param_2,ushort param_3,char *param_4)

{
  AbilityID AVar1;
  char cVar2;
  char cVar3;
  undefined4 *puVar4;
  int iVar5;
  char *pcVar6;
  int iVar7;
  
  iVar7 = 0;
  cVar2 = (char)param_1;
  pcVar6 = param_4;
  while (*(ushort *)(pcVar6 + 2) <= param_3) {
    iVar7 = iVar7 + 1;
    pcVar6 = pcVar6 + 4;
    if (0x27 < iVar7) goto LAB_BATTLE_BIN__80183b9c;
  }
  iVar5 = 0x27;
  if (iVar7 < 0x27) {
    puVar4 = (undefined4 *)(param_4 + 0x9c);
    do {
      *puVar4 = puVar4[-1];
      iVar5 = iVar5 + -1;
      puVar4 = puVar4 + -1;
    } while (iVar7 < iVar5);
  }
  *(ushort *)(pcVar6 + 2) = param_3;
  cVar3 = cVar2;
  if (param_2 != 0) {
    if (UnitBattleData[param_1].field1_0x16e.SkillsetOfAttack == Jump) {
      cVar3 = cVar2 + '`';
    }
    else {
      AVar1 = UnitBattleData[param_1].field1_0x16e.AttackToUse;
      pcVar6[1] = (char)AVar1;
      cVar3 = cVar2 + '@';
      if (0xff < (short)AVar1) {
        cVar3 = cVar2 + -0x40;
      }
    }
  }
  *pcVar6 = cVar3;
LAB_BATTLE_BIN__80183b9c:
  return iVar7 != 0x28;
}



void FUN_BATTLE_BIN__80183ba8(int param_1)

{
  FUN_BATTLE_BIN__80183bf0(param_1,0,1);
  return;
}



void FUN_BATTLE_BIN__80183bcc(int param_1)

{
  FUN_BATTLE_BIN__80183bf0(param_1,1,0);
  return;
}



int FUN_BATTLE_BIN__80183bf0(int param_1,int param_2,int param_3)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = -1;
  if (UnitBattleData[param_1].field0_0x0.UnitID != 0xff) {
    if (param_2 != 0) {
      UnitBattleData[param_1].field1_0x16e.MoveUnavailable = 1;
    }
    if (param_3 != 0) {
      UnitBattleData[param_1].field1_0x16e.ActUnavailable = 1;
    }
    bVar1 = FUN_BATTLE_BIN__80183d10(UnitBattleData + param_1);
    iVar2 = CONCAT31(extraout_var,bVar1);
    if (iVar2 != 0) {
      iVar2 = FUN_BATTLE_BIN__80183c6c(param_1);
    }
  }
  return iVar2;
}



undefined4 FUN_BATTLE_BIN__80183c6c(int param_1)

{
  byte bVar1;
  uint uVar2;
  
  if ((UnitBattleData[param_1].field0_0x0.UnitID != 0xff) &&
     (UnitBattleData[param_1].field1_0x16e.CurrentATUnit != 0)) {
    uVar2 = (uint)UnitBattleData[param_1].field0_0x0.CT;
    bVar1 = UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x4;
    if ((UnitBattleData[param_1].field1_0x16e.MoveUnavailable | bVar1 & 8) == 0) {
      uVar2 = uVar2 + 0x14;
    }
    if ((byte)(bVar1 & 4 | UnitBattleData[param_1].field1_0x16e.ActUnavailable |
              *(byte *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 1) == 0) {
      uVar2 = uVar2 + 0x14;
    }
    bVar1 = (byte)uVar2;
    if (0x3c < uVar2) {
      bVar1 = 0x3c;
    }
    UnitBattleData[param_1].field0_0x0.CT = bVar1;
    UnitBattleData[param_1].field1_0x16e.CurrentATUnit = 0;
  }
  return 1;
}



bool FUN_BATTLE_BIN__80183d10(BattleUnitData *param_1)

{
  byte bVar1;
  byte bVar2;
  bool bVar3;
  uint uVar4;
  
  uVar4 = FUN_BATTLE_BIN__8018130c(param_1);
  bVar1 = (param_1->field1_0x16e).MoveUnavailable;
  bVar2 = (param_1->field1_0x16e).ActUnavailable;
  bVar3 = false;
  if (((bVar1 | (param_1->field0_0x0).CurrentStatuses.field_0x4 & 8) != 0) &&
     (((uint)bVar2 | uVar4 & 0xff) != 0)) {
    bVar3 = (bVar1 | bVar2) != 0;
  }
  return bVar3;
}



bool FUN_BATTLE_BIN__80183d70(int param_1)

{
  byte bVar1;
  bool bVar2;
  
  bVar2 = true;
  if (UnitBattleData[param_1].field0_0x0.UnitID != 0xff) {
    bVar1 = FUN_BATTLE_BIN__801832cc((int)(UnitBattleData + param_1));
    bVar2 = true;
    if ((bVar1 & 0xd) == 0) {
      bVar2 = UnitBattleData[param_1].field1_0x16e.CurrentATUnit == 0;
    }
    else {
      UnitBattleData[param_1].field1_0x16e.CurrentATUnit = 0;
    }
  }
  return bVar2;
}



void FUN_BATTLE_BIN__80183de0(int param_1)

{
  Status_InflictionRemoval(param_1,0);
  return;
}



undefined4 FUN_BATTLE_BIN__80183e00(int param_1)

{
  Status_InflictionRemoval((int)(UnitBattleData + param_1),7);
  return 0;
}



void FUN_BATTLE_BIN__80183ea0(undefined *param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
  DAT_BATTLE_BIN__800e4e9c = *param_1;
  puVar5 = (undefined4 *)&DAT_BATTLE_BIN__8018f8cc;
  puVar4 = (undefined4 *)(param_1 + 2);
  DAT_BATTLE_BIN__800e4ea0 = param_1[1];
  if (((uint)puVar4 & 3) == 0) {
    do {
      uVar1 = puVar4[1];
      uVar2 = puVar4[2];
      uVar3 = puVar4[3];
      *puVar5 = *puVar4;
      puVar5[1] = uVar1;
      puVar5[2] = uVar2;
      puVar5[3] = uVar3;
      puVar4 = puVar4 + 4;
      puVar5 = puVar5 + 4;
    } while (puVar4 != (undefined4 *)(param_1 + 0x1002));
  }
  else {
    do {
      uVar1 = puVar4[1];
      uVar2 = puVar4[2];
      uVar3 = puVar4[3];
      *puVar5 = *puVar4;
      puVar5[1] = uVar1;
      puVar5[2] = uVar2;
      puVar5[3] = uVar3;
      puVar4 = puVar4 + 4;
      puVar5 = puVar5 + 4;
    } while (puVar4 != (undefined4 *)(param_1 + 0x1002));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__80183f60(undefined4 *param_1)

{
  CurrentAbilityData._116_4_ = *param_1;
  _DAT_BATTLE_BIN__80193914 = param_1[1];
  DAT_BATTLE_BIN__80193918 = param_1[2];
  DAT_BATTLE_BIN__8019391c = param_1[3];
  return;
}



undefined1 * FUN_BATTLE_BIN__80183fb4(int param_1,int param_2,uint param_3)

{
  undefined1 *puVar1;
  
  if ((((param_1 < 0) || ((int)(uint)DAT_BATTLE_BIN__800e4e9c <= param_1)) || (param_2 < 0)) ||
     (((int)(uint)DAT_BATTLE_BIN__800e4ea0 <= param_2 || (1 < param_3)))) {
    puVar1 = (undefined1 *)0x0;
  }
  else {
    puVar1 = &DAT_BATTLE_BIN__8018f8cc +
             (param_3 * 0x100 + param_2 * (uint)DAT_BATTLE_BIN__800e4e9c + param_1) * 8;
  }
  return puVar1;
}



byte FUN_BATTLE_BIN__8018401c(undefined4 param_1,int param_2,int param_3,int param_4)

{
  byte bVar1;
  int iVar2;
  
  iVar2 = (param_4 * 0x100 + param_3 * (uint)DAT_BATTLE_BIN__800e4e9c + param_2) * 8;
  switch(param_1) {
  case 0:
    bVar1 = (&DAT_BATTLE_BIN__8018f8cc)[iVar2] & 0x3f;
    break;
  case 1:
    bVar1 = (&DAT_BATTLE_BIN__8018f8cd)[iVar2];
    break;
  case 2:
    bVar1 = (&DAT_BATTLE_BIN__8018f8ce)[iVar2];
    break;
  case 3:
    bVar1 = (&DAT_BATTLE_BIN__8018f8cf)[iVar2] & 0x1f;
    break;
  case 4:
    bVar1 = (byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar2] >> 5;
    break;
  case 5:
    bVar1 = (&DAT_BATTLE_BIN__8018f8d0)[iVar2];
    break;
  case 6:
    bVar1 = (&DAT_BATTLE_BIN__8018f8d1)[iVar2] & 0x1f;
    break;
  case 7:
    bVar1 = (&DAT_BATTLE_BIN__8018f8d2)[iVar2] & 1;
    break;
  case 8:
    bVar1 = (byte)(&DAT_BATTLE_BIN__8018f8d2)[iVar2] >> 1 & 1;
    break;
  case 9:
    bVar1 = (byte)(&DAT_BATTLE_BIN__8018f8d2)[iVar2] >> 2 & 3;
    break;
  case 10:
    bVar1 = (byte)(&DAT_BATTLE_BIN__8018f8d2)[iVar2] >> 4 & 7;
    break;
  case 0xb:
    bVar1 = (&DAT_BATTLE_BIN__8018f8d3)[iVar2] & 0xf;
    break;
  case 0xc:
    bVar1 = (byte)(&DAT_BATTLE_BIN__8018f8d1)[iVar2] >> 5 & 1;
    break;
  case 0xd:
    bVar1 = (byte)(&DAT_BATTLE_BIN__8018f8d1)[iVar2] >> 6 & 1;
    break;
  default:
    bVar1 = 0xff;
  }
  return bVar1;
}



void FUN_BATTLE_BIN__8018430c(void)

{
  byte *pbVar1;
  
  TarCurActPtr->HitFlag = false;
  TarCurActPtr->EvadeType = 7;
  pbVar1 = &TarCurActPtr->field60_0x2b;
  TarCurActPtr->Hit_ = 0;
  *pbVar1 = 0;
  return;
}



void FUN_BATTLE_BIN__8018433c(void)

{
  TarCurActPtr->HitFlag = false;
  TarCurActPtr->EvadeType = 6;
  return;
}



undefined4 FUN_BATTLE_BIN__80184360(void)

{
  short sVar1;
  undefined2 uVar2;
  byte *pbVar3;
  bool bVar4;
  undefined3 extraout_var;
  undefined4 uVar5;
  uint uVar6;
  
  uVar6 = (uint)CurrentAbilityData.CurrentAbilityFuncData.X;
  sVar1._0_1_ = TarCurActPtr->Hit_;
  sVar1._1_1_ = TarCurActPtr->field60_0x2b;
  uVar2 = (undefined2)((int)((int)sVar1 * uVar6) / 100);
  bVar4 = DAT_BATTLE_BIN__8018f5fc == 0;
  pbVar3 = &TarCurActPtr->field60_0x2b;
  TarCurActPtr->Hit_ = (char)uVar2;
  *pbVar3 = (char)((ushort)uVar2 >> 8);
  if ((bVar4) && (bVar4 = PassFail_Roll(100,uVar6), CONCAT31(extraout_var,bVar4) != 0)) {
    FUN_BATTLE_BIN__8018433c();
    uVar5 = 1;
  }
  else {
    uVar5 = 0;
  }
  return uVar5;
}



void FUN_BATTLE_BIN__801843ec(void)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  
  if (CurrentAbilityData.CanKnockback) {
    bVar1 = (TarBattlePtr->field0_0x0).field_0x5;
    if (((((bVar1 & 4) == 0) && ((bVar1 & 3) != 3)) && (TarBattlePtr != CasBattlePtr)) &&
       ((TarBattlePtr->field1_0x16e).field_0x14 == '\0')) {
      uVar9 = (uint)(TarBattlePtr->field0_0x0).MapX;
      uVar6 = (uint)(TarBattlePtr->field0_0x0).MapY;
      iVar8 = uVar9 - (CasBattlePtr->field0_0x0).MapX;
      iVar7 = uVar6 - (CasBattlePtr->field0_0x0).MapY;
      iVar5 = iVar8;
      if (iVar8 < 0) {
        iVar5 = -iVar8;
      }
      iVar4 = iVar7;
      if (iVar7 < 0) {
        iVar4 = -iVar7;
      }
      if (iVar5 + iVar4 != 0) {
        if (iVar4 < iVar5) {
          iVar5 = 3;
          if (iVar8 < 1) {
            iVar5 = 1;
            uVar9 = uVar9 - 1;
          }
          else {
            uVar9 = uVar9 + 1;
          }
        }
        else {
          iVar5 = 2;
          if (iVar7 < 1) {
            iVar5 = 0;
            uVar6 = uVar6 - 1;
          }
          else {
            uVar6 = uVar6 + 1;
          }
        }
        uVar2 = FUN_BATTLE_BIN__80184610(iVar5,uVar9,uVar6);
        if (-1 < (int)uVar2) {
          iVar5 = (uVar2 * 0x100 + uVar6 * DAT_BATTLE_BIN__800e4e9c + uVar9) * 8;
          if (((((&DAT_BATTLE_BIN__8018f8d2)[iVar5] & 2) == 0) &&
              (((&DAT_BATTLE_BIN__8018f8cf)[iVar5] & 0xe0) == 0)) &&
             ((((&DAT_BATTLE_BIN__8018f8cf)[iVar5] & 0x1f) < 3 &&
              ((((&DAT_BATTLE_BIN__8018f8cc)[iVar5] & 0x3f) != 0x12 &&
               (((&DAT_BATTLE_BIN__8018f8cc)[iVar5] & 0x3f) != 0x1c)))))) {
            uVar3 = FUN_BATTLE_BIN__8017f020((int)TarBattlePtr);
            CurrentAbilityData._81_1_ = 0x81;
            if (((uVar3 & 0x80) != 0) &&
               (CurrentAbilityData._81_1_ = 0x81,
               ((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 6) == 0)) {
              CurrentAbilityData._81_1_ = 0x82;
            }
            CurrentAbilityData.TarNewMapX = (byte)uVar9;
            CurrentAbilityData.TarNewMapY = (byte)uVar6;
            CurrentAbilityData.TarNewMapZ = (byte)uVar2;
            *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 | 0x4000;
          }
        }
      }
    }
  }
  return;
}



uint FUN_BATTLE_BIN__80184610(int param_1,uint param_2,uint param_3)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint unaff_s0;
  uint unaff_s1;
  uint uVar6;
  
  if ((int)param_2 < 0) {
    return 0xffffffff;
  }
  if ((int)param_3 < 0) {
    return 0xffffffff;
  }
  if ((int)(uint)DAT_BATTLE_BIN__800e4e9c <= (int)param_2) {
    return 0xffffffff;
  }
  if ((int)(uint)DAT_BATTLE_BIN__800e4ea0 <= (int)param_3) {
    return 0xffffffff;
  }
  if (param_1 == 1) {
    unaff_s0 = 2;
    unaff_s1 = 0;
  }
  else if (param_1 < 2) {
    if (param_1 == 0) {
      unaff_s0 = 4;
      unaff_s1 = 6;
    }
  }
  else if (param_1 == 2) {
    unaff_s0 = 6;
    unaff_s1 = 4;
  }
  else if (param_1 == 3) {
    unaff_s0 = 0;
    unaff_s1 = 2;
  }
  iVar1 = GetUnitTileID(TarBattlePtr);
  iVar1 = iVar1 * 8;
  uVar5 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar1] * 2 +
          ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar1] & 0x1f) *
          ((int)(uint)(byte)(&DAT_BATTLE_BIN__8018f8d0)[iVar1] >> (unaff_s0 & 0x1f) & 3U);
  iVar1 = param_3 * DAT_BATTLE_BIN__800e4e9c + param_2;
  iVar2 = iVar1 * 8;
  iVar1 = (iVar1 + 0x100) * 8;
  if (((&DAT_BATTLE_BIN__8018f8d2)[iVar2] & 1) == 0) {
    uVar4 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar2] * 2 +
            ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar2] & 0x1f) *
            ((int)(uint)(byte)(&DAT_BATTLE_BIN__8018f8d0)[iVar2] >> (unaff_s1 & 0x1f) & 3U);
  }
  else {
    uVar4 = 0xff;
  }
  uVar3 = 0xff;
  if (((&DAT_BATTLE_BIN__8018f8d2)[iVar1] & 1) == 0) {
    uVar3 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar1] * 2 +
            ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar1] & 0x1f) *
            ((int)(uint)(byte)(&DAT_BATTLE_BIN__8018f8d0)[iVar1] >> (unaff_s1 & 0x1f) & 3U);
  }
  if (uVar5 < uVar4) {
    if (uVar3 > uVar5) {
      return 0xffffffff;
    }
LAB_BATTLE_BIN__80184820:
    if (uVar5 < uVar4) {
LAB_BATTLE_BIN__80184828:
      if (uVar5 < uVar3) goto LAB_BATTLE_BIN__8018485c;
      if ((int)(uVar4 - ((byte)(&DAT_BATTLE_BIN__8018f8d1)[iVar2] & 0x1f)) < (int)(uVar5 + 4)) {
        return 0xffffffff;
      }
    }
    else {
LAB_BATTLE_BIN__8018485c:
      if (uVar3 <= uVar4) goto LAB_BATTLE_BIN__80184868;
    }
    uVar6 = 1;
    uVar4 = uVar3;
  }
  else {
    if (uVar3 <= uVar5) goto LAB_BATTLE_BIN__80184820;
    if (uVar5 < uVar4) goto LAB_BATTLE_BIN__80184828;
    if ((int)(uVar3 - ((byte)(&DAT_BATTLE_BIN__8018f8d1)[iVar1] & 0x1f)) < (int)(uVar5 + 4)) {
      return 0xffffffff;
    }
LAB_BATTLE_BIN__80184868:
    uVar6 = 0;
  }
  if ((int)(uVar5 - uVar4) < 0) {
    return 0xffffffff;
  }
  iVar1 = FUN_BATTLE_BIN__8017dc88(param_2,param_3,uVar6);
  if (iVar1 == -1) {
    CurrentAbilityData.FallDistance = (byte)(uVar5 - uVar4);
    CurrentAbilityData.PostActionTarID = CurrentAbilityData.TarID2;
    return uVar6;
  }
  return 0xffffffff;
}



undefined4 FUN_BATTLE_BIN__801848d8(uint param_1,uint param_2,byte param_3,byte param_4)

{
  bool bVar1;
  undefined3 extraout_var;
  undefined4 uVar2;
  
  bVar1 = PassFail_Roll(param_2 & 0xffff,param_1 & 0xffff);
  uVar2 = 0;
  if ((CONCAT31(extraout_var,bVar1) == 0) && (uVar2 = 0, DAT_BATTLE_BIN__8018f5fc == 0)) {
    TarCurActPtr->HitFlag = false;
    TarCurActPtr->EvadeType = param_3;
    uVar2 = 1;
    TarCurActPtr->ItemBreakID = param_4;
  }
  return uVar2;
}



void FUN_BATTLE_BIN__80184964(void)

{
  byte bVar1;
  byte bVar2;
  ushort uVar3;
  ushort uVar4;
  uint uVar5;
  ushort uVar6;
  short sVar7;
  byte bVar8;
  
  uVar3 = *(ushort *)&(CasBattlePtr->field0_0x0).field_0x8 >> 0xc;
  uVar4 = *(ushort *)&(TarBattlePtr->field0_0x0).field_0x8 >> 0xc;
  if (uVar3 == 0xc) {
    return;
  }
  if (uVar4 == 0xc) {
    return;
  }
  uVar6 = uVar3 - uVar4;
  if (uVar3 <= uVar4) {
    uVar6 = uVar4 - uVar3;
  }
  bVar8 = (&DAT_BATTLE_BIN__8018f600)[uVar6];
  if (bVar8 == 3) {
    bVar1 = (CasBattlePtr->field0_0x0).field_0x6;
    bVar8 = 1;
    if ((bVar1 & 0x20) == 0) {
      bVar2 = (TarBattlePtr->field0_0x0).field_0x6;
      if (((bVar2 & 0x20) == 0) && (bVar8 = 5, (bVar1 & 0xc0) == (bVar2 & 0xc0))) {
        bVar8 = 4;
      }
    }
  }
  uVar5 = CurrentAbilityData.AbPower * 0x19;
  if (bVar8 == 2) {
    CurrentAbilityData.AbPower = CurrentAbilityData.AbPower + (short)((uVar5 & 0xffff) / 100);
  }
  else {
    if (bVar8 < 3) {
      if (bVar8 != 1) goto LAB_BATTLE_BIN__80184afc;
      sVar7 = (short)((uVar5 & 0xffff) / 100);
    }
    else {
      if (bVar8 != 4) {
        if (bVar8 == 5) {
          CurrentAbilityData.AbPower = CurrentAbilityData.AbPower + (short)((uVar5 & 0xffff) / 0x32)
          ;
        }
        goto LAB_BATTLE_BIN__80184afc;
      }
      sVar7 = (short)((uVar5 & 0xffff) / 0x32);
    }
    CurrentAbilityData.AbPower = CurrentAbilityData.AbPower - sVar7;
  }
LAB_BATTLE_BIN__80184afc:
  if (CurrentAbilityData.AbPower < 1) {
    CurrentAbilityData.AbPower = 1;
  }
  return;
}



int FUN_BATTLE_BIN__80184b24(int param_1)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  byte *pbVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  byte *pbVar8;
  int iVar9;
  
  iVar9 = 0;
  bVar1 = (TarBattlePtr->field0_0x0).field_0x5;
  if (((TarBattlePtr->field1_0x16e).field_0x14 & 0x80) != 0) {
    iVar6 = 0;
    do {
      iVar5 = iVar6 + 1;
      (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] =
           (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] &
           (&RiderAllowedStatuses.field_0x0)[iVar6];
      iVar6 = iVar5;
    } while (iVar5 < 5);
  }
  bVar2 = (TarCurActPtr->StatusInfliction).field_0x2;
  iVar6 = 0;
  if ((((bVar2 & 2) != 0) && (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 2) != 0)) &&
     (param_1 == 0)) {
    (TarCurActPtr->StatusInfliction).field_0x2 = bVar2 & 0xfd;
    (TarCurActPtr->StatusRemoval).field_0x2 = (TarCurActPtr->StatusRemoval).field_0x2 | 2;
  }
  do {
    if (param_1 == 0) {
      if (iVar6 < 3) {
        bVar2 = (TarBattlePtr->field0_0x0).JobLevels[iVar6 + -0x7a];
      }
      else {
        bVar2 = (&(TarBattlePtr->field0_0x0).InnateStatuses.field_0x0)[iVar6];
      }
      (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] =
           (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] &
           ~(bVar2 | (TarBattlePtr->field0_0x0).JobLevels[iVar6 + -0x7f]);
      if ((bVar1 & 4) != 0) {
        (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] =
             (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] & ~(&DAT_800662ee)[iVar6];
      }
    }
    iVar5 = iVar6 + 1;
    (&(TarCurActPtr->StatusRemoval).field_0x0)[iVar6] =
         (&(TarCurActPtr->StatusRemoval).field_0x0)[iVar6] &
         ~(&(TarBattlePtr->field0_0x0).InnateStatuses.field_0x0)[iVar6] &
         (&(TarBattlePtr->field2_0x18c).FinalInflictStatus.field_0x0)[iVar6];
    iVar6 = iVar5;
  } while (iVar5 < 5);
  uVar7 = 0;
  if (param_1 == 0) {
    pbVar8 = &DAT_80065def;
    do {
      uVar3 = uVar7;
      if ((int)uVar7 < 0) {
        uVar3 = uVar7 + 7;
      }
      iVar6 = (int)uVar3 >> 3;
      uVar3 = 0x80 >> (uVar7 & 7);
      if (((byte)(&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] & uVar3) != 0) {
        iVar5 = 0;
        pbVar4 = pbVar8;
        do {
          bVar1 = *pbVar4;
          pbVar4 = pbVar4 + 1;
          if (((TarBattlePtr->field0_0x0).JobLevels[iVar5 + -0x7a] & bVar1) != 0) {
            (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] =
                 (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] & ~(byte)uVar3;
          }
          iVar5 = iVar5 + 1;
        } while (iVar5 < 5);
      }
      uVar7 = uVar7 + 1;
      pbVar8 = pbVar8 + 0x10;
    } while ((int)uVar7 < 0x28);
    uVar7 = 0;
    pbVar8 = &DAT_80065dea;
    do {
      uVar3 = uVar7;
      if ((int)uVar7 < 0) {
        uVar3 = uVar7 + 7;
      }
      if (((uint)(byte)(&(TarCurActPtr->StatusInfliction).field_0x0)[(int)uVar3 >> 3] &
          0x80 >> (uVar7 & 7)) != 0) {
        iVar6 = 0;
        pbVar4 = pbVar8;
        do {
          iVar5 = iVar6 + 1;
          (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] =
               (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] & ~*pbVar4;
          pbVar4 = pbVar4 + 1;
          iVar6 = iVar5;
        } while (iVar5 < 5);
      }
      uVar7 = uVar7 + 1;
      pbVar8 = pbVar8 + 0x10;
    } while ((int)uVar7 < 0x28);
  }
  iVar6 = 0;
  do {
    iVar5 = iVar6 + 1;
    iVar9 = iVar9 + (uint)(byte)(&(TarCurActPtr->StatusInfliction).field_0x0)[iVar6] +
            (uint)(byte)(&(TarCurActPtr->StatusRemoval).field_0x0)[iVar6];
    iVar6 = iVar5;
  } while (iVar5 < 5);
  return iVar9;
}



void FUN_BATTLE_BIN__80184e40(void)

{
  CurActionUnitData *pCVar1;
  CurActionUnitData *pCVar2;
  
  TarCurActPtr->HitFlag = false;
  pCVar1 = TarCurActPtr;
  TarCurActPtr->EvadeType = 5;
  pCVar2 = TarCurActPtr;
  pCVar1->HPDamage = 0;
  pCVar1->Hit_ = 0;
  pCVar1->field60_0x2b = 0;
  *(undefined2 *)&pCVar1->field_0x10 = 0;
  pCVar2->field_0x25 = 0;
  FUN_BATTLE_BIN__8018bcf0();
  FUN_BATTLE_BIN__8018bd34();
  return;
}



void FUN_BATTLE_BIN__80184e98(byte param_1)

{
  short *psVar1;
  CurActionUnitData *pCVar2;
  int iVar3;
  
  if (((TarBattlePtr->field0_0x0).AbsorbElem & param_1) != 0) {
    *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 | 0x400;
  }
  if (((TarBattlePtr->field0_0x0).NullElem & param_1) == 0) {
    if (((TarBattlePtr->field0_0x0).HalfElem & param_1) != 0) {
      iVar3 = (uint)(ushort)TarCurActPtr->HPDamage << 0x10;
      TarCurActPtr->HPDamage = (short)((iVar3 >> 0x10) - (iVar3 >> 0x1f) >> 1);
    }
    pCVar2 = TarCurActPtr;
    if (((TarBattlePtr->field0_0x0).DoubleElem & param_1) != 0) {
      psVar1 = &TarCurActPtr->HPDamage;
      *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 | 0x800;
      pCVar2->HPDamage = (short)((int)*psVar1 << 1);
    }
  }
  else {
    FUN_BATTLE_BIN__80184e40();
  }
  return;
}



void FUN_BATTLE_BIN__80184f9c(void)

{
  ItemID IVar1;
  ItemID IVar2;
  bool bVar3;
  int iVar4;
  
  bVar3 = false;
  if ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 3) & 0x40) != 0) {
    iVar4 = FUN_BATTLE_BIN__8018130c(TarBattlePtr);
    bVar3 = iVar4 == 0;
  }
  CurrentAbilityData.BaseHitRate = 100;
  CurrentAbilityData.AccEv = 0;
  CurrentAbilityData.RHEv = 0;
  CurrentAbilityData.LHEv = 0;
  CurrentAbilityData.CEv = (TarBattlePtr->field0_0x0).CEv;
  if (((TarBattlePtr->field0_0x0).field_0x6 & 0x20) == 0) {
    IVar1 = (TarBattlePtr->field0_0x0).Accessory;
    if ((PrimaryItemData[IVar1].field_0x3 & 8) != 0) {
      CurrentAbilityData.AccEv = AccessorySecondary[PrimaryItemData[IVar1].SecondID].PhysicalEvade;
    }
    IVar1 = (TarBattlePtr->field0_0x0).RHWeapon;
    IVar2 = (TarBattlePtr->field0_0x0).RHShield;
    if (((PrimaryItemData[IVar1].field_0x3 & 0x80) == 0) || (!bVar3)) {
      if ((PrimaryItemData[IVar2].field_0x3 & 0x40) != 0) {
        CurrentAbilityData.RHEv = ShieldSecondary[PrimaryItemData[IVar2].SecondID].PhysicalEvade;
      }
    }
    else {
      CurrentAbilityData.RHEv = WeaponSecondary[PrimaryItemData[IVar1].SecondID].Evade;
    }
    IVar1 = (TarBattlePtr->field0_0x0).LHWeapon;
    IVar2 = (TarBattlePtr->field0_0x0).LHShield;
    if (((PrimaryItemData[IVar1].field_0x3 & 0x80) == 0) || (!bVar3)) {
      if ((PrimaryItemData[IVar2].field_0x3 & 0x40) != 0) {
        CurrentAbilityData.LHEv = ShieldSecondary[PrimaryItemData[IVar2].SecondID].PhysicalEvade;
      }
    }
    else {
      CurrentAbilityData.LHEv = WeaponSecondary[PrimaryItemData[IVar1].SecondID].Evade;
    }
  }
  return;
}



void FUN_BATTLE_BIN__801851c4(void)

{
  ItemID IVar1;
  
  CurrentAbilityData.BaseHitRate = 100;
  CurrentAbilityData.AccEv = 0;
  CurrentAbilityData.RHEv = 0;
  CurrentAbilityData.LHEv = 0;
  CurrentAbilityData.CEv = 0;
  if (((TarBattlePtr->field0_0x0).field_0x6 & 0x20) == 0) {
    IVar1 = (TarBattlePtr->field0_0x0).Accessory;
    if ((PrimaryItemData[IVar1].field_0x3 & 8) != 0) {
      CurrentAbilityData.AccEv = AccessorySecondary[PrimaryItemData[IVar1].SecondID].MagicalEvade;
    }
    IVar1 = (TarBattlePtr->field0_0x0).RHShield;
    if ((PrimaryItemData[IVar1].field_0x3 & 0x40) != 0) {
      CurrentAbilityData.RHEv = ShieldSecondary[PrimaryItemData[IVar1].SecondID].MagicalEvade;
    }
    IVar1 = (TarBattlePtr->field0_0x0).LHShield;
    if ((PrimaryItemData[IVar1].field_0x3 & 0x40) != 0) {
      CurrentAbilityData.LHEv = ShieldSecondary[PrimaryItemData[IVar1].SecondID].MagicalEvade;
    }
  }
  return;
}



void FUN_BATTLE_BIN__801852e4(void)

{
  if ((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 1) & 1) != 0) {
    Data_Null(&CurrentAbilityData.AccEv,4);
  }
  return;
}



void FUN_BATTLE_BIN__80185328(void)

{
  if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x1 & 0x30) != 0) {
    CurrentAbilityData.BaseHitRate = CurrentAbilityData.BaseHitRate >> 1;
  }
  FUN_BATTLE_BIN__801854b8();
  return;
}



void FUN_BATTLE_BIN__8018537c(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__8018130c(TarBattlePtr);
  if ((iVar1 == 0) && ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 3) & 0x10) != 0)) {
    CurrentAbilityData.BaseHitRate = CurrentAbilityData.BaseHitRate >> 1;
    TarCurActPtr->ReactionID = 0x1c1;
  }
  return;
}



void FUN_BATTLE_BIN__801853f4(void)

{
  if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 9) != 0 ||
      (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x1 & 0x10) != 0 ||
      (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x3 & 2) != 0 ||
      ((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x14) != 0))) {
    Data_Null(&CurrentAbilityData.AccEv,4);
  }
  if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 2) != 0) {
    CurrentAbilityData.BaseHitRate = CurrentAbilityData.BaseHitRate >> 1;
  }
  return;
}



void FUN_BATTLE_BIN__801854b8(void)

{
  if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 0x10) != 0) {
    Data_Null(&CurrentAbilityData.AccEv,4);
  }
  return;
}



void FUN_BATTLE_BIN__801854fc(void)

{
  uint uVar1;
  ushort uVar2;
  uint uVar3;
  byte bVar4;
  uint uVar5;
  uint uVar6;
  
  uVar6 = (uint)(TarBattlePtr->field0_0x0).MapX - (uint)(CasBattlePtr->field0_0x0).MapX;
  uVar3 = uVar6;
  if ((int)uVar6 < 0) {
    uVar3 = -uVar6;
  }
  uVar5 = (uint)(TarBattlePtr->field0_0x0).MapY - (uint)(CasBattlePtr->field0_0x0).MapY;
  uVar1 = uVar5;
  if ((int)uVar5 < 0) {
    uVar1 = -uVar5;
  }
  bVar4 = 1;
  CurrentAbilityData.FaceEvMod = 1;
  if ((uVar1 & 0xff) < (uVar3 & 0xff)) {
    CurrentAbilityData.FaceEvMod = bVar4;
    if (0 < (int)uVar6) {
      uVar2 = *(ushort *)&(TarBattlePtr->field0_0x0).MapY & 0xf00;
      if (uVar2 == 0x100) {
        CurrentAbilityData.FaceEvMod = 0;
      }
      else if (uVar2 == 0x300) {
        CurrentAbilityData.FaceEvMod = 2;
      }
    }
    if (-1 < (int)uVar6) goto LAB_BATTLE_BIN__801856ec;
    uVar2 = *(ushort *)&(TarBattlePtr->field0_0x0).MapY & 0xf00;
    if (uVar2 != 0x300) {
      if (uVar2 == 0x100) {
        CurrentAbilityData.FaceEvMod = 2;
      }
      goto LAB_BATTLE_BIN__801856ec;
    }
  }
  else if ((uVar3 & 0xff) < (uVar1 & 0xff)) {
    CurrentAbilityData.FaceEvMod = bVar4;
    if (0 < (int)uVar5) {
      uVar2 = *(ushort *)&(TarBattlePtr->field0_0x0).MapY;
      if ((uVar2 & 0xf00) == 0) {
        CurrentAbilityData.FaceEvMod = 0;
      }
      else if ((uVar2 & 0xf00) == 0x200) {
        CurrentAbilityData.FaceEvMod = 2;
      }
    }
    if (-1 < (int)uVar5) goto LAB_BATTLE_BIN__801856ec;
    uVar2 = *(ushort *)&(TarBattlePtr->field0_0x0).MapY;
    if ((uVar2 & 0xf00) != 0x200) {
      if ((uVar2 & 0xf00) == 0) {
        CurrentAbilityData.FaceEvMod = 2;
      }
      goto LAB_BATTLE_BIN__801856ec;
    }
  }
  else if ((((((int)uVar6 < 1) || ((*(ushort *)&(TarBattlePtr->field0_0x0).MapY & 0xf00) != 0x100))
            && ((-1 < (int)uVar6 || ((*(ushort *)&(TarBattlePtr->field0_0x0).MapY & 0xf00) != 0x300)
                ))) &&
           (((int)uVar5 < 1 || ((*(ushort *)&(TarBattlePtr->field0_0x0).MapY & 0xf00) != 0)))) &&
          ((-1 < (int)uVar5 || ((*(ushort *)&(TarBattlePtr->field0_0x0).MapY & 0xf00) != 0x200)))) {
    if ((uVar6 == 0) && (uVar5 == 0)) {
      CurrentAbilityData.FaceEvMod = 2;
    }
    goto LAB_BATTLE_BIN__801856ec;
  }
  CurrentAbilityData.FaceEvMod = 0;
LAB_BATTLE_BIN__801856ec:
  if (CurrentAbilityData.FaceEvMod != 0) {
    CurrentAbilityData.CEv = 0;
  }
  if (CurrentAbilityData.FaceEvMod == 2) {
    CurrentAbilityData.RHEv = 0;
    CurrentAbilityData.LHEv = 0;
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x801857b4)
// WARNING: Removing unreachable block (ram,0x801857f4)

void FUN_BATTLE_BIN__80185738(void)

{
  int iVar1;
  int iVar2;
  
  if (PrimaryItemData[CurrentAbilityData.UsedItem3].ItemType - 0xb < 2) {
    iVar1 = FUN_BATTLE_BIN__8013b590(0x23);
    iVar2 = FUN_BATTLE_BIN__8013b590(0x24);
    if (iVar2 == 1) {
      CurrentAbilityData.BaseHitRate = (byte)((int)((uint)CurrentAbilityData.BaseHitRate * 3) >> 2);
    }
    if (iVar1 - 3U < 2) {
      CurrentAbilityData.BaseHitRate = (byte)((int)((uint)CurrentAbilityData.BaseHitRate * 3) >> 2);
    }
  }
  return;
}



void FUN_BATTLE_BIN__80185814(void)

{
  short sVar1;
  undefined2 uVar2;
  byte *pbVar3;
  int iVar4;
  ItemID IVar5;
  uint uVar6;
  
  if ((CurrentAbilityData.UsedAbility2 != None) &&
     ((CurrentAbilityData.CurrentAbilityFuncData._6_1_ & 2) == 0)) {
    return;
  }
  uVar6 = (uint)CurrentAbilityData.BaseHitRate;
  if (((CurrentAbilityData.AccEv < uVar6) && (CurrentAbilityData.RHEv < uVar6)) &&
     (CurrentAbilityData.LHEv < uVar6)) {
    if (CurrentAbilityData.CEv < uVar6) {
      sVar1._0_1_ = TarCurActPtr->Hit_;
      sVar1._1_1_ = TarCurActPtr->field60_0x2b;
      uVar2 = (undefined2)
              ((((((int)((uVar6 - CurrentAbilityData.AccEv) * 100) / (int)uVar6) *
                  ((int)((uVar6 - CurrentAbilityData.RHEv) * 100) / (int)uVar6) *
                  ((int)((uVar6 - CurrentAbilityData.LHEv) * 100) / (int)uVar6) *
                 ((int)((uVar6 - CurrentAbilityData.CEv) * 100) / (int)uVar6)) / 1000000) *
               (int)sVar1) / 100);
      pbVar3 = &TarCurActPtr->field60_0x2b;
      TarCurActPtr->Hit_ = (char)uVar2;
      *pbVar3 = (char)((ushort)uVar2 >> 8);
      goto LAB_BATTLE_BIN__801859d4;
    }
  }
  TarCurActPtr->HitFlag = false;
  pbVar3 = &TarCurActPtr->field60_0x2b;
  TarCurActPtr->Hit_ = 0;
  *pbVar3 = 0;
LAB_BATTLE_BIN__801859d4:
  iVar4 = FUN_BATTLE_BIN__801848d8
                    ((uint)CurrentAbilityData.AccEv,uVar6,1,(TarBattlePtr->field0_0x0).Accessory);
  if (iVar4 == 0) {
    IVar5 = (TarBattlePtr->field0_0x0).RHWeapon;
    if (IVar5 == NONE_ENTD) {
      IVar5 = (TarBattlePtr->field0_0x0).RHShield;
    }
    iVar4 = FUN_BATTLE_BIN__801848d8((uint)CurrentAbilityData.RHEv,uVar6,2,IVar5);
    if (iVar4 == 0) {
      IVar5 = (TarBattlePtr->field0_0x0).LHWeapon;
      if (IVar5 == NONE_ENTD) {
        IVar5 = (TarBattlePtr->field0_0x0).LHShield;
      }
      iVar4 = FUN_BATTLE_BIN__801848d8((uint)CurrentAbilityData.LHEv,uVar6,3,IVar5);
      if (iVar4 == 0) {
        FUN_BATTLE_BIN__801848d8((uint)CurrentAbilityData.CEv,uVar6,4,0xff);
      }
    }
  }
  return;
}



void FUN_BATTLE_BIN__80185a9c(void)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  ushort uVar6;
  uint uVar7;
  
  uVar4 = (uint)PrimaryItemData[CurrentAbilityData.UsedItem3].ItemType;
  bVar1 = (CasBattlePtr->field0_0x0).PA;
  uVar7 = (uint)bVar1;
  bVar2 = (CasBattlePtr->field0_0x0).MA;
  uVar5 = (uint)(CasBattlePtr->field0_0x0).Brave;
  uVar6 = (ushort)bVar1;
  if (uVar4 == 0) {
    uVar4 = (uVar5 * uVar7) / 100;
    CurrentAbilityData.UnitPower = (short)uVar4;
    if (uVar4 == 0) {
      CurrentAbilityData.AbPower = uVar6;
      CurrentAbilityData.UnitPower = CurrentAbilityData.UnitPower + 1;
      return;
    }
    CurrentAbilityData.AbPower = uVar6;
    return;
  }
  CurrentAbilityData.UnitPower = (short)CurrentAbilityData.CurrentWeaponFuncData.WeaponPower;
  if (uVar4 == 3) {
    CurrentAbilityData.AbPower = uVar6;
    return;
  }
  if (uVar4 == 0xb) {
    CurrentAbilityData.AbPower = uVar6;
    return;
  }
  if (uVar4 != 7) {
    if (uVar4 == 0xf) {
      CurrentAbilityData.AbPower = uVar6;
      return;
    }
    if (((uVar4 - 1 < 2) || (uVar4 == 0xc)) || (uVar4 == 0x20)) {
      bVar2 = (CasBattlePtr->field0_0x0).SP;
    }
    else {
      if (uVar4 - 4 < 2) {
        uVar4 = (uVar5 * uVar7) / 100;
        CurrentAbilityData.AbPower = (short)uVar4;
        if (uVar4 == 0) {
          CurrentAbilityData.AbPower = CurrentAbilityData.AbPower + 1;
          return;
        }
        return;
      }
      if ((uVar4 == 8) || (uVar4 == 0x10)) {
        CurrentAbilityData.AbPower = (ushort)bVar2;
        return;
      }
      if (((uVar4 == 6) || (uVar4 == 9)) || (uVar4 == 0x11)) {
        iVar3 = FUN_BATTLE_BIN__8018eea0();
        iVar3 = uVar7 * iVar3;
        if (iVar3 < 0) {
          iVar3 = iVar3 + 0x7fff;
        }
        CurrentAbilityData.AbPower = (short)(iVar3 >> 0xf) + 1;
        return;
      }
      if ((1 < uVar4 - 0xd) && (uVar4 != 0x12)) {
        return;
      }
    }
    CurrentAbilityData.AbPower = (short)((int)(uVar7 + bVar2) >> 1);
    return;
  }
  CurrentAbilityData.AbPower = uVar6;
  return;
}



void FUN_BATTLE_BIN__80185c94(void)

{
  CurrentAbilityData.UnitPower = (ushort)CurrentAbilityData.CurrentAbilityFuncData.Y;
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).MA;
  return;
}



void FUN_BATTLE_BIN__80185cc0(void)

{
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).MA;
  CurrentAbilityData.UnitPower =
       (short)((int)((uint)(CasBattlePtr->field0_0x0).MA +
                    (uint)CurrentAbilityData.CurrentAbilityFuncData.Y) >> 1);
  return;
}



void FUN_BATTLE_BIN__80185d00(void)

{
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).PA;
  CurrentAbilityData.UnitPower =
       (short)((int)((uint)(CasBattlePtr->field0_0x0).PA +
                    (uint)CurrentAbilityData.CurrentAbilityFuncData.Y) >> 1);
  return;
}



void FUN_BATTLE_BIN__80185d40(void)

{
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).MA;
  CurrentAbilityData.UnitPower =
       (short)((int)((uint)(CasBattlePtr->field0_0x0).PA +
                    (uint)CurrentAbilityData.CurrentAbilityFuncData.Y) >> 1);
  return;
}



void FUN_BATTLE_BIN__80185d80(void)

{
  CurrentAbilityData.UnitPower = (ushort)CurrentAbilityData.CurrentAbilityFuncData.X;
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).MA;
  return;
}



void FUN_BATTLE_BIN__80185dac(void)

{
  CurrentAbilityData.UnitPower = (ushort)CurrentAbilityData.CurrentAbilityFuncData.X;
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).PA;
  return;
}



void FUN_BATTLE_BIN__80185dd8(void)

{
  CurrentAbilityData.UnitPower = (ushort)CurrentAbilityData.CurrentWeaponFuncData.WeaponPower;
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).PA;
  return;
}



void FUN_BATTLE_BIN__80185e04(void)

{
  CurrentAbilityData.UnitPower = (ushort)CurrentAbilityData.CurrentAbilityFuncData.Y;
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).PA;
  return;
}



void FUN_BATTLE_BIN__80185e30(void)

{
  CurrentAbilityData.UnitPower = (ushort)CurrentAbilityData.CurrentAbilityFuncData.X;
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).SP;
  return;
}



void FUN_BATTLE_BIN__80185e5c(void)

{
  CurrentAbilityData.UnitPower =
       (ushort)CurrentAbilityData.CurrentWeaponFuncData.WeaponPower +
       (ushort)CurrentAbilityData.CurrentAbilityFuncData.Y;
  CurrentAbilityData.AbPower = (ushort)(CasBattlePtr->field0_0x0).PA;
  return;
}



void FUN_BATTLE_BIN__80185e94(void)

{
  uint uVar1;
  
  if (PrimaryItemData[CurrentAbilityData.UsedItem3].ItemType == 0xf) {
    CurrentAbilityData.AbPower = (short)((int)((uint)(CasBattlePtr->field0_0x0).PA * 3) >> 1);
  }
  else {
    CurrentAbilityData.AbPower = (short)(CasBattlePtr->field0_0x0).PA;
  }
  if (PrimaryItemData[CurrentAbilityData.UsedItem3].ItemType == 0) {
    uVar1 = ((int)CurrentAbilityData.AbPower * (uint)(CasBattlePtr->field0_0x0).Brave) / 100;
    CurrentAbilityData.UnitPower = (short)uVar1;
    if (uVar1 == 0) {
      CurrentAbilityData.UnitPower = CurrentAbilityData.UnitPower + 1;
    }
  }
  else {
    CurrentAbilityData.UnitPower = (short)CurrentAbilityData.CurrentWeaponFuncData.WeaponPower;
  }
  return;
}



void FUN_BATTLE_BIN__80185f80(void)

{
  CurrentAbilityData.AbPower = (ushort)CurrentAbilityData.ChargePower + CurrentAbilityData.AbPower;
  return;
}



void FUN_BATTLE_BIN__80185fa4(void)

{
  int iVar1;
  
  if (((CasBattlePtr->field0_0x0).BoostElem & CurrentAbilityData.CurrentWeaponFuncData._6_1_) != 0)
  {
    iVar1 = CurrentAbilityData.AbPower * 5;
    if (iVar1 < 0) {
      iVar1 = iVar1 + 3;
    }
    CurrentAbilityData.AbPower = (short)(iVar1 >> 2);
  }
  return;
}



void FUN_BATTLE_BIN__80185ffc(void)

{
  int iVar1;
  
  if (((CasBattlePtr->field0_0x0).BoostElem & CurrentAbilityData.CurrentAbilityFuncData.Element) !=
      0) {
    iVar1 = CurrentAbilityData.AbPower * 5;
    if (iVar1 < 0) {
      iVar1 = iVar1 + 3;
    }
    CurrentAbilityData.AbPower = (short)(iVar1 >> 2);
  }
  return;
}



void FUN_BATTLE_BIN__80186054(void)

{
  if ((((CurrentAbilityData.CurrentWeaponFuncData._1_1_ & 1) == 0) &&
      ((CurrentAbilityData.CurrentWeaponFuncData._1_1_ & 4) != 0)) && (CurrentAbilityData._hands)) {
    CurrentAbilityData.AbPower = (short)((int)CurrentAbilityData.AbPower << 1);
  }
  if ((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 1) & 0x10) != 0) {
    CurrentAbilityData.AbPower =
         (short)((ulonglong)((longlong)((int)CurrentAbilityData.AbPower << 2) * 0x55555556) >> 0x20)
         - (short)(((int)CurrentAbilityData.AbPower << 2) >> 0x1f);
  }
  if ((CurrentAbilityData.UsedItem3 == None) &&
     ((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 2) & 0x20) != 0)) {
    CurrentAbilityData.AbPower = (short)((CurrentAbilityData.AbPower * 3) / 2);
  }
  return;
}



void FUN_BATTLE_BIN__8018614c(void)

{
  if ((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 1) & 0x10) != 0) {
    CurrentAbilityData.AbPower =
         (short)((ulonglong)((longlong)((int)CurrentAbilityData.AbPower << 2) * 0x55555556) >> 0x20)
         - (short)(((int)CurrentAbilityData.AbPower << 2) >> 0x1f);
  }
  if (((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 2) & 0x20) != 0) &&
     (PrimaryItemData[CurrentAbilityData.UsedItem3].ItemType == 0)) {
    CurrentAbilityData.AbPower = (short)((CurrentAbilityData.AbPower * 3) / 2);
  }
  return;
}



void FUN_BATTLE_BIN__80186204(void)

{
  if ((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 1) & 4) != 0) {
    CurrentAbilityData.AbPower =
         (short)((ulonglong)((longlong)((int)CurrentAbilityData.AbPower << 2) * 0x55555556) >> 0x20)
         - (short)(((int)CurrentAbilityData.AbPower << 2) >> 0x1f);
  }
  return;
}



void FUN_BATTLE_BIN__80186254(void)

{
  if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 8) != 0) {
    CurrentAbilityData.AbPower = (short)((CurrentAbilityData.AbPower * 3) / 2);
  }
  if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 2) != 0) {
    CurrentAbilityData.AbPower = 1;
  }
  return;
}



void FUN_BATTLE_BIN__801862cc(void)

{
  if ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Supports + 1) & 8) != 0) {
    CurrentAbilityData.AbPower =
         (short)((ulonglong)((longlong)((int)CurrentAbilityData.AbPower << 1) * 0x55555556) >> 0x20)
         - (short)(((int)CurrentAbilityData.AbPower << 1) >> 0x1f);
  }
  return;
}



void FUN_BATTLE_BIN__8018631c(void)

{
  if ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Supports + 1) & 2) != 0) {
    CurrentAbilityData.AbPower =
         (short)((ulonglong)((longlong)((int)CurrentAbilityData.AbPower << 1) * 0x55555556) >> 0x20)
         - (short)(((int)CurrentAbilityData.AbPower << 1) >> 0x1f);
  }
  return;
}



void FUN_BATTLE_BIN__8018636c(void)

{
  if (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x3 & 0x20) != 0) {
    CurrentAbilityData.AbPower =
         (short)((ulonglong)((longlong)((int)CurrentAbilityData.AbPower << 1) * 0x55555556) >> 0x20)
         - (short)(((int)CurrentAbilityData.AbPower << 1) >> 0x1f);
  }
  if ((((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x10) != 0) ||
     ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 8) != 0)) {
    CurrentAbilityData.AbPower = (short)((CurrentAbilityData.AbPower * 3) / 2);
  }
  if (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 6) != 0) {
    CurrentAbilityData.AbPower = (short)((CurrentAbilityData.AbPower * 3) / 2);
  }
  return;
}



void FUN_BATTLE_BIN__80186460(void)

{
  if (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x3 & 0x10) != 0) {
    CurrentAbilityData.AbPower =
         (short)((ulonglong)((longlong)((int)CurrentAbilityData.AbPower << 1) * 0x55555556) >> 0x20)
         - (short)(((int)CurrentAbilityData.AbPower << 1) >> 0x1f);
  }
  if (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 6) != 0) {
    CurrentAbilityData.AbPower = (short)((CurrentAbilityData.AbPower * 3) / 2);
  }
  return;
}



void FUN_BATTLE_BIN__801864f8(void)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  
  bVar1 = FUN_BATTLE_BIN__8018eed8(100,4);
  if (CONCAT31(extraout_var,bVar1) == 0) {
    TarCurActPtr->CritFlag = true;
    iVar2 = FUN_BATTLE_BIN__8018eea0();
    iVar2 = iVar2 * CurrentAbilityData.AbPower;
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0x7fff;
    }
    CurrentAbilityData.AbPower = CurrentAbilityData.AbPower + (short)(iVar2 >> 0xf);
    FUN_BATTLE_BIN__801843ec();
  }
  return;
}



void FUN_BATTLE_BIN__80186568(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  
  pCVar2 = TarCurActPtr;
  sVar1 = CurrentAbilityData.AbPower * CurrentAbilityData.UnitPower;
  TarCurActPtr->field_0x25 = 0x80;
  pCVar2->HPDamage = sVar1;
  return;
}



void FUN_BATTLE_BIN__8018659c(void)

{
  short sVar1;
  
  sVar1 = CurrentAbilityData.AbPower;
  if (CurrentAbilityData.UsedAbility2 != Golem) {
    CurrentAbilityData.AbPower = CurrentAbilityData.UnitPower;
    FUN_BATTLE_BIN__80184964();
    CurrentAbilityData.UnitPower = CurrentAbilityData.AbPower;
  }
  CurrentAbilityData.AbPower = sVar1;
  TarCurActPtr->HPDamage = sVar1 + CurrentAbilityData.UnitPower;
  return;
}



void FUN_BATTLE_BIN__80186624(void)

{
  ushort uVar1;
  CurActionUnitData *pCVar2;
  uint uVar3;
  
  pCVar2 = TarCurActPtr;
  uVar1 = (TarBattlePtr->field0_0x0).MaxHP;
  uVar3 = (uint)CurrentAbilityData.CurrentAbilityFuncData.Y;
  TarCurActPtr->field_0x25 = TarCurActPtr->field_0x25 | 0x80;
  pCVar2->HPDamage = (short)((uVar1 * uVar3 + 99) / 100);
  return;
}



void FUN_BATTLE_BIN__8018668c(void)

{
  ushort uVar1;
  CurActionUnitData *pCVar2;
  uint uVar3;
  
  pCVar2 = TarCurActPtr;
  uVar1 = (TarBattlePtr->field0_0x0).MaxMP;
  uVar3 = (uint)CurrentAbilityData.CurrentAbilityFuncData.Y;
                    // Possible PsyQ macro: setPolyF3()
  TarCurActPtr->field_0x25 = 0x20;
  pCVar2->MPDamage = (short)((uVar1 * uVar3 + 99) / 100);
  return;
}



void FUN_BATTLE_BIN__801866ec(void)

{
  if ((TarBattlePtr->field0_0x0).HP == 0) {
    TarCurActPtr->HPDamage = 0;
  }
  else {
    TarCurActPtr->HPDamage = (TarBattlePtr->field0_0x0).HP - 1;
  }
  TarCurActPtr->field_0x25 = 0x80;
  return;
}



void FUN_BATTLE_BIN__80186744(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  CurActionUnitData *pCVar3;
  int iVar4;
  int iVar5;
  
  iVar5 = (uint)(CasBattlePtr->field0_0x0).SP * (uint)(CasBattlePtr->field0_0x0).Level;
  if ((((TarBattlePtr->field0_0x0).field_0x5 & 0x30) == 0) &&
     (iVar4 = FUN_BATTLE_BIN__8013b590(0x2c), iVar4 < iVar5)) {
    iVar5 = iVar4;
  }
  pCVar2 = CasCurActPtr;
  if (iVar5 == 0) {
    FUN_BATTLE_BIN__8018430c();
  }
  else {
    CasCurActPtr->HitFlag = true;
    pCVar3 = CasCurActPtr;
    pCVar2->GilLost = (short)iVar5;
    pCVar3->field_0x25 = 1;
    pCVar2 = TarCurActPtr;
    sVar1 = CasCurActPtr->GilLost;
    TarCurActPtr->field_0x25 = 1;
    pCVar2->GilLost = -sVar1;
  }
  return;
}



void FUN_BATTLE_BIN__80186814(void)

{
  byte bVar1;
  byte bVar2;
  
  bVar2 = (CasBattlePtr->field0_0x0).SP + CurrentAbilityData.CurrentAbilityFuncData.Y;
  if (100 < bVar2) {
    bVar2 = 100;
  }
  bVar1 = (TarBattlePtr->field0_0x0).Exp;
  if (bVar1 < bVar2) {
    bVar2 = bVar1;
  }
  if (bVar2 == 0) {
    FUN_BATTLE_BIN__8018430c();
  }
  else {
    CasCurActPtr->StolenEXP = bVar2;
    CasCurActPtr->HitFlag = true;
    CasCurActPtr->field_0x25 = 1;
    TarCurActPtr->StolenEXP = bVar2 + 0x80;
    TarCurActPtr->field_0x25 = 1;
  }
  return;
}



void FUN_BATTLE_BIN__8018691c(void)

{
  CurActionUnitData *pCVar1;
  bool bVar2;
  short sVar3;
  int iVar4;
  undefined3 extraout_var;
  
  iVar4 = FUN_BATTLE_BIN__8018eea0();
  pCVar1 = TarCurActPtr;
  iVar4 = iVar4 * (uint)CurrentAbilityData.CurrentAbilityFuncData.Y;
  if (iVar4 < 0) {
    iVar4 = iVar4 + 0x7fff;
  }
  sVar3 = ((short)(iVar4 >> 0xf) + 1) * CurrentAbilityData.AbPower;
  TarCurActPtr->field_0x25 = 0x80;
  bVar2 = DAT_BATTLE_BIN__8018f5fc == 0;
  pCVar1->HPDamage = sVar3;
  if (bVar2) {
    iVar4 = FUN_BATTLE_BIN__8018eea0();
    iVar4 = iVar4 * (uint)(CasBattlePtr->field0_0x0).Brave;
    if (iVar4 < 0) {
      iVar4 = iVar4 + 0x7fff;
    }
    bVar2 = PassFail_Roll((uint)(TarBattlePtr->field0_0x0).Brave,iVar4 >> 0xf);
    if (CONCAT31(extraout_var,bVar2) == 0) {
      FUN_BATTLE_BIN__801843ec();
    }
  }
  return;
}



void FUN_BATTLE_BIN__801869ec(void)

{
  CurActionUnitData *pCVar1;
  
  pCVar1 = TarCurActPtr;
  switch(CurrentAbilityData.UsedAbility2) {
  case AngelSong:
    TarCurActPtr->MPRecovery = CurrentAbilityData.AbPower + CurrentAbilityData.UnitPower;
    pCVar1->field_0x25 = 0x10;
    return;
  case LifeSong:
    TarCurActPtr->HPRecovery = CurrentAbilityData.AbPower + CurrentAbilityData.UnitPower;
    pCVar1->field_0x25 = 0x40;
    return;
  case CheerSong:
    TarCurActPtr->field_0x12 = 0x81;
    break;
  case BattleSong:
    TarCurActPtr->field_0x14 = 0x81;
    break;
  case MagicSong:
    TarCurActPtr->field_0x15 = 0x81;
    break;
  case NamelessSong:
    _8_InflictStatus();
    return;
  case LastSong:
    TarCurActPtr->field_0x13 = 0xff;
  }
  TarCurActPtr->field_0x25 = 1;
  return;
}



void FUN_BATTLE_BIN__80186af8(void)

{
  CurActionUnitData *pCVar1;
  
  pCVar1 = TarCurActPtr;
  switch(CurrentAbilityData.UsedAbility2) {
  case WitchHunt:
    TarCurActPtr->MPDamage = CurrentAbilityData.AbPower + CurrentAbilityData.UnitPower;
    pCVar1->field_0x25 = 0x20;
    return;
  case Wiznaibus:
    TarCurActPtr->HPDamage = CurrentAbilityData.AbPower + CurrentAbilityData.UnitPower;
    pCVar1->field_0x25 = 0x80;
    return;
  case SlowDance:
    TarCurActPtr->field_0x12 = 1;
    break;
  case PolkaPolka:
    TarCurActPtr->field_0x14 = 1;
    break;
  case Disillusion:
    TarCurActPtr->field_0x15 = 1;
    break;
  case NamelessDance:
    _8_InflictStatus();
    return;
  case LastDance:
    TarCurActPtr->field_0x13 = 0x7f;
  }
  TarCurActPtr->field_0x25 = 1;
  return;
}



void FUN_BATTLE_BIN__80186c04(void)

{
  switch(CurrentAbilityData.UsedAbility2) {
  case Persuade:
    TarCurActPtr->field_0x13 = 0x7f;
    break;
  case Praise:
    TarCurActPtr->field_0x16 = CurrentAbilityData.CurrentAbilityFuncData.Y | 0x80;
    break;
  case Threaten:
    TarCurActPtr->field_0x16 = CurrentAbilityData.CurrentAbilityFuncData.Y & 0x7f;
    break;
  case Preach:
    TarCurActPtr->field_0x17 = CurrentAbilityData.CurrentAbilityFuncData.Y | 0x80;
    break;
  case Solution:
    TarCurActPtr->field_0x17 = CurrentAbilityData.CurrentAbilityFuncData.Y & 0x7f;
    break;
  default:
    _8_InflictStatus();
    return;
  case Negotiate:
    FUN_BATTLE_BIN__80186744();
    return;
  }
  TarCurActPtr->field_0x25 = 1;
  return;
}



void _B_Scream(void)

{
  byte bVar1;
  
  TarCurActPtr->field_0x16 = CurrentAbilityData.CurrentAbilityFuncData.X | 0x80;
  bVar1 = CurrentAbilityData.CurrentAbilityFuncData.Y | 0x80;
  TarCurActPtr->field_0x14 = bVar1;
  TarCurActPtr->field_0x15 = bVar1;
  TarCurActPtr->field_0x12 = bVar1;
  TarCurActPtr->field_0x25 = 1;
  return;
}



void _C_Wish(void)

{
  short sVar1;
  ushort uVar2;
  CurActionUnitData *pCVar3;
  
  pCVar3 = CasCurActPtr;
  uVar2 = (CasBattlePtr->field0_0x0).MaxHP;
  CasCurActPtr->field_0x25 = 0x80;
  pCVar3->HPDamage = uVar2 / 5;
  CasCurActPtr->HitFlag = true;
  pCVar3 = TarCurActPtr;
  sVar1 = CasCurActPtr->HPDamage;
  TarCurActPtr->field_0x25 = 0x40;
  pCVar3->HPRecovery = (short)((int)sVar1 << 1);
  return;
}



void _3_RevengeDMG(void)

{
  ushort uVar1;
  ushort uVar2;
  CurActionUnitData *pCVar3;
  
  pCVar3 = TarCurActPtr;
  uVar1 = (CasBattlePtr->field0_0x0).MaxHP;
  uVar2 = (CasBattlePtr->field0_0x0).HP;
  TarCurActPtr->field_0x25 = 0x80;
  pCVar3->HPDamage = uVar1 - uVar2;
  return;
}



void FUN_BATTLE_BIN__80186ea4(void)

{
  TarCurActPtr->field_0x16 = CurrentAbilityData.CurrentAbilityFuncData.Y & 0x7f;
  TarCurActPtr->field_0x25 = 1;
  return;
}



void FUN_BATTLE_BIN__80186ed0(void)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  
  bVar1 = CurrentAbilityData.CurrentAbilityFuncData.Element;
  iVar2 = FUN_BATTLE_BIN__8018e660();
  if (iVar2 - 3U < 2) {
    if ((bVar1 & 0x80) != 0) {
      iVar3 = TarCurActPtr->HPDamage * 3;
      if (iVar3 < 0) {
        iVar3 = iVar3 + 3;
      }
      TarCurActPtr->HPDamage = (short)(iVar3 >> 2);
    }
    if ((bVar1 & 0x40) != 0) {
      iVar3 = TarCurActPtr->HPDamage * 5;
      if (iVar3 < 0) {
        iVar3 = iVar3 + 3;
      }
      TarCurActPtr->HPDamage = (short)(iVar3 >> 2);
    }
  }
  if ((iVar2 - 6U < 2) && ((bVar1 & 0x20) != 0)) {
    iVar2 = TarCurActPtr->HPDamage * 5;
    if (iVar2 < 0) {
      iVar2 = iVar2 + 3;
    }
    TarCurActPtr->HPDamage = (short)(iVar2 >> 2);
  }
  return;
}



void FUN_BATTLE_BIN__80186fd0(void)

{
  FUN_BATTLE_BIN__80184e98(CurrentAbilityData.CurrentWeaponFuncData._6_1_);
  return;
}



void FUN_BATTLE_BIN__80186ff8(void)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  BattleUnitData *pBVar4;
  
  bVar2 = CurrentAbilityData.CurrentAbilityFuncData.Element;
  if ((((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 0x80) != 0) &&
     ((CurrentAbilityData.CurrentAbilityFuncData.Element & 0x80) != 0)) {
    CurrentAbilityData.AbPower = (short)((int)CurrentAbilityData.AbPower << 1);
    (TarCurActPtr->StatusRemoval).field_0x2 = (TarCurActPtr->StatusRemoval).field_0x2 | 0x80;
    iVar3 = FUN_BATTLE_BIN__80184b24(0);
    if (iVar3 != 0) {
      TarCurActPtr->field_0x25 = 8;
    }
  }
  bVar1 = (TarBattlePtr->field1_0x16e).field_0x14;
  pBVar4 = TarBattlePtr;
  if ((bVar1 & 0x80) != 0) {
    pBVar4 = UnitBattleData + (bVar1 & 0x1f);
  }
  if ((((pBVar4->field0_0x0).CurrentStatuses.field_0x2 & 0x40) != 0) && ((bVar2 & 8) != 0)) {
    FUN_BATTLE_BIN__80184e40();
    TarCurActPtr->EvadeType = 7;
  }
  FUN_BATTLE_BIN__80184e98(bVar2);
  return;
}



void FUN_BATTLE_BIN__801870fc(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  
  pCVar2 = TarCurActPtr;
  if (TarCurActPtr->EvadeType != 5) {
    if ((*(ushort *)&TarCurActPtr->field_0x10 & 0x400) == 0) {
      TarCurActPtr->field_0x25 = 0x80;
    }
    else {
      sVar1 = TarCurActPtr->HPDamage;
      TarCurActPtr->HPDamage = 0;
      pCVar2->field_0x25 = 0x40;
      pCVar2->HPRecovery = sVar1;
    }
  }
  return;
}



void FUN_BATTLE_BIN__80187150(void)

{
  if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x80) != 0) {
    CurrentAbilityData.CasEffectiveFaith = 100;
  }
  if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x40) != 0) {
    CurrentAbilityData.CasEffectiveFaith = 0;
  }
  if (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x80) != 0) {
    CurrentAbilityData.TarEffectiveFaith = 100;
  }
  if (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x40) != 0) {
    CurrentAbilityData.TarEffectiveFaith = 0;
  }
  TarCurActPtr->HPDamage =
       (short)((int)((int)TarCurActPtr->HPDamage * (uint)CurrentAbilityData.TarEffectiveFaith *
                    (uint)CurrentAbilityData.CasEffectiveFaith) / 10000);
  return;
}



void FUN_BATTLE_BIN__80187248(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  
  if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x10) == 0) {
    FUN_BATTLE_BIN__8018ba44();
    pCVar2 = CasCurActPtr;
    if (TarCurActPtr->HitFlag != false) {
      CasCurActPtr->HPRecovery = TarCurActPtr->HPDamage;
      pCVar2->field_0x25 = 0x40;
      CasCurActPtr->HitFlag = true;
      TarCurActPtr->field_0x25 = 0x80;
    }
  }
  else {
    FUN_BATTLE_BIN__8018ba44();
    pCVar2 = CasCurActPtr;
    if (TarCurActPtr->HitFlag != false) {
      CasCurActPtr->HPDamage = TarCurActPtr->HPDamage;
      pCVar2->field_0x25 = 0x80;
      CasCurActPtr->HitFlag = true;
      pCVar2 = TarCurActPtr;
      sVar1 = TarCurActPtr->HPDamage;
      TarCurActPtr->HPDamage = 0;
      pCVar2->field_0x25 = 0x40;
      pCVar2->HPRecovery = sVar1;
    }
  }
  return;
}



void FUN_BATTLE_BIN__80187350(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  CurActionUnitData *pCVar3;
  
  pCVar2 = TarCurActPtr;
  if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x10) == 0) {
    TarCurActPtr->field_0x25 = TarCurActPtr->field_0x25 & 0x7f;
    pCVar3 = TarCurActPtr;
    sVar1 = pCVar2->HPDamage;
    pCVar2->HPDamage = 0;
    pCVar2->HPRecovery = sVar1;
    pCVar3->field_0x25 = pCVar3->field_0x25 | 0x40;
  }
  else {
    TarCurActPtr->field_0x25 = 0x80;
    DAT_BATTLE_BIN__80193860 = 0;
  }
  return;
}



void FUN_BATTLE_BIN__801873d8(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  CurActionUnitData *pCVar3;
  
  pCVar2 = TarCurActPtr;
  if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x10) == 0) {
    if ((*(byte *)&(TarBattlePtr->field0_0x0).ImmuneStatuses & 0x20) == 0) {
      TarCurActPtr->field_0x25 = 0x80;
    }
    else {
      FUN_BATTLE_BIN__8018430c();
    }
  }
  else {
    TarCurActPtr->field_0x25 = 0x40;
    pCVar3 = TarCurActPtr;
    sVar1 = pCVar2->HPDamage;
    pCVar2->HPDamage = 0;
    pCVar2->HPRecovery = sVar1;
    *(undefined *)&pCVar3->StatusInfliction = 0;
  }
  return;
}



void FUN_BATTLE_BIN__8018746c(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  
  pCVar2 = TarCurActPtr;
  sVar1 = TarCurActPtr->HPDamage;
  TarCurActPtr->HPDamage = 0;
  pCVar2->field_0x25 = 0x20;
  pCVar2->MPDamage = sVar1;
  FUN_BATTLE_BIN__8018ba44();
  pCVar2 = CasCurActPtr;
  if (TarCurActPtr->HitFlag != false) {
    CasCurActPtr->MPRecovery = TarCurActPtr->MPDamage;
    pCVar2->field_0x25 = 0x10;
    CasCurActPtr->HitFlag = true;
  }
  return;
}



void FUN_BATTLE_BIN__801874ec(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  
  pCVar2 = TarCurActPtr;
  sVar1 = TarCurActPtr->HPDamage;
  TarCurActPtr->HPDamage = 0;
  pCVar2->field_0x25 = 0x10;
  pCVar2->MPRecovery = sVar1;
  return;
}



void FUN_BATTLE_BIN__80187510(void)

{
  short sVar1;
  undefined2 uVar2;
  int iVar3;
  CurActionUnitData *pCVar4;
  bool bVar5;
  undefined3 extraout_var;
  int iVar6;
  
  pCVar4 = TarCurActPtr;
  iVar3 = DAT_BATTLE_BIN__8018f5fc;
  iVar6 = (int)TarCurActPtr->HPDamage;
  if (iVar6 < 100) {
    sVar1._0_1_ = TarCurActPtr->Hit_;
    sVar1._1_1_ = TarCurActPtr->field60_0x2b;
    TarCurActPtr->HPDamage = 0;
    uVar2 = (undefined2)((iVar6 * sVar1) / 100);
    pCVar4->Hit_ = (char)uVar2;
    pCVar4->field60_0x2b = (char)((ushort)uVar2 >> 8);
    if (((iVar3 == 0) || (iVar6 == 0)) &&
       (bVar5 = PassFail_Roll(100,iVar6), CONCAT31(extraout_var,bVar5) != 0)) {
      FUN_BATTLE_BIN__8018433c();
      TarCurActPtr->HPDamage = 0;
    }
  }
  else {
    TarCurActPtr->HPDamage = 0;
  }
  return;
}



void FUN_BATTLE_BIN__801875bc(void)

{
  if (1 < (TarBattlePtr->field0_0x0).Graphic - 0xf) {
    FUN_BATTLE_BIN__8018430c();
  }
  return;
}



void FUN_BATTLE_BIN__801875fc(void)

{
  if (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x10) != 0) {
    FUN_BATTLE_BIN__8018430c();
  }
  return;
}



void FUN_BATTLE_BIN__80187638(void)

{
  byte *pbVar1;
  
  if ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Supports + 2) & 4) != 0) {
    TarCurActPtr->HitFlag = false;
    TarCurActPtr->EvadeType = 7;
    pbVar1 = &TarCurActPtr->field60_0x2b;
    TarCurActPtr->Hit_ = 0;
    *pbVar1 = 0;
  }
  return;
}



void FUN_BATTLE_BIN__80187690(void)

{
  bool bVar1;
  undefined3 extraout_var;
  
  if ((DAT_BATTLE_BIN__8018f5fc == 0) &&
     (bVar1 = PassFail_Roll(100,0x13), CONCAT31(extraout_var,bVar1) == 0)) {
    *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 | 0x200;
  }
  return;
}



void FUN_BATTLE_BIN__801876e4(void)

{
  CurrentAbilityData.CanPerformReaction = 1;
  CurrentAbilityData.ReactionID2 = (short)CurrentAbilityData.ProcID;
  CurrentAbilityData.PostActionTarID = CurrentAbilityData.TarID2;
  FUN_BATTLE_BIN__8018bd34();
  return;
}



void FUN_BATTLE_BIN__80187730(void)

{
  undefined uVar1;
  int iVar2;
  uint uVar3;
  
  uVar1 = CurrentAbilityData.CurrentWeaponFuncData._6_1_;
  iVar2 = FUN_BATTLE_BIN__8018eea0();
  uVar3 = iVar2 * 100;
  if ((int)uVar3 < 0) {
    uVar3 = uVar3 + 0x7fff;
  }
  if ((uVar1 & 0x80) == 0) {
    uVar3 = uVar3 >> 0xf & 0xff;
    if ((uVar1 & 0x40) == 0) {
      if (uVar3 < 10) {
        iVar2 = 0x1a;
      }
      else {
        iVar2 = 0x18;
        if (uVar3 < 0x28) {
          iVar2 = 0x19;
        }
      }
    }
    else if (uVar3 < 10) {
      iVar2 = 0x16;
    }
    else {
      iVar2 = 0x14;
      if (uVar3 < 0x28) {
        iVar2 = 0x15;
      }
    }
  }
  else {
    uVar3 = uVar3 >> 0xf & 0xff;
    if (uVar3 < 10) {
      iVar2 = 0x12;
    }
    else {
      iVar2 = 0x10;
      if (uVar3 < 0x28) {
        iVar2 = 0x11;
      }
    }
  }
  CurrentAbilityData.UsedAbility2 = (AbilityID)iVar2;
  (CasBattlePtr->field1_0x16e).AttackToUse = CurrentAbilityData.UsedAbility2;
  StoreArg1_IntoArg2_(&SecondaryAbilityData[iVar2].Range,
                      &CurrentAbilityData.CurrentAbilityFuncData.Range,0xe);
  return;
}



void FUN_BATTLE_BIN__8018783c(void)

{
  TarCurActPtr->field_0x13 = 0xff;
  TarCurActPtr->field_0x25 = 1;
  return;
}



void FUN_BATTLE_BIN__80187860(void)

{
  if ((CurrentAbilityData.UsedAbility2 == PowerBreak) ||
     (CurrentAbilityData.UsedAbility2 == PowerRuin)) {
    TarCurActPtr->field_0x14 = CurrentAbilityData.CurrentAbilityFuncData.X & 0x7f;
  }
  else if ((CurrentAbilityData.UsedAbility2 == MindBreak) ||
          (CurrentAbilityData.UsedAbility2 == MindRuin)) {
    TarCurActPtr->field_0x15 = CurrentAbilityData.CurrentAbilityFuncData.X & 0x7f;
  }
  else {
    if ((CurrentAbilityData.UsedAbility2 != SpeedBreak) &&
       (CurrentAbilityData.UsedAbility2 != SpeedRuin)) {
      return;
    }
    TarCurActPtr->field_0x12 = CurrentAbilityData.CurrentAbilityFuncData.X & 0x7f;
  }
  TarCurActPtr->field_0x25 = TarCurActPtr->field_0x25 | 1;
  return;
}



void FUN_BATTLE_BIN__80187910(void)

{
  bool bVar1;
  undefined3 extraout_var;
  
  if ((CasBattlePtr->field0_0x0).JobID != Mime) {
    CasCurActPtr->HitFlag = true;
    CasCurActPtr->ItemBreakID = (CasBattlePtr->field1_0x16e).UsedItem;
    CasCurActPtr->EvadeType = 8;
    if ((DAT_BATTLE_BIN__8018f5fc == 0) &&
       (bVar1 = PassFail_Roll(100,(uint)CurrentAbilityData.CurrentWeaponFuncData.WeaponPower),
       CONCAT31(extraout_var,bVar1) != 0)) {
      *(undefined2 *)&CasCurActPtr->field_0x10 = 8;
    }
    else {
      *(undefined2 *)&CasCurActPtr->field_0x10 = 0x1000;
    }
  }
  return;
}



undefined4 FUN_BATTLE_BIN__801879c8(void)

{
  undefined4 uVar1;
  ItemID IVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  TarCurActPtr->field_0x19 = 0xfe;
  if (((TarBattlePtr->field0_0x0).field_0x6 & 0x20) == 0) {
    if (((CurrentAbilityData.UsedAbility2 == HeadBreak) ||
        (CurrentAbilityData.UsedAbility2 == BlastarPunch)) ||
       (CurrentAbilityData.UsedAbility2 == StealHelmet)) {
      if ((TarBattlePtr->field0_0x0).Head == NONE_ENTD) goto LAB_BATTLE_BIN__80187c88;
      TarCurActPtr->field_0x19 = 0x80;
      IVar2 = (TarBattlePtr->field0_0x0).Head;
    }
    else if (((CurrentAbilityData.UsedAbility2 == ArmorBreak) ||
             (CurrentAbilityData.UsedAbility2 == ShellburstStab)) ||
            (CurrentAbilityData.UsedAbility2 == StealArmor)) {
      if ((TarBattlePtr->field0_0x0).Body == NONE_ENTD) goto LAB_BATTLE_BIN__80187c88;
      TarCurActPtr->field_0x19 = 0x40;
      IVar2 = (TarBattlePtr->field0_0x0).Body;
    }
    else {
      if ((CurrentAbilityData.UsedAbility2 != ShieldBreak) &&
         (CurrentAbilityData.UsedAbility2 != StealShield)) {
        if ((CurrentAbilityData.UsedAbility2 == IcewolfBite) ||
           (CurrentAbilityData.UsedAbility2 == StealAccessory)) {
          if ((TarBattlePtr->field0_0x0).Accessory != NONE_ENTD) {
            TarCurActPtr->field_0x19 = 0x20;
            IVar2 = (TarBattlePtr->field0_0x0).Accessory;
            goto LAB_BATTLE_BIN__80187c80;
          }
        }
        else {
          uVar5 = 0xffffffff;
          if (((CurrentAbilityData.UsedAbility2 == WeaponBreak) ||
              (CurrentAbilityData.UsedAbility2 == HellcryPunch)) ||
             (CurrentAbilityData.UsedAbility2 == StealWeapon)) {
            uVar3 = (uint)(TarBattlePtr->field0_0x0).RHWeapon;
            uVar4 = 0xffffffff;
            if (uVar3 != 0xff) {
              uVar4 = (uint)PrimaryItemData[uVar3].ReqLevel;
            }
            uVar3 = (uint)(TarBattlePtr->field0_0x0).LHWeapon;
            if (uVar3 != 0xff) {
              uVar5 = (uint)PrimaryItemData[uVar3].ReqLevel;
            }
            if ((uVar4 != 0xffffffff) || (uVar5 != 0xffffffff)) {
              if ((int)uVar4 < (int)uVar5) {
                TarCurActPtr->field_0x19 = 4;
                IVar2 = (TarBattlePtr->field0_0x0).LHWeapon;
              }
              else {
                TarCurActPtr->field_0x19 = 0x10;
                IVar2 = (TarBattlePtr->field0_0x0).RHWeapon;
              }
              goto LAB_BATTLE_BIN__80187c80;
            }
          }
        }
        goto LAB_BATTLE_BIN__80187c88;
      }
      if ((TarBattlePtr->field0_0x0).RHShield == NONE_ENTD) {
        if ((TarBattlePtr->field0_0x0).LHShield == NONE_ENTD) goto LAB_BATTLE_BIN__80187c88;
        TarCurActPtr->field_0x19 = 2;
        IVar2 = (TarBattlePtr->field0_0x0).LHShield;
      }
      else {
        TarCurActPtr->field_0x19 = 8;
        IVar2 = (TarBattlePtr->field0_0x0).RHShield;
      }
    }
LAB_BATTLE_BIN__80187c80:
    uVar1 = 0;
    TarCurActPtr->ItemBreakID = IVar2;
  }
  else {
LAB_BATTLE_BIN__80187c88:
    uVar1 = 0xffffffff;
    TarCurActPtr->field_0x19 = 0;
  }
  return uVar1;
}



void FUN_BATTLE_BIN__80187ca0(void)

{
  undefined *puVar1;
  CurActionUnitData *pCVar2;
  int iVar3;
  
  if (((((TarCurActPtr->field_0x25 & 0x80) != 0) &&
       (iVar3 = ((uint)(TarBattlePtr->field0_0x0).HP - (int)TarCurActPtr->HPDamage) +
                (int)TarCurActPtr->HPRecovery, ((TarBattlePtr->field0_0x0).field_0x6 & 0xc0) == 0))
      && ((*(short *)(&DAT_BATTLE_BIN__8018f5f4 +
                     (((byte)(TarBattlePtr->field2_0x18c).field_0x2e & 0x30) >> 3)) == 0 ||
          ((CurrentAbilityData.CurrentAbilityFuncData._5_1_ & 8) == 0)))) &&
     (((*(ushort *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x8020) == 0 &&
      (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x3 & 1) == 0)))) {
    if (((iVar3 < 1) || ((*(byte *)&TarCurActPtr->StatusInfliction & 0x20) != 0)) &&
       (((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 2) & 0x40) != 0 &&
        (((TarBattlePtr->field0_0x0).field_0x5 & 4) == 0)))) {
      if ((TarBattlePtr->field0_0x0).JobID - 0x5e < 0x30) {
        FUN_BATTLE_BIN__8018bd34();
        FUN_BATTLE_BIN__8018bcf0();
        *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 | 0x20;
        CurrentAbilityData._114_1_ = 6;
      }
    }
    else if ((0 < iVar3) &&
            ((iVar3 <= (int)((TarBattlePtr->field0_0x0).MaxHP / 5) &&
             ((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 2) & 0x80) != 0)))) {
      (TarCurActPtr->StatusInfliction).field_0x1 = (TarCurActPtr->StatusInfliction).field_0x1 | 0x40
      ;
      iVar3 = FUN_BATTLE_BIN__80184b24(0);
      pCVar2 = TarCurActPtr;
      if (iVar3 != 0) {
        puVar1 = &TarCurActPtr->field_0x25;
        *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 | 0x40;
        CurrentAbilityData._114_1_ = 9;
        pCVar2->field_0x25 = *puVar1 | 8;
      }
    }
  }
  return;
}



void FUN_BATTLE_BIN__80187eb4(void)

{
  byte bVar1;
  bbool bVar2;
  byte bVar3;
  byte bVar4;
  byte *pbVar5;
  CurActionUnitData *pCVar6;
  
  bVar1 = TarCurActPtr->EvadeType;
  bVar3 = TarCurActPtr->Hit_;
  bVar4 = TarCurActPtr->field60_0x2b;
  bVar2 = TarCurActPtr->HitFlag;
  _8_InflictStatus();
  TarCurActPtr->HitFlag = bVar2;
  pCVar6 = TarCurActPtr;
  pbVar5 = &TarCurActPtr->field60_0x2b;
  TarCurActPtr->Hit_ = bVar3;
  *pbVar5 = bVar4;
  pCVar6->EvadeType = bVar1;
  return;
}



void _8_InflictStatus(void)

{
  byte *pbVar1;
  byte *pbVar2;
  short sVar3;
  byte bVar4;
  bool bVar5;
  undefined2 uVar6;
  int iVar7;
  uint uVar8;
  undefined3 extraout_var;
  byte bVar9;
  uint *puVar10;
  int iVar11;
  uint uVar12;
  uint auStack_400b8 [65536];
  uint local_b8 [40];
  
  bVar9 = CurrentAbilityData.CurrentAbilityInflictions._0_1_;
  if ((CurrentAbilityData.CurrentAbilityInflictions._0_1_ & 0x20) != 0) {
    sVar3._0_1_ = TarCurActPtr->Hit_;
    sVar3._1_1_ = TarCurActPtr->field60_0x2b;
    iVar7 = (int)sVar3;
    if (iVar7 < 0) {
      iVar7 = iVar7 + 3;
    }
    uVar6 = (undefined2)(iVar7 >> 2);
    pbVar1 = &TarCurActPtr->field60_0x2b;
    TarCurActPtr->Hit_ = (char)uVar6;
    *pbVar1 = (char)((ushort)uVar6 >> 8);
  }
  bVar4 = bVar9 & 0x80;
  if (((bVar9 & 0x60) != 0) && (bVar4 = bVar9 & 0x80, DAT_BATTLE_BIN__8018f5fc != 0)) {
    bVar9 = 0;
    bVar4 = 0x80;
  }
  iVar7 = 0;
  if (bVar4 == 0) {
    iVar7 = 0;
    if ((bVar9 & 0x40) == 0) {
      uVar12 = 0;
      if ((bVar9 & 0x20) == 0) {
        if ((bVar9 & 0x10) != 0) {
          do {
            uVar8 = uVar12 + 1;
            (&(TarCurActPtr->StatusRemoval).field_0x0)[uVar12] =
                 (&(TarCurActPtr->StatusRemoval).field_0x0)[uVar12] |
                 (&CurrentAbilityData.CurrentAbilityInflictions.field4_0x1.field_0x0)[uVar12];
            uVar12 = uVar8;
          } while ((int)uVar8 < 5);
        }
      }
      else {
        do {
          uVar8 = uVar12;
          if ((int)uVar12 < 0) {
            uVar8 = uVar12 + 7;
          }
          iVar7 = (int)uVar8 >> 3;
          uVar8 = 0x80 >> (uVar12 & 7);
          if ((((byte)(&CurrentAbilityData.CurrentAbilityInflictions.field4_0x1.field_0x0)[iVar7] &
               uVar8) != 0) &&
             ((bVar5 = PassFail_Roll(100,0x18), CONCAT31(extraout_var,bVar5) != 0 ||
              (DAT_BATTLE_BIN__8018f5fc == 2)))) {
            (&CurrentAbilityData.CurrentAbilityInflictions.field4_0x1.field_0x0)[iVar7] =
                 (&CurrentAbilityData.CurrentAbilityInflictions.field4_0x1.field_0x0)[iVar7] ^
                 (byte)uVar8;
          }
          uVar12 = uVar12 + 1;
        } while ((int)uVar12 < 0x28);
        iVar7 = 0;
        do {
          iVar11 = iVar7 + 1;
          (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar7] =
               (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar7] |
               (&CurrentAbilityData.CurrentAbilityInflictions.field4_0x1.field_0x0)[iVar7];
          iVar7 = iVar11;
        } while (iVar11 < 5);
      }
    }
    else {
      uVar12 = 0;
      puVar10 = local_b8;
      do {
        uVar8 = uVar12;
        if ((int)uVar12 < 0) {
          uVar8 = uVar12 + 7;
        }
        if (((uint)(byte)(&CurrentAbilityData.CurrentAbilityInflictions.field4_0x1.field_0x0)
                         [(int)uVar8 >> 3] & 0x80 >> (uVar12 & 7)) != 0) {
          *puVar10 = uVar12;
          puVar10 = puVar10 + 1;
          iVar7 = iVar7 + 1;
        }
        uVar12 = uVar12 + 1;
      } while ((int)uVar12 < 0x28);
      iVar11 = FUN_BATTLE_BIN__8018eea0();
      iVar11 = iVar11 * iVar7;
      if (iVar11 < 0) {
        iVar11 = iVar11 + 0x7fff;
      }
      uVar8 = local_b8[iVar11 >> 0xf];
      uVar12 = uVar8;
      if ((int)uVar8 < 0) {
        uVar12 = uVar8 + 7;
      }
      (&(TarCurActPtr->StatusInfliction).field_0x0)[(int)uVar12 >> 3] =
           (&(TarCurActPtr->StatusInfliction).field_0x0)[(int)uVar12 >> 3] |
           (byte)(0x80 >> (uVar8 & 7));
    }
  }
  else {
    do {
      iVar11 = iVar7 + 1;
      (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar7] =
           (&(TarCurActPtr->StatusInfliction).field_0x0)[iVar7] |
           (&CurrentAbilityData.CurrentAbilityInflictions.field4_0x1.field_0x0)[iVar7];
      iVar7 = iVar11;
    } while (iVar11 < 5);
  }
  bVar9 = 0;
  iVar7 = 0;
  do {
    pbVar1 = &(TarCurActPtr->StatusInfliction).field_0x0 + iVar7;
    pbVar2 = &(TarCurActPtr->StatusRemoval).field_0x0 + iVar7;
    iVar7 = iVar7 + 1;
    bVar9 = bVar9 | *pbVar1 | *pbVar2;
  } while (iVar7 < 5);
  if ((bVar9 == 0) || (iVar7 = FUN_BATTLE_BIN__80184b24(0), iVar7 == 0)) {
    FUN_BATTLE_BIN__8018430c();
  }
  else {
    TarCurActPtr->field_0x25 = TarCurActPtr->field_0x25 | 8;
    if (((TarCurActPtr->StatusInfliction).field_0x1 & 0x40) != 0) {
      *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 | 0x40;
    }
  }
  return;
}



void _9_ItemMPHeal(void)

{
  byte bVar1;
  CurActionUnitData *pCVar2;
  
  pCVar2 = TarCurActPtr;
  bVar1 = ItemSecondary[CurrentAbilityData.UsedItem4].Z;
  TarCurActPtr->field_0x25 = 0x10;
  pCVar2->MPRecovery = (ushort)bVar1 * 10;
  return;
}



void FUN_BATTLE_BIN__801882c8(void)

{
  ushort uVar1;
  CurActionUnitData *pCVar2;
  BattleUnitData *pBVar3;
  
  pBVar3 = TarBattlePtr;
  pCVar2 = TarCurActPtr;
  TarCurActPtr->HPDamage = (TarBattlePtr->field0_0x0).MaxHP;
  uVar1 = (pBVar3->field0_0x0).MaxMP;
  pCVar2->field_0x25 = 0x90;
  pCVar2->MPRecovery = uVar1;
  return;
}



void FUN_BATTLE_BIN__801882f8(void)

{
  byte *pbVar1;
  CurActionUnitData *pCVar2;
  BattleUnitData *pBVar3;
  bool bVar4;
  undefined2 uVar5;
  int iVar6;
  undefined3 extraout_var;
  
  iVar6 = FUN_BATTLE_BIN__8018c920(TarBattlePtr);
  pBVar3 = TarBattlePtr;
  if (((iVar6 == 0) && ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 3) & 0x20) != 0)) &&
     ((iVar6 = 100 - (uint)(TarBattlePtr->field0_0x0).Brave, uVar5 = (undefined2)iVar6,
      pbVar1 = &TarCurActPtr->field60_0x2b, TarCurActPtr->Hit_ = (char)uVar5,
      *pbVar1 = (char)((ushort)uVar5 >> 8), iVar6 == 0 ||
      ((bVar4 = FUN_BATTLE_BIN__8018d384((int)pBVar3), CONCAT31(extraout_var,bVar4) == 0 &&
       (DAT_BATTLE_BIN__8018f5fc == 0)))))) {
    TarCurActPtr->HitFlag = false;
    pCVar2 = TarCurActPtr;
    TarCurActPtr->ReactionID = 0x1c0;
    pCVar2->EvadeType = 0xb;
  }
  return;
}



void FUN_BATTLE_BIN__801883ac(void)

{
  byte *pbVar1;
  CurActionUnitData *pCVar2;
  BattleUnitData *pBVar3;
  ItemID IVar4;
  bool bVar5;
  undefined2 uVar6;
  int iVar7;
  undefined3 extraout_var;
  
  iVar7 = FUN_BATTLE_BIN__8018c920(TarBattlePtr);
  pBVar3 = TarBattlePtr;
  if ((((iVar7 == 0) && ((CasBattlePtr->field0_0x0).JobID != Mime)) &&
      ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 3) & 8) != 0)) &&
     ((iVar7 = 100 - (uint)(TarBattlePtr->field0_0x0).Brave, uVar6 = (undefined2)iVar7,
      pbVar1 = &TarCurActPtr->field60_0x2b, TarCurActPtr->Hit_ = (char)uVar6,
      *pbVar1 = (char)((ushort)uVar6 >> 8), iVar7 == 0 ||
      ((bVar5 = FUN_BATTLE_BIN__8018d384((int)pBVar3), CONCAT31(extraout_var,bVar5) == 0 &&
       (DAT_BATTLE_BIN__8018f5fc == 0)))))) {
    TarCurActPtr->HitFlag = false;
    pCVar2 = TarCurActPtr;
    TarCurActPtr->ReactionID = 0x1c2;
    IVar4 = CurrentAbilityData.UsedItem3;
    pCVar2->EvadeType = 0xd;
    pCVar2->ReactionVar = (ushort)IVar4;
  }
  return;
}



bool FUN_BATTLE_BIN__80188488(void)

{
  FUN_BATTLE_BIN__80185814();
  return TarCurActPtr->HitFlag == false;
}



bool FUN_BATTLE_BIN__801884c0(void)

{
  bool bVar1;
  
  FUN_BATTLE_BIN__80187690();
  bVar1 = false;
  if (DAT_BATTLE_BIN__8018f5fc != 2) {
    bVar1 = (*(ushort *)&TarCurActPtr->field_0x10 & 0x200) == 0;
  }
  return bVar1;
}



void FUN_BATTLE_BIN__80188510(void)

{
  FUN_BATTLE_BIN__80184f9c();
  FUN_BATTLE_BIN__801852e4();
  FUN_BATTLE_BIN__80185328();
  FUN_BATTLE_BIN__8018537c();
  FUN_BATTLE_BIN__801853f4();
  FUN_BATTLE_BIN__80185738();
  FUN_BATTLE_BIN__801854fc();
  FUN_BATTLE_BIN__80188488();
  return;
}



void FUN_BATTLE_BIN__80188568(void)

{
  FUN_BATTLE_BIN__80184f9c();
  FUN_BATTLE_BIN__801852e4();
  FUN_BATTLE_BIN__80185328();
  FUN_BATTLE_BIN__8018537c();
  FUN_BATTLE_BIN__801853f4();
  FUN_BATTLE_BIN__801854fc();
  FUN_BATTLE_BIN__80188488();
  return;
}



void FUN_BATTLE_BIN__801885b8(void)

{
  FUN_BATTLE_BIN__801851c4();
  FUN_BATTLE_BIN__801854b8();
  FUN_BATTLE_BIN__8018537c();
  FUN_BATTLE_BIN__801853f4();
  FUN_BATTLE_BIN__80188488();
  return;
}



void FUN_BATTLE_BIN__801885f8(void)

{
  FUN_BATTLE_BIN__80186054();
  FUN_BATTLE_BIN__80186254();
  FUN_BATTLE_BIN__801862cc();
  FUN_BATTLE_BIN__8018636c();
  FUN_BATTLE_BIN__80184964();
  return;
}



bool FUN_BATTLE_BIN__80188638(void)

{
  bool bVar1;
  
  FUN_BATTLE_BIN__80185a9c();
  FUN_BATTLE_BIN__80185f80();
  FUN_BATTLE_BIN__80185fa4();
  FUN_BATTLE_BIN__801886a4();
  FUN_BATTLE_BIN__80186fd0();
  bVar1 = true;
  if (TarCurActPtr->HitFlag != false) {
    FUN_BATTLE_BIN__801870fc();
    bVar1 = FUN_BATTLE_BIN__801884c0();
  }
  return bVar1;
}



// Possible SSINIT_C.OBJ/SsInit
// Possible SSINIT_H.OBJ/SsInitHot

void FUN_BATTLE_BIN__801886a4(void)

{
  FUN_BATTLE_BIN__801885f8();
  FUN_BATTLE_BIN__801864f8();
  FUN_BATTLE_BIN__80186568();
  return;
}



bool FUN_BATTLE_BIN__801886d4(void)

{
  FUN_BATTLE_BIN__801885f8();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  return TarCurActPtr->HitFlag == false;
}



void FUN_BATTLE_BIN__8018871c(void)

{
  FUN_BATTLE_BIN__801870fc();
  FUN_BATTLE_BIN__801884c0();
  return;
}



void FUN_BATTLE_BIN__80188744(void)

{
  FUN_BATTLE_BIN__80186204();
  FUN_BATTLE_BIN__8018631c();
  FUN_BATTLE_BIN__80186460();
  FUN_BATTLE_BIN__80184964();
  return;
}



bool FUN_BATTLE_BIN__8018877c(void)

{
  FUN_BATTLE_BIN__80186568();
  FUN_BATTLE_BIN__80186ed0();
  FUN_BATTLE_BIN__80186ff8();
  return TarCurActPtr->HitFlag == false;
}



int FUN_BATTLE_BIN__801887c4(void)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  
  FUN_BATTLE_BIN__801870fc();
  bVar1 = FUN_BATTLE_BIN__801884c0();
  iVar2 = CONCAT31(extraout_var,bVar1);
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80187eb4();
    iVar2 = 0;
  }
  return iVar2;
}



bool FUN_BATTLE_BIN__80188800(void)

{
  FUN_BATTLE_BIN__80186204();
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187150();
  FUN_BATTLE_BIN__80187510();
  return TarCurActPtr->HitFlag == false;
}



// Possible SSINIT_C.OBJ/SsInit
// Possible SSINIT_H.OBJ/SsInitHot

void FUN_BATTLE_BIN__80188858(void)

{
  FUN_BATTLE_BIN__80186204();
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__80186568();
  return;
}



bool FUN_BATTLE_BIN__80188888(void)

{
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80186204();
  FUN_BATTLE_BIN__8018659c();
  if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x80) != 0) {
    CurrentAbilityData.CasEffectiveFaith = 100;
  }
  if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x40) != 0) {
    CurrentAbilityData.CasEffectiveFaith = 0;
  }
  TarCurActPtr->HPDamage =
       (short)((int)((int)TarCurActPtr->HPDamage * (uint)CurrentAbilityData.CasEffectiveFaith) / 100
              );
  FUN_BATTLE_BIN__80187510();
  return TarCurActPtr->HitFlag == false;
}



void FUN_BATTLE_BIN__80188964(void)

{
  bool bVar1;
  undefined3 extraout_var;
  
  FUN_BATTLE_BIN__80185ffc();
  FUN_BATTLE_BIN__80188744();
  bVar1 = FUN_BATTLE_BIN__8018877c();
  if (CONCAT31(extraout_var,bVar1) == 0) {
    FUN_BATTLE_BIN__801887c4();
  }
  return;
}



void FUN_BATTLE_BIN__801889a4(void)

{
  FUN_BATTLE_BIN__80185cc0();
  FUN_BATTLE_BIN__80188964();
  return;
}



bool FUN_BATTLE_BIN__801889cc(void)

{
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80188744();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187150();
  FUN_BATTLE_BIN__80187510();
  return TarCurActPtr->HitFlag == false;
}



bool FUN_BATTLE_BIN__80188a24(void)

{
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80185ffc();
  FUN_BATTLE_BIN__80188744();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187150();
  FUN_BATTLE_BIN__80187510();
  return TarCurActPtr->HitFlag == false;
}



bool FUN_BATTLE_BIN__80188a84(void)

{
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80185ffc();
  FUN_BATTLE_BIN__80188744();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  return TarCurActPtr->HitFlag == false;
}



void FUN_BATTLE_BIN__80188adc(void)

{
  FUN_BATTLE_BIN__80186254();
  FUN_BATTLE_BIN__801862cc();
  FUN_BATTLE_BIN__8018636c();
  FUN_BATTLE_BIN__80184964();
  return;
}



bool FUN_BATTLE_BIN__80188b14(void)

{
  FUN_BATTLE_BIN__8018614c();
  FUN_BATTLE_BIN__80188adc();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  return TarCurActPtr->HitFlag == false;
}



void _1_Weapon(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188510();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188638(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__80187eb4();
  }
  return;
}



void _2_SpellWeapon(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188510();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188638(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__801876e4();
  }
  return;
}



void _3_GunWeapon(void)

{
  CurrentAbilityData.AbPower = (short)CurrentAbilityData.CurrentWeaponFuncData.WeaponPower;
  CurrentAbilityData.UnitPower = CurrentAbilityData.AbPower;
  FUN_BATTLE_BIN__80185f80();
  FUN_BATTLE_BIN__801886a4();
  return;
}



void _4_MagicGun(void)

{
  bool bVar1;
  undefined3 extraout_var;
  
  FUN_BATTLE_BIN__80187730();
  CurrentAbilityData.AbPower = (short)CurrentAbilityData.CurrentWeaponFuncData.WeaponPower;
  CurrentAbilityData.UnitPower = (short)CurrentAbilityData.CurrentAbilityFuncData.Y;
  FUN_BATTLE_BIN__80185f80();
  FUN_BATTLE_BIN__80185fa4();
  FUN_BATTLE_BIN__80188744();
  bVar1 = FUN_BATTLE_BIN__8018877c();
  if (CONCAT31(extraout_var,bVar1) == 0) {
    FUN_BATTLE_BIN__80187150();
    FUN_BATTLE_BIN__801870fc();
  }
  return;
}



void _5_Weapon2(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188568();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185a9c();
    FUN_BATTLE_BIN__80185f80();
    FUN_BATTLE_BIN__801886a4();
    bVar1 = FUN_BATTLE_BIN__801884c0();
    if (CONCAT31(extraout_var,bVar1) == 0) {
      FUN_BATTLE_BIN__80187eb4();
    }
  }
  return;
}



void _6_AbsorbWeapon(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80188510();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80185a9c();
    FUN_BATTLE_BIN__80185f80();
    FUN_BATTLE_BIN__801886a4();
    FUN_BATTLE_BIN__80187248();
  }
  return;
}



void _7_HealWeapon(void)

{
  FUN_BATTLE_BIN__80185a9c();
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__80185f80();
  FUN_BATTLE_BIN__801885f8();
  FUN_BATTLE_BIN__80186568();
  FUN_BATTLE_BIN__80187350();
  return;
}



void _8_DamageSpell(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185c94();
    FUN_BATTLE_BIN__80185ffc();
    FUN_BATTLE_BIN__80188744();
    bVar1 = FUN_BATTLE_BIN__8018877c();
    if (CONCAT31(extraout_var,bVar1) == 0) {
      FUN_BATTLE_BIN__80187150();
      iVar2 = FUN_BATTLE_BIN__8018871c();
      if (iVar2 == 0) {
        FUN_BATTLE_BIN__80187eb4();
      }
    }
  }
  return;
}



void _9_DemiSpell(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188a24(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__80186624();
    FUN_BATTLE_BIN__80186ed0();
    FUN_BATTLE_BIN__80186ff8();
    if ((TarCurActPtr->HitFlag != false) && (iVar2 = FUN_BATTLE_BIN__8018871c(), iVar2 == 0)) {
      FUN_BATTLE_BIN__80187eb4();
    }
  }
  return;
}



void _A_AilmentSpell(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188a24(), CONCAT31(extraout_var,bVar1) == 0)) {
    _8_InflictStatus();
  }
  return;
}



void _B_BoonSpell(void)

{
  bool bVar1;
  undefined3 extraout_var;
  
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80185ffc();
  bVar1 = FUN_BATTLE_BIN__80188800();
  if (CONCAT31(extraout_var,bVar1) == 0) {
    _8_InflictStatus();
  }
  return;
}



void _C_HealSpell(void)

{
  FUN_BATTLE_BIN__80185c94();
  FUN_BATTLE_BIN__80185ffc();
  FUN_BATTLE_BIN__80188858();
  FUN_BATTLE_BIN__80187150();
  FUN_BATTLE_BIN__80187350();
  return;
}



void _D_RaiseSpell(void)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80185ffc();
  bVar1 = FUN_BATTLE_BIN__80188800();
  if ((CONCAT31(extraout_var,bVar1) == 0) && (iVar2 = FUN_BATTLE_BIN__8018acdc(), iVar2 != 0)) {
    FUN_BATTLE_BIN__80186624();
    FUN_BATTLE_BIN__80187350();
  }
  return;
}



void _E_DeathSpell(void)

{
  int iVar1;
  
  if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x10) == 0) {
    CurrentAbilityData.UndeadReverse = false;
    iVar1 = FUN_BATTLE_BIN__801885b8();
    if (iVar1 != 0) {
      return;
    }
  }
  else {
    CurrentAbilityData.UndeadReverse = true;
  }
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80185ffc();
  FUN_BATTLE_BIN__80186204();
  if (CurrentAbilityData.UndeadReverse == false) {
    FUN_BATTLE_BIN__8018631c();
    FUN_BATTLE_BIN__80186460();
  }
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187150();
  FUN_BATTLE_BIN__80187510();
  if ((TarCurActPtr->HitFlag != false) && (iVar1 = FUN_BATTLE_BIN__8018acdc(), iVar1 != 0)) {
    FUN_BATTLE_BIN__80186624();
    FUN_BATTLE_BIN__801873d8();
  }
  return;
}



void _F_MPAbsorbSpell(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__801889cc(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__8018668c();
    TarCurActPtr->HPDamage = TarCurActPtr->MPDamage;
    FUN_BATTLE_BIN__8018746c();
  }
  return;
}



void _0_AbsorbSpell(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__801889cc(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__80186624();
    FUN_BATTLE_BIN__80187248();
  }
  return;
}



void _1_None(void)

{
  return;
}



void _2_Quick(void)

{
  bool bVar1;
  undefined3 extraout_var;
  
  FUN_BATTLE_BIN__80185d80();
  bVar1 = FUN_BATTLE_BIN__80188800();
  if (CONCAT31(extraout_var,bVar1) == 0) {
    FUN_BATTLE_BIN__8018783c();
  }
  return;
}



void _3_None(void)

{
  return;
}



void _4_Golem(void)

{
  CurActionUnitData *pCVar1;
  bool bVar2;
  undefined3 extraout_var;
  
  bVar2 = FUN_BATTLE_BIN__80188888();
  pCVar1 = TarCurActPtr;
  if (CONCAT31(extraout_var,bVar2) == 0) {
    *(undefined2 *)&TarCurActPtr->field_0x10 = 1;
    pCVar1->field_0x25 = 1;
  }
  return;
}



void _5_Return2(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__801889cc(), CONCAT31(extraout_var,bVar1) == 0)) {
    TarCurActPtr->field_0x13 = 0x7f;
    TarCurActPtr->field_0x25 = 1;
  }
  return;
}



void _6_Mute(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  bool bVar3;
  int iVar4;
  undefined3 extraout_var;
  
  iVar4 = FUN_BATTLE_BIN__801885b8();
  if ((iVar4 == 0) &&
     (bVar3 = FUN_BATTLE_BIN__801889cc(), pCVar2 = TarCurActPtr, CONCAT31(extraout_var,bVar3) == 0))
  {
    sVar1 = (TarBattlePtr->field0_0x0).MP;
    TarCurActPtr->field_0x25 = 0x20;
    pCVar2->MPDamage = sVar1;
  }
  return;
}



void _7_Gravi2(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__801889cc(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__801866ec();
  }
  return;
}



void _8_None(void)

{
  return;
}



void _9_None(void)

{
  return;
}



void _A_ZalbagRuin(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__801885b8();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80185c94();
    FUN_BATTLE_BIN__80185ffc();
    FUN_BATTLE_BIN__80188744();
    FUN_BATTLE_BIN__8018659c();
    FUN_BATTLE_BIN__80187150();
    FUN_BATTLE_BIN__80187510();
    if (TarCurActPtr->HitFlag == false) {
      *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 & 0xfffb;
    }
    else {
      FUN_BATTLE_BIN__80187860();
    }
  }
  return;
}



void _B_ZalbagMPRuin(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188a24(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__8018668c();
  }
  return;
}



void _C_Song(void)

{
  int iVar1;
  
  FUN_BATTLE_BIN__801875fc();
  if ((TarCurActPtr->HitFlag != false) && (iVar1 = FUN_BATTLE_BIN__80184360(), iVar1 == 0)) {
    FUN_BATTLE_BIN__80185c94();
    FUN_BATTLE_BIN__801869ec();
  }
  return;
}



void _D_Dance(void)

{
  int iVar1;
  
  FUN_BATTLE_BIN__801875fc();
  if ((TarCurActPtr->HitFlag != false) && (iVar1 = FUN_BATTLE_BIN__80184360(), iVar1 == 0)) {
    FUN_BATTLE_BIN__80185a9c();
    FUN_BATTLE_BIN__80186af8();
  }
  return;
}



void _E_Truth(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__801885b8();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__801889a4();
  }
  return;
}



void _F_Untruth(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185cc0();
    FUN_BATTLE_BIN__80185ffc();
    FUN_BATTLE_BIN__80188744();
    bVar1 = FUN_BATTLE_BIN__8018877c();
    if (CONCAT31(extraout_var,bVar1) == 0) {
      if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x80) != 0) {
        CurrentAbilityData.CasEffectiveFaith = 0;
      }
      if (((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x40) != 0) {
        CurrentAbilityData.CasEffectiveFaith = 100;
      }
      if (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x80) != 0) {
        CurrentAbilityData.TarEffectiveFaith = 0;
      }
      if (((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 0x40) != 0) {
        CurrentAbilityData.TarEffectiveFaith = 100;
      }
      TarCurActPtr->HPDamage =
           (short)((int)((int)TarCurActPtr->HPDamage *
                         (100 - (uint)CurrentAbilityData.TarEffectiveFaith) *
                        (100 - (uint)CurrentAbilityData.CasEffectiveFaith)) / 10000);
      iVar2 = FUN_BATTLE_BIN__8018871c();
      if (iVar2 == 0) {
        FUN_BATTLE_BIN__80187eb4();
      }
    }
  }
  return;
}



// Possible SSINIT_C.OBJ/SsInit
// Possible SSINIT_H.OBJ/SsInitHot

void _0_DmgKatana(void)

{
  FUN_BATTLE_BIN__80187910();
  FUN_BATTLE_BIN__80185c94();
  FUN_BATTLE_BIN__80188964();
  return;
}



void _1_DmgMPKatana(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  
  FUN_BATTLE_BIN__80187910();
  FUN_BATTLE_BIN__80185c94();
  FUN_BATTLE_BIN__80188744();
  pCVar2 = TarCurActPtr;
  sVar1 = CurrentAbilityData.AbPower * CurrentAbilityData.UnitPower;
  TarCurActPtr->field_0x25 = 0x20;
  pCVar2->MPDamage = sVar1;
  return;
}



void _2_BoonKatana(void)

{
  FUN_BATTLE_BIN__80187910();
  _8_InflictStatus();
  return;
}



void _3_HealKatana(void)

{
  FUN_BATTLE_BIN__80187910();
  FUN_BATTLE_BIN__80185c94();
  FUN_BATTLE_BIN__80186568();
  FUN_BATTLE_BIN__80187350();
  return;
}



void _4_Geomancy(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__801885b8();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80185d40();
    FUN_BATTLE_BIN__80188964();
  }
  return;
}



void _5_EquipBreak(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801879c8();
  if (iVar2 == 0) {
    CurrentAbilityData.DefaultToAbility00 = false;
    iVar2 = FUN_BATTLE_BIN__80188510();
    if (iVar2 == 0) {
      FUN_BATTLE_BIN__80185e5c();
      bVar1 = FUN_BATTLE_BIN__801886d4();
      if (CONCAT31(extraout_var,bVar1) == 0) {
        FUN_BATTLE_BIN__80187638();
        if (TarCurActPtr->HitFlag != false) {
          *(undefined2 *)&TarCurActPtr->field_0x10 = 4;
        }
      }
      else {
        *(undefined2 *)&TarCurActPtr->field_0x10 = 0;
      }
    }
  }
  else {
    CurrentAbilityData.DefaultToAbility00 = true;
    FUN_BATTLE_BIN__8018ad58();
  }
  return;
}



void _6_EquipSteal(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801879c8();
  if (iVar2 == 0) {
    iVar2 = FUN_BATTLE_BIN__80188510();
    if (iVar2 == 0) {
      FUN_BATTLE_BIN__80185e30();
      bVar1 = FUN_BATTLE_BIN__80188b14();
      if (CONCAT31(extraout_var,bVar1) == 0) {
        FUN_BATTLE_BIN__80187638();
        if (TarCurActPtr->HitFlag != false) {
          *(undefined2 *)&TarCurActPtr->field_0x10 = 0x10;
        }
      }
    }
  }
  else {
    FUN_BATTLE_BIN__80184e40();
    TarCurActPtr->EvadeType = 7;
  }
  return;
}



void _7_GilSteal(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188510();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185e30();
    bVar1 = FUN_BATTLE_BIN__80188b14();
    if (CONCAT31(extraout_var,bVar1) == 0) {
      FUN_BATTLE_BIN__80186744();
    }
  }
  return;
}



void _8_ExpSteal(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80188510();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80185e30();
    FUN_BATTLE_BIN__8018614c();
    FUN_BATTLE_BIN__80186254();
    FUN_BATTLE_BIN__801862cc();
    FUN_BATTLE_BIN__8018636c();
    FUN_BATTLE_BIN__80184964();
    FUN_BATTLE_BIN__8018659c();
    FUN_BATTLE_BIN__80187510();
    if ((TarCurActPtr->HitFlag != false) || (DAT_BATTLE_BIN__8018f5fc != 0)) {
      FUN_BATTLE_BIN__80186814();
    }
  }
  return;
}



void _9_HeartSteal(void)

{
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  if (TarCurActPtr->HitFlag != false) {
    if (((TarBattlePtr->field0_0x0).field_0x6 & 0xe0) ==
        ((CasBattlePtr->field0_0x0).field_0x6 & 0xe0)) {
      FUN_BATTLE_BIN__8018430c();
    }
    else {
      _8_InflictStatus();
    }
  }
  return;
}



void _A_TalkSkill(void)

{
  FUN_BATTLE_BIN__801875fc();
  if ((((TarBattlePtr->field0_0x0).field_0x6 & 0x20) != 0) &&
     ((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 2) & 0x10) == 0)) {
    FUN_BATTLE_BIN__8018430c();
  }
  if ((TarCurActPtr->HitFlag != false) &&
     (FUN_BATTLE_BIN__801882f8(), TarCurActPtr->HitFlag != false)) {
    FUN_BATTLE_BIN__80185d80();
    FUN_BATTLE_BIN__80184964();
    FUN_BATTLE_BIN__8018659c();
    FUN_BATTLE_BIN__80187510();
    if (TarCurActPtr->HitFlag != false) {
      FUN_BATTLE_BIN__80186c04();
    }
  }
  return;
}



void _B_StatBreak(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188510();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185e04();
    bVar1 = FUN_BATTLE_BIN__801886d4();
    if (CONCAT31(extraout_var,bVar1) == 0) {
      FUN_BATTLE_BIN__80187860();
    }
  }
  return;
}



void _C_MPBreak(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188510();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185e04();
    bVar1 = FUN_BATTLE_BIN__801886d4();
    if (CONCAT31(extraout_var,bVar1) == 0) {
      FUN_BATTLE_BIN__8018668c();
    }
  }
  return;
}



void _D_HolySword(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80188510();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80185e5c();
    FUN_BATTLE_BIN__80185fa4();
    FUN_BATTLE_BIN__801886a4();
    FUN_BATTLE_BIN__80186fd0();
    if (TarCurActPtr->HitFlag != false) {
      FUN_BATTLE_BIN__801870fc();
      FUN_BATTLE_BIN__80187eb4();
    }
  }
  return;
}



void _E_MightySword(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80188510();
  if (iVar1 == 0) {
    iVar1 = FUN_BATTLE_BIN__801879c8();
    if (iVar1 == 0) {
      FUN_BATTLE_BIN__80187638();
      if (TarCurActPtr->HitFlag != false) {
        *(undefined2 *)&TarCurActPtr->field_0x10 = 4;
        FUN_BATTLE_BIN__80185dd8();
        FUN_BATTLE_BIN__80185fa4();
        FUN_BATTLE_BIN__801886a4();
        FUN_BATTLE_BIN__80186fd0();
        if (TarCurActPtr->HitFlag != false) {
          FUN_BATTLE_BIN__801870fc();
        }
      }
    }
    else {
      FUN_BATTLE_BIN__80184e40();
      TarCurActPtr->EvadeType = 7;
    }
  }
  return;
}



void _F_DarkSword(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80188510();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80185dd8();
    FUN_BATTLE_BIN__801886a4();
    FUN_BATTLE_BIN__8018746c();
  }
  return;
}



void _0_NightSword(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80188510();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80185dd8();
    FUN_BATTLE_BIN__801886a4();
    FUN_BATTLE_BIN__80187248();
  }
  return;
}



void _1_Barehand(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188510();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185d00();
    FUN_BATTLE_BIN__80185ffc();
    FUN_BATTLE_BIN__8018614c();
    FUN_BATTLE_BIN__80188adc();
    FUN_BATTLE_BIN__801864f8();
    FUN_BATTLE_BIN__80186568();
    FUN_BATTLE_BIN__80186ed0();
    FUN_BATTLE_BIN__80186ff8();
    if (TarCurActPtr->HitFlag != false) {
      FUN_BATTLE_BIN__801870fc();
      bVar1 = FUN_BATTLE_BIN__801884c0();
      if (CONCAT31(extraout_var,bVar1) == 0) {
        FUN_BATTLE_BIN__80187eb4();
      }
    }
  }
  return;
}



void _2_BarehandRND(void)

{
  short *psVar1;
  ushort uVar2;
  CurActionUnitData *pCVar3;
  int iVar4;
  
  iVar4 = FUN_BATTLE_BIN__80188510();
  if (iVar4 == 0) {
    FUN_BATTLE_BIN__80185d00();
    FUN_BATTLE_BIN__8018614c();
    FUN_BATTLE_BIN__80188adc();
    FUN_BATTLE_BIN__801864f8();
    FUN_BATTLE_BIN__8018659c();
    iVar4 = FUN_BATTLE_BIN__8018eea0();
    pCVar3 = TarCurActPtr;
    iVar4 = iVar4 * (uint)CurrentAbilityData.CurrentAbilityFuncData.X;
    if (iVar4 < 0) {
      iVar4 = iVar4 + 0x7fff;
    }
    CurrentAbilityData.RdmDmgMod = (char)(iVar4 >> 0xf) + 1;
    psVar1 = &TarCurActPtr->HPDamage;
    uVar2 = (ushort)CurrentAbilityData.RdmDmgMod;
    TarCurActPtr->field_0x25 = 0x80;
    pCVar3->HPDamage = *psVar1 * uVar2;
  }
  return;
}



void _3_Stigma(void)

{
  FUN_BATTLE_BIN__80185dac();
  FUN_BATTLE_BIN__8018614c();
  FUN_BATTLE_BIN__80186254();
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  if (TarCurActPtr->HitFlag != false) {
    _8_InflictStatus();
  }
  return;
}



void _4_Chakra(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__80185e04();
  FUN_BATTLE_BIN__8018614c();
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__80186568();
  pCVar2 = TarCurActPtr;
  sVar1 = TarCurActPtr->HPDamage;
  TarCurActPtr->HPDamage = 0;
  pCVar2->HPRecovery = sVar1;
  pCVar2->field_0x25 = 0x50;
  iVar3 = (uint)(ushort)pCVar2->HPRecovery << 0x10;
  pCVar2->MPRecovery = (short)((iVar3 >> 0x10) - (iVar3 >> 0x1f) >> 1);
  return;
}



void _5_Revive(void)

{
  int iVar1;
  
  FUN_BATTLE_BIN__80185dac();
  FUN_BATTLE_BIN__8018614c();
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  if ((TarCurActPtr->HitFlag != false) && (iVar1 = FUN_BATTLE_BIN__8018acdc(), iVar1 != 0)) {
    FUN_BATTLE_BIN__80186624();
    FUN_BATTLE_BIN__80187350();
  }
  return;
}



void _7_KnockbackRND(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__80188510();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80185e04();
    FUN_BATTLE_BIN__8018614c();
    FUN_BATTLE_BIN__80188adc();
    FUN_BATTLE_BIN__8018691c();
  }
  return;
}



void _D_MonStatus(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188a84(), CONCAT31(extraout_var,bVar1) == 0)) {
    _8_InflictStatus();
  }
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void _E_GraviUnused(void)

{
  FUN_BATTLE_BIN__801866ec();
  return;
}



void _F_AimLimb(void)

{
  FUN_BATTLE_BIN__80185e30();
  FUN_BATTLE_BIN__801885f8();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  if (TarCurActPtr->HitFlag != false) {
    _8_InflictStatus();
  }
  return;
}



void _0_SealEvil(void)

{
  FUN_BATTLE_BIN__80185e30();
  FUN_BATTLE_BIN__801885f8();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  if (TarCurActPtr->HitFlag != false) {
    if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x10) == 0) {
      FUN_BATTLE_BIN__8018430c();
    }
    else {
      _8_InflictStatus();
    }
  }
  return;
}



void _1_GalaxyStop(void)

{
  bool bVar1;
  undefined3 extraout_var;
  
  bVar1 = FUN_BATTLE_BIN__80188a84();
  if (CONCAT31(extraout_var,bVar1) == 0) {
    if ((*(ushort *)&(TarBattlePtr->field0_0x0).field_0x8 & 0xf000) ==
        (*(ushort *)&(CasBattlePtr->field0_0x0).field_0x8 & 0xf000)) {
      FUN_BATTLE_BIN__8018430c();
    }
    else {
      _8_InflictStatus();
    }
  }
  return;
}



void _2_Work(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  uint uVar3;
  
  FUN_BATTLE_BIN__80185e04();
  FUN_BATTLE_BIN__80184964();
  sVar1 = CurrentAbilityData.AbPower * CurrentAbilityData.UnitPower;
  TarCurActPtr->HPDamage = sVar1;
  pCVar2 = CasCurActPtr;
  uVar3 = (uint)CurrentAbilityData.CurrentAbilityFuncData.X;
  CasCurActPtr->HitFlag = true;
  pCVar2->HPDamage = (short)((int)sVar1 / (int)uVar3);
  TarCurActPtr->field_0x25 = 0x80;
  CasCurActPtr->field_0x25 = 0x80;
  return;
}



void _6_None(void)

{
  return;
}



// Possible SSINIT_C.OBJ/SsInit
// Possible SSINIT_H.OBJ/SsInitHot

void _7_BloodSuck(void)

{
  FUN_BATTLE_BIN__80186624();
  FUN_BATTLE_BIN__80187248();
  FUN_BATTLE_BIN__80187eb4();
  return;
}



void _8_ItemHeal(void)

{
  TarCurActPtr->HPDamage = (ushort)ItemSecondary[CurrentAbilityData.UsedItem4].Z * 10;
  FUN_BATTLE_BIN__80187350();
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void FUN_BATTLE_BIN__8018a2a4(void)

{
  _9_ItemMPHeal();
  return;
}



void _A_Elixir(void)

{
  FUN_BATTLE_BIN__801882c8();
  FUN_BATTLE_BIN__80187350();
  return;
}



void _B_PhoenixDown(void)

{
  ushort uVar1;
  int iVar2;
  
  iVar2 = FUN_BATTLE_BIN__8018acdc();
  if (iVar2 != 0) {
    if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x10) == 0) {
      iVar2 = FUN_BATTLE_BIN__8018eea0();
      iVar2 = iVar2 * (uint)ItemSecondary[CurrentAbilityData.UsedItem4].Z;
      if (iVar2 < 0) {
        iVar2 = iVar2 + 0x7fff;
      }
      uVar1 = (short)(iVar2 >> 0xf) + 1;
    }
    else {
      uVar1 = (TarBattlePtr->field0_0x0).HP;
    }
    TarCurActPtr->HPDamage = uVar1;
    FUN_BATTLE_BIN__80187350();
  }
  return;
}



// Possible SSINIT_C.OBJ/SsInit
// Possible SSINIT_H.OBJ/SsInitHot

void _C_MonHeal(void)

{
  FUN_BATTLE_BIN__80185c94();
  FUN_BATTLE_BIN__80188858();
  FUN_BATTLE_BIN__80187350();
  return;
}



void _D_MonAbsorb(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188510();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185d80();
    bVar1 = FUN_BATTLE_BIN__80188b14();
    if (CONCAT31(extraout_var,bVar1) == 0) {
      FUN_BATTLE_BIN__80186624();
      FUN_BATTLE_BIN__80187248();
    }
  }
  return;
}



void _E_Bracelet(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__801885b8();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__80185c94();
    FUN_BATTLE_BIN__80188964();
  }
  return;
}



void _F_GoblinPunch(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188510();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185d80();
    bVar1 = FUN_BATTLE_BIN__80188b14();
    if (CONCAT31(extraout_var,bVar1) == 0) {
      _3_RevengeDMG();
    }
  }
  return;
}



void _0_MonPhysSpell(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__80188510();
  if (iVar2 == 0) {
    FUN_BATTLE_BIN__80185d80();
    bVar1 = FUN_BATTLE_BIN__80188b14();
    if (CONCAT31(extraout_var,bVar1) == 0) {
      _8_InflictStatus();
    }
  }
  return;
}



void _1_MonEsuna(void)

{
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80185ffc();
  FUN_BATTLE_BIN__80186204();
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  if (TarCurActPtr->HitFlag != false) {
    _8_InflictStatus();
  }
  return;
}



void _2_SelfDestruct(void)

{
  CurActionUnitData *pCVar1;
  
  pCVar1 = TarCurActPtr;
  if (TarBattlePtr == CasBattlePtr) {
    TarCurActPtr->HPDamage = (TarBattlePtr->field0_0x0).HP;
    pCVar1->field_0x25 = 0x80;
  }
  else {
    TarCurActPtr->HPDamage = (CasBattlePtr->field0_0x0).MaxHP - (CasBattlePtr->field0_0x0).HP;
    pCVar1->field_0x25 = 0x80;
  }
  if (TarBattlePtr != CasBattlePtr) {
    FUN_BATTLE_BIN__80187eb4();
  }
  return;
}



void _3_Hurricane(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188a84(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__80186624();
    FUN_BATTLE_BIN__80186ed0();
    FUN_BATTLE_BIN__80186ff8();
    if ((TarCurActPtr->HitFlag != false) && (iVar2 = FUN_BATTLE_BIN__8018871c(), iVar2 == 0)) {
      FUN_BATTLE_BIN__80187eb4();
    }
  }
  return;
}



// Possible SSINIT_C.OBJ/SsInit
// Possible SSINIT_H.OBJ/SsInitHot

void _4_MagicSpirit(void)

{
  FUN_BATTLE_BIN__80185c94();
  FUN_BATTLE_BIN__80188858();
  FUN_BATTLE_BIN__801874ec();
  return;
}



void _5_Beaking(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188a84(), CONCAT31(extraout_var,bVar1) == 0)) {
    TarCurActPtr->field_0x14 = CurrentAbilityData.CurrentAbilityFuncData.Y & 0x7f;
    TarCurActPtr->field_0x25 = 1;
  }
  return;
}



void _6_Circle(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188a84(), CONCAT31(extraout_var,bVar1) == 0)) {
    TarCurActPtr->field_0x15 = CurrentAbilityData.CurrentAbilityFuncData.Y & 0x7f;
    TarCurActPtr->field_0x25 = 1;
  }
  return;
}



void _7_PleaseEat(void)

{
  CurActionUnitData *pCVar1;
  CurActionUnitData *pCVar2;
  BattleUnitData *pBVar3;
  
  FUN_BATTLE_BIN__801882c8();
  FUN_BATTLE_BIN__80187350();
  pCVar1 = TarCurActPtr;
  if ((TarBattlePtr->field0_0x0).Level < 99) {
    TarCurActPtr->field_0x25 = 1;
    pBVar3 = TarBattlePtr;
    TarBattlePtr = CasBattlePtr;
    pCVar2 = TarCurActPtr;
    TarCurActPtr = CasCurActPtr;
    *(undefined2 *)&pCVar1->field_0x10 = 0x80;
    TarCurActPtr->HitFlag = true;
    _8_InflictStatus();
    TarCurActPtr = pCVar2;
    TarBattlePtr = pBVar3;
  }
  else {
    TarCurActPtr->field_0x25 = 0;
    FUN_BATTLE_BIN__8018430c();
  }
  return;
}



void _8_Moldball(void)

{
  CurActionUnitData *pCVar1;
  
  FUN_BATTLE_BIN__80185d80();
  FUN_BATTLE_BIN__80185ffc();
  FUN_BATTLE_BIN__80186204();
  FUN_BATTLE_BIN__80184964();
  FUN_BATTLE_BIN__8018659c();
  FUN_BATTLE_BIN__80187510();
  pCVar1 = TarCurActPtr;
  if (TarCurActPtr->HitFlag != false) {
    if ((((((TarBattlePtr->field0_0x0).field_0x5 & 4) == 0) &&
         ((TarBattlePtr->field1_0x16e).field_0x14 == '\0')) &&
        ((byte)((TarBattlePtr->field0_0x0).BaseClass + Minitaurus) < 3)) &&
       (2 < (byte)((TarBattlePtr->field0_0x0).JobID + Taiju))) {
      *(undefined2 *)&TarCurActPtr->field_0x10 = 2;
      pCVar1->field_0x25 = 1;
    }
    else {
      FUN_BATTLE_BIN__8018430c();
    }
  }
  return;
}



void _9_LevelBlast(void)

{
  CurActionUnitData *pCVar1;
  bool bVar2;
  int iVar3;
  undefined3 extraout_var;
  
  iVar3 = FUN_BATTLE_BIN__801885b8();
  if ((iVar3 == 0) && (bVar2 = FUN_BATTLE_BIN__80188a84(), CONCAT31(extraout_var,bVar2) == 0)) {
    if ((TarBattlePtr->field0_0x0).Level < 2) {
      FUN_BATTLE_BIN__8018430c();
    }
    pCVar1 = TarCurActPtr;
    *(undefined2 *)&TarCurActPtr->field_0x10 = 0x100;
    pCVar1->field_0x25 = 1;
  }
  return;
}



void _A_DragonTame(void)

{
  FUN_BATTLE_BIN__801875bc();
  if (TarCurActPtr->HitFlag != false) {
    _8_InflictStatus();
  }
  return;
}



void _B_DragonCare(void)

{
  FUN_BATTLE_BIN__801875bc();
  if (TarCurActPtr->HitFlag != false) {
    _C_Wish();
    FUN_BATTLE_BIN__80187eb4();
  }
  return;
}



void _C_DragonPowerUp(void)

{
  FUN_BATTLE_BIN__801875bc();
  if (TarCurActPtr->HitFlag != false) {
    _B_Scream();
  }
  return;
}



void _D_DragonLevelUp(void)

{
  FUN_BATTLE_BIN__801875bc();
  if (TarCurActPtr->HitFlag != false) {
    FUN_BATTLE_BIN__8018783c();
  }
  return;
}



void _E_HydraBracelet(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__801885b8();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__801889a4();
  }
  return;
}



void _F_Nanoflare(void)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__801885b8();
  if (iVar1 == 0) {
    FUN_BATTLE_BIN__801889a4();
  }
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void _0_HydraStatus(void)

{
  FUN_BATTLE_BIN__801889a4();
  return;
}



void _1_Foxbird(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188a24(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__80186ea4();
  }
  return;
}



void _2_FrightLook(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__801885b8();
  if ((iVar2 == 0) && (bVar1 = FUN_BATTLE_BIN__80188a84(), CONCAT31(extraout_var,bVar1) == 0)) {
    FUN_BATTLE_BIN__80186ea4();
  }
  return;
}



void _3_Throw(void)

{
  int iVar1;
  
  FUN_BATTLE_BIN__801883ac();
  if ((TarCurActPtr->HitFlag != false) && (iVar1 = FUN_BATTLE_BIN__80188510(), iVar1 == 0)) {
    CurrentAbilityData.UnitPower = (short)CurrentAbilityData.CurrentWeaponFuncData.WeaponPower;
    CurrentAbilityData.AbPower = (short)(CasBattlePtr->field0_0x0).SP;
    FUN_BATTLE_BIN__80188adc();
    FUN_BATTLE_BIN__80186568();
    FUN_BATTLE_BIN__80186fd0();
    if (TarCurActPtr->HitFlag != false) {
      FUN_BATTLE_BIN__801870fc();
    }
  }
  return;
}



// Possible SSINIT_C.OBJ/SsInit
// Possible SSINIT_H.OBJ/SsInitHot

void _4_Jump(void)

{
  FUN_BATTLE_BIN__80185e94();
  FUN_BATTLE_BIN__80188adc();
  FUN_BATTLE_BIN__80186568();
  return;
}



void FUN_BATTLE_BIN__8018ac74(int param_1)

{
  CasCurActPtr = &CasCurActData;
  if ((*(char *)(param_1 + 0x16f) == '\x12') && ((*(byte *)(param_1 + 0x1bd) & 0x10) != 0)) {
    CasCurActData.HitFlag = true;
    CasCurActData._37_1_ = CasCurActData._37_1_ | 8;
    CasCurActData.StatusRemoval._2_1_ = CasCurActData.StatusRemoval._2_1_ | 0x10;
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8018acdc(void)

{
  undefined4 uVar1;
  
  FUN_BATTLE_BIN__80187eb4();
  uVar1 = 1;
  if (((TarCurActPtr->field_0x25 & 8) == 0) &&
     (uVar1 = 1, (*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x10) == 0)) {
    FUN_BATTLE_BIN__80184e40();
    uVar1 = 0;
    TarCurActPtr->EvadeType = 7;
  }
  return uVar1;
}



void FUN_BATTLE_BIN__8018ad58(void)

{
  SkillsetID SVar1;
  AbilityID AVar2;
  BattleUnitData *pBVar3;
  BattleUnitData *pBVar4;
  byte bVar5;
  
  bVar5 = CurrentAbilityData.NumHitsExecuted;
  pBVar3 = CasBattlePtr;
  SVar1 = (CasBattlePtr->field1_0x16e).SkillsetOfAttack;
  (CasBattlePtr->field1_0x16e).SkillsetOfAttack = Attack;
  pBVar4 = CasBattlePtr;
  AVar2 = (pBVar3->field1_0x16e).AttackToUse;
  (CasBattlePtr->field1_0x16e).AttackToUse = None;
  PreFormulaSetup(&pBVar4->field1_0x16e,CurrentAbilityData.TarID2);
  pBVar3 = CasBattlePtr;
  CurrentAbilityData.NumHitsExecuted = bVar5;
  (CasBattlePtr->field1_0x16e).AttackToUse = AVar2;
  (pBVar3->field1_0x16e).SkillsetOfAttack = SVar1;
  CurrentAbilityData.CanPerformReaction = 0;
  CurrentAbilityData.ReactionID2 = 0;
  return;
}



void FUN_BATTLE_BIN__8018adf4(void)

{
  FUN_BATTLE_BIN__8018bd74(&TarCurActPtr->HitFlag);
  FUN_BATTLE_BIN__8018bd74(&CasCurActPtr->HitFlag);
  CasCurActPtr->HitFlag = false;
  return;
}



void FUN_BATTLE_BIN__8018ae3c(void)

{
  CurActionUnitData *pCVar1;
  int iVar2;
  int iVar3;
  
  FUN_BATTLE_BIN__8018adf4();
  CurrentAbilityData._81_1_ = CurrentAbilityData._81_1_ & 0x7f;
  TarCurActPtr->field_0x25 = 1;
  pCVar1 = TarCurActPtr;
  iVar3 = 0;
  if ((*(ushort *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x8060) == 0) {
    if ((CurrentAbilityData._81_1_ == '\x01') &&
       (iVar2 = (uint)(CurrentAbilityData.FallDistance >> 1) - (uint)(TarBattlePtr->field0_0x0).Jump
       , 0 < iVar2)) {
      iVar3 = (int)(iVar2 * (uint)(TarBattlePtr->field0_0x0).MaxHP) / 10;
      if (999 < iVar3) {
        iVar3 = 999;
      }
    }
    TarCurActPtr->HPDamage = (short)iVar3;
    if (iVar3 != 0) {
      pCVar1->field_0x25 = pCVar1->field_0x25 | 0x80;
    }
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8018af2c(void)

{
  CurActionUnitData *pCVar1;
  int iVar2;
  undefined uVar3;
  short sVar4;
  
  uVar3 = 1;
  if ((short)DAT_BATTLE_BIN__80192d9c == 0x1b8) {
    CasBattlePtr = UnitBattleData + DAT_BATTLE_BIN__8018f8c8;
  }
  if (((&DAT_8005ea2a)[(short)DAT_BATTLE_BIN__80192d9c] & 3) == 1) {
    return 0;
  }
  FUN_BATTLE_BIN__8018adf4();
  pCVar1 = CasCurActPtr;
  switch((int)((DAT_BATTLE_BIN__80192d9c - 0x1a6) * 0x10000) >> 0x10) {
  case 0:
    TarCurActPtr->field_0x14 = 0x81;
    break;
  case 1:
    TarCurActPtr->field_0x15 = 0x81;
    break;
  case 2:
    TarCurActPtr->field_0x12 = 0x81;
    break;
  case 3:
    (TarCurActPtr->StatusInfliction).field_0x2 = 0x10;
    goto LAB_BATTLE_BIN__8018b070;
  case 4:
    *(undefined *)&TarCurActPtr->StatusInfliction = 2;
    goto LAB_BATTLE_BIN__8018b070;
  case 5:
    (TarCurActPtr->StatusInfliction).field_0x2 = 0x20;
    goto LAB_BATTLE_BIN__8018b070;
  case 6:
    (TarCurActPtr->StatusInfliction).field_0x3 = 0x40;
LAB_BATTLE_BIN__8018b070:
    iVar2 = FUN_BATTLE_BIN__80184b24(0);
    if (iVar2 != 0) {
      uVar3 = 8;
    }
    break;
  case 7:
    TarCurActPtr->field_0x16 = 0x83;
    break;
  case 8:
    TarCurActPtr->field_0x17 = 0x83;
    break;
  case 9:
    uVar3 = 0x40;
    TarCurActPtr->HPRecovery = (TarBattlePtr->field0_0x0).MaxHP - (TarBattlePtr->field0_0x0).HP;
    break;
  case 10:
    uVar3 = 0x10;
    TarCurActPtr->MPRecovery = (TarBattlePtr->field0_0x0).MaxMP - (TarBattlePtr->field0_0x0).MP;
    break;
  case 0xb:
    TarCurActPtr->field_0x13 = 0xff;
    break;
  case 0xc:
    uVar3 = 0x80;
    TarCurActPtr->HPDamage = (CasBattlePtr->field0_0x0).MaxHP;
    break;
  default:
    TarCurActPtr->field_0x25 = 0;
    return 0xffffffff;
  case 0x10:
    uVar3 = 0x10;
    TarCurActPtr->MPRecovery = TarCurActPtr->ReactionVar;
    break;
  case 0x11:
    TarCurActPtr->GilLost = TarCurActPtr->ReactionVar;
    break;
  case 0x16:
    if (DAT_BATTLE_BIN__80193878 == 0) {
      sVar4 = 0;
    }
    else {
      sVar4 = (short)((int)((uint)(ushort)(CasBattlePtr->field2_0x18c).ReactionVar +
                            DAT_BATTLE_BIN__80193878 + -1) / DAT_BATTLE_BIN__80193878);
    }
    uVar3 = 0x40;
    TarCurActPtr->HPRecovery = sVar4;
    break;
  case 0x18:
    sVar4 = (CasBattlePtr->field2_0x18c).ReactionVar;
    uVar3 = 0x80;
    TarCurActPtr->HPDamage = sVar4;
    pCVar1->HPRecovery = sVar4;
    pCVar1->field_0x25 = 0x40;
    CasCurActPtr->HitFlag = true;
  }
  TarCurActPtr->field_0x25 = uVar3;
  FUN_BATTLE_BIN__8018ba44();
  if (*(short *)&TarCurActPtr->field_0x10 != 0) {
    TarCurActPtr->field_0x25 = TarCurActPtr->field_0x25 | 1;
  }
  CurrentAbilityData.ReactionID2 = 0;
  return 1;
}



void FUN_BATTLE_BIN__8018b274(int param_1)

{
  CurrentAbilityData.UsedItem3 = CurrentAbilityData.SecondaryUsedItem;
  if (CurrentAbilityData.NumHitsExecuted == 0) {
    CurrentAbilityData.UsedItem3 = CurrentAbilityData.PrimaryUsedItem;
  }
  switch(ActionMenus[*(byte *)(param_1 + 1)]) {
  case Default:
  case Math:
  case Geomancy:
  case Monster:
    if ((*(short *)(param_1 + 2) < 0x170) &&
       ((SecondaryAbilityData[*(short *)(param_1 + 2)].field_0x3 & 0x24) == 0)) {
      CurrentAbilityData.UsedItem3 = None;
    }
    break;
  case Item:
  case DrawOut:
    CurrentAbilityData.UsedItem3 = *(ItemID *)(param_1 + 8);
    break;
  case Jump:
  case BUGGED2:
    CurrentAbilityData.UsedItem3 = None;
  }
  if (CurrentAbilityData.UsedItem3 == NONE_ENTD) {
    CurrentAbilityData.UsedItem3 = None;
  }
  return;
}



// WARNING: Variable defined which should be unmapped: TempTargettingData

int PreFormulaSetup(CurActionTargetData *CasCurActData,byte TarID)

{
  AbilityIDByte AbilityID;
  int Success;
  int TileID;
  undefined3 extraout_var;
  ItemID UsedItem;
  uint ProcID;
  FormulaID AbilityFormula;
  uint Formula;
  SkillsetType UsedSkillsetType;
  CurActionTargetData TempTargettingData;
  
  BATTLE_Unit_Targetting_to_Temp(CasCurActData,&TempTargettingData);
  TarBattlePtr = UnitBattleData + TarID;
  TarCurActPtr = &UnitBattleData[TarID].field2_0x18c;
  CurrentAbilityData._114_1_ = 0;
  CurrentAbilityData.CasID2 = TempTargettingData.AttackerID;
  CasCurActPtr = &::CasCurActData;
  CasBattlePtr = UnitBattleData + TempTargettingData.AttackerID;
  CurrentAbilityData.TarID2 = TarID;
  if ((DAT_BATTLE_BIN__8018f5f0 == 0) || (TileID = FUN_BATTLE_BIN__8018af2c(), TileID == 0)) {
    if ((CurrentAbilityData._81_1_ & 0x80) == 0) {
      TileID = GetUnitTileID(TarBattlePtr);
      CurrentAbilityData.CasTileType = (&DAT_BATTLE_BIN__8018f8cc)[TileID * 8] & 0x3f;
      UsedItem = CurrentAbilityData.SecondaryUsedItem;
      if (CurrentAbilityData.NumHitsExecuted == 0) {
        UsedItem = CurrentAbilityData.PrimaryUsedItem;
      }
      if (TempTargettingData.SkillsetOfAttack == DrawOut) {
        UsedItem = TempTargettingData.UsedItem;
      }
      if (LightningBall < UsedItem) {
        UsedItem = None;
      }
      ProcID = (uint)TempTargettingData.AttackToUse;
      CurrentAbilityData.UsedAbility2 = TempTargettingData.AttackToUse;
      CurrentAbilityData._hands = false;
      if (Potion < TempTargettingData.AttackToUse) {
        ProcID = 0;
      }
      CurrentAbilityData.UsedItem3 = UsedItem;
      StoreArg1_IntoArg2_(&SecondaryAbilityData[ProcID].Range,
                          &CurrentAbilityData.CurrentAbilityFuncData.Range,0xe);
      StoreArg1_IntoArg2_(&WeaponSecondary[UsedItem].Range,
                          &CurrentAbilityData.CurrentWeaponFuncData.Range,8);
      CurrentAbilityData.ProcID = WeaponSecondary[UsedItem].SecondaryEffect;
      CurrentAbilityData.ChargePower = 0;
      CurrentAbilityData.Formula = Weapon;
      CurrentAbilityData.CasEffectiveFaith = (CasBattlePtr->field0_0x0).Faith;
      CurrentAbilityData.TarEffectiveFaith = (TarBattlePtr->field0_0x0).Faith;
      FUN_BATTLE_BIN__8018adf4();
      CurrentAbilityData.UsedSkillset2 = TempTargettingData.SkillsetOfAttack;
      UsedSkillsetType = ActionMenus[TempTargettingData.SkillsetOfAttack];
      if (CurrentAbilityData.CanPerformReaction == 0) {
        CurrentAbilityData.ReactionID2 = 0;
      }
      else {
        TempTargettingData.AttackToUse = CurrentAbilityData.ReactionID2;
        CurrentAbilityData.UsedAbility2 = CurrentAbilityData.ReactionID2;
        UsedSkillsetType = Default;
      }
      TarCurActPtr->field_0x18 =
           PrimaryAbilityData[(short)TempTargettingData.AttackToUse].field_0x4 & 3;
      if ((PrimaryAbilityData[(short)TempTargettingData.AttackToUse].field_0x7 & 1) != 0) {
        TarCurActPtr->field_0x18 = TarCurActPtr->field_0x18 + -0x80;
      }
      if (UsedSkillsetType == DrawOut) {
        TempTargettingData.AttackToUse = TempTargettingData.UsedItem + Float;
      }
      switch(UsedSkillsetType) {
      case Item:
        AbilityFormula = Weapon;
        if (SaltyRage < TempTargettingData.UsedItem) {
          CurrentAbilityData.UsedItem3 = TempTargettingData.UsedItem;
          CurrentAbilityData.UsedItem4 = TempTargettingData.UsedItem + SasukeNinjato;
          ProcID = (uint)CurrentAbilityData.UsedItem4;
          CurrentAbilityData.ProcID = ItemSecondary[CurrentAbilityData.UsedItem4].InflictStatusID;
          Data_Null(&CurrentAbilityData.CurrentAbilityFuncData.Range,0xe);
          AbilityFormula = ItemSecondary[ProcID].Formula;
        }
        break;
      case Throw:
        AbilityFormula = Throw;
        break;
      case Geomancy:
        AbilityID = FUN_BATTLE_BIN__8017f2d8(CasBattlePtr);
        TempTargettingData.AttackToUse = (AbilityID)CONCAT31(extraout_var,AbilityID);
      case Default:
      case Math:
      case Monster:
      case DrawOut:
        AbilityFormula = Weapon;
        if ((short)TempTargettingData.AttackToUse < 0x171) {
          if ((((CasBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 2) != 0) &&
             (CurrentAbilityData.CanPerformReaction == 0)) {
            CurrentAbilityData.UsedItem3 = None;
            StoreArg1_IntoArg2_(&WeaponSecondary[0].Range,
                                &CurrentAbilityData.CurrentWeaponFuncData.Range,8);
          }
          TileID = (int)(short)TempTargettingData.AttackToUse;
          StoreArg1_IntoArg2_(&SecondaryAbilityData[TileID].Range,
                              &CurrentAbilityData.CurrentAbilityFuncData.Range,0xe);
          CurrentAbilityData.ProcID = SecondaryAbilityData[TileID].InflictStatus;
          AbilityFormula = SecondaryAbilityData[TileID].Formula;
          if (((CurrentAbilityData.CurrentAbilityFuncData._3_1_ & 0x24) == 0) &&
             (UsedSkillsetType != DrawOut)) {
            CurrentAbilityData.UsedItem3 = None;
          }
        }
        break;
      default:
        AbilityFormula = Weapon;
        break;
      case Jump:
        AbilityFormula = Jump;
        break;
      case Aim:
        TileID = (uint)TempTargettingData.AttackToUse << 1;
        if (7 < TempTargettingData.AttackToUse - 0x196) {
          TileID = 0x32c;
        }
        CurrentAbilityData.ChargePower = (&SecondaryAbilityData[0x139].InflictStatus)[TileID];
      case Attack:
        AbilityFormula = WeaponSecondary[UsedItem].Formula;
        if (((CurrentAbilityData.CurrentWeaponFuncData._1_1_ & 4) != 0) &&
           ((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 2) & 2) != 0)) {
          if (((CasBattlePtr->field0_0x0).RHWeapon == NONE_ENTD) &&
             ((CasBattlePtr->field0_0x0).RHShield == NONE_ENTD)) {
            CurrentAbilityData._hands = true;
          }
          if (((CasBattlePtr->field0_0x0).LHWeapon == NONE_ENTD) &&
             ((CasBattlePtr->field0_0x0).LHShield == NONE_ENTD)) {
            CurrentAbilityData._hands = true;
          }
        }
      }
      CurrentAbilityData.CanPerformReaction = 0;
      CurrentAbilityData._81_1_ = 0;
      if ((AbilityFormula == 0) || (Jump < AbilityFormula)) {
        AbilityFormula = Weapon;
      }
      ProcID = (uint)CurrentAbilityData.ProcID;
      Formula = (uint)AbilityFormula;
      if (Formula == 3) {
        ProcID = 0;
      }
      StoreArg1_IntoArg2_((undefined *)(InflictStatusList + ProcID),
                          (undefined *)&CurrentAbilityData.CurrentAbilityInflictions,6);
      FUN_BATTLE_BIN__8018b9f8();
      CurrentAbilityData.Formula = AbilityFormula;
      FUN_BATTLE_BIN__8018c9e4();
      if (TarCurActPtr->HitFlag == false) {
        Success = 1;
      }
      else {
        (**(code **)(&RiderAllowedStatuses.field_0x4 + Formula * 4))();
        if (Formula < 7) {
          FUN_BATTLE_BIN__80187ca0();
        }
        if (Formula == 100) {
          CurrentAbilityData.UsedItem3 = None;
        }
        FUN_BATTLE_BIN__8018ba44();
        Success = 0;
        if (*(short *)&TarCurActPtr->field_0x10 != 0) {
          TarCurActPtr->field_0x25 = TarCurActPtr->field_0x25 | 1;
          Success = 0;
        }
      }
    }
    else {
      FUN_BATTLE_BIN__8018ae3c();
      Success = 0;
    }
  }
  else {
    FUN_BATTLE_BIN__8018b274((int)&TempTargettingData);
    Success = 0;
  }
  return Success;
}



void FUN_BATTLE_BIN__8018b9f8(void)

{
  int iVar1;
  
  if ((CurrentAbilityData.CurrentAbilityInflictions._0_1_ & 0x10) != 0) {
    iVar1 = 0;
    do {
      (&DAT_BATTLE_BIN__80193860)[iVar1] =
           (&CurrentAbilityData.CurrentAbilityInflictions.field4_0x1.field_0x0)[iVar1];
      iVar1 = iVar1 + 1;
    } while (iVar1 < 5);
  }
  return;
}



void FUN_BATTLE_BIN__8018ba44(void)

{
  byte bVar1;
  short sVar2;
  bool bVar3;
  CurActionUnitData *pCVar4;
  CurActionUnitData *pCVar5;
  
  bVar1 = *(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses;
  bVar3 = false;
  if (((bVar1 & 0x20) != 0) && (((DAT_BATTLE_BIN__80193860 & 0x20) == 0 || ((bVar1 & 0x10) != 0))))
  {
    bVar3 = true;
  }
  if ((((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x1 & 0x80) != 0) &&
     ((DAT_BATTLE_BIN__80193861 & 0x80) == 0)) {
    bVar3 = true;
  }
  if ((((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x3 & 1) != 0) &&
     ((DAT_BATTLE_BIN__80193863 & 1) == 0)) {
    bVar3 = true;
  }
  if (bVar3) {
    FUN_BATTLE_BIN__8018ed7c((TarBattlePtr->field1_0x16e).UnitID2);
    FUN_BATTLE_BIN__8018adf4();
    FUN_BATTLE_BIN__8018bcf0();
    FUN_BATTLE_BIN__8018bd34();
    CurrentAbilityData._114_1_ = 0;
    FUN_BATTLE_BIN__8018430c();
    TarCurActPtr->EvadeType = 8;
  }
  else {
    sVar2._0_1_ = TarCurActPtr->Hit_;
    sVar2._1_1_ = TarCurActPtr->field60_0x2b;
    if (sVar2 == 0) {
      TarCurActPtr->HitFlag = false;
    }
    if (999 < TarCurActPtr->HPDamage) {
      TarCurActPtr->HPDamage = 999;
    }
    if (999 < TarCurActPtr->HPRecovery) {
      TarCurActPtr->HPRecovery = 999;
    }
    if (999 < TarCurActPtr->MPDamage) {
      TarCurActPtr->MPDamage = 999;
    }
    if (999 < TarCurActPtr->MPRecovery) {
      TarCurActPtr->MPRecovery = 999;
    }
    if ((int)(uint)(TarBattlePtr->field0_0x0).HP <= (int)TarCurActPtr->HPDamage) {
      FUN_BATTLE_BIN__8018bd34();
      FUN_BATTLE_BIN__8018bcf0();
    }
    pCVar4 = TarCurActPtr;
    if ((((TarCurActPtr->field_0x25 != '\0') && (TarCurActPtr->HitFlag != false)) &&
        (DAT_BATTLE_BIN__8018f5f0 == 0)) &&
       ((*(short *)(&DAT_BATTLE_BIN__8018f5f4 +
                   (((byte)(TarBattlePtr->field2_0x18c).field_0x2e & 0x30) >> 4) * 2) != 0 &&
        ((CurrentAbilityData.CurrentAbilityFuncData._5_1_ & 8) != 0)))) {
      TarCurActPtr->EvadeType = 10;
      pCVar5 = TarCurActPtr;
      *(undefined2 *)&pCVar4->field_0x10 = 0x8000;
      FUN_BATTLE_BIN__8018bdd4((int)pCVar5);
      FUN_BATTLE_BIN__8018bd34();
    }
  }
  return;
}



void FUN_BATTLE_BIN__8018bcf0(void)

{
  if (CurrentAbilityData.CanPerformReaction != 0) {
    CurrentAbilityData.ReactionID2 = 0;
    CurrentAbilityData.CanPerformReaction = 0;
    *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 & 0xfdff;
  }
  return;
}



void FUN_BATTLE_BIN__8018bd34(void)

{
  if ((CurrentAbilityData._81_1_ & 0x80) != 0) {
    CurrentAbilityData._81_1_ = 0;
    *(ushort *)&TarCurActPtr->field_0x10 = *(ushort *)&TarCurActPtr->field_0x10 & 0xbfff;
  }
  return;
}



void FUN_BATTLE_BIN__8018bd74(undefined *param_1)

{
  Data_Null(param_1,0xe);
  Data_Null(param_1 + 0x10,0x16);
  Data_Null(param_1 + 0x28,2);
  *(undefined2 *)(param_1 + 0x2a) = 100;
  param_1[0x25] = 0;
  *param_1 = 1;
  FUN_BATTLE_BIN__8018bdd4((int)param_1);
  return;
}



void FUN_BATTLE_BIN__8018bdd4(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    iVar1 = param_1 + iVar2;
    (&DAT_BATTLE_BIN__80193860)[iVar2] = 0;
    iVar2 = iVar2 + 1;
    *(undefined *)(iVar1 + 0x1b) = 0;
    *(undefined *)(iVar1 + 0x20) = 0;
  } while (iVar2 < 5);
  return;
}



int FUN_BATTLE_BIN__8018be08(int param_1)

{
  bool bVar1;
  byte bVar2;
  int iVar3;
  CurActionUnitData *pCVar4;
  BattleUnitData *pBVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  byte *pbVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  int iVar15;
  uint uVar16;
  byte local_28 [8];
  byte local_20 [16];
  
  if (param_1 < 0x15) {
    TarBattlePtr = UnitBattleData + param_1;
    TarCurActPtr = &UnitBattleData[param_1].field2_0x18c;
    CurrentAbilityData.TarID2 = (byte)param_1;
    if (UnitBattleData[param_1].field0_0x0.UnitID != 0xff) {
      if (((*(byte *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 0x20) != 0) &&
         (((*(byte *)&UnitBattleData[param_1].field2_0x18c.StatusInfliction & 0x40) != 0 ||
          ((UnitBattleData[param_1].field2_0x18c.StatusInfliction.field_0x1 & 1) != 0)))) {
        FUN_BATTLE_BIN__8018e07c(param_1,0);
        return 0;
      }
      if (DAT_BATTLE_BIN__8018f5f0 == 0) {
        UnitBattleData[param_1].field1_0x16e.field_0x1b = 1;
      }
      FUN_BATTLE_BIN__8018cb00();
      if (TarCurActPtr->ReactionID == 0x1c2) {
        FUN_BATTLE_BIN__8018e9e8((int)TarBattlePtr,(uint)*(byte *)&TarCurActPtr->ReactionVar);
      }
      if (TarCurActPtr->HitFlag == false) {
        return 0;
      }
      if ((*(ushort *)&TarCurActPtr->field_0x10 & 0x8000) != 0) {
        iVar15 = (uint)*(ushort *)
                        (&DAT_BATTLE_BIN__8018f5f4 +
                        (((byte)(TarBattlePtr->field2_0x18c).field_0x2e & 0x30) >> 3)) -
                 (int)TarCurActPtr->HPDamage;
        if (iVar15 < 0) {
          iVar15 = 0;
        }
        *(ushort *)
         (&DAT_BATTLE_BIN__8018f5f4 + (((byte)(TarBattlePtr->field2_0x18c).field_0x2e & 0x30) >> 3))
             = (ushort)iVar15;
        return 0;
      }
      bVar1 = (*(ushort *)&TarCurActPtr->field_0x10 & 1) != 0;
      if (bVar1) {
        *(ushort *)
         (&DAT_BATTLE_BIN__8018f5f4 + (((byte)(TarBattlePtr->field0_0x0).field_0x5 & 0x30) >> 3)) =
             (TarBattlePtr->field0_0x0).MaxHP;
      }
      uVar14 = (uint)bVar1;
      FUN_BATTLE_BIN__8018cc34();
      pBVar5 = TarBattlePtr;
      pCVar4 = TarCurActPtr;
      uVar13 = (uint)(TarBattlePtr->field0_0x0).HP;
      uVar16 = (uVar13 - (int)TarCurActPtr->HPDamage) + (int)TarCurActPtr->HPRecovery;
      if ((int)uVar16 < 0) {
        uVar16 = 0;
      }
      uVar9 = (uint)(TarBattlePtr->field0_0x0).MaxHP;
      if ((int)uVar9 < (int)uVar16) {
        uVar16 = uVar9;
      }
      uVar12 = (uint)(ushort)(TarBattlePtr->field0_0x0).MP;
      uVar9 = (uVar12 - (int)TarCurActPtr->MPDamage) + (int)TarCurActPtr->MPRecovery;
      if ((int)uVar9 < 0) {
        uVar9 = 0;
      }
      uVar11 = (uint)(TarBattlePtr->field0_0x0).MaxMP;
      if ((int)uVar11 < (int)uVar9) {
        uVar9 = uVar11;
      }
      if ((uVar13 != uVar16) || (uVar12 != uVar9)) {
        uVar14 = 1;
      }
      (TarBattlePtr->field0_0x0).HP = (ushort)uVar16;
      (pBVar5->field0_0x0).MP = (short)uVar9;
      uVar13 = FUN_BATTLE_BIN__8018d570
                         ((uint)(byte)pCVar4->field_0x12,&(pBVar5->field0_0x0).OriginalSP,0x32,1);
      uVar9 = FUN_BATTLE_BIN__8018d570
                        ((uint)(byte)TarCurActPtr->field_0x13,&(TarBattlePtr->field0_0x0).CT,0xff,0)
      ;
      uVar12 = FUN_BATTLE_BIN__8018d570
                         ((uint)(byte)TarCurActPtr->field_0x14,
                          &(TarBattlePtr->field0_0x0).OriginalPA,99,1);
      uVar11 = FUN_BATTLE_BIN__8018d570
                         ((uint)(byte)TarCurActPtr->field_0x15,
                          &(TarBattlePtr->field0_0x0).OriginalMA,99,1);
      uVar6 = FUN_BATTLE_BIN__8018d570
                        ((uint)(byte)TarCurActPtr->field_0x16,&(TarBattlePtr->field0_0x0).Brave,100,
                         -(uint)((byte)(TarBattlePtr->field1_0x16e).field_0x14 >> 7) & 10);
      uVar7 = FUN_BATTLE_BIN__8018d570
                        ((uint)(byte)TarCurActPtr->field_0x17,&(TarBattlePtr->field0_0x0).Faith,100,
                         0);
      uVar8 = FUN_BATTLE_BIN__8018d3c0();
      uVar8 = uVar14 | uVar13 | uVar9 | uVar12 | uVar11 | uVar6 | uVar7 | uVar8;
      if ((*(ushort *)&TarCurActPtr->field_0x10 & 8) != 0) {
        FUN_BATTLE_BIN__8018e9e8((int)TarBattlePtr,(uint)(TarBattlePtr->field1_0x16e).UsedItem);
      }
      if ((TarCurActPtr->GilLost != 0) || (TarCurActPtr->StolenEXP != 0)) {
        uVar8 = uVar8 | 1;
      }
      FUN_BATTLE_BIN__8018ea98((int)TarBattlePtr,(int)TarCurActPtr->GilLost,0);
      FUN_BATTLE_BIN__8018eb50((int)TarBattlePtr,(uint)TarCurActPtr->StolenEXP);
      if (TarCurActPtr->StolenJP != 0) {
        FUN_BATTLE_BIN__8018dff8((int)TarBattlePtr);
      }
      uVar13 = FUN_BATTLE_BIN__8018c85c();
      uVar14 = FUN_BATTLE_BIN__8018c680();
      uVar14 = uVar8 | uVar13 | uVar14;
      if (((*(ushort *)&TarCurActPtr->field_0x10 & 2) != 0) &&
         (uVar14 = uVar14 | 1, DAT_BATTLE_BIN__8018f5fc == 0)) {
        FUN_BATTLE_BIN__80180f40((int)TarBattlePtr);
      }
      if ((uVar16 == 0) && ((*(ushort *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x160) == 0))
      {
        FUN_BATTLE_BIN__8018bdd4((int)TarCurActPtr);
        *(undefined *)&TarCurActPtr->StatusInfliction = 0x20;
        FUN_BATTLE_BIN__8018e07c(param_1,1);
        if (DAT_BATTLE_BIN__8018f5fc == 0) {
          (TarBattlePtr->field0_0x0).KOCount = (TarBattlePtr->field0_0x0).KOCount + 1;
        }
        FUN_BATTLE_BIN__8018d620(2);
        bVar2 = (TarBattlePtr->field1_0x16e).field_0x14;
      }
      else {
        if ((int)((TarBattlePtr->field0_0x0).MaxHP / 5) < (int)uVar16) {
          (TarCurActPtr->StatusRemoval).field_0x2 = (TarCurActPtr->StatusRemoval).field_0x2 | 1;
        }
        else {
          (TarCurActPtr->StatusInfliction).field_0x2 =
               (TarCurActPtr->StatusInfliction).field_0x2 | 1;
        }
        if ((TarBattlePtr->field0_0x0).Brave < 10) {
          (TarCurActPtr->StatusInfliction).field_0x2 =
               (TarCurActPtr->StatusInfliction).field_0x2 | 4;
        }
        else {
          (TarCurActPtr->StatusRemoval).field_0x2 = (TarCurActPtr->StatusRemoval).field_0x2 | 4;
        }
        if ((TarCurActPtr->field_0x25 & 0x80) != 0) {
          (TarCurActPtr->StatusRemoval).field_0x4 = (TarCurActPtr->StatusRemoval).field_0x4 | 0x30;
          (TarCurActPtr->StatusRemoval).field_0x2 = (TarCurActPtr->StatusRemoval).field_0x2 | 0x10;
          (TarCurActPtr->StatusRemoval).field_0x1 = (TarCurActPtr->StatusRemoval).field_0x1 | 0x10;
        }
        if (((*(ushort *)&TarCurActPtr->field_0x10 & 0x4000) != 0) &&
           (iVar15 = FUN_BATTLE_BIN__80180178(TarBattlePtr,0), iVar15 != 0)) {
          *(byte *)&TarCurActPtr->StatusRemoval = *(byte *)&TarCurActPtr->StatusRemoval | 8;
          (TarBattlePtr->field0_0x0).CurAbCT = 0xff;
        }
        FUN_BATTLE_BIN__80184b24(0);
        iVar15 = 0;
        pbVar10 = local_28;
        do {
          iVar3 = iVar15 + -0x7a;
          iVar15 = iVar15 + 1;
          *pbVar10 = (TarBattlePtr->field0_0x0).JobLevels[iVar3];
          pbVar10 = pbVar10 + 1;
        } while (iVar15 < 5);
        iVar15 = 0;
        pbVar10 = local_20;
        do {
          iVar3 = iVar15 + -0x75;
          iVar15 = iVar15 + 1;
          *pbVar10 = (TarBattlePtr->field0_0x0).JobLevels[iVar3];
          pbVar10 = pbVar10 + 1;
        } while (iVar15 < 0x10);
        FUN_BATTLE_BIN__8018e07c(param_1,0);
        iVar15 = 0;
        if (((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x20) == 0) ||
           ((local_28[0] & 0x20) != 0)) {
          pbVar10 = local_28;
          do {
            iVar3 = iVar15 + -0x7a;
            iVar15 = iVar15 + 1;
            if ((TarBattlePtr->field0_0x0).JobLevels[iVar3] != *pbVar10) {
              uVar14 = 1;
              break;
            }
            pbVar10 = pbVar10 + 1;
          } while (iVar15 < 5);
          iVar15 = 0;
          pbVar10 = local_20;
          do {
            iVar3 = iVar15 + -0x75;
            iVar15 = iVar15 + 1;
            if ((TarBattlePtr->field0_0x0).JobLevels[iVar3] != *pbVar10) {
              uVar14 = 1;
              break;
            }
            pbVar10 = pbVar10 + 1;
          } while (iVar15 < 0x10);
        }
        else {
          uVar14 = 2;
          if (DAT_BATTLE_BIN__8018f5fc == 0) {
            (TarBattlePtr->field0_0x0).KOCount = (TarBattlePtr->field0_0x0).KOCount + 1;
          }
        }
        FUN_BATTLE_BIN__8018d620(uVar14);
        if (uVar14 != 0) {
          (TarBattlePtr->field1_0x16e).field_0x1b = 2;
        }
        FUN_BATTLE_BIN__8018ccd8();
        if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x60) == 0) {
          return 0;
        }
        bVar2 = (TarBattlePtr->field1_0x16e).field_0x14;
      }
      return -(uint)(bVar2 >> 7);
    }
  }
  return -1;
}



int FUN_BATTLE_BIN__8018c680(void)

{
  JobID JVar1;
  byte bVar2;
  bool bVar3;
  undefined3 extraout_var;
  int iVar4;
  
  if (DAT_BATTLE_BIN__8018f5fc == 0) {
    if ((*(ushort *)&TarCurActPtr->field_0x10 & 0x20) == 0) {
      return 0;
    }
    if ((TarBattlePtr->field0_0x0).JobID - 0x5e < 0x30) {
      JVar1 = (TarBattlePtr->field0_0x0).JobID;
      bVar3 = PassFail_Roll(0x100,0x1f);
      iVar4 = (JVar1 - 0x5e) * 2;
      if (CONCAT31(extraout_var,bVar3) == 0) {
        bVar2 = (&DAT_80066065)[iVar4];
      }
      else {
        bVar2 = (&DAT_80066064)[iVar4];
      }
      if ((byte)(&DAT_80059494)[bVar2] == 0xff) {
        return 0xff;
      }
      iVar4 = (byte)(&DAT_80059494)[bVar2] + 1;
      (&DAT_80059494)[bVar2] = (char)iVar4;
      return iVar4;
    }
  }
  return 0;
}



void FUN_BATTLE_BIN__8018c758(JobID *param_1)

{
  JobID JVar1;
  JobID JVar2;
  JobID JVar3;
  JobID JVar4;
  ushort uVar5;
  undefined auStack_40 [16];
  byte abStack_30 [8];
  
  JVar1 = param_1[0x161];
  param_1[3] = Morbol;
  *param_1 = Morbol;
  StoreArg1_IntoArg2_(param_1 + 300,auStack_40,0x10);
  JVar2 = param_1[2];
  uVar5 = *(ushort *)(param_1 + 0x48);
  JVar3 = param_1[0x47];
  JVar4 = param_1[0x48];
  param_1[2] = ~SquireR1;
  BATTLE_Initialize_UnitGen(param_1,(JobID *)0x0,0,0x82);
  param_1[0x48] = JVar4;
  param_1[0x47] = JVar3;
  param_1[2] = JVar2;
  *(ushort *)(param_1 + 0x48) =
       *(ushort *)(param_1 + 0x48) & 0x70ff | uVar5 & 0x8000 | (ushort)((uVar5 >> 8 & 0xf) << 8);
  StoreArg1_IntoArg2_(auStack_40,param_1 + 300,0x10);
  param_1[0x161] = JVar1;
  Get_Portrait(param_1,abStack_30);
  return;
}



undefined4 FUN_BATTLE_BIN__8018c85c(void)

{
  uint uVar1;
  int iVar2;
  
  if ((*(ushort *)&TarCurActPtr->field_0x10 & 0x80) == 0) {
    if ((*(ushort *)&TarCurActPtr->field_0x10 & 0x100) == 0) {
      return 0;
    }
    uVar1 = (TarBattlePtr->field0_0x0).Level - 1;
    iVar2 = 1;
    if ((int)uVar1 < 1) {
      uVar1 = 1;
    }
  }
  else {
    uVar1 = (TarBattlePtr->field0_0x0).Level + 1;
    iVar2 = 0;
    if (99 < uVar1) {
      uVar1 = 99;
    }
  }
  if (DAT_BATTLE_BIN__8018f5fc == 0) {
    (TarBattlePtr->field0_0x0).Level = (byte)uVar1;
    LevelUp_Section((int)TarBattlePtr,iVar2);
  }
  return 1;
}



void FUN_BATTLE_BIN__8018c920(BattleUnitData *param_1)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__8018c968((int)param_1);
  if ((iVar1 == 0) && (iVar1 = FUN_BATTLE_BIN__8018c9a0((int)param_1), iVar1 == 0)) {
    FUN_BATTLE_BIN__8018130c(param_1);
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8018c968(int param_1)

{
  undefined4 uVar1;
  
  if (DAT_BATTLE_BIN__8018f5f0 == 0) {
    uVar1 = Check_HasStatus(param_1,4);
  }
  else {
    uVar1 = 1;
  }
  return uVar1;
}



int FUN_BATTLE_BIN__8018c9a0(int param_1)

{
  int iVar1;
  
  if (((CurrentAbilityData.ReactionID2 == 0) ||
      (iVar1 = 1, CurrentAbilityData.CanPerformReaction != 0)) &&
     (iVar1 = (int)*(short *)(param_1 + 0x19a), iVar1 != 0)) {
    iVar1 = 2;
  }
  return iVar1;
}



void FUN_BATTLE_BIN__8018c9e4(void)

{
  byte bVar1;
  int iVar2;
  
  if (((DAT_BATTLE_BIN__8018f5f0 == 0) && (CurrentAbilityData.Formula != HealWeapon)) &&
     (iVar2 = FUN_BATTLE_BIN__8018c9a0((int)TarBattlePtr), iVar2 != 1)) {
    if ((((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x4 & 2) != 0) &&
       (CurrentAbilityData.ReactionID2 == 0)) {
      FUN_BATTLE_BIN__8018cfe8();
    }
    if (((TarCurActPtr->ReactionID == 0) &&
        (iVar2 = FUN_BATTLE_BIN__8018c968((int)TarBattlePtr), iVar2 == 0)) &&
       (iVar2 = FUN_BATTLE_BIN__8018130c(TarBattlePtr), iVar2 == 0)) {
      bVar1 = *(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 3);
      if ((bVar1 & 4) == 0) {
        if ((bVar1 & 2) != 0) {
          FUN_BATTLE_BIN__8018d0e8();
        }
      }
      else {
        FUN_BATTLE_BIN__8018d050();
      }
    }
  }
  return;
}



void FUN_BATTLE_BIN__8018cb00(void)

{
  byte bVar1;
  int iVar2;
  short sVar3;
  byte bVar4;
  
  if (CurrentAbilityData.Formula == HealWeapon) {
    return;
  }
  iVar2 = FUN_BATTLE_BIN__8018c920(TarBattlePtr);
  if (iVar2 == 0) {
    bVar1 = *(byte *)&(TarBattlePtr->field0_0x0).Reactions;
    bVar4 = 0x10;
    if ((bVar1 & 0x10) == 0) {
      if ((bVar1 & 8) == 0) {
        bVar4 = 0x10;
        if ((bVar1 & 4) == 0) {
          if ((bVar1 & 1) == 0) {
            bVar1 = *(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 1);
            if ((bVar1 & 0x80) != 0) {
              FUN_BATTLE_BIN__8018cf74(0x1ae);
              return;
            }
            bVar4 = 0x10;
            if ((bVar1 & 2) == 0) {
              bVar4 = 0x80;
              if ((bVar1 & 1) == 0) {
                bVar4 = *(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 2);
                if ((bVar4 & 0x80) != 0) {
                  FUN_BATTLE_BIN__8018cf74(0x1b6);
                  return;
                }
                sVar3 = 0x1ba;
                if ((bVar4 & 8) == 0) {
                  sVar3 = 0x1b3;
                  if ((bVar1 & 4) == 0) {
                    return;
                  }
                  bVar4 = 0x40;
                }
                else {
                  bVar4 = 0x10;
                }
              }
              else {
                sVar3 = 0x1b5;
              }
            }
            else {
              sVar3 = 0x1b4;
            }
          }
          else {
            sVar3 = 0x1ad;
          }
        }
        else {
          sVar3 = 0x1ab;
        }
      }
      else {
        sVar3 = 0x1aa;
      }
    }
    else {
      sVar3 = 0x1a9;
    }
    FUN_BATTLE_BIN__8018ce04(sVar3,bVar4);
    return;
  }
  return;
}



void FUN_BATTLE_BIN__8018cc34(void)

{
  byte bVar1;
  int iVar2;
  
  if ((CurrentAbilityData.Formula != HealWeapon) &&
     (iVar2 = FUN_BATTLE_BIN__8018c920(TarBattlePtr), iVar2 == 0)) {
    bVar1 = *(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 2);
    if ((bVar1 & 1) == 0) {
      if ((bVar1 & 2) == 0) {
        if ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 3) & 0x80) != 0) {
          FUN_BATTLE_BIN__8018d318();
        }
      }
      else {
        FUN_BATTLE_BIN__8018d2a8();
      }
    }
    else {
      FUN_BATTLE_BIN__8018d1b8();
    }
  }
  return;
}



void FUN_BATTLE_BIN__8018ccd8(void)

{
  byte bVar1;
  int iVar2;
  short sVar3;
  
  if (CurrentAbilityData.Formula == HealWeapon) {
    return;
  }
  iVar2 = FUN_BATTLE_BIN__8018c920(TarBattlePtr);
  if (iVar2 != 0) {
    return;
  }
  bVar1 = *(byte *)&(TarBattlePtr->field0_0x0).Reactions;
  if ((bVar1 & 0x80) == 0) {
    if ((bVar1 & 0x40) == 0) {
      if ((bVar1 & 0x20) == 0) {
        if ((bVar1 & 2) == 0) {
          bVar1 = *(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 1);
          if ((bVar1 & 0x40) != 0) {
            FUN_BATTLE_BIN__8018cef4(0x1af);
            return;
          }
          if ((bVar1 & 0x20) != 0) {
            FUN_BATTLE_BIN__8018cef4(0x1b0);
            return;
          }
          if ((bVar1 & 0x10) != 0) {
            FUN_BATTLE_BIN__8018cef4(0x1b1);
            return;
          }
          if ((bVar1 & 8) != 0) {
            FUN_BATTLE_BIN__8018cef4(0x1b2);
            return;
          }
          bVar1 = *(byte *)((int)&(TarBattlePtr->field0_0x0).Reactions + 2);
          sVar3 = 0x1b7;
          if (((bVar1 & 0x40) == 0) && (sVar3 = 0x1b9, (bVar1 & 0x10) == 0)) {
            return;
          }
        }
        else {
          sVar3 = 0x1ac;
        }
      }
      else {
        sVar3 = 0x1a8;
      }
    }
    else {
      sVar3 = 0x1a7;
    }
  }
  else {
    sVar3 = 0x1a6;
  }
  FUN_BATTLE_BIN__8018ce88(sVar3);
  return;
}



void FUN_BATTLE_BIN__8018ce04(short param_1,byte param_2)

{
  CurActionUnitData *pCVar1;
  bool bVar2;
  undefined3 extraout_var;
  
  if (((CurrentAbilityData.UsedSkillset2 != Math) &&
      ((CurrentAbilityData.CurrentAbilityFuncData._6_1_ & param_2) != 0)) &&
     (bVar2 = FUN_BATTLE_BIN__8018d384((int)TarBattlePtr), pCVar1 = TarCurActPtr,
     CONCAT31(extraout_var,bVar2) == 0)) {
    TarCurActPtr->ReactionID = param_1;
    pCVar1->ReactionVar = CurrentAbilityData.UsedAbility2;
  }
  return;
}



void FUN_BATTLE_BIN__8018ce88(short param_1)

{
  short *psVar1;
  CurActionUnitData *pCVar2;
  bool bVar3;
  undefined3 extraout_var;
  
  if (((TarCurActPtr->field_0x25 & 0x80) != 0) &&
     (bVar3 = FUN_BATTLE_BIN__8018d384((int)TarBattlePtr), pCVar2 = TarCurActPtr,
     CONCAT31(extraout_var,bVar3) == 0)) {
    psVar1 = &TarCurActPtr->HPDamage;
    TarCurActPtr->ReactionID = param_1;
    pCVar2->ReactionVar = *psVar1;
  }
  return;
}



void FUN_BATTLE_BIN__8018cef4(short param_1)

{
  bool bVar1;
  undefined3 extraout_var;
  
  if (((((TarBattlePtr->field0_0x0).CurrentStatuses.field_0x2 & 1) != 0) &&
      ((TarCurActPtr->field_0x25 & 0x80) != 0)) &&
     (bVar1 = FUN_BATTLE_BIN__8018d384((int)TarBattlePtr), CONCAT31(extraout_var,bVar1) == 0)) {
    TarCurActPtr->ReactionID = param_1;
  }
  return;
}



void FUN_BATTLE_BIN__8018cf74(short param_1)

{
  CurActionUnitData *pCVar1;
  bool bVar2;
  undefined3 extraout_var;
  
  if ((CurrentAbilityData.MPUsed != 0) &&
     (bVar2 = FUN_BATTLE_BIN__8018d384((int)TarBattlePtr), pCVar1 = TarCurActPtr,
     CONCAT31(extraout_var,bVar2) == 0)) {
    TarCurActPtr->ReactionID = param_1;
    pCVar1->ReactionVar = (ushort)CurrentAbilityData.MPUsed;
  }
  return;
}



void FUN_BATTLE_BIN__8018cfe8(void)

{
  CurActionUnitData *pCVar1;
  AbilityID AVar2;
  
  pCVar1 = TarCurActPtr;
  if ((CurrentAbilityData.UsedSkillset2 != Math) &&
     ((CurrentAbilityData.CurrentAbilityFuncData._5_1_ & 0x80) != 0)) {
    TarCurActPtr->ReactionID = 0x1b8;
    AVar2 = CurrentAbilityData.UsedAbility2;
    pCVar1->Hit_ = 0;
    pCVar1->field60_0x2b = 0;
    pCVar1->HitFlag = false;
    pCVar1->ReactionVar = AVar2;
    TarCurActPtr->EvadeType = 9;
  }
  return;
}



void FUN_BATTLE_BIN__8018d050(void)

{
  BattleUnitData *pBVar1;
  bool bVar2;
  undefined3 extraout_var;
  
  pBVar1 = TarBattlePtr;
  if ((CurrentAbilityData.CurrentAbilityFuncData._6_1_ & 0x10) != 0) {
    *(ushort *)&TarCurActPtr->Hit_ = 100 - (ushort)(TarBattlePtr->field0_0x0).Brave;
    bVar2 = FUN_BATTLE_BIN__8018d384((int)pBVar1);
    if ((CONCAT31(extraout_var,bVar2) == 0) && (DAT_BATTLE_BIN__8018f5fc == 0)) {
      TarCurActPtr->HitFlag = false;
      TarCurActPtr->EvadeType = 0xb;
      TarCurActPtr->ReactionID = 0x1c3;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8018d0e8(void)

{
  BattleUnitData *pBVar1;
  bool bVar2;
  undefined3 extraout_var;
  
  pBVar1 = TarBattlePtr;
  if (((CurrentAbilityData.CurrentAbilityFuncData._3_1_ & 0x20) != 0) &&
     (PrimaryItemData[CurrentAbilityData.UsedItem3].ItemType - 0xb < 2)) {
    *(ushort *)&TarCurActPtr->Hit_ = 100 - (ushort)(TarBattlePtr->field0_0x0).Brave;
    bVar2 = FUN_BATTLE_BIN__8018d384((int)pBVar1);
    if ((CONCAT31(extraout_var,bVar2) == 0) && (DAT_BATTLE_BIN__8018f5fc == 0)) {
      TarCurActPtr->HitFlag = false;
      TarCurActPtr->EvadeType = 4;
      TarCurActPtr->ReactionID = 0x1c4;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8018d1b8(void)

{
  CurActionUnitData *pCVar1;
  CurActionUnitData *pCVar2;
  bool bVar3;
  short sVar4;
  undefined3 extraout_var;
  
  if ((((TarCurActPtr->HPDamage != 0) && ((TarBattlePtr->field0_0x0).MP != 0)) &&
      (bVar3 = FUN_BATTLE_BIN__8018d384((int)TarBattlePtr), pCVar1 = TarCurActPtr,
      CONCAT31(extraout_var,bVar3) == 0)) && (DAT_BATTLE_BIN__8018f5fc == 0)) {
    sVar4 = TarCurActPtr->MPDamage + TarCurActPtr->HPDamage;
    TarCurActPtr->MPDamage = sVar4;
    if (999 < sVar4) {
      pCVar1->MPDamage = 999;
    }
    pCVar1 = TarCurActPtr;
    TarCurActPtr->field_0x25 = TarCurActPtr->field_0x25 & 0x7f;
    pCVar2 = TarCurActPtr;
    pCVar1->HPDamage = 0;
    pCVar2->field_0x25 = pCVar2->field_0x25 | 0x20;
    TarCurActPtr->ReactionID = 0x1bd;
  }
  return;
}



void FUN_BATTLE_BIN__8018d2a8(void)

{
  CurActionUnitData *pCVar1;
  bool bVar2;
  undefined3 extraout_var;
  int iVar3;
  
  iVar3 = (int)TarCurActPtr->HPRecovery -
          ((uint)(TarBattlePtr->field0_0x0).MaxHP - (uint)(TarBattlePtr->field0_0x0).HP);
  if ((0 < iVar3) &&
     (bVar2 = FUN_BATTLE_BIN__8018d384((int)TarBattlePtr), pCVar1 = TarCurActPtr,
     CONCAT31(extraout_var,bVar2) == 0)) {
    TarCurActPtr->ReactionVar = (short)iVar3;
    pCVar1->ReactionID = 0x1bc;
  }
  return;
}



void FUN_BATTLE_BIN__8018d318(void)

{
  short sVar1;
  CurActionUnitData *pCVar2;
  bool bVar3;
  undefined3 extraout_var;
  
  sVar1 = TarCurActPtr->HPDamage;
  if (sVar1 != 0) {
    bVar3 = FUN_BATTLE_BIN__8018d384((int)TarBattlePtr);
    pCVar2 = TarCurActPtr;
    if (CONCAT31(extraout_var,bVar3) == 0) {
      TarCurActPtr->ReactionVar = (ushort)(sVar1 + 1U) >> 1;
      pCVar2->ReactionID = 0x1be;
    }
  }
  return;
}



bool FUN_BATTLE_BIN__8018d384(int param_1)

{
  bool bVar1;
  
  if (DAT_BATTLE_BIN__8018f5fc == 0) {
    bVar1 = PassFail_Roll(100,(uint)*(byte *)(param_1 + 0x24));
  }
  else {
    bVar1 = false;
  }
  return bVar1;
}



undefined4 FUN_BATTLE_BIN__8018d3c0(void)

{
  undefined4 uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  
  iVar4 = 0;
  if ((*(ushort *)&TarCurActPtr->field_0x10 & 0x14) == 0) {
    uVar1 = 0;
  }
  else {
    uVar3 = 0;
    do {
      if (((uint)(byte)TarCurActPtr->field_0x19 & 0x80 >> (uVar3 & 0x1f)) != 0) {
        uVar2 = (uint)(&(TarBattlePtr->field0_0x0).Head)[uVar3];
        if (((uVar2 != 0) && (uVar2 != 0xff)) && ((PrimaryItemData[uVar2].field_0x3 & 1) == 0)) {
          (&(TarBattlePtr->field0_0x0).Head)[uVar3] = NONE_ENTD;
          iVar4 = iVar4 + 1;
          if ((*(ushort *)&TarCurActPtr->field_0x10 & 0x10) != 0) {
            FUN_BATTLE_BIN__8018e9e8((int)CasBattlePtr,uVar2);
          }
        }
      }
      uVar3 = uVar3 + 1;
    } while ((int)uVar3 < 7);
    uVar1 = 0;
    if (iVar4 != 0) {
      if (DAT_BATTLE_BIN__8018f5fc == 0) {
        Equipment_StatusRSM_Prep_LevelUp((int)TarBattlePtr);
      }
      if ((TarCurActPtr->field_0x19 == '\x10') || (uVar1 = 1, TarCurActPtr->field_0x19 == '\x04')) {
        if (((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 8) != 0) &&
           (((TarBattlePtr->field0_0x0).CurAbCT != 0xff &&
            ((TarBattlePtr->field1_0x16e).SkillsetOfAttack == Charge)))) {
          *(byte *)&TarCurActPtr->StatusRemoval = *(byte *)&TarCurActPtr->StatusRemoval | 8;
        }
        uVar1 = 1;
      }
    }
  }
  return uVar1;
}



undefined4 FUN_BATTLE_BIN__8018d570(uint param_1,byte *param_2,byte param_3,uint param_4)

{
  uint uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  uVar5 = param_1 & 0x7f;
  if ((param_3 == 0xff) && (uVar5 == 0x7f)) {
    uVar5 = 0xff;
  }
  if ((param_1 & 0x80) == 0) {
    uVar5 = -uVar5;
  }
  uVar3 = param_4 & 0xff;
  uVar1 = (uint)param_3;
  uVar4 = *param_2 + uVar5;
  if ((int)(*param_2 + uVar5) < (int)uVar3) {
    uVar4 = uVar3;
  }
  if ((int)uVar1 < (int)uVar4) {
    uVar4 = uVar1;
  }
  if (uVar4 == *param_2) {
    uVar2 = 0;
  }
  else {
    *param_2 = (byte)uVar4;
    if (uVar3 == 1) {
      uVar5 = (uint)*param_2 + (uint)param_2[3];
      if (uVar1 < (uint)*param_2 + (uint)param_2[3]) {
        uVar5 = uVar1;
      }
      param_2[6] = (byte)uVar5;
    }
    uVar2 = 1;
  }
  return uVar2;
}



void FUN_BATTLE_BIN__8018d620(int param_1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  
  if ((DAT_BATTLE_BIN__8018f5f0 == 0) && (param_1 != 0)) {
    if (param_1 == 1) {
      uVar3 = 10;
    }
    else {
      uVar1 = (uint)(TarBattlePtr->field0_0x0).KOCount;
      uVar3 = 0x14;
      if (uVar1 != 0) {
        uVar3 = 0x14 / uVar1;
      }
    }
    uVar1 = (uVar3 + (TarBattlePtr->field0_0x0).Level) - (uint)(CasBattlePtr->field0_0x0).Level;
    if ((int)(uVar1 * 0x10000) < 1) {
      uVar1 = 1;
    }
    if ((*(byte *)((int)&(CasBattlePtr->field0_0x0).Supports + 1) & 0x20) != 0) {
      uVar1 = (uVar1 << 0x10) >> 0xf;
    }
    iVar2 = uVar1 << 0x10;
    if (99 < (short)uVar1) {
      uVar1 = 99;
      iVar2 = 0x630000;
    }
    if ((int)(uint)CurrentAbilityData.EarnedEXP < iVar2 >> 0x10) {
      CurrentAbilityData.EarnedEXP = (byte)uVar1;
    }
  }
  return;
}



int FUN_BATTLE_BIN__8018d70c(int param_1)

{
  int iVar1;
  
  TarBattlePtr = UnitBattleData + param_1;
  if (param_1 < 0x15) {
    TarCurActPtr = &UnitBattleData[param_1].field2_0x18c;
    CurrentAbilityData.TarID2 = (byte)param_1;
    if (UnitBattleData[param_1].field0_0x0.UnitID != 0xff) {
      StoreArg1_IntoArg2_(&CasCurActData.HitFlag,&TarCurActPtr->HitFlag,0x2c);
      iVar1 = FUN_BATTLE_BIN__8018be08(param_1);
      if (TarCurActPtr->HitFlag != false) {
        return iVar1;
      }
      TarCurActPtr->EvadeType = 8;
      return iVar1;
    }
  }
  return -1;
}



undefined FUN_BATTLE_BIN__8018d7c8(BattleUnitData *param_1)

{
  CurActionUnitData *pCVar1;
  byte bVar2;
  undefined uVar3;
  undefined3 extraout_var;
  
  bVar2 = FUN_BATTLE_BIN__8018da44((int)param_1);
  if (CONCAT31(extraout_var,bVar2) != 0) {
    return 0;
  }
  FUN_BATTLE_BIN__8018da04(param_1);
  pCVar1 = TarCurActPtr;
  bVar2 = (param_1->field0_0x0).CurrentStatuses.field_0x3;
  if ((bVar2 & 0x80) == 0) {
    if ((bVar2 & 0x40) == 0) goto LAB_BATTLE_BIN__8018d844;
    TarCurActPtr->HPRecovery = (param_1->field0_0x0).MaxHP >> 3;
    uVar3 = 0x40;
  }
  else {
    TarCurActPtr->HPDamage = (param_1->field0_0x0).MaxHP >> 3;
    uVar3 = 0x80;
  }
  pCVar1->field_0x25 = uVar3;
LAB_BATTLE_BIN__8018d844:
  return TarCurActPtr->field_0x25;
}



undefined FUN_BATTLE_BIN__8018d868(BattleUnitData *param_1)

{
  byte bVar1;
  undefined uVar2;
  undefined3 extraout_var;
  
  bVar1 = FUN_BATTLE_BIN__8018da44((int)param_1);
  uVar2 = 0;
  if (CONCAT31(extraout_var,bVar1) == 0) {
    FUN_BATTLE_BIN__8018da04(param_1);
    if ((((param_1->field1_0x16e).ActUnavailable != 0) &&
        (((TarBattlePtr->field2_0x18c).FinalInflictStatus.field_0x2 & 0x10) != 0)) &&
       ((TarBattlePtr->field0_0x0).ActiveUnit != 0)) {
      (TarCurActPtr->StatusRemoval).field_0x2 = 0x10;
      TarCurActPtr->field_0x25 = 8;
    }
    uVar2 = TarCurActPtr->field_0x25;
  }
  return uVar2;
}



void FUN_BATTLE_BIN__8018d910(int param_1)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  
  FUN_BATTLE_BIN__8018da04(UnitBattleData + param_1);
  uVar4 = 0;
  do {
    uVar2 = uVar4;
    if ((int)uVar4 < 0) {
      uVar2 = uVar4 + 7;
    }
    iVar3 = (int)uVar2 >> 3;
    uVar2 = 0x80 >> (uVar4 & 7);
    if (((((byte)(&(TarBattlePtr->field2_0x18c).FinalInflictStatus.field_0x3)[iVar3] & uVar2) != 0)
        && (((byte)(&(TarBattlePtr->field0_0x0).InnateStatuses.field_0x3)[iVar3] & uVar2) == 0)) &&
       (bVar1 = (TarBattlePtr->field0_0x0).JobLevels[uVar4 - 0x75] - 1,
       (TarBattlePtr->field0_0x0).JobLevels[uVar4 - 0x75] = bVar1, bVar1 == 0)) {
      (&(TarCurActPtr->StatusRemoval).field_0x3)[iVar3] =
           (byte)uVar2 | (&(TarCurActPtr->StatusRemoval).field_0x3)[iVar3];
    }
    uVar4 = uVar4 + 1;
  } while ((int)uVar4 < 0xf);
  iVar3 = FUN_BATTLE_BIN__80184b24(0);
  if (iVar3 != 0) {
    TarCurActPtr->field_0x25 = 8;
  }
  return;
}



void FUN_BATTLE_BIN__8018da04(BattleUnitData *param_1)

{
  TarCurActPtr = &param_1->field2_0x18c;
  CurrentAbilityData.TarID2 = (param_1->field1_0x16e).UnitID2;
  TarBattlePtr = param_1;
  FUN_BATTLE_BIN__8018bd74(&TarCurActPtr->HitFlag);
  return;
}



byte FUN_BATTLE_BIN__8018da44(int param_1)

{
  byte bVar1;
  
  bVar1 = 1;
  if (((*(char *)(param_1 + 1) != -1) && (bVar1 = 1, (*(byte *)(param_1 + 0x58) & 100) == 0)) &&
     (bVar1 = *(byte *)(param_1 + 0x59) & 0x81, (*(byte *)(param_1 + 0x59) & 0x81) != 0)) {
    bVar1 = 1;
  }
  return bVar1;
}



undefined4 FUN_BATTLE_BIN__8018da88(BattleUnitData *param_1)

{
  byte bVar1;
  byte bVar2;
  undefined3 extraout_var;
  int iVar3;
  
  bVar1 = (param_1->field1_0x16e).field_0x14;
  bVar2 = FUN_BATTLE_BIN__8018da44((int)param_1);
  if ((CONCAT31(extraout_var,bVar2) == 0) && ((bVar1 & 0x40) == 0)) {
    if ((bVar1 & 0x80) == 0) {
      bVar1 = (param_1->field0_0x0).CurrentStatuses.field_0x2;
    }
    else {
      bVar1 = UnitBattleData[bVar1 & 0x1f].field0_0x0.CurrentStatuses.field_0x2;
    }
    if ((bVar1 & 0x40) == 0) {
      CurrentAbilityData.TarID2 = (param_1->field1_0x16e).UnitID2;
      TarCurActPtr = &param_1->field2_0x18c;
      TarBattlePtr = param_1;
      FUN_BATTLE_BIN__8018bd74(&(param_1->field2_0x18c).HitFlag);
      iVar3 = GetUnitTileID(param_1);
      if (((&DAT_8005ea10)[(byte)(&DAT_BATTLE_BIN__8018f8cc)[iVar3 * 8] & 0x3f] & 0x80) != 0) {
        (TarCurActPtr->StatusInfliction).field_0x3 = 0x80;
        iVar3 = FUN_BATTLE_BIN__80184b24(0);
        if (iVar3 != 0) {
          TarCurActPtr->field_0x25 = 8;
          return 1;
        }
      }
    }
  }
  return 0;
}



byte FUN_BATTLE_BIN__8018dbb0(BattleUnitData *param_1)

{
  byte bVar1;
  byte bVar2;
  ushort uVar3;
  CurActionUnitData *pCVar4;
  undefined1 *puVar5;
  int iVar6;
  
  puVar5 = FUN_BATTLE_BIN__801802c8
                     ((param_1->field0_0x0).MapX,(param_1->field0_0x0).MapY,
                      (byte)((ushort)*(undefined2 *)&(param_1->field0_0x0).MapY >> 0xf));
  bVar1 = (param_1->field1_0x16e).field_0x14;
  bVar2 = puVar5[4];
  if ((bVar1 & 0x40) != 0) {
    param_1 = UnitBattleData + (bVar1 & 0x1f);
  }
  CurrentAbilityData.TarID2 = (param_1->field1_0x16e).UnitID2;
  TarCurActPtr = &param_1->field2_0x18c;
  TarBattlePtr = param_1;
  FUN_BATTLE_BIN__8018bd74(&TarCurActPtr->HitFlag);
  pCVar4 = TarCurActPtr;
  if (bVar2 == 1) {
    (TarCurActPtr->StatusInfliction).field_0x4 = 1;
    iVar6 = FUN_BATTLE_BIN__80184b24(0);
  }
  else {
    if (bVar2 < 2) {
      if (bVar2 != 0) {
        return 0xff;
      }
      TarCurActPtr->field_0x25 = 1;
      *(undefined2 *)&TarCurActPtr->field_0x10 = 0x100;
      return 0;
    }
    if (bVar2 != 2) {
      if (bVar2 != 3) {
        return 0xff;
      }
      uVar3 = (param_1->field0_0x0).MaxHP;
      TarCurActPtr->field_0x25 = 0x80;
      pCVar4->HPDamage = uVar3 / 5;
      return 3;
    }
    (TarCurActPtr->StatusInfliction).field_0x4 = 0x10;
    iVar6 = FUN_BATTLE_BIN__80184b24(0);
  }
  if (iVar6 == 0) {
    FUN_BATTLE_BIN__8018430c();
  }
  else {
    TarCurActPtr->field_0x25 = 8;
  }
  return bVar2;
}



undefined4 FUN_BATTLE_BIN__8018dd44(BattleUnitData *param_1)

{
  ushort uVar1;
  CurActionUnitData *pCVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  
  CurrentAbilityData.TarID2 = (param_1->field1_0x16e).UnitID2;
  TarCurActPtr = &param_1->field2_0x18c;
  TarBattlePtr = param_1;
  FUN_BATTLE_BIN__8018bd74(&TarCurActPtr->HitFlag);
  iVar3 = Check_HasStatus((int)param_1,4);
  uVar4 = 0xffffffff;
  if (iVar3 == 0) {
    uVar5 = FUN_BATTLE_BIN__80180134((int)param_1);
    pCVar2 = TarCurActPtr;
    if ((uVar5 & 0x20) == 0) {
      if ((uVar5 & 0x40) == 0) {
        if ((uVar5 & 0x80) == 0) {
          if ((uVar5 & 0x100) == 0) {
            return 0;
          }
          uVar5 = FUN_BATTLE_BIN__8017f0ec((int)TarBattlePtr);
          TarCurActPtr->StolenJP = (byte)uVar5;
          if ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Supports + 1) & 0x40) != 0) {
            TarCurActPtr->StolenJP = TarCurActPtr->StolenJP << 1;
          }
        }
        else {
          uVar5 = FUN_BATTLE_BIN__8017f0ec((int)TarBattlePtr);
          TarCurActPtr->StolenEXP = (byte)uVar5;
          if ((*(byte *)((int)&(TarBattlePtr->field0_0x0).Supports + 1) & 0x20) != 0) {
            TarCurActPtr->StolenEXP = TarCurActPtr->StolenEXP << 1;
          }
        }
        TarCurActPtr->field_0x25 = 1;
      }
      else {
        uVar1 = (param_1->field0_0x0).MaxMP;
        TarCurActPtr->field_0x25 = 0x10;
        pCVar2->MPRecovery = (short)((uVar1 + 9) / 10);
      }
    }
    else {
      uVar1 = (param_1->field0_0x0).MaxHP;
                    // Possible PsyQ macro: setLineF2()
      TarCurActPtr->field_0x25 = 0x40;
      pCVar2->HPRecovery = (short)((uVar1 + 9) / 10);
    }
    uVar4 = 0;
  }
  return uVar4;
}



int FUN_BATTLE_BIN__8018df0c(int param_1,undefined *param_2)

{
  undefined uVar1;
  int iVar2;
  uint uVar3;
  uint auStack_18 [2];
  
  if (*(char *)(param_1 + 1) == -1) {
    iVar2 = -1;
  }
  else {
    DAT_BATTLE_BIN__8018f8c8 = (uint)*(byte *)(param_1 + 0x18a);
    CurrentAbilityData._112_1_ = 0;
    CurrentAbilityData._113_1_ = 0;
    DAT_BATTLE_BIN__8018f5f0 = 1;
    iVar2 = FUN_BATTLE_BIN__8018be08((uint)*(byte *)(param_1 + 0x18a));
    DAT_BATTLE_BIN__8018f5f0 = 0;
    *param_2 = *(undefined *)(param_1 + 0x1b4);
    uVar1 = *(undefined *)(param_1 + 0x1b5);
    param_2[2] = 0;
    param_2[1] = uVar1;
    if (CurrentAbilityData._112_1_ != '\0') {
      param_2[2] = *(undefined *)(param_1 + 0x22);
    }
    param_2[3] = 0;
    if (CurrentAbilityData._113_1_ != '\0') {
      uVar3 = FUN_BATTLE_BIN__8017ea28(param_1,(uint)*(byte *)(param_1 + 3),auStack_18);
      param_2[3] = (char)uVar3;
    }
  }
  return iVar2;
}



void FUN_BATTLE_BIN__8018dff8(int param_1)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  uint uVar4;
  uint local_18 [2];
  
  bVar1 = *(byte *)(param_1 + 3);
  bVar2 = *(byte *)(param_1 + 0x18a);
  uVar3 = FUN_BATTLE_BIN__8017ea28(param_1,(uint)bVar1,local_18);
  FUN_BATTLE_BIN__8017ea80
            ((uint)bVar2,(uint)*(byte *)(param_1 + 0x1b5),*(byte *)(param_1 + 0x1ba) & 0x30,
             local_18[0]);
  uVar4 = FUN_BATTLE_BIN__8017ea28(param_1,(uint)bVar1,local_18);
  if (uVar4 != uVar3) {
    CurrentAbilityData._113_1_ = 1;
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8018e07c(int param_1,int param_2)

{
  undefined4 uVar1;
  undefined auStack_20 [16];
  
  if (UnitBattleData[param_1].field0_0x0.UnitID == 0xff) {
    uVar1 = 0xffffffff;
  }
  else {
    StoreArg1_IntoArg2_((undefined *)&TarCurActPtr->StatusInfliction,auStack_20,10);
    TarBattlePtr = UnitBattleData + param_1;
    TarCurActPtr = &UnitBattleData[param_1].field2_0x18c;
    CurrentAbilityData.TarID2 = (byte)param_1;
    FUN_BATTLE_BIN__80184b24(param_2);
    FUN_BATTLE_BIN__8018e248(param_1);
    FUN_BATTLE_BIN__8018e310(param_1,param_2);
    if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0x20) != 0) {
      (TarBattlePtr->field0_0x0).HP = 0;
    }
    if ((*(byte *)&(TarBattlePtr->field0_0x0).CurrentStatuses & 0xd) == 0) {
      (TarBattlePtr->field0_0x0).CurAbCT = 0xff;
    }
    FUN_BATTLE_BIN__8018e1b0((int)TarBattlePtr);
    StoreArg1_IntoArg2_(auStack_20,(undefined *)&TarCurActPtr->StatusInfliction,10);
    uVar1 = 0;
  }
  return uVar1;
}



void FUN_BATTLE_BIN__8018e1b0(int param_1)

{
  if ((((*(byte *)(param_1 + 0x59) & 0x14) == 0) && ((*(byte *)(param_1 + 0x5a) & 0xc) == 0)) &&
     ((*(byte *)(param_1 + 0x5c) & 0x20) == 0)) {
    *(byte *)(param_1 + 5) = *(byte *)(param_1 + 5) | *(byte *)(param_1 + 0x1ba) & 8;
  }
  else {
    *(byte *)(param_1 + 5) = *(byte *)(param_1 + 5) & 0xf7;
  }
  if ((*(byte *)(param_1 + 0x5c) & 0x20) == 0) {
    *(byte *)(param_1 + 5) = *(byte *)(param_1 + 5) & 0xcf | *(byte *)(param_1 + 0x1ba) & 0x30;
  }
  return;
}



void FUN_BATTLE_BIN__8018e248(int param_1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  BattleUnitData *pBVar4;
  
  pBVar4 = UnitBattleData + param_1;
  uVar3 = 0;
  do {
    uVar1 = uVar3;
    if ((int)uVar3 < 0) {
      uVar1 = uVar3 + 7;
    }
    iVar2 = (int)uVar1 >> 3;
    uVar1 = 0x80 >> (uVar3 & 7);
    if (((byte)(&(pBVar4->field2_0x18c).StatusRemoval.field_0x0)[iVar2] & uVar1) != 0) {
      (&(pBVar4->field2_0x18c).FinalInflictStatus.field_0x0)[iVar2] =
           (&(pBVar4->field2_0x18c).FinalInflictStatus.field_0x0)[iVar2] & ~(byte)uVar1;
      iVar2 = Status_CT_Set((int)pBVar4,uVar3,1);
      if (iVar2 == 0) {
        FUN_BATTLE_BIN__8018e9bc(uVar3 + 1,0,param_1);
      }
    }
    uVar3 = uVar3 + 1;
  } while ((int)uVar3 < 0x28);
  Store_Current_Statuses((int)pBVar4);
  return;
}



void FUN_BATTLE_BIN__8018e310(int param_1,int param_2)

{
  byte *pbVar1;
  byte bVar2;
  byte bVar3;
  bool bVar4;
  BattleUnitData *pBVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  byte *pbVar9;
  undefined1 *puVar10;
  int iVar11;
  uint uVar12;
  byte *pbVar13;
  int iVar14;
  
  uVar12 = 0;
  iVar14 = 0;
  pbVar13 = &DAT_80065def;
  TarBattlePtr = UnitBattleData + param_1;
  TarCurActPtr = &UnitBattleData[param_1].field2_0x18c;
  CurrentAbilityData.TarID2 = (byte)param_1;
  do {
    uVar6 = uVar12;
    if ((int)uVar12 < 0) {
      uVar6 = uVar12 + 7;
    }
    iVar11 = (int)uVar6 >> 3;
    uVar6 = 0x80 >> (uVar12 & 7);
    if (((byte)(&(TarCurActPtr->StatusInfliction).field_0x0)[iVar11] & uVar6) != 0) {
      bVar4 = false;
      iVar7 = 0;
      pbVar9 = pbVar13;
      do {
        pbVar1 = &(TarBattlePtr->field2_0x18c).FinalInflictStatus.field_0x0 + iVar7;
        iVar7 = iVar7 + 1;
        if ((*pbVar1 & *pbVar9) != 0) {
          bVar4 = true;
          break;
        }
        pbVar9 = pbVar9 + 1;
      } while (iVar7 < 5);
      if (!bVar4) {
        puVar10 = &DAT_80065dea + iVar14;
        iVar7 = 0;
        do {
          iVar8 = iVar7 + 1;
          (&(TarCurActPtr->StatusRemoval).field_0x0)[iVar7] = *puVar10;
          puVar10 = puVar10 + 1;
          iVar7 = iVar8;
        } while (iVar8 < 5);
        FUN_BATTLE_BIN__80184b24(param_2);
        FUN_BATTLE_BIN__8018e248(param_1);
        bVar2 = (&(TarBattlePtr->field2_0x18c).FinalInflictStatus.field_0x0)[iVar11];
        (&(TarBattlePtr->field2_0x18c).FinalInflictStatus.field_0x0)[iVar11] = bVar2 | (byte)uVar6;
        iVar11 = Status_CT_Set((int)TarBattlePtr,uVar12,0);
        if (iVar11 == 0) {
          if ((((bVar2 & uVar6) == 0) || (uVar12 == 1)) || (uVar12 == 0x10)) {
            iVar11 = 1;
          }
          else {
            iVar11 = 2;
          }
          FUN_BATTLE_BIN__8018e9bc(uVar12 + 1,iVar11,param_1);
          if (uVar12 == 0x13) {
            (TarBattlePtr->field0_0x0).ActiveUnit = 0;
          }
          if (((uVar12 == 9) || (uVar12 == 0x22)) &&
             ((TarBattlePtr->field0_0x0).field_0x5 =
                   (TarBattlePtr->field0_0x0).field_0x5 & 0xcf |
                   (CasBattlePtr->field0_0x0).field_0x5 & 0x30, pBVar5 = TarBattlePtr, uVar12 == 9))
          {
            bVar2 = (TarBattlePtr->field2_0x18c).field_0x2e;
            bVar3 = (CasBattlePtr->field0_0x0).field_0x5;
            TarCurActPtr->ReactionID = 0;
            (pBVar5->field2_0x18c).field_0x2e = bVar2 & 199 | bVar3 & 0x30;
            (TarBattlePtr->field2_0x18c).AutoBattle = 0;
            (TarBattlePtr->field2_0x18c).MainTargetID = 0;
          }
          if ((((TarBattlePtr->field2_0x18c).field_0x2e & 0x30) == 0) && (uVar12 - 1 < 2)) {
            DAT_BATTLE_BIN__80193898 = 1;
          }
        }
      }
    }
    iVar14 = iVar14 + 0x10;
    uVar12 = uVar12 + 1;
    pbVar13 = pbVar13 + 0x10;
    if (0x27 < (int)uVar12) {
      Store_Current_Statuses((int)TarBattlePtr);
      return;
    }
  } while( true );
}



void FUN_BATTLE_BIN__8018e5e4(void)

{
  DAT_BATTLE_BIN__8018f5fc = 1;
  CurrentAbilityData.Hamedo = 0;
  StoreArg1_IntoArg2_(&CurrentAbilityData.CasFacing,&DAT_BATTLE_BIN__80193d24,0x1e);
  return;
}



void FUN_BATTLE_BIN__8018e628(void)

{
  DAT_BATTLE_BIN__8018f5fc = 0;
  StoreArg1_IntoArg2_(&DAT_BATTLE_BIN__80193d24,&CurrentAbilityData.CasFacing,0x1e);
  return;
}



int FUN_BATTLE_BIN__8018e660(void)

{
  int iVar1;
  int iVar2;
  
  iVar1 = FUN_BATTLE_BIN__8013b590(0x23);
  iVar2 = 0;
  if ((((DAT_BATTLE_BIN__800b6698 & 2) == 0) && (iVar2 = iVar1, 1 < iVar1)) &&
     ((DAT_BATTLE_BIN__800b6698 & 1) != 0)) {
    iVar2 = iVar1 + 3;
  }
  return iVar2;
}



int FUN_BATTLE_BIN__8018e6b8(int param_1,short *param_2)

{
  byte bVar1;
  SkillsetID SVar2;
  bool bVar3;
  int iVar4;
  int iVar5;
  undefined3 extraout_var;
  int iVar6;
  uint uVar7;
  JobID *pJVar8;
  JobID *pJVar9;
  int iVar10;
  int iVar11;
  JobID local_30 [8];
  
  if ((CurrentAbilityData.Hamedo == 0) && (iVar6 = (int)DAT_BATTLE_BIN__80193d44, iVar6 != 0)) {
    iVar10 = 0;
    if ((PrimaryAbilityData[iVar6].field_0x3 & 0x20) == 0) {
      return -1;
    }
    iVar11 = 0;
    do {
      if ((((param_1 != iVar10) &&
           (pJVar8 = &UnitBattleData[0].field0_0x0.BaseClass + iVar11,
           ((&UnitBattleData[0].field1_0x16e.field_0x1b)[iVar11] & 2) != 0)) &&
          (bVar1 = (&UnitBattleData[0].field0_0x0.field_0x6)[iVar11],
          (&UnitBattleData[0].field1_0x16e.field_0x1b)[iVar11] = 4, (bVar1 & 0x20) == 0)) &&
         (iVar4 = Check_HasStatus((int)pJVar8,4), iVar4 == 0)) {
        uVar7 = (uint)(&UnitBattleData[0].field0_0x0.JobID)[iVar11];
        SVar2 = (&UnitBattleData[0].field0_0x0.PrimarySkillset)[iVar11];
        if (uVar7 < 0x4a) {
          iVar4 = 0;
        }
        else {
          iVar4 = uVar7 - 0x4a;
        }
        pJVar8 = pJVar8 + iVar4 * 3 + 0x99;
        pJVar9 = local_30;
        do {
          *pJVar9 = *pJVar8;
          pJVar9 = pJVar9 + 1;
          pJVar8 = pJVar8 + 1;
        } while ((int)pJVar9 < (int)(local_30 + 3));
        iVar4 = 0;
        do {
          iVar5 = iVar4;
          if (iVar4 < 0) {
            iVar5 = iVar4 + 7;
          }
          if (((((uint)local_30[iVar5 >> 3] & 0x80 >> (iVar4 + (iVar5 >> 3) * -8 & 0x1fU)) == 0) &&
              (uVar7 = Get_Abiltity_from_Skillset((uint)SVar2,iVar4),
              (uVar7 & 0xffff) == (int)DAT_BATTLE_BIN__80193d44)) &&
             (bVar3 = PassFail_Roll(100,(uint)PrimaryAbilityData[iVar6].Chance_to_Learn),
             CONCAT31(extraout_var,bVar3) == 0)) {
            *param_2 = DAT_BATTLE_BIN__80193d44;
            return iVar10;
          }
          iVar4 = iVar4 + 1;
        } while (iVar4 < 0x18);
      }
      iVar10 = iVar10 + 1;
      iVar11 = iVar11 + 0x1c0;
    } while (iVar10 < 0x15);
  }
  return -1;
}



void FUN_BATTLE_BIN__8018e8ac(int param_1)

{
  byte bVar1;
  uint uVar2;
  byte *pbVar3;
  int iVar4;
  byte *pbVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  byte local_20 [8];
  
  bVar1 = *(byte *)(param_1 + 0x12);
  iVar6 = *(byte *)(param_1 + 3) - 0x4a;
  if (*(byte *)(param_1 + 3) < 0x4a) {
    iVar6 = 0;
  }
  pbVar3 = local_20;
  pbVar5 = (byte *)(iVar6 * 3 + param_1 + 0x99);
  do {
    *pbVar3 = *pbVar5;
    pbVar3 = pbVar3 + 1;
    pbVar5 = pbVar5 + 1;
  } while ((int)pbVar3 < (int)(local_20 + 3));
  iVar7 = 0;
  do {
    iVar4 = iVar7;
    if (iVar7 < 0) {
      iVar4 = iVar7 + 7;
    }
    iVar4 = iVar4 >> 3;
    uVar8 = 0x80 >> (iVar7 + iVar4 * -8 & 0x1fU);
    if ((local_20[iVar4] & uVar8) == 0) {
      uVar2 = Get_Abiltity_from_Skillset((uint)bVar1,iVar7);
      pbVar3 = (byte *)(iVar6 * 3 + param_1 + 0x99 + iVar4);
      if ((uVar2 & 0xffff) == (int)DAT_BATTLE_BIN__80193d44) {
        *pbVar3 = (byte)uVar8 | *pbVar3;
      }
    }
    iVar7 = iVar7 + 1;
  } while (iVar7 < 0x18);
  return;
}



void FUN_BATTLE_BIN__8018e9bc(int param_1,int param_2,int param_3)

{
  if (DAT_BATTLE_BIN__8018f5fc == 0) {
    FUN_BATTLE_BIN__80068e80(param_1,param_2,param_3);
  }
  return;
}



int FUN_BATTLE_BIN__8018e9e8(int param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  
  if ((((DAT_BATTLE_BIN__8018f5fc == 0) &&
       (uVar3 = param_2 & 0xff, (*(byte *)(param_1 + 0x1ba) & 0x30) == 0)) && (uVar3 != 0)) &&
     (uVar3 != 0xff)) {
    uVar2 = Get_Equip_Quantity((byte)uVar3,1);
    iVar1 = 0;
    if ((int)uVar2 < 99) {
      (&DAT_800596e0)[uVar3] = (&DAT_800596e0)[uVar3] + '\x01';
    }
    else {
      iVar1 = FUN_BATTLE_BIN__8018ea98(param_1,0,uVar3);
    }
  }
  else {
    iVar1 = 0;
  }
  return iVar1;
}



int FUN_BATTLE_BIN__8018ea98(int param_1,int param_2,uint param_3)

{
  int iVar1;
  uint uVar2;
  
  if ((DAT_BATTLE_BIN__8018f5fc == 0) && ((*(byte *)(param_1 + 5) & 0x30) == 0)) {
    if ((param_3 & 0xff) != 0) {
      param_2 = param_2 + (uint)((ushort)PrimaryItemData[param_3 & 0xff].Price >> 2);
    }
    iVar1 = FUN_BATTLE_BIN__8013b590(0x2c);
    uVar2 = iVar1 + param_2;
    if ((int)uVar2 < 100000000) {
      if ((int)uVar2 < 0) {
        uVar2 = 0;
      }
    }
    else {
      uVar2 = 99999999;
    }
    FUN_BATTLE_BIN__8013b644(0x2c,uVar2);
  }
  else {
    param_2 = 0;
  }
  return param_2;
}



void FUN_BATTLE_BIN__8018eb50(int param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  undefined uVar3;
  
  if (DAT_BATTLE_BIN__8018f5fc == 0) {
    if ((param_2 & 0x80) == 0) {
      uVar1 = (uint)*(byte *)(param_1 + 0x21) + (param_2 & 0xff);
      uVar3 = (undefined)uVar1;
      if (0xff < uVar1) {
        uVar3 = 0xff;
      }
      *(undefined *)(param_1 + 0x21) = uVar3;
      iVar2 = CheckUnit_LevelUp(param_1);
      if ((iVar2 != 0) && (*(byte *)(param_1 + 0x18a) == DAT_BATTLE_BIN__8018f8c8)) {
        CurrentAbilityData._112_1_ = 1;
      }
    }
    else {
      iVar2 = (uint)*(byte *)(param_1 + 0x21) - (param_2 & 0x7f);
      uVar3 = (undefined)iVar2;
      if (iVar2 * 0x10000 < 0) {
        uVar3 = 0;
      }
      *(undefined *)(param_1 + 0x21) = uVar3;
    }
  }
  return;
}



void FUN_BATTLE_BIN__8018ed7c(char param_1)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    if ((&DAT_BATTLE_BIN__80193868)[iVar1] == param_1) {
      for (; iVar1 < 0xf; iVar1 = iVar1 + 1) {
        (&DAT_BATTLE_BIN__80193868)[iVar1] = (&DAT_BATTLE_BIN__80193869)[iVar1];
      }
      DAT_BATTLE_BIN__80193877 = 0xff;
      return;
    }
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0x10);
  return;
}



void FUN_BATTLE_BIN__8018edf8(undefined *param_1)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    (&DAT_BATTLE_BIN__80193868)[iVar1] = *param_1;
    iVar1 = iVar1 + 1;
    param_1 = param_1 + 1;
  } while (iVar1 < 0x10);
  return;
}



int FUN_BATTLE_BIN__8018ee24(char *param_1)

{
  char cVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0;
  iVar2 = 0;
  do {
    cVar1 = (&DAT_BATTLE_BIN__80193868)[iVar2];
    *param_1 = cVar1;
    param_1 = param_1 + 1;
    if (cVar1 != -1) {
      iVar3 = iVar3 + 1;
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x10);
  return iVar3;
}



int FUN_BATTLE_BIN__8018eea0(void)

{
  int iVar1;
  
  if (DAT_BATTLE_BIN__8018f5fc == 0) {
    iVar1 = rand();
  }
  else {
    iVar1 = 0x4000;
  }
  return iVar1;
}



bool FUN_BATTLE_BIN__8018eed8(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__8018eea0();
  iVar1 = iVar1 * param_1;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0x7fff;
  }
  return param_2 <= iVar1 >> 0xf;
}



void FUN_BATTLE_BIN__8018ef2c(void)

{
  return;
}



void FUN_BATTLE_BIN__8018ef34(int param_1)

{
  byte bVar1;
  byte bVar2;
  
  if (*(char *)(param_1 + 3) != ']') {
    BATTLE_Unit_Targetting_to_Temp
              ((CurActionTargetData *)(param_1 + 0x16e),
               (CurActionTargetData *)&CurrentAbilityData.CasID);
    if (*(char *)(param_1 + 0x178) == '\x06') {
      bVar1 = UnitBattleData[*(byte *)(param_1 + 0x179)].field0_0x0.MapX;
      bVar2 = UnitBattleData[*(byte *)(param_1 + 0x179)].field0_0x0.MapY;
    }
    else {
      bVar1 = *(byte *)(param_1 + 0x17a);
      bVar2 = *(byte *)(param_1 + 0x17e);
    }
    CurrentAbilityData.CasTarXDist = (ushort)bVar1 - (ushort)*(byte *)(param_1 + 0x47);
    CurrentAbilityData.CasTarYDist = (ushort)bVar2 - (ushort)*(byte *)(param_1 + 0x48);
    CurrentAbilityData.CasFacing = (byte)((ushort)*(undefined2 *)(param_1 + 0x48) >> 8) & 0xf;
    CurrentAbilityData.CasTeam._0_1_ = *(byte *)(param_1 + 5) & 0x30;
    CurrentAbilityData.CasRHW = *(ItemID *)(param_1 + 0x1d);
    CurrentAbilityData.CasLHW = *(ItemID *)(param_1 + 0x1f);
    CurrentAbilityData.ActionPerformed = true;
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8018f038(BattleUnitData *param_1)

{
  SkillsetType SVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  undefined local_40 [28];
  int local_24;
  int local_20 [2];
  
  iVar3 = FUN_BATTLE_BIN__8018c968((int)param_1);
  uVar4 = 0;
  if (((iVar3 == 0) &&
      (uVar4 = 0, ((param_1->field0_0x0).field_0x5 & 0x30) == (byte)CurrentAbilityData.CasTeam)) &&
     (uVar4 = 0, (param_1->field1_0x16e).UnitID2 != CurrentAbilityData.CasID)) {
    SVar1 = ActionMenus[CurrentAbilityData.UsedSkillset];
    if ((((SVar1 != Default) && (SVar1 != Math)) && (SVar1 != Monster)) ||
       (uVar4 = 0,
       (SecondaryAbilityData[(short)CurrentAbilityData.UsedAbility].field_0x5 & 0x10) == 0)) {
      uVar5 = (*(ushort *)&(param_1->field0_0x0).MapY >> 8 & 0xf) -
              (CurrentAbilityData.CasFacing - 4);
      if (SVar1 == Jump) {
        uVar5 = uVar5 | 0x100;
      }
      iVar3 = FUN_BATTLE_BIN__8018f2b0
                        (param_1,(int)CurrentAbilityData.CasTarXDist,
                         (int)CurrentAbilityData.CasTarYDist,uVar5,(int *)(local_40 + 0x18),
                         &local_24,local_20);
      uVar4 = 0xffffffff;
      if (iVar3 == 0) {
        BATTLE_Unit_Targetting_to_Temp
                  ((CurActionTargetData *)&CurrentAbilityData.CasID,(CurActionTargetData *)local_40)
        ;
        local_40[10] = 5;
        local_40[0] = (param_1->field1_0x16e).UnitID2;
        local_40[11] = (param_1->field1_0x16e).UnitID2;
        local_40._12_2_ = local_40._24_2_;
        local_40._14_2_ = (short)local_20[0];
        local_40._16_2_ = (short)local_24;
        (param_1->field0_0x0).RHWeapon = CurrentAbilityData.CasRHW;
        (param_1->field0_0x0).LHWeapon = CurrentAbilityData.CasLHW;
        uVar5 = FUN_BATTLE_BIN__8017a8c0((CurActionTargetData *)local_40);
        uVar2 = DAT_BATTLE_BIN__8018f5fc;
        if (((uVar5 == 0xffffffff) || (uVar5 == 3)) ||
           (((int)uVar5 < 2 &&
            (((&DAT_BATTLE_BIN__8018f8d1)
              [(local_20[0] * 0x100 + (uint)DAT_BATTLE_BIN__800e4e9c * local_24 + local_40._24_4_) *
               8] & 0x40) == 0)))) {
          uVar4 = 0xffffffff;
          (param_1->field0_0x0).RHWeapon = NONE_ENTD;
          (param_1->field0_0x0).LHWeapon = NONE_ENTD;
        }
        else {
          DAT_BATTLE_BIN__8018f5fc = 2;
          uVar5 = FUN_BATTLE_BIN__8017c45c((CurActionTargetData *)local_40,&param_1->field1_0x16e,1)
          ;
          (param_1->field0_0x0).CurAbCT = 0xff;
          Inflicted_Status_Changes((int)param_1,0,0xd,1);
          uVar4 = 1;
          DAT_BATTLE_BIN__8018f5fc = uVar2;
          if ((int)uVar5 < 0) {
            uVar4 = 0xffffffff;
            (param_1->field0_0x0).RHWeapon = NONE_ENTD;
            (param_1->field0_0x0).LHWeapon = NONE_ENTD;
          }
        }
      }
    }
  }
  return uVar4;
}



undefined4
FUN_BATTLE_BIN__8018f2b0
          (BattleUnitData *param_1,int param_2,int param_3,uint param_4,int *param_5,int *param_6,
          undefined4 *param_7)

{
  undefined4 uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  
  uVar2 = param_4 & 3;
  if (uVar2 == 2) {
    iVar5 = -param_2;
    param_3 = -param_3;
  }
  else {
    iVar5 = param_2;
    if (uVar2 < 3) {
      if (uVar2 == 1) {
        iVar5 = param_3;
        param_3 = -param_2;
      }
    }
    else if (uVar2 == 3) {
      iVar5 = -param_3;
      param_3 = param_2;
    }
  }
  *param_5 = (uint)(param_1->field0_0x0).MapX + iVar5;
  iVar5 = (uint)(param_1->field0_0x0).MapY + param_3;
  *param_6 = iVar5;
  if (*param_5 < 0) {
    return 0xffffffff;
  }
  if (*param_5 < (int)(uint)DAT_BATTLE_BIN__800e4e9c) {
    if (iVar5 < 0) {
      return 0xffffffff;
    }
    if ((int)(uint)DAT_BATTLE_BIN__800e4ea0 <= iVar5) {
      return 0xffffffff;
    }
    iVar5 = GetUnitTileID(param_1);
    iVar4 = (uint)DAT_BATTLE_BIN__800e4e9c * *param_6 + *param_5;
    iVar3 = (iVar4 + 0x100) * 8;
    iVar4 = iVar4 * 8;
    if (((&DAT_BATTLE_BIN__8018f8d2)[iVar4] & 1) == 0) {
      if (((&DAT_BATTLE_BIN__8018f8d2)[iVar3] & 1) == 0) {
        uVar6 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar3];
        uVar7 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar5 * 8];
        uVar2 = (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar4];
        if ((param_4 & 0x100) == 0) {
          iVar5 = uVar2 - uVar7;
          if (uVar2 <= uVar7) {
            iVar5 = uVar7 - uVar2;
          }
          if (uVar7 < uVar6) {
            iVar3 = uVar6 - uVar7;
          }
          else {
            iVar3 = uVar7 - uVar6;
          }
          if (iVar3 < iVar5) goto LAB_BATTLE_BIN__8018f4a0;
          if (iVar5 < iVar3) goto LAB_BATTLE_BIN__8018f498;
        }
        if (uVar2 <= uVar6) goto LAB_BATTLE_BIN__8018f4a0;
      }
LAB_BATTLE_BIN__8018f498:
      *param_7 = 0;
    }
    else {
      if (((&DAT_BATTLE_BIN__8018f8d2)[iVar3] & 1) != 0) goto LAB_BATTLE_BIN__8018f40c;
LAB_BATTLE_BIN__8018f4a0:
      *param_7 = 1;
    }
    uVar1 = 0;
  }
  else {
LAB_BATTLE_BIN__8018f40c:
    uVar1 = 0xffffffff;
  }
  return uVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_BATTLE_BIN__80193e50(int param_1,undefined4 *param_2)

{
  byte *pbVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = VSync(1);
  if (0x1b8 < iVar2) {
    return 0xffffffff;
  }
  if (DAT_BATTLE_BIN__801a0d7b == '\0') goto LAB_BATTLE_BIN__80193ed4;
  if (DAT_BATTLE_BIN__801a0298 == 1) {
LAB_BATTLE_BIN__80194028:
    iVar2 = FUN_BATTLE_BIN__80194944((uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x187));
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__801a0298 = 1;
      DAT_BATTLE_BIN__801a0d7b = 1;
      return 0xffffffff;
    }
    DAT_BATTLE_BIN__801a0d7b = '\0';
    FUN_BATTLE_BIN__80194570();
    FUN_BATTLE_BIN__8019471c();
  }
  else {
    if (DAT_BATTLE_BIN__801a0298 < 2) {
      if (DAT_BATTLE_BIN__801a0298 != 0) {
LAB_BATTLE_BIN__80193ed4:
        if (((DAT_BATTLE_BIN__801a0bdc == -1) &&
            (*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x187) == DAT_BATTLE_BIN__801a0d82)) &&
           (*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x188) == DAT_BATTLE_BIN__801a0d81)) {
          *param_2 = 2;
          return 0;
        }
        DAT_BATTLE_BIN__801a01f2 = (undefined)param_1;
        iVar2 = 0;
        if (0xf < (byte)(&DAT_BATTLE_BIN__801a0d50)[param_1]) {
          *param_2 = 2;
          return 0;
        }
        iVar3 = 0;
        do {
          pbVar1 = &UnitBattleData[0].field0_0x0.UnitID + iVar3;
          iVar3 = iVar3 + 0x1c0;
          if ((*pbVar1 != 0xff) && (0xf < (byte)(&DAT_BATTLE_BIN__801a0d50)[iVar2])) {
            *param_2 = 2;
            return 0;
          }
          iVar2 = iVar2 + 1;
        } while (iVar2 < 0x15);
        FUN_BATTLE_BIN__801941f8();
        if (*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x15d) == -1) {
          *(byte *)(DAT_BATTLE_BIN__801a01f8 + 6) = *(byte *)(DAT_BATTLE_BIN__801a01f8 + 6) & 0xf7;
        }
        if ((DAT_BATTLE_BIN__801a0bdc != '\0') &&
           (*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x188) == '\0')) goto LAB_BATTLE_BIN__801940c4;
        FUN_BATTLE_BIN__8018e5e4();
      }
      iVar2 = FUN_BATTLE_BIN__80194314();
      if (iVar2 == -1) {
        DAT_BATTLE_BIN__801a0298 = 0;
        DAT_BATTLE_BIN__801a0d7b = 1;
        return 0xffffffff;
      }
      FUN_BATTLE_BIN__80194e58((uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x188));
      goto LAB_BATTLE_BIN__80194028;
    }
    if (DAT_BATTLE_BIN__801a0298 != 2) goto LAB_BATTLE_BIN__80193ed4;
  }
  iVar2 = FUN_BATTLE_BIN__80195d94();
  if (iVar2 == -1) {
    DAT_BATTLE_BIN__801a0298 = 2;
    DAT_BATTLE_BIN__801a0d7b = 1;
    return 0xffffffff;
  }
  DAT_BATTLE_BIN__801a0d7b = '\0';
  DAT_BATTLE_BIN__801a0bdc = -1;
  if (DAT_BATTLE_BIN__801a0bc1 != '\0') {
    *(byte *)(DAT_BATTLE_BIN__801a01f8 + 6) = *(byte *)(DAT_BATTLE_BIN__801a01f8 + 6) | 8;
  }
  FUN_BATTLE_BIN__8018e628();
LAB_BATTLE_BIN__801940c4:
  if ((*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x187) == '\0') &&
     (((*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x188) != '\0' || (DAT_BATTLE_BIN__801a0bc0 == '\0'))
      && (DAT_BATTLE_BIN__801a0bc4 = DAT_BATTLE_BIN__801a0bc4 & 0xffffff,
         DAT_BATTLE_BIN__801a0bc4 != _DAT_BATTLE_BIN__801a01f4)))) {
    *param_2 = 0;
    *(ushort *)(param_2 + 1) = (ushort)(byte)DAT_BATTLE_BIN__801a0bc4;
    *(ushort *)(param_2 + 2) = (ushort)DAT_BATTLE_BIN__801a0bc4._2_1_;
    *(ushort *)((int)param_2 + 6) = (ushort)DAT_BATTLE_BIN__801a0bc4._1_1_;
  }
  else if ((*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x188) == '\0') &&
          (DAT_BATTLE_BIN__801a0bc9 != '\0')) {
    *param_2 = 1;
    FUN_BATTLE_BIN__8019ab08
              ((undefined2 *)(param_2 + 1),(undefined2 *)&DAT_BATTLE_BIN__801a0bc8,0x14);
  }
  else {
    *param_2 = 2;
  }
  DAT_BATTLE_BIN__801a0d82 = *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x187);
  DAT_BATTLE_BIN__801a0d81 = *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x188);
  FUN_BATTLE_BIN__8019f258(&DAT_BATTLE_BIN__801a01f4);
  FUN_BATTLE_BIN__8019ab08
            ((undefined2 *)&DAT_BATTLE_BIN__801a0d94,(undefined2 *)&DAT_BATTLE_BIN__801a0dac,0x18);
  FUN_BATTLE_BIN__8019ab08((undefined2 *)&DAT_BATTLE_BIN__801a0dac,(undefined2 *)param_2,0x18);
  return 0;
}



void FUN_BATTLE_BIN__801941f8(void)

{
  byte bVar1;
  uint uVar2;
  
  uVar2 = (uint)DAT_BATTLE_BIN__801a01f2;
  DAT_BATTLE_BIN__801a0bbc = UnitBattleData + uVar2;
  DAT_BATTLE_BIN__801a01f8 = &DAT_BATTLE_BIN__801a0bf0 + uVar2 * 0x10;
  DAT_BATTLE_BIN__801a01f4 = UnitBattleData[uVar2].field0_0x0.MapX;
  DAT_BATTLE_BIN__801a01f6 = UnitBattleData[uVar2].field0_0x0.MapY;
  DAT_BATTLE_BIN__801a01f7 = 0;
  DAT_BATTLE_BIN__801a01f5 =
       (byte)((ushort)*(undefined2 *)&UnitBattleData[uVar2].field0_0x0.MapY >> 0xf);
  DAT_BATTLE_BIN__801a01f3 = (&DAT_BATTLE_BIN__801a0d50)[uVar2];
  DAT_BATTLE_BIN__801a01fd = UnitBattleData[uVar2].field0_0x0.field_0x5 & 0x30;
  uVar2 = FUN_BATTLE_BIN__80199b98((int)DAT_BATTLE_BIN__801a0bbc);
  DAT_BATTLE_BIN__801a0213 = (char)uVar2;
  bVar1 = (DAT_BATTLE_BIN__801a0bbc->field1_0x16e).field_0x14;
  if ((bVar1 & 0x80) == 0) {
    DAT_BATTLE_BIN__801a01fc = (DAT_BATTLE_BIN__801a0bbc->field0_0x0).Move;
  }
  else {
    DAT_BATTLE_BIN__801a01fc = UnitBattleData[bVar1 & 0x1f].field0_0x0.Move;
  }
  DAT_BATTLE_BIN__8019f3dc._3_1_ = 0;
  DAT_BATTLE_BIN__8019f3e0 = DAT_BATTLE_BIN__801a01f2;
  return;
}



undefined4 FUN_BATTLE_BIN__80194314(void)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  byte bVar5;
  uint uVar6;
  int iVar7;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    uVar6 = 0;
    iVar7 = 0;
    do {
      iVar2 = uVar6 * 0x10;
      iVar3 = FUN_BATTLE_BIN__80196ce8(uVar6);
      if (iVar3 == 0) {
        if ((uVar6 == DAT_BATTLE_BIN__801a01f2) ||
           (((&UnitBattleData[0].field2_0x18c.field_0x2e)[iVar7] & 0x30) == DAT_BATTLE_BIN__801a01fd
           )) {
          (&DAT_BATTLE_BIN__801a0bf8)[iVar2] = 0;
        }
        else {
          (&DAT_BATTLE_BIN__801a0bf8)[iVar2] = 1;
        }
        bVar5 = (&DAT_BATTLE_BIN__801a0bf7)[iVar2] & 0xc;
        (&DAT_BATTLE_BIN__801a0bf7)[iVar2] = bVar5;
        if ((UnitBattleData[0].field0_0x0.JobLevels[iVar7 + -0x7a] & 0x20) != 0) {
          bVar1 = bVar5 | 0x40;
          if ((UnitBattleData[0].field0_0x0.JobLevels[iVar7 + -0x78] & 0x20) == 0) {
            bVar1 = bVar5 | 0x20;
          }
          (&DAT_BATTLE_BIN__801a0bf7)[iVar2] = bVar1;
        }
        if (*(ushort *)((int)&UnitBattleData[0].field0_0x0.HP + iVar7) <
            *(ushort *)((int)&UnitBattleData[0].field0_0x0.MaxHP + iVar7) >> 1) {
          (&DAT_BATTLE_BIN__801a0bf7)[iVar2] = (&DAT_BATTLE_BIN__801a0bf7)[iVar2] | 1;
        }
        if ((&DAT_BATTLE_BIN__801a0bfb)[iVar2] != '\0') {
          if (*(ushort *)((int)&UnitBattleData[0].field0_0x0.MP + iVar7) <
              *(ushort *)((int)&UnitBattleData[0].field0_0x0.MaxMP + iVar7) >> 1) {
            (&DAT_BATTLE_BIN__801a0bf7)[iVar2] = (&DAT_BATTLE_BIN__801a0bf7)[iVar2] | 2;
          }
          if ((DAT_BATTLE_BIN__801a01fd != 0) &&
             (*(ushort *)((int)&UnitBattleData[0].field0_0x0.MP + iVar7) <
              (ushort)(byte)(&DAT_BATTLE_BIN__801a0bf9)[iVar2])) {
            (&DAT_BATTLE_BIN__801a0bf7)[iVar2] = (&DAT_BATTLE_BIN__801a0bf7)[iVar2] | 2;
          }
        }
        bVar5 = (&DAT_BATTLE_BIN__801a0bf7)[iVar2];
        (&DAT_BATTLE_BIN__801a0bf7)[iVar2] = bVar5 & 0x7f;
        if ((uint)*(ushort *)((int)&UnitBattleData[0].field0_0x0.HP + iVar7) << 2 <
            (uint)*(ushort *)((int)&UnitBattleData[0].field0_0x0.MaxHP + iVar7) * 3) {
          (&DAT_BATTLE_BIN__801a0bf7)[iVar2] = bVar5 & 0x7f | 0x80;
        }
        bVar5 = (&DAT_BATTLE_BIN__801a0bf4)[iVar2];
        (&DAT_BATTLE_BIN__801a0bf4)[iVar2] = bVar5 & 0x7f;
        if (((&DAT_BATTLE_BIN__801a0bf8)[iVar2] == '\0') ||
           (UnitBattleData[0].field0_0x0.SecondarySkillsetName[iVar7 + 9] != -1)) {
          (&DAT_BATTLE_BIN__801a0bf4)[iVar2] = bVar5 & 0x7f | 0x80;
        }
      }
      else {
        (&DAT_BATTLE_BIN__801a0bf7)[iVar2] = (&DAT_BATTLE_BIN__801a0bf7)[iVar2] | 0x10;
      }
      uVar6 = uVar6 + 1;
      iVar7 = iVar7 + 0x1c0;
    } while ((int)uVar6 < 0x15);
    DAT_BATTLE_BIN__8019f3d8 = 1;
    DAT_BATTLE_BIN__8019f3e1 = 0;
    DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 | 0x1000000;
  }
  iVar7 = FUN_BATTLE_BIN__8019d37c();
  if (iVar7 == -1) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = 0;
    DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 & 0xfeffffff;
  }
  return uVar4;
}



void FUN_BATTLE_BIN__80194570(void)

{
  byte bVar1;
  undefined3 extraout_var;
  int iVar2;
  undefined1 *puVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined1 *puVar8;
  
  DAT_BATTLE_BIN__801a0d7f = 0;
  puVar8 = &DAT_BATTLE_BIN__8019f3c4;
  if (((*(byte *)(DAT_BATTLE_BIN__801a01f8 + 7) & 8) == 0) &&
     (iVar5 = 0, (*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5c) & 1) == 0)) {
    iVar7 = 0;
    iVar6 = 0;
    iVar2 = 0;
    iVar4 = 0;
    puVar3 = puVar8;
    do {
      bVar1 = FUN_BATTLE_BIN__80196c8c(iVar2);
      if (CONCAT31(extraout_var,bVar1) == 0) {
        if (puVar3[0x1834] == '\0') {
          iVar5 = iVar5 + 1;
          if ((UnitBattleData[0].field0_0x0.JobLevels[iVar4 + -0x78] & 3) != 0) {
            iVar6 = iVar6 + 1;
          }
        }
        else {
          iVar7 = iVar7 + 1;
        }
      }
      iVar4 = iVar4 + 0x1c0;
      iVar2 = iVar2 + 1;
      puVar3 = puVar3 + 0x10;
    } while (iVar2 < 0x15);
    if ((iVar5 == iVar6) || (iVar5 < 2)) {
      iVar5 = 0;
      if (DAT_BATTLE_BIN__801a01fd != '\0') {
        do {
          iVar5 = iVar5 + 1;
          if (puVar8[0x1834] == '\0') {
            puVar8[0x1833] = puVar8[0x1833] | 8;
          }
          puVar8 = puVar8 + 0x10;
        } while (iVar5 < 0x15);
      }
      DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 & 0xbfffffff;
    }
    else {
      if (iVar7 == 1) {
        DAT_BATTLE_BIN__801a0d7f = 1;
      }
      DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 | 0x40000000;
    }
  }
  else {
    DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 & 0xbfffffff;
  }
  return;
}



void FUN_BATTLE_BIN__8019471c(void)

{
  byte *pbVar1;
  byte bVar2;
  undefined3 extraout_var;
  uint uVar3;
  undefined1 *puVar4;
  int iVar5;
  
  pbVar1 = DAT_BATTLE_BIN__801a01f8;
  if ((DAT_BATTLE_BIN__801a01fd == '\0') && ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 5) & 8) != 0)) {
    DAT_BATTLE_BIN__801a0d7a = *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x1b8);
    return;
  }
  DAT_BATTLE_BIN__801a0d7a = (&DAT_BATTLE_BIN__801a0d65)[DAT_BATTLE_BIN__801a01f2];
  if ((DAT_BATTLE_BIN__801a01f8[4] & 8) != 0) {
    if ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x59) & 0x40) == 0) {
      if ((DAT_BATTLE_BIN__801a01f8[7] & 4) != 0) {
        return;
      }
      if (DAT_BATTLE_BIN__801a0d7a != '\0') {
        return;
      }
      if ((DAT_BATTLE_BIN__801a01f8[4] & 0x40) == 0) {
        uVar3 = (uint)DAT_BATTLE_BIN__801a0d7f;
      }
      else {
        FUN_BATTLE_BIN__8019f2a4((uint)DAT_BATTLE_BIN__801a01f8[5],DAT_BATTLE_BIN__801a01f8);
        bVar2 = FUN_BATTLE_BIN__80196c8c((uint)pbVar1[5]);
        uVar3 = CONCAT31(extraout_var,bVar2);
      }
      if (uVar3 == 0) {
        return;
      }
    }
    pbVar1[4] = pbVar1[4] & 0xf7;
  }
  if (DAT_BATTLE_BIN__801a01fd == '\0') {
    DAT_BATTLE_BIN__801a0d7a = 0;
    iVar5 = 5;
    if (0x2c < ((uint)*(ushort *)(DAT_BATTLE_BIN__801a0bbc + 0x28) << 7) /
               (uint)*(ushort *)(DAT_BATTLE_BIN__801a0bbc + 0x2a)) {
      iVar5 = 0x14;
      puVar4 = &DAT_BATTLE_BIN__8019f3d8;
      do {
        puVar4[0xc8d] = 1;
        iVar5 = iVar5 + -1;
        puVar4 = puVar4 + -1;
      } while (-1 < iVar5);
      iVar5 = 4;
    }
  }
  else {
    if (((pbVar1[6] & 4) != 0) && ((pbVar1[7] & 8) == 0)) {
      DAT_BATTLE_BIN__801a0d7a = 0x10;
      return;
    }
    DAT_BATTLE_BIN__801a0d7a = 0;
    iVar5 = 0x14;
    puVar4 = &DAT_BATTLE_BIN__8019f3d8;
    do {
      puVar4[0xc8d] = 1;
      iVar5 = iVar5 + -1;
      puVar4 = puVar4 + -1;
    } while (-1 < iVar5);
    iVar5 = 4;
  }
  uVar3 = FUN_BATTLE_BIN__80199124(iVar5);
  FUN_BATTLE_BIN__8019490c(uVar3);
  return;
}



void FUN_BATTLE_BIN__8019490c(int param_1)

{
  byte *pbVar1;
  byte *pbVar2;
  
  pbVar2 = DAT_BATTLE_BIN__801a01f8;
  pbVar1 = DAT_BATTLE_BIN__801a01f8 + 4;
  DAT_BATTLE_BIN__801a01f8[5] = (byte)param_1;
  pbVar2[4] = *pbVar1 & 0xdf | 0x40;
  FUN_BATTLE_BIN__8019f2a4(param_1,pbVar2);
  return;
}



undefined4 FUN_BATTLE_BIN__80194944(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  BattleUnitData *pBVar6;
  int iVar7;
  undefined1 *puVar8;
  int iVar9;
  undefined1 *puVar10;
  
  puVar10 = &DAT_BATTLE_BIN__8019f3c4;
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    if (((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x95) & 200) == 0) &&
       ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5a) & 0x40) == 0)) {
      DAT_BATTLE_BIN__801a0d7d = 1;
    }
    else {
      DAT_BATTLE_BIN__801a0d7d = 0;
    }
    FUN_BATTLE_BIN__8019ab78((undefined4 *)&DAT_BATTLE_BIN__8019ffe8,0x48);
    iVar9 = 0;
    puVar8 = puVar10;
    do {
      iVar7 = 0;
      if (DAT_BATTLE_BIN__801a01ff != 0) {
        do {
          uVar3 = (uint)DAT_BATTLE_BIN__801a01fe;
          uVar5 = 0;
          if (uVar3 != 0) {
            do {
              iVar1 = (iVar9 * 0x100 + iVar7 * uVar3 + uVar5) * 8;
              if ((((&DAT_BATTLE_BIN__8018f8d2)[iVar1] & 1) == 0) &&
                 (((&DAT_BATTLE_BIN__8018f8cc)[iVar1] & 0x3f) != 0x3f)) {
                *(ushort *)(puVar8 + iVar7 * 2 + 0xc24) =
                     *(ushort *)(puVar8 + iVar7 * 2 + 0xc24) | (ushort)(0x8000 >> (uVar5 & 0x1f));
              }
              uVar3 = (uint)DAT_BATTLE_BIN__801a01fe;
              uVar5 = uVar5 + 1;
            } while ((int)uVar5 < (int)uVar3);
          }
          iVar7 = iVar7 + 1;
        } while (iVar7 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
      }
      iVar9 = iVar9 + 1;
      puVar8 = puVar8 + 0x24;
    } while (iVar9 < 2);
    DAT_BATTLE_BIN__801a01f1 = 0;
    iVar9 = 0;
    do {
      (&DAT_BATTLE_BIN__8019fe38)[(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + iVar9] = 0;
      iVar7 = iVar9 + 1;
      (&DAT_BATTLE_BIN__8019fe5c)[(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + iVar9] = 0;
      iVar9 = iVar7;
    } while (iVar7 < 0x12);
    if ((param_1 != 0) || ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5c) & 8) != 0)) {
      (&DAT_BATTLE_BIN__8019fe38)
      [(uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] =
           (short)(0x8000 >> (DAT_BATTLE_BIN__801a01f4 & 0x1f));
      return 0;
    }
    uVar3 = *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x182) & 0x1f;
    if ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x182) & 0x80) == 0) {
      uVar3 = (uint)DAT_BATTLE_BIN__801a01f2;
    }
    FUN_BATTLE_BIN__80174b8c(uVar3);
  }
  iVar9 = VSync(1);
  iVar7 = 0;
  if (iVar9 < 0x1b9) {
    DAT_BATTLE_BIN__801a0d7b = '\0';
    do {
      iVar9 = 0;
      if (DAT_BATTLE_BIN__801a01ff != 0) {
        do {
          uVar3 = (uint)DAT_BATTLE_BIN__801a01fe;
          uVar5 = 0;
          if (uVar3 != 0) {
            do {
              if (((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x94) & 8) == 0) ||
                 ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x182) & 0x80) != 0)) {
LAB_BATTLE_BIN__80194c4c:
                if (((&DAT_BATTLE_BIN__8018f8d1)[(iVar7 * 0x100 + iVar9 * uVar3 + uVar5) * 8] & 0x20
                    ) != 0) {
                  *(ushort *)(puVar10 + iVar9 * 2 + 0xa74) =
                       *(ushort *)(puVar10 + iVar9 * 2 + 0xa74) | (ushort)(0x8000 >> (uVar5 & 0x1f))
                  ;
                }
              }
              else {
                iVar1 = DAT_BATTLE_BIN__801a01f4 - uVar5;
                if (iVar1 < 0) {
                  iVar1 = -iVar1;
                }
                iVar4 = (uint)DAT_BATTLE_BIN__801a01f6 - iVar9;
                if (iVar4 < 0) {
                  iVar4 = -iVar4;
                }
                if (iVar1 + iVar4 <= (int)(uint)DAT_BATTLE_BIN__801a01fc)
                goto LAB_BATTLE_BIN__80194c4c;
              }
              uVar3 = (uint)DAT_BATTLE_BIN__801a01fe;
              uVar5 = uVar5 + 1;
            } while ((int)uVar5 < (int)uVar3);
          }
          iVar9 = iVar9 + 1;
        } while (iVar9 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
      }
      iVar7 = iVar7 + 1;
      puVar10 = puVar10 + 0x24;
    } while (iVar7 < 2);
    uVar3 = 0;
    pBVar6 = UnitBattleData;
    do {
      if ((((pBVar6->field0_0x0).UnitID != 0xff) && (uVar3 != DAT_BATTLE_BIN__801a01f2)) &&
         ((*(ushort *)&(pBVar6->field0_0x0).CurrentStatuses & 0x140) == 0)) {
        (&DAT_BATTLE_BIN__8019fe38)
        [(uint)(*(ushort *)&(pBVar6->field0_0x0).MapY >> 0xf) * 0x12 +
         (uint)(pBVar6->field0_0x0).MapY] =
             (&DAT_BATTLE_BIN__8019fe38)
             [(uint)(*(ushort *)&(pBVar6->field0_0x0).MapY >> 0xf) * 0x12 +
              (uint)(pBVar6->field0_0x0).MapY] &
             ~(ushort)(0x8000 >> ((pBVar6->field0_0x0).MapX & 0x1f));
      }
      uVar3 = uVar3 + 1;
      pBVar6 = pBVar6 + 1;
    } while ((int)uVar3 < 0x15);
    (&DAT_BATTLE_BIN__8019fe38)
    [(uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] =
         (&DAT_BATTLE_BIN__8019fe38)
         [(uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] |
         (ushort)(0x8000 >> (DAT_BATTLE_BIN__801a01f4 & 0x1f));
    uVar2 = 0;
    if ((*(uint *)(DAT_BATTLE_BIN__801a0bbc + 0x58) & 0x81000) == 0) {
      iVar7 = 0;
      iVar9 = 0x181c;
      do {
        if ((byte)(&DAT_BATTLE_BIN__8019f3c4)[iVar9] == 0xff) break;
        iVar7 = iVar7 + 1;
        (&DAT_BATTLE_BIN__8019fe38)
        [(uint)(byte)(&DAT_BATTLE_BIN__8019f3c5)[iVar9] * 0x12 +
         (uint)*(byte *)((int)&DAT_BATTLE_BIN__8019f3c6 + iVar9)] =
             (&DAT_BATTLE_BIN__8019fe38)
             [(uint)(byte)(&DAT_BATTLE_BIN__8019f3c5)[iVar9] * 0x12 +
              (uint)*(byte *)((int)&DAT_BATTLE_BIN__8019f3c6 + iVar9)] &
             ~(ushort)(0x8000 >> ((byte)(&DAT_BATTLE_BIN__8019f3c4)[iVar9] & 0x1f));
        iVar9 = iVar9 + 4;
      } while (iVar7 < 4);
      uVar2 = 0;
      (&DAT_BATTLE_BIN__8019fe38)
      [(uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] =
           (&DAT_BATTLE_BIN__8019fe38)
           [(uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] |
           (ushort)(0x8000 >> (DAT_BATTLE_BIN__801a01f4 & 0x1f));
    }
  }
  else {
    uVar2 = 0xffffffff;
  }
  return uVar2;
}



void FUN_BATTLE_BIN__80194e58(int param_1)

{
  SkillsetType SVar1;
  ushort uVar2;
  short sVar3;
  byte bVar4;
  bool bVar5;
  ushort uVar6;
  undefined3 extraout_var;
  int iVar7;
  undefined3 extraout_var_00;
  undefined1 *puVar8;
  undefined3 extraout_var_01;
  uint uVar9;
  uint uVar10;
  int iVar11;
  int iVar12;
  ushort *puVar13;
  BattleUnitData *pBVar14;
  int iVar15;
  uint uVar16;
  int iVar17;
  int iVar18;
  uint local_78;
  int local_70;
  int local_68;
  int local_60;
  int local_58;
  int local_50;
  int local_48;
  int local_40;
  int local_38;
  uint local_30;
  
  uVar16 = 0;
  local_70 = 0;
  local_68 = 0;
  local_60 = 0;
  local_58 = 0;
  local_50 = 0;
  local_38 = 0xff;
  local_30 = 0xff;
  do {
    bVar4 = FUN_BATTLE_BIN__80196c8c(uVar16);
    iVar7 = uVar16 * 0x10;
    if (CONCAT31(extraout_var,bVar4) == 0) {
      pBVar14 = UnitBattleData + uVar16;
      local_48 = 0;
      local_40 = 0;
      if (uVar16 == DAT_BATTLE_BIN__801a01f2) {
        local_78 = 0;
      }
      else {
        local_78 = FUN_BATTLE_BIN__80199b98((int)pBVar14);
      }
      iVar17 = 0;
      (&DAT_BATTLE_BIN__801a0bf6)[iVar7] = (&DAT_BATTLE_BIN__801a0bf6)[iVar7] & 0xfc;
      do {
        puVar13 = (ushort *)
                  (&DAT_BATTLE_BIN__801a02b4 +
                  iVar17 * 4 + (uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[uVar16] * 0x88);
        puVar13[1] = puVar13[1] & 0x7fff;
        if (*(char *)(puVar13 + 1) == -1) break;
        FUN_BATTLE_BIN__80195878(puVar13);
        sVar3 = DAT_BATTLE_BIN__8019f3c6;
        uVar9 = (uint)DAT_BATTLE_BIN__8019f3c5;
        if ((UnitBattleData[uVar16].field0_0x0.CurrentStatuses.field_0x2 & 2) == 0) {
          if (DAT_BATTLE_BIN__8019f3c6 != 0x16f) goto LAB_BATTLE_BIN__80194fc4;
        }
        else if ((DAT_BATTLE_BIN__8019f3c6 == 0x1d) || (DAT_BATTLE_BIN__8019f3c6 == 0x16f)) {
LAB_BATTLE_BIN__80194fc4:
          iVar15 = FUN_BATTLE_BIN__8019ef24(local_78,(int)pBVar14,0x25);
          if ((((iVar15 == 0) &&
               ((((ushort)DAT_BATTLE_BIN__8019f3d0 & 0x100) == 0 ||
                (iVar15 = FUN_BATTLE_BIN__8019ef24(local_78 + uVar9,(int)pBVar14,0xc), iVar15 == 0))
               )) && ((((ushort)DAT_BATTLE_BIN__8019f3d0 & 0x400) == 0 ||
                      (iVar15 = FUN_BATTLE_BIN__8019ef24(local_78 + uVar9,(int)pBVar14,0x21),
                      iVar15 == 0)))) &&
             ((ushort)DAT_BATTLE_BIN__8019f3d5 <= (ushort)UnitBattleData[uVar16].field0_0x0.MP)) {
            SVar1 = ActionMenus[*(byte *)(puVar13 + 1)];
            if ((((SVar1 == Item) || (SVar1 == DrawOut)) || (sVar3 == 0x17e)) || (sVar3 == 0x189)) {
              if ((UnitBattleData[uVar16].field2_0x18c.field_0x2e & 0x30) == 0) {
                if ((&DAT_800596e0)[DAT_BATTLE_BIN__8019f3ca] != '\0') {
LAB_BATTLE_BIN__801951ec:
                  uVar2 = puVar13[1];
                  puVar13[1] = uVar2 | 0x8000;
                  if ((uVar2 & 0x800) == 0) {
                    if (((&DAT_BATTLE_BIN__801a0bf8)[iVar7] != '\0') &&
                       (((ushort)DAT_BATTLE_BIN__8019f3d0 & 2) != 0)) {
                      local_70 = local_70 + 1;
                      if ((DAT_BATTLE_BIN__8019f3d0._2_2_ & 2) != 0) {
                        local_68 = local_68 + 1;
                      }
                      if ((DAT_BATTLE_BIN__8019f3d0._2_2_ & 1) != 0) {
                        local_60 = local_60 + 1;
                      }
                      if (((ushort)DAT_BATTLE_BIN__8019f3d0 & 0x4000) != 0) {
                        local_58 = local_58 + 1;
                      }
                      if ((DAT_BATTLE_BIN__8019f3d4 & 8) != 0) {
                        local_50 = local_50 + 1;
                      }
                    }
                    if (((ushort)DAT_BATTLE_BIN__8019f3d0 & 0x81) == 0x81) {
                      (&DAT_BATTLE_BIN__801a0bf6)[iVar7] = (&DAT_BATTLE_BIN__801a0bf6)[iVar7] | 2;
                    }
                    if ((DAT_BATTLE_BIN__8019f3d0._2_2_ & 0xc0) != 0) {
                      (&DAT_BATTLE_BIN__801a0bf6)[iVar7] = (&DAT_BATTLE_BIN__801a0bf6)[iVar7] | 1;
                    }
                    if (((ushort)DAT_BATTLE_BIN__8019f3d0 & 2) != 0) {
                      local_48 = local_48 + 1;
                    }
                    if (((ushort)DAT_BATTLE_BIN__8019f3d0 & 1) != 0) {
                      local_40 = local_40 + 1;
                    }
                  }
                }
              }
              else if (PrimaryItemData[DAT_BATTLE_BIN__8019f3ca].ReqLevel <=
                       UnitBattleData[uVar16].field0_0x0.Level) goto LAB_BATTLE_BIN__801951ec;
            }
            else {
              if (SVar1 != Throw) goto LAB_BATTLE_BIN__801951ec;
              uVar9 = 0xffffffff;
              if (uVar16 == DAT_BATTLE_BIN__801a01f2) {
                iVar15 = 0x17f;
                iVar18 = 1;
                do {
                  bVar5 = FUN_BATTLE_BIN__8019aa50
                                    (uVar16,(uint)DAT_BATTLE_BIN__8019f3c4,iVar15 + -0x17d);
                  if (CONCAT31(extraout_var_00,bVar5) != 0) {
                    iVar11 = 0;
                    iVar12 = 0;
                    do {
                      if (((&PrimaryItemData[0].ItemType)[iVar12] ==
                           SecondaryItemData[iVar18 + 0x10].UsedItemID) &&
                         (uVar10 = (uint)(&PrimaryItemData[0].ReqLevel)[iVar12],
                         (int)uVar9 <= (int)uVar10)) {
                        if ((UnitBattleData[uVar16].field2_0x18c.field_0x2e & 0x30) == 0) {
                          bVar5 = (byte)(&DAT_800596e0)[iVar11] < 5;
                        }
                        else {
                          bVar5 = UnitBattleData[uVar16].field0_0x0.Level < uVar10;
                        }
                        if (!bVar5) {
                          DAT_BATTLE_BIN__801a01d8 = (undefined2)iVar15;
                          DAT_BATTLE_BIN__801a01da = (undefined)iVar11;
                          uVar9 = uVar10;
                        }
                      }
                      iVar11 = iVar11 + 1;
                      iVar12 = iVar12 + 0xc;
                    } while (iVar11 < 0x100);
                  }
                  iVar15 = iVar15 + 1;
                  iVar18 = iVar18 + 1;
                } while (iVar15 < 0x189);
                if (uVar9 != 0xffffffff) goto LAB_BATTLE_BIN__801951ec;
              }
            }
          }
        }
        iVar17 = iVar17 + 1;
      } while (iVar17 < 0x22);
      if ((&DAT_BATTLE_BIN__801a0bf8)[iVar7] == '\0') {
        if (local_40 + local_48 == 0) {
          (&DAT_BATTLE_BIN__801a0bf6)[iVar7] = (&DAT_BATTLE_BIN__801a0bf6)[iVar7] & 0xfb;
        }
        else {
          iVar17 = (local_40 << 7) / (local_40 + local_48);
          if (iVar17 < 0x4d) {
            bVar4 = (&DAT_BATTLE_BIN__801a0bf6)[iVar7] & 0xfb;
          }
          else {
            bVar4 = (&DAT_BATTLE_BIN__801a0bf6)[iVar7] | 4;
          }
          (&DAT_BATTLE_BIN__801a0bf6)[iVar7] = bVar4;
          if (iVar17 < local_38) {
            local_38 = iVar17;
            local_30 = uVar16;
          }
        }
      }
    }
    uVar16 = uVar16 + 1;
  } while ((int)uVar16 < 0x15);
  iVar7 = 0;
  if (local_30 != 0xff) {
    (&DAT_BATTLE_BIN__801a0bf6)[local_30 * 0x10] =
         (&DAT_BATTLE_BIN__801a0bf6)[local_30 * 0x10] & 0xfb;
  }
  iVar17 = DAT_BATTLE_BIN__801a01f8;
  iVar15 = 0;
  DAT_BATTLE_BIN__801a0082 = 0;
  DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 & 0xdfffffff;
  *(undefined *)(DAT_BATTLE_BIN__801a01f8 + 0xf) = 0xff;
  *(undefined *)(iVar17 + 0xe) = 0xff;
  if (local_70 < 0) {
    local_70 = local_70 + 7;
  }
  local_70 = local_70 >> 3;
  iVar18 = 4;
  puVar8 = &DAT_BATTLE_BIN__8019f3c8;
  do {
    puVar8[0xe44] = 0;
    iVar18 = iVar18 + -1;
    puVar8 = puVar8 + -1;
  } while (-1 < iVar18);
  iVar18 = 0;
  do {
    puVar13 = (ushort *)
              (&DAT_BATTLE_BIN__801a02b4 + iVar18 * 4 + (uint)DAT_BATTLE_BIN__801a01f3 * 0x88);
    if (*(char *)(puVar13 + 1) == -1) break;
    FUN_BATTLE_BIN__80195878(puVar13);
    if ((puVar13[1] & 0x8000) != 0) {
      if (local_68 <= local_70) {
        FUN_BATTLE_BIN__801957c0((int)puVar13,0x1b);
      }
      if (local_60 <= local_70) {
        FUN_BATTLE_BIN__801957c0((int)puVar13,0x1a);
      }
      if (local_58 <= local_70) {
        FUN_BATTLE_BIN__801957c0((int)puVar13,0x26);
      }
      if (local_50 < 1) {
        FUN_BATTLE_BIN__801957c0((int)puVar13,0x11);
      }
      if ((puVar13[1] & 0x8000) != 0) {
        iVar7 = iVar7 + 1;
        if (((ushort)DAT_BATTLE_BIN__8019f3d0 & 0x800) != 0) {
          iVar15 = iVar15 + 1;
        }
        if (DAT_BATTLE_BIN__8019f3c6 == 0x17b) {
          DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 | 0x20000000;
        }
        if (((ushort)DAT_BATTLE_BIN__8019f3d0 & 0x20) != 0) {
          puVar8 = &DAT_BATTLE_BIN__8019f3c4;
          iVar11 = 0;
          do {
            iVar12 = iVar11 + 1;
            puVar8[0xe44] = puVar8[0xe44] | (&DAT_BATTLE_BIN__8019f3cb)[iVar11];
            puVar8 = &DAT_BATTLE_BIN__8019f3c5 + iVar11;
            iVar11 = iVar12;
          } while (iVar12 < 5);
        }
        if (((ushort)DAT_BATTLE_BIN__8019f3d0 & 0x42) == 0x40) {
          DAT_BATTLE_BIN__801a0082 = 1;
        }
        uVar16 = (uint)DAT_BATTLE_BIN__8019f3c8 + (uint)DAT_BATTLE_BIN__8019f3c9;
        if ((((ushort)DAT_BATTLE_BIN__8019f3d0 & 2) != 0) && (uVar16 < *(byte *)(iVar17 + 0xe))) {
          *(char *)(iVar17 + 0xe) = (char)uVar16;
        }
        if (((ushort)DAT_BATTLE_BIN__8019f3d0 & 1) != 0) {
          if (ActionMenus[DAT_BATTLE_BIN__8019f3c4] == Item) {
            uVar16 = (uVar16 + 1) / 2;
          }
          if (uVar16 < *(byte *)(iVar17 + 0xf)) {
            *(char *)(iVar17 + 0xf) = (char)uVar16;
          }
        }
        uVar2 = puVar13[1];
        uVar6 = uVar2 | 0x100;
        if ((uVar2 & 0x200) == 0) {
          if ((uVar2 & 0x400) == 0) {
            if ((DAT_BATTLE_BIN__8019f3c5 < DAT_BATTLE_BIN__801a0213) &&
               (bVar5 = FUN_BATTLE_BIN__8019e5d8((uint)DAT_BATTLE_BIN__801a01f2,1),
               CONCAT31(extraout_var_01,bVar5) != 0)) {
              uVar6 = puVar13[1] & 0xfeff;
            }
            else {
              uVar6 = puVar13[1] | 0x100;
            }
            goto LAB_BATTLE_BIN__801956ec;
          }
        }
        else {
LAB_BATTLE_BIN__801956ec:
          puVar13[1] = uVar6;
        }
        if (param_1 != 0) {
          puVar13[1] = puVar13[1] & 0x7fff;
        }
      }
    }
    iVar18 = iVar18 + 1;
  } while (iVar18 < 0x22);
  if (*(char *)(iVar17 + 0xe) != -1) {
    *(char *)(iVar17 + 0xe) = *(char *)(iVar17 + 0xe) + DAT_BATTLE_BIN__801a01fc;
  }
  if (*(char *)(iVar17 + 0xf) == -1) {
    *(undefined *)(iVar17 + 0xf) = 0;
  }
  *(char *)(iVar17 + 0xf) = *(char *)(iVar17 + 0xf) + DAT_BATTLE_BIN__801a01fc;
  if (iVar7 != 0) {
    DAT_BATTLE_BIN__801a0d7c = (undefined)((iVar15 << 7) / iVar7);
  }
  return;
}



void FUN_BATTLE_BIN__801957c0(int param_1,uint param_2)

{
  uint uVar1;
  undefined1 *puVar2;
  int iVar3;
  uint uVar4;
  
  if (((DAT_BATTLE_BIN__8019f3d0 & 0x10) != 0) && ((DAT_BATTLE_BIN__8019f3d0 & 0xee) == 0)) {
    iVar3 = 0;
    puVar2 = &DAT_BATTLE_BIN__8019f3c4;
    uVar4 = param_2;
    do {
      uVar1 = param_2;
      if ((int)param_2 < 0) {
        uVar1 = param_2 + 7;
      }
      if (iVar3 == (int)uVar1 >> 3) {
        if (((uint)(byte)puVar2[7] & (0x80 >> (uVar4 & 0x1f) ^ 0xffU)) != 0) {
          return;
        }
      }
      else if (puVar2[7] != '\0') {
        return;
      }
      puVar2 = puVar2 + 1;
      iVar3 = iVar3 + 1;
      uVar4 = uVar4 - 8;
    } while (iVar3 < 5);
    *(ushort *)(param_1 + 2) = *(ushort *)(param_1 + 2) & 0x7fff;
  }
  return;
}



void FUN_BATTLE_BIN__80195878(ushort *param_1)

{
  byte bVar1;
  undefined1 *puVar2;
  uint uVar3;
  byte *pbVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  
  FUN_BATTLE_BIN__8019ab78((undefined4 *)&DAT_BATTLE_BIN__8019f3c4,0x14);
  FUN_BATTLE_BIN__8019ab78((undefined4 *)&DAT_BATTLE_BIN__8019f3e4,4);
  DAT_BATTLE_BIN__8019f3c4 = *(undefined *)(param_1 + 1);
  uVar3 = *param_1 & 0x3ff;
  DAT_BATTLE_BIN__8019f3c6 = (short)uVar3;
  uVar6 = (int)((uint)*param_1 << 0x10) >> 0x1a;
  uVar8 = (uint)ActionMenus[*(byte *)(param_1 + 1)];
  uVar7 = 0;
  switch(uVar8) {
  case 1:
    uVar7 = (uint)ItemSecondary[uVar3 - 0x170].InflictStatusID;
    if ((*(byte *)((int)&UnitBattleData[uVar6].field0_0x0.Supports + 2) & 8) == 0) {
      DAT_BATTLE_BIN__8019f3c8 = 1;
    }
    else {
      DAT_BATTLE_BIN__8019f3c8 = UnitBattleData[uVar6].field0_0x0.Move;
    }
    DAT_BATTLE_BIN__8019f3c9 = 0;
    DAT_BATTLE_BIN__8019f3ca = (&SecondaryAbilityData[0x155].Y)[uVar3];
    break;
  case 2:
    DAT_BATTLE_BIN__8019f3c6 = 0x17e;
    if ((uVar3 - 0x7a < 3) || (DAT_BATTLE_BIN__8019f3c6 = 0x189, uVar3 - 0x7d < 3)) {
      DAT_BATTLE_BIN__8019f3d4 = WeaponSecondary[uVar3].field_0x6;
      DAT_BATTLE_BIN__8019f3ca = (byte)uVar3;
    }
    else {
      DAT_BATTLE_BIN__8019f3c6 = DAT_BATTLE_BIN__801a01d8;
      DAT_BATTLE_BIN__8019f3ca = DAT_BATTLE_BIN__801a01da;
    }
    DAT_BATTLE_BIN__8019f3c8 = UnitBattleData[uVar6].field0_0x0.Move;
    uVar3 = (uint)DAT_BATTLE_BIN__8019f3c6;
    break;
  case 3:
    iVar5 = 4;
    puVar2 = &DAT_BATTLE_BIN__8019f3c8;
    do {
      puVar2[7] = 0xff;
      iVar5 = iVar5 + -1;
      puVar2 = puVar2 + -1;
    } while (-1 < iVar5);
    DAT_BATTLE_BIN__8019f3d0 = CONCAT31(DAT_BATTLE_BIN__8019f3d0._1_3_,0xfc);
    DAT_BATTLE_BIN__8019f3d0 =
         CONCAT13(*(undefined *)((int)param_1 + 3),(undefined3)DAT_BATTLE_BIN__8019f3d0);
    DAT_BATTLE_BIN__8019f3d0 = DAT_BATTLE_BIN__8019f3d0 | 0x8000;
    return;
  case 7:
    DAT_BATTLE_BIN__8019f3ca = (byte)uVar3 - 0x26;
    break;
  case 9:
    if (uVar6 == DAT_BATTLE_BIN__801a01f2) {
      DAT_BATTLE_BIN__8019f3c5 =
           (byte)(((int)(100 - (uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x39)) /
                  (int)(uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x38)) / 2);
    }
    else {
      uVar7 = (uint)UnitBattleData[uVar6].field0_0x0.CT;
      if (uVar7 < 0x65) {
        DAT_BATTLE_BIN__8019f3c5 =
             (byte)((int)(100 - uVar7) / (int)(uint)UnitBattleData[uVar6].field0_0x0.SP);
        uVar7 = (uint)UnitBattleData[uVar6].field0_0x0.SP;
        iVar5 = uVar7 - (int)(100 - (uint)UnitBattleData[uVar6].field0_0x0.CT) % (int)uVar7;
      }
      else {
        DAT_BATTLE_BIN__8019f3c5 = '\0';
        iVar5 = UnitBattleData[uVar6].field0_0x0.CT - 100;
      }
      DAT_BATTLE_BIN__8019f3c5 =
           DAT_BATTLE_BIN__8019f3c5 +
           (char)(((100 - iVar5) / (int)(uint)UnitBattleData[uVar6].field0_0x0.SP) / 2);
    }
    if ((*param_1 & 0x3ff) == 0) {
      DAT_BATTLE_BIN__8019f3c8 = 1;
    }
    else {
      DAT_BATTLE_BIN__8019f3c8 = SecondaryJumpData[uVar3 - 0x18a].Range;
    }
    pbVar4 = &DAT_BATTLE_BIN__801a0b3c + (uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[uVar6] * 8;
LAB_BATTLE_BIN__80195974:
    DAT_BATTLE_BIN__8019f3d0 =
         CONCAT13(*(undefined *)((int)param_1 + 3),*(undefined3 *)(pbVar4 + 1));
    if (uVar8 != 9) {
      DAT_BATTLE_BIN__8019f3ca = pbVar4[4];
      return;
    }
    DAT_BATTLE_BIN__8019f3ca = pbVar4[4];
    DAT_BATTLE_BIN__8019f3d0 = DAT_BATTLE_BIN__8019f3d0 & 0xfffffffe | 2;
    return;
  case 10:
    DAT_BATTLE_BIN__8019f3c5 = SecondaryChargeData[uVar3 - 0x196].CT;
  case 8:
    pbVar4 = &DAT_BATTLE_BIN__801a0b3c + (uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[uVar6] * 8;
    DAT_BATTLE_BIN__8019f3c8 = *pbVar4;
    DAT_BATTLE_BIN__8019f3d4 =
         (&DAT_BATTLE_BIN__801a0b41)[(uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[uVar6] * 8];
    goto LAB_BATTLE_BIN__80195974;
  }
  FUN_BATTLE_BIN__8019ab08
            ((undefined2 *)&DAT_BATTLE_BIN__8019f3d0,
             (undefined2 *)&PrimaryAbilityData[uVar3].field_0x4,4);
  if (uVar8 - 1 < 2) {
    DAT_BATTLE_BIN__8019f3d0 = DAT_BATTLE_BIN__8019f3d0 | 0x400000;
  }
  DAT_BATTLE_BIN__8019f3d0 =
       CONCAT13(*(undefined *)((int)param_1 + 3),(undefined3)DAT_BATTLE_BIN__8019f3d0);
  if ((int)uVar3 < 0x170) {
    DAT_BATTLE_BIN__8019f3c5 = SecondaryAbilityData[uVar3].CT;
    uVar7 = (uint)SecondaryAbilityData[uVar3].InflictStatus;
    DAT_BATTLE_BIN__8019f3d4 = SecondaryAbilityData[uVar3].Element;
    DAT_BATTLE_BIN__8019f3d5 = SecondaryAbilityData[uVar3].MPCost;
    if ((*(byte *)((int)&UnitBattleData[uVar6].field0_0x0.Supports + 1) & 0x80) != 0) {
      DAT_BATTLE_BIN__8019f3d5 = DAT_BATTLE_BIN__8019f3d5 >> 1;
    }
    if ((SecondaryAbilityData[uVar3].field_0x3 & 0x20) == 0) {
      DAT_BATTLE_BIN__8019f3c8 = SecondaryAbilityData[uVar3].Range;
      DAT_BATTLE_BIN__8019f3c9 = SecondaryAbilityData[uVar3].AOE;
    }
    else {
      DAT_BATTLE_BIN__8019f3c8 =
           (&DAT_BATTLE_BIN__801a0b3c)[(uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[uVar6] * 8];
      DAT_BATTLE_BIN__8019f3c9 = 0;
    }
    if ((SecondaryAbilityData[uVar3].field_0x5 & 4) != 0) goto LAB_BATTLE_BIN__80195d44;
  }
  bVar1 = *(byte *)((int)&UnitBattleData[uVar6].field0_0x0.Supports + 3);
  if ((bVar1 & 0x80) == 0) {
    if ((bVar1 & 0x40) != 0) {
      DAT_BATTLE_BIN__8019f3c5 = 0;
    }
  }
  else {
    DAT_BATTLE_BIN__8019f3c5 = DAT_BATTLE_BIN__8019f3c5 >> 1;
  }
LAB_BATTLE_BIN__80195d44:
  FUN_BATTLE_BIN__8019ab48
            (&DAT_BATTLE_BIN__8019f3cb,(undefined *)&InflictStatusList[uVar7].field4_0x1,5);
  return;
}



undefined4 FUN_BATTLE_BIN__80195d94(void)

{
  int iVar1;
  int iVar2;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    iVar1 = 0;
    iVar2 = 0x54;
    do {
      FUN_BATTLE_BIN__80195f6c((int)(&DAT_BATTLE_BIN__8019f3c4 + iVar2));
      iVar1 = iVar1 + 1;
      iVar2 = iVar2 + 0x20;
    } while (iVar1 < 8);
    FUN_BATTLE_BIN__80195f6c((int)&DAT_BATTLE_BIN__8019f3d8);
    FUN_BATTLE_BIN__80195f6c((int)&DAT_BATTLE_BIN__8019f3f8);
    FUN_BATTLE_BIN__80195f6c((int)&DAT_BATTLE_BIN__8019f518);
    FUN_BATTLE_BIN__80195f6c((int)&DAT_BATTLE_BIN__801a0bc0);
    FUN_BATTLE_BIN__8019971c();
LAB_BATTLE_BIN__80195e44:
    iVar1 = FUN_BATTLE_BIN__801971b8();
    if (iVar1 == -1) {
      DAT_BATTLE_BIN__801a0031 = 0;
      return 0xffffffff;
    }
    if (iVar1 != 0) {
      return 0;
    }
    if ((((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5a) & 3) != 0) &&
        ((DAT_BATTLE_BIN__801a0078 & 0x40000000) != 0)) ||
       (((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5c) & 4) != 0 &&
        ((*(byte *)(DAT_BATTLE_BIN__801a01f8 + 2) & 0x40) != 0)))) {
      FUN_BATTLE_BIN__8019ab08
                ((undefined2 *)&DAT_BATTLE_BIN__801a0d40,DAT_BATTLE_BIN__801a01f8,0x10);
LAB_BATTLE_BIN__80195edc:
      iVar1 = FUN_BATTLE_BIN__80198e60();
      if (iVar1 == -1) {
        DAT_BATTLE_BIN__801a0031 = 2;
        return 0xffffffff;
      }
      FUN_BATTLE_BIN__8019ab08
                (DAT_BATTLE_BIN__801a01f8,(undefined2 *)&DAT_BATTLE_BIN__801a0d40,0x10);
      return 0;
    }
  }
  else {
    if (DAT_BATTLE_BIN__801a0031 == 2) goto LAB_BATTLE_BIN__80195edc;
    if (DAT_BATTLE_BIN__801a0031 < 3) {
      if (DAT_BATTLE_BIN__801a0031 != 0) goto LAB_BATTLE_BIN__80195f30;
      goto LAB_BATTLE_BIN__80195e44;
    }
    if (DAT_BATTLE_BIN__801a0031 != 3) goto LAB_BATTLE_BIN__80195f30;
  }
  iVar1 = FUN_BATTLE_BIN__80197f14();
  if (iVar1 == -1) {
    DAT_BATTLE_BIN__801a0031 = 3;
    return 0xffffffff;
  }
  if (iVar1 != 0) {
    return 0;
  }
  DAT_BATTLE_BIN__801a0d7b = '\0';
LAB_BATTLE_BIN__80195f30:
  iVar1 = FUN_BATTLE_BIN__8019619c();
  if (iVar1 == -1) {
    DAT_BATTLE_BIN__801a0031 = 7;
    return 0xffffffff;
  }
  return 0;
}



void FUN_BATTLE_BIN__80195f6c(int param_1)

{
  *(undefined2 *)(param_1 + 0x1e) = 0x8001;
  *(undefined *)(param_1 + 0x1c) = 0;
  *(undefined *)(param_1 + 0x1d) = 0;
  *(undefined *)(param_1 + 3) = 5;
  *(undefined *)(param_1 + 1) = 0;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_BATTLE_BIN__80195f8c(void)

{
  uint uVar1;
  int iVar2;
  
  iVar2 = DAT_BATTLE_BIN__801a0bbc;
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    if (*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x15d) == -1) {
      return 0;
    }
    if (ActionMenus[*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x16f)] == Aim) {
      DAT_BATTLE_BIN__8019f3dc = _DAT_BATTLE_BIN__801a01f4;
    }
    else {
      DAT_BATTLE_BIN__8019f3dc = (&DAT_BATTLE_BIN__801a0088)[DAT_BATTLE_BIN__801a01f1];
      FUN_BATTLE_BIN__8019bb20();
    }
    DAT_BATTLE_BIN__8019f3d8 = 0;
    DAT_BATTLE_BIN__8019f3e1 = 0;
    if (*(ushort *)(iVar2 + 0x170) - 0x56 < 0xe) goto LAB_BATTLE_BIN__8019606c;
  }
  else {
    if (DAT_BATTLE_BIN__801a029a == '\0') {
LAB_BATTLE_BIN__8019606c:
      iVar2 = FUN_BATTLE_BIN__8019d308();
      uVar1 = 0xffffffff;
      if (iVar2 == -1) {
        DAT_BATTLE_BIN__801a029a = '\0';
      }
      else {
        FUN_BATTLE_BIN__80196fc4();
        uVar1 = 0;
      }
      return uVar1;
    }
    if (DAT_BATTLE_BIN__801a029a != '\x01') goto LAB_BATTLE_BIN__80196124;
  }
  iVar2 = FUN_BATTLE_BIN__8019d37c();
  if (iVar2 == -1) {
    DAT_BATTLE_BIN__801a029a = 1;
    return 0xffffffff;
  }
  FUN_BATTLE_BIN__8019ab08
            ((undefined2 *)&DAT_BATTLE_BIN__801a0bc0,(undefined2 *)&DAT_BATTLE_BIN__8019f3d8,0x20);
  DAT_BATTLE_BIN__801a0294 = *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x15d);
  DAT_BATTLE_BIN__801a0295 = *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x58);
  DAT_BATTLE_BIN__801a0296 = *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x1bb);
  *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x15d) = 0xff;
  *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x58) = *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x58) & 0xf6;
  *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1bb) = *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1bb) & 0xf6;
LAB_BATTLE_BIN__80196124:
  iVar2 = FUN_BATTLE_BIN__8019d37c();
  if (iVar2 == -1) {
    DAT_BATTLE_BIN__801a029a = 2;
    return 0xffffffff;
  }
  *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x15d) = DAT_BATTLE_BIN__801a0294;
  *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x58) = DAT_BATTLE_BIN__801a0295;
  *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x1bb) = DAT_BATTLE_BIN__801a0296;
  iVar2 = FUN_BATTLE_BIN__80196db0(&DAT_BATTLE_BIN__801a0bdc,&DAT_BATTLE_BIN__8019f3f4);
  return (uint)(iVar2 == 2);
}



undefined4 FUN_BATTLE_BIN__8019619c(void)

{
  uint uVar1;
  int iVar2;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    DAT_BATTLE_BIN__801a01f1 = 1;
LAB_BATTLE_BIN__801961ec:
    iVar2 = FUN_BATTLE_BIN__8019638c();
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__801a0299 = 4;
      return 0xffffffff;
    }
    DAT_BATTLE_BIN__801a01f1 = 0;
    FUN_BATTLE_BIN__8019630c();
    DAT_BATTLE_BIN__801a01f1 = 1;
LAB_BATTLE_BIN__80196210:
    uVar1 = FUN_BATTLE_BIN__80195f8c();
    if (uVar1 == 0xffffffff) {
      DAT_BATTLE_BIN__801a0299 = 2;
      return 0xffffffff;
    }
    if (uVar1 == 1) {
      return 0;
    }
    DAT_BATTLE_BIN__801a01f1 = 1;
    iVar2 = FUN_BATTLE_BIN__80197d0c(0,0);
    if (iVar2 == 0) goto LAB_BATTLE_BIN__80196270;
  }
  else {
    if (DAT_BATTLE_BIN__801a0299 == '\x04') goto LAB_BATTLE_BIN__801961ec;
    if (DAT_BATTLE_BIN__801a0299 == '\x02') goto LAB_BATTLE_BIN__80196210;
  }
  iVar2 = FUN_BATTLE_BIN__80197e60();
  if (iVar2 == -1) {
    DAT_BATTLE_BIN__801a0299 = 7;
    return 0xffffffff;
  }
LAB_BATTLE_BIN__80196270:
  iVar2 = FUN_BATTLE_BIN__801970bc();
  if (iVar2 == 0) {
    DAT_BATTLE_BIN__801a01f1 = 0;
    FUN_BATTLE_BIN__80199498();
    return 0;
  }
  return 0;
}



undefined FUN_BATTLE_BIN__801962a0(void)

{
  undefined uVar1;
  
  uVar1 = DAT_BATTLE_BIN__801a01fc;
  if ((*(byte *)(DAT_BATTLE_BIN__801a01f8 + 4) & 0x40) != 0) {
    if ((&DAT_BATTLE_BIN__801a0bf8)[(uint)*(byte *)(DAT_BATTLE_BIN__801a01f8 + 5) * 0x10] == '\0') {
      uVar1 = *(undefined *)(DAT_BATTLE_BIN__801a01f8 + 0xf);
    }
    else {
      uVar1 = *(undefined *)(DAT_BATTLE_BIN__801a01f8 + 0xe);
    }
  }
  return uVar1;
}



void FUN_BATTLE_BIN__8019630c(void)

{
  int iVar1;
  
  DAT_BATTLE_BIN__8019f534 = 0;
  DAT_BATTLE_BIN__8019f535 = 100;
  iVar1 = (uint)DAT_BATTLE_BIN__801a01f1 * 4;
  DAT_BATTLE_BIN__8019f536 =
       -(&DAT_BATTLE_BIN__8019f9b8)
        [(uint)*(byte *)((int)&DAT_BATTLE_BIN__801a0088 + iVar1 + 1) * 0x120 +
         (uint)*(byte *)((int)&DAT_BATTLE_BIN__801a0088 + iVar1 + 2) * 0x10 +
         (uint)*(byte *)(&DAT_BATTLE_BIN__801a0088 + DAT_BATTLE_BIN__801a01f1)];
  return;
}



undefined4 FUN_BATTLE_BIN__8019638c(void)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 uVar3;
  
  puVar1 = DAT_BATTLE_BIN__801a01f8;
  DAT_BATTLE_BIN__801a01f1 = 1;
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    if (((*(byte *)(DAT_BATTLE_BIN__801a01f8 + 1) & 0x40) == 0) ||
       (((uint)*(byte *)((int)DAT_BATTLE_BIN__801a01f8 + 5) != (uint)DAT_BATTLE_BIN__801a01f2 &&
        (((byte)(&DAT_BATTLE_BIN__801a0bf7)
                [(uint)*(byte *)((int)DAT_BATTLE_BIN__801a01f8 + 5) * 0x10] >> 4 & 1) == 0))))
    goto LAB_BATTLE_BIN__80196440;
    FUN_BATTLE_BIN__8019ab78((undefined4 *)&DAT_BATTLE_BIN__8019f778,0x240);
  }
  else {
    if (DAT_BATTLE_BIN__801a0035 != '\0') goto LAB_BATTLE_BIN__80196680;
LAB_BATTLE_BIN__80196440:
    iVar2 = FUN_BATTLE_BIN__801994f8((byte *)DAT_BATTLE_BIN__801a01f8);
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__801a0035 = 0;
      return 0xffffffff;
    }
    if (((*(byte *)((int)puVar1 + 7) & 3) != 0) &&
       ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5c) & 1) == 0)) {
      DAT_BATTLE_BIN__8019f370 = 0;
      do {
        if ((UnitBattleData[DAT_BATTLE_BIN__8019f370].field0_0x0.UnitID != 0xff) &&
           ((*(byte *)&UnitBattleData[DAT_BATTLE_BIN__8019f370].field0_0x0.CurrentStatuses & 0x40)
            != 0)) {
          FUN_BATTLE_BIN__8019f2a4(DAT_BATTLE_BIN__8019f370,(byte *)&DAT_BATTLE_BIN__801a0038);
          (&DAT_BATTLE_BIN__8019f778)
          [(uint)(byte)DAT_BATTLE_BIN__801a0038 +
           (uint)DAT_BATTLE_BIN__801a0038._2_1_ * 0x10 +
           (uint)DAT_BATTLE_BIN__801a0038._1_1_ * 0x120] = 1;
        }
        DAT_BATTLE_BIN__8019f370 = DAT_BATTLE_BIN__8019f370 + 1;
      } while ((int)DAT_BATTLE_BIN__8019f370 < 0x15);
    }
  }
  DAT_BATTLE_BIN__8019f374 =
       (uint)(byte)(&DAT_BATTLE_BIN__8019f778)
                   [(uint)DAT_BATTLE_BIN__801a01f4 +
                    (uint)DAT_BATTLE_BIN__801a01f6 * 0x10 + (uint)DAT_BATTLE_BIN__801a01f5 * 0x120];
  DAT_BATTLE_BIN__8019f36c = FUN_BATTLE_BIN__801962a0();
  DAT_BATTLE_BIN__8019f378 = 0;
  if (((int)DAT_BATTLE_BIN__8019f36c < (int)DAT_BATTLE_BIN__8019f374) &&
     ((*(byte *)((int)puVar1 + 6) & 8) == 0)) {
    DAT_BATTLE_BIN__8019f368 = 0;
    iVar2 = DAT_BATTLE_BIN__8019f374 - 1;
  }
  else {
    DAT_BATTLE_BIN__8019f368 = 1;
    if (((*(byte *)(puVar1 + 1) & 0x20) != 0) &&
       (((DAT_BATTLE_BIN__8019f370 = FUN_BATTLE_BIN__8019d294((byte *)puVar1),
         DAT_BATTLE_BIN__8019f370 == DAT_BATTLE_BIN__801a01f2 || (DAT_BATTLE_BIN__8019f370 == 0x15))
        && (((uint)(ushort)(&DAT_BATTLE_BIN__8019fe38)
                           [(uint)*(byte *)((int)puVar1 + 2) +
                            (uint)*(byte *)((int)puVar1 + 1) * 0x12] &
            0x8000 >> (*(byte *)puVar1 & 0x1f)) != 0)))) {
      (&DAT_BATTLE_BIN__801a0088)[DAT_BATTLE_BIN__801a01f1] = *puVar1;
      FUN_BATTLE_BIN__801993a0();
      DAT_BATTLE_BIN__8019f378 = 1;
      goto LAB_BATTLE_BIN__80196680;
    }
    iVar2 = DAT_BATTLE_BIN__801a01fc + DAT_BATTLE_BIN__8019f374;
  }
  FUN_BATTLE_BIN__80196adc(iVar2);
LAB_BATTLE_BIN__80196680:
  iVar2 = FUN_BATTLE_BIN__801999c8();
  if (iVar2 == -1) {
    DAT_BATTLE_BIN__801a0035 = '\x01';
    uVar3 = 0xffffffff;
  }
  else {
    if (DAT_BATTLE_BIN__8019f378 == 0) {
      if (DAT_BATTLE_BIN__8019f368 == 0) {
        if ((DAT_BATTLE_BIN__801a01fd != '\0') && (iVar2 = rand(), iVar2 == (iVar2 / 7) * 7)) {
          DAT_BATTLE_BIN__8019f36c = (int)DAT_BATTLE_BIN__8019f36c / 2;
        }
        FUN_BATTLE_BIN__80196908(DAT_BATTLE_BIN__8019f36c);
      }
      else {
        FUN_BATTLE_BIN__8019693c(0x7fffffff,0);
      }
    }
    DAT_BATTLE_BIN__8019f370 = 0;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      do {
        (&DAT_BATTLE_BIN__8019fec8)[DAT_BATTLE_BIN__8019f370] =
             (&DAT_BATTLE_BIN__8019fe38)[DAT_BATTLE_BIN__8019f370] ^
             (&DAT_BATTLE_BIN__8019fe80)[DAT_BATTLE_BIN__8019f370];
        (&DAT_BATTLE_BIN__8019feec)[DAT_BATTLE_BIN__8019f370] =
             (&DAT_BATTLE_BIN__8019fe5c)[DAT_BATTLE_BIN__8019f370] ^
             (&DAT_BATTLE_BIN__8019fea4)[DAT_BATTLE_BIN__8019f370];
        DAT_BATTLE_BIN__8019f370 = DAT_BATTLE_BIN__8019f370 + 1;
      } while ((int)DAT_BATTLE_BIN__8019f370 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    DAT_BATTLE_BIN__801a01f1 = 0;
    DAT_BATTLE_BIN__801a0090 = DAT_BATTLE_BIN__801a008c;
    if (((*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x188) == '\0') &&
        ((*(byte *)(puVar1 + 1) & 0x40) != 0)) &&
       ((DAT_BATTLE_BIN__8019f368 != 0 && ((*(byte *)((int)puVar1 + 6) & 8) == 0)))) {
      FUN_BATTLE_BIN__8019689c(DAT_BATTLE_BIN__8019f374 - 1);
    }
    else {
      DAT_BATTLE_BIN__801a0088 = DAT_BATTLE_BIN__801a008c;
    }
    uVar3 = 0;
    (&DAT_BATTLE_BIN__8019fe80)
    [(uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] =
         (&DAT_BATTLE_BIN__8019fe80)
         [(uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] |
         (ushort)(0x8000 >> (DAT_BATTLE_BIN__801a01f4 & 0x1f));
  }
  return uVar3;
}



void FUN_BATTLE_BIN__8019689c(uint param_1)

{
  if ((((&DAT_BATTLE_BIN__801a0bf8)[(uint)*(byte *)(DAT_BATTLE_BIN__801a01f8 + 5) * 0x10] != '\0')
      && ((*(byte *)(DAT_BATTLE_BIN__801a01f8 + 6) & 1) != 0)) && ((int)param_1 < 3)) {
    param_1 = 3;
  }
  FUN_BATTLE_BIN__80196908(param_1);
  return;
}



void FUN_BATTLE_BIN__80196908(uint param_1)

{
  bool bVar1;
  undefined3 extraout_var;
  
  bVar1 = FUN_BATTLE_BIN__8019693c(param_1,0);
  if (CONCAT31(extraout_var,bVar1) == 0) {
    FUN_BATTLE_BIN__8019693c(0x7fffffff,1);
  }
  return;
}



bool FUN_BATTLE_BIN__8019693c(uint param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  int iVar13;
  
  iVar10 = 0x7fffffff;
  uVar12 = 0x7fffffff;
  iVar11 = 0;
  iVar6 = 0;
  iVar13 = 0;
  uVar1 = (uint)DAT_BATTLE_BIN__801a01f1;
  iVar2 = uVar1 * 4;
  do {
    iVar9 = 0;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      do {
        uVar3 = (uint)*(ushort *)
                       ((int)&DAT_BATTLE_BIN__8019fe38 +
                       iVar9 * 2 + iVar13 + (uint)DAT_BATTLE_BIN__801a01f1 * 0x48);
        if ((uVar3 != 0) && (uVar8 = 0, uVar7 = uVar3, DAT_BATTLE_BIN__801a01fe != 0)) {
          do {
            if ((uVar7 & 0x8000) != 0) {
              iVar4 = iVar6 + iVar9 * 0x10 + uVar8;
              uVar7 = (uint)(byte)(&DAT_BATTLE_BIN__8019f778)[iVar4];
              if ((int)uVar7 <= (int)param_1) {
                iVar4 = (uint)(ushort)(&DAT_BATTLE_BIN__8019f9b8)[iVar4] * 0x10000 +
                        (uint)(byte)(&DAT_BATTLE_BIN__8019f538)[iVar4];
                if (param_2 == 0) {
                  if ((iVar4 <= iVar10) && ((uVar5 = param_1, iVar4 != iVar10 || (uVar7 <= uVar12)))
                     ) goto LAB_BATTLE_BIN__80196a64;
                }
                else {
                  uVar5 = uVar7;
                  if ((param_1 != uVar7) || (iVar4 <= iVar10)) {
LAB_BATTLE_BIN__80196a64:
                    *(char *)(&DAT_BATTLE_BIN__801a0088 + uVar1) = (char)uVar8;
                    *(char *)((int)&DAT_BATTLE_BIN__801a0088 + iVar2 + 2) = (char)iVar9;
                    *(char *)((int)&DAT_BATTLE_BIN__801a0088 + iVar2 + 1) = (char)iVar11;
                    *(undefined *)((int)&DAT_BATTLE_BIN__801a0088 + iVar2 + 3) = 0;
                    param_1 = uVar5;
                    iVar10 = iVar4;
                    uVar12 = uVar7;
                  }
                }
              }
            }
            uVar8 = uVar8 + 1;
            uVar7 = uVar3 << (uVar8 & 0x1f);
          } while ((int)uVar8 < (int)(uint)DAT_BATTLE_BIN__801a01fe);
        }
        iVar9 = iVar9 + 1;
      } while (iVar9 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    iVar6 = iVar6 + 0x120;
    iVar11 = iVar11 + 1;
    iVar13 = iVar13 + 0x24;
    if (1 < iVar11) {
      return iVar10 != 0x7fffffff;
    }
  } while( true );
}



bool FUN_BATTLE_BIN__80196adc(int param_1)

{
  ushort uVar1;
  bool bVar2;
  ushort *puVar3;
  undefined1 *puVar4;
  int iVar5;
  uint uVar6;
  byte *pbVar7;
  int iVar8;
  int iVar9;
  ushort *puVar10;
  byte *pbVar11;
  int iVar12;
  undefined1 *puVar13;
  
  bVar2 = false;
  puVar4 = &DAT_BATTLE_BIN__8019f3c4;
  iVar12 = 0;
  do {
    (&DAT_BATTLE_BIN__8019fe38)[(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + iVar12] = 0;
    iVar5 = iVar12 + 1;
    (&DAT_BATTLE_BIN__8019fe5c)[(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + iVar12] = 0;
    iVar12 = iVar5;
  } while (iVar5 < 0x12);
  iVar5 = 0;
  iVar12 = 0;
  puVar13 = puVar4;
  do {
    iVar8 = 0;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      iVar9 = 0;
      pbVar11 = puVar13 + 0x3b4;
      puVar10 = (ushort *)(puVar4 + 0xa74);
      do {
        uVar1 = *puVar10;
        if ((uVar1 != 0) && (uVar6 = 0, pbVar7 = pbVar11, DAT_BATTLE_BIN__801a01fe != 0)) {
          do {
            if ((((uint)uVar1 << (uVar6 & 0x1f) & 0x8000) != 0) && ((int)(uint)*pbVar7 <= param_1))
            {
              bVar2 = true;
              puVar3 = (ushort *)
                       ((int)&DAT_BATTLE_BIN__8019fe38 +
                       iVar9 + iVar12 + (uint)DAT_BATTLE_BIN__801a01f1 * 0x48);
              *puVar3 = *puVar3 | (ushort)(0x8000 >> (uVar6 & 0x1f));
            }
            uVar6 = uVar6 + 1;
            pbVar7 = pbVar7 + 1;
          } while ((int)uVar6 < (int)(uint)DAT_BATTLE_BIN__801a01fe);
        }
        iVar9 = iVar9 + 2;
        pbVar11 = pbVar11 + 0x10;
        iVar8 = iVar8 + 1;
        puVar10 = puVar10 + 1;
      } while (iVar8 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    puVar13 = puVar13 + 0x120;
    puVar4 = puVar4 + 0x24;
    iVar5 = iVar5 + 1;
    iVar12 = iVar12 + 0x24;
  } while (iVar5 < 2);
  if (!bVar2) {
    FUN_BATTLE_BIN__8019ab08
              (&DAT_BATTLE_BIN__8019fe38 + (uint)DAT_BATTLE_BIN__801a01f1 * 0x24,
               &DAT_BATTLE_BIN__8019fe38,0x48);
  }
  return bVar2;
}



byte FUN_BATTLE_BIN__80196c8c(int param_1)

{
  byte bVar1;
  
  bVar1 = 1;
  if ((((byte)(&DAT_BATTLE_BIN__801a0bf7)[param_1 * 0x10] >> 4 & 1) == 0) &&
     (bVar1 = 1, ((byte)(&DAT_BATTLE_BIN__801a0bf7)[param_1 * 0x10] >> 5 & 1) == 0)) {
    bVar1 = (byte)UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x1 >> 7;
  }
  return bVar1;
}



undefined4 FUN_BATTLE_BIN__80196ce8(int param_1)

{
  byte bVar1;
  undefined4 uVar2;
  
  uVar2 = 1;
  if ((UnitBattleData[param_1].field0_0x0.UnitID != 0xff) &&
     (uVar2 = 1, (*(ushort *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 0x140) == 0)) {
    bVar1 = UnitBattleData[param_1].field1_0x16e.field_0x14;
    uVar2 = 1;
    if (((bVar1 & 0x40) == 0) && (uVar2 = 0, (&DAT_BATTLE_BIN__801a0bf8)[param_1 * 0x10] != '\0')) {
      if ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x2 & 0x10) == 0) {
        uVar2 = 0;
      }
      else if (((bVar1 & 0x80) == 0) ||
              (uVar2 = 0,
              (UnitBattleData[bVar1 & 0xf].field0_0x0.CurrentStatuses.field_0x2 & 0x10) == 0)) {
        uVar2 = 1;
      }
    }
  }
  return uVar2;
}



undefined FUN_BATTLE_BIN__80196db0(byte *param_1,byte *param_2)

{
  undefined uVar1;
  
  uVar1 = 2;
  if ((*param_1 <= *param_2) && (uVar1 = 0, *param_2 <= *param_1)) {
    uVar1 = 2;
    if ((*(short *)(param_1 + 2) <= *(short *)(param_2 + 2)) &&
       (uVar1 = 0, *(short *)(param_2 + 2) <= *(short *)(param_1 + 2))) {
      uVar1 = 2;
      if (param_1[1] <= param_2[1]) {
        uVar1 = param_2[1] <= param_1[1];
      }
    }
  }
  return uVar1;
}



bool FUN_BATTLE_BIN__80196e20(int param_1,int param_2)

{
  bool bVar1;
  int iVar2;
  
  iVar2 = FUN_BATTLE_BIN__80196db0((byte *)(param_1 + 0x1c),(byte *)(param_2 + 0x1c));
  if (iVar2 == 2) {
    bVar1 = true;
  }
  else {
    bVar1 = false;
    if (iVar2 == 1) {
      bVar1 = (byte)(&DAT_BATTLE_BIN__8019f538)
                    [(uint)*(byte *)(param_1 + 4) +
                     (uint)*(byte *)(param_1 + 6) * 0x10 + (uint)*(byte *)(param_1 + 5) * 0x120] <
              (byte)(&DAT_BATTLE_BIN__8019f538)
                    [(uint)*(byte *)(param_2 + 4) +
                     (uint)*(byte *)(param_2 + 6) * 0x10 + (uint)*(byte *)(param_2 + 5) * 0x120];
    }
  }
  return bVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_BATTLE_BIN__80196ef4(void)

{
  bool bVar1;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int iVar2;
  undefined4 uVar3;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    bVar1 = FUN_BATTLE_BIN__8019b4f4(&DAT_BATTLE_BIN__801a01f4);
    if (CONCAT31(extraout_var,bVar1) != 0) {
      DAT_BATTLE_BIN__8019f3d8 = 1;
      goto LAB_BATTLE_BIN__80196f48;
    }
  }
  else {
    if (DAT_BATTLE_BIN__801a029b != '\0') goto LAB_BATTLE_BIN__80196f8c;
LAB_BATTLE_BIN__80196f48:
    iVar2 = FUN_BATTLE_BIN__8019d308();
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__801a029b = 0;
      return 0xffffffff;
    }
  }
  if (DAT_BATTLE_BIN__8019f3dc == _DAT_BATTLE_BIN__801a01f4) {
    return 0;
  }
  bVar1 = FUN_BATTLE_BIN__8019b4f4((byte *)&DAT_BATTLE_BIN__8019f3dc);
  if (CONCAT31(extraout_var_00,bVar1) == 0) {
    return 0;
  }
  DAT_BATTLE_BIN__8019f3d8 = 0;
LAB_BATTLE_BIN__80196f8c:
  iVar2 = FUN_BATTLE_BIN__8019d308();
  if (iVar2 == -1) {
    DAT_BATTLE_BIN__801a029b = '\x01';
    uVar3 = 0xffffffff;
  }
  else {
    uVar3 = 0;
  }
  return uVar3;
}



void FUN_BATTLE_BIN__80196fc4(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar2 = FUN_BATTLE_BIN__80196db0(&DAT_BATTLE_BIN__8019f414,&DAT_BATTLE_BIN__8019f534);
  if (iVar2 == 2) {
    bVar1 = FUN_BATTLE_BIN__80196e20((int)&DAT_BATTLE_BIN__8019f3f8,(int)&DAT_BATTLE_BIN__8019f4f8);
    iVar2 = 0x54;
    if (CONCAT31(extraout_var,bVar1) != 0) {
      iVar5 = 0;
      do {
        bVar1 = FUN_BATTLE_BIN__80196e20
                          ((int)&DAT_BATTLE_BIN__8019f3f8,(int)(&DAT_BATTLE_BIN__8019f3c4 + iVar2));
        if (CONCAT31(extraout_var_00,bVar1) != 0) break;
        iVar5 = iVar5 + 1;
        iVar2 = iVar2 + 0x20;
      } while (iVar5 < 8);
      if (iVar5 != 8) {
        iVar2 = 7;
        if (iVar5 < 7) {
          iVar4 = 0x114;
          iVar3 = 0x134;
          do {
            FUN_BATTLE_BIN__8019ab08
                      ((undefined2 *)(&DAT_BATTLE_BIN__8019f3c4 + iVar3),
                       (undefined2 *)(&DAT_BATTLE_BIN__8019f3c4 + iVar4),0x20);
            iVar4 = iVar4 + -0x20;
            iVar2 = iVar2 + -1;
            iVar3 = iVar3 + -0x20;
          } while (iVar5 < iVar2);
        }
        FUN_BATTLE_BIN__8019ab08
                  ((undefined2 *)(&DAT_BATTLE_BIN__8019f418 + iVar2 * 0x20),
                   (undefined2 *)&DAT_BATTLE_BIN__8019f3f8,0x20);
      }
    }
  }
  FUN_BATTLE_BIN__80195f6c((int)&DAT_BATTLE_BIN__8019f3f8);
  return;
}



undefined4 FUN_BATTLE_BIN__801970bc(void)

{
  byte bVar1;
  bool bVar2;
  int iVar3;
  undefined4 uVar4;
  undefined2 *puVar5;
  int iVar6;
  undefined1 *puVar7;
  int iVar8;
  
  bVar2 = false;
  iVar6 = 0;
  puVar7 = &DAT_BATTLE_BIN__8019f3c4;
  while( true ) {
    bVar1 = puVar7[0x71];
    iVar8 = iVar6 * 0x20;
    if (bVar1 != 0) {
      bVar2 = true;
    }
    iVar3 = rand();
    iVar6 = iVar6 + 1;
    if (iVar3 % 100 < (int)(uint)bVar1) break;
    puVar7 = puVar7 + 0x20;
    if (7 < iVar6) {
      if (bVar2) {
        puVar5 = (undefined2 *)&DAT_BATTLE_BIN__8019f418;
LAB_BATTLE_BIN__80197178:
        FUN_BATTLE_BIN__8019ab08((undefined2 *)&DAT_BATTLE_BIN__801a0bc0,puVar5,0x20);
        uVar4 = 1;
      }
      else {
        uVar4 = 0;
      }
      return uVar4;
    }
  }
  puVar5 = (undefined2 *)(&DAT_BATTLE_BIN__8019f418 + iVar8);
  goto LAB_BATTLE_BIN__80197178;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_BATTLE_BIN__801971b8(void)

{
  byte bVar1;
  uint uVar2;
  undefined1 *puVar3;
  int iVar4;
  undefined3 extraout_var;
  ushort *puVar5;
  int iVar6;
  int iVar7;
  ushort *puVar8;
  
  if (DAT_BATTLE_BIN__801a0d7b != '\0') {
    if (DAT_BATTLE_BIN__801a0032 == '\0') {
LAB_BATTLE_BIN__80197224:
      iVar4 = FUN_BATTLE_BIN__801999c8();
      if (iVar4 != -1) {
        FUN_BATTLE_BIN__8019ab78((undefined4 *)&DAT_BATTLE_BIN__8019f778,0x240);
        FUN_BATTLE_BIN__8019693c(0xff,1);
        DAT_BATTLE_BIN__801a0bc0 = 0;
        DAT_BATTLE_BIN__801a0bc4 = DAT_BATTLE_BIN__801a0088;
        DAT_BATTLE_BIN__801a0bc9 = 0;
        return 1;
      }
      DAT_BATTLE_BIN__801a0032 = 0;
      return 0xffffffff;
    }
    goto LAB_BATTLE_BIN__801972e4;
  }
  DAT_BATTLE_BIN__801a01f1 = 0;
  if ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5a) & 4) != 0) goto LAB_BATTLE_BIN__80197224;
  if ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x59) & 4) == 0) {
    if ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x59) & 0x10) == 0) {
      if ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5a) & 8) == 0) {
        DAT_BATTLE_BIN__801a01f1 = 0;
        return 0;
      }
      uVar2 = FUN_BATTLE_BIN__80199124(2);
      if ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x12) < 0xb0) &&
         ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5a) & 2) == 0)) {
        puVar8 = (ushort *)(&DAT_BATTLE_BIN__801a02b4 + (uint)DAT_BATTLE_BIN__801a01f3 * 0x88);
      }
      else {
        puVar8 = &DAT_BATTLE_BIN__801a0b38;
        DAT_BATTLE_BIN__801a0b38 = DAT_BATTLE_BIN__801a0b38 | (ushort)DAT_BATTLE_BIN__801a01f2 << 10
        ;
      }
      goto LAB_BATTLE_BIN__801972a0;
    }
    iVar4 = FUN_BATTLE_BIN__80197d0c(0,0xff);
    if (iVar4 != 0) {
      puVar3 = &DAT_BATTLE_BIN__8019f3c4;
      iVar4 = 0;
      do {
        puVar3[0xc8d] = 0;
        bVar1 = FUN_BATTLE_BIN__80196c8c(iVar4);
        iVar6 = iVar4 + 1;
        if (CONCAT31(extraout_var,bVar1) == 0) {
          puVar3[0xc8d] = puVar3[0xc78];
        }
        puVar3 = &DAT_BATTLE_BIN__8019f3c5 + iVar4;
        iVar4 = iVar6;
      } while (iVar6 < 0x15);
      iVar4 = 0;
      iVar7 = 0;
      iVar6 = 0;
      do {
        iVar6 = iVar6 + (uint)DAT_BATTLE_BIN__801a01f3 * 0x88;
        if ((&DAT_BATTLE_BIN__801a02b4)[iVar6 + 2] == -1) break;
        iVar7 = iVar7 + 1;
        if ((*(ushort *)(&DAT_BATTLE_BIN__801a02b4 + iVar6 + 2) & 0x8000) != 0) {
          iVar4 = iVar4 + 1;
        }
        iVar6 = iVar7 * 4;
      } while (iVar7 < 0x22);
      while (iVar4 != 0) {
        iVar6 = rand();
        iVar7 = 0;
        iVar6 = iVar6 % iVar4;
        puVar8 = (ushort *)(&DAT_BATTLE_BIN__801a02b4 + (uint)DAT_BATTLE_BIN__801a01f3 * 0x88);
        do {
          puVar5 = puVar8;
          if ((puVar5[1] & 0x8000) != 0) {
            if (iVar6 == 0) break;
            iVar6 = iVar6 + -1;
          }
          iVar7 = iVar7 + 1;
          puVar8 = puVar5 + 2;
        } while (iVar7 < 0x22);
        FUN_BATTLE_BIN__80195878(puVar5);
        iVar6 = FUN_BATTLE_BIN__80197538();
        iVar4 = iVar4 + -1;
        if (iVar6 != 0) {
          return 1;
        }
        puVar5[1] = puVar5[1] & 0x7fff;
      }
    }
    uVar2 = FUN_BATTLE_BIN__80199124(3);
  }
  else {
    uVar2 = FUN_BATTLE_BIN__80199124(0);
    puVar8 = &DAT_BATTLE_BIN__801a0b34;
    DAT_BATTLE_BIN__801a0b34 = DAT_BATTLE_BIN__801a0b34 | (ushort)DAT_BATTLE_BIN__801a01f2 << 10;
LAB_BATTLE_BIN__801972a0:
    FUN_BATTLE_BIN__80195878(puVar8);
    iVar4 = 0x14;
    puVar3 = &DAT_BATTLE_BIN__8019f3d8;
    do {
      puVar3[0xc8d] = 0;
      iVar4 = iVar4 + -1;
      puVar3 = puVar3 + -1;
    } while (-1 < iVar4);
    (&DAT_BATTLE_BIN__801a0051)[uVar2] = 1;
    iVar4 = FUN_BATTLE_BIN__80197538();
    if (iVar4 != 0) {
      return 1;
    }
  }
  FUN_BATTLE_BIN__8019f2a4(uVar2,(byte *)&DAT_BATTLE_BIN__801a0038);
LAB_BATTLE_BIN__801972e4:
  iVar4 = FUN_BATTLE_BIN__801994f8((byte *)&DAT_BATTLE_BIN__801a0038);
  if (iVar4 != -1) {
    FUN_BATTLE_BIN__8019693c(0x7fffffff,1);
    DAT_BATTLE_BIN__801a0bc9 = 0;
    DAT_BATTLE_BIN__801a0bc4 = (&DAT_BATTLE_BIN__801a0088)[DAT_BATTLE_BIN__801a01f1];
    DAT_BATTLE_BIN__801a0bc0 = 0;
    return 1;
  }
  DAT_BATTLE_BIN__801a0032 = 1;
  return 0xffffffff;
}



undefined4 FUN_BATTLE_BIN__80197538(void)

{
  byte bVar1;
  ushort uVar2;
  short sVar3;
  short sVar4;
  bool bVar5;
  int iVar6;
  int iVar7;
  undefined2 *puVar8;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined4 uVar9;
  uint uVar10;
  
  DAT_BATTLE_BIN__8019f3d8 = 0;
  DAT_BATTLE_BIN__8019f3e1 = DAT_BATTLE_BIN__8019f3c4;
  DAT_BATTLE_BIN__8019f3e2 = DAT_BATTLE_BIN__8019f3c6;
  DAT_BATTLE_BIN__8019f3e8 = DAT_BATTLE_BIN__8019f3ca;
  sVar4 = DAT_BATTLE_BIN__8019f3e6;
  if (ActionMenus[DAT_BATTLE_BIN__8019f3c4] == Math) {
    do {
      iVar6 = rand();
      iVar7 = iVar6;
      if (iVar6 < 0) {
        iVar7 = iVar6 + 3;
      }
      bVar1 = (&DAT_BATTLE_BIN__8019f360)[iVar6 + (iVar7 >> 2) * -4];
      puVar8 = Store_SkillsetAbilities((uint)bVar1,1);
      iVar6 = rand();
      iVar7 = iVar6;
      if (iVar6 < 0) {
        iVar7 = iVar6 + 0xf;
      }
      iVar6 = iVar6 + (iVar7 >> 4) * -0x10;
      uVar2 = puVar8[iVar6];
      uVar10 = (uint)uVar2;
    } while ((((uVar10 == 0) || ((PrimaryAbilityData[uVar10].field_0x7 & 0x80) == 0)) ||
             ((SecondaryAbilityData[uVar10].field_0x5 & 0x40) == 0)) ||
            (bVar5 = FUN_BATTLE_BIN__8019aa50((uint)DAT_BATTLE_BIN__801a01f2,(uint)bVar1,iVar6),
            CONCAT31(extraout_var,bVar5) == 0));
    do {
      DAT_BATTLE_BIN__8019f3e2 = uVar2;
      iVar6 = rand();
      iVar7 = iVar6;
      if (iVar6 < 0) {
        iVar7 = iVar6 + 3;
      }
      iVar6 = iVar6 + (iVar7 >> 2) * -4;
      bVar5 = FUN_BATTLE_BIN__8019aa50
                        ((uint)DAT_BATTLE_BIN__801a01f2,(uint)DAT_BATTLE_BIN__8019f3c4,iVar6);
      uVar2 = DAT_BATTLE_BIN__8019f3e2;
      sVar3 = (short)iVar6 + 0x19e;
    } while (CONCAT31(extraout_var_00,bVar5) == 0);
    do {
      DAT_BATTLE_BIN__8019f3e4 = sVar3;
      iVar6 = rand();
      iVar7 = iVar6;
      if (iVar6 < 0) {
        iVar7 = iVar6 + 3;
      }
      iVar6 = iVar6 + (iVar7 >> 2) * -4;
      bVar5 = FUN_BATTLE_BIN__8019aa50
                        ((uint)DAT_BATTLE_BIN__801a01f2,(uint)DAT_BATTLE_BIN__8019f3c4,iVar6 + 4);
      sVar3 = DAT_BATTLE_BIN__8019f3e4;
      sVar4 = (short)iVar6 + 0x1a2;
    } while (CONCAT31(extraout_var_01,bVar5) == 0);
  }
  DAT_BATTLE_BIN__8019f3e6 = sVar4;
  if ((DAT_BATTLE_BIN__8019f3d0 & 0x8000) == 0) {
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x1000) == 0) {
      DAT_BATTLE_BIN__8019f3ea = '\x05';
    }
    else {
      iVar7 = rand();
      DAT_BATTLE_BIN__8019f3ea = (char)(iVar7 % 2) + '\x05';
    }
    FUN_BATTLE_BIN__8019c3d4();
    if (DAT_BATTLE_BIN__801a0080 == 0) {
      if (DAT_BATTLE_BIN__8019f3ea == '\x06') {
        DAT_BATTLE_BIN__8019f3ea = '\x05';
        FUN_BATTLE_BIN__8019c3d4();
      }
      if (DAT_BATTLE_BIN__801a0080 == 0) {
        return 0;
      }
    }
    do {
      iVar7 = FUN_BATTLE_BIN__80197b2c
                        (&DAT_BATTLE_BIN__8019ff58,(undefined *)&DAT_BATTLE_BIN__8019f3dc,
                         (uint)DAT_BATTLE_BIN__801a0080);
      if (iVar7 == 0) {
        return 0;
      }
      DAT_BATTLE_BIN__801a0080 = DAT_BATTLE_BIN__801a0080 - 1;
      iVar7 = FUN_BATTLE_BIN__8019795c();
      if (iVar7 != 0) {
        while (iVar6 = FUN_BATTLE_BIN__80197b2c
                                 (&DAT_BATTLE_BIN__8019ff10,(undefined *)&DAT_BATTLE_BIN__801a0038,
                                  iVar7), iVar6 != 0) {
          DAT_BATTLE_BIN__8019f3ec = (ushort)(byte)DAT_BATTLE_BIN__801a0038;
          DAT_BATTLE_BIN__8019f3f0 = (ushort)DAT_BATTLE_BIN__801a0038._2_1_;
          DAT_BATTLE_BIN__8019f3ee = (ushort)DAT_BATTLE_BIN__801a0038._1_1_;
          uVar9 = FUN_BATTLE_BIN__801978e4
                            ((char *)&DAT_BATTLE_BIN__801a0038,(char *)&DAT_BATTLE_BIN__8019f3dc);
          DAT_BATTLE_BIN__8019f3db = (undefined)uVar9;
          if (DAT_BATTLE_BIN__8019f3ea != '\x06') goto LAB_BATTLE_BIN__801978b4;
          uVar10 = FUN_BATTLE_BIN__8019d294((byte *)&DAT_BATTLE_BIN__801a0038);
          DAT_BATTLE_BIN__8019f3eb = (undefined)uVar10;
          if ((uVar10 & 0xff) != 0x15) goto LAB_BATTLE_BIN__801978b4;
        }
      }
    } while (DAT_BATTLE_BIN__801a0080 != 0);
  }
  else {
    FUN_BATTLE_BIN__8019ab08(&DAT_BATTLE_BIN__8019ff10,&DAT_BATTLE_BIN__8019fe38,0x48);
    iVar7 = FUN_BATTLE_BIN__80197c68(&DAT_BATTLE_BIN__8019ff10);
    DAT_BATTLE_BIN__801a0080 = (byte)iVar7;
    if (DAT_BATTLE_BIN__801a0080 != 0) {
      while (iVar7 = FUN_BATTLE_BIN__80197b2c
                               (&DAT_BATTLE_BIN__8019ff10,(undefined *)&DAT_BATTLE_BIN__8019f3dc,
                                (uint)DAT_BATTLE_BIN__801a0080), iVar7 != 0) {
        DAT_BATTLE_BIN__801a0080 = DAT_BATTLE_BIN__801a0080 - 1;
        bVar5 = FUN_BATTLE_BIN__8019b4f4((byte *)&DAT_BATTLE_BIN__8019f3dc);
        if (CONCAT31(extraout_var_02,bVar5) != 0) {
          DAT_BATTLE_BIN__8019f3db = 4;
LAB_BATTLE_BIN__801978b4:
          FUN_BATTLE_BIN__8019ab08
                    ((undefined2 *)&DAT_BATTLE_BIN__801a0bc0,(undefined2 *)&DAT_BATTLE_BIN__8019f3d8
                     ,0x20);
          return 1;
        }
        if (DAT_BATTLE_BIN__801a0080 == 0) {
          return 0;
        }
      }
    }
  }
  return 0;
}



undefined4 FUN_BATTLE_BIN__801978e4(char *param_1,char *param_2)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = (((int)param_1[2] - (int)*param_1) + (int)*param_2) - (int)param_2[2];
  iVar2 = (((int)param_1[2] + (int)*param_1) - (int)*param_2) - (int)param_2[2];
  if (iVar3 < 1) {
    if (iVar2 < 0) {
      return 0;
    }
  }
  else if (iVar2 < 1) {
    return 1;
  }
  if ((iVar3 < 0) || (iVar2 < 1)) {
    uVar1 = 4;
    if ((iVar3 < 0) && (-1 < iVar2)) {
      uVar1 = 3;
    }
  }
  else {
    uVar1 = 2;
  }
  return uVar1;
}



int FUN_BATTLE_BIN__8019795c(void)

{
  uint uVar1;
  uint uVar2;
  byte *pbVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  ushort *puVar7;
  ushort *puVar8;
  int iVar9;
  undefined1 *puVar10;
  int iVar11;
  
  puVar10 = &DAT_BATTLE_BIN__8019f3c4;
  FUN_BATTLE_BIN__8019f258((undefined *)&DAT_BATTLE_BIN__8019f3dc);
  iVar11 = 0;
  if (DAT_BATTLE_BIN__8019f3c8 == '\0') {
    iVar9 = 0;
    pbVar3 = &DAT_BATTLE_BIN__8018f8d1;
    do {
      iVar9 = iVar9 + 1;
      *pbVar3 = *pbVar3 & 0xbf;
      pbVar3 = pbVar3 + 8;
    } while (iVar9 < 0x200);
    iVar9 = ((uint)DAT_BATTLE_BIN__8019f3dc._2_1_ * (uint)DAT_BATTLE_BIN__801a01fe +
             (uint)(byte)DAT_BATTLE_BIN__8019f3dc + (uint)DAT_BATTLE_BIN__8019f3dc._1_1_ * 0x100) *
            8;
    (&DAT_BATTLE_BIN__8018f8d1)[iVar9] = (&DAT_BATTLE_BIN__8018f8d1)[iVar9] | 0x40;
  }
  else {
    uVar1 = FUN_BATTLE_BIN__8017a8c0((CurActionTargetData *)&DAT_BATTLE_BIN__8019f3e0);
    if (uVar1 == 3) {
      FUN_BATTLE_BIN__8019f258(&DAT_BATTLE_BIN__801a01f4);
      return 0;
    }
  }
  iVar9 = 0;
  do {
    iVar6 = 0;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      puVar7 = (ushort *)(puVar10 + 0xb4c);
      puVar8 = (ushort *)(puVar10 + 0xbdc);
      do {
        *puVar7 = 0;
        uVar1 = (uint)*puVar8;
        if (uVar1 != 0) {
          uVar4 = (uint)DAT_BATTLE_BIN__801a01fe;
          uVar5 = 0;
          uVar2 = uVar1;
          if (uVar4 != 0) {
            do {
              if (((uVar2 & 0x8000) != 0) &&
                 (((byte)(&DAT_BATTLE_BIN__8018f8d1)[(iVar6 * uVar4 + uVar5 + iVar9 * 0x100) * 8] >>
                   6 & 1) != 0)) {
                iVar11 = iVar11 + 1;
                *puVar7 = *puVar7 | (ushort)(0x8000 >> (uVar5 & 0x1f));
              }
              uVar4 = (uint)DAT_BATTLE_BIN__801a01fe;
              uVar5 = uVar5 + 1;
              uVar2 = uVar1 << (uVar5 & 0x1f);
            } while ((int)uVar5 < (int)uVar4);
          }
        }
        puVar7 = puVar7 + 1;
        iVar6 = iVar6 + 1;
        puVar8 = puVar8 + 1;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    iVar9 = iVar9 + 1;
    puVar10 = puVar10 + 0x24;
  } while (iVar9 < 2);
  FUN_BATTLE_BIN__8019f258(&DAT_BATTLE_BIN__801a01f4);
  return iVar11;
}



undefined4 FUN_BATTLE_BIN__80197b2c(ushort *param_1,undefined *param_2,int param_3)

{
  bool bVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  ushort *puVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  ushort *puVar9;
  
  if (param_3 != 0) {
    iVar2 = rand();
    iVar8 = 0;
    iVar2 = iVar2 % param_3;
    puVar9 = param_1;
    do {
      iVar6 = 0;
      if (DAT_BATTLE_BIN__801a01ff != 0) {
        puVar5 = puVar9;
        do {
          uVar3 = (uint)*puVar5;
          if (uVar3 != 0) {
            uVar7 = 0;
            uVar4 = uVar3;
            if (DAT_BATTLE_BIN__801a01fe != 0) {
              do {
                if (((uVar4 & 0x8000) != 0) && (bVar1 = iVar2 == 0, iVar2 = iVar2 + -1, bVar1)) {
                  param_2[2] = (char)iVar6;
                  *param_2 = (char)uVar7;
                  param_2[1] = (char)iVar8;
                  param_2[3] = 0;
                  param_1[iVar8 * 0x12 + iVar6] =
                       param_1[iVar8 * 0x12 + iVar6] ^ (ushort)(0x8000 >> (uVar7 & 0x1f));
                  return 1;
                }
                uVar7 = uVar7 + 1;
                uVar4 = uVar3 << (uVar7 & 0x1f);
              } while ((int)uVar7 < (int)(uint)DAT_BATTLE_BIN__801a01fe);
            }
          }
          iVar6 = iVar6 + 1;
          puVar5 = puVar5 + 1;
        } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
      }
      iVar8 = iVar8 + 1;
      puVar9 = puVar9 + 0x12;
    } while (iVar8 < 2);
  }
  return 0;
}



int FUN_BATTLE_BIN__80197c68(ushort *param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  ushort *puVar5;
  int iVar6;
  int iVar7;
  
  iVar6 = 0;
  iVar7 = 0;
  do {
    iVar4 = 0;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      puVar5 = param_1;
      do {
        uVar1 = (uint)*puVar5;
        if (uVar1 != 0) {
          uVar3 = 0;
          uVar2 = uVar1;
          if (DAT_BATTLE_BIN__801a01fe != 0) {
            do {
              uVar3 = uVar3 + 1;
              if ((uVar2 & 0x8000) != 0) {
                iVar6 = iVar6 + 1;
              }
              uVar2 = uVar1 << (uVar3 & 0x1f);
            } while ((int)uVar3 < (int)(uint)DAT_BATTLE_BIN__801a01fe);
          }
        }
        iVar4 = iVar4 + 1;
        puVar5 = puVar5 + 1;
      } while (iVar4 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    iVar7 = iVar7 + 1;
    param_1 = param_1 + 0x12;
  } while (iVar7 < 2);
  return iVar6;
}



undefined4 FUN_BATTLE_BIN__80197d0c(int param_1,uint param_2)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  undefined1 *puVar6;
  
  uVar5 = 0;
  uVar2 = 0;
  puVar6 = &DAT_BATTLE_BIN__8019f3c4;
  iVar3 = 0;
  iVar4 = 0x182c;
  do {
    puVar6[0xc78] = 0;
    if (((((&DAT_BATTLE_BIN__8019f3cb)[iVar4] & 0x10) == 0) &&
        (((UnitBattleData[0].field0_0x0.JobLevels[iVar3 + -0x79] & 0x10) != 0 ||
         (((&DAT_BATTLE_BIN__8019f3c8)[iVar4] & 0x80) != 0)))) &&
       ((uVar2 != DAT_BATTLE_BIN__801a01f2 || (param_2 != 0xff)))) {
      if (param_1 == 2) {
        if ((&DAT_BATTLE_BIN__8019f3cc)[iVar4] != '\0') goto LAB_BATTLE_BIN__80197e40;
        puVar6[0xc78] = 1;
      }
      else if (param_1 < 3) {
        if (param_1 == 1) {
          bVar1 = (&DAT_BATTLE_BIN__8019f3cc)[iVar4];
LAB_BATTLE_BIN__80197e30:
          if (bVar1 == 0) goto LAB_BATTLE_BIN__80197e40;
LAB_BATTLE_BIN__80197e38:
          puVar6[0xc78] = 1;
        }
        else {
          puVar6[0xc78] = 1;
        }
      }
      else if (param_1 == 3) {
        if (uVar2 != param_2) goto LAB_BATTLE_BIN__80197e40;
        puVar6[0xc78] = 1;
      }
      else {
        if (param_1 == 4) {
          if ((*(uint *)(UnitBattleData[0].field0_0x0.JobLevels + iVar3 + -0x7a) & 0x18020) == 0) {
            bVar1 = UnitBattleData[0].field0_0x0.JobLevels[iVar3 + -0x76] & 1;
            goto LAB_BATTLE_BIN__80197e30;
          }
          goto LAB_BATTLE_BIN__80197e38;
        }
        puVar6[0xc78] = 1;
      }
      uVar5 = 1;
    }
LAB_BATTLE_BIN__80197e40:
    puVar6 = puVar6 + 1;
    iVar3 = iVar3 + 0x1c0;
    uVar2 = uVar2 + 1;
    iVar4 = iVar4 + 0x10;
    if (0x14 < (int)uVar2) {
      return uVar5;
    }
  } while( true );
}



undefined4 FUN_BATTLE_BIN__80197e60(void)

{
  int iVar1;
  
  if (DAT_BATTLE_BIN__801a0d7b != '\0') goto LAB_BATTLE_BIN__80197ec8;
  DAT_BATTLE_BIN__801a0081 = 0;
  while( true ) {
    if (*(char *)((int)(&DAT_BATTLE_BIN__801a02b4 +
                       (uint)DAT_BATTLE_BIN__801a0081 * 4 + (uint)DAT_BATTLE_BIN__801a01f3 * 0x88) +
                 2) == -1) {
      return 0;
    }
    FUN_BATTLE_BIN__80195878
              ((ushort *)
               (&DAT_BATTLE_BIN__801a02b4 +
               (uint)DAT_BATTLE_BIN__801a0081 * 4 + (uint)DAT_BATTLE_BIN__801a01f3 * 0x88));
LAB_BATTLE_BIN__80197ec8:
    iVar1 = FUN_BATTLE_BIN__8019af18();
    if (iVar1 == -1) break;
    DAT_BATTLE_BIN__801a0081 = DAT_BATTLE_BIN__801a0081 + 1;
    if (0x21 < DAT_BATTLE_BIN__801a0081) {
      return 0;
    }
  }
  return 0xffffffff;
}



undefined4 FUN_BATTLE_BIN__80197f14(void)

{
  int iVar1;
  undefined4 uVar2;
  
  if (DAT_BATTLE_BIN__801a0d7a == 0xe) {
LAB_BATTLE_BIN__80197f74:
    iVar1 = FUN_BATTLE_BIN__801984ec();
    if (iVar1 == -1) {
      return 0xffffffff;
    }
    if (iVar1 != -2) {
      return 1;
    }
  }
  else {
    if (DAT_BATTLE_BIN__801a0d7a < 0xf) {
      if (DAT_BATTLE_BIN__801a0d7a != 0xc) {
        return 0;
      }
      iVar1 = FUN_BATTLE_BIN__80197ff4();
      goto LAB_BATTLE_BIN__80197fd8;
    }
    if (DAT_BATTLE_BIN__801a0d7a == 0x10) {
      iVar1 = FUN_BATTLE_BIN__80198df0();
      if (iVar1 == -1) {
        return 0xffffffff;
      }
      if (iVar1 != -2) {
        return 1;
      }
      goto LAB_BATTLE_BIN__80197f74;
    }
    if (DAT_BATTLE_BIN__801a0d7a != 0x11) {
      return 0;
    }
  }
  iVar1 = FUN_BATTLE_BIN__80198e60();
LAB_BATTLE_BIN__80197fd8:
  uVar2 = 1;
  if (iVar1 == -1) {
    uVar2 = 0xffffffff;
  }
  return uVar2;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_BATTLE_BIN__80197ff4(void)

{
  byte bVar1;
  undefined3 extraout_var;
  undefined1 *puVar2;
  uint uVar3;
  int iVar4;
  BattleUnitData *pBVar5;
  uint uVar6;
  uint uVar7;
  undefined1 *puVar8;
  
  uVar7 = (uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1b9);
  puVar8 = &DAT_BATTLE_BIN__8019f3c4;
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    bVar1 = FUN_BATTLE_BIN__80196c8c(uVar7);
    if ((CONCAT31(extraout_var,bVar1) != 0) || ((&DAT_BATTLE_BIN__801a0bf8)[uVar7 * 0x10] == '\0'))
    {
      *(byte *)(DAT_BATTLE_BIN__801a01f8 + 4) = *(byte *)(DAT_BATTLE_BIN__801a01f8 + 4) & 0xf7;
      bVar1 = UnitBattleData[uVar7].field1_0x16e.field_0x14;
      puVar2 = &DAT_BATTLE_BIN__8019f3d8;
      if ((bVar1 & 0x40) == 0) {
        iVar4 = 0x14;
        do {
          puVar2[0xc8d] = 1;
          iVar4 = iVar4 + -1;
          puVar2 = puVar2 + -1;
        } while (-1 < iVar4);
        uVar3 = FUN_BATTLE_BIN__80199124(4);
        uVar6 = 0;
        uVar7 = uVar3;
        if (uVar3 == DAT_BATTLE_BIN__801a01f2) {
          pBVar5 = UnitBattleData;
          do {
            if ((((pBVar5->field0_0x0).UnitID != 0xff) && (puVar8[0x1834] != '\0')) &&
               (uVar7 = uVar6, ((pBVar5->field0_0x0).CurrentStatuses.field_0x2 & 0x10) != 0)) break;
            puVar8 = puVar8 + 0x10;
            uVar6 = uVar6 + 1;
            pBVar5 = pBVar5 + 1;
            uVar7 = uVar3;
          } while ((int)uVar6 < 0x15);
        }
      }
      else if (((UnitBattleData[uVar7].field0_0x0.CurrentStatuses.field_0x2 & 0x10) == 0) ||
              ((UnitBattleData[bVar1 & 0x1f].field0_0x0.CurrentStatuses.field_0x2 & 0x10) == 0)) {
        uVar7 = bVar1 & 0x1f;
      }
    }
    *(char *)(DAT_BATTLE_BIN__801a0bbc + 0x1b9) = (char)uVar7;
    FUN_BATTLE_BIN__8019490c(uVar7);
    DAT_BATTLE_BIN__801a01f1 = 0;
LAB_BATTLE_BIN__801981c4:
    iVar4 = FUN_BATTLE_BIN__801999c8();
    if (iVar4 == -1) {
      DAT_BATTLE_BIN__801a0032 = 0;
      return 0xffffffff;
    }
LAB_BATTLE_BIN__801981e0:
    iVar4 = FUN_BATTLE_BIN__801982d8();
    if (iVar4 == -1) {
      DAT_BATTLE_BIN__801a0032 = 1;
      return 0xffffffff;
    }
    DAT_BATTLE_BIN__801a01f1 = 2;
    FUN_BATTLE_BIN__8019630c();
    DAT_BATTLE_BIN__801a01f1 = 0;
LAB_BATTLE_BIN__80198204:
    uVar3 = FUN_BATTLE_BIN__80195f8c();
    if (uVar3 == 0xffffffff) {
      DAT_BATTLE_BIN__801a0032 = 2;
      return 0xffffffff;
    }
    if (uVar3 == 1) {
      return 0;
    }
    DAT_BATTLE_BIN__801a01f1 = 0;
    iVar4 = FUN_BATTLE_BIN__80197d0c(3,uVar7);
    if (iVar4 != 0) {
LAB_BATTLE_BIN__80198240:
      iVar4 = FUN_BATTLE_BIN__80197e60();
      if (iVar4 == -1) {
        DAT_BATTLE_BIN__801a0032 = 3;
        return 0xffffffff;
      }
      iVar4 = FUN_BATTLE_BIN__801970bc();
      if (iVar4 != 0) {
        return 0;
      }
    }
    DAT_BATTLE_BIN__801a01f1 = 1;
    iVar4 = FUN_BATTLE_BIN__80197d0c(0,0);
    if (iVar4 == 0) goto LAB_BATTLE_BIN__801982b4;
  }
  else {
    if (DAT_BATTLE_BIN__801a0032 == 1) goto LAB_BATTLE_BIN__801981e0;
    if (1 < DAT_BATTLE_BIN__801a0032) {
      if (DAT_BATTLE_BIN__801a0032 == 2) goto LAB_BATTLE_BIN__80198204;
      if (DAT_BATTLE_BIN__801a0032 != 3) goto LAB_BATTLE_BIN__80198280;
      goto LAB_BATTLE_BIN__80198240;
    }
    if (DAT_BATTLE_BIN__801a0032 == 0) goto LAB_BATTLE_BIN__801981c4;
  }
LAB_BATTLE_BIN__80198280:
  iVar4 = FUN_BATTLE_BIN__80197e60();
  if (iVar4 == -1) {
    DAT_BATTLE_BIN__801a0032 = 4;
    return 0xffffffff;
  }
  iVar4 = FUN_BATTLE_BIN__801970bc();
  if (iVar4 != 0) {
    return 0;
  }
LAB_BATTLE_BIN__801982b4:
  DAT_BATTLE_BIN__801a01f1 = 2;
  FUN_BATTLE_BIN__80199498();
  return 0;
}



undefined4 FUN_BATTLE_BIN__801982d8(void)

{
  byte bVar1;
  bool bVar2;
  int iVar3;
  uint uVar4;
  undefined3 extraout_var;
  uint uVar5;
  
  if ((DAT_BATTLE_BIN__801a0d7b == '\0') &&
     (((uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1b9) == (uint)DAT_BATTLE_BIN__801a01f2 ||
      (((byte)(&DAT_BATTLE_BIN__801a0bf7)[(uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1b9) * 0x10]
        >> 4 & 1) != 0)))) {
    FUN_BATTLE_BIN__8019ab78((undefined4 *)&DAT_BATTLE_BIN__8019f778,0x240);
  }
  else {
    iVar3 = FUN_BATTLE_BIN__801994f8(DAT_BATTLE_BIN__801a01f8);
    if (iVar3 == -1) {
      return 0xffffffff;
    }
  }
  uVar4 = FUN_BATTLE_BIN__801962a0();
  bVar1 = (&DAT_BATTLE_BIN__8019f778)
          [(uint)DAT_BATTLE_BIN__801a01f4 +
           (uint)DAT_BATTLE_BIN__801a01f6 * 0x10 + (uint)DAT_BATTLE_BIN__801a01f5 * 0x120];
  DAT_BATTLE_BIN__801a01f1 = 0;
  uVar5 = uVar4;
  if ((DAT_BATTLE_BIN__801a0d7a == '\x0e') && (2 < bVar1)) {
    uVar5 = 2;
  }
  if ((DAT_BATTLE_BIN__801a01f8[6] & 8) == 0) {
    FUN_BATTLE_BIN__80196908(uVar5);
  }
  else {
    FUN_BATTLE_BIN__8019693c(0x7fffffff,0);
  }
  DAT_BATTLE_BIN__801a01f1 = 1;
  DAT_BATTLE_BIN__801a008c = DAT_BATTLE_BIN__801a0088;
  bVar2 = FUN_BATTLE_BIN__80196adc(uVar4);
  if (CONCAT31(extraout_var,bVar2) == 0) {
    FUN_BATTLE_BIN__801993a0();
  }
  DAT_BATTLE_BIN__801a01f1 = 2;
  FUN_BATTLE_BIN__8019ab08(&DAT_BATTLE_BIN__8019fec8,&DAT_BATTLE_BIN__8019fe38,0x48);
  uVar4 = bVar1 - 1;
  if (*(char *)(DAT_BATTLE_BIN__801a0bbc + 0x188) == '\0') {
    if ((int)uVar4 < (int)uVar5) {
      uVar5 = uVar4;
    }
    FUN_BATTLE_BIN__8019689c(uVar5);
  }
  else {
    DAT_BATTLE_BIN__801a0090 = DAT_BATTLE_BIN__801a008c;
  }
  (&DAT_BATTLE_BIN__8019fe80)
  [(uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] =
       (&DAT_BATTLE_BIN__8019fe80)
       [(uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] |
       (ushort)(0x8000 >> (DAT_BATTLE_BIN__801a01f4 & 0x1f));
  return 0;
}



undefined4 FUN_BATTLE_BIN__801984ec(void)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  byte local_18 [8];
  
  local_18[0] = DAT_BATTLE_BIN__80193d70;
  local_18[1] = DAT_BATTLE_BIN__80193d71;
  local_18[2] = DAT_BATTLE_BIN__80193d72;
  uVar3 = (uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1b9);
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    DAT_BATTLE_BIN__801a01f1 = 0;
switchD_BATTLE_BIN__80198568_caseD_0:
    iVar2 = FUN_BATTLE_BIN__801999c8();
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__801a0032 = 0;
      return 0xffffffff;
    }
    DAT_BATTLE_BIN__8019f37c = 0;
    if ((((byte)(&DAT_BATTLE_BIN__801a0bf7)[uVar3 * 0x10] >> 4 & 1) == 0) &&
       ((&DAT_BATTLE_BIN__801a0bf8)[uVar3 * 0x10] == '\0')) goto LAB_BATTLE_BIN__801985f0;
LAB_BATTLE_BIN__801985dc:
    FUN_BATTLE_BIN__80198b04();
    uVar3 = (uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1b9);
LAB_BATTLE_BIN__801985f0:
    FUN_BATTLE_BIN__8019490c(uVar3);
switchD_BATTLE_BIN__80198568_caseD_1:
    iVar2 = FUN_BATTLE_BIN__801982d8();
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__801a0032 = 1;
      return 0xffffffff;
    }
    DAT_BATTLE_BIN__801a01f1 = 2;
    FUN_BATTLE_BIN__8019630c();
    DAT_BATTLE_BIN__801a01f1 = 0;
    if ((DAT_BATTLE_BIN__8019f37c == 0) &&
       (((byte)(&DAT_BATTLE_BIN__801a0bf7)[uVar3 * 0x10] >> 6 & 1) == 0)) {
      DAT_BATTLE_BIN__8019f380 = 0;
      do {
        if (((uint)*(byte *)(uVar3 * 0x1c0 + -0x7fe6f6dc +
                            (uint)(local_18[DAT_BATTLE_BIN__8019f380] >> 3)) &
            0x80 >> (local_18[DAT_BATTLE_BIN__8019f380] & 7)) != 0) {
switchD_BATTLE_BIN__80198568_caseD_7:
          uVar1 = FUN_BATTLE_BIN__8019881c(uVar3,(uint)local_18[DAT_BATTLE_BIN__8019f380]);
          if (uVar1 == 0xffffffff) {
            DAT_BATTLE_BIN__801a0032 = 7;
            return 0xffffffff;
          }
          if (uVar1 == 2) {
            return 0;
          }
          if (uVar1 == 0) goto LAB_BATTLE_BIN__80198598;
        }
        DAT_BATTLE_BIN__8019f380 = DAT_BATTLE_BIN__8019f380 + 1;
        if (2 < DAT_BATTLE_BIN__8019f380) break;
      } while( true );
    }
    DAT_BATTLE_BIN__801a01f1 = 1;
    goto switchD_BATTLE_BIN__80198568_caseD_2;
  }
  switch(DAT_BATTLE_BIN__801a0032) {
  case 0:
    goto switchD_BATTLE_BIN__80198568_caseD_0;
  case 1:
    goto switchD_BATTLE_BIN__80198568_caseD_1;
  case 2:
switchD_BATTLE_BIN__80198568_caseD_2:
    uVar1 = FUN_BATTLE_BIN__80195f8c();
    if (uVar1 == 0xffffffff) {
      DAT_BATTLE_BIN__801a0032 = 2;
      return 0xffffffff;
    }
    if (uVar1 == 1) {
      return 0;
    }
    DAT_BATTLE_BIN__801a01f1 = 0;
    iVar2 = FUN_BATTLE_BIN__80197d0c(3,uVar3);
    if (iVar2 != 0) goto switchD_BATTLE_BIN__80198568_caseD_3;
    break;
  case 3:
switchD_BATTLE_BIN__80198568_caseD_3:
    iVar2 = FUN_BATTLE_BIN__80197e60();
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__801a0032 = 3;
      return 0xffffffff;
    }
    iVar2 = FUN_BATTLE_BIN__801970bc();
    if (iVar2 != 0) {
      return 0;
    }
    break;
  case 4:
    goto switchD_BATTLE_BIN__80198568_caseD_4;
  default:
    goto switchD_BATTLE_BIN__80198568_caseD_5;
  case 7:
    goto switchD_BATTLE_BIN__80198568_caseD_7;
  }
  DAT_BATTLE_BIN__801a01f1 = 1;
  iVar2 = FUN_BATTLE_BIN__80197d0c(1,0);
  if (iVar2 != 0) {
switchD_BATTLE_BIN__80198568_caseD_4:
    iVar2 = FUN_BATTLE_BIN__80197e60();
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__801a0032 = 4;
      return 0xffffffff;
    }
    iVar2 = FUN_BATTLE_BIN__801970bc();
    if (iVar2 != 0) {
      return 0;
    }
  }
  iVar2 = FUN_BATTLE_BIN__80197d0c(2,0);
  if (iVar2 != 0) {
switchD_BATTLE_BIN__80198568_caseD_5:
    iVar2 = FUN_BATTLE_BIN__80197e60();
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__801a0032 = 6;
      return 0xffffffff;
    }
    iVar2 = FUN_BATTLE_BIN__801970bc();
    if (iVar2 != 0) {
      return 0;
    }
  }
  DAT_BATTLE_BIN__801a01f1 = 2;
  FUN_BATTLE_BIN__80199498();
  return 0;
LAB_BATTLE_BIN__80198598:
  DAT_BATTLE_BIN__8019f37c = 1;
  goto LAB_BATTLE_BIN__801985dc;
}



uint FUN_BATTLE_BIN__8019881c(uint param_1,int param_2)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  
  if (DAT_BATTLE_BIN__801a0d7b != '\0') goto LAB_BATTLE_BIN__80198a3c;
  iVar2 = param_1 * 0x10;
  DAT_BATTLE_BIN__8019f384 = 0;
  DAT_BATTLE_BIN__8019f388 = 0;
  DAT_BATTLE_BIN__8019f38c = 0;
  if (param_2 == 8) {
    bVar1 = (&DAT_BATTLE_BIN__801a0bf4)[iVar2] & 2;
  }
  else if (param_2 < 9) {
    if (param_2 != 2) goto LAB_BATTLE_BIN__801988f8;
    bVar1 = (&DAT_BATTLE_BIN__801a0bf4)[iVar2] & 1;
  }
  else {
    if (param_2 != 0xd) goto LAB_BATTLE_BIN__801988f8;
    bVar1 = (&DAT_BATTLE_BIN__801a0bf4)[iVar2] & 4;
  }
  if (bVar1 == 0) {
    DAT_BATTLE_BIN__8019f384 = 0;
    DAT_BATTLE_BIN__8019f388 = 0;
    DAT_BATTLE_BIN__8019f38c = 0;
    return 1;
  }
LAB_BATTLE_BIN__801988f8:
  iVar2 = FUN_BATTLE_BIN__80197d0c(3,param_1);
  if (iVar2 != 0) {
    DAT_BATTLE_BIN__801a0081 = 0;
    do {
      if (*(char *)((int)(&DAT_BATTLE_BIN__801a02b4 +
                         (uint)DAT_BATTLE_BIN__801a0081 * 4 + (uint)DAT_BATTLE_BIN__801a01f3 * 0x88)
                   + 2) == -1) break;
      FUN_BATTLE_BIN__80195878
                ((ushort *)
                 (&DAT_BATTLE_BIN__801a02b4 +
                 (uint)DAT_BATTLE_BIN__801a0081 * 4 + (uint)DAT_BATTLE_BIN__801a01f3 * 0x88));
      if ((DAT_BATTLE_BIN__8019f3d0 & 0x20) != 0) {
        iVar2 = param_2;
        if (param_2 < 0) {
          iVar2 = param_2 + 7;
        }
        if ((((((uint)(byte)(&DAT_BATTLE_BIN__8019f3cb)[iVar2 >> 3] &
               0x80 >> (param_2 + (iVar2 >> 3) * -8 & 0x1fU)) != 0) &&
             (((DAT_BATTLE_BIN__8019f3d0 & 0x400) == 0 ||
              ((UnitBattleData[param_1].field0_0x0.InnateStatuses.field_0x4 & 0x40) == 0)))) &&
            (((DAT_BATTLE_BIN__8019f3d0 & 0x4000) == 0 ||
             ((UnitBattleData[param_1].field0_0x0.InnateStatuses.field_0x4 & 2) == 0)))) &&
           (((DAT_BATTLE_BIN__8019f3d0 & 0x100) == 0 ||
            ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x59) & 8) == 0)))) {
          if (*(ushort *)(DAT_BATTLE_BIN__801a0bbc + 0x2c) < (ushort)DAT_BATTLE_BIN__8019f3d5) {
            DAT_BATTLE_BIN__8019f388 = 1;
          }
          else {
            DAT_BATTLE_BIN__8019f38c = 1;
          }
          DAT_BATTLE_BIN__8019f384 = DAT_BATTLE_BIN__8019f384 + 1;
LAB_BATTLE_BIN__80198a3c:
          iVar2 = FUN_BATTLE_BIN__8019af18();
          if (iVar2 == -1) {
            return 0xffffffff;
          }
        }
      }
      DAT_BATTLE_BIN__801a0081 = DAT_BATTLE_BIN__801a0081 + 1;
    } while (DAT_BATTLE_BIN__801a0081 < 0x22);
  }
  if (DAT_BATTLE_BIN__8019f435 == '\0') {
    if (DAT_BATTLE_BIN__8019f384 == 0) {
      uVar3 = 0;
    }
    else {
      uVar3 = 1;
      if ((DAT_BATTLE_BIN__8019f388 != 0) && (DAT_BATTLE_BIN__801a0082 == '\0')) {
        uVar3 = (uint)(DAT_BATTLE_BIN__8019f38c != 0);
      }
    }
  }
  else {
    FUN_BATTLE_BIN__8019ab08
              ((undefined2 *)&DAT_BATTLE_BIN__801a0bc0,(undefined2 *)&DAT_BATTLE_BIN__8019f418,0x20)
    ;
    uVar3 = 2;
  }
  return uVar3;
}



bool FUN_BATTLE_BIN__80198b04(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined3 extraout_var_03;
  int iVar3;
  uint uVar4;
  JobID *pJVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  
  iVar10 = 0;
  uVar6 = 0;
  iVar9 = 0;
  *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1b9) = DAT_BATTLE_BIN__801a01f2;
  do {
    iVar3 = uVar6 * 0x10;
    pJVar5 = &UnitBattleData[0].field0_0x0.BaseClass + iVar9;
    if ((((&DAT_BATTLE_BIN__801a0bf7)[iVar3] & 0x10) == 0) &&
       ((&DAT_BATTLE_BIN__801a0bf8)[iVar3] == '\0')) {
      iVar2 = FUN_BATTLE_BIN__8019936c(DAT_BATTLE_BIN__801a0bbc,(int)pJVar5);
      iVar2 = 0xff - iVar2;
      uVar8 = (byte)(&UnitBattleData[0].field0_0x0.field_0x5)[iVar9] & 3;
      iVar7 = 0x80 - ((uint)*(ushort *)((int)&UnitBattleData[0].field0_0x0.HP + iVar9) << 7) /
                     (uint)*(ushort *)((int)&UnitBattleData[0].field0_0x0.MaxHP + iVar9);
      bVar1 = FUN_BATTLE_BIN__80198d80((int)pJVar5,2);
      if (((CONCAT31(extraout_var,bVar1) == 0) ||
          (uVar4 = 0x78, ((&DAT_BATTLE_BIN__801a0bf7)[iVar3] & 0x20) == 0)) &&
         (((*(byte *)(DAT_BATTLE_BIN__801a01f8 + 6) & 2) == 0 ||
          ((uVar4 = 0x77, ((&DAT_BATTLE_BIN__801a0bf7)[iVar3] & 0x40) == 0 &&
           ((UnitBattleData[0].field0_0x0.JobLevels[iVar9 + -0x78] & 1) == 0)))))) {
        bVar1 = FUN_BATTLE_BIN__80198d80((int)pJVar5,0xd);
        uVar4 = 0x76;
        if (CONCAT31(extraout_var_00,bVar1) == 0) {
          bVar1 = FUN_BATTLE_BIN__80198d80((int)pJVar5,8);
          uVar4 = 0x75;
          if (CONCAT31(extraout_var_01,bVar1) == 0) {
            bVar1 = FUN_BATTLE_BIN__80198d80((int)pJVar5,0xb);
            uVar4 = 0x74;
            if (CONCAT31(extraout_var_02,bVar1) == 0) {
              bVar1 = FUN_BATTLE_BIN__80198d80((int)pJVar5,0x16);
              if (CONCAT31(extraout_var_03,bVar1) == 0) {
                uVar4 = 0;
                if ((*(byte *)(DAT_BATTLE_BIN__801a01f8 + 6) & 2) != 0) {
                  uVar4 = -((byte)(&DAT_BATTLE_BIN__801a0bf7)[iVar3] & 1) & 0x72;
                }
              }
              else {
                uVar4 = 0x73;
              }
            }
          }
        }
      }
      if (uVar4 == 0) {
        if (((&DAT_BATTLE_BIN__801a0bf6)[iVar3] & 4) != 0) goto LAB_BATTLE_BIN__80198d24;
        if (DAT_BATTLE_BIN__801a01f2 == uVar6) {
          iVar2 = 0;
        }
        iVar2 = iVar7 * 0x10000 + uVar8 * 0x100 + iVar2;
      }
      else {
        iVar2 = uVar4 * 0x1000000 + iVar2 * 0x10000 + iVar7 * 0x100 + uVar8;
      }
      if (iVar10 < iVar2) {
        *(char *)(DAT_BATTLE_BIN__801a0bbc + 0x1b9) = (char)uVar6;
        iVar10 = iVar2;
      }
    }
LAB_BATTLE_BIN__80198d24:
    uVar6 = uVar6 + 1;
    iVar9 = iVar9 + 0x1c0;
    if (0x14 < (int)uVar6) {
      *(byte *)(DAT_BATTLE_BIN__801a01f8 + 4) = *(byte *)(DAT_BATTLE_BIN__801a01f8 + 4) & 0xf7;
      return 0x2000000 < iVar10;
    }
  } while( true );
}



bool FUN_BATTLE_BIN__80198d80(int param_1,int param_2)

{
  bool bVar1;
  int iVar2;
  uint uVar3;
  
  iVar2 = param_2;
  if (param_2 < 0) {
    iVar2 = param_2 + 7;
  }
  iVar2 = iVar2 >> 3;
  uVar3 = 0x80 >> (param_2 + iVar2 * -8 & 0x1fU);
  bVar1 = false;
  if (((*(byte *)(param_1 + iVar2 + 0x58) & uVar3) != 0) &&
     (bVar1 = false, (*(byte *)(param_1 + iVar2 + 0x4e) & uVar3) == 0)) {
    bVar1 = ((byte)(&DAT_BATTLE_BIN__801a0208)[iVar2] & uVar3) != 0;
  }
  return bVar1;
}



int FUN_BATTLE_BIN__80198df0(void)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    bVar1 = FUN_BATTLE_BIN__80198b04();
    if (CONCAT31(extraout_var,bVar1) != 0) {
      DAT_BATTLE_BIN__801a0d7a = 0xe;
      return -2;
    }
    FUN_BATTLE_BIN__8019490c((uint)*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1b9));
  }
  iVar2 = FUN_BATTLE_BIN__8019619c();
  return -(uint)(iVar2 == -1);
}



undefined4 FUN_BATTLE_BIN__80198e60(void)

{
  uint uVar1;
  int iVar2;
  ushort *puVar3;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    uVar1 = FUN_BATTLE_BIN__80199124(5);
    FUN_BATTLE_BIN__8019490c(uVar1);
LAB_BATTLE_BIN__80198ee0:
    iVar2 = FUN_BATTLE_BIN__8019905c();
    if (iVar2 == -1) {
      DAT_BATTLE_BIN__8019f390 = 0;
      return 0xffffffff;
    }
    DAT_BATTLE_BIN__801a01f1 = 1;
    FUN_BATTLE_BIN__8019630c();
    iVar2 = FUN_BATTLE_BIN__80197d0c(3,(uint)DAT_BATTLE_BIN__801a01f2);
    if (iVar2 != 0) {
LAB_BATTLE_BIN__80198f20:
      iVar2 = FUN_BATTLE_BIN__80197e60();
      if (iVar2 == -1) {
        DAT_BATTLE_BIN__8019f390 = 1;
        return 0xffffffff;
      }
    }
    iVar2 = FUN_BATTLE_BIN__801970bc();
    if (iVar2 != 0) {
      return 0;
    }
LAB_BATTLE_BIN__80198f44:
    uVar1 = FUN_BATTLE_BIN__80195f8c();
    if (uVar1 == 0xffffffff) {
      DAT_BATTLE_BIN__8019f390 = 2;
      return 0xffffffff;
    }
    if (uVar1 == 1) {
      return 0;
    }
    iVar2 = 0;
    do {
      puVar3 = (ushort *)
               (&DAT_BATTLE_BIN__801a02b4 + iVar2 * 4 + (uint)DAT_BATTLE_BIN__801a01f3 * 0x88);
      if (*(char *)(puVar3 + 1) == -1) break;
      FUN_BATTLE_BIN__80195878(puVar3);
      iVar2 = iVar2 + 1;
      if (ActionMenus[*(byte *)(puVar3 + 1)] == Aim) {
        puVar3[1] = puVar3[1] & 0x7fff;
      }
    } while (iVar2 < 0x22);
    iVar2 = FUN_BATTLE_BIN__80197d0c(0,0xff);
    if (iVar2 == 0) goto LAB_BATTLE_BIN__8019902c;
  }
  else {
    if (DAT_BATTLE_BIN__8019f390 == 1) goto LAB_BATTLE_BIN__80198f20;
    if (DAT_BATTLE_BIN__8019f390 < 2) {
      if (DAT_BATTLE_BIN__8019f390 == 0) goto LAB_BATTLE_BIN__80198ee0;
    }
    else if (DAT_BATTLE_BIN__8019f390 == 2) goto LAB_BATTLE_BIN__80198f44;
  }
  iVar2 = FUN_BATTLE_BIN__80197e60();
  if (iVar2 == -1) {
    DAT_BATTLE_BIN__8019f390 = 3;
    return 0xffffffff;
  }
  iVar2 = FUN_BATTLE_BIN__801970bc();
  if (iVar2 != 0) {
    return 0;
  }
LAB_BATTLE_BIN__8019902c:
  FUN_BATTLE_BIN__80199498();
  return 0;
}



undefined4 FUN_BATTLE_BIN__8019905c(void)

{
  int iVar1;
  undefined4 uVar2;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
LAB_BATTLE_BIN__80199098:
    DAT_BATTLE_BIN__801a01f1 = 0;
  }
  else if (DAT_BATTLE_BIN__8019f394 != 0) {
    if (DAT_BATTLE_BIN__8019f394 == 1) goto LAB_BATTLE_BIN__801990c4;
    goto LAB_BATTLE_BIN__80199098;
  }
  iVar1 = FUN_BATTLE_BIN__801999c8();
  if (iVar1 == -1) {
    DAT_BATTLE_BIN__8019f394 = 0;
    return 0xffffffff;
  }
LAB_BATTLE_BIN__801990c4:
  iVar1 = FUN_BATTLE_BIN__801994f8(DAT_BATTLE_BIN__801a01f8);
  if (iVar1 == -1) {
    DAT_BATTLE_BIN__8019f394 = 1;
    uVar2 = 0xffffffff;
  }
  else {
    FUN_BATTLE_BIN__8019693c(0xff,0);
    DAT_BATTLE_BIN__801a01f1 = 1;
    DAT_BATTLE_BIN__801a008c = DAT_BATTLE_BIN__801a0088;
    FUN_BATTLE_BIN__801993a0();
    uVar2 = 0;
  }
  return uVar2;
}



uint FUN_BATTLE_BIN__80199124(int param_1)

{
  bool bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  undefined3 extraout_var;
  JobID *pJVar5;
  uint uVar6;
  undefined1 *puVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  
  uVar10 = (uint)DAT_BATTLE_BIN__801a01f2;
  iVar9 = 0x7fffffff;
  uVar6 = 0;
  puVar7 = &DAT_BATTLE_BIN__8019f3c4;
  iVar8 = 0;
  do {
    pJVar5 = &UnitBattleData[0].field0_0x0.BaseClass + iVar8;
    iVar3 = uVar6 * 0x10;
    if ((param_1 == 5) && ((UnitBattleData[0].field0_0x0.JobLevels[iVar8 + -0x7a] & 0x40) != 0))
    goto switchD_BATTLE_BIN__8019920c_caseD_3;
    iVar4 = FUN_BATTLE_BIN__80196ce8(uVar6);
    if (((iVar4 != 0) || ((UnitBattleData[0].field0_0x0.JobLevels[iVar8 + -0x79] & 0x80) != 0)) ||
       ((param_1 != 4 && ((UnitBattleData[0].field0_0x0.JobLevels[iVar8 + -0x7a] & 0x20) != 0))))
    goto LAB_BATTLE_BIN__80199324;
    switch(param_1) {
    case 0:
      goto switchD_BATTLE_BIN__8019920c_caseD_0;
    case 1:
      if ((puVar7[0xc8d] == '\0') ||
         (bVar1 = FUN_BATTLE_BIN__801998c8(uVar6), CONCAT31(extraout_var,bVar1) != 0))
      goto LAB_BATTLE_BIN__80199324;
      iVar3 = FUN_BATTLE_BIN__8019936c(DAT_BATTLE_BIN__801a0bbc,(int)pJVar5);
      if (iVar3 < 2) {
        iVar3 = FUN_BATTLE_BIN__8019b6b0(&DAT_BATTLE_BIN__801a01f4,(int)pJVar5);
        bVar2 = iVar3 < -2;
        goto joined_r0x80199230;
      }
      break;
    case 2:
      if ((&DAT_BATTLE_BIN__801a0bf8)[iVar3] == '\0') goto LAB_BATTLE_BIN__80199324;
      break;
    case 4:
      if (((((&DAT_BATTLE_BIN__801a0bf8)[iVar3] == '\0') ||
           (((&DAT_BATTLE_BIN__801a0bf7)[iVar3] & 0x20) != 0)) || (puVar7[0xc8d] == '\0')) ||
         (((&DAT_BATTLE_BIN__801a0bf4)[iVar3] & 0x80) == 0)) goto LAB_BATTLE_BIN__80199324;
      goto switchD_BATTLE_BIN__8019920c_caseD_0;
    case 5:
      if ((&DAT_BATTLE_BIN__801a0bf8)[iVar3] != '\0') goto LAB_BATTLE_BIN__80199324;
      bVar2 = (&DAT_BATTLE_BIN__801a0bf6)[iVar3] & 2;
      goto joined_r0x80199230;
    }
switchD_BATTLE_BIN__8019920c_caseD_3:
    iVar3 = FUN_BATTLE_BIN__8019936c(DAT_BATTLE_BIN__801a0bbc,(int)pJVar5);
    if (iVar3 < iVar9) {
      iVar9 = iVar3;
      uVar10 = uVar6;
    }
LAB_BATTLE_BIN__80199324:
    puVar7 = puVar7 + 1;
    uVar6 = uVar6 + 1;
    iVar8 = iVar8 + 0x1c0;
    if (0x14 < (int)uVar6) {
      return uVar10;
    }
  } while( true );
switchD_BATTLE_BIN__8019920c_caseD_0:
  bVar2 = UnitBattleData[0].field0_0x0.JobLevels[iVar8 + -0x79] & 4;
joined_r0x80199230:
  if (bVar2 != 0) goto switchD_BATTLE_BIN__8019920c_caseD_3;
  goto LAB_BATTLE_BIN__80199324;
}



int FUN_BATTLE_BIN__8019936c(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  iVar2 = (uint)*(byte *)(param_1 + 0x47) - (uint)*(byte *)(param_2 + 0x47);
  iVar1 = (uint)*(byte *)(param_1 + 0x48) - (uint)*(byte *)(param_2 + 0x48);
  if (iVar2 < 0) {
    iVar2 = -iVar2;
  }
  if (iVar1 < 0) {
    iVar1 = -iVar1;
  }
  return iVar2 + iVar1;
}



void FUN_BATTLE_BIN__801993a0(void)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = 0;
  do {
    (&DAT_BATTLE_BIN__8019fe38)[(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + iVar2] = 0;
    iVar3 = iVar2 + 1;
    (&DAT_BATTLE_BIN__8019fe5c)[(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + iVar2] = 0;
    iVar2 = iVar3;
  } while (iVar3 < 0x12);
  uVar1 = (uint)DAT_BATTLE_BIN__801a01f1;
  (&DAT_BATTLE_BIN__8019fe38)
  [uVar1 * 0x24 +
   (uint)*(byte *)((int)&DAT_BATTLE_BIN__801a0088 + uVar1 * 4 + 1) * 0x12 +
   (uint)*(byte *)((int)&DAT_BATTLE_BIN__801a0088 + uVar1 * 4 + 2)] =
       (short)(0x8000 >> (*(byte *)(&DAT_BATTLE_BIN__801a0088 + uVar1) & 0x1f));
  (&DAT_BATTLE_BIN__8019fe38)
  [(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 +
   (uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] =
       (&DAT_BATTLE_BIN__8019fe38)
       [(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 +
        (uint)DAT_BATTLE_BIN__801a01f5 * 0x12 + (uint)DAT_BATTLE_BIN__801a01f6] |
       (ushort)(0x8000 >> (DAT_BATTLE_BIN__801a01f4 & 0x1f));
  return;
}



void FUN_BATTLE_BIN__80199498(void)

{
  DAT_BATTLE_BIN__801a0bc0 = 0;
  DAT_BATTLE_BIN__801a0bc4 = (&DAT_BATTLE_BIN__801a0088)[DAT_BATTLE_BIN__801a01f1];
  if (*(short *)(DAT_BATTLE_BIN__801a0bbc + 0x16) == 0x1df) {
    DAT_BATTLE_BIN__801a0bc9 = 2;
  }
  else {
    DAT_BATTLE_BIN__801a0bc9 = 0;
  }
  return;
}



undefined4 FUN_BATTLE_BIN__801994f8(byte *param_1)

{
  bool bVar1;
  int iVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  char *pcVar7;
  short *psVar8;
  char *pcVar9;
  int iVar10;
  undefined1 *puVar11;
  char in_t5;
  undefined1 *puVar12;
  int local_28 [6];
  
  puVar12 = &DAT_BATTLE_BIN__8019f3c4;
  DAT_BATTLE_BIN__801a0036 = DAT_BATTLE_BIN__801a0d7b == '\0';
  local_28[0] = 0;
  bVar1 = false;
  if (((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x182) & 0x80) == 0) &&
     ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x94) & 0xc) != 0)) {
    bVar1 = true;
  }
  else {
    FUN_BATTLE_BIN__80178ca4
              ((uint)DAT_BATTLE_BIN__801a01f2,(uint)*param_1,(uint)param_1[2],(uint)param_1[1],
               (uint)(byte)DAT_BATTLE_BIN__801a0036,local_28,1);
    if (local_28[0] != 0) {
      return 0xffffffff;
    }
    DAT_BATTLE_BIN__801a0d7b = '\0';
    in_t5 = (&DAT_BATTLE_BIN__80192dd8)
            [((uint)param_1[1] * 0x100 + (uint)param_1[2] * (uint)DAT_BATTLE_BIN__801a01fe +
             (uint)*param_1) * 5];
  }
  iVar10 = 0;
  puVar11 = puVar12;
  do {
    iVar6 = 0;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      pcVar9 = puVar11 + 0x3b4;
      psVar8 = (short *)(puVar12 + 0xa74);
      do {
        if ((*psVar8 != 0) && (iVar5 = 0, pcVar7 = pcVar9, DAT_BATTLE_BIN__801a01fe != 0)) {
          do {
            if (bVar1) {
              iVar4 = (uint)*param_1 - iVar5;
              if (iVar4 < 0) {
                iVar4 = -iVar4;
              }
              iVar2 = (uint)param_1[2] - iVar6;
              if (iVar2 < 0) {
                iVar2 = -iVar2;
              }
              cVar3 = (char)iVar4 + (char)iVar2;
            }
            else {
              cVar3 = in_t5 - (&DAT_BATTLE_BIN__80192dd8)
                              [(iVar10 * 0x100 + iVar6 * (uint)DAT_BATTLE_BIN__801a01fe + iVar5) * 5
                              ];
            }
            *pcVar7 = cVar3;
            iVar5 = iVar5 + 1;
            pcVar7 = pcVar7 + 1;
          } while (iVar5 < (int)(uint)DAT_BATTLE_BIN__801a01fe);
        }
        pcVar9 = pcVar9 + 0x10;
        iVar6 = iVar6 + 1;
        psVar8 = psVar8 + 1;
      } while (iVar6 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    puVar11 = puVar11 + 0x120;
    iVar10 = iVar10 + 1;
    puVar12 = puVar12 + 0x24;
  } while (iVar10 < 2);
  return 0;
}



void FUN_BATTLE_BIN__8019971c(void)

{
  ushort uVar1;
  byte bVar2;
  bool bVar3;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int iVar4;
  int iVar5;
  BattleUnitData *pBVar6;
  uint uVar7;
  char *pcVar8;
  ushort *puVar9;
  char *pcVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  undefined1 *puVar14;
  undefined1 *puVar15;
  
  puVar15 = &DAT_BATTLE_BIN__8019f3c4;
  puVar14 = &DAT_BATTLE_BIN__8019f3c4;
  iVar11 = 0;
  do {
    puVar14[0xc8d] = 0;
    bVar2 = FUN_BATTLE_BIN__80196c8c(iVar11);
    if ((CONCAT31(extraout_var,bVar2) == 0) &&
       (bVar3 = FUN_BATTLE_BIN__801998c8(iVar11), CONCAT31(extraout_var_00,bVar3) == 0)) {
      puVar14[0xc8d] = 1;
    }
    iVar12 = iVar11 + 1;
    puVar14 = &DAT_BATTLE_BIN__8019f3c5 + iVar11;
    iVar11 = iVar12;
  } while (iVar12 < 0x15);
  iVar11 = 0;
  puVar14 = puVar15;
  do {
    iVar12 = 0;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      pcVar10 = puVar14 + 0x174;
      puVar9 = (ushort *)(puVar15 + 0xa74);
      do {
        uVar1 = *puVar9;
        if ((uVar1 != 0) && (uVar7 = 0, pcVar8 = pcVar10, DAT_BATTLE_BIN__801a01fe != 0)) {
          do {
            if (((uint)uVar1 << (uVar7 & 0x1f) & 0x8000) != 0) {
              *pcVar8 = '\0';
              iVar13 = 0;
              pBVar6 = UnitBattleData;
              do {
                if ((&DAT_BATTLE_BIN__801a0051)[iVar13] != '\0') {
                  iVar5 = (pBVar6->field0_0x0).MapX - uVar7;
                  if (iVar5 < 0) {
                    iVar5 = -iVar5;
                  }
                  iVar4 = (uint)(pBVar6->field0_0x0).MapY - iVar12;
                  if (iVar4 < 0) {
                    iVar4 = -iVar4;
                  }
                  if (iVar5 + iVar4 < 0xb) {
                    *pcVar8 = *pcVar8 + ('\n' - (char)(iVar5 + iVar4));
                  }
                }
                iVar13 = iVar13 + 1;
                pBVar6 = pBVar6 + 1;
              } while (iVar13 < 0x15);
            }
            uVar7 = uVar7 + 1;
            pcVar8 = pcVar8 + 1;
          } while ((int)uVar7 < (int)(uint)DAT_BATTLE_BIN__801a01fe);
        }
        pcVar10 = pcVar10 + 0x10;
        iVar12 = iVar12 + 1;
        puVar9 = puVar9 + 1;
      } while (iVar12 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    puVar14 = puVar14 + 0x120;
    iVar11 = iVar11 + 1;
    puVar15 = puVar15 + 0x24;
  } while (iVar11 < 2);
  return;
}



bool FUN_BATTLE_BIN__801998c8(int param_1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  BattleUnitData *pBVar4;
  
  if ((&DAT_BATTLE_BIN__801a0bf8)[param_1 * 0x10] != '\0') {
    pBVar4 = UnitBattleData + param_1;
    uVar3 = (uint)DAT_BATTLE_BIN__801a0213;
    uVar1 = FUN_BATTLE_BIN__80199b98((int)pBVar4);
    if ((int)uVar3 < (int)uVar1) {
      return true;
    }
    iVar2 = FUN_BATTLE_BIN__8019ef24((uint)DAT_BATTLE_BIN__801a0213,(int)pBVar4,0x1e);
    if (iVar2 != 0) {
      return true;
    }
    iVar2 = FUN_BATTLE_BIN__8019ef24((uint)DAT_BATTLE_BIN__801a0213,(int)pBVar4,0x25);
    if (iVar2 != 0) {
      return true;
    }
    iVar2 = FUN_BATTLE_BIN__8019ef24((uint)DAT_BATTLE_BIN__801a0213,(int)pBVar4,0x23);
    if (iVar2 != 0) {
      return true;
    }
    iVar2 = FUN_BATTLE_BIN__8019ef24((uint)DAT_BATTLE_BIN__801a0213,(int)pBVar4,0x15);
    if (iVar2 == 0) {
      iVar2 = FUN_BATTLE_BIN__8019ef24((uint)DAT_BATTLE_BIN__801a0213,(int)pBVar4,0x22);
      return iVar2 != 0;
    }
  }
  return true;
}



undefined4 FUN_BATTLE_BIN__801999c8(void)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    uVar5 = 0;
    DAT_BATTLE_BIN__8019f3d8 = 0;
    DAT_BATTLE_BIN__8019f3e1 = 0;
    goto LAB_BATTLE_BIN__80199a6c;
  }
  uVar3 = (uint)(byte)DAT_BATTLE_BIN__8019f3dc;
  uVar4 = (uint)DAT_BATTLE_BIN__8019f3dc._2_1_;
  uVar5 = (uint)DAT_BATTLE_BIN__8019f3dc._1_1_;
  uVar6 = (uint)(ushort)(&DAT_BATTLE_BIN__8019fe38)
                        [(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + uVar5 * 0x12 + uVar4];
  do {
    iVar1 = FUN_BATTLE_BIN__8019d37c();
    if (iVar1 == -1) {
      return 0xffffffff;
    }
    (&DAT_BATTLE_BIN__8019f9b8)[uVar5 * 0x120 + uVar4 * 0x10 + uVar3] = -DAT_BATTLE_BIN__8019f3f6;
    do {
      uVar3 = uVar3 + 1;
      uVar2 = uVar6 << (uVar3 & 0x1f);
      if ((int)(uint)DAT_BATTLE_BIN__801a01fe <= (int)uVar3) {
        do {
          uVar4 = uVar4 + 1;
          if ((int)(uint)DAT_BATTLE_BIN__801a01ff <= (int)uVar4) {
            do {
              uVar5 = uVar5 + 1;
              if (1 < (int)uVar5) {
                FUN_BATTLE_BIN__8019f258(&DAT_BATTLE_BIN__801a01f4);
                return 0;
              }
LAB_BATTLE_BIN__80199a6c:
              uVar4 = 0;
            } while (DAT_BATTLE_BIN__801a01ff == 0);
          }
          uVar2 = (uint)(ushort)(&DAT_BATTLE_BIN__8019fe38)
                                [(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + uVar5 * 0x12 + uVar4];
        } while ((uVar2 == 0) || (uVar3 = 0, uVar6 = uVar2, DAT_BATTLE_BIN__801a01fe == 0));
      }
    } while ((uVar2 & 0x8000) == 0);
    DAT_BATTLE_BIN__8019f3dc._0_1_ = (byte)uVar3;
    DAT_BATTLE_BIN__8019f3dc._2_1_ = (byte)uVar4;
    DAT_BATTLE_BIN__8019f3dc._1_1_ = (byte)uVar5;
    FUN_BATTLE_BIN__8019bb20();
  } while( true );
}



uint FUN_BATTLE_BIN__80199b98(int param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  
  uVar3 = (uint)*(byte *)(param_1 + 0x38);
  uVar2 = 0;
  if (((uVar3 == 0) || ((*(ushort *)(param_1 + 0x58) & 0x8140) != 0)) ||
     (((byte)(&DAT_BATTLE_BIN__801a0bf7)[(uint)*(byte *)(param_1 + 1) * 0x10] >> 5 & 1) != 0)) {
    uVar2 = 0x7fffffff;
  }
  else {
    if ((*(byte *)(param_1 + 0x5b) & 2) != 0) {
      uVar2 = (uint)*(byte *)(param_1 + 99);
    }
    if ((*(byte *)(param_1 + 0x39) < 100) &&
       (iVar1 = 100 - (uint)*(byte *)(param_1 + 0x39), uVar2 = uVar2 + iVar1 / (int)uVar3,
       iVar1 % (int)uVar3 != 0)) {
      uVar2 = uVar2 + 1;
    }
    if ((((*(byte *)(param_1 + 0x58) & 0x20) == 0) && ((*(byte *)(param_1 + 0x5c) & 0x10) != 0)) &&
       ((int)uVar2 < (int)(uint)*(byte *)(param_1 + 0x68))) {
      uVar2 = (uint)*(byte *)(param_1 + 0x68);
    }
  }
  return uVar2;
}



int FUN_BATTLE_BIN__80199c88(int param_1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  uVar3 = (uint)*(byte *)(param_1 + 0x38);
  if ((((uVar3 == 0) || ((*(byte *)(param_1 + 0x58) & 0x20) == 0)) ||
      ((*(byte *)(param_1 + 0x5a) & 0x20) != 0)) || (*(byte *)(param_1 + 7) == 0xff)) {
    iVar1 = 0x7fffffff;
  }
  else {
    iVar2 = ((uint)*(byte *)(param_1 + 7) * 100 + 100) - (uint)*(byte *)(param_1 + 0x39);
    iVar1 = iVar2 / (int)uVar3;
    if (iVar2 % (int)uVar3 != 0) {
      iVar1 = iVar1 + 1;
    }
  }
  return iVar1;
}



void FUN_BATTLE_BIN__80199d20(void)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar2 = 0;
  iVar4 = 0;
  iVar5 = 0;
  iVar3 = 0;
  DAT_BATTLE_BIN__8019f3c0 = &DAT_BATTLE_BIN__80193924;
  DAT_BATTLE_BIN__801a0b36 = 0xa7;
  DAT_BATTLE_BIN__801a0b34 = 200;
  DAT_BATTLE_BIN__801a0b3a = 0xa9;
  DAT_BATTLE_BIN__8019f3ac = &DAT_BATTLE_BIN__8019f3c4;
  DAT_BATTLE_BIN__801a0d7b = 0;
  DAT_BATTLE_BIN__801a0bdc = 0;
  DAT_BATTLE_BIN__801a0bc4._3_1_ = 0;
  DAT_BATTLE_BIN__801a0b37 = 0x84;
  DAT_BATTLE_BIN__801a0b38 = 0x16f;
  DAT_BATTLE_BIN__801a0b3b = 0x84;
  DAT_BATTLE_BIN__801a01db = 0;
  DAT_BATTLE_BIN__801a01fe = DAT_BATTLE_BIN__800e4e9c;
  DAT_BATTLE_BIN__801a01ff = DAT_BATTLE_BIN__800e4ea0;
  do {
    (&DAT_BATTLE_BIN__801a0d50)[iVar2] = 0xff;
    if ((&UnitBattleData[0].field0_0x0.UnitID)[iVar3] != 0xff) {
      (&DAT_BATTLE_BIN__801a0d50)[iVar2] = (char)iVar4;
      FUN_BATTLE_BIN__80199ec8(iVar2);
      iVar4 = iVar4 + 1;
      iVar5 = iVar5 + (uint)*(ushort *)((int)&UnitBattleData[0].field0_0x0.MaxHP + iVar3);
    }
    iVar2 = iVar2 + 1;
    iVar3 = iVar3 + 0x1c0;
  } while (iVar2 < 0x15);
  if (iVar4 != 0) {
    if (iVar5 / iVar4 < 0x100) {
      DAT_BATTLE_BIN__801a01db = (undefined)(iVar5 / iVar4);
    }
    else {
      DAT_BATTLE_BIN__801a01db = 0xff;
    }
  }
  iVar2 = 3;
  puVar1 = &DAT_BATTLE_BIN__8019f3d0;
  do {
    *(undefined *)(puVar1 + 0x607) = 0xff;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  DAT_BATTLE_BIN__801a01d8 = 0x17f;
  DAT_BATTLE_BIN__801a01da = 1;
  return;
}



void FUN_BATTLE_BIN__80199ec8(int param_1)

{
  byte bVar1;
  ushort uVar2;
  int iVar3;
  ushort *puVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int local_30;
  
  if ((UnitBattleData[param_1].field0_0x0.UnitID != 0xff) &&
     ((byte)(&DAT_BATTLE_BIN__801a0d50)[param_1] < 0x10)) {
    iVar6 = 0;
    FUN_BATTLE_BIN__8019a2f0(param_1);
    iVar8 = 0;
    iVar7 = 0;
    iVar5 = 0;
    iVar3 = param_1 * 0x10;
    local_30 = 0;
    (&DAT_BATTLE_BIN__801a0bf9)[iVar3] = 0;
    (&DAT_BATTLE_BIN__801a0bfa)[iVar3] = 0xff;
    do {
      puVar4 = (ushort *)
               (&DAT_BATTLE_BIN__801a02b4 +
               iVar5 * 4 + (uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[param_1] * 0x88);
      if (*(char *)(puVar4 + 1) == -1) break;
      FUN_BATTLE_BIN__80195878(puVar4);
      iVar6 = iVar6 + 1;
      if ((puVar4[1] & 0x800) == 0) {
        if ((DAT_BATTLE_BIN__8019f3d0 & 0x100) != 0) {
          iVar7 = iVar7 + 1;
        }
        if ((DAT_BATTLE_BIN__8019f3d0 & 0x200) != 0) {
          local_30 = local_30 + 1;
        }
        if (DAT_BATTLE_BIN__8019f3d5 != 0) {
          iVar8 = iVar8 + 1;
          if ((byte)(&DAT_BATTLE_BIN__801a0bf9)[iVar3] < DAT_BATTLE_BIN__8019f3d5) {
            (&DAT_BATTLE_BIN__801a0bf9)[iVar3] = DAT_BATTLE_BIN__8019f3d5;
          }
          if (DAT_BATTLE_BIN__8019f3d5 < (byte)(&DAT_BATTLE_BIN__801a0bfa)[iVar3]) {
            (&DAT_BATTLE_BIN__801a0bfa)[iVar3] = DAT_BATTLE_BIN__8019f3d5;
          }
        }
      }
      *(byte *)((int)puVar4 + 3) = *(byte *)((int)puVar4 + 3) & 0xf8;
      if ((DAT_BATTLE_BIN__8019f3d0 & 0xc00000) == 0) {
        if ((DAT_BATTLE_BIN__8019f3d0 & 0x3c0000) == 0) {
          if (DAT_BATTLE_BIN__8019f3c6 < 0x170) {
            if (((uint)DAT_BATTLE_BIN__8019f3c8 + (uint)DAT_BATTLE_BIN__8019f3c9 < 3) &&
               ((SecondaryAbilityData[DAT_BATTLE_BIN__8019f3c6].field_0x6 & 2) != 0)) {
              uVar2 = puVar4[1] | 0x400;
              goto LAB_BATTLE_BIN__8019a134;
            }
            if ((SecondaryAbilityData[DAT_BATTLE_BIN__8019f3c6].field_0x4 & 0x41) == 0)
            goto LAB_BATTLE_BIN__8019a118;
          }
          else {
LAB_BATTLE_BIN__8019a118:
            if (DAT_BATTLE_BIN__8019f3c9 != 0) goto LAB_BATTLE_BIN__8019a138;
          }
          uVar2 = puVar4[1] | 0x200;
        }
        else {
          uVar2 = puVar4[1] | 0x400;
        }
LAB_BATTLE_BIN__8019a134:
        puVar4[1] = uVar2;
      }
LAB_BATTLE_BIN__8019a138:
      iVar5 = iVar5 + 1;
    } while (iVar5 < 0x22);
    iVar5 = FUN_BATTLE_BIN__8019a2cc(iVar6,iVar7);
    (&DAT_BATTLE_BIN__801a0bfc)[iVar3] = (char)iVar5;
    iVar5 = FUN_BATTLE_BIN__8019a2cc(iVar6,iVar8);
    (&DAT_BATTLE_BIN__801a0bfb)[iVar3] = (char)iVar5;
    iVar5 = FUN_BATTLE_BIN__8019a2cc(iVar6,local_30);
    (&DAT_BATTLE_BIN__801a0bfd)[iVar3] = (char)iVar5;
    FUN_BATTLE_BIN__8019ab48
              (&DAT_BATTLE_BIN__801a0bf4 + iVar3,&UnitBattleData[param_1].field0_0x0.field_0x167,5);
    (&DAT_BATTLE_BIN__801a0bf0)[iVar3] = UnitBattleData[param_1].field0_0x0.AIXStay;
    (&DAT_BATTLE_BIN__801a0bf2)[iVar3] = UnitBattleData[param_1].field0_0x0.AIYStay;
    bVar1 = UnitBattleData[param_1].field0_0x0.field_0x167;
    (&DAT_BATTLE_BIN__801a0bf3)[iVar3] = 0;
    (&DAT_BATTLE_BIN__801a0bf1)[iVar3] = bVar1 >> 7;
    if (((&DAT_BATTLE_BIN__801a0bf4)[iVar3] & 8) != 0) {
      if (((&DAT_BATTLE_BIN__801a0bf7)[iVar3] & 4) == 0) {
        iVar5 = 0;
        if (((&DAT_BATTLE_BIN__801a0bf4)[iVar3] & 0x40) != 0) {
          iVar6 = 0;
          do {
            if (((&UnitBattleData[0].field0_0x0.UnitID)[iVar6] != 0xff) &&
               (UnitBattleData[0].field0_0x0.SecondarySkillsetName[iVar6 + 0xd] ==
                (&DAT_BATTLE_BIN__801a0bf5)[iVar3])) {
              (&DAT_BATTLE_BIN__801a0bf5)[iVar3] = (byte)iVar5;
              if (((&DAT_BATTLE_BIN__801a0bf4)[iVar3] & 0x10) == 0) {
                return;
              }
              UnitBattleData[param_1].field2_0x18c.MainTargetID = (byte)iVar5;
              if (((&UnitBattleData[0].field2_0x18c.field_0x2e)[iVar6] & 0x30) ==
                  (UnitBattleData[param_1].field2_0x18c.field_0x2e & 0x30)) {
                (&DAT_BATTLE_BIN__801a0d65)[param_1] = 0xe;
                return;
              }
              (&DAT_BATTLE_BIN__801a0d65)[param_1] = 0xc;
              return;
            }
            iVar5 = iVar5 + 1;
            iVar6 = iVar6 + 0x1c0;
          } while (iVar5 < 0x15);
          (&DAT_BATTLE_BIN__801a0bf4)[iVar3] = (&DAT_BATTLE_BIN__801a0bf4)[iVar3] & 0xf7;
        }
      }
      else {
        (&DAT_BATTLE_BIN__801a0d65)[param_1] = 0x11;
      }
    }
  }
  return;
}



int FUN_BATTLE_BIN__8019a2cc(int param_1,int param_2)

{
  int iVar1;
  
  if (param_1 == 0) {
    iVar1 = 0;
  }
  else {
    iVar1 = (param_2 << 2) / param_1;
  }
  return iVar1;
}



void FUN_BATTLE_BIN__8019a2f0(int param_1)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  int iVar6;
  uint uVar7;
  uint local_30 [4];
  
  uVar7 = (uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[param_1];
  iVar6 = 0;
  if (NightMagic < UnitBattleData[param_1].field0_0x0.PrimarySkillset)
  goto LAB_BATTLE_BIN__8019a46c;
  (&DAT_BATTLE_BIN__801a02b6)[uVar7 * 0x88] = 1;
  *(short *)(&DAT_BATTLE_BIN__801a02b4 + uVar7 * 0x88) = (short)(param_1 << 10);
  iVar6 = uVar7 * 8;
  puVar5 = (undefined4 *)(&DAT_BATTLE_BIN__801a0b3c + iVar6);
  *puVar5 = 0;
  *(undefined4 *)(&DAT_BATTLE_BIN__801a0b40 + iVar6) = 0;
  (&DAT_BATTLE_BIN__801a0b3d)[iVar6] = (&DAT_BATTLE_BIN__801a0b3d)[iVar6] | 0x80;
  (&DAT_BATTLE_BIN__801a0b3f)[iVar6] = (&DAT_BATTLE_BIN__801a0b3f)[iVar6] | 1;
  (&DAT_BATTLE_BIN__801a0b3e)[iVar6] = (&DAT_BATTLE_BIN__801a0b3e)[iVar6] | 2;
  local_30[0] = 0;
  if ((UnitBattleData[param_1].field0_0x0.field_0x6 & 0x20) == 0) {
    FUN_BATTLE_BIN__8019a52c
              ((byte *)puVar5,(uint)UnitBattleData[param_1].field0_0x0.RHWeapon,local_30);
    FUN_BATTLE_BIN__8019a52c
              ((byte *)puVar5,(uint)UnitBattleData[param_1].field0_0x0.LHWeapon,local_30);
  }
  if (local_30[0] == 1) {
LAB_BATTLE_BIN__8019a42c:
    (&DAT_BATTLE_BIN__801a0b3d)[iVar6] = (&DAT_BATTLE_BIN__801a0b3d)[iVar6] | 2;
  }
  else {
    if ((int)local_30[0] < 2) {
      if (local_30[0] != 0) {
        iVar6 = 1;
        goto LAB_BATTLE_BIN__8019a46c;
      }
      *(undefined *)puVar5 = 1;
      goto LAB_BATTLE_BIN__8019a42c;
    }
    if (local_30[0] == 2) {
      bVar2 = (&DAT_BATTLE_BIN__801a0b3e)[iVar6];
      bVar1 = (&DAT_BATTLE_BIN__801a0b3d)[iVar6] | 2;
    }
    else {
      if (local_30[0] != 4) {
        iVar6 = 1;
        goto LAB_BATTLE_BIN__8019a46c;
      }
      bVar2 = (&DAT_BATTLE_BIN__801a0b3e)[iVar6];
      bVar1 = (&DAT_BATTLE_BIN__801a0b3d)[iVar6] | 1;
    }
    (&DAT_BATTLE_BIN__801a0b3d)[iVar6] = bVar1;
    (&DAT_BATTLE_BIN__801a0b3e)[iVar6] = bVar2 | 0x20;
  }
  iVar6 = 1;
LAB_BATTLE_BIN__8019a46c:
  iVar6 = FUN_BATTLE_BIN__8019a5f8
                    (param_1,(uint)UnitBattleData[param_1].field0_0x0.PrimarySkillset,iVar6);
  if (UnitBattleData[param_1].field0_0x0.PrimarySkillset < Choco0) {
    iVar6 = FUN_BATTLE_BIN__8019a5f8
                      (param_1,(uint)UnitBattleData[param_1].field0_0x0.SecondarySkillset,iVar6);
  }
  iVar4 = uVar7 * 0x88;
  iVar3 = iVar6 * 4 + iVar4;
  (&DAT_BATTLE_BIN__801a02b6)[iVar3] = 0xa9;
  *(short *)(&DAT_BATTLE_BIN__801a02b4 + iVar3) = (short)param_1 * 0x400 + 0x16f;
  (&DAT_BATTLE_BIN__801a02b7)[iVar6 * 4 + iVar4] = 0x84;
  if (iVar6 + 1 < 0x22) {
    (&DAT_BATTLE_BIN__801a02b6)[(iVar6 + 1) * 4 + iVar4] = 0xff;
  }
  return;
}



void FUN_BATTLE_BIN__8019a52c(byte *param_1,int param_2,uint *param_3)

{
  byte bVar1;
  uint uVar2;
  
  if (param_2 == 0xff) {
    return;
  }
  if ((WeaponSecondary[param_2].field_0x1 & 0x10) == 0) {
    if ((WeaponSecondary[param_2].field_0x1 & 0x20) == 0) goto LAB_BATTLE_BIN__8019a580;
    bVar1 = param_1[3] | 0x40;
  }
  else {
    bVar1 = param_1[3] | 0x80;
  }
  param_1[3] = bVar1;
LAB_BATTLE_BIN__8019a580:
  if (WeaponSecondary[param_2].Formula == AbsorbWeapon) {
    uVar2 = *param_3 | 2;
  }
  else if (WeaponSecondary[param_2].Formula == HealWeapon) {
    uVar2 = *param_3 | 4;
  }
  else {
    uVar2 = *param_3 | 1;
  }
  *param_3 = uVar2;
  param_1[4] = (byte)param_2;
  *param_1 = WeaponSecondary[param_2].Range;
  param_1[5] = param_1[5] | WeaponSecondary[param_2].field_0x6;
  return;
}



int FUN_BATTLE_BIN__8019a5f8(int param_1,uint param_2,int param_3)

{
  SkillsetType SVar1;
  short sVar2;
  bool bVar3;
  byte bVar4;
  bool bVar5;
  ushort uVar6;
  ushort uVar7;
  ushort *puVar8;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  short *psVar9;
  int iVar10;
  ushort *unaff_s1;
  uint uVar11;
  uint uVar12;
  undefined uVar13;
  
  if (param_2 != 0) {
    bVar3 = false;
    puVar8 = Store_SkillsetAbilities(param_2,1);
    SVar1 = ActionMenus[param_2];
    uVar11 = (uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[param_1];
    uVar13 = (undefined)param_2;
    sVar2 = (short)param_1;
    if (SVar1 == Throw) {
      bVar3 = FUN_BATTLE_BIN__8019aa50(param_1,param_2,0);
      if (CONCAT31(extraout_var,bVar3) != 0) {
        iVar10 = 0;
        psVar9 = (short *)(&DAT_BATTLE_BIN__801a02b4 + param_3 * 4 + uVar11 * 0x88);
        do {
          *(undefined *)(psVar9 + 1) = uVar13;
          *psVar9 = sVar2 * 0x400 + (short)iVar10 + 0x7a;
          psVar9 = psVar9 + 2;
          iVar10 = iVar10 + 1;
          param_3 = param_3 + 1;
        } while (iVar10 < 3);
      }
      bVar3 = FUN_BATTLE_BIN__8019aa50(param_1,param_2,1);
      iVar10 = 0;
      if (CONCAT31(extraout_var_00,bVar3) != 0) {
        psVar9 = (short *)(&DAT_BATTLE_BIN__801a02b4 + param_3 * 4 + uVar11 * 0x88);
        do {
          *(undefined *)(psVar9 + 1) = uVar13;
          *psVar9 = sVar2 * 0x400 + (short)iVar10 + 0x7d;
          psVar9 = psVar9 + 2;
          iVar10 = iVar10 + 1;
          param_3 = param_3 + 1;
        } while (iVar10 < 3);
      }
      iVar10 = 2;
      do {
        bVar3 = FUN_BATTLE_BIN__8019aa50(param_1,param_2,iVar10);
        iVar10 = iVar10 + 1;
        if (CONCAT31(extraout_var_01,bVar3) != 0) {
          unaff_s1 = (ushort *)(&DAT_BATTLE_BIN__801a02b4 + param_3 * 4 + uVar11 * 0x88);
          param_3 = param_3 + 1;
          uVar6 = (ushort)(param_1 << 10);
          *(undefined *)(unaff_s1 + 1) = uVar13;
          goto LAB_BATTLE_BIN__8019aa14;
        }
      } while (iVar10 < 0xc);
    }
    else if (SVar1 == Math) {
      iVar10 = param_3 * 4;
      param_3 = param_3 + 1;
      *(undefined *)((int)(&DAT_BATTLE_BIN__801a02b4 + iVar10 + uVar11 * 0x88) + 2) = uVar13;
      *(short *)(&DAT_BATTLE_BIN__801a02b4 + iVar10 + uVar11 * 0x88) = (short)(param_1 << 10);
    }
    else if ((SVar1 != Aim) || (5 < (byte)(&DAT_BATTLE_BIN__801a0b40)[uVar11 * 8] - 0x47)) {
      iVar10 = 0;
      do {
        uVar6 = *puVar8;
        uVar12 = (uint)uVar6;
        if ((uVar12 != 0) &&
           (unaff_s1 = (ushort *)(&DAT_BATTLE_BIN__801a02b4 + param_3 * 4 + uVar11 * 0x88),
           (PrimaryAbilityData[uVar12].field_0x7 & 0x80) != 0)) {
          if (uVar12 < 0x170) {
            bVar4 = SecondaryAbilityData[uVar12].MPCost;
            if ((*(byte *)((int)&UnitBattleData[param_1].field0_0x0.Supports + 1) & 0x80) != 0) {
              bVar4 = bVar4 >> 1;
            }
            if (((ushort)bVar4 <= UnitBattleData[param_1].field0_0x0.MaxMP) &&
               (((DAT_BATTLE_BIN__8019f3d0 & 0x400) == 0 ||
                ((UnitBattleData[param_1].field0_0x0.InnateStatuses.field_0x4 & 0x40) == 0)))) {
              if ((SecondaryAbilityData[uVar12].field_0x6 & 8) == 0) {
                if ((SecondaryAbilityData[uVar12].field_0x6 & 4) == 0)
                goto LAB_BATTLE_BIN__8019a93c;
                bVar4 = UnitBattleData[param_1].field1_0x16e.field_0x16 & 4;
              }
              else {
                bVar4 = UnitBattleData[param_1].field1_0x16e.field_0x16 & 8;
              }
              if (bVar4 != 0) goto LAB_BATTLE_BIN__8019a93c;
            }
          }
          else {
LAB_BATTLE_BIN__8019a93c:
            bVar5 = FUN_BATTLE_BIN__8019aa50(param_1,param_2,iVar10);
            if (CONCAT31(extraout_var_02,bVar5) != 0) {
              if (0xaf < (int)param_2) {
                if (iVar10 == 3) {
                  uVar7 = unaff_s1[1] | 0x800;
                }
                else {
                  uVar7 = unaff_s1[1] & 0xf7ff;
                }
                unaff_s1[1] = uVar7;
              }
              *(undefined *)(unaff_s1 + 1) = uVar13;
              *unaff_s1 = uVar6;
              if (SVar1 == Jump) {
                if (0x18e < uVar12) goto LAB_BATTLE_BIN__8019a9dc;
                if (bVar3) {
                  param_3 = param_3 + -1;
                  unaff_s1 = (ushort *)(&DAT_BATTLE_BIN__801a02b4 + param_3 * 4 + uVar11 * 0x88);
                  *unaff_s1 = uVar6;
                }
                bVar3 = true;
              }
              param_3 = param_3 + 1;
              *unaff_s1 = *unaff_s1 + sVar2 * 0x400;
            }
          }
        }
LAB_BATTLE_BIN__8019a9dc:
        iVar10 = iVar10 + 1;
        puVar8 = puVar8 + 1;
      } while (iVar10 < 0x10);
      if ((SVar1 == Jump) && (!bVar3)) {
        *(undefined *)(unaff_s1 + 1) = 0x12;
        uVar6 = (ushort)(param_1 << 10);
LAB_BATTLE_BIN__8019aa14:
        *unaff_s1 = uVar6;
      }
    }
  }
  return param_3;
}



bool FUN_BATTLE_BIN__8019aa50(int param_1,uint param_2,int param_3)

{
  bool bVar1;
  uint uVar2;
  int iVar3;
  
  bVar1 = true;
  if ((UnitBattleData[param_1].field0_0x0.field_0x6 & 0x20) == 0) {
    uVar2 = param_2 - 5;
    if (0x12 < uVar2) {
      if (param_2 == UnitBattleData[param_1].field0_0x0.PrimarySkillset) {
        uVar2 = 0;
      }
      else {
        uVar2 = 0;
        if (param_2 != UnitBattleData[param_1].field0_0x0.SpecialSkillset) {
          return true;
        }
      }
    }
    iVar3 = param_3;
    if (param_3 < 0) {
      iVar3 = param_3 + 7;
    }
    bVar1 = ((uint)*(byte *)(uVar2 * 3 + param_1 * 0x1c0 + -0x7fe6f69b + (iVar3 >> 3)) &
            0x80 >> (param_3 + (iVar3 >> 3) * -8 & 0x1fU)) != 0;
  }
  return bVar1;
}



void FUN_BATTLE_BIN__8019ab08(undefined2 *param_1,undefined2 *param_2,int param_3)

{
  undefined2 uVar1;
  int iVar2;
  
  iVar2 = 0;
  if (0 < param_3 / 2) {
    do {
      uVar1 = *param_2;
      param_2 = param_2 + 1;
      iVar2 = iVar2 + 1;
      *param_1 = uVar1;
      param_1 = param_1 + 1;
    } while (iVar2 < param_3 / 2);
  }
  return;
}



void FUN_BATTLE_BIN__8019ab48(undefined *param_1,undefined *param_2,int param_3)

{
  undefined *puVar1;
  
  if (0 < param_3) {
    puVar1 = param_1 + param_3;
    do {
      *param_1 = *param_2;
      param_1 = param_1 + 1;
      param_2 = param_2 + 1;
    } while ((int)param_1 < (int)puVar1);
  }
  return;
}



void FUN_BATTLE_BIN__8019ab78(undefined4 *param_1,int param_2)

{
  int iVar1;
  
  if (param_2 < 0) {
    param_2 = param_2 + 3;
  }
  iVar1 = 0;
  if (0 < param_2 >> 2) {
    do {
      *param_1 = 0;
      iVar1 = iVar1 + 1;
      param_1 = param_1 + 1;
    } while (iVar1 < param_2 >> 2);
  }
  return;
}



uint FUN_BATTLE_BIN__8019abb4(void)

{
  bool bVar1;
  undefined3 extraout_var;
  undefined1 *puVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int *piVar6;
  uint unaff_s4;
  byte local_28;
  undefined local_27;
  char local_26;
  int local_20 [2];
  
  uVar3 = (uint)DAT_BATTLE_BIN__801a0bc3;
  if (uVar3 == 5) {
    uVar3 = 0;
    piVar6 = local_20;
    iVar5 = 0;
    FUN_BATTLE_BIN__8019f2a4((uint)DAT_BATTLE_BIN__801a01f2,(byte *)&DAT_BATTLE_BIN__801a01f4);
    do {
      local_28 = DAT_BATTLE_BIN__801a01f4 + (&DAT_BATTLE_BIN__8019f358)[iVar5];
      local_27 = 0;
      local_26 = DAT_BATTLE_BIN__801a01f6 + (&DAT_BATTLE_BIN__8019f359)[iVar5];
      bVar1 = FUN_BATTLE_BIN__8019ad74((byte *)&DAT_BATTLE_BIN__801a01f4,&local_28);
      if (CONCAT31(extraout_var,bVar1) == 0) {
        *(undefined *)piVar6 = 1;
        unaff_s4 = uVar3;
      }
      else {
        *(undefined *)piVar6 = 0;
      }
      piVar6 = (int *)((int)piVar6 + 1);
      uVar3 = uVar3 + 1;
      iVar5 = iVar5 + 2;
    } while ((int)uVar3 < 4);
    if (local_20[0] == 0) {
      local_20[0] = 0x1010101;
    }
    iVar5 = 0x14;
    puVar2 = &DAT_BATTLE_BIN__8019f3d8;
    do {
      puVar2[0xc8d] = 1;
      iVar5 = iVar5 + -1;
      puVar2 = puVar2 + -1;
    } while (-1 < iVar5);
    bVar1 = false;
    while( true ) {
      uVar4 = (uint)DAT_BATTLE_BIN__801a01f2;
      uVar3 = FUN_BATTLE_BIN__80199124(1);
      if (uVar4 == uVar3) {
        uVar3 = FUN_BATTLE_BIN__80199124(2);
        bVar1 = true;
      }
      FUN_BATTLE_BIN__8019f2a4(uVar3,&local_28);
      uVar4 = FUN_BATTLE_BIN__801978e4((char *)&local_28,&DAT_BATTLE_BIN__801a01f4);
      if (*(char *)((int)local_20 + uVar4) != '\0') {
        return uVar4;
      }
      if (bVar1) break;
      (&DAT_BATTLE_BIN__801a0051)[uVar3] = 0;
    }
    uVar4 = *(ushort *)(DAT_BATTLE_BIN__801a0bbc + 0x48) >> 8 & 0xf;
    uVar3 = unaff_s4;
    if (*(char *)((int)local_20 + uVar4) != '\0') {
      uVar3 = uVar4;
    }
  }
  return uVar3;
}



bool FUN_BATTLE_BIN__8019ad74(byte *param_1,byte *param_2)

{
  bool bVar1;
  int iVar2;
  uint uVar3;
  
  uVar3 = (uint)DAT_BATTLE_BIN__801a01fe;
  bVar1 = true;
  if (*param_2 < uVar3) {
    if (((uint)param_2[2] < (uint)DAT_BATTLE_BIN__801a01ff) &&
       (iVar2 = (param_2[2] * uVar3 + (uint)*param_2) * 8,
       ((&DAT_BATTLE_BIN__8018f8d2)[iVar2] & 1) == 0)) {
      bVar1 = 2 < (int)((uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar2] -
                       (uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)
                                   [((uint)param_1[1] * 0x100 + param_1[2] * uVar3 + (uint)*param_1)
                                    * 8]);
    }
    else {
      bVar1 = true;
    }
  }
  return bVar1;
}



void FUN_BATTLE_BIN__8019ae30(void)

{
  FUN_BATTLE_BIN__80195f6c((int)&DAT_BATTLE_BIN__801a0bc0);
  return;
}



void FUN_BATTLE_BIN__8019ae58(undefined param_1,undefined param_2,undefined param_3)

{
  int iVar1;
  undefined1 *puVar2;
  
  DAT_BATTLE_BIN__801a0038._0_2_ = CONCAT11(param_3,param_1);
  DAT_BATTLE_BIN__801a0038 = (uint)CONCAT12(param_2,(undefined2)DAT_BATTLE_BIN__801a0038);
  FUN_BATTLE_BIN__8019ae30();
  iVar1 = 0;
  puVar2 = &DAT_BATTLE_BIN__8019f3c4;
  while( true ) {
    if (puVar2[0x181c] == -1) {
      *(uint *)(puVar2 + 0x181c) = DAT_BATTLE_BIN__801a0038;
      return;
    }
    iVar1 = iVar1 + 1;
    if (*(uint *)(puVar2 + 0x181c) == DAT_BATTLE_BIN__801a0038) break;
    puVar2 = puVar2 + 4;
    if (3 < iVar1) {
      return;
    }
  }
  return;
}



bool FUN_BATTLE_BIN__8019aef0(void)

{
  int iVar1;
  
  iVar1 = VSync(1);
  return 0x144 < iVar1;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_BATTLE_BIN__8019af18(void)

{
  int iVar1;
  undefined1 *puVar2;
  int iVar3;
  uint uVar4;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
switchD_BATTLE_BIN__8019af6c_caseD_7:
    iVar3 = VSync(1);
    if (0x1b8 < iVar3) {
      DAT_BATTLE_BIN__801a0034 = 7;
      return 0xffffffff;
    }
    DAT_BATTLE_BIN__801a0d7b = '\0';
    if (-1 < (int)DAT_BATTLE_BIN__8019f3d0) {
      DAT_BATTLE_BIN__801a0d7b = 0;
      return 0;
    }
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x800) != 0) {
      uVar4 = (uint)DAT_BATTLE_BIN__801a0d7c;
      iVar1 = rand();
      iVar3 = iVar1;
      if (iVar1 < 0) {
        iVar3 = iVar1 + 0x7f;
      }
      if ((int)uVar4 < iVar1 + (iVar3 >> 7) * -0x80) {
        return 0;
      }
    }
    DAT_BATTLE_BIN__8019f3e1 = DAT_BATTLE_BIN__8019f3c4;
    DAT_BATTLE_BIN__8019f3e2 = DAT_BATTLE_BIN__8019f3c6;
    DAT_BATTLE_BIN__8019f3e8 = DAT_BATTLE_BIN__8019f3ca;
    puVar2 = &DAT_BATTLE_BIN__8019f3c4;
    iVar3 = 0;
    do {
      iVar1 = iVar3 + 1;
      puVar2[0xc8d] = puVar2[0xc78];
      puVar2 = &DAT_BATTLE_BIN__8019f3c5 + iVar3;
      iVar3 = iVar1;
    } while (iVar1 < 0x15);
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x8000) != 0) {
      DAT_BATTLE_BIN__8019f3ea = 6;
      DAT_BATTLE_BIN__8019f3eb = DAT_BATTLE_BIN__801a01f2;
      DAT_BATTLE_BIN__8019f3dc = (&DAT_BATTLE_BIN__801a0088)[DAT_BATTLE_BIN__801a01f1];
      FUN_BATTLE_BIN__8019bb20();
      if (ActionMenus[DAT_BATTLE_BIN__8019f3c4] == Math) {
switchD_BATTLE_BIN__8019af6c_caseD_6:
        iVar3 = FUN_BATTLE_BIN__8019bbbc();
        if (iVar3 != -1) {
          return 0;
        }
        DAT_BATTLE_BIN__801a0034 = 6;
        return 0xffffffff;
      }
      iVar3 = FUN_BATTLE_BIN__8019e540();
      if (iVar3 == 0) {
        return 0;
      }
switchD_BATTLE_BIN__8019af6c_caseD_8:
      iVar3 = FUN_BATTLE_BIN__80196ef4();
      if (iVar3 == -1) {
        DAT_BATTLE_BIN__801a0034 = 8;
        return 0xffffffff;
      }
      goto LAB_BATTLE_BIN__8019b2e0;
    }
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x4000) != 0) goto switchD_BATTLE_BIN__8019af6c_caseD_0;
LAB_BATTLE_BIN__8019b0d4:
    iVar3 = FUN_BATTLE_BIN__8019e540();
    if (iVar3 == 0) {
      return 0;
    }
    if ((&DAT_BATTLE_BIN__801a0051)[DAT_BATTLE_BIN__801a01f2] != '\0') {
switchD_BATTLE_BIN__8019af6c_caseD_1:
      iVar3 = FUN_BATTLE_BIN__8019b30c();
      if (iVar3 == -1) {
        DAT_BATTLE_BIN__801a0034 = 1;
        return 0xffffffff;
      }
    }
    DAT_BATTLE_BIN__801a0210 = FUN_BATTLE_BIN__8019e5d8((uint)DAT_BATTLE_BIN__801a01f2,1);
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x1000) != 0) {
      DAT_BATTLE_BIN__8019f3ea = 6;
      if ((DAT_BATTLE_BIN__8019f3d0 & 0x1000000) == 0) {
        puVar2 = &DAT_BATTLE_BIN__8019f3c4;
        iVar3 = 0;
        do {
          puVar2[0xca2] = puVar2[0xc8d];
          if ((puVar2[0xc8d] != '\0') && (iVar1 = FUN_BATTLE_BIN__8019f0d8(iVar3), iVar1 == 0)) {
            puVar2[0xc8d] = 0;
          }
          iVar1 = iVar3 + 1;
          puVar2 = &DAT_BATTLE_BIN__8019f3c5 + iVar3;
          iVar3 = iVar1;
        } while (iVar1 < 0x15);
        DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 | 0x2000000;
switchD_BATTLE_BIN__8019af6c_caseD_3:
        iVar3 = FUN_BATTLE_BIN__8019bf2c();
        if (iVar3 == -1) {
          DAT_BATTLE_BIN__801a0034 = 3;
          return 0xffffffff;
        }
        puVar2 = &DAT_BATTLE_BIN__8019f3c4;
        iVar3 = 0;
        do {
          if (puVar2[0xca2] != '\0') {
            iVar1 = FUN_BATTLE_BIN__8019f0d8(iVar3);
            if (iVar1 == 0) {
              puVar2[0xc8d] = 1;
            }
            else {
              puVar2[0xc8d] = 0;
            }
          }
          iVar1 = iVar3 + 1;
          puVar2 = &DAT_BATTLE_BIN__8019f3c5 + iVar3;
          iVar3 = iVar1;
        } while (iVar1 < 0x15);
        DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 & 0xfdffffff;
        goto switchD_BATTLE_BIN__8019af6c_caseD_4;
      }
      DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 | 0x2000000;
switchD_BATTLE_BIN__8019af6c_caseD_2:
      iVar3 = FUN_BATTLE_BIN__8019bf2c();
      if (iVar3 == -1) {
        DAT_BATTLE_BIN__801a0034 = 2;
        return 0xffffffff;
      }
LAB_BATTLE_BIN__8019b278:
      if (DAT_BATTLE_BIN__8019f3c9 == '\0') goto LAB_BATTLE_BIN__8019b2e0;
    }
    iVar3 = FUN_BATTLE_BIN__8019f01c();
    if (iVar3 == 0) goto LAB_BATTLE_BIN__8019b2e0;
    DAT_BATTLE_BIN__8019f3ea = 5;
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x1000000) != 0) {
      DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 | 0x2000000;
    }
  }
  else {
    switch(DAT_BATTLE_BIN__801a0034) {
    case 0:
switchD_BATTLE_BIN__8019af6c_caseD_0:
      iVar3 = FUN_BATTLE_BIN__8019b7b8();
      if (iVar3 == -1) {
        DAT_BATTLE_BIN__801a0034 = 0;
        return 0xffffffff;
      }
      goto LAB_BATTLE_BIN__8019b0d4;
    case 1:
      goto switchD_BATTLE_BIN__8019af6c_caseD_1;
    case 2:
      goto switchD_BATTLE_BIN__8019af6c_caseD_2;
    case 3:
      goto switchD_BATTLE_BIN__8019af6c_caseD_3;
    case 4:
switchD_BATTLE_BIN__8019af6c_caseD_4:
      iVar3 = FUN_BATTLE_BIN__8019bf2c();
      if (iVar3 == -1) {
        DAT_BATTLE_BIN__801a0034 = 4;
        return 0xffffffff;
      }
      puVar2 = &DAT_BATTLE_BIN__8019f3c4;
      iVar3 = 0;
      do {
        iVar1 = iVar3 + 1;
        puVar2[0xc8d] = puVar2[0xca2];
        puVar2 = &DAT_BATTLE_BIN__8019f3c5 + iVar3;
        iVar3 = iVar1;
      } while (iVar1 < 0x15);
      goto LAB_BATTLE_BIN__8019b278;
    case 6:
      goto switchD_BATTLE_BIN__8019af6c_caseD_6;
    case 7:
      goto switchD_BATTLE_BIN__8019af6c_caseD_7;
    case 8:
      goto switchD_BATTLE_BIN__8019af6c_caseD_8;
    }
  }
  iVar3 = FUN_BATTLE_BIN__8019bf2c();
  if (iVar3 == -1) {
    DAT_BATTLE_BIN__801a0034 = 5;
    return 0xffffffff;
  }
LAB_BATTLE_BIN__8019b2e0:
  FUN_BATTLE_BIN__80196fc4();
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_BATTLE_BIN__8019b30c(void)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 & 0xfdffffff;
    DAT_BATTLE_BIN__8019f3dc = (&DAT_BATTLE_BIN__801a0088)[DAT_BATTLE_BIN__801a01f1];
    FUN_BATTLE_BIN__8019bb20();
    if (((DAT_BATTLE_BIN__8019f3d0 & 0x1000) == 0) ||
       ((SecondaryAbilityData[DAT_BATTLE_BIN__8019f3c6].field_0x3 & 1) != 0))
    goto LAB_BATTLE_BIN__8019b420;
    DAT_BATTLE_BIN__8019f3d8 = 1;
    DAT_BATTLE_BIN__8019f3ea = '\x06';
    DAT_BATTLE_BIN__8019f3eb = DAT_BATTLE_BIN__801a01f2;
  }
  else if (DAT_BATTLE_BIN__8019f398 != 0) goto LAB_BATTLE_BIN__8019b478;
  iVar2 = FUN_BATTLE_BIN__80196ef4();
  if (iVar2 == -1) {
    DAT_BATTLE_BIN__8019f398 = 0;
    return 0xffffffff;
  }
LAB_BATTLE_BIN__8019b420:
  DAT_BATTLE_BIN__8019f3ea = '\x05';
  DAT_BATTLE_BIN__8019f398 = 0;
  DAT_BATTLE_BIN__8019f3d8 = 1;
  DAT_BATTLE_BIN__801a0038 = _DAT_BATTLE_BIN__801a01f4;
  while( true ) {
    iVar2 = 1;
    if (DAT_BATTLE_BIN__8019f3ea == '\x06') {
      iVar2 = 3;
    }
    FUN_BATTLE_BIN__8019c8ec(iVar2,0);
    FUN_BATTLE_BIN__8019ab08(&DAT_BATTLE_BIN__8019ffa0,&DAT_BATTLE_BIN__8019ff10,0x48);
    bVar1 = FUN_BATTLE_BIN__8019b4f4(&DAT_BATTLE_BIN__801a01f4);
    if (CONCAT31(extraout_var,bVar1) != 0) {
LAB_BATTLE_BIN__8019b478:
      iVar2 = FUN_BATTLE_BIN__8019cd9c();
      if (iVar2 == -1) {
        DAT_BATTLE_BIN__8019f398 = 1;
        return 0xffffffff;
      }
    }
    if (DAT_BATTLE_BIN__8019f398 != 0) break;
    DAT_BATTLE_BIN__801a0038 = DAT_BATTLE_BIN__8019f3dc;
    DAT_BATTLE_BIN__8019f3d8 = 0;
    DAT_BATTLE_BIN__8019f398 = DAT_BATTLE_BIN__8019f398 + 1;
  }
  FUN_BATTLE_BIN__8019f258(&DAT_BATTLE_BIN__801a01f4);
  FUN_BATTLE_BIN__80196fc4();
  return 0;
}



bool FUN_BATTLE_BIN__8019b4f4(byte *param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  JobID *pJVar4;
  int iVar5;
  int iVar6;
  
  if ((DAT_BATTLE_BIN__801a0d7d == '\0') ||
     (bVar1 = false,
     (byte)(&DAT_BATTLE_BIN__8018f8cf)
           [((uint)param_1[2] * (uint)DAT_BATTLE_BIN__801a01fe + (uint)*param_1 +
            (uint)param_1[1] * 0x100) * 8] >> 5 < 2)) {
    if (ActionMenus[DAT_BATTLE_BIN__8019f3c4] == Geomancy) {
      bVar1 = FUN_BATTLE_BIN__8019b754(param_1);
    }
    else {
      iVar6 = 0;
      if ((DAT_BATTLE_BIN__8019f3d0 & 0x8000000) == 0) {
        bVar1 = true;
      }
      else {
        iVar5 = 0;
        do {
          pJVar4 = &UnitBattleData[0].field0_0x0.BaseClass + iVar5;
          if (((((&UnitBattleData[0].field0_0x0.UnitID)[iVar5] != 0xff) &&
               ((UnitBattleData[0].field0_0x0.JobLevels[iVar5 + -0x40] & 0x80) != 0)) &&
              (((&UnitBattleData[0].field2_0x18c.field_0x2e)[iVar5] & 0x30) ==
               DAT_BATTLE_BIN__801a01fd)) && (iVar2 = Check_HasStatus((int)pJVar4,4), iVar2 == 0)) {
            iVar2 = (uint)(&UnitBattleData[0].field0_0x0.MapX)[iVar5] - (uint)*param_1;
            if (iVar2 < 0) {
              iVar2 = -iVar2;
            }
            iVar3 = (uint)(&UnitBattleData[0].field0_0x0.MapY)[iVar5] - (uint)param_1[2];
            if (iVar3 < 0) {
              iVar3 = -iVar3;
            }
            if ((iVar2 + iVar3 < 2) &&
               (iVar2 = FUN_BATTLE_BIN__8019b6b0(param_1,(int)pJVar4), iVar2 + 2U < 5)) {
              return true;
            }
          }
          iVar6 = iVar6 + 1;
          iVar5 = iVar5 + 0x1c0;
        } while (iVar6 < 0x15);
        bVar1 = false;
      }
    }
  }
  return bVar1;
}



int FUN_BATTLE_BIN__8019b6b0(byte *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = ((uint)(*(ushort *)(param_2 + 0x48) >> 0xf) * 0x100 +
           (uint)*(byte *)(param_2 + 0x48) * (uint)DAT_BATTLE_BIN__801a01fe +
          (uint)*(byte *)(param_2 + 0x47)) * 8;
  iVar2 = ((uint)param_1[1] * 0x100 + (uint)param_1[2] * (uint)DAT_BATTLE_BIN__801a01fe +
          (uint)*param_1) * 8;
  return (int)(((uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar1] * 2 +
               ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar1] & 0x1f)) -
              ((uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)[iVar2] * 2 +
              ((byte)(&DAT_BATTLE_BIN__8018f8cf)[iVar2] & 0x1f))) / 2;
}



bool FUN_BATTLE_BIN__8019b754(byte *param_1)

{
  return (byte)GeomancyAbilityTable
               [(byte)(&DAT_BATTLE_BIN__8018f8cc)
                      [((uint)param_1[1] * 0x100 + (uint)param_1[2] * (uint)DAT_BATTLE_BIN__801a01fe
                       + (uint)*param_1) * 8] & 0x3f] == DAT_BATTLE_BIN__8019f3c6;
}



undefined4 FUN_BATTLE_BIN__8019b7b8(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  uint uVar3;
  BattleUnitData *unaff_s2;
  
  if (DAT_BATTLE_BIN__801a0d7b != '\0') goto LAB_BATTLE_BIN__8019ba54;
  DAT_BATTLE_BIN__8019f3d9 = 1;
  DAT_BATTLE_BIN__801a020d = 0;
  DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 & 0xfdffffff;
  do {
    uVar3 = (uint)DAT_BATTLE_BIN__801a020d;
    unaff_s2 = UnitBattleData + uVar3;
    if (((((((&DAT_BATTLE_BIN__801a0bf7)[uVar3 * 0x10] & 0x10) == 0) &&
          (uVar3 != DAT_BATTLE_BIN__801a01f2)) &&
         (iVar2 = FUN_BATTLE_BIN__8019ef24((uint)DAT_BATTLE_BIN__8019f3c5,(int)unaff_s2,0x26),
         iVar2 != 0)) &&
        (iVar2 = FUN_BATTLE_BIN__8019f0d8((uint)DAT_BATTLE_BIN__801a020d), iVar2 == 0)) &&
       ((((&DAT_BATTLE_BIN__801a0bf7)[uVar3 * 0x10] & 0x20) == 0 ||
        (uVar3 = (uint)DAT_BATTLE_BIN__8019f3c5, iVar2 = FUN_BATTLE_BIN__80199c88((int)unaff_s2),
        (int)uVar3 <= iVar2)))) {
      DAT_BATTLE_BIN__8019f3ea = '\x05';
      FUN_BATTLE_BIN__8019f2a4((uint)DAT_BATTLE_BIN__801a020d,(byte *)&DAT_BATTLE_BIN__801a0038);
      iVar2 = 1;
      if (DAT_BATTLE_BIN__8019f3ea == '\x06') {
        iVar2 = 3;
      }
      FUN_BATTLE_BIN__8019c8ec(iVar2,0);
      FUN_BATTLE_BIN__8019ab08(&DAT_BATTLE_BIN__8019ffa0,&DAT_BATTLE_BIN__8019ff10,0x48);
      DAT_BATTLE_BIN__801a020e = 0;
      do {
        uVar3 = (uint)DAT_BATTLE_BIN__801a020e;
        if ((((&DAT_BATTLE_BIN__801a0051)[uVar3] != '\0') && (uVar3 != DAT_BATTLE_BIN__801a020d)) &&
           ((uVar3 != DAT_BATTLE_BIN__801a01f2 &&
            ((iVar2 = FUN_BATTLE_BIN__8019f0d8(uVar3), iVar2 == 0 &&
             (bVar1 = FUN_BATTLE_BIN__8019e5d8((uint)DAT_BATTLE_BIN__801a020e,0),
             CONCAT31(extraout_var,bVar1) == 1)))))) {
          DAT_BATTLE_BIN__8019f3dc._0_1_ =
               (unaff_s2->field0_0x0).MapX * '\x02' -
               UnitBattleData[DAT_BATTLE_BIN__801a020e].field0_0x0.MapX;
          DAT_BATTLE_BIN__8019f3dc._2_1_ =
               (unaff_s2->field0_0x0).MapY * '\x02' -
               UnitBattleData[DAT_BATTLE_BIN__801a020e].field0_0x0.MapY;
          if (((byte)DAT_BATTLE_BIN__8019f3dc < DAT_BATTLE_BIN__801a01fe) &&
             (DAT_BATTLE_BIN__8019f3dc._2_1_ < DAT_BATTLE_BIN__801a01ff)) {
            DAT_BATTLE_BIN__801a020f = 0;
            do {
              DAT_BATTLE_BIN__8019f3dc._1_1_ = DAT_BATTLE_BIN__801a020f;
              if (((uint)(ushort)(&DAT_BATTLE_BIN__8019fe38)
                                 [(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 +
                                  (uint)DAT_BATTLE_BIN__801a020f * 0x12 +
                                  (uint)DAT_BATTLE_BIN__8019f3dc._2_1_] <<
                   ((byte)DAT_BATTLE_BIN__8019f3dc & 0x1f) & 0x8000) != 0) {
                FUN_BATTLE_BIN__8019bb20();
                DAT_BATTLE_BIN__8019f3d8 = 1;
                DAT_BATTLE_BIN__801a029c = '\0';
                while( true ) {
                  bVar1 = FUN_BATTLE_BIN__8019b4f4(&DAT_BATTLE_BIN__801a01f4);
                  if (CONCAT31(extraout_var_00,bVar1) != 0) {
LAB_BATTLE_BIN__8019ba54:
                    iVar2 = FUN_BATTLE_BIN__8019cd9c();
                    if (iVar2 == -1) {
                      return 0xffffffff;
                    }
                  }
                  if (DAT_BATTLE_BIN__801a029c != '\0') break;
                  DAT_BATTLE_BIN__801a029c = '\x01';
                  DAT_BATTLE_BIN__8019f3d8 = 0;
                }
              }
              DAT_BATTLE_BIN__801a020f = DAT_BATTLE_BIN__801a020f + 1;
            } while (DAT_BATTLE_BIN__801a020f < 2);
          }
        }
        DAT_BATTLE_BIN__801a020e = DAT_BATTLE_BIN__801a020e + 1;
      } while (DAT_BATTLE_BIN__801a020e < 0x15);
    }
    DAT_BATTLE_BIN__801a020d = DAT_BATTLE_BIN__801a020d + 1;
  } while (DAT_BATTLE_BIN__801a020d < 0x15);
  FUN_BATTLE_BIN__8019f258(&DAT_BATTLE_BIN__801a01f4);
  DAT_BATTLE_BIN__8019f3d9 = 0;
  FUN_BATTLE_BIN__80196fc4();
  return 0;
}



void FUN_BATTLE_BIN__8019bb20(void)

{
  int iVar1;
  
  DAT_BATTLE_BIN__801a0083 = 0;
  iVar1 = FUN_BATTLE_BIN__8019d294((byte *)&DAT_BATTLE_BIN__8019f3dc);
  if ((iVar1 != 0x15) && (UnitBattleData[iVar1].field0_0x0.UnitID != 0xff)) {
    if ((*(byte *)&UnitBattleData[iVar1].field0_0x0.CurrentStatuses & 0x40) != 0) {
      DAT_BATTLE_BIN__801a0083 = 1;
    }
    if ((UnitBattleData[iVar1].field0_0x0.CurrentStatuses.field_0x1 & 1) != 0) {
      DAT_BATTLE_BIN__801a0083 = 2;
    }
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8019bbbc(void)

{
  byte bVar1;
  bool bVar2;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined1 *puVar3;
  int iVar4;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  int iVar5;
  undefined4 *puVar6;
  undefined4 local_20;
  undefined4 local_1c;
  undefined local_18;
  undefined local_17;
  undefined auStack_16 [6];
  
  local_20 = DAT_BATTLE_BIN__80193dd4;
  local_1c = DAT_BATTLE_BIN__80193dd8;
  local_18 = DAT_BATTLE_BIN__80193ddc;
  local_17 = DAT_BATTLE_BIN__80193ddd;
  if (DAT_BATTLE_BIN__801a0d7b != '\0') goto LAB_BATTLE_BIN__8019be58;
  bVar2 = FUN_BATTLE_BIN__8019b4f4(&DAT_BATTLE_BIN__801a01f4);
  if (CONCAT31(extraout_var,bVar2) != 0) {
    DAT_BATTLE_BIN__8019f3d8 = 1;
    DAT_BATTLE_BIN__8019f39c = 0;
    do {
      DAT_BATTLE_BIN__8019f3a4 = (uint)(byte)(&DAT_BATTLE_BIN__8019f360)[DAT_BATTLE_BIN__8019f39c];
      DAT_BATTLE_BIN__8019f3a8 = Store_SkillsetAbilities(DAT_BATTLE_BIN__8019f3a4,1);
      DAT_BATTLE_BIN__8019f3a0 = 0;
      do {
        DAT_BATTLE_BIN__801a02a1 = *(byte *)(DAT_BATTLE_BIN__8019f3a8 + DAT_BATTLE_BIN__8019f3a0);
        if (((DAT_BATTLE_BIN__801a02a1 != 0) &&
            ((SecondaryAbilityData[DAT_BATTLE_BIN__801a02a1].field_0x5 & 0x40) != 0)) &&
           (bVar2 = FUN_BATTLE_BIN__8019aa50
                              ((uint)DAT_BATTLE_BIN__801a01f2,DAT_BATTLE_BIN__8019f3a4,
                               DAT_BATTLE_BIN__8019f3a0), CONCAT31(extraout_var_00,bVar2) != 0)) {
          puVar6 = &local_20;
          do {
            bVar1 = *(byte *)puVar6;
            puVar6 = (undefined4 *)((int)puVar6 + 1);
            if (DAT_BATTLE_BIN__801a02a1 == bVar1) {
              FUN_BATTLE_BIN__8019aa50
                        ((uint)DAT_BATTLE_BIN__801a01f2,DAT_BATTLE_BIN__8019f3a4,
                         DAT_BATTLE_BIN__8019f3a0 + 1);
            }
          } while ((int)puVar6 < (int)auStack_16);
          FUN_BATTLE_BIN__8019ab08
                    ((undefined2 *)&DAT_BATTLE_BIN__8019f3d0,
                     (undefined2 *)&PrimaryAbilityData[DAT_BATTLE_BIN__801a02a1].field_0x4,4);
          FUN_BATTLE_BIN__8019ab48
                    (&DAT_BATTLE_BIN__8019f3cb,
                     (undefined *)
                     &InflictStatusList
                      [SecondaryAbilityData[DAT_BATTLE_BIN__801a02a1].InflictStatus].field4_0x1,5);
          DAT_BATTLE_BIN__8019f3d0._3_1_ = 0x80;
          DAT_BATTLE_BIN__8019f3e2 = (ushort)DAT_BATTLE_BIN__801a02a1;
          DAT_BATTLE_BIN__8019f3d4 = SecondaryAbilityData[DAT_BATTLE_BIN__801a02a1].Element;
          puVar3 = &DAT_BATTLE_BIN__8019f3c4;
          iVar4 = 0;
          do {
            iVar5 = iVar4 + 1;
            puVar3[0xc8d] = puVar3[0xc78];
            puVar3 = &DAT_BATTLE_BIN__8019f3c5 + iVar4;
            iVar4 = iVar5;
          } while (iVar5 < 0x15);
          iVar4 = FUN_BATTLE_BIN__8019e540();
          if (iVar4 != 0) {
            DAT_BATTLE_BIN__801a02a2 = 0;
            do {
              bVar2 = FUN_BATTLE_BIN__8019aa50
                                ((uint)DAT_BATTLE_BIN__801a01f2,(uint)DAT_BATTLE_BIN__8019f3c4,
                                 (uint)DAT_BATTLE_BIN__801a02a2);
              if (CONCAT31(extraout_var_01,bVar2) != 0) {
                DAT_BATTLE_BIN__801a02a3 = 4;
                DAT_BATTLE_BIN__8019f3e4 = DAT_BATTLE_BIN__801a02a2 + 0x19e;
                do {
                  bVar2 = FUN_BATTLE_BIN__8019aa50
                                    ((uint)DAT_BATTLE_BIN__801a01f2,(uint)DAT_BATTLE_BIN__8019f3c4,
                                     (uint)DAT_BATTLE_BIN__801a02a3);
                  if (CONCAT31(extraout_var_02,bVar2) != 0) {
                    DAT_BATTLE_BIN__8019f3e6 = DAT_BATTLE_BIN__801a02a3 + 0x19e;
LAB_BATTLE_BIN__8019be58:
                    iVar4 = FUN_BATTLE_BIN__8019d308();
                    if (iVar4 == -1) {
                      return 0xffffffff;
                    }
                  }
                  DAT_BATTLE_BIN__801a02a3 = DAT_BATTLE_BIN__801a02a3 + 1;
                } while (DAT_BATTLE_BIN__801a02a3 < 8);
              }
              DAT_BATTLE_BIN__801a02a2 = DAT_BATTLE_BIN__801a02a2 + 1;
            } while (DAT_BATTLE_BIN__801a02a2 < 4);
            FUN_BATTLE_BIN__80196fc4();
          }
        }
        DAT_BATTLE_BIN__8019f3a0 = DAT_BATTLE_BIN__8019f3a0 + 1;
      } while (DAT_BATTLE_BIN__8019f3a0 < 0x10);
      DAT_BATTLE_BIN__8019f39c = DAT_BATTLE_BIN__8019f39c + 1;
    } while (DAT_BATTLE_BIN__8019f39c < 4);
    FUN_BATTLE_BIN__8019f258(&DAT_BATTLE_BIN__801a01f4);
  }
  return 0;
}



undefined4 FUN_BATTLE_BIN__8019bf2c(void)

{
  undefined uVar1;
  char cVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  
  if (DAT_BATTLE_BIN__801a0d7b == '\0') {
    uVar1 = (&DAT_BATTLE_BIN__801a0051)[DAT_BATTLE_BIN__801a01f2];
    (&DAT_BATTLE_BIN__801a0051)[DAT_BATTLE_BIN__801a01f2] = 0;
    FUN_BATTLE_BIN__8019c3d4();
    (&DAT_BATTLE_BIN__801a0051)[DAT_BATTLE_BIN__801a01f2] = uVar1;
  }
  else if (DAT_BATTLE_BIN__801a029d != '\0') {
    if (DAT_BATTLE_BIN__801a029d == '\x01') goto LAB_BATTLE_BIN__8019c0bc;
    uVar5 = (uint)(ushort)(&DAT_BATTLE_BIN__8019ff58)
                          [(uint)DAT_BATTLE_BIN__801a029f + (uint)DAT_BATTLE_BIN__801a02a0 * 0x12];
    goto LAB_BATTLE_BIN__8019c164;
  }
  iVar3 = VSync(1);
  if (iVar3 < 0x1b9) {
    DAT_BATTLE_BIN__801a0d7b = '\0';
    DAT_BATTLE_BIN__801a0211 = (DAT_BATTLE_BIN__8019f3d0 & 0x4000000) == 0;
    if ((bool)DAT_BATTLE_BIN__801a0211) {
      DAT_BATTLE_BIN__801a029e = DAT_BATTLE_BIN__801a007f * DAT_BATTLE_BIN__801a0080;
    }
    else {
      DAT_BATTLE_BIN__801a0078 = DAT_BATTLE_BIN__801a0078 & 0xfdffffff;
    }
    if (((DAT_BATTLE_BIN__801a0078 & 0x2000000) != 0) || ((bool)DAT_BATTLE_BIN__801a0211)) {
      do {
        if ((DAT_BATTLE_BIN__801a007f == '\0') || (DAT_BATTLE_BIN__801a0080 == '\0'))
        goto LAB_BATTLE_BIN__8019c1e8;
        FUN_BATTLE_BIN__8019c280();
        FUN_BATTLE_BIN__8019c20c();
LAB_BATTLE_BIN__8019c0bc:
        iVar3 = FUN_BATTLE_BIN__8019cd9c();
        cVar2 = '\x01';
      } while (iVar3 != -1);
LAB_BATTLE_BIN__8019c020:
      uVar4 = 0xffffffff;
      DAT_BATTLE_BIN__801a029d = cVar2;
    }
    else {
      DAT_BATTLE_BIN__801a02a0 = 0;
      do {
        DAT_BATTLE_BIN__801a029f = 0;
        if (DAT_BATTLE_BIN__801a01ff != 0) {
          do {
            uVar5 = (uint)(ushort)(&DAT_BATTLE_BIN__8019ff58)
                                  [(uint)DAT_BATTLE_BIN__801a029f +
                                   (uint)DAT_BATTLE_BIN__801a02a0 * 0x12];
            if ((uVar5 != 0) && (DAT_BATTLE_BIN__801a029e = 0, DAT_BATTLE_BIN__801a01fe != 0)) {
              do {
                if ((uVar5 << (DAT_BATTLE_BIN__801a029e & 0x1f) & 0x8000) != 0) {
                  DAT_BATTLE_BIN__8019f3dc._0_1_ = DAT_BATTLE_BIN__801a029e;
                  DAT_BATTLE_BIN__8019f3dc._2_1_ = DAT_BATTLE_BIN__801a029f;
                  DAT_BATTLE_BIN__8019f3dc._1_1_ = DAT_BATTLE_BIN__801a02a0;
                  FUN_BATTLE_BIN__8019c20c();
LAB_BATTLE_BIN__8019c164:
                  iVar3 = FUN_BATTLE_BIN__8019cd9c();
                  cVar2 = '\x02';
                  if (iVar3 == -1) goto LAB_BATTLE_BIN__8019c020;
                }
                DAT_BATTLE_BIN__801a029e = DAT_BATTLE_BIN__801a029e + 1;
              } while (DAT_BATTLE_BIN__801a029e < DAT_BATTLE_BIN__801a01fe);
            }
            DAT_BATTLE_BIN__801a029f = DAT_BATTLE_BIN__801a029f + 1;
          } while (DAT_BATTLE_BIN__801a029f < DAT_BATTLE_BIN__801a01ff);
        }
        DAT_BATTLE_BIN__801a02a0 = DAT_BATTLE_BIN__801a02a0 + 1;
      } while (DAT_BATTLE_BIN__801a02a0 < 2);
LAB_BATTLE_BIN__8019c1e8:
      FUN_BATTLE_BIN__8019f258(&DAT_BATTLE_BIN__801a01f4);
      uVar4 = 0;
    }
  }
  else {
    DAT_BATTLE_BIN__801a029d = '\0';
    uVar4 = 0xffffffff;
  }
  return uVar4;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8019c20c(void)

{
  DAT_BATTLE_BIN__8019f3d8 = DAT_BATTLE_BIN__8019f3dc == _DAT_BATTLE_BIN__801a01f4;
  if ((bool)DAT_BATTLE_BIN__8019f3d8) {
    DAT_BATTLE_BIN__8019f3dc = (&DAT_BATTLE_BIN__801a0088)[DAT_BATTLE_BIN__801a01f1];
  }
  FUN_BATTLE_BIN__8019bb20();
  return;
}



void FUN_BATTLE_BIN__8019c280(void)

{
  byte *pbVar1;
  int iVar2;
  uint uVar3;
  short *psVar4;
  int iVar5;
  undefined1 *puVar6;
  ushort *puVar7;
  short *psVar8;
  int iVar9;
  int iVar10;
  undefined1 *puVar11;
  int iVar12;
  
  iVar10 = 0x7fffffff;
  iVar9 = 0;
  iVar12 = 0;
  puVar6 = &DAT_BATTLE_BIN__8019f3c4;
  puVar11 = puVar6;
  do {
    iVar5 = 0;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      psVar8 = (short *)(puVar11 + 0x5f4);
      puVar7 = (ushort *)(puVar6 + 0xb94);
      do {
        if ((*puVar7 != 0) && (uVar3 = 0, DAT_BATTLE_BIN__801a01fe != 0)) {
          pbVar1 = &DAT_BATTLE_BIN__8019f538 + iVar5 * 0x10 + iVar12;
          psVar4 = psVar8;
          do {
            if ((((uint)*puVar7 << (uVar3 & 0x1f) & 0x8000) != 0) &&
               (iVar2 = *psVar4 * 0x10000 + (uint)*pbVar1, iVar2 <= iVar10)) {
              DAT_BATTLE_BIN__8019f3dc._0_1_ = (byte)uVar3;
              DAT_BATTLE_BIN__8019f3dc._2_1_ = (byte)iVar5;
              DAT_BATTLE_BIN__8019f3dc._1_1_ = (byte)iVar9;
              iVar10 = iVar2;
            }
            pbVar1 = pbVar1 + 1;
            uVar3 = uVar3 + 1;
            psVar4 = psVar4 + 1;
          } while ((int)uVar3 < (int)(uint)DAT_BATTLE_BIN__801a01fe);
        }
        psVar8 = psVar8 + 0x10;
        iVar5 = iVar5 + 1;
        puVar7 = puVar7 + 1;
      } while (iVar5 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    iVar12 = iVar12 + 0x120;
    puVar11 = puVar11 + 0x240;
    iVar9 = iVar9 + 1;
    puVar6 = puVar6 + 0x24;
  } while (iVar9 < 2);
  (&DAT_BATTLE_BIN__8019ff58)
  [(uint)DAT_BATTLE_BIN__8019f3dc._1_1_ * 0x12 + (uint)DAT_BATTLE_BIN__8019f3dc._2_1_] =
       (&DAT_BATTLE_BIN__8019ff58)
       [(uint)DAT_BATTLE_BIN__8019f3dc._1_1_ * 0x12 + (uint)DAT_BATTLE_BIN__8019f3dc._2_1_] ^
       (ushort)(0x8000 >> ((byte)DAT_BATTLE_BIN__8019f3dc & 0x1f));
  DAT_BATTLE_BIN__801a0080 = DAT_BATTLE_BIN__801a0080 + -1;
  return;
}



void FUN_BATTLE_BIN__8019c3d4(void)

{
  ushort uVar1;
  ushort uVar2;
  bool bVar3;
  uint uVar4;
  undefined3 extraout_var;
  undefined1 *puVar5;
  uint uVar6;
  int iVar7;
  ushort *puVar8;
  ushort *puVar9;
  BattleUnitData *pBVar10;
  uint uVar11;
  int iVar12;
  uint uVar13;
  undefined1 *puVar14;
  
  iVar12 = 0;
  puVar14 = &DAT_BATTLE_BIN__8019f3c4;
  puVar5 = puVar14;
  do {
    *(undefined2 *)(puVar5 + 0xbdc) = 0;
    *(undefined2 *)(puVar5 + 0xc00) = 0;
    iVar12 = iVar12 + 1;
    puVar5 = puVar5 + 2;
  } while (iVar12 < 0x12);
  if ((DAT_BATTLE_BIN__8019f3d0 & 0x800000) == 0) {
    puVar5 = &DAT_BATTLE_BIN__8019f3c4;
    iVar12 = 0;
    do {
      if (puVar5[0xc8d] != '\0') {
        FUN_BATTLE_BIN__8019f2a4(iVar12,(byte *)&DAT_BATTLE_BIN__801a0038);
        iVar7 = 2;
        if (DAT_BATTLE_BIN__8019f3ea == '\x06') {
          iVar7 = 0;
        }
        FUN_BATTLE_BIN__8019c8ec(iVar7,0);
        iVar7 = 0;
        puVar5 = puVar14;
        if (DAT_BATTLE_BIN__801a01ff != 0) {
          do {
            iVar7 = iVar7 + 1;
            *(ushort *)(puVar5 + 0xbdc) = *(ushort *)(puVar5 + 0xbdc) | *(ushort *)(puVar5 + 0xb4c);
            *(ushort *)(puVar5 + 0xc00) = *(ushort *)(puVar5 + 0xc00) | *(ushort *)(puVar5 + 0xb70);
            puVar5 = puVar5 + 2;
          } while (iVar7 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
        }
      }
      iVar7 = iVar12 + 1;
      puVar5 = &DAT_BATTLE_BIN__8019f3c5 + iVar12;
      iVar12 = iVar7;
    } while (iVar7 < 0x15);
    iVar12 = 0;
    puVar5 = puVar14;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      do {
        *(ushort *)(puVar5 + 0xb94) =
             (&DAT_BATTLE_BIN__8019fe38)[(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + iVar12] &
             *(ushort *)(puVar5 + 0xbdc);
        uVar2 = (&DAT_BATTLE_BIN__8019fe5c)[(uint)DAT_BATTLE_BIN__801a01f1 * 0x24 + iVar12];
        uVar1 = *(ushort *)(puVar5 + 0xc00);
        iVar12 = iVar12 + 1;
        *(undefined2 *)(puVar5 + 0xbdc) = 0;
        *(undefined2 *)(puVar5 + 0xc00) = 0;
        *(ushort *)(puVar5 + 3000) = uVar2 & uVar1;
        puVar5 = puVar5 + 2;
      } while (iVar12 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    iVar12 = 0;
    puVar5 = puVar14;
    do {
      iVar7 = 0;
      if (DAT_BATTLE_BIN__801a01ff != 0) {
        puVar8 = (ushort *)(puVar5 + 0xb94);
        do {
          uVar13 = (uint)*puVar8;
          if (uVar13 != 0) {
            uVar6 = (uint)DAT_BATTLE_BIN__801a01fe;
            uVar11 = 0;
            uVar4 = uVar13;
            if (uVar6 != 0) {
              do {
                if ((uVar4 & 0x8000) != 0) {
                  if ((DAT_BATTLE_BIN__801a0d7d == '\0') ||
                     ((byte)(&DAT_BATTLE_BIN__8018f8cf)
                            [(iVar7 * uVar6 + uVar11 + iVar12 * 0x100) * 8] >> 5 < 2)) {
                    if (ActionMenus[DAT_BATTLE_BIN__8019f3c4] == Geomancy) {
                      DAT_BATTLE_BIN__801a0038._0_1_ = (undefined)uVar11;
                      DAT_BATTLE_BIN__801a0038._2_1_ = (undefined)iVar7;
                      DAT_BATTLE_BIN__801a0038._1_1_ = (undefined)iVar12;
                      bVar3 = FUN_BATTLE_BIN__8019b754((byte *)&DAT_BATTLE_BIN__801a0038);
                      if (CONCAT31(extraout_var,bVar3) == 0) goto LAB_BATTLE_BIN__8019c658;
                    }
                  }
                  else {
LAB_BATTLE_BIN__8019c658:
                    *puVar8 = *puVar8 ^ (ushort)(0x8000 >> (uVar11 & 0x1f));
                  }
                }
                uVar6 = (uint)DAT_BATTLE_BIN__801a01fe;
                uVar11 = uVar11 + 1;
                uVar4 = uVar13 << (uVar11 & 0x1f);
              } while ((int)uVar11 < (int)uVar6);
            }
          }
          iVar7 = iVar7 + 1;
          puVar8 = puVar8 + 1;
        } while (iVar7 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
      }
      iVar12 = iVar12 + 1;
      puVar5 = puVar5 + 0x24;
    } while (iVar12 < 2);
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x8000000) != 0) {
      iVar12 = 0;
      FUN_BATTLE_BIN__8019cb94();
      puVar5 = puVar14;
      if (DAT_BATTLE_BIN__801a01ff != 0) {
        do {
          iVar12 = iVar12 + 1;
          *(ushort *)(puVar5 + 0xb94) = *(ushort *)(puVar5 + 0xb94) & *(ushort *)(puVar5 + 0xb4c);
          *(ushort *)(puVar5 + 3000) = *(ushort *)(puVar5 + 3000) & *(ushort *)(puVar5 + 0xb70);
          puVar5 = puVar5 + 2;
        } while (iVar12 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
      }
    }
  }
  else {
    FUN_BATTLE_BIN__8019ab08
              (&DAT_BATTLE_BIN__8019ff58,
               &DAT_BATTLE_BIN__8019fe38 + (uint)DAT_BATTLE_BIN__801a01f1 * 0x24,0x48);
  }
  iVar12 = 0;
  do {
    if ((&DAT_BATTLE_BIN__801a0051)[iVar12] != '\0') {
      FUN_BATTLE_BIN__8019f2a4(iVar12,(byte *)&DAT_BATTLE_BIN__801a0038);
      iVar7 = 1;
      if (DAT_BATTLE_BIN__8019f3ea == '\x06') {
        iVar7 = 3;
      }
      FUN_BATTLE_BIN__8019c8ec(iVar7,0);
      iVar7 = 0;
      puVar5 = puVar14;
      if (DAT_BATTLE_BIN__801a01ff != 0) {
        do {
          iVar7 = iVar7 + 1;
          *(ushort *)(puVar5 + 0xbdc) = *(ushort *)(puVar5 + 0xbdc) | *(ushort *)(puVar5 + 0xb4c);
          *(ushort *)(puVar5 + 0xc00) = *(ushort *)(puVar5 + 0xc00) | *(ushort *)(puVar5 + 0xb70);
          puVar5 = puVar5 + 2;
        } while (iVar7 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
      }
    }
    iVar12 = iVar12 + 1;
  } while (iVar12 < 0x15);
  if ((DAT_BATTLE_BIN__8019f3d0 & 0x1000) != 0) {
    iVar12 = 0;
    pBVar10 = UnitBattleData;
    do {
      if (((&DAT_BATTLE_BIN__801a0051)[iVar12] != '\0') &&
         ((DAT_BATTLE_BIN__8019f3ea == '\x05' ||
          ((*(byte *)&(pBVar10->field0_0x0).CurrentStatuses & 4) != 0)))) {
        (&DAT_BATTLE_BIN__8019ffa0)
        [(uint)(*(ushort *)&(pBVar10->field0_0x0).MapY >> 0xf) * 0x12 +
         (uint)(pBVar10->field0_0x0).MapY] =
             (&DAT_BATTLE_BIN__8019ffa0)
             [(uint)(*(ushort *)&(pBVar10->field0_0x0).MapY >> 0xf) * 0x12 +
              (uint)(pBVar10->field0_0x0).MapY] ^
             (ushort)(0x8000 >> ((pBVar10->field0_0x0).MapX & 0x1f));
      }
      iVar12 = iVar12 + 1;
      pBVar10 = pBVar10 + 1;
    } while (iVar12 < 0x15);
  }
  iVar12 = 0;
  do {
    iVar7 = 0;
    if (DAT_BATTLE_BIN__801a01ff != 0) {
      puVar8 = (ushort *)(puVar14 + 0xbdc);
      puVar9 = (ushort *)(puVar14 + 0xc24);
      do {
        uVar2 = *puVar9;
        puVar9 = puVar9 + 1;
        iVar7 = iVar7 + 1;
        *puVar8 = *puVar8 & uVar2;
        puVar8 = puVar8 + 1;
      } while (iVar7 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    iVar12 = iVar12 + 1;
    puVar14 = puVar14 + 0x24;
  } while (iVar12 < 2);
  iVar12 = FUN_BATTLE_BIN__80197c68(&DAT_BATTLE_BIN__8019ffa0);
  DAT_BATTLE_BIN__801a007f = (undefined)iVar12;
  iVar12 = FUN_BATTLE_BIN__80197c68(&DAT_BATTLE_BIN__8019ff58);
  DAT_BATTLE_BIN__801a0080 = (char)iVar12;
  return;
}



void FUN_BATTLE_BIN__8019c8ec(int param_1,uint param_2)

{
  bool bVar1;
  undefined2 *puVar2;
  int iVar3;
  short sVar4;
  uint uVar5;
  uint uVar6;
  undefined1 *puVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  
  puVar7 = &DAT_BATTLE_BIN__8019f3c4;
  if (param_1 == 1) {
    param_2 = (uint)DAT_BATTLE_BIN__8019f3c9;
    bVar1 = param_2 < 0x10;
  }
  else if (param_1 < 2) {
    bVar1 = (int)param_2 < 0x10;
    if (param_1 == 0) {
      param_2 = (uint)DAT_BATTLE_BIN__8019f3c8;
      bVar1 = param_2 < 0x10;
    }
  }
  else {
    bVar1 = (int)param_2 < 0x10;
    if (param_1 == 2) {
      param_2 = (uint)DAT_BATTLE_BIN__8019f3c8 + (uint)DAT_BATTLE_BIN__8019f3c9;
      bVar1 = param_2 < 0x10;
    }
  }
  iVar8 = 0x11;
  if (bVar1) {
    puVar2 = &DAT_BATTLE_BIN__8019f3e6;
    do {
      puVar2[0x5a6] = 0;
      iVar8 = iVar8 + -1;
      puVar2 = puVar2 + -1;
    } while (-1 < iVar8);
    uVar10 = (uint)DAT_BATTLE_BIN__801a0038._2_1_;
    uVar5 = (uint)(byte)DAT_BATTLE_BIN__801a0038;
    iVar8 = 0;
    if (-1 < (int)param_2) {
      uVar9 = param_2;
      do {
        iVar3 = uVar10 - iVar8;
        if (iVar3 < 0) break;
        if (uVar5 < 8) {
          sVar4 = *(short *)(&DAT_BATTLE_BIN__8019f2f8 + uVar9 * 2) << (7 - uVar5 & 0x1f);
        }
        else {
          sVar4 = (short)((int)(uint)*(ushort *)(&DAT_BATTLE_BIN__8019f2f8 + uVar9 * 2) >>
                         (uVar5 - 7 & 0x1f));
        }
        (&DAT_BATTLE_BIN__8019ff10)[iVar3] = sVar4;
        iVar8 = iVar8 + 1;
        uVar9 = uVar9 - 1;
      } while (iVar8 <= (int)param_2);
    }
    iVar8 = 1;
    if (0 < (int)param_2) {
      uVar9 = param_2;
      do {
        uVar9 = uVar9 - 1;
        iVar3 = uVar10 + iVar8;
        if ((int)(uint)DAT_BATTLE_BIN__801a01ff <= iVar3) break;
        if (uVar5 < 8) {
          sVar4 = *(short *)(&DAT_BATTLE_BIN__8019f2f8 + uVar9 * 2) << (7 - uVar5 & 0x1f);
        }
        else {
          sVar4 = (short)((int)(uint)*(ushort *)(&DAT_BATTLE_BIN__8019f2f8 + uVar9 * 2) >>
                         (uVar5 - 7 & 0x1f));
        }
        (&DAT_BATTLE_BIN__8019ff10)[iVar3] = sVar4;
        iVar8 = iVar8 + 1;
      } while (iVar8 <= (int)param_2);
    }
    if (((DAT_BATTLE_BIN__8019f3d0 & 0x200000) != 0) && (uVar5 = 0, DAT_BATTLE_BIN__801a01ff != 0))
    {
      do {
        uVar10 = (uint)*(ushort *)(puVar7 + 0xb4c);
        if ((uVar10 != 0) && (uVar6 = 0, uVar9 = uVar10, DAT_BATTLE_BIN__801a01fe != 0)) {
          do {
            if ((((uVar9 & 0x8000) != 0) && (uVar6 != (byte)DAT_BATTLE_BIN__801a0038)) &&
               (uVar5 != DAT_BATTLE_BIN__801a0038._2_1_)) {
              *(ushort *)(puVar7 + 0xb4c) =
                   *(ushort *)(puVar7 + 0xb4c) ^ (ushort)(0x8000 >> (uVar6 & 0x1f));
            }
            uVar6 = uVar6 + 1;
            uVar9 = uVar10 << (uVar6 & 0x1f);
          } while ((int)uVar6 < (int)(uint)DAT_BATTLE_BIN__801a01fe);
        }
        uVar5 = uVar5 + 1;
        puVar7 = puVar7 + 2;
      } while ((int)uVar5 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
    }
    FUN_BATTLE_BIN__8019ab08(&DAT_BATTLE_BIN__8019ff34,&DAT_BATTLE_BIN__8019ff10,0x24);
  }
  else {
    iVar8 = 0;
    do {
      *(undefined2 *)(puVar7 + 0xb4c) = 0xffff;
      *(undefined2 *)(puVar7 + 0xb70) = 0xffff;
      iVar8 = iVar8 + 1;
      puVar7 = puVar7 + 2;
    } while (iVar8 < 0x12);
  }
  return;
}



void FUN_BATTLE_BIN__8019cb94(void)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  undefined1 *puVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  
  iVar5 = 0;
  puVar4 = &DAT_BATTLE_BIN__8019f3c4;
  do {
    *(undefined2 *)(puVar4 + 0xb4c) = 0;
    *(undefined2 *)(puVar4 + 0xb70) = 0;
    iVar5 = iVar5 + 1;
    puVar4 = puVar4 + 2;
  } while (iVar5 < 0x12);
  iVar9 = 0;
  iVar5 = 0;
  do {
    if (((((&UnitBattleData[0].field0_0x0.UnitID)[iVar5] != 0xff) &&
         ((UnitBattleData[0].field0_0x0.JobLevels[iVar5 + -0x40] & 0x80) != 0)) &&
        (((&UnitBattleData[0].field2_0x18c.field_0x2e)[iVar5] & 0x30) == DAT_BATTLE_BIN__801a01fd))
       && (iVar2 = Check_HasStatus((int)(&UnitBattleData[0].field0_0x0.BaseClass + iVar5),4),
          iVar2 == 0)) {
      iVar2 = 0;
      bVar1 = (&DAT_BATTLE_BIN__8018f8ce)
              [((uint)(*(ushort *)(&UnitBattleData[0].field0_0x0.MapY + iVar5) >> 0xf) * 0x100 +
                (uint)(&UnitBattleData[0].field0_0x0.MapY)[iVar5] * (uint)DAT_BATTLE_BIN__801a01fe +
               (uint)(&UnitBattleData[0].field0_0x0.MapX)[iVar5]) * 8];
      do {
        uVar8 = (uint)(&UnitBattleData[0].field0_0x0.MapX)[iVar5] +
                (uint)(byte)(&DAT_BATTLE_BIN__8019f358)[iVar2];
        if ((uVar8 < DAT_BATTLE_BIN__801a01fe) &&
           (uVar7 = (uint)(&UnitBattleData[0].field0_0x0.MapY)[iVar5] +
                    (uint)(byte)(&DAT_BATTLE_BIN__8019f359)[iVar2], uVar7 < DAT_BATTLE_BIN__801a01ff
           )) {
          iVar6 = 0;
          puVar4 = &DAT_BATTLE_BIN__8019f3c4;
          do {
            iVar3 = iVar6 * 0x100;
            iVar6 = iVar6 + 1;
            if (((uint)(byte)(&DAT_BATTLE_BIN__8018f8ce)
                             [(iVar3 + uVar7 * DAT_BATTLE_BIN__801a01fe + uVar8) * 8] - (uint)bVar1)
                + 2 < 5) {
              *(ushort *)(puVar4 + uVar7 * 2 + 0xb4c) =
                   *(ushort *)(puVar4 + uVar7 * 2 + 0xb4c) | (ushort)(0x8000 >> (uVar8 & 0x1f));
            }
            puVar4 = puVar4 + 0x24;
          } while (iVar6 < 1);
        }
        iVar2 = iVar2 + 2;
      } while (iVar2 < 8);
    }
    iVar9 = iVar9 + 1;
    iVar5 = iVar5 + 0x1c0;
  } while (iVar9 < 0x15);
  return;
}



undefined4 FUN_BATTLE_BIN__8019cd9c(void)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  byte *pbVar4;
  ushort *puVar5;
  ushort *puVar6;
  uint uVar7;
  undefined4 *puVar8;
  undefined1 *puVar9;
  uint uVar10;
  int iVar11;
  uint uVar12;
  uint uVar13;
  
  puVar9 = &DAT_BATTLE_BIN__8019f3c4;
  if ((DAT_BATTLE_BIN__801a0d7b == '\0') || (DAT_BATTLE_BIN__801a0036 == '\0')) {
    iVar1 = VSync(1);
    uVar2 = 0xffffffff;
    if (iVar1 < 0x1b9) {
      DAT_BATTLE_BIN__801a0d7b = '\0';
      if (DAT_BATTLE_BIN__8019f3d8 == '\0') {
        puVar8 = &DAT_BATTLE_BIN__8019f3dc;
      }
      else {
        puVar8 = (undefined4 *)&DAT_BATTLE_BIN__801a01f4;
      }
      FUN_BATTLE_BIN__8019f258((undefined *)puVar8);
      iVar1 = 0;
      if (DAT_BATTLE_BIN__8019f3c8 == '\0') {
        pbVar4 = &DAT_BATTLE_BIN__8018f8d1;
        do {
          iVar1 = iVar1 + 1;
          *pbVar4 = *pbVar4 & 0xbf;
          pbVar4 = pbVar4 + 8;
        } while (iVar1 < 0x200);
        iVar1 = ((uint)*(byte *)((int)puVar8 + 2) * (uint)DAT_BATTLE_BIN__801a01fe +
                 (uint)*(byte *)puVar8 + (uint)*(byte *)((int)puVar8 + 1) * 0x100) * 8;
        (&DAT_BATTLE_BIN__8018f8d1)[iVar1] = (&DAT_BATTLE_BIN__8018f8d1)[iVar1] | 0x40;
      }
      else {
        uVar12 = FUN_BATTLE_BIN__8017a8c0((CurActionTargetData *)&DAT_BATTLE_BIN__8019f3e0);
        if (uVar12 == 3) {
          return 0;
        }
      }
      iVar1 = 0;
      do {
        iVar11 = 0;
        if (DAT_BATTLE_BIN__801a01ff != 0) {
          puVar5 = (ushort *)(puVar9 + 0xb4c);
          puVar6 = (ushort *)(puVar9 + 0xbdc);
          do {
            uVar12 = (uint)*puVar6;
            *puVar5 = 0;
            if (uVar12 != 0) {
              uVar7 = (uint)DAT_BATTLE_BIN__801a01fe;
              uVar10 = 0;
              uVar13 = uVar12;
              if (uVar7 != 0) {
                do {
                  if (((uVar13 & 0x8000) != 0) &&
                     (((byte)(&DAT_BATTLE_BIN__8018f8d1)
                             [(iVar11 * uVar7 + uVar10 + iVar1 * 0x100) * 8] >> 6 & 1) != 0)) {
                    *puVar5 = *puVar5 | (ushort)(0x8000 >> (uVar10 & 0x1f));
                  }
                  uVar7 = (uint)DAT_BATTLE_BIN__801a01fe;
                  uVar10 = uVar10 + 1;
                  uVar13 = uVar12 << (uVar10 & 0x1f);
                } while ((int)uVar10 < (int)uVar7);
              }
            }
            puVar5 = puVar5 + 1;
            iVar11 = iVar11 + 1;
            puVar6 = puVar6 + 1;
          } while (iVar11 < (int)(uint)DAT_BATTLE_BIN__801a01ff);
        }
        iVar1 = iVar1 + 1;
        puVar9 = puVar9 + 0x24;
      } while (iVar1 < 2);
      uVar12 = 0;
      goto LAB_BATTLE_BIN__8019cfe4;
    }
    DAT_BATTLE_BIN__801a0036 = '\0';
  }
  else {
    uVar7 = (uint)DAT_BATTLE_BIN__8019f3ec;
    uVar12 = (uint)DAT_BATTLE_BIN__8019f3ee;
    uVar10 = (uint)DAT_BATTLE_BIN__8019f3f0;
    uVar13 = (uint)(ushort)(&DAT_BATTLE_BIN__8019ff10)[uVar10 + uVar12 * 0x12];
LAB_BATTLE_BIN__8019d13c:
    iVar1 = FUN_BATTLE_BIN__8019d308();
    if (iVar1 == -1) {
      DAT_BATTLE_BIN__801a0036 = '\x01';
      uVar2 = 0xffffffff;
    }
    else {
      uVar2 = 0;
      if (DAT_BATTLE_BIN__801a0d80 != '\0') {
LAB_BATTLE_BIN__8019d160:
        if (DAT_BATTLE_BIN__801a0212 != '\0') {
          (&DAT_BATTLE_BIN__8019ffa0)[uVar12 * 0x12 + uVar10] =
               (&DAT_BATTLE_BIN__8019ffa0)[uVar12 * 0x12 + uVar10] ^
               (ushort)(0x8000 >> (uVar7 & 0x1f));
          DAT_BATTLE_BIN__801a007f = DAT_BATTLE_BIN__801a007f + -1;
          if (DAT_BATTLE_BIN__801a007f == '\0') goto LAB_BATTLE_BIN__8019d1d0;
        }
LAB_BATTLE_BIN__8019d1bc:
        do {
          uVar7 = uVar7 + 1;
          uVar3 = uVar13 << (uVar7 & 0x1f);
          if ((int)(uint)DAT_BATTLE_BIN__801a01fe <= (int)uVar7) {
LAB_BATTLE_BIN__8019d1d0:
            do {
              uVar10 = uVar10 + 1;
              if ((int)(uint)DAT_BATTLE_BIN__801a01ff <= (int)uVar10) {
                do {
                  uVar12 = uVar12 + 1;
                  if (1 < (int)uVar12) {
                    return 0;
                  }
LAB_BATTLE_BIN__8019cfe4:
                  uVar10 = 0;
                } while (DAT_BATTLE_BIN__801a01ff == 0);
              }
              uVar3 = (uint)(ushort)(&DAT_BATTLE_BIN__8019ff10)[uVar10 + uVar12 * 0x12];
            } while ((uVar3 == 0) || (uVar7 = 0, uVar13 = uVar3, DAT_BATTLE_BIN__801a01fe == 0));
          }
        } while ((uVar3 & 0x8000) == 0);
        DAT_BATTLE_BIN__8019f3ec = (ushort)uVar7;
        DAT_BATTLE_BIN__8019f3f0 = (ushort)uVar10;
        DAT_BATTLE_BIN__8019f3ee = (ushort)uVar12;
        if ((DAT_BATTLE_BIN__8019f3ea == '\x06') || ((DAT_BATTLE_BIN__8019f3d0 & 0xc00000) != 0)) {
          uVar3 = FUN_BATTLE_BIN__8019d218();
          DAT_BATTLE_BIN__8019f3eb = (byte)uVar3;
          if ((uVar3 & 0xff) == 0x15) goto LAB_BATTLE_BIN__8019d160;
        }
        if ((DAT_BATTLE_BIN__8019f3d0 & 0x800000) == 0) {
          if (((DAT_BATTLE_BIN__8019f3d0 & 0x400000) != 0) &&
             ((ActionMenus[DAT_BATTLE_BIN__8019f3c4] != Item ||
              (iVar1 = FUN_BATTLE_BIN__8019936c
                                 (DAT_BATTLE_BIN__801a0bbc,
                                  (int)(UnitBattleData + DAT_BATTLE_BIN__8019f3eb)), 1 < iVar1)))) {
            iVar1 = FUN_BATTLE_BIN__801b06d0
                              ((uint)DAT_BATTLE_BIN__801a01f2,(uint)DAT_BATTLE_BIN__8019f3eb);
            goto LAB_BATTLE_BIN__8019d114;
          }
          goto LAB_BATTLE_BIN__8019d11c;
        }
        iVar1 = FUN_BATTLE_BIN__801afd90
                          ((uint)DAT_BATTLE_BIN__801a01f2,(uint)DAT_BATTLE_BIN__8019f3eb);
LAB_BATTLE_BIN__8019d114:
        if (iVar1 != 0) {
LAB_BATTLE_BIN__8019d11c:
          if ((DAT_BATTLE_BIN__801a0078 & 0x2000000) == 0) {
            DAT_BATTLE_BIN__801a0212 = '\0';
          }
          else {
            DAT_BATTLE_BIN__801a0212 = '\x01';
          }
          goto LAB_BATTLE_BIN__8019d13c;
        }
        goto LAB_BATTLE_BIN__8019d1bc;
      }
    }
  }
  return uVar2;
}



int FUN_BATTLE_BIN__8019d218(void)

{
  BattleUnitData *pBVar1;
  int iVar2;
  
  iVar2 = 0;
  pBVar1 = UnitBattleData;
  while (((((pBVar1->field0_0x0).UnitID == 0xff ||
           ((pBVar1->field0_0x0).MapX != DAT_BATTLE_BIN__8019f3ec)) ||
          ((pBVar1->field0_0x0).MapY != DAT_BATTLE_BIN__8019f3f0)) ||
         (*(ushort *)&(pBVar1->field0_0x0).MapY >> 0xf != DAT_BATTLE_BIN__8019f3ee))) {
    iVar2 = iVar2 + 1;
    pBVar1 = pBVar1 + 1;
    if (0x14 < iVar2) {
      return iVar2;
    }
  }
  return iVar2;
}



int FUN_BATTLE_BIN__8019d294(byte *param_1)

{
  BattleUnitData *pBVar1;
  int iVar2;
  
  iVar2 = 0;
  pBVar1 = UnitBattleData;
  while (((((pBVar1->field0_0x0).UnitID == 0xff || ((pBVar1->field0_0x0).MapX != *param_1)) ||
          ((pBVar1->field0_0x0).MapY != param_1[2])) ||
         (*(ushort *)&(pBVar1->field0_0x0).MapY >> 0xf != (ushort)param_1[1]))) {
    iVar2 = iVar2 + 1;
    pBVar1 = pBVar1 + 1;
    if (0x14 < iVar2) {
      return iVar2;
    }
  }
  return iVar2;
}



undefined4 FUN_BATTLE_BIN__8019d308(void)

{
  bool bVar1;
  int iVar2;
  undefined4 uVar3;
  undefined3 extraout_var;
  
  iVar2 = FUN_BATTLE_BIN__8019d37c();
  uVar3 = 0xffffffff;
  if (iVar2 != -1) {
    if ((iVar2 != 0) &&
       (bVar1 = FUN_BATTLE_BIN__80196e20
                          ((int)&DAT_BATTLE_BIN__8019f3d8,(int)&DAT_BATTLE_BIN__8019f3f8),
       CONCAT31(extraout_var,bVar1) != 0)) {
      FUN_BATTLE_BIN__8019ab08
                ((undefined2 *)&DAT_BATTLE_BIN__8019f3f8,(undefined2 *)&DAT_BATTLE_BIN__8019f3d8,
                 0x20);
    }
    uVar3 = 0;
  }
  return uVar3;
}



// WARNING: Removing unreachable block (ram,0x8019da2c)

undefined4 FUN_BATTLE_BIN__8019d37c(void)

{
  byte bVar1;
  int iVar2;
  undefined1 *puVar3;
  uint uVar4;
  int iVar5;
  JobID *pJVar6;
  BattleUnitData *pBVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  short sVar12;
  JobID *pJVar13;
  undefined1 *puVar14;
  int iVar15;
  
  puVar14 = &DAT_BATTLE_BIN__8019f3c4;
  if ((DAT_BATTLE_BIN__801a0d7b == '\0') || (DAT_BATTLE_BIN__801a02b2 == '\0')) {
LAB_BATTLE_BIN__8019d3dc:
    iVar2 = VSync(1);
    if (0x1b8 < iVar2) {
      DAT_BATTLE_BIN__801a02b2 = 0;
      return 0xffffffff;
    }
    FUN_BATTLE_BIN__8019e160(0);
    DAT_BATTLE_BIN__801a0d80 = 0;
    iVar2 = 0x14;
    puVar3 = &DAT_BATTLE_BIN__8019f3d8;
    do {
      puVar3[0xe18] = 0;
      iVar2 = iVar2 + -1;
      puVar3 = puVar3 + -1;
    } while (-1 < iVar2);
    DAT_BATTLE_BIN__8019f3f6 = 0;
    DAT_BATTLE_BIN__8019f3f5 = 0xff;
    if (DAT_BATTLE_BIN__8019f3d8 == '\0') {
      FUN_BATTLE_BIN__8019db80();
      if (DAT_BATTLE_BIN__8019f3e1 != '\0') {
        if (DAT_BATTLE_BIN__8019f3e1 == '\x02') goto LAB_BATTLE_BIN__8019d4f0;
        uVar4 = FUN_BATTLE_BIN__8017c3dc((CurActionTargetData *)&DAT_BATTLE_BIN__8019f3e0);
        if ((uVar4 == 1) &&
           (iVar2 = FUN_BATTLE_BIN__8019dcbc(&DAT_BATTLE_BIN__8019f3e0), iVar2 == 0))
        goto LAB_BATTLE_BIN__8019db54;
        *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x188) = 1;
      }
LAB_BATTLE_BIN__8019d4e4:
      if (DAT_BATTLE_BIN__8019f3e1 == '\x02') goto LAB_BATTLE_BIN__8019d4f0;
    }
    else {
      if (DAT_BATTLE_BIN__8019f3e1 == '\0') goto LAB_BATTLE_BIN__8019d4e4;
      if (DAT_BATTLE_BIN__8019f3e1 != '\x02') {
        uVar4 = FUN_BATTLE_BIN__8017c3dc((CurActionTargetData *)&DAT_BATTLE_BIN__8019f3e0);
        if ((uVar4 == 1) &&
           (iVar2 = FUN_BATTLE_BIN__8019dcbc(&DAT_BATTLE_BIN__8019f3e0), iVar2 == 0))
        goto LAB_BATTLE_BIN__8019db54;
        *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x188) = 1;
        FUN_BATTLE_BIN__8019db80();
        goto LAB_BATTLE_BIN__8019d4e4;
      }
LAB_BATTLE_BIN__8019d4f0:
      FUN_BATTLE_BIN__80183e00((uint)DAT_BATTLE_BIN__801a01f2);
      DAT_BATTLE_BIN__8019f3f5 = 100;
      *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x188) = 1;
    }
    if (DAT_BATTLE_BIN__8019f3e1 == '\0') {
      DAT_BATTLE_BIN__8019f3f5 = 100;
    }
    FUN_BATTLE_BIN__80183c6c((uint)DAT_BATTLE_BIN__801a01f2);
    DAT_BATTLE_BIN__801a02b0 = 0;
    DAT_BATTLE_BIN__801a02a4 = DAT_BATTLE_BIN__8018f518;
    DAT_BATTLE_BIN__801a02a8 = DAT_BATTLE_BIN__8018f51c;
    DAT_BATTLE_BIN__801a02ac = DAT_BATTLE_BIN__8018f520;
LAB_BATTLE_BIN__8019d558:
    do {
      iVar2 = VSync(1);
      if (0x138 < iVar2) {
        FUN_BATTLE_BIN__8019e160(1);
        DAT_BATTLE_BIN__801a02b2 = 1;
        return 0xffffffff;
      }
      DAT_BATTLE_BIN__801a02b0 = DAT_BATTLE_BIN__801a02b0 + 1;
      if (0xff < DAT_BATTLE_BIN__801a02b0) break;
      uVar4 = FUN_BATTLE_BIN__801827f0(0);
      uVar8 = uVar4 & 0xff00;
      uVar4 = uVar4 & 0xff;
      if (uVar8 == 0xff00) break;
      if (uVar8 == 0x300) {
        FUN_BATTLE_BIN__8018be08(uVar4);
      }
      else if (uVar8 == 0x200) {
        iVar2 = FUN_BATTLE_BIN__8019dcbc(&UnitBattleData[uVar4].field1_0x16e.AttackerID);
        if (iVar2 == 0) {
          DAT_BATTLE_BIN__8018f518 = DAT_BATTLE_BIN__801a02a4;
          DAT_BATTLE_BIN__8018f51c = DAT_BATTLE_BIN__801a02a8;
          DAT_BATTLE_BIN__8018f520 = DAT_BATTLE_BIN__801a02ac;
          goto LAB_BATTLE_BIN__8019db54;
        }
        UnitBattleData[uVar4].field0_0x0.CurAbCT = 0xff;
        bVar1 = *(byte *)&UnitBattleData[uVar4].field2_0x18c.FinalInflictStatus;
        *(byte *)&UnitBattleData[uVar4].field0_0x0.CurrentStatuses =
             *(byte *)&UnitBattleData[uVar4].field0_0x0.CurrentStatuses & 0xf6;
        *(byte *)&UnitBattleData[uVar4].field2_0x18c.FinalInflictStatus = bVar1 & 0xf6;
      }
      else if (uVar8 == 0x100) {
        iVar2 = FUN_BATTLE_BIN__8019f15c(0,uVar4);
        if (iVar2 != 0) {
          (&DAT_BATTLE_BIN__801a01dc)[uVar4] = 1;
        }
        UnitBattleData[uVar4].field1_0x16e.CurrentATUnit = 0;
      }
      iVar2 = 0;
      pBVar7 = UnitBattleData;
      do {
        if (((pBVar7->field0_0x0).UnitID != 0xff) &&
           ((*(byte *)&(pBVar7->field0_0x0).CurrentStatuses & 9) != 0)) break;
        iVar2 = iVar2 + 1;
        pBVar7 = pBVar7 + 1;
      } while (iVar2 < 0x15);
    } while (iVar2 != 0x15);
    DAT_BATTLE_BIN__8018f518 = DAT_BATTLE_BIN__801a02a4;
    DAT_BATTLE_BIN__8018f51c = DAT_BATTLE_BIN__801a02a8;
    DAT_BATTLE_BIN__8018f520 = DAT_BATTLE_BIN__801a02ac;
  }
  else {
    FUN_BATTLE_BIN__8019e378(1);
    if (DAT_BATTLE_BIN__801a02b2 == '\x01') goto LAB_BATTLE_BIN__8019d558;
    if (DAT_BATTLE_BIN__801a02b2 != '\x02') goto LAB_BATTLE_BIN__8019d3dc;
  }
  iVar2 = VSync(1);
  if (0x1b8 < iVar2) {
    FUN_BATTLE_BIN__8019e160(1);
    DAT_BATTLE_BIN__801a02b2 = 2;
    return 0xffffffff;
  }
  iVar2 = 0;
  if ((DAT_BATTLE_BIN__801a0078 & 0x1000000) == 0) {
    FUN_BATTLE_BIN__8019dcac();
    iVar9 = 0;
    puVar3 = puVar14;
    do {
      iVar10 = 0;
      if (puVar3[0x198c] != -1) {
        pJVar13 = &UnitBattleData[0].field0_0x0.BaseClass + iVar9;
        iVar11 = 0;
        uVar4 = ((uint)*(ushort *)((int)&UnitBattleData[0].field0_0x0.HP + iVar9) << 7) /
                (uint)*(ushort *)((int)&UnitBattleData[0].field0_0x0.MaxHP + iVar9);
        do {
          iVar5 = iVar10;
          if (iVar10 < 0) {
            iVar5 = iVar10 + 7;
          }
          if ((((uint)pJVar13[(iVar5 >> 3) + 0x58] << (iVar10 + (iVar5 >> 3) * -8 & 0x1fU) & 0x80)
               == 0) ||
             (((iVar5 = (int)*(short *)((int)&DAT_BATTLE_BIN__8019f308 + iVar11),
               (UnitBattleData[0].field0_0x0.JobLevels[iVar9 + -0x79] & 0x14) != 0 ||
               ((UnitBattleData[0].field0_0x0.JobLevels[iVar9 + -0x76] & 0x20) != 0)) &&
              (-1 < iVar5)))) goto LAB_BATTLE_BIN__8019d97c;
          switch(iVar10) {
          case 10:
            bVar1 = puVar14[0x1839];
            goto LAB_BATTLE_BIN__8019d904;
          case 0xb:
          case 0xd:
          case 0x22:
            if (((UnitBattleData[0].field0_0x0.JobLevels[iVar9 + -0x77] & 6) != 0) ||
               ((UnitBattleData[0].field0_0x0.JobLevels[iVar9 + -0x76] & 0x1c) != 0)) {
              iVar5 = iVar5 / 2;
            }
            break;
          case 0xc:
            bVar1 = puVar14[0x1838];
LAB_BATTLE_BIN__8019d904:
            iVar15 = iVar5 * (uint)bVar1;
            iVar5 = iVar15 >> 2;
            if (iVar15 < 0) {
              iVar5 = iVar15 + 3 >> 2;
            }
            break;
          case 0x1d:
          case 0x1e:
          case 0x23:
          case 0x24:
          case 0x25:
            if (((UnitBattleData[0].field0_0x0.JobLevels[iVar9 + -0x79] & 0x14) != 0) ||
               ((UnitBattleData[0].field0_0x0.JobLevels[iVar9 + -0x76] & 0x20) != 0))
            goto LAB_BATTLE_BIN__8019d97c;
          }
          uVar4 = uVar4 + iVar5;
LAB_BATTLE_BIN__8019d97c:
          sVar12 = (short)uVar4;
          iVar10 = iVar10 + 1;
          iVar11 = iVar11 + 2;
        } while (iVar10 < 0x28);
        if (((&UnitBattleData[0].field0_0x0.field_0x6)[iVar9] & 0x20) == 0) {
          iVar10 = 0;
          pJVar6 = pJVar13;
          do {
            iVar11 = (uint)(byte)puVar3[0x198c] * 0x40 + DAT_BATTLE_BIN__8019f3c0 + iVar10;
            iVar10 = iVar10 + 1;
            if (pJVar6[0x1a] == *(ItemID *)(iVar11 + 0x36)) {
              uVar4 = uVar4 + 0x33;
            }
            sVar12 = (short)uVar4;
            pJVar6 = pJVar13 + iVar10;
          } while (iVar10 < 7);
        }
        uVar4 = (uint)*(ushort *)((int)&UnitBattleData[0].field0_0x0.MaxMP + iVar9);
        if (uVar4 != 0) {
          uVar8 = (uint)*(ushort *)((int)&UnitBattleData[0].field0_0x0.MP + iVar9);
          uVar4 = (uVar8 << 6) / uVar4;
          if (uVar8 < (byte)puVar14[0x1836]) {
            uVar4 = uVar4 >> 1;
          }
          sVar12 = sVar12 + (short)((int)(uVar4 * (byte)puVar14[0x1837]) >> 2);
        }
        uVar4 = (byte)(&UnitBattleData[0].field0_0x0.field_0x5)[iVar9] >> 3 & 6;
        sVar12 = sVar12 + (short)(((uint)*(ushort *)(&DAT_BATTLE_BIN__8018f5f4 + uVar4) << 7) /
                                 (uint)DAT_BATTLE_BIN__801a01db);
        if ((uint)*(ushort *)(&DAT_BATTLE_BIN__8018f5f4 + uVar4) <
            (uint)*(ushort *)(&DAT_BATTLE_BIN__801a0200 + uVar4)) {
          sVar12 = sVar12 + -1;
        }
        if (puVar14[0x1834] != '\0') {
          sVar12 = -sVar12;
        }
        DAT_BATTLE_BIN__8019f3f6 = DAT_BATTLE_BIN__8019f3f6 + sVar12;
      }
      puVar14 = puVar14 + 0x10;
      puVar3 = puVar3 + 1;
      iVar2 = iVar2 + 1;
      iVar9 = iVar9 + 0x1c0;
      if (0x14 < iVar2) {
        if (((ActionMenus[DAT_BATTLE_BIN__8019f3c4] == Throw) && (DAT_BATTLE_BIN__8019f3c6 != 0x17e)
            ) && (DAT_BATTLE_BIN__8019f3c6 != 0x189)) {
          DAT_BATTLE_BIN__8019f3f5 = DAT_BATTLE_BIN__8019f3f5 >> 1;
        }
        FUN_BATTLE_BIN__8019e378(0);
        DAT_BATTLE_BIN__801a0d7b = 0;
        return 1;
      }
    } while( true );
  }
  iVar10 = 0;
  iVar9 = 0x182c;
  do {
    bVar1 = (&DAT_BATTLE_BIN__8019f3c8)[iVar9];
    (&DAT_BATTLE_BIN__8019f3c8)[iVar9] = bVar1 & 0xf8;
    if (((UnitBattleData[0].field0_0x0.JobLevels[iVar10 + -0x7a] & 0x20) != 0) &&
       ((UnitBattleData[0].field0_0x0.JobLevels[iVar10 + -0x78] & 0x20) == 0)) {
      (&DAT_BATTLE_BIN__8019f3c8)[iVar9] = bVar1 & 0xf8 | 1;
    }
    if ((UnitBattleData[0].field0_0x0.JobLevels[iVar10 + -0x79] & 0x80) != 0) {
      (&DAT_BATTLE_BIN__8019f3c8)[iVar9] = (&DAT_BATTLE_BIN__8019f3c8)[iVar9] | 2;
    }
    if ((UnitBattleData[0].field0_0x0.JobLevels[iVar10 + -0x7a] & 4) != 0) {
      (&DAT_BATTLE_BIN__8019f3c8)[iVar9] = (&DAT_BATTLE_BIN__8019f3c8)[iVar9] | 4;
    }
    if ((((((&DAT_BATTLE_BIN__8019f3c8)[iVar9] & 0x80) == 0) &&
         ((UnitBattleData[0].field0_0x0.JobLevels[iVar10 + -0x79] & 0x80) == 0)) &&
        (((UnitBattleData[0].field0_0x0.JobLevels[iVar10 + -0x7a] & 0x20) == 0 ||
         ((UnitBattleData[0].field0_0x0.JobLevels[iVar10 + -0x78] & 0x20) != 0)))) &&
       ((UnitBattleData[0].field0_0x0.JobLevels[iVar10 + -0x76] & 1) == 0)) {
      (&DAT_BATTLE_BIN__8019f3c8)[iVar9] = (&DAT_BATTLE_BIN__8019f3c8)[iVar9] | 0x80;
    }
    iVar10 = iVar10 + 0x1c0;
    iVar2 = iVar2 + 1;
    iVar9 = iVar9 + 0x10;
  } while (iVar2 < 0x15);
LAB_BATTLE_BIN__8019db54:
  FUN_BATTLE_BIN__8019e378(0);
  DAT_BATTLE_BIN__801a0d7b = 0;
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__8019db80(void)

{
  if (DAT_BATTLE_BIN__8019f3dc != _DAT_BATTLE_BIN__801a01f4) {
    FUN_BATTLE_BIN__8019f258((undefined *)&DAT_BATTLE_BIN__8019f3dc);
    if (DAT_BATTLE_BIN__801a0083 == '\x01') {
      *(undefined2 *)(DAT_BATTLE_BIN__801a0bbc + 0x28) =
           *(undefined2 *)(DAT_BATTLE_BIN__801a0bbc + 0x2a);
      *(undefined2 *)(DAT_BATTLE_BIN__801a0bbc + 0x2c) =
           *(undefined2 *)(DAT_BATTLE_BIN__801a0bbc + 0x2e);
      *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5a) = *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5a) & 0xfe
      ;
      *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1bd) =
           *(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x1bd) & 0xfe;
    }
    if (((DAT_BATTLE_BIN__801a0083 != '\0') &&
        ((*(byte *)(DAT_BATTLE_BIN__801a0bbc + 0x5a) & 1) == 0)) &&
       (DAT_BATTLE_BIN__801a0d7a != '\x11')) {
      DAT_BATTLE_BIN__8019f3f6 = DAT_BATTLE_BIN__8019f3f6 + 2;
    }
    *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x187) = 1;
  }
  return;
}



void FUN_BATTLE_BIN__8019dcac(void)

{
  DAT_BATTLE_BIN__8019f3f4 = 0;
  return;
}



undefined4 FUN_BATTLE_BIN__8019dcbc(byte *param_1)

{
  undefined4 uVar1;
  uint uVar2;
  
  DAT_BATTLE_BIN__801a007e = 0xff;
  if ((*param_1 == DAT_BATTLE_BIN__801a01f2) &&
     (DAT_BATTLE_BIN__801a0d80 = 1, DAT_BATTLE_BIN__8019f3f5 == -1)) {
    DAT_BATTLE_BIN__801a007e = 0;
    DAT_BATTLE_BIN__801a007c = 0;
    DAT_BATTLE_BIN__801a0d7e = '\0';
  }
  FUN_BATTLE_BIN__8019dd8c(param_1,0);
  uVar2 = (uint)DAT_BATTLE_BIN__801a007e;
  uVar1 = 1;
  if (uVar2 != 0xff) {
    if ((DAT_BATTLE_BIN__801a0d7e == '\0') || (uVar2 == 0)) {
      uVar1 = 0;
    }
    else {
      DAT_BATTLE_BIN__8019f3f5 = (char)(DAT_BATTLE_BIN__801a007c / uVar2);
      uVar1 = 1;
    }
  }
  return uVar1;
}



void FUN_BATTLE_BIN__8019dd8c(byte *param_1,int param_2)

{
  byte bVar1;
  short sVar2;
  short sVar3;
  int iVar4;
  uint uVar5;
  undefined *puVar6;
  int unaff_s6;
  short unaff_s7;
  short unaff_s8;
  undefined uStack_60;
  char local_5f;
  byte local_5e [22];
  char local_48;
  int local_38 [2];
  int local_30;
  
  local_30 = param_2;
  if ((param_2 != 0) || (iVar4 = FUN_BATTLE_BIN__8017c9b8((uint)*param_1), iVar4 == 0)) {
    sVar2 = *(short *)(param_1 + 2);
    puVar6 = &PrimaryAbilityData[sVar2].field_0x4;
    if (DAT_BATTLE_BIN__801a007e != -1) {
      unaff_s6 = 0;
      unaff_s8 = 0;
      unaff_s7 = 1;
      if ((*puVar6 & 8) != 0) {
        unaff_s8 = 3;
        unaff_s7 = 4;
      }
    }
    do {
      iVar4 = FUN_BATTLE_BIN__8017ce44((uint)*param_1,&uStack_60);
      if ((iVar4 == 0) && (local_5f != '\0')) {
        local_38[0] = 0;
        bVar1 = local_5e[0];
        while (bVar1 != 0xff) {
          uVar5 = (uint)local_5e[local_38[0]];
          sVar3._0_1_ = UnitBattleData[uVar5].field2_0x18c.Hit_;
          sVar3._1_1_ = UnitBattleData[uVar5].field2_0x18c.field60_0x2b;
          if (sVar3 < 1) goto LAB_BATTLE_BIN__8019e024;
          if ((PrimaryAbilityData[sVar2].field_0x5 & 0x80) != 0) goto LAB_BATTLE_BIN__8019df1c;
          iVar4 = FUN_BATTLE_BIN__80196ce8(uVar5);
          if (iVar4 == 0) {
            if ((param_1[10] == 6) && ((&DAT_BATTLE_BIN__801a01dc)[param_1[0xb]] != '\0')) {
              if (param_1[0xb] == uVar5) {
LAB_BATTLE_BIN__8019df1c:
                FUN_BATTLE_BIN__8018be08(uVar5);
                if (DAT_BATTLE_BIN__801a007e != -1) {
                  sVar3 = unaff_s8;
                  if ((((*puVar6 & 2) == 0) || ((&DAT_BATTLE_BIN__801a0bf8)[uVar5 * 0x10] == '\0'))
                     && (((*puVar6 & 1) == 0 || ((&DAT_BATTLE_BIN__801a0bf8)[uVar5 * 0x10] != '\0'))
                        )) {
                    if ((((*puVar6 & 2) != 0) && ((&DAT_BATTLE_BIN__801a0bf8)[uVar5 * 0x10] == '\0')
                        ) || (((*puVar6 & 1) != 0 &&
                              ((&DAT_BATTLE_BIN__801a0bf8)[uVar5 * 0x10] != '\0')))) {
                      sVar3 = -unaff_s7;
                      goto LAB_BATTLE_BIN__8019dfdc;
                    }
                  }
                  else {
LAB_BATTLE_BIN__8019dfdc:
                    DAT_BATTLE_BIN__8019f3f6 = DAT_BATTLE_BIN__8019f3f6 + sVar3;
                  }
                  DAT_BATTLE_BIN__801a007e = DAT_BATTLE_BIN__801a007e + '\x01';
                  DAT_BATTLE_BIN__801a007c =
                       DAT_BATTLE_BIN__801a007c + *(short *)&UnitBattleData[uVar5].field2_0x18c.Hit_
                  ;
                  if (uVar5 == DAT_BATTLE_BIN__801a01f2) {
                    unaff_s6 = 1;
                  }
                  if ((&DAT_BATTLE_BIN__801a0051)[uVar5] != '\0') {
                    DAT_BATTLE_BIN__801a0d7e = 1;
                  }
                }
              }
            }
            else if (((*puVar6 & 1) != 0) || ((&DAT_BATTLE_BIN__801a01dc)[uVar5] == '\0'))
            goto LAB_BATTLE_BIN__8019df1c;
          }
LAB_BATTLE_BIN__8019e024:
          iVar4 = local_38[0];
          local_38[0] = local_38[0] + 1;
          bVar1 = local_5e[iVar4 + 1];
        }
      }
      FUN_BATTLE_BIN__8018d70c((uint)*param_1);
    } while (local_48 != '\0');
    if (((DAT_BATTLE_BIN__801a007e != -1) && (DAT_BATTLE_BIN__801a0211 != '\0')) &&
       (((DAT_BATTLE_BIN__801a0210 == '\x01' && (unaff_s6 != 0)) ||
        ((DAT_BATTLE_BIN__801a0210 == '\x02' && (unaff_s6 == 0)))))) {
      DAT_BATTLE_BIN__801a0212 = 1;
    }
    FUN_BATTLE_BIN__8017dbc8((int)(UnitBattleData + *param_1));
    if (local_30 == 0) {
      while (iVar4 = FUN_BATTLE_BIN__8017e178((AbilityID *)local_38), iVar4 != -1) {
        if ((&DAT_BATTLE_BIN__801a01dc)[iVar4] == '\0') {
          FUN_BATTLE_BIN__8019dd8c(&UnitBattleData[iVar4].field1_0x16e.AttackerID,1);
        }
      }
    }
  }
  return;
}



void FUN_BATTLE_BIN__8019e160(int param_1)

{
  byte *pbVar1;
  byte *pbVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  
  iVar4 = 0;
  iVar5 = 0;
  do {
    uVar3 = (uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[iVar4];
    if (uVar3 != 0xff) {
      if (param_1 == 0) {
        pbVar1 = (byte *)(uVar3 * 0x40 + DAT_BATTLE_BIN__8019f3c0);
      }
      else {
        pbVar1 = &DAT_BATTLE_BIN__801a0214 + uVar3 * 8;
      }
      pbVar2 = UnitBattleData[0].field0_0x0.JobLevels + iVar5 + -0x7a;
      *pbVar1 = (&UnitBattleData[0].field0_0x0.UnitID)[iVar5];
      pbVar1[1] = (&UnitBattleData[0].field0_0x0.DeathCounter)[iVar5];
      FUN_BATTLE_BIN__8019ab48(pbVar1 + 3,pbVar2,5);
      if (param_1 == 0) {
        pbVar1[0x18] = (&UnitBattleData[0].field0_0x0.field_0x5)[iVar5];
        FUN_BATTLE_BIN__8019ab48
                  (pbVar1 + 8,UnitBattleData[0].field0_0x0.JobLevels + iVar5 + -0x75,0x10);
        FUN_BATTLE_BIN__8019ab48(pbVar1 + 0x36,&UnitBattleData[0].field0_0x0.Head + iVar5,7);
        pbVar1[0x3d] = (&UnitBattleData[0].field0_0x0.Brave)[iVar5];
        FUN_BATTLE_BIN__8019ab48(pbVar1 + 0x19,&UnitBattleData[0].field0_0x0.Faith + iVar5,4);
        *(undefined2 *)(pbVar1 + 0x1e) =
             *(undefined2 *)((int)&UnitBattleData[0].field0_0x0.MP + iVar5);
        FUN_BATTLE_BIN__8019ab48(pbVar1 + 0x21,&UnitBattleData[0].field0_0x0.OriginalPA + iVar5,3);
        FUN_BATTLE_BIN__8019ab48(pbVar1 + 0x24,&UnitBattleData[0].field0_0x0.PA + iVar5,4);
        FUN_BATTLE_BIN__8019ab48(pbVar1 + 0x28,&UnitBattleData[0].field0_0x0.MapX + iVar5,3);
        pbVar1[0x20] = UnitBattleData[0].field0_0x0.SecondarySkillsetName[iVar5 + 9];
        FUN_BATTLE_BIN__8019ab48
                  (pbVar1 + 0x2b,&UnitBattleData[0].field1_0x16e.CurrentATUnit + iVar5,3);
        pbVar1[0x3e] = (&UnitBattleData[0].field1_0x16e.field_0x14)[iVar5];
        FUN_BATTLE_BIN__8019ab48(pbVar1 + 0x2e,&UnitBattleData[0].field2_0x18c.AutoBattle + iVar5,8)
        ;
        FUN_BATTLE_BIN__8019ab08
                  ((undefined2 *)(uVar3 * 0x14 + -0x7fe5ff68),
                   (undefined2 *)(&UnitBattleData[0].field1_0x16e.AttackerID + iVar5),0x14);
      }
      else {
        pbVar1[2] = UnitBattleData[0].field0_0x0.JobLevels[iVar5 + -0x66];
        pbVar1 = (byte *)(uVar3 * 0x40 + DAT_BATTLE_BIN__8019f3c0);
        (&UnitBattleData[0].field0_0x0.UnitID)[iVar5] = *pbVar1;
        (&UnitBattleData[0].field0_0x0.DeathCounter)[iVar5] = pbVar1[1];
        UnitBattleData[0].field0_0x0.JobLevels[iVar5 + -0x66] = pbVar1[0x17];
        FUN_BATTLE_BIN__8019ab48(pbVar2,pbVar1 + 3,5);
      }
    }
    iVar4 = iVar4 + 1;
    iVar5 = iVar5 + 0x1c0;
  } while (iVar4 < 0x15);
  if (param_1 == 0) {
    FUN_BATTLE_BIN__8019ab48(&DAT_BATTLE_BIN__801a0200,&DAT_BATTLE_BIN__8018f5f4,8);
  }
  return;
}



void FUN_BATTLE_BIN__8019e378(int param_1)

{
  byte *pbVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  
  iVar3 = 0;
  iVar4 = 0;
  do {
    uVar2 = (uint)(byte)(&DAT_BATTLE_BIN__801a0d50)[iVar3];
    if (uVar2 != 0xff) {
      if (param_1 == 0) {
        pbVar1 = (byte *)(uVar2 * 0x40 + DAT_BATTLE_BIN__8019f3c0);
      }
      else {
        pbVar1 = &DAT_BATTLE_BIN__801a0214 + uVar2 * 8;
      }
      (&UnitBattleData[0].field0_0x0.UnitID)[iVar4] = *pbVar1;
      (&UnitBattleData[0].field0_0x0.DeathCounter)[iVar4] = pbVar1[1];
      FUN_BATTLE_BIN__8019ab48(UnitBattleData[0].field0_0x0.JobLevels + iVar4 + -0x7a,pbVar1 + 3,5);
      if (param_1 == 0) {
        (&UnitBattleData[0].field0_0x0.field_0x5)[iVar4] = pbVar1[0x18];
        FUN_BATTLE_BIN__8019ab48
                  (UnitBattleData[0].field0_0x0.JobLevels + iVar4 + -0x75,pbVar1 + 8,0x10);
        FUN_BATTLE_BIN__8019ab48(&UnitBattleData[0].field0_0x0.Head + iVar4,pbVar1 + 0x36,7);
        (&UnitBattleData[0].field0_0x0.Brave)[iVar4] = pbVar1[0x3d];
        FUN_BATTLE_BIN__8019ab48(&UnitBattleData[0].field0_0x0.Faith + iVar4,pbVar1 + 0x19,4);
        *(undefined2 *)((int)&UnitBattleData[0].field0_0x0.MP + iVar4) =
             *(undefined2 *)(pbVar1 + 0x1e);
        FUN_BATTLE_BIN__8019ab48(&UnitBattleData[0].field0_0x0.OriginalPA + iVar4,pbVar1 + 0x21,3);
        FUN_BATTLE_BIN__8019ab48(&UnitBattleData[0].field0_0x0.PA + iVar4,pbVar1 + 0x24,4);
        FUN_BATTLE_BIN__8019ab48(&UnitBattleData[0].field0_0x0.MapX + iVar4,pbVar1 + 0x28,3);
        UnitBattleData[0].field0_0x0.SecondarySkillsetName[iVar4 + 9] = pbVar1[0x20];
        FUN_BATTLE_BIN__8019ab48
                  (&UnitBattleData[0].field1_0x16e.CurrentATUnit + iVar4,pbVar1 + 0x2b,3);
        (&UnitBattleData[0].field1_0x16e.field_0x14)[iVar4] = pbVar1[0x3e];
        FUN_BATTLE_BIN__8019ab48(&UnitBattleData[0].field2_0x18c.AutoBattle + iVar4,pbVar1 + 0x2e,8)
        ;
        FUN_BATTLE_BIN__8019ab08
                  ((undefined2 *)(&UnitBattleData[0].field1_0x16e.AttackerID + iVar4),
                   (undefined2 *)(uVar2 * 0x14 + -0x7fe5ff68),0x14);
      }
      else {
        UnitBattleData[0].field0_0x0.JobLevels[iVar4 + -0x66] = pbVar1[2];
      }
    }
    iVar3 = iVar3 + 1;
    iVar4 = iVar4 + 0x1c0;
  } while (iVar3 < 0x15);
  if (param_1 == 0) {
    FUN_BATTLE_BIN__8019ab48(&DAT_BATTLE_BIN__8018f5f4,&DAT_BATTLE_BIN__801a0200,8);
  }
  return;
}



undefined4 FUN_BATTLE_BIN__8019e540(void)

{
  bool bVar1;
  undefined3 extraout_var;
  uint uVar2;
  uint uVar3;
  undefined1 *puVar4;
  undefined4 uVar5;
  
  uVar5 = 0;
  puVar4 = &DAT_BATTLE_BIN__8019f3c4;
  uVar2 = 0;
  do {
    if (puVar4[0xc8d] != '\0') {
      bVar1 = FUN_BATTLE_BIN__8019e5d8(uVar2,1);
      if (CONCAT31(extraout_var,bVar1) == 1) {
        uVar5 = 1;
      }
      else {
        puVar4[0xc8d] = 0;
      }
    }
    uVar3 = uVar2 + 1;
    puVar4 = &DAT_BATTLE_BIN__8019f3c5 + uVar2;
    uVar2 = uVar3;
  } while ((int)uVar3 < 0x15);
  return uVar5;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_BATTLE_BIN__8019e5d8(uint param_1,int param_2)

{
  bool bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  undefined1 *puVar8;
  uint uVar9;
  uint uVar10;
  int iVar11;
  uint uVar12;
  int iVar13;
  BattleUnitData *pBVar14;
  
  pBVar14 = UnitBattleData + param_1;
  iVar5 = param_1 * 0x10;
  uVar9 = (uint)DAT_BATTLE_BIN__8019f3c5;
  if (((DAT_BATTLE_BIN__8019f3d0 & 0x20000000) != 0) && ((&DAT_BATTLE_BIN__801a0bf8)[iVar5] == '\0')
     ) {
    return false;
  }
  if (((DAT_BATTLE_BIN__8019f3d0 & 0x40000000) != 0) && ((&DAT_BATTLE_BIN__801a0bf8)[iVar5] != '\0')
     ) {
    return false;
  }
  if (((param_1 == DAT_BATTLE_BIN__801a01f2) && (DAT_BATTLE_BIN__8019f3c6 < 0x170)) &&
     ((SecondaryAbilityData[DAT_BATTLE_BIN__8019f3c6].field_0x4 & 1) != 0)) {
    return false;
  }
  if (((param_2 != 0) && ((DAT_BATTLE_BIN__8019f3d0 & 0x4000) != 0)) &&
     (iVar6 = FUN_BATTLE_BIN__8019ef24(uVar9,(int)pBVar14,0x26), iVar6 != 0)) {
    return false;
  }
  if (((DAT_BATTLE_BIN__8019f3d0 & 0x400) != 0) &&
     (iVar6 = FUN_BATTLE_BIN__8019ef24(uVar9,(int)pBVar14,0x21), iVar6 != 0)) {
    return false;
  }
  iVar6 = FUN_BATTLE_BIN__8019ef24(uVar9,(int)pBVar14,5);
  if (iVar6 != 0) {
    return false;
  }
  bVar1 = false;
  if ((DAT_BATTLE_BIN__8019f3d0 & 0x20) != 0) {
    bVar1 = (DAT_BATTLE_BIN__8019f3cb & 0x20) != 0;
  }
  if (((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 0x40) != 0) {
    uVar10 = (uint)DAT_BATTLE_BIN__8019f3c5;
    uVar7 = FUN_BATTLE_BIN__80199b98((int)pBVar14);
    if ((int)uVar10 < (int)uVar7) {
      return (bool)0;
    }
    if (bVar1) {
      return false;
    }
  }
  if (((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 0x20) != 0) {
    uVar7 = (uint)DAT_BATTLE_BIN__8019f3c5;
    iVar6 = FUN_BATTLE_BIN__80199c88((int)pBVar14);
    if (iVar6 < (int)uVar7) {
      return (bool)0;
    }
    if (!bVar1) {
      return false;
    }
  }
  if ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x1 & 0x80) != 0) {
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x20) == 0) {
      return false;
    }
    if ((_DAT_BATTLE_BIN__8019f3cc & 0x80) == 0) {
      return false;
    }
  }
  iVar6 = FUN_BATTLE_BIN__8019ef24(uVar9,(int)pBVar14,0x1f);
  if (iVar6 != 0) {
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x20) == 0) {
      return false;
    }
    if ((_DAT_BATTLE_BIN__8019f3cc & 0x10000) == 0) {
      return false;
    }
  }
  if ((DAT_BATTLE_BIN__8019f3d4 != 0) &&
     ((DAT_BATTLE_BIN__8019f3d4 ==
       (DAT_BATTLE_BIN__8019f3d4 & UnitBattleData[param_1].field0_0x0.NullElem) ||
      ((DAT_BATTLE_BIN__8019f3d4 == 8 &&
       ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x2 & 0x40) != 0)))))) {
    return false;
  }
  if ((DAT_BATTLE_BIN__8019f3d0 & 2) != 0) {
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x2000) == 0) {
      if ((&DAT_BATTLE_BIN__801a0bf8)[iVar5] == '\0') {
        iVar6 = FUN_BATTLE_BIN__8019ef24(uVar9,(int)pBVar14,0x22);
        if (iVar6 != 0) {
          iVar6 = FUN_BATTLE_BIN__8019efb0((int)pBVar14,0x22);
          bVar1 = true;
          if (iVar6 != 0) goto LAB_BATTLE_BIN__8019e934;
        }
        bVar1 = false;
LAB_BATTLE_BIN__8019e934:
        if (((DAT_BATTLE_BIN__8019f3d0 & 0x80) != 0) &&
           (ActionMenus[DAT_BATTLE_BIN__8019f3c4] != Aim)) {
          if ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x1 & 0x10) != 0) {
            return true;
          }
          iVar6 = FUN_BATTLE_BIN__8019ef24(uVar9,(int)pBVar14,0x23);
          if (iVar6 != 0) {
            return (bool)1;
          }
          if (bVar1) {
            return true;
          }
        }
        if (((UnitBattleData[param_1].field0_0x0.AbsorbElem & DAT_BATTLE_BIN__8019f3d4) != 0) &&
           (((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 1) != 0)) {
          return true;
        }
        if (((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x1 & 0x14) == 0) && (!bVar1)
           ) {
          return true;
        }
        if ((DAT_BATTLE_BIN__8019f3d0 & 0x10) == 0) {
          return true;
        }
        if ((_DAT_BATTLE_BIN__8019f3cc & 0x1c060000) == 0) {
          return true;
        }
        return true;
      }
      bVar2 = UnitBattleData[param_1].field0_0x0.AbsorbElem & DAT_BATTLE_BIN__8019f3d4;
LAB_BATTLE_BIN__8019e8fc:
      if (bVar2 != 0) {
        return true;
      }
    }
    else {
      if ((&DAT_BATTLE_BIN__801a0bf8)[iVar5] != '\0') {
        bVar2 = *(byte *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 0x10;
        goto LAB_BATTLE_BIN__8019e8fc;
      }
      if ((*(byte *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 0x10) == 0) {
        return (bool)2;
      }
    }
    if (((DAT_BATTLE_BIN__8019f3d0 & 0x80) != 0) &&
       ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x4 & 1) == 0)) {
      return true;
    }
    if (((DAT_BATTLE_BIN__8019f3d0 & 0x40) != 0) &&
       ((ushort)(byte)(&DAT_BATTLE_BIN__801a0bfa)[iVar5] <
        (ushort)UnitBattleData[param_1].field0_0x0.MP)) {
      return true;
    }
  }
  if ((DAT_BATTLE_BIN__8019f3d0 & 1) != 0) {
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x2000) == 0) {
      bVar2 = (&DAT_BATTLE_BIN__801a0bf8)[iVar5];
    }
    else {
      if ((&DAT_BATTLE_BIN__801a0bf8)[iVar5] != '\0') {
        if ((*(byte *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 0x10) != 0) {
          return true;
        }
        return true;
      }
      bVar2 = *(byte *)&UnitBattleData[param_1].field0_0x0.CurrentStatuses & 0x10;
    }
    if (bVar2 != 0) {
      return true;
    }
    if ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x4 & 1) != 0) {
      if ((DAT_BATTLE_BIN__8019f3d0 & 0x10) == 0) {
        return false;
      }
      uVar9 = _DAT_BATTLE_BIN__8019f3cc >> 8 & 0x20;
      goto LAB_BATTLE_BIN__8019eeec;
    }
    if (((DAT_BATTLE_BIN__8019f3d0 & 0x80) != 0) && (((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 1) != 0))
    {
      return true;
    }
    if (((DAT_BATTLE_BIN__8019f3d0 & 0x40) != 0) && (((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 2) != 0))
    {
      return true;
    }
  }
  if ((DAT_BATTLE_BIN__8019f3d0 & 3) == 0) {
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x80) != 0) {
      return true;
    }
    if ((DAT_BATTLE_BIN__8019f3d0 & 0x40) != 0) {
      return true;
    }
  }
  if ((DAT_BATTLE_BIN__8019f3d0 & 0x10) != 0) {
    puVar8 = &DAT_BATTLE_BIN__8019f3c4;
    iVar6 = 0;
    do {
      bVar2 = puVar8[7] ^ puVar8[7] & (pBVar14->field0_0x0).JobLevels[iVar6 + -0x7a];
      if ((bVar2 != 0) &&
         (bVar2 = bVar2 ^ bVar2 & (pBVar14->field0_0x0).JobLevels[iVar6 + -0x7f], bVar2 != 0)) {
        if (iVar6 == 2) {
          bVar3 = bVar2 & 2;
          if (((bVar2 & 0x20) != 0) &&
             (bVar3 = bVar2 & 2, ((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 1) == 0)) {
            bVar2 = bVar2 ^ 0x20;
            bVar3 = bVar2 & 2;
          }
          if ((bVar3 != 0) && ((&DAT_BATTLE_BIN__801a0bf8)[iVar5] == '\0')) {
            bVar2 = bVar2 ^ 2;
          }
          if (((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 0x80) == 0) {
            bVar2 = bVar2 & 0xbf;
          }
        }
        else if (iVar6 < 3) {
          if (iVar6 == 1) {
            bVar3 = bVar2 & 0x20;
            if (((bVar2 & 8) != 0) &&
               (bVar3 = bVar2 & 0x20, (&DAT_BATTLE_BIN__801a0bfc)[iVar5] == '\0')) {
              bVar2 = bVar2 ^ 8;
              bVar3 = bVar2 & 0x20;
            }
            if ((bVar3 != 0) && ((byte)(&DAT_BATTLE_BIN__801a0bfd)[iVar5] < 2)) {
              bVar2 = bVar2 ^ 0x20;
            }
          }
        }
        else if (iVar6 == 3) {
          if (((bVar2 & 0x40) != 0) && (((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 1) == 0)) {
            bVar2 = bVar2 ^ 0x40;
          }
          bVar3 = bVar2;
          if (((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 0x80) == 0) {
            bVar3 = bVar2 & 0xce;
          }
          bVar4 = bVar2 & 0xc;
          bVar2 = bVar3;
          if ((bVar4 != 0) &&
             (((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x3 & 2) != 0 ||
              ((UnitBattleData[param_1].field0_0x0.CurrentStatuses.field_0x4 & 0x10) != 0)))) {
            bVar2 = bVar3 & 0xf3;
          }
        }
        else if ((iVar6 == 4) && (((&DAT_BATTLE_BIN__801a0bf7)[iVar5] & 0x80) == 0)) {
          bVar2 = bVar2 & 0x7d;
        }
        if (bVar2 != 0) {
          return true;
        }
      }
      iVar13 = iVar6 + 1;
      puVar8 = &DAT_BATTLE_BIN__8019f3c5 + iVar6;
      iVar6 = iVar13;
    } while (iVar13 < 5);
  }
  if ((DAT_BATTLE_BIN__8019f3d0 & 0x20) != 0) {
    puVar8 = &DAT_BATTLE_BIN__8019f3c4;
    iVar6 = 0;
    do {
      bVar2 = puVar8[7] & (pBVar14->field0_0x0).JobLevels[iVar6 + -0x7a];
      if (bVar2 != 0) {
        uVar7 = (uint)(byte)(bVar2 ^ bVar2 & (&(pBVar14->field0_0x0).InnateStatuses.field_0x0)
                                             [iVar6]);
        if (uVar7 != 0) {
          if (2 < iVar6) {
            uVar10 = 0;
            do {
              uVar12 = 0x80 >> (uVar10 & 0x1f);
              if ((uVar7 & uVar12) != 0) {
                iVar11 = iVar6 * 8 + uVar10;
                iVar13 = FUN_BATTLE_BIN__8019ef24(uVar9,(int)pBVar14,iVar11);
                if ((iVar13 == 0) ||
                   (iVar13 = FUN_BATTLE_BIN__8019efb0((int)pBVar14,iVar11), iVar13 == 0)) {
                  uVar7 = uVar7 ^ uVar12;
                }
              }
              uVar10 = uVar10 + 1;
            } while ((int)uVar10 < 8);
          }
          if (iVar6 == 1) {
            uVar10 = uVar7 & 0x20;
            if (((uVar7 & 8) != 0) &&
               (uVar10 = uVar7 & 0x20, (&DAT_BATTLE_BIN__801a0bfc)[iVar5] == '\0')) {
              uVar7 = uVar7 ^ 8;
              uVar10 = uVar7 & 0x20;
            }
            if ((uVar10 != 0) && ((&DAT_BATTLE_BIN__801a0bfd)[iVar5] == '\0')) {
              uVar7 = uVar7 ^ 0x20;
            }
          }
          else if (((iVar6 == 2) && ((uVar7 & 2) != 0)) &&
                  ((&DAT_BATTLE_BIN__801a0bf8)[iVar5] != '\0')) {
            uVar7 = uVar7 ^ 2;
          }
          if (uVar7 != 0) {
            return true;
          }
        }
      }
      iVar13 = iVar6 + 1;
      puVar8 = &DAT_BATTLE_BIN__8019f3c5 + iVar6;
      iVar6 = iVar13;
    } while (iVar13 < 5);
  }
  if ((DAT_BATTLE_BIN__8019f3d0 & 8) != 0) {
    if (((DAT_BATTLE_BIN__8019f3c6 != 0x76) && (DAT_BATTLE_BIN__8019f3c6 != 0x92)) &&
       (DAT_BATTLE_BIN__8019f3c6 != 0x96)) {
      return true;
    }
    uVar9 = rand();
    if ((uVar9 & 1) == 0) {
      return true;
    }
  }
  uVar9 = DAT_BATTLE_BIN__8019f3d0 & 4;
LAB_BATTLE_BIN__8019eeec:
  return uVar9 != 0;
}



undefined4 FUN_BATTLE_BIN__8019ef24(int param_1,int param_2,int param_3)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  
  iVar2 = param_3;
  if (param_3 < 0) {
    iVar2 = param_3 + 7;
  }
  iVar4 = param_2 + (iVar2 >> 3);
  uVar3 = 0x80 >> (param_3 + (iVar2 >> 3) * -8 & 0x1fU);
  if ((*(byte *)(iVar4 + 0x58) & uVar3) != 0) {
    if (param_3 == 5) {
      bVar1 = *(byte *)(param_2 + 0x15d);
    }
    else {
      if (param_3 < 0x18) {
        return 1;
      }
      if ((*(byte *)(iVar4 + 0x4e) & uVar3) != 0) {
        return 1;
      }
      bVar1 = *(byte *)(param_2 + param_3 + 0x45);
    }
    if (param_1 <= (int)(uint)bVar1) {
      return 1;
    }
  }
  return 0;
}



undefined4 FUN_BATTLE_BIN__8019efb0(int param_1,int param_2)

{
  undefined4 uVar1;
  uint uVar2;
  
  if ((param_2 == 0x22) || (uVar1 = 1, param_2 - 0x24U < 2)) {
    uVar2 = FUN_BATTLE_BIN__80199b98(param_1);
    uVar1 = 0;
    if ((int)uVar2 <= (int)(uint)*(byte *)(param_1 + param_2 + 0x45)) {
      uVar1 = 1;
    }
  }
  return uVar1;
}



undefined4 FUN_BATTLE_BIN__8019f01c(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  undefined1 *puVar4;
  
  uVar3 = 0;
  iVar2 = 0;
  puVar4 = &DAT_BATTLE_BIN__8019f3c4;
  do {
    if ((&DAT_BATTLE_BIN__801a0051)[iVar2] != '\0') {
      if ((((DAT_BATTLE_BIN__8019f3d0 & 2) == 0) || (puVar4[0x1834] == '\0')) ||
         (iVar1 = FUN_BATTLE_BIN__8019f0d8(iVar2), iVar1 == 0)) {
        uVar3 = 1;
      }
      else {
        (&DAT_BATTLE_BIN__801a0051)[iVar2] = 0;
      }
    }
    iVar2 = iVar2 + 1;
    puVar4 = puVar4 + 0x10;
  } while (iVar2 < 0x15);
  return uVar3;
}



undefined4 FUN_BATTLE_BIN__8019f0d8(int param_1)

{
  uint uVar1;
  undefined4 uVar2;
  uint uVar3;
  
  uVar3 = (uint)DAT_BATTLE_BIN__8019f3c5;
  if (uVar3 != 0) {
    uVar1 = FUN_BATTLE_BIN__80199b98((int)(UnitBattleData + param_1));
    if (uVar1 != 0x7fffffff) {
      if ((int)uVar3 < (int)uVar1) {
        return 0;
      }
      uVar2 = FUN_BATTLE_BIN__8019f15c(uVar3,param_1);
      return uVar2;
    }
  }
  return 0;
}



undefined4 FUN_BATTLE_BIN__8019f15c(int param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  BattleUnitData *pBVar3;
  
  pBVar3 = UnitBattleData + param_2;
  if (UnitBattleData[param_2].field0_0x0.UnitID != 0xff) {
    if (UnitBattleData[param_2].field0_0x0.SP == 0) {
      return 0;
    }
    if ((*(ushort *)&UnitBattleData[param_2].field0_0x0.CurrentStatuses & 0x8140) != 0) {
      return 0;
    }
    iVar1 = FUN_BATTLE_BIN__8019ef24(param_1,(int)pBVar3,0x1e);
    if (iVar1 != 0) {
      return 0;
    }
    iVar1 = FUN_BATTLE_BIN__8019ef24(param_1,(int)pBVar3,0x24);
    if (iVar1 != 0) {
      return 0;
    }
    iVar1 = FUN_BATTLE_BIN__8019ef24(param_1,(int)pBVar3,0x23);
    if (iVar1 != 0) {
      return 0;
    }
    if ((*(byte *)&UnitBattleData[param_2].field0_0x0.CurrentStatuses & 0x20) == 0) {
      return 1;
    }
    if ((UnitBattleData[param_2].field0_0x0.CurrentStatuses.field_0x2 & 0x20) == 0) {
      return 0;
    }
    uVar2 = FUN_BATTLE_BIN__80199b98((int)pBVar3);
    if ((int)uVar2 <= param_1) {
      return 1;
    }
  }
  return 0;
}



void FUN_BATTLE_BIN__8019f258(undefined *param_1)

{
  *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x47) = *param_1;
  *(undefined *)(DAT_BATTLE_BIN__801a0bbc + 0x48) = param_1[2];
  *(ushort *)(DAT_BATTLE_BIN__801a0bbc + 0x48) =
       *(ushort *)(DAT_BATTLE_BIN__801a0bbc + 0x48) & 0x7fff | (ushort)(byte)param_1[1] << 0xf;
  return;
}



void FUN_BATTLE_BIN__8019f2a4(int param_1,byte *param_2)

{
  undefined2 uVar1;
  
  *param_2 = UnitBattleData[param_1].field0_0x0.MapX;
  param_2[2] = UnitBattleData[param_1].field0_0x0.MapY;
  uVar1 = *(undefined2 *)&UnitBattleData[param_1].field0_0x0.MapY;
  param_2[3] = 0;
  param_2[1] = (byte)((ushort)uVar1 >> 0xf);
  return;
}



// WARNING: Removing unreachable block (ram,0x801a0f08)
// WARNING: Removing unreachable block (ram,0x801a0f30)

void FUN_BATTLE_BIN__801a0e80(int param_1)

{
  int iVar1;
  ushort *puVar2;
  RECT local_10;
  
  iVar1 = *(int *)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  puVar2 = (ushort *)(iVar1 + *(int *)(iVar1 + 0x24));
  DAT_BATTLE_BIN__801bbf80 = puVar2;
  FUN_BATTLE_BIN__800926d8(puVar2,0xc,0,1);
  FUN_BATTLE_BIN__800926d8(puVar2 + 0x100,0xd,0,1);
  iVar1 = (uint)*(byte *)(puVar2 + 0x200) + (uint)*(byte *)((int)puVar2 + 0x401) * 0x100 +
          (uint)*(byte *)(puVar2 + 0x201) * 0x10000;
  if (*(char *)((int)puVar2 + 0x403) == '\0') {
    local_10.h = (short)(iVar1 >> 7);
    local_10.w = 0x40;
  }
  else {
    local_10.h = (short)((uint)iVar1 >> 8);
    local_10.w = 0x80;
  }
  local_10.x = 0x180;
  local_10.y = 0;
  LoadImage(&local_10,(u_long *)(puVar2 + 0x202));
  return;
}



void FUN_BATTLE_BIN__801a0f70(void)

{
  DAT_BATTLE_BIN__801bbf78 = DAT_BATTLE_BIN__801badd4;
  return;
}



void FUN_BATTLE_BIN__801a0f88(void)

{
  DAT_BATTLE_BIN__801bbf8c = DAT_BATTLE_BIN__801baddc;
  return;
}



void FUN_BATTLE_BIN__801a0fa0(int param_1)

{
  int *piVar1;
  
  piVar1 = *(int **)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  DAT_BATTLE_BIN__801bbf78 = (int)piVar1 + *piVar1 + 4;
  return;
}



void FUN_BATTLE_BIN__801a0fd8(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  DAT_BATTLE_BIN__801bbf8c = iVar1 + *(int *)(iVar1 + 4) + 4;
  return;
}



void FUN_BATTLE_BIN__801a1010(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  DAT_BATTLE_BIN__801bc094 = iVar1 + *(int *)(iVar1 + 8);
  return;
}



void FUN_BATTLE_BIN__801a1044(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  DAT_BATTLE_BIN__801bbf7c = iVar1 + *(int *)(iVar1 + 0x10);
  return;
}



void FUN_BATTLE_BIN__801a1078(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  DAT_BATTLE_BIN__801bbf88 = iVar1 + *(int *)(iVar1 + 0xc);
  return;
}



void FUN_BATTLE_BIN__801a10ac(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  DAT_BATTLE_BIN__801bc0c8 = iVar1 + *(int *)(iVar1 + 0x1c);
  DAT_BATTLE_BIN__801bbf84 = DAT_BATTLE_BIN__801bc0c8 + 8;
  return;
}



void FUN_BATTLE_BIN__801a10ec(int param_1)

{
  int iVar1;
  int iVar2;
  
  if (DAT_BATTLE_BIN__801bbf74 != 0) {
    FUN_80017eb8(DAT_BATTLE_BIN__801bbf74);
  }
  iVar2 = *(int *)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  iVar1 = *(int *)(iVar2 + 0x20);
  DAT_BATTLE_BIN__801bbf74 = iVar2 + iVar1;
  if (iVar1 == 0) {
    DAT_BATTLE_BIN__801bbf74 = 0;
    DAT_BATTLE_BIN__801bc0dc = 0;
  }
  else {
    FUN_80017e7c(DAT_BATTLE_BIN__801bbf74);
    DAT_BATTLE_BIN__801bc0dc = (uint)*(ushort *)(DAT_BATTLE_BIN__801bbf74 + 10) << 0x10;
  }
  return;
}



void FUN_BATTLE_BIN__801a1198(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  DAT_BATTLE_BIN__801bacc8 = iVar1 + *(int *)(iVar1 + 0x18);
  return;
}



void FUN_BATTLE_BIN__801a11cc(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)((int)&PTR_DAT_BATTLE_BIN__801b48d0 + ((param_1 << 0x10) >> 0xe));
  DAT_BATTLE_BIN__801b9258 = iVar1 + *(int *)(iVar1 + 0x14);
  return;
}



void FUN_BATTLE_BIN__801a12a4(int param_1,undefined4 *param_2,undefined4 *param_3)

{
  *param_2 = *(undefined4 *)(&DAT_BATTLE_BIN__801b53e8 + param_1 * 8);
  *param_3 = *(undefined4 *)(&DAT_BATTLE_BIN__801b53ec + param_1 * 8);
  return;
}



bool FUN_BATTLE_BIN__801a13bc(uint param_1)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  u_long *puVar4;
  int local_20;
  uint local_1c [3];
  
  puVar4 = (u_long *)(PTR_DAT_80010008 + 0x3500);
  if (DAT_801c24d0 < 0) {
    return false;
  }
  if (DAT_801c24c8 == 1) {
    param_1 = Check_File_Still_Loading();
    bVar2 = 2;
    bVar1 = DAT_801c24c8;
joined_r0x801a14c8:
    DAT_801c24c8 = bVar2;
    if (param_1 != 0) goto code_r0x801a157c;
  }
  else {
    bVar1 = DAT_801c24c8;
    if (DAT_801c24c8 < 2) {
      if (DAT_801c24c8 != 0) goto code_r0x801a157c;
      if (DAT_BATTLE_BIN__801bbf64 == 0) {
        DAT_BATTLE_BIN__801b895c = 0;
      }
      else {
        DAT_BATTLE_BIN__801b895c = 0x3c;
      }
      FUN_BATTLE_BIN__801a12a4((int)DAT_801c24d0,&local_20,local_1c);
      if (local_1c[0] == 0) {
        DAT_801c24d0 = 1;
        FUN_BATTLE_BIN__801a12a4(1,&local_20,local_1c);
      }
      param_1 = Call_CalcFileHead_NNL(local_20,local_1c[0],puVar4);
      bVar2 = 1;
      bVar1 = DAT_801c24c8;
      goto joined_r0x801a14c8;
    }
    if (DAT_801c24c8 != 2) {
      if (DAT_801c24c8 == 3) {
        iVar3 = FUN_BATTLE_BIN__801adae0((uint)DAT_BATTLE_BIN__801bbf64);
        param_1 = (uint)(iVar3 != 0);
        bVar1 = DAT_801c24c8;
      }
      goto code_r0x801a157c;
    }
    param_1 = 1;
    if (DAT_BATTLE_BIN__801b895c != 0) goto code_r0x801a157c;
    if (DAT_BATTLE_BIN__801bbf64 != 0) {
      FUN_BATTLE_BIN__801adb0c((uint)DAT_BATTLE_BIN__801bbf64);
    }
    DAT_801c24c8 = 3;
    FUN_BATTLE_BIN__801a1198((int)DAT_801c24d0);
    if ((*DAT_BATTLE_BIN__801bacc8 & 0x10) != 0) {
      FUN_80043b54(0x40,0xf0);
      param_1 = 1;
      bVar1 = DAT_801c24c8;
      goto code_r0x801a157c;
    }
  }
  param_1 = 1;
  bVar1 = DAT_801c24c8;
code_r0x801a157c:
  DAT_801c24c8 = bVar1;
  if (0 < DAT_BATTLE_BIN__801b895c) {
    DAT_BATTLE_BIN__801b895c = DAT_BATTLE_BIN__801b895c + -1;
  }
  return param_1 != 0;
}



void FUN_BATTLE_BIN__801a15b4(uint param_1,int param_2,undefined4 *param_3)

{
  ushort uVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  
  DAT_801c24c8 = 0;
  if (param_2 < 0x200) {
    if (param_2 == 0x189) {
      uVar2 = FUN_BATTLE_BIN__801adfac(param_1 >> 0x10);
      if (uVar2 == 1) {
        uVar1 = 0x10;
      }
      else if (uVar2 == 2) {
        uVar1 = 0x18;
      }
      else {
        uVar1 = 0x14;
        if (uVar2 != 8) goto LAB_BATTLE_BIN__801a165c;
      }
    }
    else {
      uVar1 = *(ushort *)(&DAT_BATTLE_BIN__801b63f0 + param_2 * 2);
    }
  }
  else {
    uVar1 = *(ushort *)(&DAT_BATTLE_BIN__801b637c + param_2 * 2);
  }
  DAT_801c24d0 = uVar1;
LAB_BATTLE_BIN__801a165c:
  if ((short)DAT_801c24d0 < 0) {
    if (param_2 - 0x8aU < 8) {
      FUN_BATTLE_BIN__801add54(0x12,0,(int)param_3);
    }
    if ((param_2 - 0x196U < 8) || (param_2 == 0x92)) {
      FUN_BATTLE_BIN__801add54(0x11,0,(int)param_3);
    }
  }
  else {
    DAT_801c24d0 = DAT_801c24d0 & 0x1ff;
    DAT_BATTLE_BIN__801b63e8 = 1;
    if ((&DAT_BATTLE_BIN__801b84ac)[param_1 & 0xffff] == 0) {
      DAT_BATTLE_BIN__801bbf64 = 0;
    }
    else {
      DAT_BATTLE_BIN__801bbf64 =
           FUN_BATTLE_BIN__801add54
                     ((ushort)(byte)(&DAT_BATTLE_BIN__801b84ac)[param_1 & 0xffff],
                      (short)(param_1 >> 0x10),(int)param_3);
    }
    puVar7 = &DAT_BATTLE_BIN__801bad0c;
    DAT_BATTLE_BIN__801b9253 = 0;
    DAT_BATTLE_BIN__801b9252 = 0;
    DAT_BATTLE_BIN__801b9251 = 0;
    DAT_BATTLE_BIN__801b9250 = 0;
    if (((uint)param_3 & 3) == 0) {
      puVar6 = param_3 + 0x30;
      do {
        uVar3 = param_3[1];
        uVar4 = param_3[2];
        uVar5 = param_3[3];
        *puVar7 = *param_3;
        puVar7[1] = uVar3;
        puVar7[2] = uVar4;
        puVar7[3] = uVar5;
        param_3 = param_3 + 4;
        puVar7 = puVar7 + 4;
      } while (param_3 != puVar6);
    }
    else {
      puVar6 = param_3 + 0x30;
      do {
        uVar3 = param_3[1];
        uVar4 = param_3[2];
        uVar5 = param_3[3];
        *puVar7 = *param_3;
        puVar7[1] = uVar3;
        puVar7[2] = uVar4;
        puVar7[3] = uVar5;
        param_3 = param_3 + 4;
        puVar7 = puVar7 + 4;
      } while (param_3 != puVar6);
    }
    uVar3 = param_3[1];
    *puVar7 = *param_3;
    puVar7[1] = uVar3;
    DAT_BATTLE_BIN__801bc0d4 = 0;
  }
  return;
}



uint FUN_BATTLE_BIN__801a1814(int param_1)

{
  uint uVar1;
  
  uVar1 = 0;
  if (8 < param_1 - 0x195U) {
    if (param_1 == 0x92) {
      uVar1 = 0;
    }
    else {
      uVar1 = (uint)(int)*(short *)(&DAT_BATTLE_BIN__801b63f0 + param_1 * 2) >> 0x1f;
    }
  }
  return uVar1;
}



bool FUN_BATTLE_BIN__801a1854(int param_1)

{
  ushort uVar1;
  
  uVar1 = *(ushort *)(&DAT_BATTLE_BIN__801b63f0 + param_1 * 2);
  if ((short)uVar1 < 0) {
    uVar1 = ~uVar1;
  }
  return (uVar1 & 0x800) != 0;
}



void FUN_BATTLE_BIN__801a1880(void)

{
  if (DAT_BATTLE_BIN__801b63e8 == 1) {
    DAT_BATTLE_BIN__801b63e8 = 2;
  }
  return;
}



undefined4 FUN_BATTLE_BIN__801a18d8(void)

{
  short sVar1;
  int iVar2;
  undefined4 in_v1;
  short sVar3;
  int iVar4;
  
  iVar4 = (int)DAT_BATTLE_BIN__801bbf90;
  switch(DAT_BATTLE_BIN__801b63e8) {
  case 2:
    FUN_BATTLE_BIN__80093118();
    FUN_BATTLE_BIN__801343bc();
    FUN_BATTLE_BIN__801a0e80((int)DAT_801c24d0);
    DAT_BATTLE_BIN__801b63e8 = 3;
    DAT_801bf000 = 0;
    FUN_BATTLE_BIN__8008de90();
  case 1:
    in_v1 = 1;
    break;
  case 3:
    FUN_BATTLE_BIN__801a4d9c
              (DAT_BATTLE_BIN__801bbf80,(int)PTR_DAT_8001000c - DAT_BATTLE_BIN__801bbf80);
    FUN_BATTLE_BIN__801aa8e8();
    FUN_BATTLE_BIN__801aa920();
    FUN_BATTLE_BIN__8008e348();
    FUN_BATTLE_BIN__801a0fa0((int)DAT_801c24d0);
    FUN_BATTLE_BIN__801a0fd8((int)DAT_801c24d0);
    FUN_BATTLE_BIN__801a1010((int)DAT_801c24d0);
    FUN_BATTLE_BIN__801a1044((int)DAT_801c24d0);
    FUN_BATTLE_BIN__801a1078((int)DAT_801c24d0);
    FUN_BATTLE_BIN__801a10ac((int)DAT_801c24d0);
    FUN_BATTLE_BIN__801a10ec((int)DAT_801c24d0);
    FUN_BATTLE_BIN__801a1198((int)DAT_801c24d0);
    FUN_BATTLE_BIN__801a11cc((int)DAT_801c24d0);
    if (DAT_BATTLE_BIN__801bad0c._3_1_ != '\0') {
      if (*(char *)(DAT_BATTLE_BIN__801bacc8 + 1) == '\0') {
        *(undefined2 *)(DAT_BATTLE_BIN__801bc0c8 + 6) = 100;
      }
      else {
        *(ushort *)(DAT_BATTLE_BIN__801bc0c8 + 6) = (ushort)*(byte *)(DAT_BATTLE_BIN__801bacc8 + 1);
      }
    }
    iVar4 = FUN_BATTLE_BIN__801a20e8(DAT_BATTLE_BIN__801bc094,0,0);
    DAT_801c24d4 = (undefined2)iVar4;
    DAT_BATTLE_BIN__801b63e8 = 4;
    FUN_BATTLE_BIN__800ef6a0(0x88);
    in_v1 = 1;
    break;
  case 4:
    DAT_BATTLE_BIN__801bc088 = Get_OTAG_List();
    FUN_BATTLE_BIN__801a52f0();
    while (iVar4 != 0) {
      sVar1 = (&DAT_801bf02c)[iVar4 * 0x7c];
      sVar3 = (short)iVar4;
      DAT_801bf004 = sVar3;
      *(short *)(&DAT_801bf04c + iVar4 * 0xf8) = *(short *)(&DAT_801bf04c + iVar4 * 0xf8) + 1;
      iVar2 = FUN_BATTLE_BIN__801a4cf0(sVar3);
      iVar4 = (int)sVar1;
      if (iVar2 == 0) {
        FUN_BATTLE_BIN__801a1d9c(sVar3);
      }
    }
    if (DAT_BATTLE_BIN__801bbf90 != 0) {
      return 1;
    }
    if ((*DAT_BATTLE_BIN__801bacc8 & 0x10) != 0) {
      FUN_80043ba0(0x78);
    }
    if (DAT_BATTLE_BIN__801bbf74 != 0) {
      FUN_80017eb8(DAT_BATTLE_BIN__801bbf74);
      DAT_BATTLE_BIN__801bbf74 = 0;
    }
    FUN_BATTLE_BIN__800ef6a0(0x87);
    FUN_BATTLE_BIN__80093144();
    FUN_BATTLE_BIN__801343d0();
    FUN_BATTLE_BIN__8008e348();
    DAT_BATTLE_BIN__801b63e8 = 0;
  case 0:
    in_v1 = 0;
    break;
  case 6:
    FUN_BATTLE_BIN__801a4d9c
              (DAT_BATTLE_BIN__801bbf80,(int)PTR_DAT_8001000c - DAT_BATTLE_BIN__801bbf80);
    FUN_BATTLE_BIN__801aa8e8();
    FUN_BATTLE_BIN__801a0f70();
    FUN_BATTLE_BIN__801a0f88();
    iVar4 = FUN_BATTLE_BIN__801a20e8(DAT_BATTLE_BIN__801bc094,0,0);
    DAT_801c24d4 = (undefined2)iVar4;
    DAT_BATTLE_BIN__801b63e8 = 4;
    in_v1 = 1;
  }
  return in_v1;
}



undefined4 FUN_BATTLE_BIN__801a1c40(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  
  iVar1 = FUN_BATTLE_BIN__801a18d8();
  iVar2 = FUN_BATTLE_BIN__801b47e0();
  FUN_BATTLE_BIN__801ab724();
  uVar3 = 1;
  if ((iVar1 == 0) && (iVar2 == 0)) {
    uVar3 = 0;
  }
  return uVar3;
}



void FUN_BATTLE_BIN__801a1c90(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 1;
  DAT_801bf02c = 0;
  DAT_BATTLE_BIN__801b9158 = 1;
  iVar1 = 0x20;
  do {
    iVar1 = iVar1 - iVar3;
    iVar2 = iVar1 * 8;
    *(short *)(iVar2 + -0x7fe40fd2) = (short)iVar3;
    iVar3 = iVar3 + 1;
    (&DAT_801bf02c)[iVar1 * 4] = (short)iVar3;
    *(undefined4 *)(iVar2 + -0x7fe40ee0) = 0;
    iVar1 = iVar3 * 0x20;
  } while (iVar3 < 0x10);
  (&DAT_801bf02c)[iVar3 * 0x7c] = 0;
  *(short *)(iVar3 * 0xf8 + -0x7fe40fd2) = (short)iVar3;
  DAT_BATTLE_BIN__801bbf90 = 0;
  DAT_801bf004 = 0;
  DAT_BATTLE_BIN__801b63e8 = 0;
  return;
}



void FUN_BATTLE_BIN__801a1d28(void)

{
  short sVar1;
  int iVar2;
  
  sVar1 = DAT_BATTLE_BIN__801b9158;
  iVar2 = (int)DAT_BATTLE_BIN__801b9158;
  DAT_BATTLE_BIN__801b9158 = (&DAT_801bf02c)[iVar2 * 0x7c];
  (&DAT_801bf02c)[iVar2 * 0x7c] = DAT_BATTLE_BIN__801bbf90;
  DAT_BATTLE_BIN__801bbf90 = sVar1;
  *(ushort *)(&DAT_801bf04a + iVar2 * 0xf8) = *(ushort *)(&DAT_801bf04a + iVar2 * 0xf8) | 1;
  return;
}



void FUN_BATTLE_BIN__801a1d9c(short param_1)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  short sVar6;
  
  sVar6 = DAT_BATTLE_BIN__801bbf90;
  for (piVar4 = *(int **)(&DAT_801bf0fc + param_1 * 0xf8); piVar4 != (int *)0x0;
      piVar4 = (int *)piVar4[1]) {
    FUN_BATTLE_BIN__801a5d74(param_1,piVar4);
  }
  iVar5 = 0;
  iVar2 = 0;
  do {
    iVar3 = *(int *)(&DAT_801bf110 + (iVar2 >> 0xe) + param_1 * 0xf8);
    if (iVar3 != 0) {
      FUN_BATTLE_BIN__801a4e9c(iVar3);
      *(int *)(&DAT_801bf110 + (iVar2 >> 0xe) + param_1 * 0xf8) = 0;
    }
    *(undefined4 *)(&DAT_801bf100 + (iVar2 >> 0xe) + param_1 * 0xf8) = 0;
    iVar5 = iVar5 + 1;
    iVar2 = iVar5 * 0x10000;
  } while (iVar5 * 0x10000 >> 0x10 < 4);
  if ((*(short *)(&DAT_801bf030 + param_1 * 0xf8) != 0) &&
     (iVar2 = *(short *)(&DAT_801bf030 + param_1 * 0xf8) * 0xf8,
     (*(ushort *)(&DAT_801bf04a + iVar2) & 1) != 0)) {
    iVar3 = 0;
    iVar5 = 0;
    do {
      iVar3 = iVar3 + 1;
      if ((int)*(short *)(&DAT_801bf038 + (iVar5 >> 0xf) + iVar2) == (int)param_1) {
        *(short *)(&DAT_801bf038 + (iVar5 >> 0xf) + iVar2) = 0;
      }
      iVar5 = iVar3 * 0x10000;
    } while (iVar3 * 0x10000 >> 0x10 < 4);
  }
  iVar2 = (int)param_1;
  if (sVar6 == iVar2) {
    DAT_BATTLE_BIN__801bbf90 = (&DAT_801bf02c)[iVar2 * 0x7c];
    (&DAT_801bf02c)[iVar2 * 0x7c] = DAT_BATTLE_BIN__801b9158;
    DAT_BATTLE_BIN__801b9158 = sVar6;
  }
  else {
    for (sVar1 = (&DAT_801bf02c)[sVar6 * 0x7c]; sVar1 != iVar2;
        sVar1 = (&DAT_801bf02c)[sVar1 * 0x7c]) {
      sVar6 = sVar1;
    }
    (&DAT_801bf02c)[sVar6 * 0x7c] = (&DAT_801bf02c)[sVar1 * 0x7c];
    (&DAT_801bf02c)[sVar1 * 0x7c] = DAT_BATTLE_BIN__801b9158;
    DAT_BATTLE_BIN__801b9158 = sVar1;
  }
  *(ushort *)(&DAT_801bf04a + param_1 * 0xf8) = *(ushort *)(&DAT_801bf04a + param_1 * 0xf8) & 0xfffe
  ;
  return;
}



void FUN_BATTLE_BIN__801a2084(int param_1,undefined2 param_2)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  iVar1 = param_1;
  do {
    *(undefined2 *)(iVar1 + 0x5e) = 0;
    *(undefined2 *)(iVar1 + 0x44) = 0;
    *(undefined2 *)(iVar1 + 0x2a) = 0;
    iVar2 = iVar2 + 1;
    iVar1 = iVar1 + 2;
  } while (iVar2 < 0xd);
  *(undefined2 *)(param_1 + 0x28) = 0;
  *(undefined2 *)(param_1 + 0x26) = param_2;
  return;
}



void FUN_BATTLE_BIN__801a20b4(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  iVar1 = param_1;
  do {
    *(undefined2 *)(iVar1 + 0x96) = 0;
    *(undefined2 *)(iVar1 + 0x62) = 0;
    *(undefined2 *)(iVar1 + 0x2e) = 0;
    iVar2 = iVar2 + 1;
    iVar1 = iVar1 + 2;
  } while (iVar2 < 0x1a);
  *(undefined2 *)(param_1 + 0x2a) = 0;
  *(undefined2 *)(param_1 + 0x28) = 0;
  *(undefined2 *)(param_1 + 0x2c) = 0;
  return;
}



int FUN_BATTLE_BIN__801a20e8(undefined4 param_1,undefined2 param_2,undefined2 param_3)

{
  short sVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined2 *puVar6;
  
  sVar1 = FUN_BATTLE_BIN__801a1d28();
  iVar4 = (int)sVar1;
  iVar5 = 0;
  if (iVar4 == 0) {
    iVar5 = 0;
  }
  else {
    iVar3 = iVar4 * 0xf8;
    puVar6 = &DAT_801bf02c + iVar4 * 0x7c;
    *(undefined2 *)(&DAT_801bf030 + iVar3) = param_3;
    *(undefined4 *)(&DAT_801bf034 + iVar3) = param_1;
    *(undefined2 *)(&DAT_801bf032 + iVar3) = param_2;
    do {
      iVar4 = iVar5 << 0x10;
      iVar5 = iVar5 + 1;
      iVar4 = iVar4 >> 0xf;
      *(undefined2 *)((int)puVar6 + iVar4 + 0x14) = 0;
      *(undefined2 *)((int)puVar6 + iVar4 + 0xc) = 0;
    } while (iVar5 * 0x10000 >> 0x10 < 4);
    iVar5 = 0;
    do {
      sVar2 = (short)iVar5;
      iVar5 = iVar5 + 1;
      iVar4 = (int)sVar2;
      *(undefined4 *)(puVar6 + iVar4 * 2 + 0x6a) = 0;
      *(undefined *)((int)puVar6 + iVar4 + 0x22) = 0;
      *(undefined4 *)(puVar6 + iVar4 * 2 + 0x72) = 0;
    } while (iVar5 * 0x10000 >> 0x10 < 4);
    *(undefined2 *)(&DAT_801bf04a + iVar3) = 1;
    *(undefined4 *)(&DAT_801bf0fc + iVar3) = 0;
    *(undefined2 *)(&DAT_801bf048 + iVar3) = 0;
    *(undefined2 *)(&DAT_801bf04c + iVar3) = 0xffff;
    FUN_BATTLE_BIN__801a2084((int)puVar6,0);
    FUN_BATTLE_BIN__801a20b4((int)puVar6);
    iVar5 = (int)sVar1;
  }
  return iVar5;
}



undefined4 FUN_BATTLE_BIN__801a4cf0(short param_1)

{
  short sVar1;
  int iVar2;
  
  iVar2 = param_1 * 0xf8;
  do {
    sVar1 = (*(code *)(&PTR_DAT_BATTLE_BIN__801a2238_BATTLE_BIN__801b67c8)
                      [*(ushort *)
                        (*(int *)(&DAT_801bf034 + iVar2) + (int)*(short *)(&DAT_801bf032 + iVar2)) &
                       0x1ff])(&DAT_801bf02c + param_1 * 0x7c);
    if (sVar1 == 2) {
      return 0;
    }
  } while (sVar1 != 0);
  return 1;
}



void FUN_BATTLE_BIN__801a4d9c(int param_1,uint param_2)

{
  int iVar1;
  
  DAT_BATTLE_BIN__801b89f4 = (short)(param_2 >> 3) + -1;
  iVar1 = 0x80;
  DAT_BATTLE_BIN__801b69a8 = param_1;
  DAT_BATTLE_BIN__801b89f0 = param_1;
  *(short *)(param_1 + 4) = DAT_BATTLE_BIN__801b89f4;
  *(int *)param_1 = param_1;
  do {
    *(undefined4 *)(&DAT_BATTLE_BIN__801b8968 + iVar1) = 0;
    iVar1 = iVar1 + -8;
  } while (-1 < iVar1);
  return;
}



undefined4 * FUN_BATTLE_BIN__801a4de8(int param_1,int param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  uint uVar3;
  
  uVar3 = param_1 + 0xfU >> 3;
  puVar1 = (undefined4 *)*DAT_BATTLE_BIN__801b69a8;
  while (puVar2 = puVar1, *(ushort *)(puVar2 + 1) < uVar3) {
    DAT_BATTLE_BIN__801b69a8 = puVar2;
    puVar1 = (undefined4 *)*puVar2;
  }
  if (*(ushort *)(puVar2 + 1) == uVar3) {
    *DAT_BATTLE_BIN__801b69a8 = *puVar2;
  }
  else {
    *(short *)(puVar2 + 1) = *(short *)(puVar2 + 1) - (short)uVar3;
    puVar2 = puVar2 + (uint)*(ushort *)(puVar2 + 1) * 2;
    *(short *)(puVar2 + 1) = (short)uVar3;
  }
  *(short *)((int)puVar2 + 6) = (short)param_2;
  *puVar2 = *(undefined4 *)(&DAT_BATTLE_BIN__801b8968 + param_2 * 8);
  *(undefined4 **)(&DAT_BATTLE_BIN__801b8968 + param_2 * 8) = puVar2;
  return puVar2 + 2;
}



void FUN_BATTLE_BIN__801a4e9c(int param_1)

{
  int **ppiVar1;
  int **ppiVar2;
  int **ppiVar3;
  
  ppiVar1 = *(int ***)(&DAT_BATTLE_BIN__801b8968 + *(short *)(param_1 + -2) * 8);
  ppiVar3 = (int **)(param_1 + -8);
  if (ppiVar1 == ppiVar3) {
    *(int **)(&DAT_BATTLE_BIN__801b8968 + *(short *)(param_1 + -2) * 8) = *(int **)(param_1 + -8);
  }
  else {
    do {
      ppiVar2 = ppiVar1;
      ppiVar1 = (int **)*ppiVar2;
    } while (ppiVar1 != ppiVar3);
    *ppiVar2 = *ppiVar3;
  }
  do {
    ppiVar1 = DAT_BATTLE_BIN__801b69a8;
    if ((ppiVar1 < ppiVar3) && (ppiVar3 < *ppiVar1)) break;
    DAT_BATTLE_BIN__801b69a8 = (int **)*ppiVar1;
  } while ((ppiVar1 < DAT_BATTLE_BIN__801b69a8) ||
          ((ppiVar3 <= ppiVar1 && (DAT_BATTLE_BIN__801b69a8 <= ppiVar3))));
  ppiVar2 = (int **)*ppiVar1;
  if (ppiVar3 + (uint)*(ushort *)(param_1 + -4) * 2 == ppiVar2) {
    *(short *)(param_1 + -4) = *(short *)(param_1 + -4) + *(short *)(ppiVar2 + 1);
    *ppiVar3 = (int *)**ppiVar1;
  }
  else {
    *ppiVar3 = (int *)ppiVar2;
  }
  if (ppiVar1 + (uint)*(ushort *)(ppiVar1 + 1) * 2 == ppiVar3) {
    *(short *)(ppiVar1 + 1) = *(short *)(ppiVar1 + 1) + *(short *)(param_1 + -4);
    *ppiVar1 = *ppiVar3;
  }
  else {
    *ppiVar1 = (int *)ppiVar3;
  }
  DAT_BATTLE_BIN__801b69a8 = ppiVar1;
  return;
}



void FUN_BATTLE_BIN__801a5110(void)

{
  DAT_BATTLE_BIN__801bc0ac = 0x1000;
  DAT_BATTLE_BIN__801b8a08 = 0;
  DAT_BATTLE_BIN__801bc0aa = 0;
  DAT_BATTLE_BIN__801bc0a8 = 0;
  DAT_BATTLE_BIN__801bc0a6 = 0;
  DAT_BATTLE_BIN__801bc0a0 = 0;
  DAT_BATTLE_BIN__801bc0b8 = 0;
  DAT_BATTLE_BIN__801bbf5c = 0x200;
  DAT_BATTLE_BIN__801bbf54 = 0x200;
  DAT_BATTLE_BIN__801bbf4c = 0x200;
  DAT_BATTLE_BIN__801bbf44 = 0x200;
  DAT_BATTLE_BIN__801b8a00 = 0;
  DAT_BATTLE_BIN__801b89fc = 0;
  DAT_BATTLE_BIN__801b8a04 = FUN_BATTLE_BIN__801a4de8(0x8000,0);
  DAT_BATTLE_BIN__801b9274 = 0;
  DAT_BATTLE_BIN__801bc0c0 = 0;
  return;
}



void FUN_BATTLE_BIN__801a51bc(void)

{
  DAT_BATTLE_BIN__801bc0ac = 0x1000;
  DAT_BATTLE_BIN__801bc0aa = 0;
  DAT_BATTLE_BIN__801bc0a8 = 0;
  DAT_BATTLE_BIN__801bc0a6 = 0;
  DAT_BATTLE_BIN__801bc0a0 = 0;
  DAT_BATTLE_BIN__801bc0b8 = 0;
  DAT_BATTLE_BIN__801bbf5c = 0x200;
  DAT_BATTLE_BIN__801bbf54 = 0x200;
  DAT_BATTLE_BIN__801bbf4c = 0x200;
  DAT_BATTLE_BIN__801bbf44 = 0x200;
  return;
}



void FUN_BATTLE_BIN__801a52b4(int param_1)

{
  DAT_BATTLE_BIN__801bc0c0 = DAT_BATTLE_BIN__801bc0c0 - (uint)*(byte *)(param_1 + 3);
  FUN_BATTLE_BIN__801a4e9c(param_1);
  return;
}



void FUN_BATTLE_BIN__801a52f0(void)

{
  PutScreentoGTE(0,0);
  DAT_BATTLE_BIN__801b8a08 = 1 - DAT_BATTLE_BIN__801b8a08;
  DAT_BATTLE_BIN__801b89fc = DAT_BATTLE_BIN__801b8a00;
  return;
}



void FUN_BATTLE_BIN__801a5b48(void)

{
  undefined4 *puVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  DAT_BATTLE_BIN__801b8a28 = 0;
  DAT_BATTLE_BIN__801b8a24 = 0;
  DAT_BATTLE_BIN__801b8a20 = 0;
  DAT_BATTLE_BIN__801bace8 = 0;
  DAT_BATTLE_BIN__801bace4 = 0;
  DAT_BATTLE_BIN__801bace0 = 0;
  puVar1 = FUN_BATTLE_BIN__801a4de8(0x5800,0);
  iVar3 = 1;
  piVar2 = puVar1 + 0x16;
  iVar5 = 0;
  iVar4 = 0xb0;
  DAT_BATTLE_BIN__801bc0c4 = 0;
  DAT_BATTLE_BIN__801b9270 = puVar1;
  DAT_BATTLE_BIN__801bbf70 = puVar1;
  *puVar1 = 0;
  puVar1[1] = piVar2;
  do {
    piVar2[1] = iVar4 + (int)puVar1;
    *piVar2 = iVar5 + (int)puVar1;
    piVar2 = piVar2 + 0x16;
    iVar5 = iVar5 + 0x58;
    iVar3 = iVar3 + 1;
    iVar4 = iVar4 + 0x58;
  } while (iVar3 < 0xff);
  DAT_BATTLE_BIN__801b9140 = 0;
  DAT_BATTLE_BIN__801bbf68 = 0;
  puVar1 = DAT_BATTLE_BIN__801bbf70 + iVar3 * 0x16;
  *puVar1 = DAT_BATTLE_BIN__801bbf70 + iVar3 * 0x16 + -0x16;
  puVar1[1] = 0;
  return;
}



void FUN_BATTLE_BIN__801a5d74(short param_1,int *param_2)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  
  iVar2 = param_1 * 0xf8;
  if ((int *)param_2[1] != (int *)0x0) {
    *(int *)param_2[1] = *param_2;
  }
  if (*param_2 == 0) {
    *(int *)(&DAT_801bf0fc + iVar2) = param_2[1];
  }
  else {
    *(int *)(*param_2 + 4) = param_2[1];
  }
  *(short *)(&DAT_801bf048 + iVar2) = *(short *)(&DAT_801bf048 + iVar2) + -1;
  uVar3 = (int)*(short *)(param_2 + 0x13) & 0xf000;
  if (uVar3 != 0x2000) {
    if (uVar3 < 0x2001) {
      if ((uVar3 != 0) && (uVar3 != 0x1000)) goto LAB_BATTLE_BIN__801a5e68;
    }
    else if (uVar3 != 0x3000) {
      if (uVar3 == 0x4000) {
        FUN_BATTLE_BIN__801a4e9c(param_2[0x15]);
      }
      goto LAB_BATTLE_BIN__801a5e68;
    }
  }
  FUN_BATTLE_BIN__801aa0e8((ushort *)param_2[0x15]);
LAB_BATTLE_BIN__801a5e68:
  piVar1 = param_2;
  param_2[1] = (int)DAT_BATTLE_BIN__801b9270;
  DAT_BATTLE_BIN__801b9270 = piVar1;
  DAT_BATTLE_BIN__801bbf68 = DAT_BATTLE_BIN__801bbf68 + -1;
  return;
}



int FUN_BATTLE_BIN__801a8690(short param_1,short param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = (int)param_1;
  iVar2 = (int)param_2;
  if (iVar3 != iVar2) {
    if (iVar2 < iVar3) {
      iVar1 = rand();
      param_1 = param_2 + (short)(iVar1 % (iVar3 - iVar2));
    }
    else {
      iVar1 = rand();
      param_1 = param_1 + (short)(iVar1 % (iVar2 - iVar3));
    }
  }
  return (int)param_1;
}



void FUN_BATTLE_BIN__801a8898(short param_1,short param_2,int param_3,short *param_4)

{
  int iVar1;
  
  iVar1 = ((int)param_2 - (int)param_1) * param_3;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0x1fff;
  }
  *param_4 = param_1 + (short)(iVar1 >> 0xd);
  return;
}



void FUN_BATTLE_BIN__801a88d0(short *param_1,short *param_2,int param_3,short *param_4)

{
  FUN_BATTLE_BIN__801a8898(*param_1,*param_2,param_3,param_4);
  FUN_BATTLE_BIN__801a8898(param_1[1],param_2[1],param_3,param_4 + 1);
  FUN_BATTLE_BIN__801a8898(param_1[2],param_2[2],param_3,param_4 + 2);
  return;
}



void FUN_BATTLE_BIN__801a894c(short *param_1,short *param_2,int param_3,int param_4,short *param_5)

{
  int iVar1;
  
  iVar1 = rcos((param_4 << 0xb) / param_3);
  FUN_BATTLE_BIN__801a88d0(param_1,param_2,0x1000 - iVar1,param_5);
  return;
}



void FUN_BATTLE_BIN__801a89b0(short *param_1,short *param_2,int param_3,int param_4,short *param_5)

{
  int iVar1;
  
  iVar1 = rcos((param_4 << 0xc) / param_3);
  FUN_BATTLE_BIN__801a88d0(param_1,param_2,0x1000 - iVar1,param_5);
  return;
}



void FUN_BATTLE_BIN__801a8a14(short *param_1,short *param_2,int param_3,int param_4,short *param_5)

{
  FUN_BATTLE_BIN__801a88d0(param_1,param_2,(param_4 << 0xd) / param_3,param_5);
  return;
}



void FUN_BATTLE_BIN__801a8a44(int param_1,int param_2,int param_3,int *param_4)

{
  int iVar1;
  
  iVar1 = (param_2 - param_1) * param_3;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0x1fff;
  }
  *param_4 = param_1 + (iVar1 >> 0xd);
  return;
}



void FUN_BATTLE_BIN__801a8a6c(int *param_1,int *param_2,int param_3,int *param_4)

{
  FUN_BATTLE_BIN__801a8a44(*param_1,*param_2,param_3,param_4);
  FUN_BATTLE_BIN__801a8a44(param_1[1],param_2[1],param_3,param_4 + 1);
  FUN_BATTLE_BIN__801a8a44(param_1[2],param_2[2],param_3,param_4 + 2);
  return;
}



void FUN_BATTLE_BIN__801a8ae8(int *param_1,int *param_2,int param_3,int param_4,int *param_5)

{
  int iVar1;
  
  iVar1 = rcos((param_4 << 0xb) / param_3);
  FUN_BATTLE_BIN__801a8a6c(param_1,param_2,0x1000 - iVar1,param_5);
  return;
}



void FUN_BATTLE_BIN__801a8b4c(int *param_1,int *param_2,int param_3,int param_4,int *param_5)

{
  int iVar1;
  
  iVar1 = rcos((param_4 << 0xc) / param_3);
  FUN_BATTLE_BIN__801a8a6c(param_1,param_2,0x1000 - iVar1,param_5);
  return;
}



void FUN_BATTLE_BIN__801a8bb0(int *param_1,int *param_2,int param_3,int param_4,int *param_5)

{
  FUN_BATTLE_BIN__801a8a6c(param_1,param_2,(param_4 << 0xd) / param_3,param_5);
  return;
}



void FUN_BATTLE_BIN__801a93ec(int *param_1,int *param_2)

{
  *param_2 = *param_1 << 0xc;
  param_2[1] = param_1[1] << 0xc;
  param_2[2] = param_1[2] << 0xc;
  return;
}



void FUN_BATTLE_BIN__801a9420(ushort *param_1,ushort *param_2)

{
  *param_2 = *param_1 & 0xfff;
  param_2[1] = param_1[1] & 0xfff;
  param_2[2] = param_1[2] & 0xfff;
  return;
}



void FUN_BATTLE_BIN__801a9454(int *param_1,int *param_2,int *param_3)

{
  *param_3 = *param_1 + *param_2;
  param_3[1] = param_1[1] + param_2[1];
  param_3[2] = param_1[2] + param_2[2];
  return;
}



void FUN_BATTLE_BIN__801a9514(int *param_1,short *param_2,int *param_3)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__801a8690(-*param_2,*param_2);
  *param_3 = (int)(short)iVar1 + *param_1;
  iVar1 = FUN_BATTLE_BIN__801a8690(-param_2[2],param_2[2]);
  param_3[1] = (int)(short)iVar1 + param_1[1];
  iVar1 = FUN_BATTLE_BIN__801a8690(-param_2[4],param_2[4]);
  param_3[2] = (int)(short)iVar1 + param_1[2];
  return;
}



void FUN_BATTLE_BIN__801a95e8(int *param_1,short *param_2,int *param_3)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__801a8690(-*param_2,*param_2);
  *param_3 = ((int)(short)iVar1 + *param_1) * 0x1000;
  iVar1 = FUN_BATTLE_BIN__801a8690(-param_2[2],param_2[2]);
  param_3[1] = ((int)(short)iVar1 + param_1[1]) * 0x1000;
  iVar1 = FUN_BATTLE_BIN__801a8690(-param_2[4],param_2[4]);
  param_3[2] = ((int)(short)iVar1 + param_1[2]) * 0x1000;
  return;
}



void FUN_BATTLE_BIN__801a96c8(int *param_1,int *param_2,int *param_3)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *param_2;
  iVar2 = *param_1;
  *param_2 = iVar1 + iVar2;
  *param_3 = (iVar1 + iVar2) * 0x1000;
  iVar1 = param_2[1];
  iVar2 = param_1[1];
  param_2[1] = iVar1 + iVar2;
  param_3[1] = (iVar1 + iVar2) * 0x1000;
  iVar1 = param_2[2];
  iVar2 = param_1[2];
  param_2[2] = iVar1 + iVar2;
  param_3[2] = (iVar1 + iVar2) * 0x1000;
  return;
}



void FUN_BATTLE_BIN__801a9720(short *param_1,short *param_2,short *param_3)

{
  int iVar1;
  
  iVar1 = FUN_BATTLE_BIN__801a8690(-*param_2,*param_2);
  *param_3 = *param_1 + (short)iVar1;
  iVar1 = FUN_BATTLE_BIN__801a8690(-param_2[1],param_2[1]);
  param_3[1] = param_1[1] + (short)iVar1;
  iVar1 = FUN_BATTLE_BIN__801a8690(-param_2[2],param_2[2]);
  param_3[2] = param_1[2] + (short)iVar1;
  return;
}



void FUN_BATTLE_BIN__801a97e8(short *param_1,short *param_2,ushort *param_3)

{
  *param_3 = *param_1 + *param_2 & 0xfff;
  param_3[1] = param_1[1] + param_2[1] & 0xfff;
  param_3[2] = param_1[2] + param_2[2] & 0xfff;
  return;
}



void FUN_BATTLE_BIN__801a9f44(void)

{
  int iVar1;
  short sVar2;
  int iVar3;
  
  GetClut(0,0x1f0);
  iVar3 = 1;
  DAT_801c00a6 = 0;
  DAT_801c00a4 = 0;
  DAT_801bf00a = 1;
  iVar1 = 8;
  do {
    iVar1 = iVar1 + iVar3;
    sVar2 = (short)iVar3;
    iVar3 = iVar3 + 1;
    *(short *)(iVar1 * 4 + -0x7fe3ff58) = sVar2;
    (&DAT_801c00a4)[iVar1 * 2] = sVar2 + -1;
    sVar2 = (short)iVar3;
    (&DAT_801c00a6)[iVar1 * 2] = sVar2;
    iVar1 = iVar3 * 8;
  } while (iVar3 < 0x100);
  (&DAT_801c00a4)[iVar3 * 0x12] = sVar2 + -1;
  (&DAT_801c00a6)[iVar3 * 0x12] = 0;
  *(short *)(iVar3 * 0x24 + -0x7fe3ff58) = sVar2;
  DAT_801c24da = 0;
  return;
}



void FUN_BATTLE_BIN__801aa0e8(ushort *param_1)

{
  if (*(int *)(param_1 + 0x10) != 0) {
    FUN_BATTLE_BIN__801a52b4(*(int *)(param_1 + 0x10));
    *(undefined4 *)(param_1 + 0x10) = 0;
  }
  if (*param_1 == 0) {
    DAT_801c24da = param_1[1];
  }
  else {
    (&DAT_801c00a6)[(uint)*param_1 * 0x12] = param_1[1];
  }
  (&DAT_801c00a4)[(uint)param_1[1] * 0x12] = *param_1;
  *param_1 = 0;
  param_1[1] = DAT_801bf00a;
  DAT_801bf00a = param_1[2];
  return;
}



void FUN_BATTLE_BIN__801aa8e8(void)

{
  FUN_BATTLE_BIN__801a5110();
  FUN_BATTLE_BIN__801a1c90();
  FUN_BATTLE_BIN__801a5b48();
  FUN_BATTLE_BIN__801a9f44();
  return;
}



void FUN_BATTLE_BIN__801aa920(void)

{
  ushort *puVar1;
  int *piVar2;
  undefined4 *puVar3;
  
  puVar1 = FUN_BATTLE_BIN__8008ba50();
  DAT_BATTLE_BIN__801b8a68 = *puVar1 & 0xfff;
  DAT_BATTLE_BIN__801b8a6a = puVar1[1] & 0xfff;
  DAT_BATTLE_BIN__801b8a6c = puVar1[2] & 0xfff;
  DAT_BATTLE_BIN__801b8a70 = DAT_BATTLE_BIN__801b8a68;
  DAT_BATTLE_BIN__801b8a72 = DAT_BATTLE_BIN__801b8a6a;
  DAT_BATTLE_BIN__801b8a74 = DAT_BATTLE_BIN__801b8a6c;
  DAT_BATTLE_BIN__801b8a78 = DAT_BATTLE_BIN__801b8a68;
  DAT_BATTLE_BIN__801b8a7a = DAT_BATTLE_BIN__801b8a6a;
  DAT_BATTLE_BIN__801b8a7c = DAT_BATTLE_BIN__801b8a6c;
  DAT_BATTLE_BIN__801b8a80 = DAT_BATTLE_BIN__801b8a68;
  DAT_BATTLE_BIN__801b8a82 = DAT_BATTLE_BIN__801b8a6a;
  DAT_BATTLE_BIN__801b8a84 = DAT_BATTLE_BIN__801b8a6c;
  piVar2 = FUN_BATTLE_BIN__8008b2fc();
  DAT_BATTLE_BIN__801b8a90 = *piVar2 >> 0xc;
  DAT_BATTLE_BIN__801b8a94 = piVar2[1] >> 0xc;
  DAT_BATTLE_BIN__801b8a98 = piVar2[2] >> 0xc;
  DAT_BATTLE_BIN__801b8aa0 = DAT_BATTLE_BIN__801b8a90;
  DAT_BATTLE_BIN__801b8aa4 = DAT_BATTLE_BIN__801b8a94;
  DAT_BATTLE_BIN__801b8aa8 = DAT_BATTLE_BIN__801b8a98;
  DAT_BATTLE_BIN__801b8ab0 = DAT_BATTLE_BIN__801b8a90;
  DAT_BATTLE_BIN__801b8ab4 = DAT_BATTLE_BIN__801b8a94;
  DAT_BATTLE_BIN__801b8ab8 = DAT_BATTLE_BIN__801b8a98;
  DAT_BATTLE_BIN__801b8ac0 = DAT_BATTLE_BIN__801b8a90;
  DAT_BATTLE_BIN__801b8ac4 = DAT_BATTLE_BIN__801b8a94;
  DAT_BATTLE_BIN__801b8ac8 = DAT_BATTLE_BIN__801b8a98;
  puVar3 = (undefined4 *)FUN_BATTLE_BIN__8008b824();
  DAT_BATTLE_BIN__801b8af8 = *puVar3;
  DAT_BATTLE_BIN__801b8afc = puVar3[1];
  DAT_BATTLE_BIN__801b8b00 = puVar3[2];
  DAT_BATTLE_BIN__801b8b04 = puVar3[3];
  DAT_BATTLE_BIN__801b8ae8 = DAT_BATTLE_BIN__801b8af8;
  DAT_BATTLE_BIN__801b8aec = DAT_BATTLE_BIN__801b8afc;
  DAT_BATTLE_BIN__801b8af0 = DAT_BATTLE_BIN__801b8b00;
  DAT_BATTLE_BIN__801b8af4 = DAT_BATTLE_BIN__801b8b04;
  DAT_BATTLE_BIN__801b8ad8 = DAT_BATTLE_BIN__801b8af8;
  DAT_BATTLE_BIN__801b8adc = DAT_BATTLE_BIN__801b8afc;
  DAT_BATTLE_BIN__801b8ae0 = DAT_BATTLE_BIN__801b8b00;
  DAT_BATTLE_BIN__801b8ae4 = DAT_BATTLE_BIN__801b8b04;
  DAT_BATTLE_BIN__801b8b08 = DAT_BATTLE_BIN__801b8af8;
  DAT_BATTLE_BIN__801b8b0c = DAT_BATTLE_BIN__801b8afc;
  DAT_BATTLE_BIN__801b8b10 = DAT_BATTLE_BIN__801b8b00;
  DAT_BATTLE_BIN__801b8b14 = DAT_BATTLE_BIN__801b8b04;
  return;
}



void FUN_BATTLE_BIN__801aaafc(void)

{
  DAT_BATTLE_BIN__801b69cc = 0;
  DAT_BATTLE_BIN__801b69d0 = 0;
  DAT_BATTLE_BIN__801b69d4 = 0;
  DAT_BATTLE_BIN__801b8b1c = 0;
  DAT_BATTLE_BIN__801b8b18 = 0;
  FUN_BATTLE_BIN__801aa920();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BATTLE_BIN__801ab724(void)

{
  short *psVar1;
  short *psVar2;
  int *piVar3;
  int *piVar4;
  int iVar5;
  short *psVar6;
  int *piVar7;
  int local_40;
  undefined4 local_3c;
  undefined4 local_38;
  int aiStack_30 [4];
  short local_20;
  undefined2 local_1e;
  undefined2 local_1c;
  short asStack_18 [4];
  
  if (DAT_BATTLE_BIN__801b69cc == 0xa00) {
    iVar5 = DAT_BATTLE_BIN__801b8a64 + 1;
    if (DAT_BATTLE_BIN__801b8a64 < DAT_BATTLE_BIN__801b8a60) {
      local_1c = 0;
      local_1e = 0;
      local_20 = 0;
      DAT_BATTLE_BIN__801b8a64 = iVar5;
      FUN_BATTLE_BIN__801a8a14
                (&local_20,&DAT_BATTLE_BIN__801b8a70,DAT_BATTLE_BIN__801b8a60,iVar5,asStack_18);
      FUN_BATTLE_BIN__801a97e8(&DAT_BATTLE_BIN__801b8a78,asStack_18,&DAT_BATTLE_BIN__801b8a78);
      FUN_BATTLE_BIN__8008ba60(&DAT_BATTLE_BIN__801b8a78);
    }
    if (DAT_BATTLE_BIN__801b8a60 == DAT_BATTLE_BIN__801b8a64) {
      _DAT_BATTLE_BIN__801b8a70 = _DAT_BATTLE_BIN__801b8a78;
      _DAT_BATTLE_BIN__801b8a74 = _DAT_BATTLE_BIN__801b8a7c;
      _DAT_BATTLE_BIN__801b8a68 = _DAT_BATTLE_BIN__801b8a78;
      _DAT_BATTLE_BIN__801b8a6c = _DAT_BATTLE_BIN__801b8a7c;
      goto LAB_BATTLE_BIN__801abd30;
    }
  }
  else if (DAT_BATTLE_BIN__801b69cc < 0xa01) {
    if (DAT_BATTLE_BIN__801b69cc == 0x400) {
      iVar5 = DAT_BATTLE_BIN__801b8a64 + 1;
      if (DAT_BATTLE_BIN__801b8a64 < DAT_BATTLE_BIN__801b8a60) {
        DAT_BATTLE_BIN__801b8a64 = iVar5;
        FUN_BATTLE_BIN__801a894c
                  (&DAT_BATTLE_BIN__801b8a68,&DAT_BATTLE_BIN__801b8a70,DAT_BATTLE_BIN__801b8a60,
                   iVar5,&DAT_BATTLE_BIN__801b8a78);
LAB_BATTLE_BIN__801ab944:
        FUN_BATTLE_BIN__8008ba60(&DAT_BATTLE_BIN__801b8a78);
      }
LAB_BATTLE_BIN__801ab94c:
      if (DAT_BATTLE_BIN__801b8a60 == DAT_BATTLE_BIN__801b8a64) {
        FUN_BATTLE_BIN__801a9420(&DAT_BATTLE_BIN__801b8a70,&DAT_BATTLE_BIN__801b8a68);
        DAT_BATTLE_BIN__801b69cc = 0;
        FUN_BATTLE_BIN__8008ba60(&DAT_BATTLE_BIN__801b8a68);
      }
    }
    else if (DAT_BATTLE_BIN__801b69cc < 0x401) {
      if ((DAT_BATTLE_BIN__801b69cc != 0) && (DAT_BATTLE_BIN__801b69cc == 0x200)) {
        FUN_BATTLE_BIN__8008ba60(&DAT_BATTLE_BIN__801b8a70);
        DAT_BATTLE_BIN__801b69cc = 0;
        _DAT_BATTLE_BIN__801b8a78 = _DAT_BATTLE_BIN__801b8a70 & 0xfff0fff;
        _DAT_BATTLE_BIN__801b8a68 = _DAT_BATTLE_BIN__801b8a70 & 0xfff0fff;
        _DAT_BATTLE_BIN__801b8a7c =
             CONCAT22(DAT_BATTLE_BIN__801b8a7c_2,DAT_BATTLE_BIN__801b8a74) & 0xffff0fff;
        _DAT_BATTLE_BIN__801b8a6c =
             CONCAT22(DAT_BATTLE_BIN__801b8a6c_2,DAT_BATTLE_BIN__801b8a74) & 0xffff0fff;
        DAT_BATTLE_BIN__801b8a64 = DAT_BATTLE_BIN__801b8a60;
      }
    }
    else {
      if (DAT_BATTLE_BIN__801b69cc == 0x600) {
        iVar5 = DAT_BATTLE_BIN__801b8a64 + 1;
        if (DAT_BATTLE_BIN__801b8a60 <= DAT_BATTLE_BIN__801b8a64) goto LAB_BATTLE_BIN__801abd14;
        psVar6 = &DAT_BATTLE_BIN__801b8a78;
        DAT_BATTLE_BIN__801b8a64 = iVar5;
        FUN_BATTLE_BIN__801a89b0
                  (&DAT_BATTLE_BIN__801b8a68,&DAT_BATTLE_BIN__801b8a70,DAT_BATTLE_BIN__801b8a60,
                   iVar5,&DAT_BATTLE_BIN__801b8a78);
        goto LAB_BATTLE_BIN__801abd0c;
      }
      if (DAT_BATTLE_BIN__801b69cc == 0x800) {
        iVar5 = DAT_BATTLE_BIN__801b8a64 + 1;
        if (DAT_BATTLE_BIN__801b8a64 < DAT_BATTLE_BIN__801b8a60) {
          DAT_BATTLE_BIN__801b8a64 = iVar5;
          FUN_BATTLE_BIN__801a8a14
                    (&DAT_BATTLE_BIN__801b8a68,&DAT_BATTLE_BIN__801b8a70,DAT_BATTLE_BIN__801b8a60,
                     iVar5,&DAT_BATTLE_BIN__801b8a78);
          goto LAB_BATTLE_BIN__801ab944;
        }
        goto LAB_BATTLE_BIN__801ab94c;
      }
    }
  }
  else {
    if (DAT_BATTLE_BIN__801b69cc == 0x1000) {
      if (DAT_BATTLE_BIN__801b8a64 < DAT_BATTLE_BIN__801b8a60) {
        psVar6 = &local_20;
        psVar1 = &DAT_BATTLE_BIN__801b8a70;
LAB_BATTLE_BIN__801abcd4:
        DAT_BATTLE_BIN__801b8a64 = DAT_BATTLE_BIN__801b8a64 + 1;
        psVar2 = asStack_18;
        local_1c = 0;
        local_1e = 0;
        local_20 = 0;
        FUN_BATTLE_BIN__801a8a14
                  (psVar6,psVar1,DAT_BATTLE_BIN__801b8a60,DAT_BATTLE_BIN__801b8a64,psVar2);
LAB_BATTLE_BIN__801abd04:
        psVar6 = &local_20;
        FUN_BATTLE_BIN__801a9720(&DAT_BATTLE_BIN__801b8a68,psVar2,psVar6);
LAB_BATTLE_BIN__801abd0c:
        FUN_BATTLE_BIN__8008ba60(psVar6);
      }
LAB_BATTLE_BIN__801abd14:
      if (DAT_BATTLE_BIN__801b8a60 != DAT_BATTLE_BIN__801b8a64) goto LAB_BATTLE_BIN__801abd38;
    }
    else {
      if (0x1000 < DAT_BATTLE_BIN__801b69cc) {
        if (DAT_BATTLE_BIN__801b69cc == 0x1200) {
          if (DAT_BATTLE_BIN__801b8a64 < DAT_BATTLE_BIN__801b8a60) {
            psVar2 = &DAT_BATTLE_BIN__801b8a70;
            DAT_BATTLE_BIN__801b8a64 = DAT_BATTLE_BIN__801b8a64 + 1;
            goto LAB_BATTLE_BIN__801abd04;
          }
        }
        else {
          if (DAT_BATTLE_BIN__801b69cc != 0x1400) goto LAB_BATTLE_BIN__801abd38;
          if (DAT_BATTLE_BIN__801b8a64 < DAT_BATTLE_BIN__801b8a60) {
            psVar6 = &DAT_BATTLE_BIN__801b8a70;
            psVar1 = &local_20;
            goto LAB_BATTLE_BIN__801abcd4;
          }
        }
        goto LAB_BATTLE_BIN__801abd14;
      }
      if (DAT_BATTLE_BIN__801b69cc != 0xc00) {
        if (DAT_BATTLE_BIN__801b69cc == 0xe00) {
          if (DAT_BATTLE_BIN__801b8a64 < DAT_BATTLE_BIN__801b8a60) {
            DAT_BATTLE_BIN__801b8a64 = DAT_BATTLE_BIN__801b8a64 + 1;
            local_1c = 0;
            local_1e = 0;
            local_20 = 0;
            FUN_BATTLE_BIN__801a8a14
                      (&DAT_BATTLE_BIN__801b8a70,&local_20,DAT_BATTLE_BIN__801b8a60,
                       DAT_BATTLE_BIN__801b8a64,asStack_18);
            FUN_BATTLE_BIN__801a97e8(&DAT_BATTLE_BIN__801b8a78,asStack_18,&DAT_BATTLE_BIN__801b8a78)
            ;
            FUN_BATTLE_BIN__8008ba60(&DAT_BATTLE_BIN__801b8a78);
          }
          if (DAT_BATTLE_BIN__801b8a60 == DAT_BATTLE_BIN__801b8a64) {
            _DAT_BATTLE_BIN__801b8a70 = _DAT_BATTLE_BIN__801b8a78;
            _DAT_BATTLE_BIN__801b8a74 = _DAT_BATTLE_BIN__801b8a7c;
            _DAT_BATTLE_BIN__801b8a68 = _DAT_BATTLE_BIN__801b8a78;
            _DAT_BATTLE_BIN__801b8a6c = _DAT_BATTLE_BIN__801b8a7c;
            goto LAB_BATTLE_BIN__801abd30;
          }
        }
        goto LAB_BATTLE_BIN__801abd38;
      }
      if (DAT_BATTLE_BIN__801b8a64 < DAT_BATTLE_BIN__801b8a60) {
        DAT_BATTLE_BIN__801b8a64 = DAT_BATTLE_BIN__801b8a64 + 1;
        FUN_BATTLE_BIN__801a97e8
                  (&DAT_BATTLE_BIN__801b8a78,&DAT_BATTLE_BIN__801b8a70,&DAT_BATTLE_BIN__801b8a78);
        FUN_BATTLE_BIN__8008ba60(&DAT_BATTLE_BIN__801b8a78);
      }
      if (DAT_BATTLE_BIN__801b8a60 != DAT_BATTLE_BIN__801b8a64) goto LAB_BATTLE_BIN__801abd38;
      _DAT_BATTLE_BIN__801b8a70 = _DAT_BATTLE_BIN__801b8a78;
      _DAT_BATTLE_BIN__801b8a74 = _DAT_BATTLE_BIN__801b8a7c;
      _DAT_BATTLE_BIN__801b8a68 = _DAT_BATTLE_BIN__801b8a78;
      _DAT_BATTLE_BIN__801b8a6c = _DAT_BATTLE_BIN__801b8a7c;
    }
LAB_BATTLE_BIN__801abd30:
    DAT_BATTLE_BIN__801b69cc = 0;
  }
LAB_BATTLE_BIN__801abd38:
  if (DAT_BATTLE_BIN__801b69d0 == 0xa00) {
    iVar5 = DAT_BATTLE_BIN__801b8a8c + 1;
    if (DAT_BATTLE_BIN__801b8a8c < DAT_BATTLE_BIN__801b8a88) {
      local_38 = 0;
      local_3c = 0;
      local_40 = 0;
      DAT_BATTLE_BIN__801b8a8c = iVar5;
      FUN_BATTLE_BIN__801a8bb0
                (&local_40,&DAT_BATTLE_BIN__801b8aa0,DAT_BATTLE_BIN__801b8a88,iVar5,aiStack_30);
      FUN_BATTLE_BIN__801a96c8(aiStack_30,&DAT_BATTLE_BIN__801b8ab0,&local_40);
      FUN_BATTLE_BIN__8008b30c(&local_40);
    }
    if (DAT_BATTLE_BIN__801b8a88 == DAT_BATTLE_BIN__801b8a8c) {
      DAT_BATTLE_BIN__801b8aa0 = DAT_BATTLE_BIN__801b8ab0;
      DAT_BATTLE_BIN__801b8aa4 = DAT_BATTLE_BIN__801b8ab4;
      DAT_BATTLE_BIN__801b8aa8 = DAT_BATTLE_BIN__801b8ab8;
      DAT_BATTLE_BIN__801b8aac = DAT_BATTLE_BIN__801b8abc;
      DAT_BATTLE_BIN__801b8a90 = DAT_BATTLE_BIN__801b8ab0;
      DAT_BATTLE_BIN__801b8a94 = DAT_BATTLE_BIN__801b8ab4;
      DAT_BATTLE_BIN__801b8a98 = DAT_BATTLE_BIN__801b8ab8;
      DAT_BATTLE_BIN__801b8a9c = DAT_BATTLE_BIN__801b8abc;
      goto LAB_BATTLE_BIN__801ac3c4;
    }
  }
  else if (DAT_BATTLE_BIN__801b69d0 < 0xa01) {
    if (DAT_BATTLE_BIN__801b69d0 == 0x400) {
      iVar5 = DAT_BATTLE_BIN__801b8a8c + 1;
      if (DAT_BATTLE_BIN__801b8a8c < DAT_BATTLE_BIN__801b8a88) {
        DAT_BATTLE_BIN__801b8a8c = iVar5;
        FUN_BATTLE_BIN__801a8ae8
                  (&DAT_BATTLE_BIN__801b8a90,&DAT_BATTLE_BIN__801b8aa0,DAT_BATTLE_BIN__801b8a88,
                   iVar5,&DAT_BATTLE_BIN__801b8ab0);
        FUN_BATTLE_BIN__801a93ec(&DAT_BATTLE_BIN__801b8ab0,&local_40);
        FUN_BATTLE_BIN__8008b30c(&local_40);
      }
      if (DAT_BATTLE_BIN__801b8a88 == DAT_BATTLE_BIN__801b8a8c) {
        DAT_BATTLE_BIN__801b8a90 = DAT_BATTLE_BIN__801b8aa0;
        DAT_BATTLE_BIN__801b8a94 = DAT_BATTLE_BIN__801b8aa4;
        DAT_BATTLE_BIN__801b8a98 = DAT_BATTLE_BIN__801b8aa8;
        DAT_BATTLE_BIN__801b8a9c = DAT_BATTLE_BIN__801b8aac;
        goto LAB_BATTLE_BIN__801ac3c4;
      }
    }
    else if (DAT_BATTLE_BIN__801b69d0 < 0x401) {
      if ((DAT_BATTLE_BIN__801b69d0 != 0) && (DAT_BATTLE_BIN__801b69d0 == 0x200)) {
        FUN_BATTLE_BIN__801a93ec(&DAT_BATTLE_BIN__801b8aa0,&local_40);
        FUN_BATTLE_BIN__8008b30c(&local_40);
        DAT_BATTLE_BIN__801b8ab0 = DAT_BATTLE_BIN__801b8aa0;
        DAT_BATTLE_BIN__801b8ab4 = DAT_BATTLE_BIN__801b8aa4;
        DAT_BATTLE_BIN__801b8ab8 = DAT_BATTLE_BIN__801b8aa8;
        DAT_BATTLE_BIN__801b8abc = DAT_BATTLE_BIN__801b8aac;
        DAT_BATTLE_BIN__801b8a90 = DAT_BATTLE_BIN__801b8aa0;
        DAT_BATTLE_BIN__801b8a94 = DAT_BATTLE_BIN__801b8aa4;
        DAT_BATTLE_BIN__801b8a98 = DAT_BATTLE_BIN__801b8aa8;
        DAT_BATTLE_BIN__801b8a9c = DAT_BATTLE_BIN__801b8aac;
        DAT_BATTLE_BIN__801b69d0 = 0;
        DAT_BATTLE_BIN__801b8a8c = DAT_BATTLE_BIN__801b8a88;
      }
    }
    else {
      if (DAT_BATTLE_BIN__801b69d0 == 0x600) {
        iVar5 = DAT_BATTLE_BIN__801b8a8c + 1;
        if (DAT_BATTLE_BIN__801b8a88 <= DAT_BATTLE_BIN__801b8a8c) goto LAB_BATTLE_BIN__801ac3a8;
        DAT_BATTLE_BIN__801b8a8c = iVar5;
        FUN_BATTLE_BIN__801a8b4c
                  (&DAT_BATTLE_BIN__801b8a90,&DAT_BATTLE_BIN__801b8aa0,DAT_BATTLE_BIN__801b8a88,
                   iVar5,&DAT_BATTLE_BIN__801b8ab0);
        FUN_BATTLE_BIN__801a93ec(&DAT_BATTLE_BIN__801b8ab0,&local_40);
        goto LAB_BATTLE_BIN__801ac3a0;
      }
      if (DAT_BATTLE_BIN__801b69d0 == 0x800) {
        iVar5 = DAT_BATTLE_BIN__801b8a8c + 1;
        if (DAT_BATTLE_BIN__801b8a8c < DAT_BATTLE_BIN__801b8a88) {
          DAT_BATTLE_BIN__801b8a8c = iVar5;
          FUN_BATTLE_BIN__801a8bb0
                    (&DAT_BATTLE_BIN__801b8a90,&DAT_BATTLE_BIN__801b8aa0,DAT_BATTLE_BIN__801b8a88,
                     iVar5,&DAT_BATTLE_BIN__801b8ab0);
          FUN_BATTLE_BIN__801a93ec(&DAT_BATTLE_BIN__801b8ab0,&local_40);
          FUN_BATTLE_BIN__8008b30c(&local_40);
        }
        if (DAT_BATTLE_BIN__801b8a88 == DAT_BATTLE_BIN__801b8a8c) {
          DAT_BATTLE_BIN__801b8a90 = DAT_BATTLE_BIN__801b8aa0;
          DAT_BATTLE_BIN__801b8a94 = DAT_BATTLE_BIN__801b8aa4;
          DAT_BATTLE_BIN__801b8a98 = DAT_BATTLE_BIN__801b8aa8;
          DAT_BATTLE_BIN__801b8a9c = DAT_BATTLE_BIN__801b8aac;
          goto LAB_BATTLE_BIN__801ac3c4;
        }
      }
    }
  }
  else {
    if (DAT_BATTLE_BIN__801b69d0 == 0x1000) {
      if (DAT_BATTLE_BIN__801b8a8c < DAT_BATTLE_BIN__801b8a88) {
        piVar3 = &DAT_BATTLE_BIN__801b8aa0;
        piVar7 = &local_40;
LAB_BATTLE_BIN__801ac368:
        DAT_BATTLE_BIN__801b8a8c = DAT_BATTLE_BIN__801b8a8c + 1;
        piVar4 = aiStack_30;
        local_38 = 0;
        local_3c = 0;
        local_40 = 0;
        FUN_BATTLE_BIN__801a8bb0
                  (piVar7,piVar3,DAT_BATTLE_BIN__801b8a88,DAT_BATTLE_BIN__801b8a8c,piVar4);
LAB_BATTLE_BIN__801ac398:
        FUN_BATTLE_BIN__801a95e8(&DAT_BATTLE_BIN__801b8a90,(short *)piVar4,&local_40);
LAB_BATTLE_BIN__801ac3a0:
        FUN_BATTLE_BIN__8008b30c(&local_40);
      }
LAB_BATTLE_BIN__801ac3a8:
      if (DAT_BATTLE_BIN__801b8a88 != DAT_BATTLE_BIN__801b8a8c) goto LAB_BATTLE_BIN__801ac3cc;
    }
    else {
      if (0x1000 < DAT_BATTLE_BIN__801b69d0) {
        if (DAT_BATTLE_BIN__801b69d0 == 0x1200) {
          if (DAT_BATTLE_BIN__801b8a8c < DAT_BATTLE_BIN__801b8a88) {
            piVar4 = &DAT_BATTLE_BIN__801b8aa0;
            DAT_BATTLE_BIN__801b8a8c = DAT_BATTLE_BIN__801b8a8c + 1;
            goto LAB_BATTLE_BIN__801ac398;
          }
        }
        else {
          if (DAT_BATTLE_BIN__801b69d0 != 0x1400) goto LAB_BATTLE_BIN__801ac3cc;
          piVar3 = &local_40;
          if (DAT_BATTLE_BIN__801b8a8c < DAT_BATTLE_BIN__801b8a88) {
            piVar7 = &DAT_BATTLE_BIN__801b8aa0;
            goto LAB_BATTLE_BIN__801ac368;
          }
        }
        goto LAB_BATTLE_BIN__801ac3a8;
      }
      if (DAT_BATTLE_BIN__801b69d0 != 0xc00) {
        if (DAT_BATTLE_BIN__801b69d0 == 0xe00) {
          if (DAT_BATTLE_BIN__801b8a8c < DAT_BATTLE_BIN__801b8a88) {
            DAT_BATTLE_BIN__801b8a8c = DAT_BATTLE_BIN__801b8a8c + 1;
            local_38 = 0;
            local_3c = 0;
            local_40 = 0;
            FUN_BATTLE_BIN__801a8bb0
                      (&DAT_BATTLE_BIN__801b8aa0,&local_40,DAT_BATTLE_BIN__801b8a88,
                       DAT_BATTLE_BIN__801b8a8c,aiStack_30);
            FUN_BATTLE_BIN__801a96c8(aiStack_30,&DAT_BATTLE_BIN__801b8ab0,&local_40);
            FUN_BATTLE_BIN__8008b30c(&local_40);
          }
          if (DAT_BATTLE_BIN__801b8a88 == DAT_BATTLE_BIN__801b8a8c) {
            DAT_BATTLE_BIN__801b8aa0 = DAT_BATTLE_BIN__801b8ab0;
            DAT_BATTLE_BIN__801b8aa4 = DAT_BATTLE_BIN__801b8ab4;
            DAT_BATTLE_BIN__801b8aa8 = DAT_BATTLE_BIN__801b8ab8;
            DAT_BATTLE_BIN__801b8aac = DAT_BATTLE_BIN__801b8abc;
            DAT_BATTLE_BIN__801b8a90 = DAT_BATTLE_BIN__801b8ab0;
            DAT_BATTLE_BIN__801b8a94 = DAT_BATTLE_BIN__801b8ab4;
            DAT_BATTLE_BIN__801b8a98 = DAT_BATTLE_BIN__801b8ab8;
            DAT_BATTLE_BIN__801b8a9c = DAT_BATTLE_BIN__801b8abc;
            goto LAB_BATTLE_BIN__801ac3c4;
          }
        }
        goto LAB_BATTLE_BIN__801ac3cc;
      }
      if (DAT_BATTLE_BIN__801b8a8c < DAT_BATTLE_BIN__801b8a88) {
        DAT_BATTLE_BIN__801b8a8c = DAT_BATTLE_BIN__801b8a8c + 1;
        FUN_BATTLE_BIN__801a96c8(&DAT_BATTLE_BIN__801b8aa0,&DAT_BATTLE_BIN__801b8ab0,&local_40);
        FUN_BATTLE_BIN__8008b30c(&local_40);
      }
      if (DAT_BATTLE_BIN__801b8a88 != DAT_BATTLE_BIN__801b8a8c) goto LAB_BATTLE_BIN__801ac3cc;
      DAT_BATTLE_BIN__801b8aa0 = DAT_BATTLE_BIN__801b8ab0;
      DAT_BATTLE_BIN__801b8aa4 = DAT_BATTLE_BIN__801b8ab4;
      DAT_BATTLE_BIN__801b8aa8 = DAT_BATTLE_BIN__801b8ab8;
      DAT_BATTLE_BIN__801b8aac = DAT_BATTLE_BIN__801b8abc;
      DAT_BATTLE_BIN__801b8a90 = DAT_BATTLE_BIN__801b8ab0;
      DAT_BATTLE_BIN__801b8a94 = DAT_BATTLE_BIN__801b8ab4;
      DAT_BATTLE_BIN__801b8a98 = DAT_BATTLE_BIN__801b8ab8;
      DAT_BATTLE_BIN__801b8a9c = DAT_BATTLE_BIN__801b8abc;
    }
LAB_BATTLE_BIN__801ac3c4:
    DAT_BATTLE_BIN__801b69d0 = 0;
  }
LAB_BATTLE_BIN__801ac3cc:
  if (DAT_BATTLE_BIN__801b69d4 == 0xa00) {
    iVar5 = DAT_BATTLE_BIN__801b8ad4 + 1;
    if (DAT_BATTLE_BIN__801b8ad4 < DAT_BATTLE_BIN__801b8ad0) {
      local_38 = 0;
      local_3c = 0;
      local_40 = 0;
      DAT_BATTLE_BIN__801b8ad4 = iVar5;
      FUN_BATTLE_BIN__801a8bb0
                (&local_40,&DAT_BATTLE_BIN__801b8ae8,DAT_BATTLE_BIN__801b8ad0,iVar5,aiStack_30);
      FUN_BATTLE_BIN__801a9454(aiStack_30,&DAT_BATTLE_BIN__801b8af8,&DAT_BATTLE_BIN__801b8af8);
      FUN_BATTLE_BIN__8008b834(&DAT_BATTLE_BIN__801b8af8);
    }
    if (DAT_BATTLE_BIN__801b8ad0 == DAT_BATTLE_BIN__801b8ad4) {
      DAT_BATTLE_BIN__801b69d4 = 0;
      DAT_BATTLE_BIN__801b8ad8 = DAT_BATTLE_BIN__801b8af8;
      DAT_BATTLE_BIN__801b8adc = DAT_BATTLE_BIN__801b8afc;
      DAT_BATTLE_BIN__801b8ae0 = DAT_BATTLE_BIN__801b8b00;
      DAT_BATTLE_BIN__801b8ae4 = DAT_BATTLE_BIN__801b8b04;
      DAT_BATTLE_BIN__801b8ae8 = DAT_BATTLE_BIN__801b8af8;
      DAT_BATTLE_BIN__801b8aec = DAT_BATTLE_BIN__801b8afc;
      DAT_BATTLE_BIN__801b8af0 = DAT_BATTLE_BIN__801b8b00;
      DAT_BATTLE_BIN__801b8af4 = DAT_BATTLE_BIN__801b8b04;
      return;
    }
    return;
  }
  if (DAT_BATTLE_BIN__801b69d4 < 0xa01) {
    if (DAT_BATTLE_BIN__801b69d4 == 0x400) {
      iVar5 = DAT_BATTLE_BIN__801b8ad4 + 1;
      if (DAT_BATTLE_BIN__801b8ad4 < DAT_BATTLE_BIN__801b8ad0) {
        DAT_BATTLE_BIN__801b8ad4 = iVar5;
        FUN_BATTLE_BIN__801a8ae8
                  (&DAT_BATTLE_BIN__801b8ad8,&DAT_BATTLE_BIN__801b8ae8,DAT_BATTLE_BIN__801b8ad0,
                   iVar5,&DAT_BATTLE_BIN__801b8af8);
        FUN_BATTLE_BIN__8008b834(&DAT_BATTLE_BIN__801b8af8);
      }
      if (DAT_BATTLE_BIN__801b8ad0 == DAT_BATTLE_BIN__801b8ad4) {
        DAT_BATTLE_BIN__801b69d4 = 0;
        DAT_BATTLE_BIN__801b8ad8 = DAT_BATTLE_BIN__801b8ae8;
        DAT_BATTLE_BIN__801b8adc = DAT_BATTLE_BIN__801b8aec;
        DAT_BATTLE_BIN__801b8ae0 = DAT_BATTLE_BIN__801b8af0;
        DAT_BATTLE_BIN__801b8ae4 = DAT_BATTLE_BIN__801b8af4;
        return;
      }
      return;
    }
    if (DAT_BATTLE_BIN__801b69d4 < 0x401) {
      if (DAT_BATTLE_BIN__801b69d4 == 0) {
        return;
      }
      if (DAT_BATTLE_BIN__801b69d4 == 0x200) {
        FUN_BATTLE_BIN__8008b834(&DAT_BATTLE_BIN__801b8ae8);
        DAT_BATTLE_BIN__801b69d4 = 0;
        DAT_BATTLE_BIN__801b8ad4 = DAT_BATTLE_BIN__801b8ad0;
        DAT_BATTLE_BIN__801b8ad8 = DAT_BATTLE_BIN__801b8ae8;
        DAT_BATTLE_BIN__801b8adc = DAT_BATTLE_BIN__801b8aec;
        DAT_BATTLE_BIN__801b8ae0 = DAT_BATTLE_BIN__801b8af0;
        DAT_BATTLE_BIN__801b8ae4 = DAT_BATTLE_BIN__801b8af4;
        DAT_BATTLE_BIN__801b8af8 = DAT_BATTLE_BIN__801b8ae8;
        DAT_BATTLE_BIN__801b8afc = DAT_BATTLE_BIN__801b8aec;
        DAT_BATTLE_BIN__801b8b00 = DAT_BATTLE_BIN__801b8af0;
        DAT_BATTLE_BIN__801b8b04 = DAT_BATTLE_BIN__801b8af4;
        return;
      }
      return;
    }
    if (DAT_BATTLE_BIN__801b69d4 != 0x600) {
      if (DAT_BATTLE_BIN__801b69d4 != 0x800) {
        return;
      }
      iVar5 = DAT_BATTLE_BIN__801b8ad4 + 1;
      if (DAT_BATTLE_BIN__801b8ad4 < DAT_BATTLE_BIN__801b8ad0) {
        DAT_BATTLE_BIN__801b8ad4 = iVar5;
        FUN_BATTLE_BIN__801a8bb0
                  (&DAT_BATTLE_BIN__801b8ad8,&DAT_BATTLE_BIN__801b8ae8,DAT_BATTLE_BIN__801b8ad0,
                   iVar5,&DAT_BATTLE_BIN__801b8af8);
        FUN_BATTLE_BIN__8008b834(&DAT_BATTLE_BIN__801b8af8);
      }
      if (DAT_BATTLE_BIN__801b8ad0 == DAT_BATTLE_BIN__801b8ad4) {
        DAT_BATTLE_BIN__801b69d4 = 0;
        DAT_BATTLE_BIN__801b8ad8 = DAT_BATTLE_BIN__801b8ae8;
        DAT_BATTLE_BIN__801b8adc = DAT_BATTLE_BIN__801b8aec;
        DAT_BATTLE_BIN__801b8ae0 = DAT_BATTLE_BIN__801b8af0;
        DAT_BATTLE_BIN__801b8ae4 = DAT_BATTLE_BIN__801b8af4;
        return;
      }
      return;
    }
    iVar5 = DAT_BATTLE_BIN__801b8ad4 + 1;
    if (DAT_BATTLE_BIN__801b8ad0 <= DAT_BATTLE_BIN__801b8ad4) goto LAB_BATTLE_BIN__801aca1c;
    piVar7 = &DAT_BATTLE_BIN__801b8af8;
    DAT_BATTLE_BIN__801b8ad4 = iVar5;
    FUN_BATTLE_BIN__801a8b4c
              (&DAT_BATTLE_BIN__801b8ad8,&DAT_BATTLE_BIN__801b8ae8,DAT_BATTLE_BIN__801b8ad0,iVar5,
               &DAT_BATTLE_BIN__801b8af8);
  }
  else {
    if (DAT_BATTLE_BIN__801b69d4 == 0x1000) {
      piVar7 = &local_40;
      if (DAT_BATTLE_BIN__801b8ad0 <= DAT_BATTLE_BIN__801b8ad4) goto LAB_BATTLE_BIN__801aca1c;
      piVar3 = &DAT_BATTLE_BIN__801b8ae8;
LAB_BATTLE_BIN__801ac9dc:
      DAT_BATTLE_BIN__801b8ad4 = DAT_BATTLE_BIN__801b8ad4 + 1;
      piVar4 = aiStack_30;
      local_38 = 0;
      local_3c = 0;
      local_40 = 0;
      FUN_BATTLE_BIN__801a8bb0
                (piVar7,piVar3,DAT_BATTLE_BIN__801b8ad0,DAT_BATTLE_BIN__801b8ad4,piVar4);
    }
    else {
      if (DAT_BATTLE_BIN__801b69d4 < 0x1001) {
        if (DAT_BATTLE_BIN__801b69d4 == 0xc00) {
          if (DAT_BATTLE_BIN__801b8ad4 < DAT_BATTLE_BIN__801b8ad0) {
            DAT_BATTLE_BIN__801b8ad4 = DAT_BATTLE_BIN__801b8ad4 + 1;
            FUN_BATTLE_BIN__801a9454
                      (&DAT_BATTLE_BIN__801b8ae8,&DAT_BATTLE_BIN__801b8af8,&DAT_BATTLE_BIN__801b8af8
                      );
            FUN_BATTLE_BIN__8008b834(&DAT_BATTLE_BIN__801b8af8);
          }
          if (DAT_BATTLE_BIN__801b8ad0 == DAT_BATTLE_BIN__801b8ad4) {
            DAT_BATTLE_BIN__801b69d4 = 0;
            DAT_BATTLE_BIN__801b8ad8 = DAT_BATTLE_BIN__801b8af8;
            DAT_BATTLE_BIN__801b8adc = DAT_BATTLE_BIN__801b8afc;
            DAT_BATTLE_BIN__801b8ae0 = DAT_BATTLE_BIN__801b8b00;
            DAT_BATTLE_BIN__801b8ae4 = DAT_BATTLE_BIN__801b8b04;
            DAT_BATTLE_BIN__801b8ae8 = DAT_BATTLE_BIN__801b8af8;
            DAT_BATTLE_BIN__801b8aec = DAT_BATTLE_BIN__801b8afc;
            DAT_BATTLE_BIN__801b8af0 = DAT_BATTLE_BIN__801b8b00;
            DAT_BATTLE_BIN__801b8af4 = DAT_BATTLE_BIN__801b8b04;
            return;
          }
          return;
        }
        if (DAT_BATTLE_BIN__801b69d4 != 0xe00) {
          return;
        }
        if (DAT_BATTLE_BIN__801b8ad4 < DAT_BATTLE_BIN__801b8ad0) {
          DAT_BATTLE_BIN__801b8ad4 = DAT_BATTLE_BIN__801b8ad4 + 1;
          local_38 = 0;
          local_3c = 0;
          local_40 = 0;
          FUN_BATTLE_BIN__801a8bb0
                    (&DAT_BATTLE_BIN__801b8ae8,&local_40,DAT_BATTLE_BIN__801b8ad0,
                     DAT_BATTLE_BIN__801b8ad4,aiStack_30);
          FUN_BATTLE_BIN__801a9454(aiStack_30,&DAT_BATTLE_BIN__801b8af8,&DAT_BATTLE_BIN__801b8af8);
          FUN_BATTLE_BIN__8008b834(&DAT_BATTLE_BIN__801b8af8);
        }
        if (DAT_BATTLE_BIN__801b8ad0 == DAT_BATTLE_BIN__801b8ad4) {
          DAT_BATTLE_BIN__801b69d4 = 0;
          DAT_BATTLE_BIN__801b8ad8 = DAT_BATTLE_BIN__801b8af8;
          DAT_BATTLE_BIN__801b8adc = DAT_BATTLE_BIN__801b8afc;
          DAT_BATTLE_BIN__801b8ae0 = DAT_BATTLE_BIN__801b8b00;
          DAT_BATTLE_BIN__801b8ae4 = DAT_BATTLE_BIN__801b8b04;
          DAT_BATTLE_BIN__801b8ae8 = DAT_BATTLE_BIN__801b8af8;
          DAT_BATTLE_BIN__801b8aec = DAT_BATTLE_BIN__801b8afc;
          DAT_BATTLE_BIN__801b8af0 = DAT_BATTLE_BIN__801b8b00;
          DAT_BATTLE_BIN__801b8af4 = DAT_BATTLE_BIN__801b8b04;
          return;
        }
        return;
      }
      if (DAT_BATTLE_BIN__801b69d4 != 0x1200) {
        if (DAT_BATTLE_BIN__801b69d4 != 0x1400) {
          return;
        }
        piVar3 = &local_40;
        if (DAT_BATTLE_BIN__801b8ad0 <= DAT_BATTLE_BIN__801b8ad4) goto LAB_BATTLE_BIN__801aca1c;
        piVar7 = &DAT_BATTLE_BIN__801b8ae8;
        goto LAB_BATTLE_BIN__801ac9dc;
      }
      if (DAT_BATTLE_BIN__801b8ad0 <= DAT_BATTLE_BIN__801b8ad4) goto LAB_BATTLE_BIN__801aca1c;
      piVar4 = &DAT_BATTLE_BIN__801b8ae8;
      DAT_BATTLE_BIN__801b8ad4 = DAT_BATTLE_BIN__801b8ad4 + 1;
    }
    FUN_BATTLE_BIN__801a9514(&DAT_BATTLE_BIN__801b8ad8,(short *)piVar4,&local_40);
    piVar7 = &local_40;
  }
  FUN_BATTLE_BIN__8008b834(piVar7);
LAB_BATTLE_BIN__801aca1c:
  if (DAT_BATTLE_BIN__801b8ad0 == DAT_BATTLE_BIN__801b8ad4) {
    DAT_BATTLE_BIN__801b69d4 = 0;
    return;
  }
  return;
}



void FUN_BATTLE_BIN__801ad62c(void)

{
  int iVar1;
  undefined *puVar2;
  int iVar3;
  int iVar4;
  
  DAT_BATTLE_BIN__801b9279 = 0;
  DAT_BATTLE_BIN__801b9278 = 0;
  DAT_BATTLE_BIN__801bc0d0 = 1;
  iVar1 = 2;
  iVar4 = 1;
  do {
    iVar3 = iVar4 + 1;
    iVar1 = (iVar1 + iVar4) * 0x44;
    (&DAT_BATTLE_BIN__801b9278)[iVar1] = (char)iVar3;
    (&DAT_BATTLE_BIN__801b9279)[iVar1] = (char)iVar4 + -1;
    iVar1 = iVar3 * 2;
    iVar4 = iVar3;
  } while (iVar3 < 0x20);
  (&DAT_BATTLE_BIN__801b9278)[iVar3 * 0xcc] = 0;
  (&DAT_BATTLE_BIN__801b9279)[iVar3 * 0xcc] = (char)iVar3 + -1;
  DAT_BATTLE_BIN__801badd8 = 0;
  DAT_BATTLE_BIN__801bad08 = 0;
  DAT_BATTLE_BIN__801bad04 = 0;
  DAT_BATTLE_BIN__801bad00 = 0;
  iVar4 = 1;
  do {
    iVar1 = iVar4 * 0x54;
    iVar3 = iVar4 + 1;
    (&DAT_BATTLE_BIN__801b8b9e)[iVar1] = (char)iVar4;
    (&DAT_BATTLE_BIN__801b8b9c)[iVar1] = (char)iVar3;
    (&DAT_BATTLE_BIN__801b8b9d)[iVar1] = (char)iVar4 + -1;
    (&DAT_BATTLE_BIN__801b8b9f)[iVar1] = 0;
    (&DAT_BATTLE_BIN__801b8bec)[iVar4 * 0x15] = 0;
    iVar1 = 0;
    iVar4 = iVar3;
  } while (iVar3 < 0x10);
  iVar4 = -0x7fe47434;
  DAT_BATTLE_BIN__801b8b9c = 0;
  DAT_BATTLE_BIN__801b90dd = 0xf;
  DAT_BATTLE_BIN__801b90de = 0x10;
  DAT_BATTLE_BIN__801b9134 = 1;
  DAT_BATTLE_BIN__801b8b9d = 0;
  DAT_BATTLE_BIN__801b8b9e = 0;
  DAT_BATTLE_BIN__801b8b9f = 0;
  DAT_BATTLE_BIN__801b8bec = 0;
  DAT_BATTLE_BIN__801b90dc = 0;
  DAT_BATTLE_BIN__801b90df = 0;
  DAT_BATTLE_BIN__801b912c = 0;
  DAT_BATTLE_BIN__801b9130 = 0;
  DAT_BATTLE_BIN__801b913c = &DAT_BATTLE_BIN__801b7690;
  do {
    *(undefined2 *)((int)&DAT_BATTLE_BIN__801b8bc8 + iVar1) = 0;
    iVar3 = 0x1f;
    puVar2 = (undefined *)(iVar4 + 0x1f);
    do {
      *puVar2 = 0;
      iVar3 = iVar3 + -1;
      puVar2 = puVar2 + -1;
    } while (-1 < iVar3);
    iVar1 = iVar1 + 0x54;
    iVar4 = iVar4 + 0x54;
  } while (iVar1 < 0x594);
  FUN_BATTLE_BIN__801a51bc();
  FUN_BATTLE_BIN__801aaafc();
  return;
}



uint FUN_BATTLE_BIN__801ad828(void)

{
  undefined uVar1;
  byte bVar2;
  ushort uVar3;
  int iVar4;
  undefined *puVar5;
  int iVar6;
  uint uVar7;
  
  uVar3 = DAT_BATTLE_BIN__801b9134;
  bVar2 = (byte)DAT_BATTLE_BIN__801b9134;
  uVar7 = (uint)(byte)DAT_BATTLE_BIN__801b9134;
  if (uVar7 == 0) {
    FUN_800449f8();
  }
  else {
    iVar4 = uVar7 * 0x54;
    DAT_BATTLE_BIN__801b9134 = (ushort)(byte)(&DAT_BATTLE_BIN__801b8b9c)[iVar4];
    (&DAT_BATTLE_BIN__801b8b9d)[(uint)DAT_BATTLE_BIN__801b9134 * 0x54] = 0;
    uVar1 = (undefined)DAT_BATTLE_BIN__801b9130;
    iVar6 = 0x1f;
    (&DAT_BATTLE_BIN__801b8b9d)[iVar4] = 0;
    (&DAT_BATTLE_BIN__801b8b9c)[iVar4] = uVar1;
    puVar5 = &DAT_BATTLE_BIN__801b8beb + iVar4;
    (&DAT_BATTLE_BIN__801b8b9d)[(uint)DAT_BATTLE_BIN__801b9130 * 0x54] = bVar2;
    DAT_BATTLE_BIN__801b9130 = uVar3 & 0xff;
    *(undefined2 *)(&DAT_BATTLE_BIN__801b8ba8 + iVar4) = 0;
    do {
      *puVar5 = 0;
      iVar6 = iVar6 + -1;
      puVar5 = puVar5 + -1;
    } while (-1 < iVar6);
  }
  return uVar7;
}



void FUN_BATTLE_BIN__801ad944(byte param_1)

{
  int iVar1;
  uint uVar2;
  byte *pbVar3;
  
  uVar2 = (uint)param_1;
  iVar1 = uVar2 * 0x54;
  pbVar3 = &DAT_BATTLE_BIN__801b8b9c + iVar1;
  if ((param_1 == 0) || (0x10 < uVar2)) {
    FUN_800449f8();
  }
  else {
    if ((&DAT_BATTLE_BIN__801b8bec)[uVar2 * 0x15] != 0) {
      BIN_Free_FFT((&DAT_BATTLE_BIN__801b8bec)[uVar2 * 0x15]);
      (&DAT_BATTLE_BIN__801b8bec)[uVar2 * 0x15] = 0;
    }
    if ((byte)(&DAT_BATTLE_BIN__801b8b9d)[iVar1] == 0) {
      DAT_BATTLE_BIN__801b9130 = (ushort)*pbVar3;
    }
    else {
      (&DAT_BATTLE_BIN__801b8b9c)[(uint)(byte)(&DAT_BATTLE_BIN__801b8b9d)[iVar1] * 0x54] = *pbVar3;
    }
    (&DAT_BATTLE_BIN__801b8b9d)[(uint)DAT_BATTLE_BIN__801b9130 * 0x54] = 0;
    uVar2 = (uint)DAT_BATTLE_BIN__801b9134;
    if (uVar2 == 0) {
      DAT_BATTLE_BIN__801b9134 = (ushort)param_1;
      (&DAT_BATTLE_BIN__801b8b9d)[iVar1] = 0;
    }
    else {
      for (; (&DAT_BATTLE_BIN__801b8b9c)[uVar2 * 0x54] != '\0';
          uVar2 = (uint)(byte)(&DAT_BATTLE_BIN__801b8b9c)[uVar2 * 0x54]) {
      }
      (&DAT_BATTLE_BIN__801b8b9c)[uVar2 * 0x54] = param_1;
      (&DAT_BATTLE_BIN__801b8b9d)[iVar1] = (char)uVar2;
    }
    *pbVar3 = 0;
    *(undefined4 *)(&DAT_BATTLE_BIN__801b8ba4 + iVar1) = 0;
  }
  return;
}



undefined4 FUN_BATTLE_BIN__801adae0(uint param_1)

{
  return *(undefined4 *)(&DAT_BATTLE_BIN__801b8ba4 + (param_1 & 0xff) * 0x54);
}



void FUN_BATTLE_BIN__801adb0c(uint param_1)

{
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8ba4 + (param_1 & 0xff) * 0x54) = 3;
  return;
}



void FUN_BATTLE_BIN__801add54(undefined2 param_1,undefined2 param_2,int param_3)

{
  undefined2 uVar1;
  ushort uVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  
  uVar3 = FUN_BATTLE_BIN__801ad828();
  iVar4 = (uVar3 & 0xff) * 0x54;
  *(undefined2 *)(&DAT_BATTLE_BIN__801b8ba0 + iVar4) = param_1;
  *(undefined2 *)(&DAT_BATTLE_BIN__801b8ba8 + iVar4) = 0;
  *(undefined2 *)(&DAT_BATTLE_BIN__801b8ba2 + iVar4) = param_2;
  (&DAT_BATTLE_BIN__801b8b9f)[iVar4] =
       (&DAT_BATTLE_BIN__801b84dc)[(uint)*(ushort *)(&DAT_BATTLE_BIN__801b8ba0 + iVar4) * 4];
  uVar5 = *(undefined4 *)(param_3 + 0xa8);
  uVar1 = *(undefined2 *)(param_3 + 0xac);
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bac + iVar4) = *(undefined4 *)(param_3 + 0xa4);
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bb0 + iVar4) = uVar5;
  *(undefined2 *)(&DAT_BATTLE_BIN__801b8bb4 + iVar4) = uVar1;
  uVar5 = *(undefined4 *)(param_3 + 8);
  uVar1 = *(undefined2 *)(param_3 + 0xc);
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bb6 + iVar4) = *(undefined4 *)(param_3 + 4);
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bba + iVar4) = uVar5;
  *(undefined2 *)(&DAT_BATTLE_BIN__801b8bbe + iVar4) = uVar1;
  uVar2 = *(ushort *)(param_3 + 0xc6);
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8ba4 + iVar4) = 1;
  *(uint *)(&DAT_BATTLE_BIN__801b8bc0 + iVar4) = (uint)uVar2;
  return;
}



void FUN_BATTLE_BIN__801ade7c(undefined4 param_1,ushort *param_2)

{
  ushort uVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  
  uVar2 = FUN_BATTLE_BIN__801ad828();
  iVar3 = (uVar2 & 0xff) * 0x54;
  *(short *)(&DAT_BATTLE_BIN__801b8ba0 + iVar3) = (short)param_1;
  *(undefined2 *)(&DAT_BATTLE_BIN__801b8ba8 + iVar3) = 0;
  *(short *)(&DAT_BATTLE_BIN__801b8ba2 + iVar3) = (short)((uint)param_1 >> 0x10);
  (&DAT_BATTLE_BIN__801b8b9f)[iVar3] =
       (&DAT_BATTLE_BIN__801b84dc)[(uint)*(ushort *)(&DAT_BATTLE_BIN__801b8ba0 + iVar3) * 4];
  uVar4 = *(undefined4 *)(param_2 + 0x54);
  uVar1 = param_2[0x56];
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bac + iVar3) = *(undefined4 *)(param_2 + 0x52);
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bb0 + iVar3) = uVar4;
  *(ushort *)(&DAT_BATTLE_BIN__801b8bb4 + iVar3) = uVar1;
  uVar4 = *(undefined4 *)(param_2 + 4);
  uVar1 = param_2[6];
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bb6 + iVar3) = *(undefined4 *)(param_2 + 2);
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bba + iVar3) = uVar4;
  *(ushort *)(&DAT_BATTLE_BIN__801b8bbe + iVar3) = uVar1;
  uVar1 = param_2[99];
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8ba4 + iVar3) = 1;
  *(uint *)(&DAT_BATTLE_BIN__801b8bc0 + iVar3) = (uint)uVar1;
  *(uint *)(&DAT_BATTLE_BIN__801b8bc4 + iVar3) = (uint)*param_2;
  return;
}



uint FUN_BATTLE_BIN__801adfac(uint param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = 0;
  uVar2 = param_1;
  if (param_1 != 0) {
    do {
      if ((param_1 & (byte)(&DAT_BATTLE_BIN__801b8544)[uVar1]) != 0) {
        return uVar1;
      }
      uVar1 = uVar1 + 1;
      uVar2 = uVar1;
    } while ((int)uVar1 < 9);
  }
  return uVar2;
}



uint FUN_BATTLE_BIN__801adfec(uint param_1,short *param_2)

{
  short sVar1;
  undefined2 uVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  undefined4 uVar6;
  
  if (*param_2 == 0) {
    return 0;
  }
  uVar3 = FUN_BATTLE_BIN__801adfac(param_1);
  uVar4 = FUN_BATTLE_BIN__801ad828();
  switch(*(undefined *)((int)param_2 + 7)) {
  case 0:
  case 1:
  case 3:
  case 4:
    iVar5 = (uVar4 & 0xff) * 0x54;
    uVar2 = 7;
    break;
  default:
    goto switchD_BATTLE_BIN__801ae044_caseD_2;
  case 5:
    iVar5 = (uVar4 & 0xff) * 0x54;
    uVar2 = 0x14;
    break;
  case 6:
  case 7:
    iVar5 = (uVar4 & 0xff) * 0x54;
    uVar2 = 0x12;
  }
  *(undefined2 *)(&DAT_BATTLE_BIN__801b8ba0 + iVar5) = uVar2;
switchD_BATTLE_BIN__801ae044_caseD_2:
  iVar5 = (uVar4 & 0xff) * 0x54;
  *(short *)(&DAT_BATTLE_BIN__801b8ba2 + iVar5) = (short)uVar3;
  (&DAT_BATTLE_BIN__801b8b9f)[iVar5] =
       (&DAT_BATTLE_BIN__801b84dc)[(uint)*(ushort *)(&DAT_BATTLE_BIN__801b8ba0 + iVar5) * 4];
  uVar6 = *(undefined4 *)(param_2 + 0x54);
  sVar1 = param_2[0x56];
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bac + iVar5) = *(undefined4 *)(param_2 + 0x52);
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bb0 + iVar5) = uVar6;
  *(short *)(&DAT_BATTLE_BIN__801b8bb4 + iVar5) = sVar1;
  uVar6 = *(undefined4 *)(param_2 + 4);
  sVar1 = param_2[6];
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bb6 + iVar5) = *(undefined4 *)(param_2 + 2);
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8bba + iVar5) = uVar6;
  *(short *)(&DAT_BATTLE_BIN__801b8bbe + iVar5) = sVar1;
  *(undefined2 *)(&DAT_BATTLE_BIN__801b8ba8 + iVar5) = 0;
  *(undefined4 *)(&DAT_BATTLE_BIN__801b8ba4 + iVar5) = 1;
  return uVar4 & 0xff;
}



int FUN_BATTLE_BIN__801af3a4(int param_1)

{
  return DAT_BATTLE_BIN__801b8878 / 2 -
         ((param_1 >> 6) * (param_1 >> 6)) / (DAT_BATTLE_BIN__801b8878 >> 0xb);
}



undefined4 FUN_BATTLE_BIN__801af3dc(int param_1,int *param_2,int *param_3)

{
  int iVar1;
  long lVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar1 = FUN_BATTLE_BIN__8008dfac((ushort)*(undefined4 *)(param_1 + 0x28));
  iVar5 = ((uint)*(byte *)(iVar1 + 2) + (uint)(*(byte *)(iVar1 + 3) >> 5)) * 0xc000;
  iVar1 = FUN_BATTLE_BIN__801af3a4(*(int *)(param_1 + 0xc));
  if (*(int *)(param_1 + 0xc) == 0) {
    return 0;
  }
  iVar3 = *(int *)(param_1 + 0x2c) / 2;
  iVar4 = (iVar3 + *(int *)(param_1 + 4)) * 0x1000;
  if ((iVar1 < iVar4) || (iVar5 < iVar4)) {
    iVar3 = *(int *)(param_1 + 0x2c) * 3;
    if (iVar3 < 0) {
      iVar3 = iVar3 + 3;
    }
    iVar3 = iVar3 >> 2;
    iVar4 = (iVar3 + *(int *)(param_1 + 4)) * 0x1000;
    if ((iVar1 < iVar4) || (iVar5 < iVar4)) {
      iVar4 = *(int *)(param_1 + 4) << 0xc;
      if (iVar1 < iVar4) {
        return 0;
      }
      if (iVar5 < iVar4) {
        return 0;
      }
      *(undefined4 *)(param_1 + 0x2c) = 0;
      goto LAB_BATTLE_BIN__801af4e8;
    }
  }
  *(int *)(param_1 + 0x2c) = iVar3;
LAB_BATTLE_BIN__801af4e8:
  iVar1 = *(int *)(param_1 + 0xc) >> 6;
  lVar2 = SquareRoot12(((DAT_BATTLE_BIN__801b8878 >> 6) - (iVar4 >> 5)) *
                       (DAT_BATTLE_BIN__801b8878 >> 6) - iVar1 * iVar1);
  *param_2 = ((lVar2 + DAT_BATTLE_BIN__801b8878) * 0x100) / (*(int *)(param_1 + 0xc) >> 4);
  *param_3 = ((DAT_BATTLE_BIN__801b8878 - lVar2) * 0x100) / (*(int *)(param_1 + 0xc) >> 4);
  return 1;
}



int FUN_BATTLE_BIN__801af59c(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar3 = param_2 >> 5;
  iVar1 = param_2 >> 7;
  if (param_1 + 0x7fffU < 0xffff) {
    iVar5 = param_1 * param_1 >> 0xc;
    if (param_2 + 0xfffffU < 0x1fffff) {
      iVar2 = iVar3 * iVar3 >> 2;
      iVar3 = param_1 * iVar3 >> 7;
    }
    else {
      iVar2 = iVar1 * iVar1 * 4;
      iVar3 = param_1 * iVar1 >> 5;
    }
  }
  else {
    iVar4 = param_1 >> 4;
    iVar5 = iVar4 * iVar4 >> 4;
    if (param_2 + 0xfffffU < 0x1fffff) {
      iVar2 = iVar3 * iVar3 >> 2;
      iVar3 = iVar4 * iVar3 >> 3;
    }
    else {
      iVar2 = iVar1 * iVar1 * 4;
      iVar3 = iVar4 * iVar1 >> 1;
    }
  }
  return iVar3 - ((iVar5 + 0x1000 >> 6) * (iVar2 >> 6)) / ((DAT_BATTLE_BIN__801b8878 << 1) >> 0xc);
}



void FUN_BATTLE_BIN__801af6d8(int *param_1,int param_2,int param_3,int *param_4)

{
  int iVar1;
  
  iVar1 = (param_3 << 8) / (param_2 >> 4);
  *param_4 = iVar1 * *param_1 >> 0xc;
  param_4[1] = iVar1 * param_1[1] >> 0xc;
  param_4[2] = iVar1 * param_1[2] >> 0xc;
  return;
}



void FUN_BATTLE_BIN__801af734(void)

{
  SquareRoot12(DAT_BATTLE_BIN__801b8878 * DAT_BATTLE_BIN__801b8874 >> 0xc);
  return;
}



void FUN_BATTLE_BIN__801af770(uint param_1,uint param_2,int **param_3)

{
  BattleUnitData *pBVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  int iVar5;
  uint UnitID;
  undefined4 local_28;
  undefined4 local_24;
  
  UnitID = 0;
  *param_3 = &DAT_1f800000;
  DAT_1f800000 = 0;
  do {
    pBVar1 = GetUnitDataPointer(UnitID);
    uVar3 = (uint)(pBVar1->field0_0x0).UnitID;
    UnitID = UnitID + 1;
    if ((((uVar3 != param_1) && (uVar3 != param_2)) && (uVar3 != 0xff)) &&
       (((*(byte *)&(pBVar1->field0_0x0).CurrentStatuses & 4) == 0 &&
        (((pBVar1->field1_0x16e).field_0x14 & 0x40) == 0)))) {
      iVar5 = **param_3;
      **param_3 = iVar5 + 1;
      *(byte *)((int)*param_3 + iVar5 + 4) = (pBVar1->field0_0x0).UnitID;
      FUN_BATTLE_BIN__8008c468((ushort)(pBVar1->field0_0x0).UnitID,(short *)&local_28);
      piVar4 = *param_3;
      *(undefined4 *)((int)piVar4 + iVar5 * 8 + 0x1a) = local_28;
      *(undefined4 *)((int)piVar4 + iVar5 * 8 + 0x1e) = local_24;
      iVar2 = FUN_BATTLE_BIN__8008dc9c((ushort)(pBVar1->field0_0x0).UnitID);
      (*param_3)[iVar5 + 0x31] = iVar2;
    }
  } while ((int)UnitID < 0x15);
  return;
}



undefined4 FUN_BATTLE_BIN__801af8b4(int *param_1,int *param_2,uint *param_3,short *param_4)

{
  undefined1 *puVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  int *piVar5;
  
  *param_3 = 0xffffffff;
  *param_4 = (short)(*param_2 / 0x1c);
  iVar2 = param_2[2];
  param_4[2] = (short)(iVar2 / 0x1c);
  puVar1 = FUN_BATTLE_BIN__80183fb4((int)*param_4,(iVar2 / 0x1c) * 0x10000 >> 0x10,0);
  if ((puVar1[5] & 0x1f) == 0) {
    uVar3 = (uint)(byte)puVar1[2];
  }
  else {
    uVar3 = (byte)puVar1[5] & 0x1f;
  }
  if ((param_2[1] < (int)((uint)(byte)puVar1[2] * -0xc)) ||
     ((int)(((byte)puVar1[2] - uVar3) * -0xc) <= param_2[1])) {
    puVar1 = FUN_BATTLE_BIN__80183fb4((int)*param_4,(int)param_4[2],1);
    uVar3 = 1;
    if ((puVar1[5] & 0x1f) != 0) {
      uVar3 = (byte)puVar1[5] & 0x1f;
    }
    if ((param_2[1] < (int)((uint)(byte)puVar1[2] * -0xc)) ||
       ((int)(((byte)puVar1[2] - uVar3) * -0xc) <= param_2[1])) {
      iVar2 = 0;
      if (0 < *param_1) {
        piVar4 = param_1;
        piVar5 = param_1;
        do {
          if (((param_2[1] < (int)*(short *)(piVar4 + 7)) &&
              ((int)*(short *)(piVar4 + 7) - piVar5[0x31] < param_2[1])) && (piVar5[0x31] != 0)) {
            if ((*(short *)((int)piVar4 + 0x1a) + -8 < *param_2) &&
               (*param_2 < *(short *)((int)piVar4 + 0x1a) + 8)) {
              if ((*(short *)((int)piVar4 + 0x1e) + -8 < param_2[2]) &&
                 (param_2[2] < *(short *)((int)piVar4 + 0x1e) + 8)) {
                *param_3 = (uint)*(byte *)((int)param_1 + iVar2 + 4);
                return 1;
              }
            }
          }
          piVar5 = piVar5 + 1;
          iVar2 = iVar2 + 1;
          piVar4 = piVar4 + 2;
        } while (iVar2 < *param_1);
      }
      return 0;
    }
    param_4[1] = 1;
  }
  else {
    param_4[1] = 0;
  }
  DAT_BATTLE_BIN__801b8b94 = (byte)puVar1[6] >> 4 & 7;
  return 1;
}



bool FUN_BATTLE_BIN__801afb38(short *param_1,uint *param_2,int *param_3,int param_4,int *param_5)

{
  long lVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int unaff_s6;
  SVECTOR local_80;
  SVECTOR local_78;
  undefined local_70 [4];
  int local_6c;
  int local_68;
  long local_64;
  int local_60;
  int local_5c;
  int local_58;
  long local_54;
  MATRIX MStack_50;
  
  lVar1 = ratan2(*param_2,0x1000);
  DAT_BATTLE_BIN__801b8b70 = (undefined2)lVar1;
  *(undefined2 *)(param_4 + 4) = DAT_BATTLE_BIN__801b8b70;
  iVar6 = 0;
  iVar2 = FUN_BATTLE_BIN__801af734();
  iVar3 = rcos((int)*(short *)(param_4 + 4));
  iVar2 = iVar3 * (iVar2 >> 8) >> 4;
  if (iVar2 == 0) {
    FUN_800449f8();
    iVar3 = 0;
  }
  else {
    iVar3 = (iVar2 + *param_3 + -1) / iVar2;
  }
  local_80.vz = 0;
  local_80.vx = 0;
  local_80.vy = *(short *)(param_4 + 2);
  RotMatrix(&local_80,&MStack_50);
  local_70 = (undefined  [4])(int)*param_1;
  local_6c = (int)param_1[1];
  iVar5 = 0;
  local_68 = (int)param_1[2];
  MStack_50.t[0] = (long)local_70;
  MStack_50.t[1] = local_6c;
  MStack_50.t[2] = local_68;
  SetRotMatrix(&MStack_50);
  SetTransMatrix(&MStack_50);
  local_78.vz = 0;
  if (0 < iVar3) {
    do {
      local_60 = (int)local_70;
      local_5c = local_6c;
      local_58 = local_68;
      local_54 = local_64;
      iVar6 = iVar6 + iVar2;
      iVar4 = FUN_BATTLE_BIN__801af59c(*param_2,iVar6);
      local_78.vx = (short)(iVar6 >> 0xc);
      local_78.vy = (short)(-iVar4 >> 0xc);
      RotTrans(&local_78,(VECTOR *)local_70,&local_64);
      unaff_s6 = FUN_BATTLE_BIN__801af8b4
                           (param_5,(int *)(VECTOR *)local_70,&DAT_BATTLE_BIN__801b8b64,
                            (short *)&DAT_BATTLE_BIN__801b8b68);
      if (unaff_s6 != 0) break;
      iVar5 = iVar5 + 1;
    } while (iVar5 < iVar3);
  }
  DAT_BATTLE_BIN__801b8b7c = (int)local_70 - local_60;
  DAT_BATTLE_BIN__801b8b80 = local_6c - local_5c;
  DAT_BATTLE_BIN__801b8b90 = (undefined2)local_68;
  DAT_BATTLE_BIN__801b8b84 = local_68 - local_58;
  DAT_BATTLE_BIN__801b8b8c = local_70._0_2_;
  DAT_BATTLE_BIN__801b8b8e = (undefined2)local_6c;
  DAT_BATTLE_BIN__801bbf3c = iVar5;
  if (unaff_s6 == 0) {
    DAT_BATTLE_BIN__801bbf3c = iVar3;
  }
  return unaff_s6 == 0;
}



undefined4 FUN_BATTLE_BIN__801afd90(uint param_1,uint param_2)

{
  bool bVar1;
  int iVar2;
  long lVar3;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  uint uVar4;
  uint uVar5;
  undefined auStack_58 [2];
  undefined2 local_56;
  int local_50;
  int local_4c;
  int local_48;
  long local_44;
  short local_40;
  short local_3e;
  short local_3c;
  uint local_38;
  int local_34;
  short local_30;
  short local_2e;
  short local_2c;
  uint local_28;
  undefined4 local_24;
  int *local_20;
  uint uStack_1c;
  uint auStack_18 [2];
  
  uVar4 = param_1 & 0xff;
  uVar5 = param_2 & 0xff;
  local_38 = uVar4;
  local_28 = uVar5;
  iVar2 = FUN_BATTLE_BIN__8008dc9c((ushort)uVar4);
  local_34 = (iVar2 << 1) / 3;
  local_24 = FUN_BATTLE_BIN__8008dc9c((ushort)uVar5);
  FUN_BATTLE_BIN__801af770(uVar4,uVar5,&local_20);
  FUN_BATTLE_BIN__8008c468((ushort)uVar4,&local_40);
  local_3e = local_3e - (short)local_34;
  FUN_BATTLE_BIN__8008c468((ushort)uVar5,&local_30);
  local_50 = (int)local_30 - (int)local_40;
  local_48 = (int)local_2c - (int)local_3c;
  local_4c = (int)local_3e - (int)local_2e;
  local_44 = SquareRoot12((local_50 * local_50 + local_48 * local_48) * 0x1000);
  lVar3 = ratan2(-local_48,local_50);
  local_56 = (undefined2)lVar3;
  iVar2 = FUN_BATTLE_BIN__801af3dc((int)&local_50,(int *)&uStack_1c,(int *)auStack_18);
  if (iVar2 != 0) {
    bVar1 = FUN_BATTLE_BIN__801afb38(&local_40,&uStack_1c,&local_44,(int)auStack_58,local_20);
    if (CONCAT31(extraout_var,bVar1) != 0) {
      return 1;
    }
    bVar1 = FUN_BATTLE_BIN__801afb38(&local_40,auStack_18,&local_44,(int)auStack_58,local_20);
    if (CONCAT31(extraout_var_00,bVar1) != 0) {
      return 1;
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_BATTLE_BIN__801aff18(uint param_1,short *param_2,uint param_3)

{
  uint UnitID;
  uint UnitID_00;
  undefined4 uVar1;
  bool bVar2;
  int iVar3;
  undefined1 *puVar4;
  long lVar5;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  BattleUnitData *pBVar6;
  BattleUnitData *pBVar7;
  uint uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined auStack_a8 [2];
  undefined2 local_a6;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  int local_70;
  int local_6c;
  int local_68;
  long local_64 [3];
  uint local_58;
  int local_54;
  uint local_48;
  undefined4 local_44;
  int *local_40;
  uint local_3c;
  uint local_38 [2];
  undefined4 local_30;
  
  DAT_BATTLE_BIN__801b8b60 = param_1;
  local_58 = param_1;
  local_48 = param_3;
  iVar3 = FUN_BATTLE_BIN__8008dc9c((ushort)param_1);
  local_54 = (iVar3 << 1) / 3;
  if (param_3 == 0xffffffff) {
    local_44 = 0;
  }
  else {
    local_44 = FUN_BATTLE_BIN__8008dc9c((ushort)param_3);
  }
  FUN_BATTLE_BIN__801af770(param_1,0xffffffff,&local_40);
  FUN_BATTLE_BIN__8008c468((ushort)param_1,&DAT_BATTLE_BIN__801b925c);
  DAT_BATTLE_BIN__801b925e = DAT_BATTLE_BIN__801b925e - (short)local_54;
  if (param_3 == 0xffffffff) {
    puVar4 = FUN_BATTLE_BIN__80183fb4((int)*param_2,(int)param_2[2],(int)param_2[1]);
    DAT_BATTLE_BIN__801b9264 = *param_2 * 0x1c + 0xe;
    DAT_BATTLE_BIN__801b9268 = param_2[2] * 0x1c + 0xe;
    DAT_BATTLE_BIN__801b9266 = ((ushort)(byte)puVar4[2] + (ushort)((byte)puVar4[3] >> 5)) * -0xc;
  }
  else {
    FUN_BATTLE_BIN__8008c468((ushort)param_3,&DAT_BATTLE_BIN__801b9264);
  }
  local_70 = (int)DAT_BATTLE_BIN__801b9264 - (int)DAT_BATTLE_BIN__801b925c;
  local_68 = (int)DAT_BATTLE_BIN__801b9268 - (int)DAT_BATTLE_BIN__801b9260;
  local_6c = (int)DAT_BATTLE_BIN__801b925e - (int)DAT_BATTLE_BIN__801b9266;
  local_64[0] = SquareRoot12((local_70 * local_70 + local_68 * local_68) * 0x1000);
  lVar5 = ratan2(-local_68,local_70);
  local_a6 = (undefined2)lVar5;
  iVar3 = FUN_BATTLE_BIN__801af3dc((int)&local_70,(int *)&local_3c,(int *)local_38);
  if (iVar3 == 0) {
    local_38[0] = 0x1000;
    local_3c = 0x1000;
  }
  bVar2 = FUN_BATTLE_BIN__801afb38
                    (&DAT_BATTLE_BIN__801b925c,local_38,local_64,(int)auStack_a8,local_40);
  UnitID = DAT_BATTLE_BIN__801b8b64;
  local_90 = DAT_BATTLE_BIN__801b8b7c;
  local_8c = DAT_BATTLE_BIN__801b8b80;
  local_88 = DAT_BATTLE_BIN__801b8b84;
  local_84 = DAT_BATTLE_BIN__801b8b88;
  local_78 = _DAT_BATTLE_BIN__801b8b8c;
  local_74 = _DAT_BATTLE_BIN__801b8b90;
  local_30 = DAT_BATTLE_BIN__801bbf3c;
  uVar10 = 0xffffffff;
  if (DAT_BATTLE_BIN__801b8b64 == 0xffffffff) {
    uVar10 = DAT_BATTLE_BIN__801b8b94;
  }
  uVar8 = local_38[0];
  DAT_BATTLE_BIN__801b8b64 = UnitID;
  if (CONCAT31(extraout_var,bVar2) == 0) {
    bVar2 = FUN_BATTLE_BIN__801afb38
                      (&DAT_BATTLE_BIN__801b925c,&local_3c,local_64,(int)auStack_a8,local_40);
    uVar1 = DAT_BATTLE_BIN__801bbf3c;
    UnitID_00 = DAT_BATTLE_BIN__801b8b64;
    local_a0 = DAT_BATTLE_BIN__801b8b7c;
    local_9c = DAT_BATTLE_BIN__801b8b80;
    local_98 = DAT_BATTLE_BIN__801b8b84;
    local_94 = DAT_BATTLE_BIN__801b8b88;
    local_80 = _DAT_BATTLE_BIN__801b8b8c;
    local_7c = _DAT_BATTLE_BIN__801b8b90;
    uVar9 = 0xffffffff;
    if (DAT_BATTLE_BIN__801b8b64 == 0xffffffff) {
      uVar9 = DAT_BATTLE_BIN__801b8b94;
    }
    uVar8 = local_3c;
    DAT_BATTLE_BIN__801b8b64 = UnitID_00;
    DAT_BATTLE_BIN__801bbf3c = uVar1;
    if (CONCAT31(extraout_var_00,bVar2) == 0) {
      pBVar6 = GetUnitDataPointer(param_1);
      if ((UnitID == 0xffffffff) ||
         (pBVar7 = GetUnitDataPointer(UnitID),
         ((pBVar6->field0_0x0).field_0x5 & 0x30) == ((pBVar7->field2_0x18c).field_0x2e & 0x30))) {
        if (UnitID_00 == 0xffffffff) {
          param_3 = 0xffffffff;
          uVar8 = local_3c;
          DAT_BATTLE_BIN__801b8b64 = UnitID_00;
          DAT_BATTLE_BIN__801b8b94 = uVar9;
          DAT_BATTLE_BIN__801bbf3c = uVar1;
        }
        else {
          pBVar7 = GetUnitDataPointer(UnitID_00);
          param_3 = UnitID_00;
          uVar8 = local_3c;
          DAT_BATTLE_BIN__801b8b64 = UnitID_00;
          DAT_BATTLE_BIN__801bbf3c = uVar1;
          if ((((pBVar6->field0_0x0).field_0x5 & 0x30) == ((pBVar7->field2_0x18c).field_0x2e & 0x30)
              ) && (DAT_BATTLE_BIN__801b8b94 = uVar9, UnitID == 0xffffffff)) {
            DAT_BATTLE_BIN__801b8b7c = local_90;
            DAT_BATTLE_BIN__801b8b80 = local_8c;
            DAT_BATTLE_BIN__801b8b84 = local_88;
            DAT_BATTLE_BIN__801b8b88 = local_84;
            _DAT_BATTLE_BIN__801b8b8c = local_78;
            _DAT_BATTLE_BIN__801b8b90 = local_74;
            param_3 = 0xffffffff;
            uVar8 = local_38[0];
            DAT_BATTLE_BIN__801b8b64 = UnitID;
            DAT_BATTLE_BIN__801b8b94 = uVar10;
            DAT_BATTLE_BIN__801bbf3c = local_30;
          }
        }
      }
      else {
        DAT_BATTLE_BIN__801b8b7c = local_90;
        DAT_BATTLE_BIN__801b8b80 = local_8c;
        DAT_BATTLE_BIN__801b8b84 = local_88;
        DAT_BATTLE_BIN__801b8b88 = local_84;
        _DAT_BATTLE_BIN__801b8b8c = local_78;
        _DAT_BATTLE_BIN__801b8b90 = local_74;
        param_3 = UnitID;
        uVar8 = local_38[0];
        DAT_BATTLE_BIN__801b8b64 = UnitID;
        DAT_BATTLE_BIN__801bbf3c = local_30;
      }
    }
  }
  DAT_BATTLE_BIN__801b8b74 = uVar8;
  return param_3;
}



undefined FUN_BATTLE_BIN__801b0460(void)

{
  undefined uVar1;
  
  if (0x800 < DAT_BATTLE_BIN__801b8b70) {
    DAT_BATTLE_BIN__801b8b70 = DAT_BATTLE_BIN__801b8b70 + -0x1000;
  }
  if (DAT_BATTLE_BIN__801b8b70 < -0x800) {
    DAT_BATTLE_BIN__801b8b70 = DAT_BATTLE_BIN__801b8b70 + 0x1000;
  }
  uVar1 = -0x2ab < DAT_BATTLE_BIN__801b8b70;
  if (0x2aa < DAT_BATTLE_BIN__801b8b70) {
    uVar1 = 2;
  }
  return uVar1;
}



undefined4 FUN_BATTLE_BIN__801b04dc(int *param_1,short *param_2,int *param_3,int *param_4)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int local_50;
  int local_4c;
  int local_48;
  undefined4 local_44;
  int local_40;
  int local_3c;
  int local_38;
  undefined4 local_34;
  
  iVar5 = *param_3 / 0x2000;
  local_50 = (int)*param_2;
  iVar4 = 0;
  local_4c = (int)param_2[1];
  iVar2 = 0;
  local_48 = (int)param_2[2];
  iVar3 = 0;
  if (0 < iVar5) {
    do {
      local_40 = local_50;
      local_3c = local_4c;
      local_38 = local_48;
      local_34 = local_44;
      iVar4 = iVar4 + 0x2000;
      FUN_BATTLE_BIN__801af6d8(param_1,*param_3,iVar4,&local_50);
      local_50 = *param_2 + local_50;
      local_4c = param_2[1] + local_4c;
      local_48 = param_2[2] + local_48;
      iVar2 = FUN_BATTLE_BIN__801af8b4
                        (param_4,&local_50,&DAT_BATTLE_BIN__801b8b64,
                         (short *)&DAT_BATTLE_BIN__801b8b68);
      if (iVar2 != 0) break;
      iVar3 = iVar3 + 1;
    } while (iVar3 < iVar5);
  }
  DAT_BATTLE_BIN__801b8b7c = local_50 - local_40;
  DAT_BATTLE_BIN__801b8b80 = local_4c - local_3c;
  DAT_BATTLE_BIN__801b8b90 = (undefined2)local_48;
  DAT_BATTLE_BIN__801b8b84 = local_48 - local_38;
  DAT_BATTLE_BIN__801b8b8c = (undefined2)local_50;
  DAT_BATTLE_BIN__801b8b8e = (undefined2)local_4c;
  if (iVar2 == 0) {
    if (iVar5 < 0) {
      iVar5 = iVar5 + 3;
    }
    uVar1 = 1;
  }
  else {
    if (iVar3 < 0) {
      iVar3 = iVar3 + 3;
    }
    uVar1 = 0;
    iVar5 = iVar3;
  }
  DAT_BATTLE_BIN__801bbf3c = iVar5 >> 2;
  return uVar1;
}



void FUN_BATTLE_BIN__801b06d0(uint param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  ushort uVar3;
  ushort uVar4;
  short local_50;
  short local_4e;
  short local_4c;
  short local_48;
  ushort local_46;
  short local_44;
  int local_38;
  int local_34;
  int local_30;
  int *local_20;
  long local_1c;
  
  uVar3 = (ushort)(param_1 & 0xff);
  iVar1 = FUN_BATTLE_BIN__8008dc9c(uVar3);
  uVar4 = (ushort)(param_2 & 0xff);
  iVar2 = FUN_BATTLE_BIN__8008dc9c(uVar4);
  iVar2 = (iVar2 << 1) / 3;
  if (iVar2 == 0) {
    iVar2 = 0xc;
  }
  FUN_BATTLE_BIN__801af770(param_1 & 0xff,param_2 & 0xff,&local_20);
  FUN_BATTLE_BIN__8008c468(uVar3,&local_50);
  local_4e = local_4e -
             ((short)((ulonglong)((longlong)(iVar1 << 1) * 0x55555556) >> 0x20) -
             (short)((iVar1 << 1) >> 0x1f));
  FUN_BATTLE_BIN__8008c468(uVar4,&local_48);
  local_38 = (int)local_48 - (int)local_50;
  local_34 = ((int)(((uint)local_46 - iVar2) * 0x10000) >> 0x10) - (int)local_4e;
  local_30 = (int)local_44 - (int)local_4c;
  local_46 = (ushort)((uint)local_46 - iVar2);
  local_1c = SquareRoot12((local_38 * local_38 + local_34 * local_34 + local_30 * local_30) * 0x1000
                         );
  FUN_BATTLE_BIN__801b04dc(&local_38,&local_50,&local_1c,local_20);
  return;
}



int FUN_BATTLE_BIN__801b0818(uint param_1,short *param_2,int param_3)

{
  int iVar1;
  int iVar2;
  undefined1 *puVar3;
  long lVar4;
  int unaff_s2;
  int local_38;
  int local_34;
  int local_30;
  int *local_28;
  long local_24;
  
  DAT_BATTLE_BIN__801b8b60 = param_1;
  iVar1 = FUN_BATTLE_BIN__8008dc9c((ushort)param_1);
  if (param_3 != -1) {
    iVar2 = FUN_BATTLE_BIN__8008dc9c((ushort)param_3);
    unaff_s2 = (iVar2 << 1) / 3;
    if (unaff_s2 == 0) {
      unaff_s2 = 0xc;
    }
  }
  FUN_BATTLE_BIN__801af770(param_1,0xffffffff,&local_28);
  FUN_BATTLE_BIN__8008c468((ushort)param_1,&DAT_BATTLE_BIN__801b925c);
  DAT_BATTLE_BIN__801b925e =
       DAT_BATTLE_BIN__801b925e -
       ((short)((ulonglong)((longlong)(iVar1 << 1) * 0x55555556) >> 0x20) -
       (short)((iVar1 << 1) >> 0x1f));
  if (param_3 == -1) {
    puVar3 = FUN_BATTLE_BIN__80183fb4((int)*param_2,(int)param_2[2],(int)param_2[1]);
    DAT_BATTLE_BIN__801b9264 = *param_2 * 0x1c + 0xe;
    DAT_BATTLE_BIN__801b9268 = param_2[2] * 0x1c + 0xe;
    DAT_BATTLE_BIN__801b9266 = (ushort)(byte)puVar3[2] * -0xc;
  }
  else {
    FUN_BATTLE_BIN__8008c468((ushort)param_3,&DAT_BATTLE_BIN__801b9264);
    DAT_BATTLE_BIN__801b9266 = DAT_BATTLE_BIN__801b9266 - (short)unaff_s2;
  }
  local_38 = (int)DAT_BATTLE_BIN__801b9264 - (int)DAT_BATTLE_BIN__801b925c;
  local_30 = (int)DAT_BATTLE_BIN__801b9268 - (int)DAT_BATTLE_BIN__801b9260;
  local_34 = (int)DAT_BATTLE_BIN__801b9266 - (int)DAT_BATTLE_BIN__801b925e;
  lVar4 = SquareRoot0(local_38 * local_38 + local_30 * local_30);
  lVar4 = ratan2(local_34,lVar4);
  DAT_BATTLE_BIN__801b8b70 = (short)lVar4 + 0x400;
  local_24 = SquareRoot12((local_38 * local_38 + local_34 * local_34 + local_30 * local_30) * 0x1000
                         );
  iVar1 = FUN_BATTLE_BIN__801b04dc(&local_38,&DAT_BATTLE_BIN__801b925c,&local_24,local_28);
  if (iVar1 == 0) {
    param_3 = DAT_BATTLE_BIN__801b8b64;
  }
  return param_3;
}



undefined4 FUN_BATTLE_BIN__801b47e0(void)

{
  byte bVar1;
  undefined4 uVar2;
  int iVar3;
  
  DAT_BATTLE_BIN__801bc0cc = Get_OTAG_List();
  DAT_BATTLE_BIN__801bc090 = 1 - DAT_BATTLE_BIN__801bc090;
  uVar2 = 0;
  DAT_BATTLE_BIN__801b9138 = (uint)DAT_BATTLE_BIN__801b9130;
  while (DAT_BATTLE_BIN__801b9138 != 0) {
    DAT_BATTLE_BIN__801bc098 = &DAT_BATTLE_BIN__801b8b9c + DAT_BATTLE_BIN__801b9138 * 0x54;
    bVar1 = *DAT_BATTLE_BIN__801bc098;
    iVar3 = (*(code *)(&PTR_DAT_BATTLE_BIN__801b0fec_BATTLE_BIN__801b8900)
                      [(byte)(&DAT_BATTLE_BIN__801b8b9f)[DAT_BATTLE_BIN__801b9138 * 0x54]])();
    if (iVar3 == 0) {
      FUN_BATTLE_BIN__801ad944((byte)DAT_BATTLE_BIN__801b9138);
    }
    uVar2 = 1;
    DAT_BATTLE_BIN__801b9138 = (uint)bVar1;
  }
  return uVar2;
}



undefined4 OPEN_Main(int param_1)

{
  FUN_OPEN__80068684(param_1);
  while ((DAT_OPEN__8008e53c & 1) != 0) {
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
    FUN_OPEN__80068b74();
    FUN_OPEN__80067484();
    FUN_OPEN__8006854c();
    FUN_OPEN__80069eb4();
    FUN_OPEN__80068cd0(DAT_8004e5bc * 0x40 + -0x7ff79fe8,(uint **)&DAT_OPEN__80085f44,
                       DAT_OPEN__80085fc4);
    DrawOTag((u_long *)(DAT_8004e5bc * 0x40 + -0x7ff79fac));
    DrawSync(0);
    FUN_OPEN__80067d84();
    VSync(0);
    FUN_OPEN__80067c1c();
    FUN_800449ec();
  }
  SetDispMask(0);
  FUN_OPEN__80068638(0xc0,0x78);
  return DAT_OPEN__800856f4;
}



void OPEN_EndCredits_Main(void)

{
  FUN_OPEN__800686dc();
  while ((DAT_OPEN__8008e53c & 1) != 0) {
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
    FUN_OPEN__80068b74();
    FUN_OPEN__80067484();
    FUN_OPEN__8006e8b0(DAT_8004e5bc * 0x40 + -0x7ff79fe8,DAT_8004e5bc);
    FUN_OPEN__80069eb4();
    DrawSync(0);
    FUN_OPEN__80067d84();
    VSync(DAT_OPEN__8008fc14);
    FUN_OPEN__80067c1c();
    DrawOTag((u_long *)((DAT_8004e5bc ^ 1) * 0x40 + -0x7ff79fac));
    FUN_800449ec();
  }
  PostCredits_ReturnFRAME();
  SetDispMask(0);
  FUN_OPEN__80068638(0xc0,0x78);
  return;
}



void StreamMovie(int param_1,undefined4 param_2,uint param_3,int param_4)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  undefined3 extraout_var;
  undefined *puVar4;
  uint uVar5;
  
  puVar4 = (undefined *)0x1;
  uVar5 = param_3;
  iVar3 = param_4;
  FUN_OPEN__80068638(0,1);
  iVar2 = FUN_80018058();
  FUN_80017f6c(iVar2,puVar4,uVar5,iVar3);
  DAT_OPEN__8008e53c = DAT_OPEN__8008e53c | 0x3000;
  Initialise_SetScreen(1);
  DAT_OPEN__8008fc10 = 0;
  DAT_OPEN__8008e538 = 0;
  DAT_OPEN__8008fc18 = 0;
  DAT_OPEN__8008e544 = 0;
  DAT_OPEN__8008e534 = param_2;
  DAT_OPEN__8008fc08 = param_3;
  FUN_OPEN__8006768c((undefined4 *)&DAT_OPEN__800852b0,0,8,0,0xf8);
  while( true ) {
    FUN_OPEN__800676f8(param_1);
    do {
      iVar3 = CdRead2(0x1e0);
    } while (iVar3 == 0);
    bVar1 = FUN_OPEN__8006792c((int)&DAT_OPEN__800852b0);
    if (CONCAT31(extraout_var,bVar1) != 0) break;
    Reset_CD_Subsystems();
  }
  FUN_OPEN__80068638(param_4,0x20);
  PutDrawEnv(&OPENDRAWENV1);
  PutDispEnv(&OPENDISPENV1);
  DAT_OPEN__80085ca8 = 0xffffffff;
  DAT_OPEN__8008e53c = DAT_OPEN__8008e53c & 0xfffffe7f | 6;
  return;
}



void FUN_OPEN__80067484(void)

{
  int iVar1;
  CdlLOC aCStack_28 [2];
  short local_20;
  short asStack_1e [11];
  
  if ((DAT_OPEN__8008e53c & 2) != 0) {
    StRingStatus(&local_20,asStack_1e);
    if (local_20 < 0x10) {
      iVar1 = StGetBackloc(aCStack_28);
      FUN_800212cc(1,iVar1,0xffffffff);
      FUN_OPEN__80067bd0(&aCStack_28[0].minute);
    }
    DecDCTin(*(u_long **)(&DAT_OPEN__800852b0 + DAT_OPEN__800852b8 * 4),3);
    DecDCTout(*(u_long **)(&DAT_OPEN__800852bc + DAT_OPEN__800852c4 * 4),
              ((int)DAT_OPEN__800852e0 * (int)DAT_OPEN__800852e2) / 2);
    FUN_OPEN__8006792c((int)&DAT_OPEN__800852b0);
    FUN_OPEN__80067b38((int)&DAT_OPEN__800852b0);
    if (DAT_OPEN__8008e544 == 1) {
      FUN_OPEN__800675bc(1);
    }
    if (DAT_OPEN__8008e544 == 2) {
      FUN_OPEN__800675bc(0);
    }
  }
  return;
}



void FUN_OPEN__800675bc(int param_1)

{
  DrawSync(0);
  DecDCToutCallback((func *)0x0);
  FUN_80020f3c();
  if (param_1 != 0) {
    FUN_OPEN__80067620();
  }
  DAT_OPEN__8008e53c = DAT_OPEN__8008e53c & 0xfffffffd;
  return;
}



void FUN_OPEN__80067620(void)

{
  int iVar1;
  
  if ((DAT_OPEN__8008e53c & 4) != 0) {
    FUN_OPEN__80068638(0,1);
    do {
      iVar1 = CdControlB('\t',(u_char *)0x0,(u_char *)0x0);
    } while (iVar1 == 0);
    VSync(4);
    DAT_OPEN__8008e53c = DAT_OPEN__8008e53c ^ 4;
  }
  return;
}



void FUN_OPEN__8006768c(undefined4 *param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4
                       ,undefined2 param_5)

{
  *param_1 = &DAT_800c5a00;
  param_1[1] = &DAT_800eda00;
  param_1[2] = 0;
  param_1[3] = &DAT_800c0000;
  param_1[4] = &DAT_800c2d00;
  param_1[5] = 0;
  *(undefined2 *)(param_1 + 6) = param_2;
  *(undefined2 *)((int)param_1 + 0x1a) = param_3;
  *(undefined2 *)(param_1 + 8) = param_4;
  param_1[10] = 0;
  *(undefined2 *)(param_1 + 0xb) = param_2;
  *(undefined2 *)((int)param_1 + 0x2e) = param_3;
  *(undefined2 *)((int)param_1 + 0x22) = param_5;
  DAT_OPEN__800852e0 = 0x18;
  param_1[0xd] = 0;
  return;
}



void FUN_OPEN__800676f8(int param_1)

{
  int iVar1;
  func *in_a1;
  
  DecDCTReset(0);
  DecDCToutCallback(in_a1);
  StSetRing((u_long *)&DAT_80115a00,0x30);
  StSetStream(1,0,0xffffffff,(func1 *)0x0,(func2 *)0x0);
  Calculate_File_Header_NNL(&fileOpenDesc_8004eaf4,param_1,1,(u_long *)0x0);
  while (fileOpenDesc_8004eaf4.busy != 0) {
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
    VSync(0);
  }
  do {
    iVar1 = CdControl('\x02',&fileOpenDesc_8004eaf4.CdlLOC.minute,(u_char *)0x0);
  } while (iVar1 == 0);
  return;
}



bool FUN_OPEN__8006792c(int param_1)

{
  u_long *bs;
  uint uVar1;
  
  bs = (u_long *)FUN_OPEN__800679a0(param_1);
  if (bs != (u_long *)0x0) {
    uVar1 = (uint)(*(int *)(param_1 + 8) == 0);
    *(uint *)(param_1 + 8) = uVar1;
    DecDCTvlc(bs,*(u_long **)(uVar1 * 4 + param_1));
    StFreeRing(bs);
  }
  return bs != (u_long *)0x0;
}



undefined4 FUN_OPEN__800679a0(int param_1)

{
  bool bVar1;
  undefined2 uVar2;
  u_long uVar3;
  undefined2 uVar4;
  int iVar5;
  u_long *local_20;
  u_long *local_1c;
  RECT local_18;
  
  iVar5 = 0;
  do {
    uVar3 = StGetNext(&local_20,&local_1c);
    if (uVar3 == 0) {
      DAT_OPEN__8008fc18 = local_1c[2];
      if (DAT_OPEN__8008e534 <= local_1c[2]) {
        DAT_OPEN__8008e544 = 1;
      }
      if ((DAT_OPEN__8008fc08 != 0xffffffff) && (DAT_OPEN__8008fc08 <= local_1c[2])) {
        DAT_OPEN__8008e544 = 2;
      }
      if ((DAT_OPEN__8008e538 != *(ushort *)(local_1c + 4)) ||
         (DAT_OPEN__8008e540 != *(ushort *)((int)local_1c + 0x12))) {
        local_18.x = 0;
        local_18.y = 0;
        local_18.w = 0x1e0;
        local_18.h = 0x1e0;
        ClearImage(&local_18,'\0','\0','\0');
        DAT_OPEN__8008e538 = (uint)*(ushort *)(local_1c + 4);
        DAT_OPEN__8008e540 = (uint)*(ushort *)((int)local_1c + 0x12);
        DAT_OPEN__8008fc10 = *(ushort *)((int)local_1c + 0x12) + 0xf & 0xfff0;
      }
      uVar2 = (undefined2)DAT_OPEN__8008fc10;
      uVar4 = (undefined2)(DAT_OPEN__8008e538 * 3 - ((int)(DAT_OPEN__8008e538 * 3) >> 0x1f) >> 1);
      *(undefined2 *)(param_1 + 0x24) = uVar4;
      *(undefined2 *)(param_1 + 0x1c) = uVar4;
      *(undefined2 *)(param_1 + 0x26) = uVar2;
      *(undefined2 *)(param_1 + 0x1e) = uVar2;
      *(undefined2 *)(param_1 + 0x32) = uVar2;
      return local_20;
    }
    VSync(0);
    bVar1 = iVar5 != 0x80;
    iVar5 = iVar5 + 1;
  } while (bVar1);
  return 0;
}



void FUN_OPEN__80067b38(int param_1)

{
  uint uVar1;
  int iVar2;
  int local_8;
  
  iVar2 = *(int *)(param_1 + 0x34);
  local_8 = 0x800000;
  while (iVar2 == 0) {
    local_8 = local_8 + -1;
    if (local_8 == 0) {
      *(undefined4 *)(param_1 + 0x34) = 1;
      uVar1 = (uint)(*(int *)(param_1 + 0x28) == 0);
      *(uint *)(param_1 + 0x28) = uVar1;
      *(undefined2 *)(param_1 + 0x2c) = *(undefined2 *)(param_1 + uVar1 * 8 + 0x18);
      *(undefined2 *)(param_1 + 0x2e) =
           *(undefined2 *)(param_1 + *(int *)(param_1 + 0x28) * 8 + 0x1a);
    }
    iVar2 = *(int *)(param_1 + 0x34);
  }
  *(undefined4 *)(param_1 + 0x34) = 0;
  return;
}



void FUN_OPEN__80067bd0(undefined *param_1)

{
  int iVar1;
  
  do {
    do {
      iVar1 = CdControl('\x02',param_1,(u_char *)0x0);
    } while (iVar1 == 0);
    iVar1 = CdRead2(0x1a0);
  } while (iVar1 == 0);
  return;
}



void FUN_OPEN__80067c1c(void)

{
  RECT local_18;
  RECT local_10;
  
  DAT_8004e5bc = DAT_8004e5bc ^ 1;
  PutDrawEnv((DRAWENV *)((int)&OPENDRAWENV1 + DAT_8004e5bc * 0x70));
  PutDispEnv((DISPENV *)((int)&OPENDISPENV1 + DAT_8004e5bc * 0x70));
  if ((DAT_OPEN__8008e53c & 2) == 0) {
    local_18.h = 0xf0;
    local_18.x = 0;
    if ((DAT_OPEN__8008e53c & 0x1000) == 0) {
      local_18.w = 0x100;
    }
    else {
      local_18.w = 0x140;
    }
    if ((DAT_8004e5bc & 1) == 0) {
      local_18.y = 0;
    }
    else {
      local_18.y = 0xf0;
    }
    if ((DAT_OPEN__8008e53c & 0x20000) == 0) {
      if ((DAT_OPEN__8008e53c & 0x40000) == 0) {
        LoadImage(&local_18,DAT_OPEN__800855a8);
      }
      else {
        local_10.x = 0x200;
        local_10.w = 0x200;
        local_10.y = 0x100;
        local_10.h = 0xf0;
        MoveImage(&local_10,0,(int)local_18.y);
      }
    }
    else {
      ClearImage(&local_18,'\0','\0','\0');
    }
  }
  SetDispMask((DAT_OPEN__8008e53c >> 6 ^ 1) & 1);
  return;
}



void FUN_OPEN__80067d84(void)

{
  DAT_OPEN__800852ac = DAT_OPEN__800855ac;
  DAT_OPEN__800855ac = PadRead(0);
  if ((DAT_OPEN__8008e53c & 0x10) == 0) {
    DAT_OPEN__800855a4 = DAT_OPEN__800855ac & ~DAT_OPEN__800852ac;
    DAT_OPEN__800851bc = DAT_OPEN__800855ac;
  }
  else {
    DAT_OPEN__800855a4 = 0;
    DAT_OPEN__800851bc = 0;
  }
  if (((DAT_OPEN__8008e53c & 0x80000) == 0) && (DAT_OPEN__800855ac == 0x90c)) {
    DrawSync(0);
    FUN_80018240(0x3fff,1);
    FUN_80018090(0xc0);
    FUN_OPEN__80068638(0,1);
    MidState_QuitSound_GetStack();
  }
  return;
}



void FUN_OPEN__80067e68(undefined4 param_1)

{
  DAT_OPEN__80085cb4 = param_1;
  DAT_OPEN__80085cb0 = 0;
  DAT_OPEN__80085cac = DAT_OPEN__80085cac | 5;
  return;
}



void FUN_OPEN__80067e90(undefined4 param_1)

{
  DAT_OPEN__80085cb4 = param_1;
  DAT_OPEN__80085cb0 = 0;
  DAT_OPEN__80085cac = DAT_OPEN__80085cac | 6;
  return;
}



// WARNING: Removing unreachable block (ram,0x80067f18)
// WARNING: Removing unreachable block (ram,0x80067fe0)

void FUN_OPEN__80067eb8(int param_1)

{
  u_short uVar1;
  int iVar2;
  
  if ((DAT_OPEN__80085cac & 1) != 0) {
    if (DAT_OPEN__80085cb4 == 0) {
      trap(0x1c00);
    }
    DAT_OPEN__80085cb8 = 0xff - (0x100 / DAT_OPEN__80085cb4) * DAT_OPEN__80085cb0;
    if (DAT_OPEN__80085cb8 < 0) {
      DAT_OPEN__80085cb8 = 0;
    }
    if (DAT_OPEN__80085cb0 == 1) {
      DAT_OPEN__8008e53c = DAT_OPEN__8008e53c & 0xffffffbf;
    }
    DAT_OPEN__80085cb0 = DAT_OPEN__80085cb0 + 1;
    if (DAT_OPEN__80085cb4 < DAT_OPEN__80085cb0) {
      DAT_OPEN__80085cac = DAT_OPEN__80085cac & 0xfffffffa;
    }
  }
  if ((DAT_OPEN__80085cac & 2) != 0) {
    if (DAT_OPEN__80085cb4 == 0) {
      trap(0x1c00);
    }
    DAT_OPEN__80085cb8 = (0x100 / DAT_OPEN__80085cb4) * DAT_OPEN__80085cb0;
    if (0xff < DAT_OPEN__80085cb8) {
      DAT_OPEN__80085cb8 = 0xff;
    }
    if (DAT_OPEN__80085cb0 == DAT_OPEN__80085cb4 + -1) {
      DAT_OPEN__8008e53c = DAT_OPEN__8008e53c | 0x40;
    }
    DAT_OPEN__80085cb0 = DAT_OPEN__80085cb0 + 1;
    if (DAT_OPEN__80085cb4 < DAT_OPEN__80085cb0) {
      DAT_OPEN__80085cac = DAT_OPEN__80085cac & 0xfffffff9;
    }
  }
  if ((DAT_OPEN__80085cac & 4) != 0) {
    SetTile((TILE *)(DAT_8004e5bc * 0x10 + -0x7ff7a334));
    SetSemiTrans((void *)(DAT_8004e5bc * 0x10 + -0x7ff7a334),1);
    uVar1 = GetTPage(0,DAT_OPEN__80085cbc,0x100,0);
    SetDrawMode((DR_MODE *)(DAT_8004e5bc * 0xc + -0x7ff7a314),1,0,(uint)uVar1,(RECT *)0x0);
    iVar2 = DAT_8004e5bc * 0x10;
    *(undefined2 *)(&DAT_OPEN__80085cd4 + iVar2) = DAT_OPEN__80085cc4;
    *(undefined2 *)(&DAT_OPEN__80085cd6 + iVar2) = DAT_OPEN__80085cc6;
    *(undefined2 *)(&DAT_OPEN__80085cd8 + iVar2) = DAT_OPEN__80085cc8;
    *(undefined2 *)(&DAT_OPEN__80085cda + iVar2) = DAT_OPEN__80085cca;
    (&DAT_OPEN__80085cd0)[iVar2] = (char)DAT_OPEN__80085cb8;
    (&DAT_OPEN__80085cd1)[DAT_8004e5bc * 0x10] = (char)DAT_OPEN__80085cb8;
    (&DAT_OPEN__80085cd2)[DAT_8004e5bc * 0x10] = (char)DAT_OPEN__80085cb8;
    AddPrim((void *)(param_1 + DAT_OPEN__80085cc0 * 4),(void *)(DAT_8004e5bc * 0x10 + -0x7ff7a334));
    AddPrim((void *)(param_1 + DAT_OPEN__80085cc0 * 4),(void *)(DAT_8004e5bc * 0xc + -0x7ff7a314));
  }
  return;
}



void FUN_OPEN__80068220(void)

{
  DAT_OPEN__8008642c = 0;
  DAT_OPEN__80086428 = 0;
  DAT_OPEN__80086424 = 0;
  DAT_OPEN__80086420 = 0;
  DAT_OPEN__80086418 = (uint)DAT_800473a1;
  DAT_OPEN__8008641c = (uint)DAT_800473a2;
  return;
}



void FUN_OPEN__8006854c(void)

{
  if ((DAT_OPEN__8008e53c & 0x400) != 0) {
    DAT_8004e5bc = DAT_8004e5bc ^ 1;
    FUN_WORLD__80107e00(~DAT_OPEN__8008e430);
    FUN_WORLD__80107e10((DAT_8004e5bc ^ 1) * 0x40 + DAT_OPEN__800855ec * 4 + -0x7ff79fe8,
                        DAT_OPEN__800851bc);
    DAT_8004e5bc = DAT_8004e5bc ^ 1;
  }
  return;
}



void FUN_OPEN__80068638(int param_1,short param_2)

{
  ushort uVar1;
  
  if (param_1 == 0) {
    uVar1 = 0;
  }
  else {
    FUN_80018090((int)(short)param_1);
    uVar1 = 0x6400;
  }
  FUN_80018300(uVar1,param_2);
  return;
}



void FUN_OPEN__80068684(int param_1)

{
  FUN_80043f00();
  FUN_OPEN__80068aec();
  OPEN_OpenMainMenuGraphics_To_FrameBuffer();
  Initialise_SetScreen(1);
  FUN_OPEN__80068bb0();
  FUN_OPEN__80068220();
  Stream_OpeningMovie(param_1);
  return;
}



void FUN_OPEN__800686dc(void)

{
  RECT local_10;
  
  FUN_80043f00();
  FUN_OPEN__80068aec();
  local_10.x = 0x3c0;
  local_10.y = 0x100;
  local_10.w = 0x40;
  local_10.h = 0x100;
  MoveImage(&local_10,0x3c0,0);
  DrawSync(0);
  DAT_OPEN__8008fc14 = 0;
  FUN_OPEN__80069b6c();
  Initialise_SetScreen(1);
  FUN_OPEN__80068bb0();
  Stream_EndGameMovie();
  return;
}



void PostCredits_ReturnFRAME(void)

{
  RECT local_10;
  
  local_10.x = 0x3c0;
  local_10.w = 0x40;
  local_10.y = 0;
  local_10.h = 0x100;
  MoveImage(&local_10,0x3c0,0x100);
  DrawSync(0);
  return;
}



void Initialise_SetScreen(int param_1)

{
  RECT local_18;
  
  if (param_1 != 0) {
    SetDispMask(0);
  }
  if ((DAT_OPEN__8008e53c & 0x1000) == 0) {
    SetDefDrawEnv(&OPENDRAWENV1,0,0,0x100,0xf0);
    SetDefDispEnv(&OPENDISPENV1,0,0xf0,0x100,0xf0);
    SetDefDrawEnv(&OPENDRAWENV2,0,0xf0,0x100,0xf0);
    SetDefDispEnv(&OPENDISPENV2,0,0,0x100,0xf0);
    DAT_OPEN__80085cc4 = 0xff80;
    OPENDRAWENV1.ofs[0] = 0x80;
    OPENDRAWENV2.ofs[0] = 0x80;
    DAT_OPEN__80085cc8 = 0x100;
    if ((DAT_OPEN__8008e53c & 0x2000) == 0) {
      OPENDISPENV2.isrgb24 = '\0';
      OPENDISPENV1.isrgb24 = '\0';
      local_18.w = 0x100;
    }
    else {
      OPENDISPENV2.isrgb24 = '\x01';
      OPENDISPENV1.isrgb24 = '\x01';
      local_18.w = 0x180;
    }
  }
  else {
    SetDefDrawEnv(&OPENDRAWENV1,0,0,0x140,0xf0);
    SetDefDispEnv(&OPENDISPENV1,0,0xf0,0x140,0xf0);
    SetDefDrawEnv(&OPENDRAWENV2,0,0xf0,0x140,0xf0);
    SetDefDispEnv(&OPENDISPENV2,0,0,0x140,0xf0);
    DAT_OPEN__80085cc4 = 0xff60;
    OPENDRAWENV1.ofs[0] = 0xa0;
    OPENDRAWENV2.ofs[0] = 0xa0;
    OPENDRAWENV2.dfe = '\x01';
    OPENDRAWENV1.dfe = '\x01';
    DAT_OPEN__80085cc8 = 0x140;
    if ((DAT_OPEN__8008e53c & 0x2000) == 0) {
      OPENDISPENV2.isrgb24 = '\0';
      OPENDISPENV1.isrgb24 = '\0';
      local_18.w = 0x140;
    }
    else {
      OPENDISPENV2.isrgb24 = '\x01';
      OPENDISPENV1.isrgb24 = '\x01';
      local_18.w = 0x1e0;
    }
  }
  local_18.y = 0;
  local_18.x = 0;
  DAT_OPEN__80085cca = 0xf0;
  DAT_OPEN__80085cc6 = 0xff88;
  OPENDRAWENV2.isbg = '\0';
  OPENDRAWENV2.ofs[1] = 0x168;
  OPENDRAWENV1.isbg = '\0';
  OPENDRAWENV1.ofs[1] = 0x78;
  local_18.h = 0x1e0;
  if (param_1 != 0) {
    ClearImage(&local_18,'\0','\0','\0');
    DrawSync(0);
    if (param_1 != 0) {
      PutDrawEnv((DRAWENV *)((int)&OPENDRAWENV1 + DAT_8004e5bc * 0x70));
      PutDispEnv((DISPENV *)((int)&OPENDISPENV1 + DAT_8004e5bc * 0x70));
      PutScreentoGTE(0,0);
    }
  }
  return;
}



void FUN_OPEN__80068aec(void)

{
  DAT_OPEN__8008e53c = 0x1041;
  DAT_OPEN__800855a8 = &DAT_801d0000;
  DAT_OPEN__80085ca8 = 0xffffffff;
  DAT_OPEN__800852a4 = &DAT_80140000;
  DAT_OPEN__80085cbc = 2;
  DAT_OPEN__80085cc0 = 2;
  DAT_OPEN__800852ac = 0;
  DAT_OPEN__800855a4 = 0;
  DAT_OPEN__800851bc = 0;
  DAT_OPEN__8008e430 = 0;
  DAT_OPEN__800855ec = 4;
  DAT_OPEN__8008e548 = 0;
  DAT_OPEN__800855f0 = 0;
  return;
}



void FUN_OPEN__80068b74(void)

{
  FUN_OPEN__80068c90();
  FUN_OPEN__80067eb8(DAT_8004e5bc * 0x40 + -0x7ff79fe8);
  return;
}



void FUN_OPEN__80068bb0(void)

{
  undefined1 *puVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0;
  puVar1 = &DAT_OPEN__80085d24;
  iVar2 = 0;
  DAT_OPEN__8008fc00 = 0;
  DAT_OPEN__800852a8 = 0;
  DAT_OPEN__800852a0 = 0;
  DAT_OPEN__80085fc4 = 0;
  do {
    *(undefined4 *)((int)&DAT_OPEN__80085d04 + iVar2) = 1;
    *(undefined4 *)((int)&DAT_OPEN__80085d0c + iVar2) = 8;
    *puVar1 = 0x80;
    puVar1[1] = 0x80;
    puVar1[2] = 0x80;
    puVar1 = puVar1 + 0x24;
    iVar3 = iVar3 + 1;
    iVar2 = iVar2 + 0x24;
  } while (iVar3 < 0x10);
  iVar3 = 0;
  puVar1 = &DAT_OPEN__800860cc;
  iVar2 = 0;
  do {
    *(undefined4 *)((int)&DAT_OPEN__80086098 + iVar2) = 2;
    *(undefined4 *)((int)&DAT_OPEN__800860a4 + iVar2) = 8;
    *puVar1 = 0x80;
    puVar1[1] = 0x80;
    puVar1[2] = 0x80;
    puVar1 = puVar1 + 0x38;
    iVar3 = iVar3 + 1;
    iVar2 = iVar2 + 0x38;
  } while (iVar3 < 0x10);
  return;
}



void FUN_OPEN__80068c90(void)

{
  ClearOTagR((u_long *)(DAT_8004e5bc * 0x40 + -0x7ff79fe8),0x10);
  DAT_OPEN__8008fc00 = 0;
  return;
}



void FUN_OPEN__80068cd0(int param_1,uint **param_2,int param_3)

{
  uint uVar1;
  uint *puVar2;
  int iVar3;
  
  if (((DAT_OPEN__8008e53c & 8) == 0) && (iVar3 = 0, 0 < param_3)) {
    do {
      puVar2 = *param_2;
      uVar1 = *puVar2;
      if ((uVar1 & 0x18) == 0) {
        if ((uVar1 & 1) == 0) {
          if ((uVar1 & 2) != 0) {
            FUN_OPEN__8006920c(puVar2,param_1);
          }
        }
        else {
          FUN_OPEN__80068d80((int)puVar2,param_1);
        }
      }
      iVar3 = iVar3 + 1;
      param_2 = param_2 + 1;
    } while (iVar3 < param_3);
  }
  return;
}



void FUN_OPEN__80068d80(int param_1,int param_2)

{
  undefined *puVar1;
  u_short uVar2;
  int iVar3;
  uint uVar4;
  int *piVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  uint *puVar9;
  uint uVar10;
  uint uVar11;
  int iVar12;
  
  puVar1 = PTR_PTR_DAT_OPEN__800709e0_OPEN__8007096c_OPEN__800707fc;
  piVar5 = *(int **)(PTR_PTR_DAT_OPEN__80070854_OPEN__80070800_OPEN__800707f8 +
                    *(int *)(param_1 + 4) * 4);
  *(int *)(param_1 + 0x10) = *(int *)(param_1 + 0x10) + 1;
  while ((uVar10 = (uint)*(ushort *)((int)piVar5 + *(int *)(param_1 + 0xc) * 4 + 6),
         uVar10 == *(uint *)(param_1 + 0x10) && (uVar10 != 0xffff))) {
    *(undefined4 *)(param_1 + 0x10) = 0;
    iVar3 = *(int *)(param_1 + 0xc) + 1;
    *(int *)(param_1 + 0xc) = iVar3;
    if (*piVar5 == iVar3) {
      *(undefined4 *)(param_1 + 0xc) = 0;
    }
  }
  piVar5 = *(int **)(puVar1 + (uint)*(ushort *)(piVar5 + *(int *)(param_1 + 0xc) + 1) * 4);
  uVar10 = piVar5[1];
  iVar3 = 0;
  uVar4 = piVar5[2];
  iVar12 = *piVar5;
  if (0 < iVar12) {
    do {
      if (0x1f < DAT_OPEN__8008fc00) {
        return;
      }
      (&DAT_OPEN__8008fc7c)[DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20] =
           *(undefined *)(param_1 + 0x20);
      (&DAT_OPEN__8008fc7d)[DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20] =
           *(undefined *)(param_1 + 0x21);
      (&DAT_OPEN__8008fc7e)[DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20] =
           *(undefined *)(param_1 + 0x22);
      SetSprt((SPRT *)(DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20 + -0x7ff70388));
      uVar11 = (iVar12 - iVar3) * 2 | 1;
      uVar7 = piVar5[uVar11];
      uVar2 = GetTPage(uVar7 >> 0x1a & 1,uVar7 >> 0x1c & 3,uVar10 & 0xffff,uVar10 >> 0x10);
      SetDrawMode((DR_MODE *)(DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20 + -0x7ff70394),1,0,
                  (uint)uVar2,(RECT *)0x0);
      SetSemiTrans((void *)(DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20 + -0x7ff70388),
                   (uint)((piVar5[uVar11] & 0x40000000U) != 0));
      puVar9 = (uint *)(piVar5 + uVar11);
      iVar6 = DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400;
      *(ushort *)(&DAT_OPEN__8008fc80 + iVar6) =
           (short)*(undefined4 *)(param_1 + 0x18) + (ushort)*(byte *)puVar9 + -0x80;
      *(ushort *)(&DAT_OPEN__8008fc82 + iVar6) =
           (short)*(undefined4 *)(param_1 + 0x1c) + (ushort)*(byte *)((int)puVar9 + 1) + -0x80;
      (&DAT_OPEN__8008fc84)[iVar6] = *(byte *)((int)puVar9 + 7);
      (&DAT_OPEN__8008fc85)[DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400] =
           *(byte *)((int)puVar9 + 6);
      iVar6 = DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400;
      *(ushort *)(&DAT_OPEN__8008fc88 + iVar6) = (ushort)*(byte *)((int)puVar9 + 5);
      *(ushort *)(&DAT_OPEN__8008fc8a + iVar6) = (ushort)*(byte *)(puVar9 + 1);
      if ((*(int *)(param_1 + 0x14) == 0) || ((*puVar9 & 0x8000000) != 0)) {
        uVar7 = *puVar9 >> 0xc & 0xf0;
      }
      else {
        uVar7 = (*(int *)(param_1 + 0x14) + -1) * 0x10;
      }
      uVar2 = GetClut((uVar4 & 0xffff) + uVar7,uVar4 >> 0x10);
      iVar6 = DAT_OPEN__8008fc00 * 0x20;
      iVar8 = DAT_8004e5bc * 0x400;
      *(u_short *)(&DAT_OPEN__8008fc86 + iVar6 + iVar8) = uVar2;
      AddPrim((void *)(param_2 + *(int *)(param_1 + 8) * 4),(void *)(iVar8 + iVar6 + -0x7ff70388));
      AddPrim((void *)(param_2 + *(int *)(param_1 + 8) * 4),
              (void *)(DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20 + -0x7ff70394));
      iVar3 = iVar3 + 1;
      DAT_OPEN__8008fc00 = DAT_OPEN__8008fc00 + 1;
    } while (iVar3 < iVar12);
  }
  return;
}



void FUN_OPEN__8006920c(uint *param_1,int param_2)

{
  u_short uVar1;
  int iVar2;
  uint local_38;
  uint local_34;
  short local_30;
  short local_2e;
  undefined2 local_2c;
  undefined2 local_2a;
  
  if (DAT_OPEN__8008fc00 < 0x20) {
    SetSprt((SPRT *)(DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20 + -0x7ff70388));
    if (param_1[6] == 0) {
      local_38 = param_1[9];
      local_34 = param_1[10];
    }
    else {
      local_38 = param_1[9] + (param_1[6] - 1) * 0x10;
      local_34 = param_1[10];
    }
    uVar1 = GetClut(local_38,local_34);
    iVar2 = DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400;
    *(u_short *)(&DAT_OPEN__8008fc86 + iVar2) = uVar1;
    (&DAT_OPEN__8008fc7c)[iVar2] = *(undefined *)(param_1 + 0xd);
    (&DAT_OPEN__8008fc7d)[DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20] =
         *(undefined *)((int)param_1 + 0x35);
    (&DAT_OPEN__8008fc7e)[DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20] =
         *(undefined *)((int)param_1 + 0x36);
    uVar1 = GetTPage((uint)((*param_1 & 4) != 0),(*param_1 & 0xc0) >> 6,param_1[1],param_1[2]);
    SetDrawMode((DR_MODE *)(DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20 + -0x7ff70394),1,0,
                (uint)uVar1,(RECT *)0x0);
    SetSemiTrans((void *)(DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20 + -0x7ff70388),
                 (uint)((*param_1 & 0x20) != 0));
    if ((*param_1 & 0x100) == 0) {
      iVar2 = DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400;
      *(short *)(&DAT_OPEN__8008fc80 + iVar2) = (short)param_1[7];
      *(short *)(&DAT_OPEN__8008fc82 + iVar2) = (short)param_1[8];
      (&DAT_OPEN__8008fc84)[iVar2] = (char)*(undefined2 *)(param_1 + 0xb);
      (&DAT_OPEN__8008fc85)[DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400] =
           (char)*(undefined2 *)((int)param_1 + 0x2e);
      iVar2 = DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400;
      *(undefined2 *)(&DAT_OPEN__8008fc88 + iVar2) = *(undefined2 *)(param_1 + 0xc);
      *(undefined2 *)(&DAT_OPEN__8008fc8a + iVar2) = *(undefined2 *)((int)param_1 + 0x32);
    }
    else {
      FUN_OPEN__800698c0((int)param_1[5] / 2,(int)(param_1 + 0xb),&local_30);
      iVar2 = DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400;
      *(short *)(&DAT_OPEN__8008fc80 + iVar2) = local_30 + (short)param_1[7];
      *(short *)(&DAT_OPEN__8008fc82 + iVar2) = local_2e + (short)param_1[8];
      (&DAT_OPEN__8008fc84)[iVar2] = *(char *)(param_1 + 0xb) + (char)local_30;
      (&DAT_OPEN__8008fc85)[DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400] =
           *(char *)((int)param_1 + 0x2e) + (char)local_2e;
      iVar2 = DAT_OPEN__8008fc00 * 0x20 + DAT_8004e5bc * 0x400;
      *(undefined2 *)(&DAT_OPEN__8008fc88 + iVar2) = local_2c;
      *(undefined2 *)(&DAT_OPEN__8008fc8a + iVar2) = local_2a;
      if ((int)param_1[5] / 2 < 4) {
        param_1[5] = param_1[5] + 1;
      }
      else {
        param_1[5] = 0;
        *param_1 = *param_1 ^ 0x100;
      }
    }
    AddPrim((void *)(param_2 + param_1[3] * 4),
            (void *)(DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20 + -0x7ff70388));
    AddPrim((void *)(param_2 + param_1[3] * 4),
            (void *)(DAT_8004e5bc * 0x400 + DAT_OPEN__8008fc00 * 0x20 + -0x7ff70394));
    DAT_OPEN__8008fc00 = DAT_OPEN__8008fc00 + 1;
  }
  return;
}



void FUN_OPEN__800696c8(int param_1,int *param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  
  iVar1 = DAT_OPEN__800852a0;
  iVar3 = DAT_OPEN__800852a0 * 0x24;
  *(undefined4 **)(*param_2 * 4 + param_1) = &DAT_OPEN__80085d04 + DAT_OPEN__800852a0 * 9;
  uVar2 = (&DAT_OPEN__80085d04)[iVar1 * 9];
  *(undefined4 *)(&DAT_OPEN__80085d18 + iVar3) = 0;
  (&DAT_OPEN__80085d04)[iVar1 * 9] = uVar2 & 0xffffffc7;
  (&DAT_OPEN__80085d24)[iVar3] = 0x80;
  (&DAT_OPEN__80085d25)[DAT_OPEN__800852a0 * 0x24] = 0x80;
  (&DAT_OPEN__80085d26)[DAT_OPEN__800852a0 * 0x24] = 0x80;
  *param_2 = *param_2 + 1;
  DAT_OPEN__800852a0 = DAT_OPEN__800852a0 + 1;
  return;
}



void FUN_OPEN__800698c0(int param_1,int param_2,short *param_3)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  
  if (param_1 == 1) {
    iVar1 = 0x32;
  }
  else if (param_1 < 2) {
    iVar1 = 0x14;
    if (param_1 != 0) {
      iVar1 = 100;
    }
  }
  else if (param_1 == 2) {
    iVar1 = 0x50;
  }
  else {
    iVar1 = 0x5a;
    if (param_1 != 3) {
      iVar1 = 100;
    }
  }
  iVar3 = (uint)*(ushort *)(param_2 + 4) << 0x10;
  iVar4 = iVar3 >> 0x10;
  iVar6 = (uint)*(ushort *)(param_2 + 6) << 0x10;
  iVar7 = iVar6 >> 0x10;
  uVar5 = iVar4 - (iVar3 >> 0x1f) >> 1 & 0xfffc;
  uVar9 = (iVar4 * iVar1) / 200 & 0xfffc;
  uVar2 = (iVar7 * iVar1) / 200 & 0xfffc;
  uVar8 = iVar7 - (iVar6 >> 0x1f) >> 1 & 0xfffc;
  if (uVar5 < uVar9) {
    uVar9 = uVar5;
  }
  if (uVar8 < uVar2) {
    uVar2 = uVar8;
  }
  *param_3 = (short)uVar5 - (short)uVar9;
  param_3[1] = (short)uVar8 - (short)uVar2;
  param_3[2] = (short)(uVar9 << 1);
  param_3[3] = (short)(uVar2 << 1);
  return;
}



void OPEN_NewFileHeader(fileOpenDesc *param_1,int param_2,int param_3,u_long *param_4)

{
  OPEN_OpenFile();
  Calculate_File_Header_NNL(param_1,param_2,param_3,param_4);
  return;
}



void OPEN_OpenFile(void)

{
  if (fileOpenDesc_8004eaf4.busy != 0) {
    do {
      Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
      VSync(0);
    } while (fileOpenDesc_8004eaf4.busy != 0);
  }
  return;
}



void OPEN_OpenMainMenuGraphics_To_FrameBuffer(void)

{
  OPEN_NewFileHeader(&fileOpenDesc_8004eaf4,0x1505d,0x11,DAT_OPEN__800855a8);
  OPEN_OpenFile();
  Put_OPNTEX_To_FrameBuffer((int)DAT_OPEN__800855a8);
  OPEN_NewFileHeader(&fileOpenDesc_8004eaf4,0x1506e,0x11,DAT_OPEN__800855a8);
  OPEN_OpenFile();
  Put_OPNTEX_To_FrameBuffer((int)DAT_OPEN__800855a8);
  OPEN_NewFileHeader(&fileOpenDesc_8004eaf4,0x1507f,0x21,DAT_OPEN__800855a8);
  OPEN_OpenFile();
  Put_OPNTEX_To_FrameBuffer((int)DAT_OPEN__800855a8);
  New_FileHeader_OPENBK(0,DAT_OPEN__800855a8);
  OPEN_OpenFile();
  return;
}



void FUN_OPEN__80069b6c(void)

{
  RECT local_10;
  
  OPEN_NewFileHeader(&fileOpenDesc_8004eaf4,0x150c2,0x11,DAT_OPEN__800855a8);
  OPEN_OpenFile();
  Put_OPNTEX_To_FrameBuffer((int)DAT_OPEN__800855a8);
  New_FileHeader_OPENBK(6,DAT_OPEN__800852a4);
  OPEN_OpenFile();
  local_10.y = 0x100;
  local_10.x = 0x200;
  local_10.w = 0x200;
  local_10.h = 0xf0;
  LoadImage(&local_10,DAT_OPEN__800852a4);
  DrawSync(0);
  OPEN_NewFileHeader(&fileOpenDesc_8004eaf4,0x150d3,0x170,DAT_OPEN__800852a4);
  OPEN_OpenFile();
  return;
}



void New_FileHeader_OPENBK(int param_1,u_long *param_2)

{
  if (param_1 != DAT_OPEN__80085ca8) {
    DAT_OPEN__80085ca8 = param_1;
    OPEN_NewFileHeader(&fileOpenDesc_8004eaf4,*(int *)(&DAT_OPEN__80073f58 + param_1 * 4) + 0x15243,
                       *(int *)(&DAT_OPEN__80073f5c + param_1 * 4) -
                       *(int *)(&DAT_OPEN__80073f58 + param_1 * 4),param_2);
  }
  return;
}



int FUN_OPEN__80069d38(void)

{
  int iVar1;
  
  iVar1 = CdSync(1,(u_char *)0x0);
  if (iVar1 == 2) {
    iVar1 = 1;
  }
  else {
    iVar1 = -(uint)(iVar1 == 5);
  }
  return iVar1;
}



void Put_OPNTEX_To_FrameBuffer(int param_1)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  RECT local_28 [3];
  
  if ((*(uint *)(param_1 + 4) & 8) == 0) {
    iVar3 = 8;
  }
  else {
    uVar1 = *(uint *)(param_1 + 8);
    local_28[0].x = (short)*(undefined4 *)(param_1 + 0xc);
    local_28[0].y = *(short *)(param_1 + 0xe);
    local_28[0].w = (short)*(undefined4 *)(param_1 + 0x10) * *(short *)(param_1 + 0x12);
    local_28[0].h = 1;
    LoadImage(local_28,(u_long *)(param_1 + 0x14));
    iVar3 = ((uVar1 >> 2) + 2) * 4;
  }
  iVar2 = iVar3 + param_1;
  local_28[0].x = (short)*(undefined4 *)(iVar2 + 4);
  local_28[0].y = *(short *)(iVar2 + 6);
  local_28[0].w = (short)*(undefined4 *)(iVar2 + 8);
  local_28[0].h = *(short *)(iVar2 + 10);
  LoadImage(local_28,(u_long *)(param_1 + iVar3 + 0xc));
  DrawSync(0);
  return;
}



void Stream_OpeningMovie(int param_1)

{
  DAT_OPEN__8008fc04 = 0;
  if (param_1 == 0) {
    DAT_8004e5bc = 0;
    Stream_FFTST_STR(0x153d6,0x278a,0x3df,0x2de);
  }
  else {
    FUN_OPEN__8006a174(0);
  }
  return;
}



void FUN_OPEN__80069eb4(void)

{
  (*(code *)(&PTR_DAT_OPEN__80069fd8_OPEN__80073f78)[(&DAT_OPEN__8008fbec)[DAT_OPEN__8008fc04]])
            (DAT_OPEN__8008fc04 * 100 + -0x7ff7ad40);
  return;
}



void Stream_FFTST_STR(int param_1,undefined4 param_2,undefined4 param_3,uint param_4)

{
  StreamMovie(param_1,param_3,param_4,0x76);
  DAT_OPEN__8008e53c = DAT_OPEN__8008e53c & 0xffffffbf;
  *(int *)(&DAT_OPEN__80085324 + DAT_OPEN__8008fc04 * 100) = param_1;
  *(undefined4 *)(&DAT_OPEN__80085328 + DAT_OPEN__8008fc04 * 100) = param_2;
  *(undefined4 *)(&DAT_OPEN__8008fbf0 + DAT_OPEN__8008fc04 * 4) = 0;
  DAT_OPEN__8008fc04 = DAT_OPEN__8008fc04 + 1;
  return;
}



void FUN_OPEN__8006a174(undefined4 param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  undefined *puVar6;
  int iVar7;
  RECT local_38 [3];
  
  DAT_OPEN__8008e53c = DAT_OPEN__8008e53c & 0xffffdfff | 0x1000;
  Initialise_SetScreen(0);
  local_38[0].w = 0x140;
  local_38[0].x = 0;
  local_38[0].y = 0;
  local_38[0].h = 0xf0;
  if (DAT_8004e5bc != 0) {
    local_38[0].y = 0xf0;
  }
  iVar5 = 0;
  puVar6 = &DAT_OPEN__80085328;
  iVar7 = 0x1e;
  LoadImage(local_38,DAT_OPEN__800855a8);
  DrawSync(0);
  iVar1 = FUN_OPEN__800696c8((int)&DAT_OPEN__80085f44,&DAT_OPEN__80085fc4);
  *(int *)(&DAT_OPEN__80085324 + DAT_OPEN__8008fc04 * 100) = iVar1;
  iVar2 = iVar1 * 0x24;
  *(undefined4 *)(&DAT_OPEN__80085d08 + iVar2) = 0x11;
  (&DAT_OPEN__80085d0c)[iVar1 * 9] = 4;
  *(undefined4 *)(&DAT_OPEN__80085d14 + iVar2) = 0;
  *(undefined4 *)(&DAT_OPEN__80085d10 + iVar2) = 0;
  *(undefined4 *)(&DAT_OPEN__80085d1c + iVar2) = 0;
  *(undefined4 *)(&DAT_OPEN__80085d20 + iVar2) = 100;
  do {
    iVar1 = FUN_OPEN__800696c8((int)&DAT_OPEN__80085f44,&DAT_OPEN__80085fc4);
    iVar3 = iVar5 + 3;
    iVar5 = iVar5 + 1;
    iVar2 = iVar1 * 0x24;
    *(int *)(puVar6 + DAT_OPEN__8008fc04 * 100) = iVar1;
    *(int *)(&DAT_OPEN__80085d08 + iVar2) = iVar3;
    (&DAT_OPEN__80085d0c)[iVar1 * 9] = 4;
    *(undefined4 *)(&DAT_OPEN__80085d14 + iVar2) = 0;
    *(undefined4 *)(&DAT_OPEN__80085d10 + iVar2) = 0;
    *(int *)(&DAT_OPEN__80085d20 + iVar2) = iVar7;
    iVar7 = iVar7 + 0xc;
    *(undefined4 *)(&DAT_OPEN__80085d1c + iVar2) = 0xffffffe8;
    puVar6 = puVar6 + 4;
  } while (iVar5 < 4);
  iVar1 = FUN_OPEN__800696c8((int)&DAT_OPEN__80085f44,&DAT_OPEN__80085fc4);
  *(int *)(&DAT_OPEN__80085348 + DAT_OPEN__8008fc04 * 100) = iVar1;
  iVar2 = iVar1 * 0x24;
  uVar4 = (&DAT_OPEN__80085d04)[iVar1 * 9];
  *(undefined4 *)(&DAT_OPEN__80085d08 + iVar2) = 0x13;
  (&DAT_OPEN__80085d0c)[iVar1 * 9] = 4;
  *(undefined4 *)(&DAT_OPEN__80085d14 + iVar2) = 0;
  *(undefined4 *)(&DAT_OPEN__80085d10 + iVar2) = 0;
  (&DAT_OPEN__80085d04)[iVar1 * 9] = uVar4 | 0x10;
  *(undefined4 *)(&DAT_OPEN__80085d1c + iVar2) = 0x60;
  uVar4 = DAT_OPEN__8008e53c & 0x40;
  *(undefined4 *)(&DAT_OPEN__80085d20 + iVar2) = 0x58;
  if (uVar4 != 0) {
    FUN_OPEN__80067e68(0x20);
  }
  iVar1 = DAT_OPEN__8008fc04 * 100;
  *(undefined4 *)(&DAT_OPEN__80085340 + iVar1) = 0;
  *(undefined4 *)(&DAT_OPEN__80085338 + iVar1) = 0;
  *(undefined4 *)(&DAT_OPEN__8008533c + iVar1) = param_1;
  *(undefined4 *)(&DAT_OPEN__80085344 + iVar1) = 0;
  *(undefined4 *)(&DAT_OPEN__80085358 + iVar1) = 0;
  iVar2 = DAT_OPEN__8008fc04 * 4;
  DAT_OPEN__8008fc04 = DAT_OPEN__8008fc04 + 1;
  *(undefined4 *)
   (&DAT_OPEN__80085d18 +
   *(int *)(&DAT_OPEN__80085328 + iVar1 + *(int *)(&DAT_OPEN__80085340 + iVar1) * 4) * 0x24) = 9;
  *(undefined4 *)(&DAT_OPEN__8008fbf0 + iVar2) = 2;
  return;
}



void FUN_OPEN__8006e2f0(void)

{
  u_short uVar1;
  int iVar2;
  POLY_FT4 *p;
  int iVar3;
  RECT local_30;
  
  SetDefDrawEnv(&OPENDRAWENV1,0,0,0x200,0xf0);
  SetDefDispEnv(&OPENDISPENV1,0,0xf0,0x200,0xf0);
  SetDefDrawEnv(&OPENDRAWENV2,0,0xf0,0x200,0xf0);
  SetDefDispEnv(&OPENDISPENV2,0,0,0x200,0xf0);
  OPENDRAWENV1.ofs[1] = 0x78;
  OPENDRAWENV2.ofs[1] = 0x168;
  DAT_OPEN__80085cc4 = 0xff00;
  OPENDRAWENV1.ofs[0] = 0x100;
  OPENDRAWENV2.ofs[0] = 0x100;
  DAT_OPEN__80085cc6 = 0xff88;
  DAT_OPEN__80085cca = 0xf0;
  OPENDRAWENV2.isbg = '\0';
  OPENDRAWENV1.isbg = '\0';
  DAT_OPEN__80085cc8 = 0x200;
  OPENDISPENV2.isrgb24 = '\0';
  OPENDISPENV1.isrgb24 = '\0';
  local_30.x = 0;
  local_30.y = 0;
  local_30.w = 0x200;
  local_30.h = 0x1e0;
  ClearImage(&local_30,'\0','\0','\0');
  DrawSync(0);
  DAT_OPEN__8008e548 = 1;
  uVar1 = GetTPage(0,2,0x300,0);
  DAT_OPEN__8008e54c = (int)(short)uVar1;
  uVar1 = GetClut(0,0x1e0);
  iVar2 = 0x14dc;
  DAT_OPEN__8008e550 = (int)(short)uVar1;
  DAT_OPEN__8008fbbc = 0;
  DAT_OPEN__8008e568 = 0;
  DAT_OPEN__8008e564 = 0;
  DAT_OPEN__8008e560 = 0;
  DAT_OPEN__8008e554 = 0;
  DAT_OPEN__8008e55c = 0;
  DAT_OPEN__8008e558 = 0;
  DAT_OPEN__8008e574 = 0;
  DAT_OPEN__8008e570 = PTR_DAT_OPEN__8007148c_OPEN__80070d88;
  do {
    *(undefined4 *)((int)&DAT_OPEN__8008e578 + iVar2) = 0;
    iVar2 = iVar2 + -0x164;
    iVar3 = 0;
  } while (-1 < iVar2);
  DAT_OPEN__8008fbd4 = 0;
  p = (POLY_FT4 *)&DAT_OPEN__8008fc1c;
  iVar2 = 0;
  do {
    SetPolyFT4(p);
    SetSemiTrans(p,1);
    uVar1 = GetTPage(0,2,0x300,0);
    *(u_short *)((int)&DAT_OPEN__8008fc32 + iVar2) = uVar1;
    uVar1 = GetClut(0x10,0x1e0);
    *(u_short *)((int)&DAT_OPEN__8008fc2a + iVar2) = uVar1;
    p->r0 = 0x80;
    p->g0 = 0x80;
    p->b0 = 0x80;
    p = p + 1;
    iVar3 = iVar3 + 1;
    iVar2 = iVar2 + 0x28;
  } while (iVar3 < 2);
  iVar3 = 0;
  DAT_OPEN__8008fc28 = 0xf8;
  DAT_OPEN__8008fc38 = 0xf8;
  DAT_OPEN__8008fc26 = 0x48;
  DAT_OPEN__8008fc2e = 0x48;
  DAT_OPEN__8008fc30 = 0xf9;
  DAT_OPEN__8008fc40 = 0xf9;
  DAT_OPEN__8008fc36 = 0x78;
  DAT_OPEN__8008fc3e = 0x78;
  DAT_OPEN__8008fc58 = 0xfd;
  DAT_OPEN__8008fc68 = 0xfd;
  DAT_OPEN__8008fc4e = 0xff88;
  DAT_OPEN__8008fc56 = 0xff88;
  DAT_OPEN__8008fc29 = 0;
  DAT_OPEN__8008fc31 = 0;
  DAT_OPEN__8008fc39 = 0x30;
  DAT_OPEN__8008fc41 = 0x30;
  DAT_OPEN__8008fc24 = 0xff00;
  DAT_OPEN__8008fc2c = 0x100;
  DAT_OPEN__8008fc34 = 0xff00;
  DAT_OPEN__8008fc3c = 0x100;
  DAT_OPEN__8008fc50 = 0xfc;
  DAT_OPEN__8008fc51 = 0;
  DAT_OPEN__8008fc59 = 0;
  DAT_OPEN__8008fc60 = 0xfc;
  DAT_OPEN__8008fc61 = 0x30;
  DAT_OPEN__8008fc69 = 0x30;
  DAT_OPEN__8008fc4c = 0xff00;
  DAT_OPEN__8008fc54 = 0x100;
  DAT_OPEN__8008fc5c = 0xff00;
  DAT_OPEN__8008fc5e = 0xffb8;
  DAT_OPEN__8008fc64 = 0x100;
  DAT_OPEN__8008fc66 = 0xffb8;
  iVar2 = 0;
  do {
    SetPolyFT4((POLY_FT4 *)(&DAT_OPEN__80085fc8 + iVar2));
    SetSemiTrans((POLY_FT4 *)(&DAT_OPEN__80085fc8 + iVar2),1);
    uVar1 = GetTPage(1,2,0x200,0);
    *(u_short *)((int)&DAT_OPEN__80085fde + iVar2) = uVar1;
    uVar1 = GetClut(0,0x1e1);
    *(u_short *)((int)&DAT_OPEN__80085fd6 + iVar2) = uVar1;
    iVar3 = iVar3 + 1;
                    // Possible PsyQ macro: setLineG3() + setSemiTrans(lineG3, 1)
    *(undefined2 *)((int)&DAT_OPEN__80085fe2 + iVar2) = 0x5a;
    *(undefined2 *)((int)&DAT_OPEN__80085fea + iVar2) = 0x5a;
    (&DAT_OPEN__80085fcc)[iVar2] = 0;
    (&DAT_OPEN__80085fcd)[iVar2] = 0;
    (&DAT_OPEN__80085fce)[iVar2] = 0;
    (&DAT_OPEN__80085fd4)[iVar2] = 0;
    (&DAT_OPEN__80085fd5)[iVar2] = 0;
    (&DAT_OPEN__80085fdc)[iVar2] = 0xff;
    (&DAT_OPEN__80085fdd)[iVar2] = 0;
    (&DAT_OPEN__80085fe4)[iVar2] = 0;
    (&DAT_OPEN__80085fe5)[iVar2] = 0xb4;
    (&DAT_OPEN__80085fec)[iVar2] = 0xff;
    (&DAT_OPEN__80085fed)[iVar2] = 0xb4;
    *(undefined2 *)((int)&DAT_OPEN__80085fd0 + iVar2) = 0xff00;
    *(undefined2 *)((int)&DAT_OPEN__80085fd2 + iVar2) = 0xffa6;
    *(undefined2 *)((int)&DAT_OPEN__80085fd8 + iVar2) = 0x100;
    *(undefined2 *)((int)&DAT_OPEN__80085fda + iVar2) = 0xffa6;
    *(undefined2 *)((int)&DAT_OPEN__80085fe0 + iVar2) = 0xff00;
    *(undefined2 *)((int)&DAT_OPEN__80085fe8 + iVar2) = 0x100;
    iVar2 = iVar2 + 0x28;
  } while (iVar3 < 2);
  local_30.x = 0x100;
  local_30.y = 0;
  local_30.w = 0x100;
  local_30.h = 0x100;
  ClearImage(&local_30,'\0','\0','\0');
  DrawSync(0);
  return;
}



undefined4 FUN_OPEN__8006e7e0(void)

{
  short *psVar1;
  
  FUN_OPEN__8006f134();
  FUN_OPEN__8006f228();
  FUN_OPEN__8006f79c();
  FUN_OPEN__8006f5d4();
  DAT_OPEN__8008e548 = DAT_OPEN__8008e548 | 2;
  do {
    psVar1 = (short *)FUN_OPEN__8006e8a8(DAT_OPEN__8008e570,DAT_OPEN__8008e574);
    (*(code *)(&PTR_FUN_OPEN__8006faf8_OPEN__80074034)[*psVar1])(psVar1);
    if ((DAT_OPEN__8008e548 & 1) == 0) {
      return 0;
    }
  } while ((DAT_OPEN__8008e548 & 2) != 0);
  return 1;
}



int FUN_OPEN__8006e8a8(int param_1,int param_2)

{
  return param_1 + param_2;
}



void FUN_OPEN__8006e8b0(int param_1,int param_2)

{
  short sVar1;
  short sVar2;
  int iVar3;
  undefined4 uVar4;
  short sVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  undefined4 *puVar11;
  int *piVar12;
  int iVar13;
  int iVar14;
  
  if ((DAT_OPEN__8008e548 & 1) != 0) {
    if (DAT_OPEN__8008fbd4 != 0) {
      AddPrim(*(void **)(param_1 + 0x3c),&DAT_OPEN__80085fc8 + param_2 * 0x28);
    }
    iVar14 = 0;
    piVar12 = &DAT_OPEN__8008e57c;
    puVar11 = &DAT_OPEN__8008e580;
    iVar10 = 0;
    AddPrim(*(void **)(param_1 + 0x20),&DAT_OPEN__8008fc1c);
    iVar13 = 0;
    AddPrim(*(void **)(param_1 + 0x20),&DAT_OPEN__8008fc44);
    do {
      if (((*(uint *)((int)&DAT_OPEN__8008e578 + iVar10) & 1) != 0) && (iVar9 = 0, 0 < *piVar12)) {
        iVar3 = iVar13 * 0x50;
        iVar8 = iVar3 + param_2 * 0x6900;
        do {
          iVar7 = iVar9 * 8 + iVar10;
          sVar2 = (short)*(undefined4 *)((int)&DAT_OPEN__8008e584 + iVar10) +
                  *(short *)((int)&DAT_OPEN__8008e58c + iVar7) + -0x100;
          uVar4 = *puVar11;
          sVar5 = (short)*(undefined4 *)((int)&DAT_OPEN__8008e588 + iVar10) +
                  *(short *)((int)&DAT_OPEN__8008e58e + iVar7) + -0x78;
          *(short *)(&DAT_OPEN__8009047a + iVar8) = sVar5;
          *(short *)(&DAT_OPEN__80090478 + iVar8) = sVar2 + (short)uVar4;
          sVar1 = *(short *)((int)&DAT_OPEN__8008e590 + iVar7);
          uVar4 = *puVar11;
          *(short *)(&DAT_OPEN__80090482 + iVar8) = sVar5;
          *(short *)(&DAT_OPEN__80090488 + iVar8) = sVar2;
          *(short *)(&DAT_OPEN__80090480 + iVar8) = sVar1 + sVar2 + (short)uVar4;
          iVar9 = iVar9 + 1;
          *(short *)(&DAT_OPEN__8009048a + iVar8) =
               *(short *)((int)&DAT_OPEN__8008e592 + iVar7) + sVar5;
          *(short *)(&DAT_OPEN__80090490 + iVar8) =
               *(short *)((int)&DAT_OPEN__8008e590 + iVar7) + sVar2;
          iVar6 = iVar3 + -0x7ff6fb90;
          *(short *)(&DAT_OPEN__80090492 + iVar8) =
               *(short *)((int)&DAT_OPEN__8008e592 + iVar7) + sVar5;
          iVar3 = iVar3 + 0x28;
          AddPrim(*(void **)(param_1 + 0x20),(void *)(param_2 * 0x6900 + iVar6));
          iVar8 = iVar8 + 0x28;
        } while (iVar9 < *piVar12);
      }
      piVar12 = piVar12 + 0x59;
      puVar11 = puVar11 + 0x59;
      iVar10 = iVar10 + 0x164;
      iVar14 = iVar14 + 1;
      iVar13 = iVar13 + 0x15;
    } while (iVar14 < 0x10);
  }
  return;
}



int FUN_OPEN__8006eb9c(byte *param_1)

{
  byte bVar1;
  byte bVar2;
  char cVar3;
  undefined *puVar4;
  undefined2 uVar5;
  char cVar6;
  u_short uVar7;
  short sVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  char cVar13;
  char cVar14;
  char *pcVar15;
  byte *pbVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  int iVar20;
  int iVar21;
  int local_50;
  
  puVar4 = PTR_DAT_OPEN__80070d8c_OPEN__80070d84;
  iVar18 = 0;
  iVar11 = 0;
  do {
    if ((*(uint *)((int)&DAT_OPEN__8008e578 + iVar11) & 1) == 0) break;
    iVar18 = iVar18 + 1;
    iVar11 = iVar11 + 0x164;
  } while (iVar18 < 0x10);
  if (iVar18 == 0x10) {
    iVar18 = 0;
  }
  else {
    iVar11 = iVar18 * 0x164;
    iVar20 = 0;
    iVar19 = 0;
    (&DAT_OPEN__8008e578)[iVar18 * 0x59] = 1;
    iVar21 = iVar18 * 0x690;
    local_50 = 0;
    do {
      uVar12 = (uint)*param_1;
      if (uVar12 == 0x40) break;
      if (uVar12 == 0x24) {
        pbVar16 = param_1 + 1;
        param_1 = param_1 + 2;
        DAT_OPEN__8008e554 = FUN_OPEN__8006f598((uint)*pbVar16);
      }
      else if (uVar12 == 0x5e) {
        pbVar16 = param_1 + 1;
        param_1 = param_1 + 2;
        uVar12 = FUN_OPEN__8006f598((uint)*pbVar16);
        uVar7 = GetClut(uVar12 << 4,0x1e0);
        DAT_OPEN__8008e550 = (uint)uVar7;
      }
      else {
        if (uVar12 == 0x3c) {
          pbVar16 = param_1 + 1;
          param_1 = param_1 + 2;
          iVar19 = iVar19 + -1;
          uVar12 = FUN_OPEN__8006f598((uint)*pbVar16);
          iVar20 = iVar20 - uVar12;
        }
        else {
          if (uVar12 != 0x3e) {
            if (uVar12 == 0x2f) {
              pbVar16 = param_1 + 1;
              param_1 = param_1 + 2;
              DAT_OPEN__8008e558 = FUN_OPEN__8006f598((uint)*pbVar16);
            }
            else {
              if (uVar12 != 0x2a) {
                if (uVar12 == 0x2b) {
                  pbVar16 = param_1 + 1;
                  param_1 = param_1 + 2;
                  iVar19 = iVar19 + -1;
                  uVar12 = FUN_OPEN__8006f598((uint)*pbVar16);
                  iVar20 = uVar12 * 0x14;
                }
                else {
                  iVar17 = (uVar12 - 0x20) * 8 + DAT_OPEN__8008e554 * 0x380;
                  if ((puVar4[iVar17 + 2] & 1) == 0) {
                    *(ushort *)((int)&DAT_OPEN__8008e58c + iVar11) =
                         (short)iVar20 - (ushort)(byte)puVar4[iVar17 + 3];
                    *(ushort *)((int)&DAT_OPEN__8008e58e + iVar11) =
                         -(ushort)(byte)puVar4[iVar17 + 6];
                    bVar1 = puVar4[iVar17 + 3];
                    bVar2 = puVar4[iVar17 + 5];
                    sVar8 = (ushort)(byte)puVar4[iVar17 + 4] + (ushort)(byte)puVar4[iVar17 + 6] + -1
                    ;
                    *(ushort *)((int)&DAT_OPEN__8008e590 + iVar11) = (ushort)bVar1 + (ushort)bVar2;
                    *(short *)((int)&DAT_OPEN__8008e592 + iVar11) = sVar8;
                    if (DAT_OPEN__8008e55c == 0) {
                      *(short *)((int)&DAT_OPEN__8008e58c + iVar11) =
                           (short)((int)*(short *)((int)&DAT_OPEN__8008e58c + iVar11) << 1);
                      *(short *)((int)&DAT_OPEN__8008e590 + iVar11) =
                           (short)((int)*(short *)((int)&DAT_OPEN__8008e590 + iVar11) << 1);
                    }
                    else {
                      iVar9 = (uint)*(ushort *)((int)&DAT_OPEN__8008e58c + iVar11) << 0x10;
                      iVar10 = (uint)*(ushort *)((int)&DAT_OPEN__8008e590 + iVar11) << 0x10;
                      *(ushort *)((int)&DAT_OPEN__8008e58c + iVar11) =
                           *(ushort *)((int)&DAT_OPEN__8008e58c + iVar11) +
                           (short)((iVar9 >> 0x10) - (iVar9 >> 0x1f) >> 1);
                      *(ushort *)((int)&DAT_OPEN__8008e590 + iVar11) =
                           *(ushort *)((int)&DAT_OPEN__8008e590 + iVar11) +
                           (short)((iVar10 >> 0x10) - (iVar10 >> 0x1f) >> 1);
                    }
                    (&DAT_OPEN__8008e580)[iVar18 * 0x59] = DAT_OPEN__8008e558;
                    SetPolyFT4((POLY_FT4 *)(iVar21 + -0x7ff6fb90));
                    SetPolyFT4((POLY_FT4 *)(iVar21 + -0x7ff69290));
                    SetSemiTrans((POLY_FT4 *)(iVar21 + -0x7ff6fb90),1);
                    SetSemiTrans((POLY_FT4 *)(iVar21 + -0x7ff69290),1);
                    uVar5 = (undefined2)DAT_OPEN__8008e54c;
                    *(undefined2 *)(iVar21 + -0x7ff6927a) = (undefined2)DAT_OPEN__8008e54c;
                    *(undefined2 *)(iVar21 + -0x7ff6fb7a) = uVar5;
                    uVar5 = (undefined2)DAT_OPEN__8008e550;
                    local_50 = local_50 + 1;
                    *(undefined2 *)(iVar21 + -0x7ff69282) = (undefined2)DAT_OPEN__8008e550;
                    *(undefined2 *)(iVar21 + -0x7ff6fb82) = uVar5;
                    *(undefined *)(iVar21 + -0x7ff6fb8c) = 0x80;
                    *(undefined *)(iVar21 + -0x7ff6fb8b) = 0x80;
                    *(undefined *)(iVar21 + -0x7ff6fb8a) = 0x80;
                    *(undefined *)(iVar21 + -0x7ff6928c) = 0x80;
                    *(undefined *)(iVar21 + -0x7ff6928b) = 0x80;
                    *(undefined *)(iVar21 + -0x7ff6928a) = 0x80;
                    pcVar15 = puVar4 + iVar17;
                    cVar3 = *pcVar15;
                    cVar6 = ((pcVar15[1] - pcVar15[4]) - pcVar15[6]) + '\x01';
                    *(char *)(iVar21 + -0x7ff6fb84) = cVar3;
                    *(char *)(iVar21 + -0x7ff6fb83) = cVar6;
                    iVar11 = iVar11 + 8;
                    cVar14 = cVar3 + (char)((ushort)bVar1 + (ushort)bVar2);
                    *(char *)(iVar21 + -0x7ff6fb7c) = cVar14;
                    *(char *)(iVar21 + -0x7ff6fb7b) = cVar6;
                    *(char *)(iVar21 + -0x7ff6fb74) = cVar3;
                    cVar13 = cVar6 + (char)sVar8;
                    *(char *)(iVar21 + -0x7ff6fb73) = cVar13;
                    *(char *)(iVar21 + -0x7ff6fb6c) = cVar14;
                    *(char *)(iVar21 + -0x7ff6fb6b) = cVar13;
                    *(char *)(iVar21 + -0x7ff69284) = cVar3;
                    *(char *)(iVar21 + -0x7ff69283) = cVar6;
                    *(char *)(iVar21 + -0x7ff6927c) = cVar14;
                    *(char *)(iVar21 + -0x7ff6927b) = cVar6;
                    *(char *)(iVar21 + -0x7ff69274) = cVar3;
                    *(char *)(iVar21 + -0x7ff69273) = cVar13;
                    *(char *)(iVar21 + -0x7ff6926c) = cVar14;
                    *(char *)(iVar21 + -0x7ff6926b) = cVar13;
                    bVar1 = pcVar15[7];
                    iVar21 = iVar21 + 0x28;
                  }
                  else {
                    bVar1 = puVar4[iVar17 + 5];
                    iVar19 = iVar19 + -1;
                  }
                  param_1 = param_1 + 1;
                  iVar20 = iVar20 + (uint)bVar1;
                }
                goto LAB_OPEN__8006f0bc;
              }
              pbVar16 = param_1 + 1;
              param_1 = param_1 + 2;
              DAT_OPEN__8008e55c = FUN_OPEN__8006f598((uint)*pbVar16);
            }
            goto LAB_OPEN__8006f0c0;
          }
          pbVar16 = param_1 + 1;
          param_1 = param_1 + 2;
          iVar19 = iVar19 + -1;
          uVar12 = FUN_OPEN__8006f598((uint)*pbVar16);
          iVar20 = iVar20 + uVar12;
        }
LAB_OPEN__8006f0bc:
        iVar19 = iVar19 + 1;
      }
LAB_OPEN__8006f0c0:
    } while (iVar19 < 0x2a);
    (&DAT_OPEN__8008e57c)[iVar18 * 0x59] = local_50;
    iVar18 = iVar18 + 1;
  }
  return iVar18;
}



void FUN_OPEN__8006f134(void)

{
  int iVar1;
  uint *puVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  
  if (DAT_OPEN__8008e560 != 0) {
    if (DAT_OPEN__8008e560 < 1) {
      uVar4 = DAT_OPEN__8008e564 - DAT_OPEN__8008e560;
      iVar6 = (int)uVar4 >> 8;
      iVar5 = -iVar6;
    }
    else {
      uVar4 = DAT_OPEN__8008e560 + DAT_OPEN__8008e564;
      iVar5 = (int)uVar4 >> 8;
      iVar6 = iVar5;
    }
    DAT_OPEN__8008e564 = uVar4 & 0xff;
    DAT_OPEN__8008e568 = DAT_OPEN__8008e568 + iVar6;
    iVar6 = 0;
    puVar2 = &DAT_OPEN__8008e578;
    piVar3 = &DAT_OPEN__8008e588;
    do {
      if (((*puVar2 & 1) != 0) &&
         (iVar1 = *piVar3, *piVar3 = iVar1 + iVar5, 0xf0 < (iVar1 + iVar5) - 0x10U)) {
        *puVar2 = *puVar2 ^ 1;
      }
      puVar2 = puVar2 + 0x59;
      iVar6 = iVar6 + 1;
      piVar3 = piVar3 + 0x59;
    } while (iVar6 < 0x10);
  }
  return;
}



void FUN_OPEN__8006f228(void)

{
  uint uVar1;
  int iVar2;
  uint *puVar3;
  CdlLOC aCStack_20 [2];
  u_char local_18;
  undefined local_17;
  u_char local_10 [8];
  
  if ((DAT_OPEN__8008e548 & 0x20) == 0) goto LAB_OPEN__8006f3e0;
  switch(DAT_OPEN__8008fbc4) {
  case 0:
    local_10[0] = 'h';
    CdControlF('\x0e',local_10);
    break;
  case 1:
  case 7:
    iVar2 = FUN_OPEN__80069d38();
    DAT_OPEN__8008fbc4 = DAT_OPEN__8008fbc4 + iVar2;
    goto LAB_OPEN__8006f3e0;
  case 4:
    CdIntToPos(0x2f551,&fileOpenDesc_8004eaf4.CdlLOC);
    CdControlF('\x15',&fileOpenDesc_8004eaf4.CdlLOC.minute);
    puVar3 = (uint *)&DAT_OPEN__8008fbc4;
    DAT_80057718 = 0;
    uVar1 = DAT_OPEN__8008fbc4 + 1;
    goto LAB_OPEN__8006f3dc;
  case 5:
    iVar2 = FUN_OPEN__80069d38();
    DAT_OPEN__8008fbc4 = DAT_OPEN__8008fbc4 + iVar2;
    if ((0x78 < DAT_80057718) && (DAT_OPEN__8008fbc4 == 5)) {
      Reset_CD_Subsystems();
      DAT_OPEN__8008fbc4 = 0;
    }
    goto LAB_OPEN__8006f3e0;
  case 6:
    local_18 = '\x01';
    local_17 = (undefined)DAT_OPEN__8008fbc0;
    CdControlF('\r',&local_18);
    DAT_OPEN__8008fbc4 = DAT_OPEN__8008fbc4 + 1;
    goto LAB_OPEN__8006f3e0;
  case 8:
    CdControlF('\x1b',(u_char *)0x0);
    break;
  case 9:
    iVar2 = FUN_OPEN__80069d38();
    if (iVar2 != 1) goto LAB_OPEN__8006f3e0;
    puVar3 = &DAT_OPEN__8008e548;
    DAT_OPEN__8008fbc8 = 0;
    uVar1 = (DAT_OPEN__8008e548 | 8) ^ 0x20;
    goto LAB_OPEN__8006f3dc;
  }
  puVar3 = (uint *)&DAT_OPEN__8008fbc4;
  uVar1 = DAT_OPEN__8008fbc4 + 1;
LAB_OPEN__8006f3dc:
  *puVar3 = uVar1;
LAB_OPEN__8006f3e0:
  if ((DAT_OPEN__8008e548 & 8) != 0) {
    DAT_OPEN__8008fbc8 = DAT_OPEN__8008fbc8 + 1;
    if (DAT_OPEN__8008fbc8 < 0x78) {
      return;
    }
    uVar1 = CdStatus();
    if ((uVar1 & 0x20) == 0) {
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 ^ 8 | 0x20;
      DAT_OPEN__8008fbc4 = 0;
      return;
    }
    iVar2 = CdControl('\x10',(u_char *)0x0,&aCStack_20[0].minute);
    if ((iVar2 != 0) && (iVar2 = CdPosToInt(aCStack_20), 0x3586c < iVar2)) {
      FUN_OPEN__80068638(0,1);
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 ^ 8 | 0x10;
      DAT_OPEN__8008fbc4 = 0;
      return;
    }
  }
  if ((DAT_OPEN__8008e548 & 0x10) != 0) {
    switch(DAT_OPEN__8008fbc4) {
    case 0:
      CdControlF('\t',(u_char *)0x0);
      break;
    case 1:
    case 3:
      iVar2 = FUN_OPEN__80069d38();
      DAT_OPEN__8008fbc4 = DAT_OPEN__8008fbc4 + iVar2;
      return;
    case 2:
      local_10[0] = 0x80;
      CdControlF('\x0e',local_10);
      break;
    case 6:
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 ^ 0x10;
      FUN_OPEN__80068638(0xc0,1);
      return;
    }
    DAT_OPEN__8008fbc4 = DAT_OPEN__8008fbc4 + 1;
    return;
  }
  return;
}



uint FUN_OPEN__8006f598(int param_1)

{
  uint uVar1;
  
  uVar1 = param_1 - 0x30;
  if (((9 < uVar1) && (uVar1 = param_1 - 0x37, 5 < param_1 - 0x41U)) &&
     (uVar1 = param_1 - 0x57, 5 < param_1 - 0x61U)) {
    uVar1 = 0;
  }
  return uVar1;
}



void FUN_OPEN__8006f5d4(void)

{
  undefined uVar1;
  
  if ((DAT_OPEN__8008e548 & 0x40) != 0) {
    DAT_OPEN__8008fbcc = DAT_OPEN__8008fbcc + 1;
    DAT_OPEN__8008fbd4 = (DAT_OPEN__8008fbcc * 0x80) / DAT_OPEN__8008fbd0;
    if (DAT_OPEN__8008fbd0 == 0) {
      trap(0x1c00);
    }
    if ((DAT_OPEN__8008fbd0 == -1) && (DAT_OPEN__8008fbcc * 0x80 == -0x80000000)) {
      trap(0x1800);
    }
    if (0x80 < DAT_OPEN__8008fbd4) {
      DAT_OPEN__8008fbd4 = 0x80;
    }
    if (DAT_OPEN__8008fbd0 <= DAT_OPEN__8008fbcc) {
      DAT_OPEN__8008fbd4 = 0x80;
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 ^ 0x40;
    }
  }
  if ((DAT_OPEN__8008e548 & 0x80) != 0) {
    DAT_OPEN__8008fbcc = DAT_OPEN__8008fbcc + 1;
    if (DAT_OPEN__8008fbd0 == 0) {
      trap(0x1c00);
    }
    if ((DAT_OPEN__8008fbd0 == -1) && (DAT_OPEN__8008fbcc * 0x80 == -0x80000000)) {
      trap(0x1800);
    }
    DAT_OPEN__8008fbd4 = 0x80 - (DAT_OPEN__8008fbcc * 0x80) / DAT_OPEN__8008fbd0;
    if (DAT_OPEN__8008fbd4 < 0) {
      DAT_OPEN__8008fbd4 = 0;
    }
    if (DAT_OPEN__8008fbd0 <= DAT_OPEN__8008fbcc) {
      DAT_OPEN__8008fbd4 = 0;
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 ^ 0x80;
    }
  }
  uVar1 = (undefined)DAT_OPEN__8008fbd4;
  (&DAT_OPEN__80085fcc)[DAT_8004e5bc * 0x28] = uVar1;
  (&DAT_OPEN__80085fcd)[DAT_8004e5bc * 0x28] = uVar1;
  (&DAT_OPEN__80085fce)[DAT_8004e5bc * 0x28] = uVar1;
  return;
}



void FUN_OPEN__8006f79c(void)

{
  int iVar1;
  
  if (DAT_OPEN__8008fbe0 != 0) {
    iVar1 = DAT_OPEN__8008fbe8 + -1;
    if ((DAT_OPEN__8008fbe8 != 0) && (DAT_OPEN__8008fbe8 = iVar1, iVar1 == 0)) {
      DAT_OPEN__8008fbd4 = 0x80;
      DAT_OPEN__8008fbcc = 0;
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 | 0x80;
      DAT_OPEN__8008fbd0 = DAT_OPEN__8008fbec;
    }
    DAT_OPEN__8008fbe4 = DAT_OPEN__8008fbe4 + -1;
    if (DAT_OPEN__8008fbe4 == 0) {
      if (DAT_OPEN__8008fbdc < DAT_OPEN__8008fbd8) {
        DAT_OPEN__8008fbe0 = 0;
      }
      else {
        Put_OPNTEX_To_FrameBuffer(DAT_OPEN__800852a4 + DAT_OPEN__8008fbd8 * 0xb800);
        DAT_OPEN__8008e548 = DAT_OPEN__8008e548 | 0x40;
        DAT_OPEN__8008fbcc = 0;
        DAT_OPEN__8008fbd4 = 0;
        DAT_OPEN__8008fbd0 = DAT_OPEN__8008fbec;
        DAT_OPEN__8008fbd8 = DAT_OPEN__8008fbd8 + 1;
        DAT_OPEN__8008fbe4 = DAT_OPEN__8008fbe0;
        DAT_OPEN__8008fbe8 = DAT_OPEN__8008fbe0 - DAT_OPEN__8008fbec;
      }
    }
  }
  return;
}



void Stream_EndGameMovie(void)

{
  DAT_OPEN__8008fc04 = 0;
  DAT_8004e5bc = 0;
  Stream_FFTEND_STR(0x21908,0x3858,0x571);
  return;
}



void Stream_FFTEND_STR(int param_1,undefined4 param_2,undefined4 param_3)

{
  StreamMovie(param_1,param_3,0xffffffff,0x7e);
  DAT_OPEN__8008e53c = DAT_OPEN__8008e53c & 0xffffffbf;
  *(undefined4 *)(&DAT_OPEN__8008fbf0 + DAT_OPEN__8008fc04 * 4) = 9;
  DAT_OPEN__8008fc04 = DAT_OPEN__8008fc04 + 1;
  return;
}



void FUN_OPEN__8006f988(void)

{
  if ((DAT_OPEN__8008e53c & 2) == 0) {
    SetDispMask(0);
    DAT_OPEN__8008e53c = DAT_OPEN__8008e53c | 0x40;
    DAT_OPEN__8008fc04 = DAT_OPEN__8008fc04 + -1;
    FUN_OPEN__8006fa10();
  }
  else if ((DAT_OPEN__800855a4 & 0x800) != 0) {
    FUN_OPEN__800675bc(1);
  }
  return;
}



void FUN_OPEN__8006fa10(void)

{
  DAT_OPEN__8008e53c = DAT_OPEN__8008e53c & 0xffffcfff;
  Initialise_SetScreen(1);
  DAT_OPEN__8008e53c = DAT_OPEN__8008e53c | 0x40000;
  FUN_OPEN__8006e2f0();
  DAT_OPEN__8008fc14 = 2;
  *(undefined4 *)(&DAT_OPEN__8008fbf0 + DAT_OPEN__8008fc04 * 4) = 10;
  DAT_OPEN__8008fc04 = DAT_OPEN__8008fc04 + 1;
  return;
}



void FUN_OPEN__8006faa0(void)

{
  int iVar1;
  
  iVar1 = FUN_OPEN__8006e7e0();
  if (iVar1 == 0) {
    DAT_OPEN__8008fc14 = 0;
    DAT_OPEN__8008fc04 = DAT_OPEN__8008fc04 + -1;
    DAT_OPEN__8008e53c = DAT_OPEN__8008e53c ^ 1;
  }
  return;
}



void FUN_OPEN__8006faf8(void)

{
  uint uVar1;
  
  uVar1 = DAT_OPEN__8008e548 ^ 2;
  if ((DAT_OPEN__8008e548 & 0x30) == 0) {
    DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 2;
    uVar1 = DAT_OPEN__8008e548 ^ 1;
  }
  DAT_OPEN__8008e548 = uVar1;
  return;
}



void FUN_OPEN__8006fb40(int param_1)

{
  byte *pbVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  
  uVar3 = (uint)*(short *)(param_1 + 2);
  iVar4 = (int)*(short *)(param_1 + 4);
  pbVar1 = (byte *)FUN_OPEN__8006e8a8(DAT_OPEN__8008e570,(int)*(short *)(param_1 + 6));
  iVar2 = FUN_OPEN__8006eb9c(pbVar1);
  if (iVar2 != 0) {
    iVar2 = iVar2 + -1;
    if (uVar3 == 0xffffffff) {
      uVar3 = 0x100 - ((int)(short)(&DAT_OPEN__8008e58c)
                                   [iVar2 * 0xb2 + ((&DAT_OPEN__8008e57c)[iVar2 * 0x59] + -1) * 4] +
                      (int)(short)(&DAT_OPEN__8008e590)
                                  [iVar2 * 0xb2 + ((&DAT_OPEN__8008e57c)[iVar2 * 0x59] + -1) * 4]) /
                      2;
    }
    if (iVar4 == -1) {
      iVar4 = 0x78 - ((int)(short)(&DAT_OPEN__8008e58e)
                                  [iVar2 * 0xb2 + ((&DAT_OPEN__8008e57c)[iVar2 * 0x59] + -1) * 4] +
                     (int)(short)(&DAT_OPEN__8008e592)
                                 [iVar2 * 0xb2 + ((&DAT_OPEN__8008e57c)[iVar2 * 0x59] + -1) * 4]) /
                     2;
    }
    if ((uVar3 & 0x100) != 0) {
      uVar3 = (0x100 - (((int)((uint)(ushort)(&DAT_OPEN__8008e590)
                                             [iVar2 * 0xb2 + (uVar3 & 0xff) * 4] << 0x10) >> 0x10) -
                        ((int)((uint)(ushort)(&DAT_OPEN__8008e590)
                                             [iVar2 * 0xb2 + (uVar3 & 0xff) * 4] << 0x10) >> 0x1f)
                       >> 1)) - (int)(short)(&DAT_OPEN__8008e58c)[iVar2 * 0xb2 + (uVar3 & 0xff) * 4]
      ;
    }
    (&DAT_OPEN__8008e584)[iVar2 * 0x59] = uVar3;
    (&DAT_OPEN__8008e588)[iVar2 * 0x59] = iVar4;
  }
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 8;
  return;
}



void FUN_OPEN__8006fd64(int param_1)

{
  DAT_OPEN__8008e568 = 0;
  DAT_OPEN__8008e564 = 0;
  DAT_OPEN__8008e560 = (int)*(short *)(param_1 + 2);
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
  return;
}



void FUN_OPEN__8006fd9c(int param_1)

{
  DAT_OPEN__80085cc0 = 2;
  FUN_OPEN__80067e68((int)*(short *)(param_1 + 2));
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
  return;
}



void FUN_OPEN__8006fde0(int param_1)

{
  DAT_OPEN__80085cc0 = 2;
  FUN_OPEN__80067e90((int)*(short *)(param_1 + 2));
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
  return;
}



void FUN_OPEN__8006fe24(int param_1)

{
  uint uVar1;
  
  if ((DAT_OPEN__8008e548 & 4) == 0) {
    DAT_OPEN__8008e56c = 0;
    uVar1 = (DAT_OPEN__8008e548 | 4) ^ 2;
  }
  else {
    DAT_OPEN__8008e56c = DAT_OPEN__8008e56c + 1;
    uVar1 = DAT_OPEN__8008e548 ^ 2;
    if (*(short *)(param_1 + 2) <= DAT_OPEN__8008e56c) {
      DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
      uVar1 = DAT_OPEN__8008e548 ^ 4;
    }
  }
  DAT_OPEN__8008e548 = uVar1;
  return;
}



void FUN_OPEN__8006feb4(int param_1)

{
  uint uVar1;
  
  if ((DAT_OPEN__8008e548 & 4) == 0) {
    DAT_OPEN__8008e568 = 0;
    uVar1 = (DAT_OPEN__8008e548 | 4) ^ 2;
  }
  else {
    uVar1 = DAT_OPEN__8008e548 ^ 2;
    if (*(short *)(param_1 + 2) <= DAT_OPEN__8008e568) {
      DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
      uVar1 = DAT_OPEN__8008e548 ^ 4;
    }
  }
  DAT_OPEN__8008e548 = uVar1;
  return;
}



void FUN_OPEN__8006ff34(int param_1)

{
  if ((DAT_OPEN__8008e548 & 4) == 0) {
    if ((DAT_OPEN__8008e548 & 0x38) == 0) {
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 & 0xffffffc5 | 0x24;
      DAT_OPEN__8008fbc0 = (int)*(short *)(param_1 + 2);
      DAT_OPEN__8008fbc4 = 0;
      FUN_OPEN__80068638(0,1);
      return;
    }
  }
  else {
    if ((DAT_OPEN__8008e548 & 0x20) != 0) {
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 ^ 2;
      return;
    }
    DAT_OPEN__8008e548 = DAT_OPEN__8008e548 ^ 4;
  }
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
  return;
}



void FUN_OPEN__8006ffe4(int param_1)

{
  FUN_OPEN__80068638(0x7a,(short)((int)*(short *)(param_1 + 2) << 2));
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
  return;
}



void FUN_OPEN__80070020(int param_1)

{
  FUN_OPEN__80068638(0,(short)((int)*(short *)(param_1 + 2) << 2));
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
  return;
}



void FUN_OPEN__8007005c(void)

{
  if ((DAT_OPEN__8008e548 & 4) == 0) {
    if ((DAT_OPEN__8008e548 & 0x28) != 0) {
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 & 0xffffffc5 | 0x14;
      DAT_OPEN__8008fbc4 = 0;
      FUN_OPEN__80068638(0,1);
      return;
    }
  }
  else {
    if ((DAT_OPEN__8008e548 & 0x10) != 0) {
      DAT_OPEN__8008e548 = DAT_OPEN__8008e548 ^ 2;
      return;
    }
    DAT_OPEN__8008e548 = DAT_OPEN__8008e548 ^ 4;
  }
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 2;
  return;
}



void FUN_OPEN__80070100(int param_1)

{
  Put_OPNTEX_To_FrameBuffer(DAT_OPEN__800852a4 + *(short *)(param_1 + 2) * 0xb800);
  DAT_OPEN__8008fbd4 = 0;
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
  return;
}



void FUN_OPEN__80070160(int param_1)

{
  DAT_OPEN__8008fbcc = 0;
  DAT_OPEN__8008fbd4 = 0;
  DAT_OPEN__8008e548 = DAT_OPEN__8008e548 | 0x40;
  DAT_OPEN__8008fbd0 = (int)*(short *)(param_1 + 2);
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
  return;
}



void FUN_OPEN__800701ac(int param_1)

{
  DAT_OPEN__8008fbcc = 0;
  DAT_OPEN__8008fbd4 = 0x80;
  DAT_OPEN__8008e548 = DAT_OPEN__8008e548 | 0x80;
  DAT_OPEN__8008fbd0 = (int)*(short *)(param_1 + 2);
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 4;
  return;
}



void FUN_OPEN__800701fc(void)

{
  uint uVar1;
  
  uVar1 = DAT_OPEN__8008e548 ^ 2;
  if ((DAT_OPEN__8008e548 & 0x38) == 0) {
    DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 2;
    uVar1 = DAT_OPEN__8008e548;
  }
  DAT_OPEN__8008e548 = uVar1;
  return;
}



void FUN_OPEN__80070240(int param_1)

{
  DAT_OPEN__8008fbd8 = (int)*(short *)(param_1 + 2);
  DAT_OPEN__8008fbdc = (int)*(short *)(param_1 + 4);
  DAT_OPEN__8008fbe0 = (int)*(short *)(param_1 + 6);
  DAT_OPEN__8008fbe4 = 1;
  DAT_OPEN__8008e574 = DAT_OPEN__8008e574 + 10;
  DAT_OPEN__8008fbec = (int)*(short *)(param_1 + 8);
  return;
}



// Possible VS_AUTO.OBJ/SsSetAutoKeyOffMode

void FUN_OPEN__800702a8(undefined param_1)

{
  DAT_OPEN__80074074 = param_1;
  return;
}



void FUN_OPEN__800702b8(void)

{
  FUN_OPEN__800703e8();
  FUN_OPEN__80070548();
  return;
}



int FUN_OPEN__800702e0(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = -1;
  iVar1 = TestEvent(cardokaydoneBIOS);
  if (iVar1 == 1) {
    iVar2 = 0;
  }
  else {
    iVar1 = TestEvent(carderrwriteBIOS);
    if (iVar1 == 1) {
      iVar2 = 1;
    }
    else {
      iVar1 = TestEvent(carderrbusyBIOS);
      if (iVar1 == 1) {
        iVar2 = 2;
      }
      else {
        iVar1 = TestEvent(carderrejectBIOS);
        if (iVar1 == 1) {
          iVar2 = 3;
        }
      }
    }
  }
  if (iVar2 != -1) {
    FUN_OPEN__800703e8();
  }
  return iVar2;
}



int FUN_OPEN__800703a0(void)

{
  uint uVar1;
  int iVar2;
  
  do {
    uVar1 = _card_status();
    iVar2 = FUN_OPEN__800702e0();
    if (-1 < iVar2) {
      return iVar2;
    }
  } while ((uVar1 & 1) == 0);
  return 2;
}



void FUN_OPEN__800703e8(void)

{
  TestEvent(cardokaydoneBIOS);
  TestEvent(carderrwriteBIOS);
  TestEvent(carderrbusyBIOS);
  TestEvent(carderrejectBIOS);
  return;
}



int FUN_OPEN__80070440(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = -1;
  iVar1 = TestEvent(cardokayHRDWR);
  if (iVar1 == 1) {
    iVar2 = 0;
  }
  else {
    iVar1 = TestEvent(carderrHRDWR);
    if (iVar1 == 1) {
      iVar2 = 1;
    }
    else {
      iVar1 = TestEvent(carderrbusyHRDWR);
      if (iVar1 == 1) {
        iVar2 = 2;
      }
      else {
        iVar1 = TestEvent(carderr2HRDWR);
        if (iVar1 == 1) {
          iVar2 = 3;
        }
      }
    }
  }
  if (iVar2 != -1) {
    FUN_OPEN__80070548();
  }
  return iVar2;
}



int FUN_OPEN__80070500(void)

{
  uint uVar1;
  int iVar2;
  
  do {
    uVar1 = _card_status();
    iVar2 = FUN_OPEN__80070440();
    if (-1 < iVar2) {
      return iVar2;
    }
  } while ((uVar1 & 1) == 0);
  return 2;
}



void FUN_OPEN__80070548(void)

{
  TestEvent(cardokayHRDWR);
  TestEvent(carderrHRDWR);
  TestEvent(carderrbusyHRDWR);
  TestEvent(carderr2HRDWR);
  return;
}



int FUN_OPEN__800705a0(undefined4 param_1,int param_2)

{
  int iVar1;
  int in_v1;
  int iVar2;
  
  iVar2 = 0;
  if (0 < param_2) {
    do {
      iVar1 = _card_info();
      in_v1 = 1;
      if ((iVar1 == 1) && (in_v1 = FUN_OPEN__800703a0(), in_v1 == 0)) {
        return 0;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < param_2);
  }
  return in_v1;
}



int FUN_OPEN__8007062c(void)

{
  uint uVar1;
  int iVar2;
  
  if (DAT_OPEN__80074075 == '\0') {
    _card_info();
    DAT_OPEN__80074075 = '\x01';
  }
  uVar1 = _card_status();
  iVar2 = FUN_OPEN__800702e0();
  if (((uVar1 & 1) != 0) && (iVar2 == -1)) {
    DAT_OPEN__80074075 = '\0';
  }
  if ((-1 < iVar2) && (DAT_OPEN__80074075 = '\0', 0 < iVar2)) {
    iVar2 = FUN_OPEN__800705a0((uint)DAT_OPEN__80074074 << 4,2);
  }
  if (iVar2 == 1) {
    iVar2 = 2;
  }
  return iVar2;
}



int FUN_OPEN__800706e8(int param_1)

{
  int in_v1;
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  iVar1 = 0;
  if (0 < param_1) {
    do {
      do {
        in_v1 = FUN_OPEN__8007062c();
      } while (in_v1 == -1);
      iVar2 = iVar2 + 1;
      if (in_v1 == 0) {
        if (iVar2 == 3) {
          return 0;
        }
      }
      else {
        iVar2 = 0;
        iVar1 = iVar1 + 1;
      }
    } while (iVar1 < param_1);
  }
  return in_v1;
}



undefined4 FUN_OPEN__8007077c(void)

{
  int iVar1;
  undefined4 uVar2;
  
  uVar2 = 0;
  FUN_OPEN__800702b8();
  FUN_OPEN__800702a8(1);
  iVar1 = FUN_OPEN__800706e8(3);
  if ((iVar1 == 0) || (iVar1 == 3)) {
    uVar2 = 1;
  }
  FUN_OPEN__800702a8(0);
  iVar1 = FUN_OPEN__800706e8(3);
  if ((iVar1 == 0) || (iVar1 == 3)) {
    uVar2 = 1;
  }
  return uVar2;
}



void DecDCTReset(int mode)

{
  if (mode == 0) {
    ResetCallback();
  }
  MDEC_reset(mode);
  return;
}



DECDCTENV * DecDCTGetEnv(DECDCTENV *env)

{
  undefined4 uVar1;
  int iVar2;
  char *pcVar3;
  short *psVar4;
  DECDCTENV *pDVar5;
  u_char *puVar6;
  short *psVar7;
  
  pcVar3 = iq_y;
  iVar2 = 0xf;
  pDVar5 = env;
  do {
    uVar1 = *(undefined4 *)pcVar3;
    pcVar3 = (char *)((int)pcVar3 + 4);
    iVar2 = iVar2 + -1;
    *(undefined4 *)pDVar5->iq_y = uVar1;
    pDVar5 = (DECDCTENV *)(pDVar5->iq_y + 4);
  } while (iVar2 != -1);
  puVar6 = env->iq_c;
  pcVar3 = iq_c;
  iVar2 = 0xf;
  do {
    uVar1 = *(undefined4 *)pcVar3;
    pcVar3 = (char *)((int)pcVar3 + 4);
    iVar2 = iVar2 + -1;
    *(undefined4 *)puVar6 = uVar1;
    puVar6 = puVar6 + 4;
  } while (iVar2 != -1);
  psVar7 = env->dct;
  psVar4 = decode_scale;
  iVar2 = 0x1f;
  do {
    uVar1 = *(undefined4 *)psVar4;
    psVar4 = (short *)((int)psVar4 + 4);
    iVar2 = iVar2 + -1;
    *(undefined4 *)psVar7 = uVar1;
    psVar7 = psVar7 + 2;
  } while (iVar2 != -1);
  return env;
}



DECDCTENV * DecDCTPutEnv(DECDCTENV *env)

{
  undefined4 uVar1;
  int iVar2;
  DECDCTENV *pDVar3;
  u_char *puVar4;
  char *pcVar5;
  
  pcVar5 = iq_y;
  iVar2 = 0xf;
  pDVar3 = env;
  do {
    puVar4 = pDVar3->iq_y;
    pDVar3 = (DECDCTENV *)(pDVar3->iq_y + 4);
    iVar2 = iVar2 + -1;
    *(undefined4 *)pcVar5 = *(undefined4 *)puVar4;
    pcVar5 = (char *)((int)pcVar5 + 4);
  } while (iVar2 != -1);
  pcVar5 = iq_c;
  puVar4 = env->iq_c;
  iVar2 = 0xf;
  do {
    uVar1 = *(undefined4 *)puVar4;
    puVar4 = puVar4 + 4;
    iVar2 = iVar2 + -1;
    *(undefined4 *)pcVar5 = uVar1;
    pcVar5 = (char *)((int)pcVar5 + 4);
  } while (iVar2 != -1);
  MDEC_in(&MDEC_2__SET_QUANT_BRIGHTCOLOR,0x20);
  MDEC_in(&MDEC_3__SET_SCALE,0x20);
  return env;
}



int DecDCTBufSize(u_long *bs)

{
  return (uint)*(ushort *)bs;
}



void DecDCTin(u_long *buf,int mode)

{
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_retaddr;
  
  if ((mode & 1U) != 0) {
    LIBPRESS_OBJ_19C(buf,mode);
    return;
  }
  *buf = *buf | 0x8000000;
  if ((mode & 2U) != 0) {
    LIBPRESS_OBJ_1C8(buf,(char)mode,in_a2,in_a3,unaff_retaddr);
    return;
  }
  *buf = *buf & 0xfdffffff;
  MDEC_in(buf,(uint)*(ushort *)buf);
  return;
}



void LIBPRESS_OBJ_19C(uint *param_1,uint param_2)

{
  uint in_v0;
  undefined in_a2;
  undefined in_a3;
  undefined4 in_stack_00000010;
  
  *param_1 = in_v0;
  if ((param_2 & 2) != 0) {
    LIBPRESS_OBJ_1C8(param_1,(char)param_2,in_a2,in_a3,in_stack_00000010);
    return;
  }
  *param_1 = *param_1 & 0xfdffffff;
  MDEC_in(param_1,(uint)*(ushort *)param_1);
  return;
}



void LIBPRESS_OBJ_1C8(undefined4 *param_1,undefined param_2,undefined param_3,undefined param_4,
                     undefined4 param_5)

{
  undefined4 in_v0;
  
  *param_1 = in_v0;
  MDEC_in(param_1,(uint)*(ushort *)param_1);
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void DecDCTout(u_long *buf,int size)

{
  MDEC_out(buf,size);
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

int DecDCTinSync(int mode)

{
  int iVar1;
  
  iVar1 = MDEC_in_sync();
  return iVar1;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

int DecDCToutSync(int mode)

{
  int iVar1;
  
  iVar1 = MDEC_out_sync();
  return iVar1;
}



int DecDCTinCallback(func *func)

{
  int iVar1;
  
  iVar1 = DMACallback();
  return iVar1;
}



int DecDCToutCallback(func *func)

{
  int iVar1;
  
  iVar1 = DMACallback();
  return iVar1;
}



void MDEC_reset(int param_1)

{
  undefined uVar1;
  undefined uVar2;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_retaddr;
  
  if (param_1 == 0) {
    *(undefined4 *)PTR_MDEC_REG1_OPEN__800741b4 = 0x80000000;
    *(undefined4 *)PTR_DMA_MDEC_IN_CHCR_OPEN__80074188 = 0;
    *(undefined4 *)PTR_DMA_MDEC_OUT_CHCR_OPEN__80074194 = 0;
    *(undefined4 *)PTR_MDEC_REG1_OPEN__800741b4 = 0x60000000;
    MDEC_in(&MDEC_2__SET_QUANT_BRIGHTCOLOR,0x20);
    uVar1 = 0xfc;
    uVar2 = 0x20;
    MDEC_in(&MDEC_3__SET_SCALE,0x20);
    LIBPRESS_OBJ_37C(uVar1,uVar2,in_a2,in_a3,unaff_retaddr);
    return;
  }
  if (param_1 != 1) {
    LIBPRESS_OBJ_36C();
    return;
  }
  *(undefined4 *)PTR_MDEC_REG1_OPEN__800741b4 = 0x80000000;
  *(undefined4 *)PTR_DMA_MDEC_IN_CHCR_OPEN__80074188 = 0;
  *(undefined4 *)PTR_DMA_MDEC_OUT_CHCR_OPEN__80074194 = 0;
  *(undefined4 *)PTR_MDEC_REG1_OPEN__800741b4 = 0x60000000;
  LIBPRESS_OBJ_37C(1,1,in_a2,in_a3,unaff_retaddr);
  return;
}



void LIBPRESS_OBJ_36C(void)

{
                    // WARNING: Subroutine does not return
  printf(s_MDEC_rest_bad_option__d__OPEN__80067044);
}



void LIBPRESS_OBJ_37C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                     undefined4 param_5)

{
  return;
}



void MDEC_in(undefined4 *param_1,uint param_2)

{
  MDEC_in_sync();
  *(uint *)PTR_DMA_DPCR_OPEN__800741b8 = *(uint *)PTR_DMA_DPCR_OPEN__800741b8 | 0x88;
  *(undefined4 **)PTR_DMA_MDEC_IN_MADR_OPEN__80074180 = param_1 + 1;
  *(uint *)PTR_DMA_MDEC_IN_BCR_OPEN__80074184 = (param_2 >> 5) << 0x10 | 0x20;
  *(undefined4 *)PTR_MDEC_REG0_OPEN__800741b0 = *param_1;
  *(undefined4 *)PTR_DMA_MDEC_IN_CHCR_OPEN__80074188 = 0x1000201;
  return;
}



void MDEC_out(undefined4 param_1,uint param_2)

{
  MDEC_out_sync();
  *(uint *)PTR_DMA_DPCR_OPEN__800741b8 = *(uint *)PTR_DMA_DPCR_OPEN__800741b8 | 0x88;
  *(undefined4 *)PTR_DMA_MDEC_OUT_CHCR_OPEN__80074194 = 0;
  *(undefined4 *)PTR_DMA_MDEC_OUT_MADR_OPEN__8007418c = param_1;
  *(uint *)PTR_DMA_MDEC_OUT_BCR_OPEN__80074190 = (param_2 >> 5) << 0x10 | 0x20;
  *(undefined4 *)PTR_DMA_MDEC_OUT_CHCR_OPEN__80074194 = 0x1000200;
  return;
}



undefined4 MDEC_in_sync(void)

{
  uint uVar1;
  undefined4 uVar2;
  undefined uVar3;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_retaddr;
  int iVar4;
  undefined in_stack_fffffff4;
  
  iVar4 = 0x100000;
  uVar1 = *(uint *)PTR_MDEC_REG1_OPEN__800741b4;
  while( true ) {
    if ((uVar1 & 0x20000000) == 0) {
      return 0;
    }
    iVar4 = iVar4 + -1;
    if (iVar4 == -1) break;
    uVar1 = *(uint *)PTR_MDEC_REG1_OPEN__800741b4;
  }
  uVar3 = 0x60;
  timeout(s_MDEC_in_sync_OPEN__80067060);
  uVar2 = LIBPRESS_OBJ_538(uVar3,in_a1,in_a2,in_a3,(char)iVar4,in_stack_fffffff4,unaff_retaddr);
  return uVar2;
}



void LIBPRESS_OBJ_538(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                     undefined param_5,undefined param_6,undefined4 param_7)

{
  return;
}



undefined4 MDEC_out_sync(void)

{
  uint uVar1;
  undefined4 uVar2;
  undefined uVar3;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_retaddr;
  int iVar4;
  undefined in_stack_fffffff4;
  
  iVar4 = 0x100000;
  uVar1 = *(uint *)PTR_DMA_MDEC_OUT_CHCR_OPEN__80074194;
  while( true ) {
    if ((uVar1 & 0x1000000) == 0) {
      return 0;
    }
    iVar4 = iVar4 + -1;
    if (iVar4 == -1) break;
    uVar1 = *(uint *)PTR_DMA_MDEC_OUT_CHCR_OPEN__80074194;
  }
  uVar3 = 0x70;
  timeout(s_MDEC_out_sync_OPEN__80067070);
  uVar2 = LIBPRESS_OBJ_5D0(uVar3,in_a1,in_a2,in_a3,(char)iVar4,in_stack_fffffff4,unaff_retaddr);
  return uVar2;
}



void LIBPRESS_OBJ_5D0(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                     undefined param_5,undefined param_6,undefined4 param_7)

{
  return;
}



void timeout(undefined4 param_1)

{
                    // WARNING: Subroutine does not return
  printf(s__s_timeout__OPEN__800670e0,param_1);
}



undefined4 DecDCTvlcSize(int param_1)

{
  undefined4 uVar1;
  
  uVar1 = VLC_OBJ_0;
  if (0 < param_1 + -1) {
    VLC_OBJ_0 = param_1 << 1;
    return uVar1;
  }
  VLC_OBJ_0 = 0xffffff;
  return uVar1;
}



int DecDCTvlc(u_long *bs,u_long *buf)

{
  bool bVar1;
  undefined2 uVar2;
  undefined2 uVar3;
  undefined2 uVar4;
  ushort uVar5;
  undefined2 *puVar6;
  undefined *puVar7;
  uint uVar8;
  uint uVar9;
  u_long *puVar10;
  undefined2 *puVar11;
  undefined2 *puVar12;
  uint uVar13;
  int iVar14;
  uint uVar15;
  uint uVar16;
  uint uVar17;
  int iVar18;
  uint uVar19;
  undefined2 *puVar20;
  int iVar21;
  int iVar22;
  int iVar23;
  
  if (bs == (u_long *)0x0) {
    puVar20 = DAT_OPEN__80073f14 + VLC_OBJ_0;
    uVar8 = DAT_OPEN__80073f18;
    uVar9 = DAT_OPEN__80073f1c;
    puVar10 = VLC_OBJ_374;
    puVar6 = DAT_OPEN__80073f14;
    iVar18 = DAT_OPEN__80073f20;
    uVar19 = DAT_OPEN__80073f24;
    iVar21 = DAT_OPEN__80073f2c;
    iVar22 = DAT_OPEN__80073f30;
    iVar23 = DAT_OPEN__80073f34;
    goto VLC_OBJ_204;
  }
  iVar21 = 0;
  iVar22 = 0;
  iVar23 = 0;
  puVar20 = (undefined2 *)((int)buf + VLC_OBJ_0 * 2);
  uVar2 = *(undefined2 *)((int)bs + 2);
  uVar3 = *(undefined2 *)(bs + 2);
  uVar4 = *(undefined2 *)((int)bs + 10);
  iVar18 = (uint)*(ushort *)(bs + 1) << 10;
  uVar19 = (uint)(-1 < (int)(*(ushort *)((int)bs + 6) - 3));
  puVar10 = bs + 3;
  uVar9 = 0;
  *(undefined2 *)buf = *(undefined2 *)bs;
  *(undefined2 *)((int)buf + 2) = uVar2;
  uVar16 = CONCAT22(uVar3,uVar4);
  puVar12 = (undefined2 *)((int)buf + 2);
VLC_OBJ_E8:
  if (uVar19 == 0) {
    if (uVar16 >> 0x16 == 0x1ff) goto VLC_OBJ_30C;
    uVar8 = uVar16 << 10;
    uVar15 = uVar9 + 10;
    uVar9 = uVar15 & 0xf;
    if ((uVar15 & 0x10) != 0) {
      uVar5 = *(ushort *)puVar10;
      puVar10 = (u_long *)((int)puVar10 + 2);
      uVar8 = uVar8 | (uint)uVar5 << uVar9;
    }
    puVar12[1] = (ushort)iVar18 | (ushort)(uVar16 >> 0x16);
  }
  else {
    if (uVar16 >> 0x16 == 0x3ff) {
VLC_OBJ_30C:
      iVar18 = 0x40;
      do {
        puVar12 = puVar12 + 1;
        *puVar12 = 0xfe00;
        bVar1 = iVar18 != 0;
        iVar18 = iVar18 + -1;
      } while (bVar1);
      setCopReg(0,Status,Status | 0x20000,0);
      return 0;
    }
    puVar7 = &DAT_OPEN__800745bc;
    if (-1 < (int)(uVar19 - 3)) {
      puVar7 = &DAT_OPEN__800741bc;
    }
    uVar15 = (uint)*(ushort *)(puVar7 + (uVar16 >> 0x18) * 4);
    uVar17 = (uint)*(ushort *)((int)(puVar7 + (uVar16 >> 0x18) * 4) + 2);
    uVar13 = 0;
    uVar8 = uVar16 << (uVar15 & 0x1f);
    if (uVar17 != 0) {
      uVar13 = uVar8 >> (0x20 - uVar17 & 0x1f);
      bVar1 = -1 < (int)uVar8;
      uVar8 = uVar8 << (uVar17 & 0x1f);
      if (bVar1) {
        uVar13 = uVar13 - (0xffffffffU >> (0x20 - uVar17 & 0x1f));
      }
      uVar9 = uVar9 + uVar17;
    }
    uVar15 = uVar9 + uVar15;
    uVar9 = uVar15 & 0xf;
    if ((uVar15 & 0x10) != 0) {
      uVar5 = *(ushort *)puVar10;
      puVar10 = (u_long *)((int)puVar10 + 2);
      uVar8 = uVar8 | (uint)uVar5 << uVar9;
    }
    uVar16 = iVar23 + uVar13;
    if ((int)(uVar19 - 2) < 1) {
      uVar16 = iVar22 + uVar13;
      if (uVar19 == 2) {
        iVar22 = iVar22 + uVar13;
      }
      else {
        uVar16 = iVar21 + uVar13;
        iVar21 = iVar21 + uVar13;
      }
    }
    else {
      iVar23 = iVar23 + uVar13;
    }
    bVar1 = uVar19 == 6;
    puVar12[1] = (ushort)iVar18 | (ushort)((uVar16 & 0xff) << 2);
    uVar19 = uVar19 + 1;
    if (bVar1) {
      uVar19 = 1;
    }
  }
  puVar6 = puVar12 + 2;
  if (-1 < (int)puVar12 + (2 - (int)puVar20)) {
    VLC_OBJ_374 = puVar10;
    DAT_OPEN__80073f14 = puVar12 + 2;
    DAT_OPEN__80073f18 = uVar8;
    DAT_OPEN__80073f1c = uVar9;
    DAT_OPEN__80073f20 = iVar18;
    DAT_OPEN__80073f24 = uVar19;
    DAT_OPEN__80073f2c = iVar21;
    DAT_OPEN__80073f30 = iVar22;
    DAT_OPEN__80073f34 = iVar23;
    return 1;
  }
VLC_OBJ_204:
  puVar11 = puVar6;
  iVar14 = (uVar8 >> 0x13) * 8;
  uVar15 = *(uint *)(&DAT_OPEN__800749bc + iVar14);
  if (uVar15 == 0) {
    uVar8 = uVar8 << 8;
    uVar16 = uVar9 + 8;
    uVar9 = uVar16 & 0xf;
    if ((uVar16 & 0x10) != 0) {
      uVar5 = *(ushort *)puVar10;
      puVar10 = (u_long *)((int)puVar10 + 2);
      uVar8 = uVar8 | (uint)uVar5 << uVar9;
    }
    uVar15 = *(uint *)(&DAT_OPEN__800849bc + (uVar8 >> 0x17) * 4);
    uVar13 = 0;
  }
  else {
    uVar13 = *(uint *)(&DAT_OPEN__800749c0 + iVar14);
  }
  uVar8 = uVar8 << (uVar15 & 0x1f);
  uVar16 = uVar9 + (uVar15 & 0xff);
  uVar9 = uVar16 & 0xf;
  if ((uVar16 & 0x10) != 0) {
    uVar5 = *(ushort *)puVar10;
    puVar10 = (u_long *)((int)puVar10 + 2);
    uVar8 = uVar8 | (uint)uVar5 << uVar9;
  }
  puVar12 = puVar11;
  if (uVar15 >> 0x10 == 0x7c1f) goto VLC_OBJ_2E8;
  *puVar11 = (short)(uVar15 >> 0x10);
  uVar16 = uVar8;
  if (uVar15 >> 0x10 != 0xfe00) goto code_r0x80073e3c;
  goto VLC_OBJ_E8;
code_r0x80073e3c:
  puVar12 = puVar11 + 1;
  puVar6 = puVar12;
  if (uVar13 != 0) {
    uVar15 = uVar13 & 0xffff;
    if (uVar15 != 0x7c1f) {
      *puVar12 = (short)uVar15;
      if (uVar15 == 0xfe00) goto VLC_OBJ_E8;
      uVar15 = uVar13 >> 0x10;
      puVar12 = puVar11 + 2;
      puVar6 = puVar12;
      if (uVar15 == 0) goto VLC_OBJ_204;
      if (uVar15 != 0x7c1f) {
        *puVar12 = (short)(uVar13 >> 0x10);
        if (uVar15 != 0xfe00) {
          puVar6 = puVar11 + 3;
          goto VLC_OBJ_204;
        }
        goto VLC_OBJ_E8;
      }
    }
VLC_OBJ_2E8:
    *puVar12 = (short)(uVar8 >> 0x10);
    uVar5 = *(ushort *)puVar10;
    puVar10 = (u_long *)((int)puVar10 + 2);
    uVar8 = uVar8 << 0x10 | (uint)uVar5 << uVar9;
    puVar6 = puVar12 + 1;
  }
  goto VLC_OBJ_204;
}



undefined WLDCORE_Entrypoint(void)

{
  bool bVar1;
  undefined uVar2;
  undefined3 extraout_var;
  
  do {
    bVar1 = FUN_WLDCORE__8006858c();
    if (CONCAT31(extraout_var,bVar1) != 0) {
      return 0;
    }
    FUN_WLDCORE__80067c2c();
    FUN_WLDCORE__80069400(0,0x10);
    while ((DAT_8004d950 & 1) != 0) {
      Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
      FUN_WLDCORE__80090e20();
      DAT_8004e5bc = GsGetActiveBuff();
      FUN_WORLD__800e1a88(DAT_8004e5bc * 0xe000 + -0x7ff60ce4);
      FUN_WLDCORE__800694a8();
      FUN_WLDCORE__8008cf14();
      FUN_WLDCORE__8006c3dc();
      FUN_WLDCORE__80067484();
      if ((DAT_8004d950 & 2) == 0) {
        FUN_WLDCORE__80067a78();
      }
      else {
        FUN_WLDCORE__800677a4();
      }
      SetDispMask((uint)((DAT_8004d950 & 0x40) == 0));
      FUN_800449ec();
    }
  } while ((DAT_8004d950 & 0x10000) != 0);
  FUN_WLDCORE__800682a0();
  uVar2 = 5;
  if (((((DAT_8004d950 & 0x10000000) == 0) && (uVar2 = 4, (DAT_8004d950 & 0x2000000) == 0)) &&
      (uVar2 = 2, (DAT_8004d950 & 0x200000) == 0)) && (uVar2 = 2, (DAT_8004d950 & 0x40000) == 0)) {
    uVar2 = (DAT_8004d950 & 0x8000) != 0;
  }
  return uVar2;
}



void FUN_WLDCORE__80067484(void)

{
  if (((DAT_8004d950 & 2) == 0) && ((DAT_WLDCORE__8009f1e4 & 2) != 0)) {
    FUN_WLDCORE__800674e0();
  }
  DAT_WLDCORE__8009f1e4 = DAT_8004d950;
  return;
}



void FUN_WLDCORE__800674e0(void)

{
  RECT RStack_10;
  
  DrawSync(0);
  VSync(0);
  FUN_WORLD__800e1710();
  DAT_8004e5bc = GsGetActiveBuff();
  FUN_WORLD__800e1a88(DAT_8004e5bc * 0xe000 + -0x7ff60ce4);
  GsClearOt(0,0,(GsOT *)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  FUN_WLDCORE__80080758((int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  FUN_WLDCORE__80092b04(&DAT_1f8003fc);
  FUN_WLDCORE__8006a9d8((int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8008d51c((int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8008cdf0();
  FUN_WLDCORE__8006ae20
            ((int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5),(uint **)&DAT_WLDCORE__8009f1a0,
             DAT_WLDCORE__8009f1e8);
  FUN_WLDCORE__80092b1c();
  FUN_WORLD__800e13e8(0,0,0,(int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  GsDrawOt((GsOT *)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  DrawSync(0);
  FUN_WLDCORE__80068d74(DAT_8004e5bc,&RStack_10.x);
  StoreImage(&RStack_10,DAT_WLDCORE__800c72f4);
  DrawSync(0);
  DAT_WLDCORE__800bb500 = 0xffffffff;
  GsClearOt(0,0,(GsOT *)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8008f434();
  FUN_WLDCORE__8006c248((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006b78c((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006bf9c((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006c108((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006ae20
            ((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5),(uint **)&DAT_WLDCORE__8009ef80,
             DAT_WLDCORE__8009f198);
  GsDrawOt((GsOT *)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  DrawSync(0);
  return;
}



void FUN_WLDCORE__800677a4(void)

{
  GsClearOt(0,0,(GsOT *)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  GsClearOt(0,0,(GsOT *)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__80080758((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__80092b04(&DAT_1f8003fc);
  FUN_WLDCORE__8006a888();
  FUN_WLDCORE__8006a9d8((int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  FUN_WLDCORE__80092b1c();
  FUN_WLDCORE__8008e540();
  FUN_WLDCORE__80092b04(&DAT_1f8003fc);
  FUN_WLDCORE__8008d51c((int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8008dbfc((int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8008cdf0();
  FUN_WLDCORE__8008f434();
  FUN_WLDCORE__80092b1c();
  FUN_WLDCORE__8006c248((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__80092b04(&DAT_1f8003fc);
  FUN_WLDCORE__8006b78c((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006bf9c((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006c108((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006ae20
            ((int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5),(uint **)&DAT_WLDCORE__8009f1a0,
             DAT_WLDCORE__8009f1e8);
  FUN_WLDCORE__8006ae20
            ((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5),(uint **)&DAT_WLDCORE__8009ef80,
             DAT_WLDCORE__8009f198);
  FUN_WLDCORE__80092b1c();
  DrawSync(0);
  FUN_WLDCORE__80068da4();
  VSync(0);
  FUN_WORLD__800e1710();
  FUN_WORLD__800e13e8(0,0,0,(int)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  GsDrawOt((GsOT *)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  GsDrawOt((GsOT *)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  DAT_8004d950 = DAT_8004d950 & 0xfffffffd;
  return;
}



void FUN_WLDCORE__80067a78(void)

{
  RECT RStack_10;
  
  GsClearOt(0,0,(GsOT *)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  DrawSync(0);
  FUN_WLDCORE__80080758((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006c248((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__80092b04(&DAT_1f8003fc);
  FUN_WLDCORE__8006b78c((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006bf9c((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006c108((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006ae20
            ((int)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5),(uint **)&DAT_WLDCORE__8009ef80,
             DAT_WLDCORE__8009f198);
  FUN_WLDCORE__80069810();
  FUN_WLDCORE__80092b1c();
  DrawSync(0);
  FUN_WLDCORE__80068da4();
  VSync(0);
  FUN_WORLD__800e1710();
  if ((DAT_8004d950 & 0x200) == 0) {
    FUN_WLDCORE__80068d74((uint)(DAT_8004e5bc == 0),&RStack_10.x);
    LoadImage(&RStack_10,DAT_WLDCORE__800c72f4);
  }
  GsDrawOt((GsOT *)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  return;
}



void FUN_WLDCORE__80067c2c(void)

{
  SetDispMask(0);
  FUN_WLDCORE__80067e38();
  FUN_WLDCORE__80068fa8();
  FUN_WLDCORE__80068640();
  FUN_WLDCORE__80067d70();
  FUN_WLDCORE__8006ad28();
  FUN_WLDCORE__8006a58c();
  FUN_WLDCORE__8006c1fc();
  FUN_WLDCORE__8008cb8c();
  FUN_WLDCORE__8008d514();
  FUN_WLDCORE__8008f284();
  FUN_WLDCORE__8006c350();
  FUN_WLDCORE__80068308();
  FUN_WLDCORE__800683fc();
  return;
}



void FUN_WLDCORE__80067cb4(int param_1)

{
  RECT local_18;
  
  local_18.h = 0x1e0;
  local_18.x = 0;
  local_18.y = 0;
  local_18.w = 0x100;
  DAT_8004d950 = DAT_8004d950 | 0x4000000;
  ClearImage(&local_18,'\0','\0','\0');
  DrawSync(0);
  local_18.h = 0xee;
  if (param_1 == 0) {
    local_18.y = 8;
    local_18.w = 0xfc;
    local_18.h = 0xe4;
  }
  else {
    local_18.y = 0;
    local_18.w = 0x100;
  }
  local_18.x = 0;
  FUN_WORLD__800e16d8(&local_18.x);
  GsSetDrawBuffClip();
  return;
}



void FUN_WLDCORE__80067d70(void)

{
  SetDispMask(0);
  FUN_WORLD__800e10f4(0x100,0xf0,4,0,0);
  FUN_WORLD__800e17c4(0,0,0,0xf0);
  GsInit3D();
  PutScreentoGTE(0,0);
  FUN_WLDCORE__80067cb4(0);
  DAT_WLDCORE__800bb3d8 = 2;
  DAT_WLDCORE__800bb3c4 = 2;
  DAT_WLDCORE__800bb3c8 = &DAT_WLDCORE__800d4908;
  DAT_WLDCORE__800bb3dc = &DAT_WLDCORE__800d4918;
  DAT_WLDCORE__800bb378 = 4;
  DAT_WLDCORE__800bb364 = 4;
  DAT_WLDCORE__800bb368 = &DAT_WLDCORE__800d487c;
  DAT_WLDCORE__800bb37c = &DAT_WLDCORE__800d48bc;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WLDCORE__80067e38(void)

{
  undefined4 *puVar1;
  u_long uVar2;
  PartyUnit *pPVar3;
  uint uVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  int iVar7;
  int iVar8;
  byte local_18;
  undefined local_17;
  uint local_10;
  uint local_c;
  
  iVar8 = 0;
  puVar1 = &DAT_WLDCORE__800d0ab8;
  puVar5 = &DAT_WLDCORE__800d0ad0;
  iVar7 = 0;
  puVar6 = &DAT_WLDCORE__800d0ac0;
  DAT_WLDCORE__800c72f4 = &DAT_801d0000;
  DAT_WLDCORE__800d0af4 = 0xffffffff;
  DAT_WLDCORE__800d0af0 = 0xffffffff;
  DAT_WLDCORE__800bb3ec = 1;
  DAT_WLDCORE__8009f19c = 0x80;
  DAT_WLDCORE__8009f19d = 0x80;
  DAT_WLDCORE__8009f19e = 0x80;
  DAT_WLDCORE__8009f1e4 = 0;
  DAT_8004e5bc = 0;
  DAT_WLDCORE__800d3c8c = 0;
  DAT_WLDCORE__8009f248 = 0;
  DAT_WLDCORE__800d456c = 0;
  DAT_WLDCORE__800bb3c0 = 0;
  DAT_8004d950 = DAT_8004d950 & 0x206d0000 | 1;
  DAT_WLDCORE__8009f1e0 = PTR_DAT_WLDCORE__80098238_WLDCORE__80096a58;
  DAT_WLDCORE__800bb988 = PTR_DAT_WLDCORE__80099b3c_WLDCORE__80096a5c;
  DAT_WLDCORE__800d4674 = PTR_DAT_WLDCORE__80097234_WLDCORE__80096a54;
  do {
    *puVar1 = 0;
    *puVar6 = 0xf;
    *(undefined4 *)((int)&DAT_WLDCORE__800d0ad0 + iVar7) = 0x60000000;
    *(undefined2 *)(puVar5 + 1) = 0xff80;
    *(undefined2 *)((int)puVar5 + 6) = 0xff88;
    *(undefined2 *)(puVar5 + 2) = 0x100;
    *(undefined2 *)((int)puVar5 + 10) = 0xf0;
    *(undefined *)(puVar5 + 3) = 0;
    *(undefined *)((int)puVar5 + 0xd) = 0;
    *(undefined *)((int)puVar5 + 0xe) = 0;
    puVar5 = puVar5 + 4;
    iVar7 = iVar7 + 0x10;
    puVar6 = puVar6 + 1;
    iVar8 = iVar8 + 1;
    puVar1 = puVar1 + 1;
  } while (iVar8 < 2);
  DAT_WLDCORE__800d0ab8 = 2;
  puVar1 = &DAT_WLDCORE__800d07d8;
  iVar7 = 0;
  do {
    puVar1[1] = 0;
    *(undefined4 *)((int)&DAT_WLDCORE__800d07d8 + iVar7) = 0;
    iVar7 = iVar7 + 8;
    puVar1 = puVar1 + 2;
  } while (iVar7 < 0xa8);
  DAT_WLDCORE__8009f2ac = 0x80;
  DAT_WLDCORE__8009f2ad = 0x80;
  DAT_WLDCORE__8009f2ae = 0x80;
  DAT_WLDCORE__800bb38c = 0xffffff88;
  DAT_WLDCORE__800bb390 = 0xffffff9c;
  DAT_WLDCORE__8009eef4 = 0x80;
  DAT_WLDCORE__800d0bb4 = 0;
  if ((DAT_8004d950 & 0x200000) == 0) {
    FUN_80043f00();
  }
  DAT_WLDCORE__800d4640 = 0x7f;
  DAT_WLDCORE__8009f2b0 = 0x30;
  DAT_WLDCORE__8009f2b4 = 0x54;
  _DAT_WLDCORE__800bb4f4 = 4;
  DAT_WLDCORE__800d462c = 0;
  DAT_WLDCORE__800d4630 = 0;
  DAT_WLDCORE__800d4638 = 0;
  DAT_WLDCORE__800d4634 = 0;
  DAT_WLDCORE__800d4624 = 0;
  DAT_WLDCORE__800bb4f8 = 0;
  DAT_WLDCORE__800d0b24 = 0;
  if ((DAT_8004d950 & 0x400000) != 0) {
    uVar4 = 0x3c0;
    iVar7 = 0;
    do {
      FUN_WORLD__800ef25c(uVar4,1);
      iVar8 = iVar7 + 1;
      uVar4 = iVar7 + 0x3c1;
      iVar7 = iVar8;
    } while (iVar8 < 0x40);
    uVar4 = 0x2d1;
    iVar7 = 0;
    do {
      FUN_WORLD__800ef25c(uVar4,1);
      iVar8 = iVar7 + 1;
      uVar4 = iVar7 + 0x2d2;
      iVar7 = iVar8;
    } while (iVar8 < 0x40);
    uVar4 = 0x22c;
    iVar7 = 0;
    do {
      FUN_WORLD__800ef25c(uVar4,1);
      iVar8 = iVar7 + 1;
      uVar4 = iVar7 + 0x22d;
      iVar7 = iVar8;
    } while (iVar8 < 0x30);
    uVar4 = 0x200;
    iVar7 = 0;
    do {
      FUN_WORLD__800ef25c(uVar4,1);
      iVar8 = iVar7 + 1;
      uVar4 = iVar7 + 0x201;
      iVar7 = iVar8;
    } while (iVar8 < 0x2b);
    uVar4 = 0x1bc;
    iVar7 = 0;
    do {
      FUN_WORLD__800ef25c(uVar4,1);
      iVar8 = iVar7 + 1;
      uVar4 = iVar7 + 0x1bd;
      iVar7 = iVar8;
    } while (iVar8 < 0x40);
    uVar2 = PadRead(0);
    if ((uVar2 & 0x800) == 0) {
      local_18 = 1;
      local_17 = 1;
      uVar4 = 0x321;
      iVar7 = 0;
      do {
        FUN_WORLD__800ef25c(uVar4,1);
        FUN_WLDCORE__80069e58((int)&DAT_80057cec,iVar7,&local_18);
        iVar8 = iVar7 + 1;
        uVar4 = iVar7 + 0x322;
        iVar7 = iVar8;
      } while (iVar8 < 0x2f);
      uVar4 = 0x350;
      iVar7 = 0;
      do {
        FUN_WORLD__800ef25c(uVar4,1);
        FUN_WLDCORE__80069e58((int)&DAT_800596ac,iVar7,&local_18);
        iVar8 = iVar7 + 1;
        uVar4 = iVar7 + 0x351;
        iVar7 = iVar8;
      } while (iVar8 < 0x10);
      iVar7 = 0;
      do {
        FUN_WORLD__800ef25c(iVar7 + 0x360,4);
        iVar7 = iVar7 + 1;
      } while (iVar7 < 0x60);
    }
    FUN_WORLD__800ef25c(0x2c,30000);
    FUN_WORLD__800ef25c(0x6f,0x14);
    FUN_WORLD__800ef25c(0x91,1);
    FUN_WORLD__800ef25c(0x90,1);
    local_10 = 1;
    local_c = 1;
    FUN_WORLD__800ef25c(0x5f,1);
    FUN_WORLD__800ef25c(0x60,local_c);
    iVar7 = FUN_WLDCORE__8006a0ac(local_10,local_c);
    FUN_WLDCORE__80069bb0(&local_10,(int *)&local_c);
    pPVar3 = Get_Party_Data_Pointer(0);
    pPVar3->field_0x5 = (char)iVar7;
    pPVar3->field_0x6 = (byte)((uint)iVar7 >> 8) & 1 | ((char)local_10 + -1) * '\x10';
  }
  return;
}



void FUN_WLDCORE__800682a0(void)

{
  DrawSync(0);
  VSync(0);
  SetDispMask(0);
  FUN_WLDCORE__800911cc();
  if ((DAT_8004d950 & 0x200000) == 0) {
    FUN_80043f00();
  }
  FUN_WORLD__800ef25c(0x33,DAT_WLDCORE__800bbc6c);
  return;
}



void FUN_WLDCORE__80068308(void)

{
  SetDispMask(0);
  DAT_WLDCORE__8009f258 = FUN_WLDCORE__80068a68(DAT_WLDCORE__8009f254);
  FUN_WLDCORE__800686c8();
  DAT_8004e5bc = GsGetActiveBuff();
  FUN_WORLD__800e1a88(DAT_8004e5bc * 0xe000 + -0x7ff60ce4);
  FUN_WLDCORE__800674e0();
  VSync(0);
  ResetGraph(1);
  GsClearOt(0,0,(GsOT *)(&DAT_WLDCORE__800bb3c4 + DAT_8004e5bc * 5));
  GsClearOt(0,0,(GsOT *)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5));
  FUN_WLDCORE__8006a018(0);
  FUN_WORLD__800e1710();
  SetDispMask(0);
  return;
}



void FUN_WLDCORE__800683fc(void)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  
  uVar3 = DAT_8004d950 & 0xfffeffff;
  if ((DAT_8004d950 & 0x202c0000) == 0) {
    DAT_8004d950 = uVar3;
    iVar1 = FUN_WLDCORE__80091238(DAT_WLDCORE__8009f254,0x10);
    if (iVar1 == 0) {
      FUN_WLDCORE__8006c894();
    }
    else {
      FUN_WLDCORE__8006c844((int *)(DAT_WLDCORE__800bb4f0 * 0x5c + -0x7ff446d0));
      FUN_WLDCORE__80070be4(DAT_WLDCORE__800d4664 + 0x5800);
    }
    FUN_WLDCORE__80090d50(1,0x11b);
    FUN_WLDCORE__80090d50(3,4);
    return;
  }
  if ((DAT_8004d950 & 0x40000) == 0) {
    if ((DAT_8004d950 & 0x200000) != 0) {
      DAT_8004d950 = uVar3 ^ 0x200000;
      FUN_WORLD__800ef25c(0x23,DAT_8004d9b0);
      uVar4 = 0x2d;
      uVar5 = 1;
      DAT_WLDCORE__800d4634 = 0x1b;
      DAT_WLDCORE__800d4638 = 0x1a;
      DAT_WLDCORE__800d463c = 2;
      uVar6 = 0;
      goto LAB_WLDCORE__80068574;
    }
    uVar4 = 0x2b;
    if ((DAT_8004d950 & 0x80000) != 0) {
      uVar5 = 0;
      uVar6 = 1;
      DAT_8004d950 = uVar3;
      goto LAB_WLDCORE__80068574;
    }
    uVar2 = DAT_8004d950 & 0x20000000;
    uVar4 = 0x1c;
    DAT_8004d950 = uVar3;
    if (uVar2 == 0) {
      return;
    }
  }
  else {
    DAT_8004d950 = uVar3 ^ 0x40000;
    FUN_WORLD__800ef25c(0x23,DAT_8004d9b0);
    uVar4 = 0x1d;
  }
  uVar5 = 0;
  uVar6 = 0;
LAB_WLDCORE__80068574:
  FUN_WLDCORE__80088308(uVar4,uVar5,uVar6);
  return;
}



bool FUN_WLDCORE__8006858c(void)

{
  int iVar1;
  
  iVar1 = FUN_WORLD__800ef1a8(0x55);
  if (iVar1 != 0) {
    DAT_8004d950 = DAT_8004d950 & 0xfffeffff;
    FUN_WORLD__80106660();
  }
  return iVar1 != 0;
}



void FUN_WLDCORE__800685e0(fileOpenDesc *param_1,int param_2,int param_3,u_long *param_4)

{
  FUN_WLDCORE__800686c8();
  Calculate_File_Header_NNL(param_1,param_2,param_3,param_4);
  return;
}



void FUN_WLDCORE__80068640(void)

{
  if ((DAT_8004d950 & 0x10000) == 0) {
    FUN_WLDCORE__800685e0(&fileOpenDesc_8004eaf4,73000,0x86,DAT_WLDCORE__800c72f4);
    while (fileOpenDesc_8004eaf4.busy != 0) {
      FUN_WLDCORE__8006872c((int)&fileOpenDesc_8004eaf4);
    }
  }
  return;
}



void FUN_WLDCORE__800686c8(void)

{
  if (fileOpenDesc_8004eaf4.busy != 0) {
    do {
      Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
      FUN_WLDCORE__80090e20();
      VSync(0);
    } while (fileOpenDesc_8004eaf4.busy != 0);
  }
  return;
}



void FUN_WLDCORE__8006872c(int param_1)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  RECT local_30;
  u_char local_28 [16];
  
  switch(*(undefined4 *)(param_1 + 4)) {
  default:
    goto switchD_WLDCORE__80068774_caseD_0;
  case 1:
    local_28[0] = 0x80;
    CdControl('\x0e',local_28,(u_char *)0x0);
    DAT_80057718 = 0;
    iVar1 = *(int *)(param_1 + 4) + 1;
    break;
  case 2:
    if (DAT_80057718 < 4) {
      return;
    }
    iVar1 = *(int *)(param_1 + 4) + 1;
    break;
  case 3:
    CdControlF('\x02',(u_char *)(param_1 + 0x1c));
    iVar1 = *(int *)(param_1 + 4) + 1;
    break;
  case 4:
    iVar1 = CdSync(1,(u_char *)0x0);
    if (iVar1 != 2) {
      if (iVar1 != 5) {
        return;
      }
      iVar1 = *(int *)(param_1 + 8);
      *(undefined4 *)(param_1 + 4) = 1;
LAB_WLDCORE__800688fc:
      *(int *)(param_1 + 8) = iVar1 + 1;
      return;
    }
    iVar1 = *(int *)(param_1 + 4) + 1;
    break;
  case 5:
    iVar1 = CdRead2(0x80);
    if (iVar1 == 0) {
      iVar1 = *(int *)(param_1 + 8);
      *(undefined4 *)(param_1 + 4) = 1;
      goto LAB_WLDCORE__800688fc;
    }
    iVar1 = *(int *)(param_1 + 4);
    *(undefined4 *)(param_1 + 0xc) = 0;
    *(undefined4 *)(param_1 + 0x18) = 0;
    goto LAB_WLDCORE__8006888c;
  case 6:
    iVar1 = CdReady(1,(u_char *)0x0);
    if (iVar1 != 1) {
      if (iVar1 == 5) {
        *(undefined4 *)(param_1 + 4) = 1;
        *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 1;
      }
      if ((*(int *)(param_1 + 0xc) < 0x40001) && (uVar2 = CdStatus(), (uVar2 & 1) == 0)) {
        *(int *)(param_1 + 0xc) = *(int *)(param_1 + 0xc) + 1;
        return;
      }
      Reset_CD_Subsystems();
      CdIntToPos(*(int *)(param_1 + 0x14) + *(int *)(param_1 + 0x18),(CdlLOC *)(param_1 + 0x1c));
      iVar1 = *(int *)(param_1 + 8);
      *(undefined4 *)(param_1 + 4) = 1;
      goto LAB_WLDCORE__800688fc;
    }
    CdGetSector((void *)(*(int *)(param_1 + 0x20) + (*(uint *)(param_1 + 0x18) & 1) * 0x800),0x200);
    iVar1 = *(int *)(param_1 + 4);
    *(undefined4 *)(param_1 + 0xc) = 0;
LAB_WLDCORE__8006888c:
    iVar1 = iVar1 + 1;
    break;
  case 7:
    iVar1 = CdDataSync(1);
    iVar4 = 0;
    if (iVar1 == 0) {
      uVar2 = *(uint *)(param_1 + 0x18) & 1;
      iVar5 = *(int *)(uVar2 * 0x800 + *(int *)(param_1 + 0x20));
      iVar1 = uVar2 * 0x200 + 1;
      if (0 < iVar5) {
        do {
          local_30.x = (short)*(undefined4 *)(iVar1 * 4 + *(int *)(param_1 + 0x20));
          local_30.y = (short)((uint)*(undefined4 *)(iVar1 * 4 + *(int *)(param_1 + 0x20)) >> 0x10);
          iVar3 = (iVar1 + 1) * 4;
          local_30.w = (short)*(undefined4 *)(iVar3 + *(int *)(param_1 + 0x20));
          local_30.h = (short)((uint)*(undefined4 *)(iVar3 + *(int *)(param_1 + 0x20)) >> 0x10);
          LoadImage(&local_30,(u_long *)(*(int *)(param_1 + 0x20) + (iVar1 + 2) * 4));
          iVar4 = iVar4 + 1;
          iVar1 = iVar1 + 2 + ((int)local_30.w * (int)local_30.h) / 2;
        } while (iVar4 < iVar5);
      }
      iVar1 = *(int *)(param_1 + 0x18) + 1;
      *(int *)(param_1 + 0x18) = iVar1;
      if (iVar1 < *(int *)(param_1 + 0x10)) {
        *(undefined4 *)(param_1 + 4) = 6;
      }
      else {
        *(undefined4 *)(param_1 + 4) = 0;
        CdControlB('\t',(u_char *)0x0,(u_char *)0x0);
      }
    }
    goto switchD_WLDCORE__80068774_caseD_0;
  }
  *(int *)(param_1 + 4) = iVar1;
switchD_WLDCORE__80068774_caseD_0:
  return;
}



uint FUN_WLDCORE__80068a68(int param_1)

{
  uint uVar1;
  
  uVar1 = (uint)(byte)PTR_DAT_WLDCORE__80094f54_WLDCORE__80094df8[param_1 * 4 + 2];
  if (uVar1 != 0) {
    FUN_WLDCORE__80068ab4(uVar1 - 1);
  }
  return uVar1;
}



void FUN_WLDCORE__80068ab4(int param_1)

{
  if (param_1 != DAT_WLDCORE__800d0af0) {
    FUN_WLDCORE__800686c8();
    DAT_WLDCORE__800d0af0 = param_1;
    FUN_WLDCORE__800685e0
              (&fileOpenDesc_8004eaf4,*(int *)(&DAT_WLDCORE__8009e0ec + param_1 * 4) + 0x11dae,
               *(int *)(&DAT_WLDCORE__8009e0f0 + param_1 * 4) -
               *(int *)(&DAT_WLDCORE__8009e0ec + param_1 * 4),DAT_WLDCORE__800bb988);
  }
  return;
}



void FUN_WLDCORE__80068bc4(int param_1)

{
  DAT_801cd8e8 = &DAT_WLDCORE__800bc2f4;
  if (param_1 != DAT_WLDCORE__800d0af4) {
    FUN_WLDCORE__800686c8();
    DAT_WLDCORE__800d0af4 = param_1;
    FUN_WLDCORE__800685e0
              (&fileOpenDesc_8004eaf4,*(int *)(&DAT_WLDCORE__8009e470 + param_1 * 4) + 0x11f59,
               *(int *)(&DAT_WLDCORE__8009e474 + param_1 * 4) -
               *(int *)(&DAT_WLDCORE__8009e470 + param_1 * 4),(u_long *)&DAT_WLDCORE__800bc2f4);
  }
  return;
}



void FUN_WLDCORE__80068d40(void)

{
  FUN_WLDCORE__800685e0(&fileOpenDesc_8004eaf4,DAT_800459c8,1,(u_long *)0x0);
  return;
}



void FUN_WLDCORE__80068d74(int param_1,undefined2 *param_2)

{
  param_2[2] = 0x100;
  *param_2 = 0;
  param_2[3] = 0xee;
  if (param_1 == 0) {
    param_2[1] = 0;
  }
  else {
    param_2[1] = 0xf0;
  }
  return;
}



void FUN_WLDCORE__80068da4(void)

{
  DAT_WLDCORE__800bb984 = DAT_WLDCORE__800c731c;
  DAT_WLDCORE__800c731c = PadRead(0);
  if ((DAT_8004d950 & 4) == 0) {
    DAT_WLDCORE__800bc2f0 = DAT_WLDCORE__800c731c & ~DAT_WLDCORE__800bb984;
    DAT_WLDCORE__8009f2e8 = DAT_WLDCORE__800c731c;
  }
  else {
    DAT_WLDCORE__800bc2f0 = 0;
    DAT_WLDCORE__8009f2e8 = 0;
  }
  if (DAT_WLDCORE__800c731c == 0x90c) {
    DrawSync(0);
    FUN_80018240(0x3fff,1);
    FUN_80018090(0xc0);
    FUN_80018300(0x74ff,1);
    MidState_QuitSound_GetStack();
  }
  return;
}



void FUN_WLDCORE__80068fa8(void)

{
  DAT_WLDCORE__800c7318 = 0;
  DAT_WLDCORE__800c7314 = 0;
  DAT_WLDCORE__800c7310 = 0;
  DAT_WLDCORE__800c730c = 0;
  DAT_WLDCORE__800c7308 = 0;
  DAT_WLDCORE__800c7304 = 0;
  DAT_WLDCORE__800c72f8 = (uint)DAT_800473a1;
  DAT_WLDCORE__800c72fc = (uint)DAT_800473a2;
  DAT_WLDCORE__800c7300 = (uint)DAT_800473a3;
  return;
}



void FUN_WLDCORE__800692ac(int param_1)

{
  int iVar1;
  uint **ppuVar2;
  
  if (param_1 == 0) {
    iVar1 = 0;
    if (0 < DAT_WLDCORE__8009f1e8) {
      ppuVar2 = (uint **)&DAT_WLDCORE__8009f1a0;
      do {
        **ppuVar2 = **ppuVar2 | 8;
        iVar1 = iVar1 + 1;
        ppuVar2 = ppuVar2 + 1;
      } while (iVar1 < DAT_WLDCORE__8009f1e8);
    }
    iVar1 = 0;
    if (0 < DAT_WLDCORE__8009f198) {
      ppuVar2 = (uint **)&DAT_WLDCORE__8009ef80;
      do {
        **ppuVar2 = **ppuVar2 | 8;
        iVar1 = iVar1 + 1;
        ppuVar2 = ppuVar2 + 1;
      } while (iVar1 < DAT_WLDCORE__8009f198);
    }
  }
  else {
    iVar1 = 0;
    if (0 < DAT_WLDCORE__8009f1e8) {
      ppuVar2 = (uint **)&DAT_WLDCORE__8009f1a0;
      do {
        **ppuVar2 = **ppuVar2 & 0xfffffff7;
        iVar1 = iVar1 + 1;
        ppuVar2 = ppuVar2 + 1;
      } while (iVar1 < DAT_WLDCORE__8009f1e8);
    }
    iVar1 = 0;
    if (0 < DAT_WLDCORE__8009f198) {
      ppuVar2 = (uint **)&DAT_WLDCORE__8009ef80;
      do {
        **ppuVar2 = **ppuVar2 & 0xfffffff7;
        iVar1 = iVar1 + 1;
        ppuVar2 = ppuVar2 + 1;
      } while (iVar1 < DAT_WLDCORE__8009f198);
    }
  }
  return;
}



void FUN_WLDCORE__80069400(uint param_1,undefined4 param_2)

{
  if ((DAT_WLDCORE__800d0ab8 & 2) != (param_1 & 2)) {
    DAT_WLDCORE__800d0ac8 = 0;
    DAT_8004d950 = DAT_8004d950 | 8;
    DAT_WLDCORE__800d0ab8 = param_1 | 1;
    DAT_WLDCORE__800d0acc = param_2;
    if ((param_1 & 0x20) != 0) {
      FUN_WLDCORE__80090d50(1,0x11b);
      FUN_WLDCORE__80090d50(3,0x10);
    }
    if ((param_1 & 0x10) != 0) {
      FUN_WLDCORE__80090d50(2,4);
      FUN_WLDCORE__80090d50(4,2);
    }
  }
  return;
}



undefined4 FUN_WLDCORE__800694a8(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined uVar3;
  int iVar4;
  
  uVar1 = 0;
  if ((DAT_WLDCORE__800d0ab8 & 1) != 0) {
    if (DAT_WLDCORE__800d0ac8 == DAT_WLDCORE__800d0acc) {
      DAT_WLDCORE__800d0ab8 = DAT_WLDCORE__800d0ab8 & 0xfffffff2;
      uVar1 = 0;
    }
    else {
      if (DAT_WLDCORE__800d0ac8 + 1 == DAT_WLDCORE__800d0acc) {
        DAT_8004d950 = DAT_8004d950 & 0xfffffff7;
        FUN_WLDCORE__800911cc();
      }
      if ((DAT_WLDCORE__800d0ab8 & 2) == 0) {
        if (DAT_WLDCORE__800d0acc == 0) {
          trap(0x1c00);
        }
        if ((DAT_WLDCORE__800d0acc == -1) && (DAT_WLDCORE__800d0ac8 << 7 == -0x80000000)) {
          trap(0x1800);
        }
        if (DAT_WLDCORE__800d0acc == 0) {
          trap(0x1c00);
        }
        if ((DAT_WLDCORE__800d0acc == -1) && (DAT_WLDCORE__800d0ac8 << 8 == -0x80000000)) {
          trap(0x1800);
        }
        iVar2 = (DAT_WLDCORE__800d0ac8 << 7) / DAT_WLDCORE__800d0acc + 0x10;
        iVar4 = 0xc0 - (DAT_WLDCORE__800d0ac8 << 8) / DAT_WLDCORE__800d0acc;
        if (0x80 < iVar2) {
          iVar2 = 0x80;
        }
        if (iVar4 < 0) {
          iVar4 = 0;
        }
        uVar3 = (undefined)iVar4;
        if (DAT_WLDCORE__800d0ac8 < 0) {
          iVar2 = 0;
          uVar3 = 0x80;
        }
      }
      else {
        if (DAT_WLDCORE__800d0acc == 0) {
          trap(0x1c00);
        }
        if ((DAT_WLDCORE__800d0acc == -1) && (DAT_WLDCORE__800d0ac8 << 7 == -0x80000000)) {
          trap(0x1800);
        }
        if (DAT_WLDCORE__800d0acc == 0) {
          trap(0x1c00);
        }
        if ((DAT_WLDCORE__800d0acc == -1) && (DAT_WLDCORE__800d0ac8 << 8 == -0x80000000)) {
          trap(0x1800);
        }
        iVar2 = 0x70 - (DAT_WLDCORE__800d0ac8 << 7) / DAT_WLDCORE__800d0acc;
        iVar4 = (DAT_WLDCORE__800d0ac8 << 8) / DAT_WLDCORE__800d0acc + 0x20;
        if (iVar2 < 0) {
          iVar2 = 0;
        }
        if (0xff < iVar4) {
          iVar4 = 0xff;
        }
        uVar3 = (undefined)iVar4;
        if (DAT_WLDCORE__800d0ac8 < 0) {
          iVar2 = 0x80;
          uVar3 = 0;
        }
      }
      DAT_WLDCORE__800d0ac8 = DAT_WLDCORE__800d0ac8 + 1;
      FUN_WORLD__80106a28(iVar2,iVar2,iVar2);
      DAT_WLDCORE__8009f19c = (undefined)iVar2;
      if ((DAT_WLDCORE__800d0ab8 & 4) != 0) {
        DAT_8004d950 = DAT_8004d950 | 2;
      }
      uVar1 = 1;
      DAT_WLDCORE__8009f19d = DAT_WLDCORE__8009f19c;
      DAT_WLDCORE__8009f19e = DAT_WLDCORE__8009f19c;
      DAT_WLDCORE__800d0adc = uVar3;
      DAT_WLDCORE__800d0add = uVar3;
      DAT_WLDCORE__800d0ade = uVar3;
    }
  }
  return uVar1;
}



// WARNING: Removing unreachable block (ram,0x80069774)
// WARNING: Removing unreachable block (ram,0x80069748)
// WARNING: Removing unreachable block (ram,0x800697a0)

void FUN_WLDCORE__80069718(undefined4 *param_1,undefined4 *param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  if ((DAT_WLDCORE__800d0ab8 & 1) == 0) {
    *param_2 = *param_1;
  }
  else {
    uVar3 = (int)(((int)((uint)*(byte *)param_1 * 0x10000) >> 7) * (uint)DAT_WLDCORE__8009f19c) >>
            0x10;
    uVar2 = (int)(((int)((uint)*(byte *)((int)param_1 + 1) * 0x10000) >> 7) *
                 (uint)DAT_WLDCORE__8009f19d) >> 0x10;
    uVar1 = (int)(((int)((uint)*(byte *)((int)param_1 + 2) * 0x10000) >> 7) *
                 (uint)DAT_WLDCORE__8009f19e) >> 0x10;
    if (0xff < uVar3) {
      uVar3 = 0xff;
    }
    if (0xff < uVar2) {
      uVar2 = 0xff;
    }
    if (0xff < uVar1) {
      uVar1 = 0xff;
    }
    *(char *)param_2 = (char)uVar3;
    *(char *)((int)param_2 + 1) = (char)uVar2;
    *(char *)((int)param_2 + 2) = (char)uVar1;
  }
  return;
}



void FUN_WLDCORE__80069810(void)

{
  uint *puVar1;
  int iVar2;
  undefined4 *puVar3;
  GsBOXF *bp;
  
  puVar1 = &DAT_WLDCORE__800d0ab8;
  puVar3 = &DAT_WLDCORE__800d0ac0;
  bp = (GsBOXF *)&DAT_WLDCORE__800d0ad0;
  iVar2 = 0;
  do {
    if (((*puVar1 & 9) != 0) &&
       ((((&DAT_WLDCORE__800d0adc)[iVar2] != '\0' || ((&DAT_WLDCORE__800d0add)[iVar2] != '\0')) ||
        ((&DAT_WLDCORE__800d0ade)[iVar2] != '\0')))) {
      GsSortBoxFill(bp,(GsOT *)(&DAT_WLDCORE__800bb364 + DAT_8004e5bc * 5),*(ushort *)puVar3);
    }
    puVar3 = puVar3 + 1;
    bp = bp + 1;
    iVar2 = iVar2 + 0x10;
    puVar1 = puVar1 + 1;
  } while ((int)puVar3 < -0x7ff2f538);
  return;
}



void FUN_WLDCORE__80069adc(void)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  
  uVar1 = FUN_WORLD__800ef1a8(0x2e);
  iVar2 = FUN_WORLD__800ef1a8(0x2f);
  uVar3 = iVar2 + 1;
  if ((int)(uint)(byte)(&DAT_WLDCORE__8009e66b)[uVar1] < (int)uVar3) {
    uVar1 = uVar1 + 1;
    uVar3 = 1;
    if (uVar1 == 0xd) {
      uVar1 = 1;
    }
  }
  FUN_WORLD__800ef25c(0x2e,uVar1);
  FUN_WORLD__800ef25c(0x2f,uVar3);
  if ((uVar1 == 3) && (uVar3 == 0x15)) {
    iVar2 = FUN_WORLD__800ef1a8(0x67);
    uVar1 = iVar2 + 1;
    if (99 < (int)uVar1) {
      uVar1 = 99;
    }
    FUN_WORLD__800ef25c(0x67,uVar1);
  }
  FUN_WLDCORE__80074b30();
  FUN_WLDCORE__80069d40();
  FUN_WORLD__80125a04();
  return;
}



void FUN_WLDCORE__80069bb0(uint *param_1,int *param_2)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  
  uVar1 = *param_1;
  iVar3 = 0;
  if ((uVar1 - 1 < 0xc) && (*param_2 - 1U < 0x1f)) {
    if (DAT_WLDCORE__8009e678 != uVar1) {
      iVar2 = 1;
      do {
        iVar3 = iVar2 % 0xc;
        iVar2 = iVar3 + 1;
      } while ((&DAT_WLDCORE__8009e678)[iVar3 * 2] != uVar1);
    }
    if (*param_2 < (int)(uint)(byte)(&DAT_WLDCORE__8009e679)[iVar3 * 2]) {
      iVar3 = (iVar3 + 0xb) % 0xc;
      *param_1 = iVar3 + 1;
      iVar3 = iVar3 * 2;
      *param_2 = *param_2 +
                 ((uint)(byte)(&DAT_WLDCORE__8009e66b)[(&DAT_WLDCORE__8009e678)[iVar3]] -
                 (uint)(byte)(&DAT_WLDCORE__8009e679)[iVar3]) + 1;
    }
    else {
      *param_1 = iVar3 + 1;
      *param_2 = (*param_2 - (uint)(byte)(&DAT_WLDCORE__8009e679)[iVar3 * 2]) + 1;
    }
  }
  else {
    FUN_WLDCORE__80090d30(5);
    *param_2 = 1;
    *param_1 = 1;
  }
  return;
}



void FUN_WLDCORE__80069d40(void)

{
  byte *pbVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  byte *pbVar6;
  int iVar7;
  
  pbVar1 = PTR_DAT_WLDCORE__80097028_WLDCORE__80096a48;
  uVar2 = FUN_WORLD__800ef1a8(0x2f);
  uVar3 = FUN_WORLD__800ef1a8(0x2e);
  uVar4 = FUN_WORLD__800ef1a8(0x5f);
  uVar5 = FUN_WORLD__800ef1a8(0x60);
  if (((uVar3 == uVar4) && (uVar2 == uVar5)) && ((byte)DAT_80057f34 < 99)) {
    DAT_80057f34._0_1_ = (byte)DAT_80057f34 + 1;
  }
  iVar7 = 1;
  pbVar6 = (byte *)((int)&DAT_80057f34 + 1);
  do {
    if (((uVar3 == pbVar1[2]) && (uVar2 == pbVar1[3])) && (*pbVar6 < 99)) {
      *pbVar6 = *pbVar6 + 1;
    }
    pbVar6 = pbVar6 + 1;
    iVar7 = iVar7 + 1;
    pbVar1 = pbVar1 + 2;
  } while (iVar7 < 0x40);
  return;
}



void FUN_WLDCORE__80069e58(int param_1,int param_2,byte *param_3)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  uVar4 = 1;
  iVar3 = 0;
  do {
    uVar1 = param_2 * 9 + iVar3;
    iVar3 = iVar3 + 1;
    FUN_WLDCORE__800920e8(param_1,uVar1,param_3[1] & uVar4);
    uVar4 = uVar4 << 1;
  } while (iVar3 < 5);
  uVar4 = 1;
  iVar3 = 0;
  do {
    iVar2 = iVar3 + 5;
    iVar3 = iVar3 + 1;
    FUN_WLDCORE__800920e8(param_1,param_2 * 9 + iVar2,*param_3 & uVar4);
    uVar4 = uVar4 << 1;
  } while (iVar3 < 4);
  return;
}



void FUN_WLDCORE__8006a018(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  RECT local_10;
  
  DrawSync(0);
  VSync(0);
  local_10.w = 0x100;
  local_10.x = 0;
  local_10.y = 0;
  local_10.h = 0x1e0;
  ClearImage(&local_10,'\0','\0','\0');
  iVar2 = 0x77ff;
  if (param_1 != 0) {
    puVar1 = (undefined4 *)(DAT_WLDCORE__800c72f4 + 0x1dffc);
    do {
      *puVar1 = 0;
      iVar2 = iVar2 + -1;
      puVar1 = puVar1 + -1;
    } while (-1 < iVar2);
  }
  DrawSync(0);
  return;
}



int FUN_WLDCORE__8006a0ac(int param_1,int param_2)

{
  byte *pbVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = 0;
  iVar3 = 0;
  if (0 < param_1 + -1) {
    do {
      pbVar1 = &DAT_WLDCORE__8009e66c + iVar2;
      iVar2 = iVar2 + 1;
      iVar3 = iVar3 + (uint)*pbVar1;
    } while (iVar2 < param_1 + -1);
  }
  return iVar3 + -1 + param_2;
}



void FUN_WLDCORE__8006a0f8(int param_1,int *param_2,int *param_3)

{
  int iVar1;
  int iVar2;
  
  iVar1 = 0;
  do {
    iVar2 = iVar1;
    iVar1 = iVar2 + 1;
    if (param_1 < (int)(uint)(byte)(&DAT_WLDCORE__8009e66c)[iVar2]) goto LAB_WLDCORE__8006a130;
    param_1 = param_1 - (uint)(byte)(&DAT_WLDCORE__8009e66c)[iVar2];
    iVar1 = iVar2 + 1;
  } while (iVar2 + 1 < 0xc);
  iVar1 = iVar2 + 2;
LAB_WLDCORE__8006a130:
  *param_2 = iVar1;
  *param_3 = param_1 + 1;
  return;
}



void FUN_WLDCORE__8006a58c(void)

{
  undefined *puVar1;
  u_short uVar2;
  int iVar3;
  int x;
  int y;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  uint uVar10;
  int *piVar11;
  uint *puVar12;
  uint uVar13;
  int iVar14;
  uint uVar15;
  int iVar16;
  
  puVar1 = PTR_DAT_WLDCORE__80099b3c_WLDCORE__80096a5c;
  DAT_WLDCORE__8009f2d0 = 0x1000;
  DAT_WLDCORE__8009f2d4 = 0x1000;
  DAT_WLDCORE__8009f2d8 = 0x1000;
  DAT_WLDCORE__8009f2c0 = 0;
  DAT_WLDCORE__8009f2c4 = 0;
  DAT_WLDCORE__8009f2c8 = 0;
  DAT_WLDCORE__8009f2e0 = 0;
  DAT_WLDCORE__8009f2e2 = 0;
  DAT_WLDCORE__8009f2e4 = 0;
  if ((DAT_8004d950 & 0x10000) == 0) {
    iVar7 = -0xc0;
    iVar6 = 0;
    iVar5 = 0;
    iVar8 = 0;
    do {
      iVar4 = -0x100;
      iVar16 = 0;
      piVar9 = (int *)(puVar1 + iVar6 * 4);
      iVar3 = iVar5 * 0x18;
      puVar12 = &DAT_WLDCORE__800c7320 + iVar5 * 6;
      piVar11 = &DAT_WLDCORE__800c7328 + iVar5 * 6;
      do {
        x = *piVar9;
        y = piVar9[1];
        iVar14 = piVar9[2];
        uVar15 = piVar9[3];
        uVar10 = piVar9[4];
        uVar13 = piVar9[5];
        *piVar11 = iVar4;
        piVar11[1] = iVar7;
        if ((uVar10 == 0) || (uVar13 == 0)) {
          *puVar12 = 0x200;
        }
        else {
          uVar2 = GetTPage(1,0,x,y);
          *puVar12 = uVar2 & 0xff;
          *(uint *)((int)&DAT_WLDCORE__800c7324 + iVar3) =
               iVar14 << 0x18 | (uVar15 & 0xff) << 0x10 | (uVar10 & 0xff) << 8 | uVar13 & 0xff;
        }
        puVar12 = puVar12 + 6;
        iVar3 = iVar3 + 0x18;
        piVar11 = piVar11 + 6;
        iVar5 = iVar5 + 1;
        iVar4 = iVar4 + uVar10;
        piVar9 = piVar9 + 6;
        iVar16 = iVar16 + 1;
        iVar6 = iVar6 + 6;
      } while (iVar16 < 0x11);
      iVar8 = iVar8 + 1;
      iVar7 = iVar7 + uVar13;
    } while (iVar8 < 0xd);
  }
  iVar5 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  iVar6 = iVar5 * 0x24;
  DAT_WLDCORE__800d4878 = iVar5;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar6) = 5;
  (&DAT_WLDCORE__800bb50c)[iVar5 * 9] = 0xd;
  *(undefined4 *)(&DAT_WLDCORE__800bb51c + iVar6) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb520 + iVar6) = 8;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar6) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar6) = 0;
  iVar5 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  iVar6 = iVar5 * 0x24;
  DAT_WLDCORE__800d4580 = iVar5;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar6) = 6;
  (&DAT_WLDCORE__800bb50c)[iVar5 * 9] = 0xd;
  *(undefined4 *)(&DAT_WLDCORE__800bb51c + iVar6) = 0xfffffffc;
  *(undefined4 *)(&DAT_WLDCORE__800bb520 + iVar6) = 8;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar6) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar6) = 0;
  FUN_WLDCORE__8006a888();
  return;
}



void FUN_WLDCORE__8006a888(void)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  uint *puVar4;
  int iVar5;
  MATRIX MStack_50;
  SVECTOR local_30;
  VECTOR local_28;
  long alStack_18 [2];
  
  RotMatrix((SVECTOR *)&DAT_WLDCORE__8009f2e0,&MStack_50);
  FUN_8001cf48((int)&MStack_50,&DAT_WLDCORE__8009f2c0);
  ScaleMatrix(&MStack_50,(VECTOR *)&DAT_WLDCORE__8009f2d0);
  SetRotMatrix(&MStack_50);
  SetTransMatrix(&MStack_50);
  iVar5 = 0;
  puVar4 = &DAT_WLDCORE__800c7320;
  iVar3 = 0;
  do {
    local_30.vx = (short)*(undefined4 *)((int)&DAT_WLDCORE__800c7328 + iVar3);
    local_30.vz = 0;
    local_30.vy = (short)*(undefined4 *)((int)&DAT_WLDCORE__800c732c + iVar3);
    RotTrans(&local_30,&local_28,alStack_18);
    *(long *)((int)&DAT_WLDCORE__800c7330 + iVar3) = local_28.vx;
    *(long *)((int)&DAT_WLDCORE__800c7334 + iVar3) = local_28.vy;
    uVar2 = *puVar4;
    if ((uVar2 & 0x200) == 0) {
      uVar1 = uVar2 | 0x100;
      if (local_28.vx + 0xa0U < 0x121) {
        if (local_28.vy + 0x98U < 0x111) {
          uVar1 = uVar2 & 0xfffffeff;
        }
        else {
          uVar1 = uVar2 | 0x100;
        }
      }
      *puVar4 = uVar1;
    }
    puVar4 = puVar4 + 6;
    iVar5 = iVar5 + 1;
    iVar3 = iVar3 + 0x18;
  } while (iVar5 < 0xdd);
  return;
}



void FUN_WLDCORE__8006a9d8(int param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  POLY_FT4 PStack_48;
  u_char local_20;
  u_char local_1f;
  u_char local_1e;
  
  SetPolyFT4(&PStack_48);
  local_20 = 0x80;
  local_1f = 0x80;
  local_1e = 0x80;
  FUN_WLDCORE__80069718((undefined4 *)&local_20,(undefined4 *)&local_20);
  iVar7 = 0;
  PStack_48.r0 = local_20;
  PStack_48.g0 = local_1f;
  PStack_48.b0 = local_1e;
  PStack_48.clut = GetClut(0,0x1e0);
  iVar1 = 0;
  do {
    iVar1 = iVar1 + iVar7;
    iVar6 = 0;
    PStack_48.y0 = (&DAT_WLDCORE__800c7334)[iVar1 * 0xc];
    PStack_48.y2 = (&DAT_WLDCORE__800c7334)[(iVar1 + 0x11) * 0xc];
    iVar1 = iVar1 * 0x18;
    PStack_48.y1 = PStack_48.y0;
    PStack_48.y3 = PStack_48.y2;
    do {
      PStack_48.tpage = (ushort)*(uint *)((int)&DAT_WLDCORE__800c7320 + iVar1) & 0xff;
      if ((*(uint *)((int)&DAT_WLDCORE__800c7320 + iVar1) & 0x300) == 0) {
        PStack_48.x0 = *(short *)((int)&DAT_WLDCORE__800c7330 + iVar1);
        PStack_48.x1 = *(short *)((int)&DAT_WLDCORE__800c7348 + iVar1);
        uVar2 = *(uint *)((int)&DAT_WLDCORE__800c7324 + iVar1);
        uVar4 = (uVar2 & 0xff00) >> 8;
        uVar5 = uVar2 >> 0x10 & 0xff;
        uVar3 = uVar2 & 0xff;
        if (0xff < (uVar2 >> 0x18) + uVar4) {
          uVar4 = uVar4 - 1;
        }
        PStack_48.u0 = (u_char)(uVar2 >> 0x18);
        PStack_48.u1 = PStack_48.u0 + (char)uVar4;
        if (0xff < uVar5 + uVar3) {
          uVar3 = uVar3 - 1;
        }
        PStack_48.v1 = (u_char)uVar5;
        PStack_48.v2 = PStack_48.v1 + (char)uVar3;
        PStack_48.v0 = PStack_48.v1;
        PStack_48.x2 = PStack_48.x0;
        PStack_48.u2 = PStack_48.u0;
        PStack_48.x3 = PStack_48.x1;
        PStack_48.u3 = PStack_48.u1;
        PStack_48.v3 = PStack_48.v2;
        GsSortPoly(&PStack_48,(GsOT *)param_1,2);
      }
      iVar6 = iVar6 + 1;
      iVar1 = iVar1 + 0x18;
    } while (iVar6 < 0x10);
    iVar7 = iVar7 + 1;
    iVar1 = iVar7 * 0x10;
  } while (iVar7 < 0xc);
  return;
}



void FUN_WLDCORE__8006ac08(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar1 = *param_1;
  iVar3 = -iVar1;
  *param_1 = iVar3;
  if (0 < iVar1) {
    iVar4 = *param_2;
    iVar2 = iVar4 + iVar3;
    iVar1 = iVar2 - iVar4;
    if (iVar2 < -0x74) {
      iVar2 = -0x74;
      iVar1 = -0x74 - iVar4;
    }
    *param_1 = iVar3 - iVar1;
    *param_2 = iVar2;
  }
  iVar3 = *param_1;
  if (0 < iVar3) {
    iVar4 = *param_2;
    iVar2 = iVar4 + iVar3;
    iVar1 = iVar2 - iVar4;
    if (0x80 < iVar2) {
      iVar2 = 0x80;
      iVar1 = 0x80 - iVar4;
    }
    *param_1 = iVar3 - iVar1;
    *param_2 = iVar2;
  }
  *param_1 = -*param_1;
  return;
}



void FUN_WLDCORE__8006ac98(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar1 = *(int *)(param_1 + 4);
  iVar3 = -iVar1;
  *(int *)(param_1 + 4) = iVar3;
  if (0 < iVar1) {
    iVar4 = *(int *)(param_2 + 4);
    iVar2 = iVar4 + iVar3;
    iVar1 = iVar2 - iVar4;
    if (iVar2 < -0x40) {
      iVar2 = -0x40;
      iVar1 = -0x40 - iVar4;
    }
    *(int *)(param_1 + 4) = iVar3 - iVar1;
    *(int *)(param_2 + 4) = iVar2;
  }
  iVar3 = *(int *)(param_1 + 4);
  if (0 < iVar3) {
    iVar4 = *(int *)(param_2 + 4);
    iVar2 = iVar4 + iVar3;
    iVar1 = iVar2 - iVar4;
    if (0x50 < iVar2) {
      iVar2 = 0x50;
      iVar1 = 0x50 - iVar4;
    }
    *(int *)(param_1 + 4) = iVar3 - iVar1;
    *(int *)(param_2 + 4) = iVar2;
  }
  *(int *)(param_1 + 4) = -*(int *)(param_1 + 4);
  return;
}



void FUN_WLDCORE__8006ad28(void)

{
  undefined4 *puVar1;
  undefined1 *puVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  puVar2 = &DAT_WLDCORE__800bb524;
  iVar3 = 0;
  DAT_WLDCORE__8009f244 = 0;
  DAT_WLDCORE__8009f180 = 0;
  DAT_WLDCORE__8009f198 = 0;
  DAT_WLDCORE__8009f1e8 = 0;
  do {
    *(undefined4 *)((int)&DAT_WLDCORE__800bb504 + iVar3) = 1;
    *(undefined4 *)((int)&DAT_WLDCORE__800bb50c + iVar3) = 1;
    *puVar2 = 0x80;
    puVar2[1] = 0x80;
    puVar2[2] = 0x80;
    puVar2 = puVar2 + 0x24;
    iVar4 = iVar4 + 1;
    iVar3 = iVar3 + 0x24;
  } while (iVar4 < 0x20);
  iVar4 = 0;
  puVar1 = &DAT_WLDCORE__800bbc90;
  puVar2 = &DAT_WLDCORE__800bbca0;
  iVar3 = 0;
  do {
    *(undefined4 *)((int)&DAT_WLDCORE__800bbc70 + iVar3) = 2;
    *(undefined4 *)((int)&DAT_WLDCORE__800bbc78 + iVar3) = 1;
    *puVar1 = 0x3c0;
    puVar1[1] = 0x1f0;
    *puVar2 = 0x80;
    puVar2[1] = 0x80;
    puVar2[2] = 0x80;
    puVar2 = puVar2 + 0x34;
    puVar1 = puVar1 + 0xd;
    iVar4 = iVar4 + 1;
    iVar3 = iVar3 + 0x34;
  } while (iVar4 < 0x20);
  return;
}



void FUN_WLDCORE__8006ae20(int param_1,uint **param_2,int param_3)

{
  uint uVar1;
  uint *puVar2;
  int iVar3;
  
  if (((DAT_8004d950 & 0x400) == 0) && (iVar3 = 0, 0 < param_3)) {
    do {
      puVar2 = *param_2;
      uVar1 = *puVar2;
      if ((uVar1 & 0x18) == 0) {
        if ((uVar1 & 1) == 0) {
          if ((uVar1 & 2) != 0) {
            FUN_WLDCORE__8006b26c(puVar2,param_1);
          }
        }
        else {
          FUN_WLDCORE__8006aed0(puVar2,param_1);
        }
      }
      iVar3 = iVar3 + 1;
      param_2 = param_2 + 1;
    } while (iVar3 < param_3);
  }
  return;
}



void FUN_WLDCORE__8006aed0(uint *param_1,int param_2)

{
  int iVar1;
  undefined *puVar2;
  uint uVar3;
  uint abr;
  uint uVar4;
  uint uVar5;
  uint *puVar6;
  int iVar7;
  int *piVar8;
  int iVar9;
  uint uVar10;
  GsSPRITE local_78;
  undefined4 local_50;
  GsOT *local_48;
  uint local_40;
  
  puVar2 = PTR_PTR_DAT_WLDCORE__80093480_WLDCORE__8009324c_WLDCORE__80092b30;
  puVar6 = *(uint **)(PTR_PTR_DAT_WLDCORE__80092d20_WLDCORE__80092b38_WLDCORE__80092b2c +
                     param_1[1] * 4);
  local_78.my = 0;
  local_78.mx = 0;
  local_78.scaley = 0x1000;
  local_78.scalex = 0x1000;
  local_78.rotate = 0;
  local_48 = (GsOT *)param_2;
  if ((*param_1 & 0x400) == 0) {
    FUN_WLDCORE__80069718(param_1 + 8,&local_50);
  }
  else {
    local_50 = param_1[8];
  }
  local_78.r = (uchar)local_50;
  local_78.g = local_50._1_1_;
  local_78.b = local_50._2_1_;
  if (((*param_1 & 0x800) != 0) || ((DAT_8004d950 & 0x8000000) == 0)) {
    param_1[4] = param_1[4] + 1;
  }
  while ((uVar4 = (uint)*(ushort *)((int)puVar6 + param_1[3] * 4 + 6), uVar4 == param_1[4] &&
         (uVar4 != 0xffff))) {
    uVar4 = param_1[3];
    param_1[4] = 0;
    param_1[3] = uVar4 + 1;
    if (*puVar6 == uVar4 + 1) {
      param_1[3] = 0;
    }
  }
  piVar8 = *(int **)(puVar2 + (uint)*(ushort *)(puVar6 + param_1[3] + 1) * 4);
  uVar4 = piVar8[1];
  iVar7 = 0;
  local_40 = uVar4 & 0xffff;
  uVar3 = piVar8[2];
  iVar9 = *piVar8;
  uVar10 = uVar3 & 0xffff;
  if (0 < iVar9) {
    iVar1 = 0;
    do {
      uVar5 = (iVar9 + iVar1) * 2 | 1;
      puVar6 = (uint *)(piVar8 + uVar5);
      if ((*param_1 & 0x20) == 0) {
        local_78.attribute = *puVar6 & 0x80000000 | *puVar6 & 0x70000000;
        abr = *puVar6 >> 0x1c & 3;
      }
      else {
        local_78.attribute = *puVar6 & 0x80000000 | 0x40000000 | (*param_1 & 0xc0) << 0x16;
        abr = (int)(*param_1 & 0xc0) >> 6;
      }
      puVar6 = (uint *)(piVar8 + uVar5);
      local_78.attribute = local_78.attribute | (*puVar6 & 0x7000000) >> 2;
      local_78.x = (short)param_1[6] + (*(byte *)puVar6 - 0x80);
      local_78.y = (short)param_1[7] + (*(byte *)((int)puVar6 + 1) - 0x80);
      local_78.w = (ushort)*(byte *)((int)puVar6 + 5);
      local_78.h = (ushort)*(byte *)(puVar6 + 1);
      local_78.tpage = GetTPage(0,abr,local_40,uVar4 >> 0x10);
      local_78.u = *(byte *)((int)puVar6 + 7);
      local_78.v = (uchar)(puVar6[1] >> 0x10);
      if ((param_1[5] == 0) || ((*puVar6 & 0x8000000) != 0)) {
        local_78.cx = (short)(uVar10 + (*puVar6 & 0xff0000) >> 0xc);
      }
      else {
        local_78.cx = (short)uVar10 + ((short)param_1[5] + -1) * 0x10;
      }
      local_78.cy = (short)(uVar3 >> 0x10);
      if ((local_78.attribute & 0x800000) != 0) {
        local_78.u = local_78.u + 1;
      }
      if ((local_78.attribute & 0x400000) != 0) {
        local_78.v = local_78.v + '\x01';
      }
      iVar7 = iVar7 + 1;
      GsSortFlipSprite(&local_78,local_48,*(ushort *)(param_1 + 2));
      iVar1 = -iVar7;
    } while (iVar7 < iVar9);
  }
  return;
}



void FUN_WLDCORE__8006b26c(uint *param_1,int param_2)

{
  GsSPRITE local_48;
  short local_20;
  short local_1e;
  ushort local_1c;
  ushort local_1a;
  undefined4 local_18;
  
  if ((*param_1 & 4) == 0) {
    local_48.attribute = 0;
  }
  else {
    local_48.attribute = 0x1000000;
  }
  local_48.cx = (short)param_1[8];
  local_48.cy = (short)param_1[9];
  if (param_1[5] != 0) {
    local_48.cx = (short)param_1[8] + ((short)param_1[5] + -1) * 0x10;
  }
  if ((*param_1 & 0x400) == 0) {
    FUN_WLDCORE__80069718(param_1 + 0xc,&local_18);
  }
  else {
    local_18 = param_1[0xc];
  }
  local_48.r = (uchar)local_18;
  local_48.g = local_18._1_1_;
  local_48.b = local_18._2_1_;
  local_48.tpage = (ushort)param_1[1];
  if ((*param_1 & 0x100) == 0) {
    local_48.x = (short)param_1[6];
    local_48.y = (short)param_1[7];
    local_48.u = (uchar)*(undefined2 *)(param_1 + 10);
    local_48.v = (uchar)*(undefined2 *)((int)param_1 + 0x2a);
    local_48.w = *(ushort *)(param_1 + 0xb);
    local_48.h = *(ushort *)((int)param_1 + 0x2e);
  }
  else {
    FUN_WLDCORE__8006b678((int)param_1[4] / 2,(int)(param_1 + 10),&local_20);
    local_48.x = local_20 + (short)param_1[6];
    local_48.y = local_1e + (short)param_1[7];
    local_48.u = (char)local_20 + *(char *)(param_1 + 10);
    local_48.v = (char)local_1e + *(char *)((int)param_1 + 0x2a);
    local_48.w = local_1c;
    local_48.h = local_1a;
    if ((int)param_1[4] / 2 < 4) {
      param_1[4] = param_1[4] + 1;
    }
    else {
      param_1[4] = 0;
      *param_1 = *param_1 ^ 0x100;
    }
  }
  GsSortFastSprite(&local_48,(GsOT *)param_2,*(ushort *)(param_1 + 2));
  return;
}



void FUN_WLDCORE__8006b460(int param_1,int *param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  
  iVar1 = DAT_WLDCORE__8009f180;
  iVar3 = DAT_WLDCORE__8009f180 * 0x24;
  *(undefined4 **)(*param_2 * 4 + param_1) = &DAT_WLDCORE__800bb504 + DAT_WLDCORE__8009f180 * 9;
  uVar2 = (&DAT_WLDCORE__800bb504)[iVar1 * 9];
  *(undefined4 *)(&DAT_WLDCORE__800bb518 + iVar3) = 0;
  (&DAT_WLDCORE__800bb504)[iVar1 * 9] = uVar2 & 0xfffffbe7;
  (&DAT_WLDCORE__800bb524)[iVar3] = 0x80;
  (&DAT_WLDCORE__800bb525)[DAT_WLDCORE__8009f180 * 0x24] = 0x80;
  (&DAT_WLDCORE__800bb526)[DAT_WLDCORE__8009f180 * 0x24] = 0x80;
  *param_2 = *param_2 + 1;
  DAT_WLDCORE__8009f180 = DAT_WLDCORE__8009f180 + 1;
  return;
}



void FUN_WLDCORE__8006b548(int param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar2 = DAT_WLDCORE__8009f244;
  iVar1 = DAT_WLDCORE__8009f244 * 0x34;
  *(undefined4 **)(*param_2 * 4 + param_1) = &DAT_WLDCORE__800bbc70 + DAT_WLDCORE__8009f244 * 0xd;
  (&DAT_WLDCORE__800bbc70)[iVar2 * 0xd] = (&DAT_WLDCORE__800bbc70)[iVar2 * 0xd] & 0xfffffbe7;
  (&DAT_WLDCORE__800bbca0)[iVar1] = 0x80;
  (&DAT_WLDCORE__800bbca1)[DAT_WLDCORE__8009f244 * 0x34] = 0x80;
  (&DAT_WLDCORE__800bbca2)[DAT_WLDCORE__8009f244 * 0x34] = 0x80;
  iVar2 = DAT_WLDCORE__8009f244 * 0x34;
  *(undefined4 *)(&DAT_WLDCORE__800bbc84 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bbc80 + iVar2) = 0;
  *param_2 = *param_2 + 1;
  DAT_WLDCORE__8009f244 = DAT_WLDCORE__8009f244 + 1;
  return;
}



void FUN_WLDCORE__8006b678(int param_1,int param_2,short *param_3)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  
  if (param_1 == 1) {
    iVar1 = 0x32;
  }
  else if (param_1 < 2) {
    iVar1 = 0x14;
    if (param_1 != 0) {
      iVar1 = 100;
    }
  }
  else if (param_1 == 2) {
    iVar1 = 0x50;
  }
  else {
    iVar1 = 0x5a;
    if (param_1 != 3) {
      iVar1 = 100;
    }
  }
  iVar3 = (uint)*(ushort *)(param_2 + 4) << 0x10;
  iVar4 = iVar3 >> 0x10;
  iVar6 = (uint)*(ushort *)(param_2 + 6) << 0x10;
  iVar7 = iVar6 >> 0x10;
  uVar5 = iVar4 - (iVar3 >> 0x1f) >> 1 & 0xfffc;
  uVar9 = (iVar4 * iVar1) / 200 & 0xfffc;
  uVar2 = (iVar7 * iVar1) / 200 & 0xfffc;
  uVar8 = iVar7 - (iVar6 >> 0x1f) >> 1 & 0xfffc;
  if (uVar5 < uVar9) {
    uVar9 = uVar5;
  }
  if (uVar8 < uVar2) {
    uVar2 = uVar8;
  }
  *param_3 = (short)uVar5 - (short)uVar9;
  param_3[1] = (short)uVar8 - (short)uVar2;
  param_3[2] = (short)(uVar9 << 1);
  param_3[3] = (short)(uVar2 << 1);
  return;
}



void FUN_WLDCORE__8006b78c(int param_1)

{
  GsSPRITE local_78;
  GsSPRITE local_50;
  int aiStack_28 [4];
  uchar local_18;
  uchar local_17;
  uchar local_16;
  
  if ((DAT_8004d950 & 0x800) != 0) {
    return;
  }
  local_78.attribute = 0;
  local_50.attribute = 0;
  local_78.tpage = GetTPage(0,0,0x3c0,0x100);
  local_78.cy = 0x1e1;
  local_50.cy = 0x1e1;
  local_50.tpage = local_78.tpage;
  FUN_WLDCORE__80069718((undefined4 *)&DAT_WLDCORE__8009f2ac,(undefined4 *)&local_18);
  local_50.r = local_18;
  local_78.r = local_18;
  local_50.g = local_17;
  local_50.b = local_16;
  local_78.g = local_17;
  local_78.b = local_16;
  local_78.x = (short)DAT_WLDCORE__8009f2b0;
  local_50.x = (short)DAT_WLDCORE__8009f2b0;
  local_78.y = (short)DAT_WLDCORE__8009f2b4;
  local_50.y = (short)DAT_WLDCORE__8009f2b4;
  switch(DAT_WLDCORE__800d0984) {
  case 1:
    break;
  case 2:
    local_78.u = '`';
    local_78.v = '\x10';
    local_78.w = 0x14;
    local_78.h = 8;
    local_78.cx = 0x20;
    GsSortFastSprite(&local_78,(GsOT *)param_1,DAT_WLDCORE__800bb4f4);
    local_50.u = '(';
    local_50.v = '\0';
    local_50.w = 6;
    local_50.h = 8;
    local_50.cx = 0x20;
    local_50.y = local_78.y + 0xc;
    local_78.x = local_78.x + -8;
    local_78.y = local_78.y + 8;
    FUN_WLDCORE__8006bbc8(DAT_WLDCORE__800d09ac,4,&local_78.attribute,param_1);
    local_50.x = local_78.x;
    GsSortFastSprite(&local_50,(GsOT *)param_1,DAT_WLDCORE__800bb4f4);
    local_78.x = local_78.x + 6;
    FUN_WLDCORE__8006bd84(DAT_WLDCORE__800d09b0,2,&local_78.attribute,param_1,1);
    local_50.x = local_78.x;
    GsSortFastSprite(&local_50,(GsOT *)param_1,DAT_WLDCORE__800bb4f4);
    local_78.x = local_78.x + 6;
    FUN_WLDCORE__8006bd84(DAT_WLDCORE__800d09b4,2,&local_78.attribute,param_1,1);
    return;
  case 3:
    local_78.u = 0xa8;
    local_78.v = ' ';
    local_78.w = 0xd;
    local_78.h = 9;
    local_78.cx = 0x20;
    GsSortFastSprite(&local_78,(GsOT *)param_1,DAT_WLDCORE__800bb4f4);
  case 0:
    local_78.x = local_78.x + -0xc;
    local_78.y = local_78.y + 8;
    FUN_WLDCORE__8006bbc8(DAT_WLDCORE__800d09ac,8,&local_78.attribute,param_1);
    return;
  case 4:
    local_78.u = '`';
    local_78.w = 0x18;
    local_78.h = 8;
    local_78.v = '\0';
    local_78.cx = 0x20;
    local_78.x = (short)DAT_WLDCORE__8009f2b0 + -0x40;
    GsSortFastSprite(&local_78,(GsOT *)param_1,DAT_WLDCORE__800bb4f4);
    local_78.x = local_78.x + 4;
    local_78.y = local_78.y + 8;
    FUN_WLDCORE__8006bd84(DAT_WLDCORE__800d09b0,5,&local_78.attribute,param_1,0);
    local_78.x = (short)DAT_WLDCORE__8009f2b0;
    local_78.y = (short)DAT_WLDCORE__8009f2b4;
    break;
  default:
    return;
  }
  FUN_WLDCORE__8006bad4(param_1,&local_78.attribute,aiStack_28);
  return;
}



void FUN_WLDCORE__8006bad4(int param_1,uint *param_2,int *param_3)

{
  ushort uVar1;
  int iVar2;
  short sVar3;
  
  *(undefined *)((int)param_2 + 0xe) = 0x9c;
                    // Possible PsyQ macro: setTile8()
  *(undefined *)((int)param_2 + 0xf) = 0x78;
  uVar1 = DAT_WLDCORE__800bb4f4;
  *(undefined2 *)(param_2 + 2) = 0x29;
  *(undefined2 *)((int)param_2 + 10) = 8;
  *(undefined2 *)(param_2 + 4) = 0x20;
  GsSortFastSprite((GsSPRITE *)param_2,(GsOT *)param_1,uVar1);
  *param_3 = 0;
  *(undefined *)(param_3 + 3) = 0;
  *(undefined *)((int)param_3 + 0xd) = 0;
  *(undefined *)((int)param_3 + 0xe) = 0;
  sVar3 = *(short *)(param_2 + 1);
  *(short *)(param_3 + 1) = sVar3 + 0x24;
  *(short *)(param_3 + 2) = sVar3 + 0x28;
  uVar1 = DAT_WLDCORE__800bb4f4;
  sVar3 = *(short *)((int)param_2 + 6) + 8;
  *(short *)((int)param_3 + 10) = sVar3;
  *(short *)((int)param_3 + 6) = sVar3;
  GsSortLine((GsLINE *)param_3,(GsOT *)param_1,uVar1);
  iVar2 = DAT_WLDCORE__800d09ac;
  *(short *)(param_2 + 1) = *(short *)(param_2 + 1) + 4;
  *(short *)((int)param_2 + 6) = *(short *)((int)param_2 + 6) + 8;
  FUN_WLDCORE__8006bd84(iVar2,8,param_2,param_1,0);
  return;
}



void FUN_WLDCORE__8006bbc8(int param_1,int param_2,uint *param_3,int param_4)

{
  undefined2 uVar1;
  int iVar2;
  short sVar3;
  int iVar4;
  int iVar5;
  
  iVar4 = 1;
  iVar5 = 0;
  *(undefined2 *)(param_3 + 2) = 8;
  *(undefined *)((int)param_3 + 0xf) = 0x31;
  uVar1 = *(undefined2 *)((int)param_3 + 6);
                    // Possible PsyQ macro: setTile16()
  *(undefined2 *)(param_3 + 4) = 0x70;
  if (0 < param_2 + -1) {
    iVar2 = 4;
    do {
      iVar2 = iVar2 + iVar4;
      iVar4 = iVar2 * 2;
      iVar5 = iVar5 + 1;
      iVar2 = iVar2 * 8;
    } while (iVar5 < param_2 + -1);
  }
  iVar5 = 0;
  if (0 < param_2) {
    do {
      if ((iVar4 <= param_1) ||
         (iVar2 = (int)((ulonglong)((longlong)iVar4 * 0x66666667) >> 0x20), iVar5 == param_2 + -1))
      {
        if (iVar4 == 0) {
          trap(0x1c00);
        }
        if ((iVar4 == -1) && (param_1 == -0x80000000)) {
          trap(0x1800);
        }
        iVar2 = (param_1 / iVar4) % 10;
        *(char *)((int)param_3 + 0xe) = (char)iVar2 * '\b' + -0x58;
        if (iVar2 < 6) {
                    // Possible PsyQ macro: setPolyGT3()
          *(undefined *)((int)param_3 + 0xf) = 0x34;
          *(undefined2 *)((int)param_3 + 10) = 0xc;
          sVar3 = *(short *)((int)param_3 + 6) + 4;
        }
        else {
          *(undefined *)((int)param_3 + 0xf) = 0x31;
          *(undefined2 *)((int)param_3 + 10) = 0xf;
          sVar3 = *(short *)((int)param_3 + 6) + 1;
        }
        *(short *)((int)param_3 + 6) = sVar3;
        GsSortFastSprite((GsSPRITE *)param_3,(GsOT *)param_4,DAT_WLDCORE__800bb4f4);
        *(undefined2 *)((int)param_3 + 6) = uVar1;
        iVar2 = (int)((ulonglong)((longlong)iVar4 * 0x66666667) >> 0x20);
      }
      iVar5 = iVar5 + 1;
      *(short *)(param_3 + 1) = *(short *)(param_3 + 1) + 8;
      iVar4 = (iVar2 >> 2) - (iVar4 >> 0x1f);
    } while (iVar5 < param_2);
  }
  return;
}



void FUN_WLDCORE__8006bd84(int param_1,int param_2,uint *param_3,int param_4,int param_5)

{
  undefined2 uVar1;
  undefined2 uVar2;
  int iVar3;
  short sVar4;
  int iVar5;
  int iVar6;
  
  iVar5 = 1;
  iVar6 = 0;
  *(undefined2 *)(param_3 + 2) = 8;
  uVar1 = *(undefined2 *)((int)param_3 + 6);
  *(undefined2 *)((int)param_3 + 10) = 0x10;
  if (0 < param_2 + -1) {
    iVar3 = 4;
    do {
      iVar3 = iVar3 + iVar5;
      iVar5 = iVar3 * 2;
      iVar6 = iVar6 + 1;
      iVar3 = iVar3 * 8;
    } while (iVar6 < param_2 + -1);
  }
  iVar6 = 0;
  if (0 < param_2) {
    do {
      if ((param_1 < iVar5) && (iVar6 != param_2 + -1)) {
        if (param_5 == 0) {
          sVar4 = *(short *)((int)param_3 + 6);
          *(undefined *)((int)param_3 + 0xe) = 0xd0;
                    // Possible PsyQ macro: setPolyF4()
          *(undefined *)((int)param_3 + 0xf) = 0x28;
          uVar2 = 8;
          *(undefined2 *)(param_3 + 4) = 0x70;
LAB_WLDCORE__8006bf14:
          *(undefined2 *)((int)param_3 + 10) = uVar2;
          sVar4 = sVar4 + 4;
        }
        else {
          *(undefined *)((int)param_3 + 0xe) = 0xa8;
          *(undefined2 *)(param_3 + 4) = 0x70;
          *(undefined *)((int)param_3 + 0xf) = 0x31;
          *(undefined2 *)((int)param_3 + 10) = 0xf;
          sVar4 = *(short *)((int)param_3 + 6) + 1;
        }
      }
      else {
        if (iVar5 == 0) {
          trap(0x1c00);
        }
        if ((iVar5 == -1) && (param_1 == -0x80000000)) {
          trap(0x1800);
        }
        *(undefined2 *)(param_3 + 4) = 0x70;
        iVar3 = (param_1 / iVar5) % 10;
        *(char *)((int)param_3 + 0xe) = (char)iVar3 * '\b' + -0x58;
        if (iVar3 < 6) {
          sVar4 = *(short *)((int)param_3 + 6);
                    // Possible PsyQ macro: setPolyGT3()
          *(undefined *)((int)param_3 + 0xf) = 0x34;
          uVar2 = 0xc;
          goto LAB_WLDCORE__8006bf14;
        }
        *(undefined *)((int)param_3 + 0xf) = 0x31;
        *(undefined2 *)((int)param_3 + 10) = 0xf;
        sVar4 = *(short *)((int)param_3 + 6) + 1;
      }
      *(short *)((int)param_3 + 6) = sVar4;
      GsSortFastSprite((GsSPRITE *)param_3,(GsOT *)param_4,DAT_WLDCORE__800bb4f4);
      *(undefined2 *)((int)param_3 + 6) = uVar1;
      iVar6 = iVar6 + 1;
      *(short *)(param_3 + 1) = *(short *)(param_3 + 1) + 8;
      iVar5 = iVar5 / 10;
    } while (iVar6 < param_2);
  }
  return;
}



void FUN_WLDCORE__8006bf9c(int param_1)

{
  int iVar1;
  uint local_40;
  int local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  int local_28;
  int local_24;
  undefined local_20;
  undefined local_1f;
  undefined local_1e;
  undefined local_18;
  undefined local_17;
  undefined local_16;
  
  if ((DAT_8004d950 & 0x1000) == 0) {
    local_40 = 1;
    local_38 = 4;
    local_2c = 0;
    local_30 = 0;
    local_34 = 0;
    local_28 = DAT_WLDCORE__800bb38c;
    local_24 = DAT_WLDCORE__800bb390;
    FUN_WLDCORE__80069718((undefined4 *)&DAT_WLDCORE__8009f2ac,(undefined4 *)&local_18);
    local_20 = local_18;
    local_1f = local_17;
    local_1e = local_16;
    local_3c = FUN_WORLD__800ef1a8(0x2e);
    iVar1 = FUN_WORLD__800ef1a8(0x2f);
    local_3c = local_3c + 0x1f;
    FUN_WLDCORE__8006aed0(&local_40,param_1);
    local_28 = local_28 + 0x1a;
    local_24 = local_24 + -4;
    if (9 < iVar1) {
      local_30 = 0;
      local_34 = 0;
      local_3c = iVar1 / 10 + 0x2c;
      FUN_WLDCORE__8006aed0(&local_40,param_1);
      local_28 = local_28 + 8;
    }
    local_3c = iVar1 % 10 + 0x2c;
    FUN_WLDCORE__8006aed0(&local_40,param_1);
  }
  return;
}



void FUN_WLDCORE__8006c108(int param_1)

{
  uint local_38;
  int local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined local_18;
  undefined local_17;
  undefined local_16;
  undefined local_10;
  undefined local_f;
  undefined local_e;
  
  if ((DAT_8004d950 & 0x2000) == 0) {
    if (DAT_WLDCORE__800d0bb4 != 0) {
      local_38 = 1;
      local_20 = (&DAT_WLDCORE__800d3cd0)[(DAT_WLDCORE__800d0bb4 + -1) * 0xd];
      local_1c = (&DAT_WLDCORE__800d3cd4)[(DAT_WLDCORE__800d0bb4 + -1) * 0xd];
      local_30 = 4;
      local_24 = 0;
      local_28 = 0;
      local_2c = 0;
      local_10 = (undefined)DAT_WLDCORE__8009eef4;
      local_f = local_10;
      local_e = local_10;
      FUN_WLDCORE__80069718((undefined4 *)&local_10,(undefined4 *)&local_10);
      local_34 = DAT_WLDCORE__800d0bb4 + 0x36;
      local_18 = local_10;
      local_17 = local_f;
      local_16 = local_e;
      FUN_WLDCORE__8006aed0(&local_38,param_1);
    }
  }
  return;
}



void FUN_WLDCORE__8006c1fc(void)

{
  int iVar1;
  
  FUN_WORLD__8010647c();
  FUN_WORLD__80108920();
  iVar1 = FUN_WORLD__800ef1a8(0x54);
  if (iVar1 != 0) {
    FUN_WLDCORE__8009de1c(iVar1);
    FUN_WORLD__800ef25c(0x54,0);
  }
  return;
}



void FUN_WLDCORE__8006c248(int param_1)

{
  if ((DAT_8004d950 & 0x80) == 0) {
    FUN_WORLD__80108a08(*(int *)(param_1 + 4) + 0x3c);
    FUN_WORLD__80107e00(~DAT_WLDCORE__800bb3c0);
    if ((DAT_8004d950 & 0x20000) == 0) {
      FUN_WORLD__80107e10(*(int *)(param_1 + 4) + DAT_WLDCORE__800bb3ec * 4,DAT_WLDCORE__8009f2e8);
    }
    else {
      DAT_801cd814 = *(int *)(param_1 + 4) + DAT_WLDCORE__800bb3ec * 4;
      FUN_WORLD__800e28ac();
      FUN_WORLD__801128e0(*(int *)(param_1 + 4) + DAT_WLDCORE__800bb3ec * 4 + 8,
                          DAT_WLDCORE__8009f2e8,(short)DAT_8004e5bc * 0xf0);
      if (DAT_80153298 != 0xffffffff) {
        FUN_WLDCORE__80090d30(DAT_80153298);
      }
    }
  }
  return;
}



void FUN_WLDCORE__8006c350(void)

{
  DAT_WLDCORE__800bb4f0 = 0;
  FUN_WLDCORE__8006c52c();
  *(undefined4 *)(&DAT_WLDCORE__800bb51c + DAT_WLDCORE__800bb98c * 0x24) = DAT_WLDCORE__8009f27c;
  *(int *)(&DAT_WLDCORE__800bb520 + DAT_WLDCORE__800bb98c * 0x24) = DAT_WLDCORE__8009f280 + -4;
  return;
}



void FUN_WLDCORE__8006c3dc(void)

{
  (*(code *)(&PTR_DAT_WLDCORE__8006c9fc_WLDCORE__8009e690)
            [(&DAT_WLDCORE__800d4580)[DAT_WLDCORE__800bb4f0]])
            (DAT_WLDCORE__800bb4f0 * 0x5c + -0x7ff446d0);
  return;
}



void FUN_WLDCORE__8006c4bc(void)

{
  (*(code *)(&PTR_FUN_WLDCORE__8006c844_WLDCORE__8009e858)
            [(&DAT_WLDCORE__800d4580)[DAT_WLDCORE__800bb4f0]])
            (DAT_WLDCORE__800bb4f0 * 0x5c + -0x7ff446d0);
  return;
}



void FUN_WLDCORE__8006c52c(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] = iVar1;
  iVar2 = iVar1 * 0x24;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar2) = 0;
  (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 0xc;
  *(undefined4 *)(&DAT_WLDCORE__800bb51c + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb520 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  DAT_WLDCORE__800d0984 = 1;
  *(int *)(&DAT_WLDCORE__800bb990 + DAT_WLDCORE__800bb4f0 * 0x5c) = iVar1;
  iVar2 = iVar1 * 0x24;
  uVar4 = (&DAT_WLDCORE__800bb504)[iVar1 * 9];
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar2) = 0xd;
  (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 0xc;
  (&DAT_WLDCORE__800bb504)[iVar1 * 9] = uVar4 | 0x10;
  *(undefined4 *)(&DAT_WLDCORE__800bb51c + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb520 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
  DAT_WLDCORE__8009f188 = 0x400;
  DAT_WLDCORE__8009ef70 = 0x400;
  DAT_WLDCORE__8009f184 = 0;
  DAT_WLDCORE__8009ef6c = 0;
  DAT_WLDCORE__8009f194 = 0;
  DAT_WLDCORE__8009ef7c = 0;
  DAT_WLDCORE__8009f190 = 0x80;
  DAT_WLDCORE__8009ef78 = 0x80;
  DAT_WLDCORE__8009f18c = 0x80;
  DAT_WLDCORE__8009ef74 = 0x80;
  DAT_WLDCORE__800d09ac = FUN_WORLD__800ef1a8(0x2c);
  iVar2 = DAT_WLDCORE__800bb4f0 * 0x5c;
  *(undefined4 *)(&DAT_WLDCORE__800bb994 + iVar2) = 0;
  iVar1 = DAT_WLDCORE__8009f254;
  iVar3 = DAT_WLDCORE__800bb4f0 * 4;
  *(undefined4 *)(&DAT_WLDCORE__800bb99c + iVar2) = 0;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  *(int *)(&DAT_WLDCORE__800bb998 + iVar2) = iVar1 + 1;
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + iVar3) = 0;
  return;
}



void FUN_WLDCORE__8006c844(int *param_1)

{
  *(undefined4 *)(&DAT_WLDCORE__800bb518 + *param_1 * 0x24) = 10;
  DAT_WLDCORE__8009f184 = 0;
  DAT_WLDCORE__8009ef6c = 0;
  DAT_WLDCORE__8009f194 = 0;
  DAT_WLDCORE__8009ef7c = 0;
  return;
}



void FUN_WLDCORE__8006c894(void)

{
  int iVar1;
  uint uVar2;
  
  iVar1 = FUN_WLDCORE__80091238(DAT_WLDCORE__8009f254,0xf80);
  if (iVar1 != 0) {
    if ((DAT_WLDCORE__800d4644 & 0x180) == 0) {
      if ((DAT_WLDCORE__800d4644 & 0xc00) == 0) {
        if ((DAT_WLDCORE__800d4644 & 0x200) != 0) {
          FUN_WLDCORE__8006c844((int *)(DAT_WLDCORE__800bb4f0 * 0x5c + -0x7ff446d0));
          uVar2 = DAT_WLDCORE__800d4664;
          if (DAT_WLDCORE__800d4664 == 0xff) {
            uVar2 = DAT_WLDCORE__8009f254;
          }
          FUN_WLDCORE__8006d7f4(uVar2);
        }
      }
      else {
        FUN_WLDCORE__8006c844((int *)(DAT_WLDCORE__800bb4f0 * 0x5c + -0x7ff446d0));
        FUN_WLDCORE__8006de50(DAT_WLDCORE__800d4664,(uint)((DAT_WLDCORE__800d4644 & 0x800) != 0));
      }
    }
    else {
      FUN_WLDCORE__8006c844((int *)(DAT_WLDCORE__800bb4f0 * 0x5c + -0x7ff446d0));
      FUN_WLDCORE__8006da88
                (DAT_WLDCORE__800d4664,DAT_WLDCORE__800d4668,
                 (uint)((DAT_WLDCORE__800d4644 & 0x100) != 0));
    }
  }
  return;
}



void FUN_WLDCORE__8006d7f4(int param_1)

{
  (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] = param_1;
  FUN_WLDCORE__8008ec38
            (&DAT_WLDCORE__800d3cd0 + param_1 * 0xd,&DAT_WLDCORE__800d3cb0 + param_1 * 0x1a);
  if ((DAT_WLDCORE__800d0af8 & 1) != 0) {
    DAT_8004d950 = DAT_8004d950 | 0x2000;
    (&DAT_WLDCORE__800bb504)[(&DAT_WLDCORE__800bb98c)[(DAT_WLDCORE__800bb4f0 + -1) * 0x17] * 9] =
         (&DAT_WLDCORE__800bb504)[(&DAT_WLDCORE__800bb98c)[(DAT_WLDCORE__800bb4f0 + -1) * 0x17] * 9]
         | 0x10;
  }
                    // Possible PsyQ macro: setPolyG3() + setSemiTrans(polyG3, 1)
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + DAT_WLDCORE__800bb4f0 * 4) = 0x32;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  return;
}



void FUN_WLDCORE__8006da88(uint param_1,uint param_2,undefined4 param_3)

{
  int iVar1;
  
  FUN_WLDCORE__8008d9a0(param_1,param_2);
  iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
  DAT_8004d950 = DAT_8004d950 | 0x2000;
  (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] = param_1;
  *(uint *)(&DAT_WLDCORE__800bb990 + iVar1) = param_2;
  *(undefined4 *)(&DAT_WLDCORE__800bb994 + iVar1) = param_3;
  *(undefined4 *)(&DAT_WLDCORE__800bb998 + iVar1) = 1;
  iVar1 = (&DAT_WLDCORE__800bb98c)[(DAT_WLDCORE__800bb4f0 + -1) * 0x17];
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + DAT_WLDCORE__800bb4f0 * 4) = 0x35;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  (&DAT_WLDCORE__800bb504)[iVar1 * 9] = (&DAT_WLDCORE__800bb504)[iVar1 * 9] | 0x10;
  return;
}



void FUN_WLDCORE__8006de50(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  
  iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
  *(undefined4 *)(&DAT_WLDCORE__800bb994 + iVar1) = 0x10;
  (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] = param_1;
  *(undefined4 *)(&DAT_WLDCORE__800bb998 + iVar1) = 1;
  *(undefined4 *)(&DAT_WLDCORE__800bb990 + iVar1) = param_2;
  DAT_8004d950 = DAT_8004d950 | 0x2000;
  iVar1 = (&DAT_WLDCORE__800bb98c)[(DAT_WLDCORE__800bb4f0 + -1) * 0x17];
                    // Possible PsyQ macro: setPolyGT3() + setSemiTrans(polyGT3, 1)
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + DAT_WLDCORE__800bb4f0 * 4) = 0x36;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  (&DAT_WLDCORE__800bb504)[iVar1 * 9] = (&DAT_WLDCORE__800bb504)[iVar1 * 9] | 0x10;
  return;
}



void FUN_WLDCORE__8006faf0(int param_1)

{
  int iVar1;
  int iVar2;
  byte *pbVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  undefined2 *puVar6;
  undefined2 *puVar7;
  int iVar8;
  int iVar9;
  GsIMAGE GStack_98;
  uint local_78;
  undefined4 local_74;
  int local_70;
  int local_6c;
  int local_68;
  int local_64;
  short local_60;
  undefined2 auStack_5e [31];
  
  DAT_WLDCORE__8009f258 = FUN_WLDCORE__80068a68(DAT_WLDCORE__8009f254);
  FUN_WLDCORE__800686c8();
  iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
  DAT_8004d950 = DAT_8004d950 | 0x2000;
  *(undefined4 *)(&DAT_WLDCORE__800bb99c + iVar1) = 0xffffffff;
  *(undefined4 *)(&DAT_WLDCORE__800bb998 + iVar1) = 0xffffffff;
  *(undefined4 *)(&DAT_WLDCORE__800bb994 + iVar1) = 0xffffffff;
  *(undefined4 *)(&DAT_WLDCORE__800bb990 + iVar1) = 0xffffffff;
  *(undefined4 *)(&DAT_WLDCORE__800bb9a4 + iVar1) = 0;
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  *(int *)(&DAT_WLDCORE__800bb990 + DAT_WLDCORE__800bb4f0 * 0x5c) = iVar1;
  iVar2 = iVar1 * 0x24;
  *(int *)(&DAT_WLDCORE__800bb508 + iVar2) = param_1 + 0x37;
  (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 0xb;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
  (&DAT_WLDCORE__800bb524)[iVar2] = 0;
  (&DAT_WLDCORE__800bb525)[iVar2] = 0;
  (&DAT_WLDCORE__800bb526)[iVar2] = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb9a4 + DAT_WLDCORE__800bb4f0 * 0x5c) = 8;
  if (DAT_WLDCORE__8009f258 != 0) {
    GsGetTimInfo((ulong *)(PTR_DAT_WLDCORE__800944b4_WLDCORE__80092b34 + 4),&GStack_98);
    LoadTPage(GStack_98.pixel,0,0,(int)GStack_98.px,(int)GStack_98.py,(uint)GStack_98.pw << 2,
              (uint)GStack_98.ph);
    LoadClut(GStack_98.clut,(int)GStack_98.cx,(int)GStack_98.cy);
    GsGetTimInfo((ulong *)(DAT_WLDCORE__800bb988 + 4),&GStack_98);
    LoadTPage(GStack_98.pixel,0,0,(int)GStack_98.px,(int)GStack_98.py,(uint)GStack_98.pw << 2,
              (uint)GStack_98.ph);
    LoadClut(GStack_98.clut,(int)GStack_98.cx,(int)GStack_98.cy);
    iVar1 = FUN_WLDCORE__8006b548((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
    *(int *)(&DAT_WLDCORE__800bb994 + DAT_WLDCORE__800bb4f0 * 0x5c) = iVar1;
    local_70 = (int)GStack_98.cx;
    local_6c = (int)GStack_98.cy;
    local_78 = CONCAT22(GStack_98.py,GStack_98.px);
    local_74 = CONCAT22(GStack_98.ph,GStack_98.pw);
    FUN_WLDCORE__8008f9bc(iVar1,local_78,local_74,local_70,local_6c,4);
    (&DAT_WLDCORE__800bbc78)[iVar1 * 0xd] = 0xb;
    *(undefined4 *)(&DAT_WLDCORE__800bbc88 + iVar1 * 0x34) = 0xffffffc0;
    *(undefined4 *)(&DAT_WLDCORE__800bbc8c + iVar1 * 0x34) = 0xffffffb4;
    (&DAT_WLDCORE__800bbc70)[iVar1 * 0xd] = (&DAT_WLDCORE__800bbc70)[iVar1 * 0xd] | 0x100;
    iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
    *(int *)(&DAT_WLDCORE__800bb998 + DAT_WLDCORE__800bb4f0 * 0x5c) = iVar1;
    iVar2 = iVar1 * 0x24;
    *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar2) = 0xb;
    (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 0xb;
    *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
    *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
    *(undefined4 *)(&DAT_WLDCORE__800bb51c + iVar2) = 0xfffffff8;
    *(undefined4 *)(&DAT_WLDCORE__800bb520 + iVar2) = 0x10;
    (&DAT_WLDCORE__800bb524)[iVar2] = 0;
    (&DAT_WLDCORE__800bb525)[iVar2] = 0;
    (&DAT_WLDCORE__800bb526)[iVar2] = 0;
  }
  iVar2 = 0;
  iVar9 = *(int *)(&DAT_WLDCORE__800bb9bc + DAT_WLDCORE__800bb4f0 * 0x5c);
  iVar8 = 0;
  if (0 < iVar9) {
    do {
      pbVar3 = (byte *)WORLD_LoadTextPrep(*(uint *)(&DAT_WLDCORE__800bb9c0 +
                                                   iVar8 * 4 + DAT_WLDCORE__800bb4f0 * 0x5c));
      FUN_WORLD__800e4668(&local_60,auStack_5e,pbVar3);
      if ((int)(short)iVar2 < (int)local_60) {
        iVar2 = (int)local_60;
      }
      iVar8 = iVar8 + 1;
    } while (iVar8 < iVar9);
  }
  iVar8 = 0;
  if (0 < iVar9) {
    puVar7 = &DAT_WLDCORE__800bb3f0;
    puVar6 = &DAT_WLDCORE__800d0880;
    puVar5 = (undefined4 *)(&DAT_WLDCORE__800bb9c0 + DAT_WLDCORE__800bb4f0 * 0x5c);
    do {
      uVar4 = *puVar5;
      puVar5 = puVar5 + 1;
      iVar8 = iVar8 + 1;
      *puVar6 = (short)uVar4;
      *puVar7 = 0;
      puVar7 = puVar7 + 1;
      puVar6 = puVar6 + 1;
    } while (iVar8 < iVar9);
  }
  local_64 = 4;
  if (iVar9 < 4) {
    local_64 = iVar9;
  }
  local_68 = (iVar2 + 8) * 0x10000 >> 0x10;
  local_70 = 0x80 - ((int)(local_68 + 0x18U & 0xfffc) >> 1);
  if (DAT_WLDCORE__8009f258 == 0) {
    local_6c = local_64 * -8 + 0x70;
  }
  else {
    local_6c = 0x80;
  }
  FUN_WLDCORE__8008fcc8(0,iVar9,local_64);
  FUN_WLDCORE__8008fb28
            (0xc,(short)*(undefined4 *)(&DAT_WLDCORE__800bb9bc + DAT_WLDCORE__800bb4f0 * 0x5c),
             &local_68,&local_70);
  DAT_WLDCORE__800bb31c = 0x240;
  DAT_WLDCORE__800bb348 = 0;
  DAT_WLDCORE__800bb31e = 0x100;
  if (DAT_WLDCORE__8009f258 == 0) {
    iVar2 = DAT_WLDCORE__800bb4f0 * 0x5c;
    *(undefined4 *)(&DAT_WLDCORE__800bb51c + *(int *)(&DAT_WLDCORE__800bb990 + iVar2) * 0x24) =
         0xfffffffc;
    *(int *)(&DAT_WLDCORE__800bb520 + *(int *)(&DAT_WLDCORE__800bb990 + iVar2) * 0x24) =
         *(int *)(&DAT_WLDCORE__800bbc8c + iVar1 * 0x34) + -8;
  }
  else {
    iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
    *(undefined4 *)(&DAT_WLDCORE__800bb51c + *(int *)(&DAT_WLDCORE__800bb990 + iVar1) * 0x24) =
         0xfffffffc;
    *(undefined4 *)(&DAT_WLDCORE__800bb520 + *(int *)(&DAT_WLDCORE__800bb990 + iVar1) * 0x24) = 0;
  }
  DAT_WLDCORE__800bb3c0 = 0x160;
  *(undefined4 *)(&DAT_WLDCORE__800bb9a0 + DAT_WLDCORE__800bb4f0 * 0x5c) = 8;
  DAT_8004d950 = DAT_8004d950 | 0x8000000;
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + DAT_WLDCORE__800bb4f0 * 4) = 4;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  return;
}



void FUN_WLDCORE__80070be4(uint param_1)

{
  byte *pbVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  short local_20;
  short local_1e [11];
  
  pbVar1 = (byte *)WORLD_LoadTextPrep(param_1);
  FUN_WORLD__800e4668(&local_20,local_1e,pbVar1);
  if (4 < local_1e[0]) {
    local_1e[0] = 4;
  }
  iVar2 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] = iVar2;
  iVar4 = iVar2 * 0x24;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar4) = 0xc;
  uVar3 = (&DAT_WLDCORE__800bb504)[iVar2 * 9];
  (&DAT_WLDCORE__800bb50c)[iVar2 * 9] = 3;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar4) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar4) = 0;
  (&DAT_WLDCORE__800bb504)[iVar2 * 9] = uVar3 | 0x10;
  DAT_WLDCORE__8009eef8 = 0;
  DAT_WLDCORE__8009ef08 = (int)local_20;
  DAT_WLDCORE__8009ef0c = (int)local_1e[0];
  DAT_WLDCORE__8009eefc = 0x60;
  DAT_WLDCORE__8009ef44 = 3;
  DAT_WLDCORE__8009ef54 = 0;
  DAT_WLDCORE__8009ef00 = -((int)(DAT_WLDCORE__8009ef08 + 0x18U & 0xfffc) >> 1);
  DAT_WLDCORE__8009ef04 = -(DAT_WLDCORE__8009ef0c * 8 + 8);
  DAT_WLDCORE__8009ef5c = 0xffffffff;
  DAT_WLDCORE__8009ef64 = 0xffffffff;
  DAT_WLDCORE__8009ef60 = 0xffffffff;
  DAT_WLDCORE__8009ef2c = param_1;
  FUN_WLDCORE__8008ffe0(&DAT_WLDCORE__8009eef8);
  iVar4 = DAT_WLDCORE__800bb4f0 * 0x5c;
  iVar2 = (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17];
  (&DAT_WLDCORE__800bbc70)[DAT_WLDCORE__8009ef3c * 0xd] =
       (&DAT_WLDCORE__800bbc70)[DAT_WLDCORE__8009ef3c * 0xd] | 0x10;
  *(int *)(&DAT_WLDCORE__800bb51c + iVar2 * 0x24) = DAT_WLDCORE__8009ef00 + 3;
  *(int *)(&DAT_WLDCORE__800bb520 + (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] * 0x24) =
       DAT_WLDCORE__8009ef04 + -2;
  iVar2 = DAT_WLDCORE__800bb4f0 + -1;
  DAT_8004d950 = DAT_8004d950 | 0x8002000;
  iVar5 = DAT_WLDCORE__800bb4f0 * 4;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  (&DAT_WLDCORE__800bb504)[(&DAT_WLDCORE__800bb98c)[iVar2 * 0x17] * 9] =
       (&DAT_WLDCORE__800bb504)[(&DAT_WLDCORE__800bb98c)[iVar2 * 0x17] * 9] | 0x10;
  *(undefined4 *)(&DAT_WLDCORE__800bb9ac + iVar4) = 0x28;
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + iVar5) = 0x33;
  return;
}



void FUN_WLDCORE__80074b30(void)

{
  byte bVar1;
  byte bVar2;
  byte *pbVar3;
  char *pcVar4;
  int iVar5;
  int iVar6;
  byte *pbVar7;
  
  iVar5 = 0;
  if (DAT_80057ce8 != 0) {
    pbVar3 = &DAT_80057eec;
    pcVar4 = &DAT_80057eee;
    iVar6 = 0;
    pbVar7 = pbVar3;
    do {
      if (((*pbVar3 & 4) == 0) &&
         ((pbVar7[2] = *pcVar4 + 1, (&DAT_80057eef)[iVar6] == *pcVar4 || ((*pbVar3 & 2) != 0)))) {
        *pbVar3 = *pbVar3 | 4;
      }
      pbVar3 = pbVar3 + 9;
      pcVar4 = pcVar4 + 9;
      pbVar7 = pbVar7 + 9;
      iVar5 = iVar5 + 1;
      iVar6 = iVar6 + 9;
    } while (iVar5 < (int)(uint)DAT_80057ce8);
  }
  pbVar7 = &DAT_80057d24;
  do {
    bVar1 = *pbVar7;
    if ((bVar1 & 0x3f) != 0) {
      bVar2 = (bVar1 & 0x3f) - 1;
      if (0x20 < (bVar1 & 0x3f)) {
        bVar2 = 0x1f;
      }
      *pbVar7 = bVar1 & 0xc0 | bVar2;
    }
    pbVar7 = pbVar7 + 1;
  } while ((int)pbVar7 < -0x7ffa827c);
  return;
}



void FUN_WLDCORE__8008047c(int param_1)

{
  int iVar1;
  int iVar2;
  RECT local_18;
  
  FUN_WLDCORE__80068d40();
  if (param_1 == 2) {
    DAT_8004d950 = DAT_8004d950 | 0x8000000;
    FUN_WLDCORE__80069400(2,0x20);
  }
  else {
    local_18.w = 0x80;
    local_18.x = 0x100;
    local_18.y = 0;
    local_18.h = 0x100;
    DAT_8004d950 = DAT_8004d950 | 0x3a32;
    DAT_WLDCORE__8009f264 = DAT_WLDCORE__8009f264 | 0x10;
    MoveImage(&local_18,0x200,0x100);
    DrawSync(0);
    local_18.x = 0x100;
    local_18.w = 0x100;
    local_18.y = 0;
    local_18.h = 0xf0;
    ClearImage(&local_18,'\0','\0','\0');
    DAT_WLDCORE__8009f288 = 0x42000000;
    DAT_WLDCORE__8009f28c = 0x20;
    DAT_WLDCORE__8009f28e = 0x20;
    DAT_WLDCORE__8009f294 = GetTPage(2,0,0x100,0);
    DAT_WLDCORE__8009f290 = 0xff;
    DAT_WLDCORE__8009f2a0 = 0xa0;
    DAT_WLDCORE__8009f2a2 = 0x98;
    DAT_WLDCORE__8009f2a6 = 0x1000;
    DAT_WLDCORE__8009f2a4 = 0x1000;
    DAT_WLDCORE__8009f29a = 0;
    DAT_WLDCORE__8009f298 = 0;
    DAT_WLDCORE__8009f297 = 0;
    DAT_WLDCORE__8009f296 = 0;
    DAT_WLDCORE__8009f292 = 0xf0;
    DAT_WLDCORE__8009f2a8 = 0;
    DAT_WLDCORE__8009f29c = 0x80;
    DAT_WLDCORE__8009f29d = 0x80;
    DAT_WLDCORE__8009f29e = 0x80;
    FUN_WLDCORE__80090d50(2,0x10);
    iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
    (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] = 0;
    *(undefined4 *)(&DAT_WLDCORE__800bb9a0 + iVar1) = 0;
    iVar1 = rand();
    *(int *)(&DAT_WLDCORE__800bb990 + DAT_WLDCORE__800bb4f0 * 0x5c) = (iVar1 << 2) >> 0xf;
    iVar1 = rand();
    iVar2 = DAT_WLDCORE__800bb4f0 * 0x5c;
    *(int *)(&DAT_WLDCORE__800bb994 + iVar2) = (iVar1 << 1) >> 0xf;
    *(undefined4 *)(&DAT_WLDCORE__800bb998 + iVar2) = 0;
    *(undefined4 *)(&DAT_WLDCORE__800bb99c + iVar2) = 0;
  }
  *(int *)(&DAT_WLDCORE__800bb9ac + DAT_WLDCORE__800bb4f0 * 0x5c) = param_1;
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + DAT_WLDCORE__800bb4f0 * 4) = 0x23;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  return;
}



void FUN_WLDCORE__80080758(int param_1)

{
  if (((&DAT_WLDCORE__800d4580)[DAT_WLDCORE__800bb4f0] == 0x23) &&
     (*(int *)(&DAT_WLDCORE__800bb9ac + (DAT_WLDCORE__800bb4f0 + -1) * 0x5c) != 2)) {
    GsSortSprite((GsSPRITE *)&DAT_WLDCORE__8009f288,(GsOT *)param_1,2);
  }
  return;
}



void FUN_WLDCORE__80080e54(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 local_6c;
  
  DAT_8004d950 = DAT_8004d950 & 0xfffff7ff;
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] = iVar1;
  iVar2 = iVar1 * 0x24;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar2) = 2;
  (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 10;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  *(int *)(&DAT_WLDCORE__800bb9ac + DAT_WLDCORE__800bb4f0 * 0x5c) = iVar1;
  iVar2 = iVar1 * 0x24;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar2) = 0x79;
  (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 10;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  *(int *)(&DAT_WLDCORE__800bb9b0 + DAT_WLDCORE__800bb4f0 * 0x5c) = iVar1;
  iVar2 = iVar1 * 0x24;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar2) = 0x79;
  (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 10;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  *(int *)(&DAT_WLDCORE__800bb990 + DAT_WLDCORE__800bb4f0 * 0x5c) = iVar1;
  iVar2 = iVar1 * 0x24;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar2) = 4;
  (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 10;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
  iVar4 = 0;
  FUN_WLDCORE__80081744();
  iVar2 = FUN_WLDCORE__8006b548((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
  *(int *)(&DAT_WLDCORE__800bb994 + iVar1) = iVar2;
  local_6c = CONCAT22((short)*(undefined4 *)(&DAT_WLDCORE__800bb9bc + iVar1) * 0x10 + 0x10,0x5c);
  FUN_WLDCORE__8008f514(iVar2,0,local_6c,0,(int)&DAT_WLDCORE__800c87d8);
  iVar1 = DAT_WLDCORE__800bb4f0;
  (&DAT_WLDCORE__800bbc78)[iVar2 * 0xd] = 10;
  (&DAT_WLDCORE__800bbc70)[iVar2 * 0xd] = (&DAT_WLDCORE__800bbc70)[iVar2 * 0xd] | 0x100;
  *(undefined4 *)(&DAT_WLDCORE__800bbc88 + iVar2 * 0x34) = 0xffffff88;
  *(undefined4 *)(&DAT_WLDCORE__800bbc8c + iVar2 * 0x34) = 0xffffffd8;
  if (0 < *(int *)(&DAT_WLDCORE__800bb9bc + iVar1 * 0x5c)) {
    do {
      FUN_WLDCORE__8008f828();
      iVar4 = iVar4 + 1;
    } while (iVar4 < *(int *)(&DAT_WLDCORE__800bb9bc + DAT_WLDCORE__800bb4f0 * 0x5c));
  }
  FUN_WLDCORE__8008f72c(iVar2,&DAT_WLDCORE__800c87d8);
  iVar1 = FUN_WLDCORE__8006b548((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  *(int *)(&DAT_WLDCORE__800bb998 + DAT_WLDCORE__800bb4f0 * 0x5c) = iVar1;
  DAT_801531d8 = FUN_WORLD__800ef1a8(0x61);
  if (9999 < DAT_801531d8) {
    DAT_801531d8 = 9999;
  }
  DAT_801531dc = FUN_WORLD__800ef1a8(0x62);
  if (9999 < DAT_801531dc) {
    DAT_801531dc = 9999;
  }
  FUN_WLDCORE__8008f8e0(iVar1,0x400080,0x30005c,0,0xb846,(int)&DAT_WLDCORE__800c87d8);
  (&DAT_WLDCORE__800bbc78)[iVar1 * 0xd] = 10;
  *(undefined4 *)(&DAT_WLDCORE__800bbc88 + iVar1 * 0x34) = 0x1c;
  *(undefined4 *)(&DAT_WLDCORE__800bbc8c + iVar1 * 0x34) = 0xffffffd8;
  DAT_WLDCORE__800d0984 = 2;
  iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
  DAT_WLDCORE__800d09ac = DAT_800459c4;
  DAT_WLDCORE__800d09b0 = DAT_800459c0;
  DAT_WLDCORE__800d09b4 = DAT_800459bc;
  if (*(int *)(&DAT_WLDCORE__800bb9bc + iVar1) < DAT_WLDCORE__800d0820 + 1) {
    DAT_WLDCORE__800d0820 = 0;
  }
  iVar2 = DAT_WLDCORE__800d0820;
  iVar4 = (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17];
  *(undefined4 *)(&DAT_WLDCORE__800bb9a4 + iVar1) = 0;
  *(int *)(&DAT_WLDCORE__800bb9a8 + iVar1) = iVar2;
  iVar3 = *(int *)(&DAT_WLDCORE__800bb994 + iVar1) * 0x34;
  *(int *)(&DAT_WLDCORE__800bb51c + iVar4 * 0x24) = *(int *)(&DAT_WLDCORE__800bbc88 + iVar3) + 6;
  *(int *)(&DAT_WLDCORE__800bb520 + (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] * 0x24) =
       *(int *)(&DAT_WLDCORE__800bbc8c + iVar3) + DAT_WLDCORE__800d0820 * 0x10 + 0xe;
  *(int *)(&DAT_WLDCORE__800bb51c + *(int *)(&DAT_WLDCORE__800bb990 + iVar1) * 0x24) =
       *(int *)(&DAT_WLDCORE__800bbc88 + iVar3) + 3;
  *(int *)(&DAT_WLDCORE__800bb520 + *(int *)(&DAT_WLDCORE__800bb990 + iVar1) * 0x24) =
       *(int *)(&DAT_WLDCORE__800bbc8c + iVar3) + -2;
  *(int *)(&DAT_WLDCORE__800bb51c + *(int *)(&DAT_WLDCORE__800bb9ac + iVar1) * 0x24) =
       *(int *)(&DAT_WLDCORE__800bbc88 + iVar3) + 0x4c;
  *(int *)(&DAT_WLDCORE__800bb520 + *(int *)(&DAT_WLDCORE__800bb9ac + iVar1) * 0x24) =
       *(int *)(&DAT_WLDCORE__800bb520 + *(int *)(&DAT_WLDCORE__800bb9ac + iVar1) * 0x24) +
       *(int *)(&DAT_WLDCORE__800bbc8c + iVar3);
  *(int *)(&DAT_WLDCORE__800bb51c + *(int *)(&DAT_WLDCORE__800bb9b0 + iVar1) * 0x24) =
       *(int *)(&DAT_WLDCORE__800bbc88 + iVar3) + 0x30;
  iVar2 = DAT_WLDCORE__800bb4f0 * 4;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  *(int *)(&DAT_WLDCORE__800bb520 + *(int *)(&DAT_WLDCORE__800bb9b0 + iVar1) * 0x24) =
       *(int *)(&DAT_WLDCORE__800bb520 + *(int *)(&DAT_WLDCORE__800bb9b0 + iVar1) * 0x24) +
       *(int *)(&DAT_WLDCORE__800bbc8c + iVar3);
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + iVar2) = 0x1c;
  return;
}



void FUN_WLDCORE__80081744(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  
  *(undefined4 *)(&DAT_WLDCORE__800bb9bc + DAT_WLDCORE__800bb4f0 * 0x5c) = 0;
  iVar1 = FUN_WORLD__800ef1a8(0x92);
  iVar4 = 0;
  if (iVar1 != 0) {
    iVar1 = 0;
    do {
      iVar2 = FUN_WORLD__800ef1a8(iVar1 + 0x1a4);
      if (iVar2 != 0) {
        iVar4 = iVar4 + 1;
      }
      iVar1 = iVar1 + 1;
    } while (iVar1 < 0x18);
    if (iVar4 != 0) {
      iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
      *(undefined4 *)(&DAT_WLDCORE__800bb9c0 + iVar1) = 0;
      *(undefined4 *)(&DAT_WLDCORE__800bb9bc + iVar1) = 1;
    }
  }
  iVar4 = 0;
  iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
  *(undefined4 *)(&DAT_WLDCORE__800bb9c0 + *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) * 4 + iVar1) = 1
  ;
  *(undefined4 *)(&DAT_WLDCORE__800bb9c4 + iVar1 + *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) * 4) = 2
  ;
  uVar5 = (uint)DAT_80057ce8;
  *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) = *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) + 2;
  do {
    uVar3 = FUN_WORLD__800ef1a8(iVar4 + 0x360);
    if ((uVar3 & 4) != 0) {
      uVar5 = uVar5 + 1;
    }
    iVar4 = iVar4 + 1;
  } while (iVar4 < 0x60);
  if (uVar5 != 0) {
    iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
    *(undefined4 *)(&DAT_WLDCORE__800bb9c0 + *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) * 4 + iVar1) =
         3;
    *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) = *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) + 1;
  }
  iVar4 = 0;
  iVar1 = 0;
  (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9ac + DAT_WLDCORE__800bb4f0 * 0x5c) * 9] =
       (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9ac + DAT_WLDCORE__800bb4f0 * 0x5c) * 9]
       | 8;
  do {
    iVar2 = FUN_WORLD__800ef1a8(iVar1 + 0x350);
    if (iVar2 != 0) {
      iVar4 = iVar4 + 1;
    }
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0x10);
  if (iVar4 != 0) {
    iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
    *(int *)(&DAT_WLDCORE__800bb520 + *(int *)(&DAT_WLDCORE__800bb9ac + iVar1) * 0x24) =
         *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) * 0x10 + 0xe;
    if (0xf < iVar4) {
      (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9ac + iVar1) * 9] =
           (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9ac + iVar1) * 9] & 0xfffffff7;
    }
    iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
    *(undefined4 *)(&DAT_WLDCORE__800bb9c0 + *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) * 4 + iVar1) =
         4;
    *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) = *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) + 1;
  }
  iVar4 = 0;
  iVar1 = 0;
  (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9b0 + DAT_WLDCORE__800bb4f0 * 0x5c) * 9] =
       (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9b0 + DAT_WLDCORE__800bb4f0 * 0x5c) * 9]
       | 8;
  do {
    iVar2 = FUN_WORLD__800ef1a8(iVar1 + 0x321);
    if (iVar2 != 0) {
      iVar4 = iVar4 + 1;
    }
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0x2f);
  iVar1 = 0;
  if (iVar4 != 0) {
    iVar4 = 0;
    *(int *)(&DAT_WLDCORE__800bb520 +
            *(int *)(&DAT_WLDCORE__800bb9b0 + DAT_WLDCORE__800bb4f0 * 0x5c) * 0x24) =
         *(int *)(&DAT_WLDCORE__800bb9bc + DAT_WLDCORE__800bb4f0 * 0x5c) * 0x10 + 0xe;
    do {
      iVar2 = FUN_WORLD__800ef1a8(iVar4 + 0x321);
      if (iVar2 != 0) {
        iVar1 = iVar1 + 1;
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < 0x1f);
    if (0x1e < iVar1) {
      (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9b0 + DAT_WLDCORE__800bb4f0 * 0x5c) * 9]
           = (&DAT_WLDCORE__800bb504)
             [*(int *)(&DAT_WLDCORE__800bb9b0 + DAT_WLDCORE__800bb4f0 * 0x5c) * 9] & 0xfffffff7;
    }
    iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
    *(undefined4 *)(&DAT_WLDCORE__800bb9c0 + *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) * 4 + iVar1) =
         5;
    *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) = *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) + 1;
  }
  iVar1 = DAT_WLDCORE__800bb4f0 * 0x5c;
  *(undefined4 *)(&DAT_WLDCORE__800bb9c0 + *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) * 4 + iVar1) = 6
  ;
  *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) = *(int *)(&DAT_WLDCORE__800bb9bc + iVar1) + 1;
  return;
}



void FUN_WLDCORE__80088308(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  int iVar5;
  
  FUN_WLDCORE__80067cb4(1);
  DAT_8004d950 = DAT_8004d950 | 0x3800;
  FUN_WLDCORE__80069400(0,0x10);
  switch(param_1) {
  case 0x1b:
    FUN_WLDCORE__800886e4();
    FUN_WLDCORE__80068bc4(3);
    FUN_WLDCORE__800686c8();
    FUN_WLDCORE__800911cc();
    FUN_80018240(0x3fff,1);
    uVar3 = 0x220;
    goto LAB_WLDCORE__800885ac;
  case 0x1c:
    FUN_WLDCORE__800692ac(0);
    FUN_WLDCORE__800911cc();
    uVar3 = 0x220;
    goto LAB_WLDCORE__800885ac;
  case 0x1d:
    FUN_WLDCORE__800692ac(0);
    FUN_WORLD__80106128(2);
    iVar5 = 0;
    FUN_WLDCORE__800911cc();
    FUN_WLDCORE__80091174(0x220);
    FUN_WLDCORE__8006c844((int *)(DAT_WLDCORE__800bb4f0 * 0x5c + -0x7ff446d0));
    iVar2 = FUN_WORLD__800ef1a8(0x92);
    if (iVar2 != 0) {
      iVar2 = 0;
      do {
        iVar1 = FUN_WORLD__800ef1a8(iVar2 + 0x1a4);
        if (iVar1 != 0) {
          iVar5 = iVar5 + 1;
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < 0x18);
    }
    DAT_WLDCORE__800d0820 = (uint)(iVar5 != 0);
    FUN_WLDCORE__80080e54();
    DAT_8004d950 = DAT_8004d950 | 0x800;
    FUN_WLDCORE__800886e4();
    FUN_WLDCORE__80068bc4(4);
    FUN_WLDCORE__800686c8();
    DAT_WLDCORE__800d0828 = DAT_80049a10;
    DAT_WLDCORE__800d082c = DAT_80049a14;
    break;
  case 0x2b:
    FUN_WLDCORE__800692ac(0);
    FUN_WLDCORE__800911cc();
    uVar3 = 0x21a;
LAB_WLDCORE__800885ac:
    FUN_WLDCORE__80091174(uVar3);
    break;
  case 0x2c:
    FUN_WLDCORE__8008953c(DAT_WLDCORE__800bb4f0 * 0x5c + -0x7ff446d0);
    FUN_WLDCORE__80088a78();
    break;
  case 0x2d:
    FUN_WLDCORE__800692ac(0);
    FUN_WORLD__80106128(3);
    FUN_WLDCORE__8006c844((int *)(DAT_WLDCORE__800bb4f0 * 0x5c + -0x7ff446d0));
    FUN_WLDCORE__800890f0(1,0);
    FUN_WLDCORE__80088a78();
    DAT_WLDCORE__800d0870 = DAT_80049a10;
    DAT_WLDCORE__800d0874 = DAT_80049a14;
  }
  iVar5 = 0x77ff;
  puVar4 = (undefined4 *)(DAT_WLDCORE__800c72f4 + 0x1dffc);
  iVar2 = DAT_WLDCORE__800bb4f0 * 0x5c;
  (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] = param_1;
  *(undefined4 *)(&DAT_WLDCORE__800bb990 + iVar2) = param_2;
  *(undefined4 *)(&DAT_WLDCORE__800bb994 + iVar2) = param_3;
  do {
    *puVar4 = 0;
    iVar5 = iVar5 + -1;
    puVar4 = puVar4 + -1;
  } while (-1 < iVar5);
  FUN_WORLD__80106a28(0,0,0);
  Initialize_Thread_WORLD(4,&DAT_80108f9c);
  ParseThreadParamWORLD(4,0,0,0);
  *(undefined4 *)(&DAT_WLDCORE__800bb99c + DAT_WLDCORE__800bb4f0 * 0x5c) = 0x14;
  *(undefined4 *)(&DAT_WLDCORE__800bb9a0 + DAT_WLDCORE__800bb4f0 * 0x5c) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + DAT_WLDCORE__800bb4f0 * 4) = 0x31;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  return;
}



void FUN_WLDCORE__800886e4(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = DAT_WLDCORE__800bb4f0 + -1;
  iVar3 = iVar1 * 0x5c;
  *(undefined4 *)(&DAT_WLDCORE__800bb518 + (&DAT_WLDCORE__800bb98c)[iVar1 * 0x17] * 0x24) = 10;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + (&DAT_WLDCORE__800bb98c)[iVar1 * 0x17] * 0x24) = 0;
  iVar2 = (&DAT_WLDCORE__800bb98c)[iVar1 * 0x17];
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2 * 0x24) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2 * 0x24) = 0;
  (&DAT_WLDCORE__800bb504)[(&DAT_WLDCORE__800bb98c)[iVar1 * 0x17] * 9] =
       (&DAT_WLDCORE__800bb504)[(&DAT_WLDCORE__800bb98c)[iVar1 * 0x17] * 9] | 0x10;
  *(undefined4 *)(&DAT_WLDCORE__800bb518 + *(int *)(&DAT_WLDCORE__800bb990 + iVar3) * 0x24) = 6;
  (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb990 + iVar3) * 9] =
       (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb990 + iVar3) * 9] | 0x10;
  *(undefined4 *)(&DAT_WLDCORE__800bbc84 + *(int *)(&DAT_WLDCORE__800bb994 + iVar3) * 0x34) = 2;
  (&DAT_WLDCORE__800bbc70)[*(int *)(&DAT_WLDCORE__800bb994 + iVar3) * 0xd] =
       (&DAT_WLDCORE__800bbc70)[*(int *)(&DAT_WLDCORE__800bb994 + iVar3) * 0xd] | 0x10;
  *(undefined4 *)(&DAT_WLDCORE__800bbc84 + *(int *)(&DAT_WLDCORE__800bb998 + iVar3) * 0x34) = 2;
  (&DAT_WLDCORE__800bbc70)[*(int *)(&DAT_WLDCORE__800bb998 + iVar3) * 0xd] =
       (&DAT_WLDCORE__800bbc70)[*(int *)(&DAT_WLDCORE__800bb998 + iVar3) * 0xd] | 0x10;
  *(undefined4 *)(&DAT_WLDCORE__800bb518 + *(int *)(&DAT_WLDCORE__800bb9ac + iVar3) * 0x24) = 5;
  (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9ac + iVar3) * 9] =
       (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9ac + iVar3) * 9] | 0x10;
  *(undefined4 *)(&DAT_WLDCORE__800bb518 + *(int *)(&DAT_WLDCORE__800bb9b0 + iVar3) * 0x24) = 5;
  (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9b0 + iVar3) * 9] =
       (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb9b0 + iVar3) * 9] | 0x10;
  return;
}



void FUN_WLDCORE__80088a78(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = DAT_WLDCORE__800bb4f0 + -1;
  iVar2 = iVar1 * 0x5c;
  *(undefined4 *)(&DAT_WLDCORE__800bb518 + (&DAT_WLDCORE__800bb98c)[iVar1 * 0x17] * 0x24) = 10;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + (&DAT_WLDCORE__800bb98c)[iVar1 * 0x17] * 0x24) = 0;
  iVar3 = (&DAT_WLDCORE__800bb98c)[iVar1 * 0x17];
  (&DAT_WLDCORE__800bb504)[(&DAT_WLDCORE__800bb98c)[iVar1 * 0x17] * 9] =
       (&DAT_WLDCORE__800bb504)[(&DAT_WLDCORE__800bb98c)[iVar1 * 0x17] * 9] | 0x10;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar3 * 0x24) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar3 * 0x24) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb518 + *(int *)(&DAT_WLDCORE__800bb990 + iVar2) * 0x24) = 6;
  (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb990 + iVar2) * 9] =
       (&DAT_WLDCORE__800bb504)[*(int *)(&DAT_WLDCORE__800bb990 + iVar2) * 9] | 0x10;
  *(undefined4 *)(&DAT_WLDCORE__800bbc84 + *(int *)(&DAT_WLDCORE__800bb994 + iVar2) * 0x34) = 2;
  (&DAT_WLDCORE__800bbc70)[*(int *)(&DAT_WLDCORE__800bb994 + iVar2) * 0xd] =
       (&DAT_WLDCORE__800bbc70)[*(int *)(&DAT_WLDCORE__800bb994 + iVar2) * 0xd] | 0x10;
  return;
}



void FUN_WLDCORE__800890f0(undefined4 param_1,int param_2)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  
  if (param_2 != 0) {
    DAT_8004c6c0 = 0;
    DAT_8004c6bc = 0;
  }
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] = iVar1;
  iVar2 = iVar1 * 0x24;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar2) = 2;
  (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 10;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  iVar4 = DAT_WLDCORE__800bb4f0 * 0x5c;
  iVar2 = iVar1 * 0x24;
  *(int *)(&DAT_WLDCORE__800bb990 + iVar4) = iVar1;
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar2) = 4;
  (&DAT_WLDCORE__800bb50c)[iVar1 * 9] = 10;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar2) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb9c4 + iVar4) = 1;
  *(undefined4 *)(&DAT_WLDCORE__800bb9c0 + iVar4) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb9c8 + iVar4) = 2;
  *(undefined4 *)(&DAT_WLDCORE__800bb9cc + iVar4) = 3;
  *(undefined4 *)(&DAT_WLDCORE__800bb9bc + iVar4) = 4;
  uVar3 = FUN_WLDCORE__8006b548((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  iVar1 = DAT_WLDCORE__800bb4f0;
  *(undefined4 *)(&DAT_WLDCORE__800bb994 + DAT_WLDCORE__800bb4f0 * 0x5c) = uVar3;
  FUN_WLDCORE__8008953c((int)(&DAT_WLDCORE__800bb98c + iVar1 * 0x17));
  iVar2 = DAT_WLDCORE__800bb4f0 * 0x5c;
  iVar1 = (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17];
  *(undefined4 *)(&DAT_WLDCORE__800bb9a8 + iVar2) = param_1;
  *(undefined4 *)(&DAT_WLDCORE__800bb9a4 + iVar2) = 0;
  *(int *)(&DAT_WLDCORE__800bb51c + iVar1 * 0x24) =
       *(int *)(&DAT_WLDCORE__800bbc88 + *(int *)(&DAT_WLDCORE__800bb994 + iVar2) * 0x34) + 6;
  *(int *)(&DAT_WLDCORE__800bb520 + (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800bb4f0 * 0x17] * 0x24) =
       *(int *)(&DAT_WLDCORE__800bbc8c + *(int *)(&DAT_WLDCORE__800bb994 + iVar2) * 0x34) +
       *(int *)(&DAT_WLDCORE__800bb9a8 + iVar2) * 0x10 + 0xe;
  *(int *)(&DAT_WLDCORE__800bb51c + *(int *)(&DAT_WLDCORE__800bb990 + iVar2) * 0x24) =
       *(int *)(&DAT_WLDCORE__800bbc88 + *(int *)(&DAT_WLDCORE__800bb994 + iVar2) * 0x34) + 3;
  iVar1 = DAT_WLDCORE__800bb4f0 * 4;
  DAT_WLDCORE__800bb4f0 = DAT_WLDCORE__800bb4f0 + 1;
  *(int *)(&DAT_WLDCORE__800bb520 + *(int *)(&DAT_WLDCORE__800bb990 + iVar2) * 0x24) =
       *(int *)(&DAT_WLDCORE__800bbc8c + *(int *)(&DAT_WLDCORE__800bb994 + iVar2) * 0x34) + -2;
  *(undefined4 *)(&DAT_WLDCORE__800bb998 + iVar2) = 0x18;
  *(undefined4 *)(&DAT_WLDCORE__800d4584 + iVar1) = 0x2b;
  return;
}



void FUN_WLDCORE__8008953c(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 local_3c;
  
  iVar2 = *(int *)(param_1 + 8);
  local_3c = CONCAT22((short)*(undefined4 *)(param_1 + 0x30) * 0x10 + 0x10,0x44);
  FUN_WLDCORE__8008f514(iVar2,0,local_3c,0,(int)&DAT_WLDCORE__800c87d8);
  (&DAT_WLDCORE__800bbc78)[iVar2 * 0xd] = 10;
  (&DAT_WLDCORE__800bbc70)[iVar2 * 0xd] = (&DAT_WLDCORE__800bbc70)[iVar2 * 0xd] | 0x100;
  *(undefined4 *)(&DAT_WLDCORE__800bbc88 + iVar2 * 0x34) = 0xffffff88;
  *(undefined4 *)(&DAT_WLDCORE__800bbc8c + iVar2 * 0x34) = 0xffffffd8;
  iVar1 = 0;
  if (0 < *(int *)(param_1 + 0x30)) {
    do {
      FUN_WLDCORE__8008f828();
      iVar1 = iVar1 + 1;
    } while (iVar1 < *(int *)(param_1 + 0x30));
  }
  FUN_WLDCORE__8008f72c(iVar2,&DAT_WLDCORE__800c87d8);
  return;
}



void FUN_WLDCORE__8008cb8c(void)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  undefined4 *puVar6;
  int iVar7;
  
  puVar1 = &DAT_WLDCORE__800d3ca8;
  iVar7 = 0;
  iVar5 = 0;
  DAT_WLDCORE__8009f2b8 = 0;
  DAT_WLDCORE__8009f2bc = 0;
  DAT_WLDCORE__800d4568 = 0;
  puVar6 = (undefined4 *)PTR_DAT_WLDCORE__80094dfc_WLDCORE__80094df4;
  do {
    *(uint *)((int)&DAT_WLDCORE__800d3ca8 + iVar5) = (uint)*(byte *)((int)puVar6 + 2);
    *(uint *)((int)&DAT_WLDCORE__800d3cac + iVar5) = (uint)*(byte *)((int)puVar6 + 3);
    *(short *)((int)&DAT_WLDCORE__800d3cb0 + iVar5) = (short)*puVar6;
    uVar3 = puVar6[1];
    *(undefined4 *)((int)&DAT_WLDCORE__800d3cb8 + iVar5) = 1;
    *(undefined4 *)((int)&DAT_WLDCORE__800d3cc0 + iVar5) = 0xf;
    *(undefined2 *)((int)&DAT_WLDCORE__800d3cb4 + iVar5) = 0;
    *(short *)((int)&DAT_WLDCORE__800d3cb2 + iVar5) = (short)uVar3;
    (&DAT_WLDCORE__800d3cd8)[iVar5] = 0x80;
    (&DAT_WLDCORE__800d3cd9)[iVar5] = 0x80;
    (&DAT_WLDCORE__800d3cda)[iVar5] = 0x80;
    *(uint *)((int)&DAT_WLDCORE__800d3cbc + iVar5) =
         (*(int *)((int)&DAT_WLDCORE__800d3ca8 + iVar5) == 2) + 0x6a;
    iVar2 = FUN_WORLD__800ef1a8(iVar7 + 0x267);
    if (iVar2 == 0) {
      *(undefined4 *)((int)&DAT_WLDCORE__800d3ccc + iVar5) = 0;
      puVar1[8] = 0;
    }
    else if (iVar7 < 0x18) {
      *(undefined4 *)((int)&DAT_WLDCORE__800d3ccc + iVar5) = 0xc;
      puVar1[8] = 0;
    }
    else {
      *(undefined4 *)((int)&DAT_WLDCORE__800d3ccc + iVar5) = 0x10;
      puVar1[8] = 0;
    }
    *(undefined4 *)((int)&DAT_WLDCORE__800d3cc4 + iVar5) = 0;
    iVar2 = FUN_WORLD__800ef1a8(iVar7 + 0x200);
    if (iVar2 == 0) {
      *(uint *)((int)&DAT_WLDCORE__800d3cb8 + iVar5) =
           *(uint *)((int)&DAT_WLDCORE__800d3cb8 + iVar5) | 0x10;
    }
    puVar1 = puVar1 + 0xd;
    iVar4 = (int)&DAT_WLDCORE__800d3cb8 + iVar5;
    iVar5 = iVar5 + 0x34;
    iVar7 = iVar7 + 1;
    iVar2 = DAT_WLDCORE__8009f198 + 1;
    (&DAT_WLDCORE__8009ef80)[DAT_WLDCORE__8009f198] = iVar4;
    puVar6 = puVar6 + 2;
    DAT_WLDCORE__8009f198 = iVar2;
  } while (iVar7 < 0x2b);
  DAT_WLDCORE__800d4568 = 0x2b;
  FUN_WLDCORE__8008cdf0();
  return;
}



void FUN_WLDCORE__8008cdf0(void)

{
  int iVar1;
  uint uVar2;
  uint *puVar3;
  int iVar4;
  int iVar5;
  VECTOR local_30;
  long alStack_20 [4];
  
  iVar5 = 0;
  if (0 < DAT_WLDCORE__800d4568) {
    puVar3 = &DAT_WLDCORE__800d3cb8;
    iVar4 = 0;
    do {
      RotTrans((SVECTOR *)((int)&DAT_WLDCORE__800d3cb0 + iVar4),&local_30,alStack_20);
      *(long *)((int)&DAT_WLDCORE__800d3cd0 + iVar4) = local_30.vx;
      *(long *)((int)&DAT_WLDCORE__800d3cd4 + iVar4) = local_30.vy;
      if ((((local_30.vx + 0x80U < 0x101) && (local_30.vy + 0x74U < 0xed)) &&
          ((DAT_8004d950 & 0x10) == 0)) && (iVar1 = FUN_WORLD__800ef1a8(iVar5 + 0x200), iVar1 != 0))
      {
        uVar2 = *puVar3 & 0xffffffef;
      }
      else {
        uVar2 = *puVar3 | 0x10;
      }
      *puVar3 = uVar2;
      puVar3 = puVar3 + 0xd;
      iVar5 = iVar5 + 1;
      iVar4 = iVar4 + 0x34;
    } while (iVar5 < DAT_WLDCORE__800d4568);
  }
  return;
}



void FUN_WLDCORE__8008cf14(void)

{
  char cVar1;
  char *pcVar2;
  int iVar3;
  int iVar4;
  char cVar5;
  
  if ((DAT_8004d950 & 0x400) != 0) {
    return;
  }
  if ((DAT_8004d950 & 0x8000000) == 0) {
    if (DAT_WLDCORE__8009f2b8 == 0) {
      DAT_WLDCORE__8009f2bc = DAT_WLDCORE__8009f2bc + '\x01';
      if (DAT_WLDCORE__8009f2bc != '@') goto LAB_WLDCORE__8008cfb0;
    }
    else {
      DAT_WLDCORE__8009f2bc = DAT_WLDCORE__8009f2bc + -1;
      if (DAT_WLDCORE__8009f2bc != '\0') goto LAB_WLDCORE__8008cfb0;
    }
    DAT_WLDCORE__8009f2b8 = DAT_WLDCORE__8009f2b8 ^ 1;
  }
LAB_WLDCORE__8008cfb0:
  iVar4 = 0;
  cVar5 = DAT_WLDCORE__8009f2bc * '\x02' + '`';
  cVar1 = DAT_WLDCORE__8009f2bc * -2 + -0x20;
  if (0 < DAT_WLDCORE__800d4568) {
    pcVar2 = &DAT_WLDCORE__800d3cd8;
    iVar3 = 0;
    do {
      if ((*(uint *)((int)&DAT_WLDCORE__800d3cb8 + iVar3) & 0x10) == 0) {
        if (*(int *)((int)&DAT_WLDCORE__800d3ccc + iVar3) == 0) {
          *pcVar2 = cVar1;
          pcVar2[1] = cVar1;
          pcVar2[2] = cVar1;
        }
        else {
          *pcVar2 = cVar5;
          pcVar2[1] = cVar5;
          pcVar2[2] = cVar5;
        }
      }
      pcVar2 = pcVar2 + 0x34;
      iVar4 = iVar4 + 1;
      iVar3 = iVar3 + 0x34;
    } while (iVar4 < DAT_WLDCORE__800d4568);
  }
  return;
}



int FUN_WLDCORE__8008d3c0(int param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  
  if (param_1 == 0x14) {
    iVar1 = -1;
  }
  else {
    iVar2 = FUN_WORLD__800ef1a8(param_1 + 0x267);
    iVar1 = 0;
    if (iVar2 == 0) {
      iVar2 = FUN_WLDCORE__80091238(DAT_WLDCORE__8009f254,4);
      iVar6 = 0;
      if (iVar2 == 0) {
        iVar1 = 0;
      }
      else {
        iVar2 = 0;
        piVar4 = &DAT_WLDCORE__800d4654;
        do {
          if (*piVar4 == 0) break;
          iVar6 = iVar6 + 1;
          iVar2 = iVar2 + 1;
          piVar4 = piVar4 + 1;
        } while (iVar2 < 4);
        iVar1 = 1;
        iVar2 = 0;
        if (iVar6 == 1) {
          *param_2 = DAT_WLDCORE__800d4654 + 0xa7ff;
        }
        else {
          iVar1 = 0;
          if (0 < iVar6) {
            piVar4 = &DAT_WLDCORE__800d4654;
            do {
              iVar5 = *piVar4;
              iVar3 = FUN_WORLD__800ef1a8((byte)(&DAT_WLDCORE__8009edd3)[iVar5] + 0x292);
              if (iVar3 == 0) {
                *param_2 = iVar5 + 0xa7ff;
                iVar1 = iVar1 + 1;
                param_2 = param_2 + 1;
                if (iVar1 == 5) {
                  return 5;
                }
              }
              iVar2 = iVar2 + 1;
              piVar4 = piVar4 + 1;
            } while (iVar2 < iVar6);
          }
        }
      }
    }
  }
  return iVar1;
}



void FUN_WLDCORE__8008d514(void)

{
  return;
}



void FUN_WLDCORE__8008d51c(int param_1)

{
  short sVar1;
  int iVar2;
  int iVar3;
  SVECTOR *_3;
  short *psVar4;
  int iVar5;
  int iVar6;
  short **ppsVar7;
  int local_a8 [4];
  undefined4 local_98;
  undefined4 local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  SVECTOR local_78;
  POLY_FT4 PStack_70;
  long alStack_48 [2];
  GsOT *local_40;
  undefined4 *local_38;
  
  ppsVar7 = (short **)PTR_PTR_DAT_WLDCORE__80096070_WLDCORE__80095fb0_WLDCORE__80095004;
  if ((DAT_8004d950 & 0x20) == 0) {
    local_40 = (GsOT *)param_1;
    SetPolyFT4(&PStack_70);
    SetSemiTrans(&PStack_70,1);
    iVar6 = 0;
    local_38 = &local_98;
    PStack_70.u0 = 0x88;
    PStack_70.u2 = 0x88;
    PStack_70.v1 = 0xe0;
    PStack_70.v0 = 0xe0;
    PStack_70.u1 = 0x97;
    PStack_70.u3 = 0x97;
    PStack_70.v2 = 0xef;
    PStack_70.v3 = 0xef;
    PStack_70.r0 = DAT_WLDCORE__8009f19c;
    PStack_70.g0 = DAT_WLDCORE__8009f19d;
    PStack_70.b0 = DAT_WLDCORE__8009f19e;
    PStack_70.tpage = GetTPage(0,0,0x1c0,0x100);
    PStack_70.clut = GetClut(0x10,0x1e8);
    do {
      iVar2 = FUN_WORLD__800ef1a8(iVar6 + 0x22c);
      if (iVar2 != 0) {
        iVar2 = 0;
        psVar4 = *ppsVar7;
        iVar5 = 0;
        sVar1 = *psVar4;
        local_78.vz = 0;
        if (0 < sVar1) {
          do {
            local_78.vx = psVar4[1];
            psVar4 = psVar4 + 2;
            _3 = (SVECTOR *)(local_38 + (short)iVar2 * 2);
            local_78.vy = *psVar4;
            RotTransSV(&local_78,_3,alStack_48);
            if (((ushort)(_3->vx + 0x7fU) < 0xff) && ((ushort)(_3->vy + 0x6fU) < 0xe3)) {
              local_a8[(short)iVar2] = 1;
            }
            else {
              *(undefined4 *)((int)local_a8 + ((iVar2 << 0x10) >> 0xe)) = 0;
            }
            iVar3 = iVar2 + 1;
            if (iVar3 * 0x10000 >> 0x10 == 4) {
              PStack_70.x0 = (short)local_98;
              PStack_70.y0 = local_98._2_2_;
              PStack_70.x1 = (short)local_90;
              PStack_70.y1 = local_90._2_2_;
              PStack_70.x2 = (short)local_88;
              PStack_70.y2 = local_88._2_2_;
              PStack_70.x3 = (short)local_80;
              PStack_70.y3 = local_80._2_2_;
              local_98 = local_88;
              local_94 = local_84;
              local_90 = local_80;
              local_8c = local_7c;
              iVar3 = iVar2 + -1;
              if ((local_a8[0] != 0) || (local_a8[2] != 0)) {
                GsSortPoly(&PStack_70,local_40,1);
              }
              local_a8[0] = local_a8[2];
              local_a8[1] = local_a8[3];
            }
            iVar5 = iVar5 + 1;
            iVar2 = iVar3;
          } while (iVar5 < sVar1);
        }
      }
      iVar6 = iVar6 + 1;
      ppsVar7 = ppsVar7 + 1;
    } while (iVar6 < 0x30);
  }
  return;
}



int FUN_WLDCORE__8008d800(uint *param_1,uint param_2,int param_3)

{
  undefined2 uVar1;
  undefined *puVar2;
  int iVar3;
  uint uVar4;
  undefined4 *puVar5;
  uint uVar6;
  byte *pbVar7;
  
  puVar2 = PTR_PTR_DAT_WLDCORE__800950c8_WLDCORE__80095008_WLDCORE__80095000;
  uVar4 = *param_1;
  uVar6 = param_2 >> 7 & 2;
  param_1[1] = param_2 & 0xff;
  *param_1 = uVar4 | uVar6;
  pbVar7 = *(byte **)(puVar2 + param_1[1] * 4);
  if ((uVar4 & 2 | uVar6) == 0) {
    param_1[0x1a] = (uint)pbVar7[1];
    param_1[0x1b] = (uint)pbVar7[2];
    puVar5 = (undefined4 *)(pbVar7 + (param_3 * 3 + 1) * 4);
    *(short *)(param_1 + 0x20) = (short)*puVar5;
    uVar1 = *(undefined2 *)((int)puVar5 + 2);
    *(undefined2 *)(param_1 + 0x21) = 0;
    *(undefined2 *)((int)param_1 + 0x82) = uVar1;
    *(short *)(param_1 + 0x22) = (short)puVar5[3];
    uVar1 = *(undefined2 *)((int)puVar5 + 0xe);
    *(undefined2 *)(param_1 + 0x23) = 0;
    *(undefined2 *)((int)param_1 + 0x8a) = uVar1;
    param_1[0x1e] = param_1[0x20];
    param_1[0x1f] = param_1[0x21];
    param_1[0x1c] = (uint)*(ushort *)((int)puVar5 + 6);
    iVar3 = puVar5[2];
  }
  else {
    param_1[0x1b] = (uint)pbVar7[1];
    param_1[0x1a] = (uint)pbVar7[2];
    puVar5 = (undefined4 *)(pbVar7 + ((((uint)*pbVar7 - param_3) + -1) * 3 + 1) * 4);
    *(short *)(param_1 + 0x20) = (short)*puVar5;
    uVar1 = *(undefined2 *)((int)puVar5 + 2);
    *(undefined2 *)(param_1 + 0x21) = 0;
    *(undefined2 *)((int)param_1 + 0x82) = uVar1;
    *(short *)(param_1 + 0x22) = (short)puVar5[-3];
    uVar1 = *(undefined2 *)((int)puVar5 + -10);
    *(undefined2 *)(param_1 + 0x23) = 0;
    *(undefined2 *)((int)param_1 + 0x8a) = uVar1;
    param_1[0x1e] = param_1[0x20];
    param_1[0x1f] = param_1[0x21];
    param_1[0x1c] = *(ushort *)((int)puVar5 + -6) + 0x800 & 0xfff;
    iVar3 = puVar5[-1];
  }
  param_1[5] = iVar3 << 1;
  param_1[4] = 0;
  return *pbVar7 - 1;
}



void FUN_WLDCORE__8008d9a0(uint param_1,uint param_2)

{
  short sVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  ushort *puVar5;
  ushort *puVar6;
  ushort *puVar7;
  uint **ppuVar8;
  ushort *puVar9;
  uint *puVar10;
  int iVar11;
  int iVar12;
  short *psVar13;
  undefined2 *puVar14;
  
  iVar11 = 0;
  DAT_WLDCORE__800d3bbc = 0;
  ppuVar8 = (uint **)PTR_PTR_DAT_WLDCORE__800950c8_WLDCORE__80095008_WLDCORE__80095000;
  while( true ) {
    puVar10 = *ppuVar8;
    uVar4 = (*puVar10 & 0xff0000) >> 0x10;
    sVar1 = (short)iVar11;
    if ((*(byte *)((int)puVar10 + 1) == param_1) && (uVar4 == param_2)) goto LAB_WLDCORE__8008da38;
    if ((uVar4 == param_1) && (*(byte *)((int)puVar10 + 1) == param_2)) break;
    iVar11 = iVar11 + 1;
    ppuVar8 = ppuVar8 + 1;
    sVar1 = DAT_WLDCORE__800d3bbe;
    if (0x2f < iVar11) {
LAB_WLDCORE__8008da38:
      DAT_WLDCORE__800d3bbe = sVar1;
      iVar12 = 0;
      if (iVar11 != 0x30) {
        DAT_WLDCORE__800d3bbc = DAT_WLDCORE__800d3bbc | 1;
        DAT_WLDCORE__800d3be4 = 0;
        DAT_WLDCORE__800d3bc2 = 0;
        DAT_WLDCORE__800d3bc0 = *(byte *)puVar10 - 1;
        DAT_WLDCORE__800d3be6 =
             **(ushort **)
               (PTR_PTR_DAT_WLDCORE__80096070_WLDCORE__80095fb0_WLDCORE__80095004 +
               DAT_WLDCORE__800d3bbe * 4);
        puVar9 = *(ushort **)
                  (PTR_PTR_DAT_WLDCORE__80096070_WLDCORE__80095fb0_WLDCORE__80095004 +
                  DAT_WLDCORE__800d3bbe * 4) + 1;
        if (0 < (int)((uint)DAT_WLDCORE__800d3be6 << 0x10)) {
          puVar7 = &DAT_WLDCORE__800d3bea;
          puVar6 = &DAT_WLDCORE__800d3be8;
          puVar5 = puVar9;
          do {
            if ((DAT_WLDCORE__800d3bbc & 2) == 0) {
              *puVar6 = *puVar5;
              *puVar7 = puVar5[1];
            }
            else {
              *puVar6 = puVar9[((short)DAT_WLDCORE__800d3be6 - iVar12) * 2 + -2];
              *puVar7 = puVar9[((short)DAT_WLDCORE__800d3be6 - iVar12) * 2 + -1];
            }
            puVar7 = puVar7 + 2;
            puVar6 = puVar6 + 2;
            iVar12 = iVar12 + 1;
            puVar5 = puVar5 + 2;
          } while (iVar12 < (short)DAT_WLDCORE__800d3be6);
        }
        iVar11 = 0;
        if (0 < DAT_WLDCORE__800d3bc0) {
          puVar14 = &DAT_WLDCORE__800d3bc4;
          psVar13 = &DAT_WLDCORE__800d3be8;
          do {
            sVar1 = *psVar13;
            iVar12 = iVar11 * 4;
            iVar2 = iVar11 * 4;
            iVar3 = iVar11 * 4;
            psVar13 = psVar13 + 4;
            iVar11 = iVar11 + 1;
            iVar12 = csqrt(((int)(short)(&DAT_WLDCORE__800d3bf0)[iVar12] - (int)sVar1) *
                           ((int)(short)(&DAT_WLDCORE__800d3bf0)[iVar12] - (int)sVar1) +
                           ((int)(short)(&DAT_WLDCORE__800d3bf2)[iVar3] -
                           (int)(short)(&DAT_WLDCORE__800d3bea)[iVar2]) *
                           ((int)(short)(&DAT_WLDCORE__800d3bf2)[iVar3] -
                           (int)(short)(&DAT_WLDCORE__800d3bea)[iVar2]));
            *puVar14 = (short)(iVar12 >> 5);
            puVar14 = puVar14 + 1;
          } while (iVar11 < DAT_WLDCORE__800d3bc0);
        }
      }
      return;
    }
  }
  DAT_WLDCORE__800d3bbc = 2;
  goto LAB_WLDCORE__8008da38;
}



void FUN_WLDCORE__8008dbfc(int param_1)

{
  short sVar1;
  int iVar2;
  SVECTOR *_3;
  int iVar3;
  int iVar4;
  short *psVar5;
  int iVar6;
  int iVar7;
  SVECTOR local_b0;
  short local_a8;
  short local_a6;
  short local_a0;
  short local_9e;
  short local_98;
  short local_96;
  SVECTOR local_90;
  POLY_FT4 PStack_88;
  long alStack_60 [2];
  GsOT *local_58;
  
  if ((DAT_WLDCORE__800d3bbc & 1) != 0) {
    local_58 = (GsOT *)param_1;
    SetPolyFT4(&PStack_88);
    SetSemiTrans(&PStack_88,1);
    PStack_88.u0 = 0x88;
    PStack_88.u2 = 0x88;
    PStack_88.v1 = 0xe0;
    PStack_88.v0 = 0xe0;
    PStack_88.u1 = 0x97;
    PStack_88.u3 = 0x97;
    PStack_88.v2 = 0xef;
    PStack_88.v3 = 0xef;
    PStack_88.r0 = DAT_WLDCORE__8009f19c;
    PStack_88.g0 = DAT_WLDCORE__8009f19d;
    PStack_88.b0 = DAT_WLDCORE__8009f19e;
    PStack_88.tpage = GetTPage(0,0,0x1c0,0x100);
    PStack_88.clut = GetClut(0x10,0x1e8);
    iVar2 = (int)DAT_WLDCORE__800d3bc2;
    if ((iVar2 < 0) || (iVar2 == DAT_WLDCORE__800d3bc0)) {
      DAT_WLDCORE__800d3bbc = DAT_WLDCORE__800d3bbc & 0xfffe;
    }
    else {
      iVar4 = 0;
      if (0 < iVar2 + 1) {
        psVar5 = &DAT_WLDCORE__800d3bc4;
        do {
          iVar2 = 0;
          sVar1 = DAT_WLDCORE__800d3be4;
          if (iVar4 != DAT_WLDCORE__800d3bc2) {
            sVar1 = *psVar5;
          }
          iVar3 = (int)sVar1;
          iVar6 = iVar4 << 2;
          do {
            _3 = &local_b0 + iVar2;
            local_90.vx = (&DAT_WLDCORE__800d3be8)[iVar6];
            local_90.vy = (&DAT_WLDCORE__800d3bea)[iVar6];
            iVar2 = iVar2 + 1;
            local_90.vz = 0;
            RotTransSV(&local_90,_3,alStack_60);
            iVar6 = iVar6 + 2;
          } while (iVar2 < 4);
          iVar2 = (int)*psVar5;
          if (iVar3 != iVar2) {
            iVar6 = ((int)local_a0 - (int)local_b0.vx) * iVar3;
            if (iVar2 == 0) {
              trap(0x1c00);
            }
            if ((iVar2 == -1) && (iVar6 == -0x80000000)) {
              trap(0x1800);
            }
            iVar7 = ((int)local_9e - (int)local_b0.vy) * iVar3;
            local_a0 = local_b0.vx + (short)(iVar6 / iVar2);
            iVar2 = (int)*psVar5;
            if (iVar2 == 0) {
              trap(0x1c00);
            }
            if ((iVar2 == -1) && (iVar7 == -0x80000000)) {
              trap(0x1800);
            }
            iVar6 = ((int)local_98 - (int)local_a8) * iVar3;
            local_9e = local_b0.vy + (short)(iVar7 / iVar2);
            iVar2 = (int)*psVar5;
            if (iVar2 == 0) {
              trap(0x1c00);
            }
            if ((iVar2 == -1) && (iVar6 == -0x80000000)) {
              trap(0x1800);
            }
            iVar3 = ((int)local_96 - (int)local_a6) * iVar3;
            local_98 = local_a8 + (short)(iVar6 / iVar2);
            iVar2 = (int)*psVar5;
            if (iVar2 == 0) {
              trap(0x1c00);
            }
            if ((iVar2 == -1) && (iVar3 == -0x80000000)) {
              trap(0x1800);
            }
            local_96 = local_a6 + (short)(iVar3 / iVar2);
          }
          psVar5 = psVar5 + 1;
          PStack_88.x0 = local_b0.vx;
          PStack_88.y0 = local_b0.vy;
          PStack_88.x1 = local_a8;
          PStack_88.y1 = local_a6;
          PStack_88.x2 = local_a0;
          PStack_88.y2 = local_9e;
          PStack_88.x3 = local_98;
          PStack_88.y3 = local_96;
          GsSortPoly(&PStack_88,local_58,1);
          iVar4 = iVar4 + 1;
        } while (iVar4 < DAT_WLDCORE__800d3bc2 + 1);
      }
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WLDCORE__8008e540(void)

{
  undefined4 uVar1;
  bool bVar2;
  undefined3 extraout_var;
  int iVar3;
  uint uVar4;
  int iVar5;
  int local_20;
  int local_1c;
  undefined4 local_18;
  undefined4 local_14;
  
  if ((DAT_WLDCORE__800d0b24 & 1) != 0) {
    if ((DAT_WLDCORE__800d0af8 & 1) == 0) {
      if (DAT_WLDCORE__800d0b34 < DAT_WLDCORE__800d0b38) {
        DAT_WLDCORE__800d0b34 = DAT_WLDCORE__800d0b34 + 1;
      }
      else {
        DAT_WLDCORE__800d0b2c = DAT_WLDCORE__800d0b2c + 1;
        if (DAT_WLDCORE__800d0b30 <= DAT_WLDCORE__800d0b2c) {
          FUN_WLDCORE__80069adc();
          _DAT_WLDCORE__8009f25c = _DAT_WLDCORE__800d0bac;
          DAT_WLDCORE__8009f260 = DAT_WLDCORE__800d0bb0;
          DAT_WLDCORE__8009f24c = DAT_WLDCORE__8009f24c | 3;
          DAT_WLDCORE__8009f254 = DAT_WLDCORE__800d0b90;
          FUN_WORLD__800ef25c(0x31,DAT_WLDCORE__800d0b90);
          DAT_WLDCORE__800d0b7c = DAT_WLDCORE__800d0b7c + 1;
          iVar3 = FUN_WLDCORE__80091238(DAT_WLDCORE__8009f254,8);
          if (iVar3 == 0) {
            iVar3 = FUN_WLDCORE__80091238(DAT_WLDCORE__8009f254,0x40);
            if (iVar3 != 0) {
              FUN_WORLD__800ef25c(DAT_WLDCORE__800d4664,DAT_WLDCORE__800d4668);
            }
            iVar3 = FUN_WLDCORE__8008f08c
                              (DAT_WLDCORE__800d0b90,
                               (uint)*(byte *)(&DAT_WLDCORE__800d0b38 + DAT_WLDCORE__800d0b7c));
            if (iVar3 == 0) {
              FUN_WLDCORE__80090d30(0x43);
              if (DAT_WLDCORE__800d0b7c < DAT_WLDCORE__800d0b80) {
                DAT_WLDCORE__800d0b24 = DAT_WLDCORE__800d0b24 & 0xfffffffd;
                DAT_WLDCORE__800d0b30 =
                     FUN_WLDCORE__8008d800
                               (&DAT_WLDCORE__800d0b24,
                                *(uint *)(&DAT_WLDCORE__800d0b3c + DAT_WLDCORE__800d0b7c * 4),0);
                DAT_WLDCORE__8009f250 = DAT_WLDCORE__800d0b94;
                DAT_WLDCORE__800d0b2c = 0;
                return;
              }
              (&DAT_WLDCORE__800bb504)[(&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800d0b98 * 0x17] * 9] =
                   (&DAT_WLDCORE__800bb504)
                   [(&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800d0b98 * 0x17] * 9] ^ 0x10;
              *(undefined4 *)
               (&DAT_WLDCORE__800bb51c +
               (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800d0b98 * 0x17] * 0x24) =
                   DAT_WLDCORE__8009f27c;
              *(int *)(&DAT_WLDCORE__800bb520 +
                      (&DAT_WLDCORE__800bb98c)[DAT_WLDCORE__800d0b98 * 0x17] * 0x24) =
                   DAT_WLDCORE__8009f280 + -4;
              DAT_8004d950 = DAT_8004d950 & 0xffffdfff;
              DAT_WLDCORE__800d0bb4 = DAT_WLDCORE__8009f254 + 1;
              FUN_WLDCORE__800686c8();
              DAT_WLDCORE__8009f250 = 0;
              DAT_WLDCORE__8009f24c = DAT_WLDCORE__8009f24c & 0xfffffffb;
              DAT_WLDCORE__800d0b24 = DAT_WLDCORE__800d0b24 & 0xfffffffc;
              *(uint *)(&DAT_WLDCORE__800bb998 + DAT_WLDCORE__800d0b98 * 0x5c) =
                   DAT_WLDCORE__8009f254;
              iVar3 = FUN_WLDCORE__8008d3c0
                                (DAT_WLDCORE__8009f254,
                                 (int *)(&DAT_WLDCORE__800bb9c0 + DAT_WLDCORE__800bb4f0 * 0x5c));
              if (iVar3 == -1) {
                return;
              }
              if (iVar3 < 1) {
                return;
              }
              *(int *)(&DAT_WLDCORE__800bb9bc + DAT_WLDCORE__800bb4f0 * 0x5c) = iVar3;
              FUN_WLDCORE__8006c4bc();
              FUN_WLDCORE__8006faf0(DAT_WLDCORE__8009f254);
              return;
            }
            DAT_8004d950 = DAT_8004d950 | 0x8000;
            DAT_WLDCORE__800bbc6c = DAT_WLDCORE__800d483c;
            FUN_WORLD__800ef25c(0x32,DAT_WLDCORE__800d456c);
            FUN_WORLD__800ef25c(0x34,1);
            FUN_WORLD__800ef25c(0x35,DAT_WLDCORE__8009f248);
            FUN_WORLD__800ef25c(0x27,0);
            uVar4 = 0;
          }
          else {
            DAT_WLDCORE__800bbc6c = 0;
            FUN_WORLD__800ef25c(0x27,DAT_WLDCORE__800d4664);
            uVar4 = DAT_WLDCORE__800d4668;
          }
          FUN_WLDCORE__8008047c(uVar4);
          DAT_WLDCORE__8009f250 = 0;
          DAT_WLDCORE__8009f24c = DAT_WLDCORE__8009f24c & 0xfffffffb;
          DAT_WLDCORE__800d0b24 = DAT_WLDCORE__800d0b24 & 0xfffffffc;
          *(uint *)(&DAT_WLDCORE__800bb998 + DAT_WLDCORE__800d0b98 * 0x5c) = DAT_WLDCORE__8009f254;
          return;
        }
        FUN_WLDCORE__8008d800(&DAT_WLDCORE__800d0b24,DAT_WLDCORE__800d0b28,DAT_WLDCORE__800d0b2c);
        DAT_WLDCORE__8009f24c = DAT_WLDCORE__8009f24c | 2;
        DAT_WLDCORE__8009f250 = DAT_WLDCORE__800d0b94;
      }
      iVar3 = ((int)DAT_WLDCORE__800d0bac - (int)DAT_WLDCORE__800d0ba4) * DAT_WLDCORE__800d0b34;
      if (DAT_WLDCORE__800d0b38 == 0) {
        trap(0x1c00);
      }
      if ((DAT_WLDCORE__800d0b38 == -1) && (iVar3 == -0x80000000)) {
        trap(0x1800);
      }
      iVar5 = ((int)DAT_WLDCORE__800d0bae - (int)DAT_WLDCORE__800d0ba6) * DAT_WLDCORE__800d0b34;
      if (DAT_WLDCORE__800d0b38 == 0) {
        trap(0x1c00);
      }
      if ((DAT_WLDCORE__800d0b38 == -1) && (iVar5 == -0x80000000)) {
        trap(0x1800);
      }
      local_18 = _DAT_WLDCORE__8009f25c;
      uVar1 = local_18;
      local_14 = DAT_WLDCORE__8009f260;
      local_20 = (int)DAT_WLDCORE__800d0b9c + iVar3 / DAT_WLDCORE__800d0b38;
      local_18._2_2_ = (short)((uint)_DAT_WLDCORE__8009f25c >> 0x10);
      local_1c = (int)DAT_WLDCORE__800d0b9e + iVar5 / DAT_WLDCORE__800d0b38;
      local_18._0_2_ = (short)_DAT_WLDCORE__8009f25c;
      _DAT_WLDCORE__8009f25c = CONCAT22((short)local_1c,(short)local_20);
      local_1c = local_1c - local_18._2_2_;
      local_20 = local_20 - (short)local_18;
      local_18 = uVar1;
      FUN_WLDCORE__8008ef3c(&local_20);
      DAT_WLDCORE__8009f24c = DAT_WLDCORE__8009f24c | 1;
    }
    else {
      bVar2 = FUN_WLDCORE__8008ee10();
      if (CONCAT31(extraout_var,bVar2) == 0) {
        DAT_WLDCORE__8009f24c = DAT_WLDCORE__8009f24c | 6;
      }
      DAT_WLDCORE__8009f24c = DAT_WLDCORE__8009f24c | 1;
    }
  }
  return;
}



bool FUN_WLDCORE__8008ec38(int *param_1,short *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = FUN_WLDCORE__8008ed00(param_1);
  if (iVar1 != 0) {
    FUN_WLDCORE__8008edbc(param_2,&DAT_WLDCORE__800d0b14);
    DAT_WLDCORE__800d0af8 = DAT_WLDCORE__800d0af8 | 1;
    DAT_WLDCORE__800d0b04 = DAT_WLDCORE__8009f2c0;
    DAT_WLDCORE__800d0b08 = DAT_WLDCORE__8009f2c4;
    DAT_WLDCORE__800d0b0c = DAT_WLDCORE__8009f2c8;
    DAT_WLDCORE__800d0b10 = DAT_WLDCORE__8009f2cc;
    DAT_WLDCORE__800d0b00 = 0;
    iVar2 = csqrt((DAT_WLDCORE__800d0b14 - DAT_WLDCORE__8009f2c0) *
                  (DAT_WLDCORE__800d0b14 - DAT_WLDCORE__8009f2c0) +
                  (DAT_WLDCORE__800d0b18 - DAT_WLDCORE__8009f2c4) *
                  (DAT_WLDCORE__800d0b18 - DAT_WLDCORE__8009f2c4));
    DAT_WLDCORE__800d0afc = iVar2 >> 8;
  }
  return iVar1 != 0;
}



undefined4 FUN_WLDCORE__8008ed00(int *param_1)

{
  undefined4 uVar1;
  
  if (((((-0x41 < *param_1) || (uVar1 = 1, 0x80 - DAT_WLDCORE__8009f2c0 < 0x21)) &&
       ((*param_1 < 0x49 || (uVar1 = 1, DAT_WLDCORE__8009f2c0 + 0x74 < 0x21)))) &&
      (((-0x41 < param_1[1] || (uVar1 = 1, 0x50 - DAT_WLDCORE__8009f2c4 < 0x21)) &&
       (uVar1 = 0, 0x40 < param_1[1])))) && (uVar1 = 0, 0x20 < DAT_WLDCORE__8009f2c4 + 0x40)) {
    uVar1 = 1;
  }
  return uVar1;
}



void FUN_WLDCORE__8008edbc(short *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = -(int)*param_1;
  iVar1 = -(int)param_1[1];
  if (iVar3 < -0x74) {
    iVar3 = -0x74;
  }
  if (0x80 < iVar3) {
    iVar3 = 0x80;
  }
  iVar2 = iVar1;
  if (iVar1 < -0x40) {
    iVar2 = -0x40;
  }
  if (0x50 < iVar1) {
    iVar2 = 0x50;
  }
  *param_2 = iVar3;
  param_2[1] = iVar2;
  return;
}



bool FUN_WLDCORE__8008ee10(void)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = (DAT_WLDCORE__800d0b14 - DAT_WLDCORE__800d0b04) * DAT_WLDCORE__800d0b00;
  if (DAT_WLDCORE__800d0afc == 0) {
    trap(0x1c00);
  }
  if ((DAT_WLDCORE__800d0afc == -1) && (iVar2 == -0x80000000)) {
    trap(0x1800);
  }
  iVar3 = (DAT_WLDCORE__800d0b18 - DAT_WLDCORE__800d0b08) * DAT_WLDCORE__800d0b00;
  if (DAT_WLDCORE__800d0afc == 0) {
    trap(0x1c00);
  }
  if ((DAT_WLDCORE__800d0afc == -1) && (iVar3 == -0x80000000)) {
    trap(0x1800);
  }
  bVar1 = DAT_WLDCORE__800d0afc <= DAT_WLDCORE__800d0b00;
  DAT_WLDCORE__8009f2c0 = DAT_WLDCORE__800d0b04 + iVar2 / DAT_WLDCORE__800d0afc;
  DAT_WLDCORE__8009f2c4 = DAT_WLDCORE__800d0b08 + iVar3 / DAT_WLDCORE__800d0afc;
  iVar2 = DAT_WLDCORE__800d0b00 + 1;
  if (bVar1) {
    DAT_WLDCORE__8009f2c0 = DAT_WLDCORE__800d0b14;
    DAT_WLDCORE__8009f2c4 = DAT_WLDCORE__800d0b18;
    DAT_WLDCORE__8009f2c8 = DAT_WLDCORE__800d0b1c;
    DAT_WLDCORE__8009f2cc = DAT_WLDCORE__800d0b20;
    DAT_WLDCORE__800d0af8 = DAT_WLDCORE__800d0af8 ^ 1;
    iVar2 = DAT_WLDCORE__800d0b00;
  }
  DAT_WLDCORE__800d0b00 = iVar2;
  return !bVar1;
}



void FUN_WLDCORE__8008ef3c(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = DAT_WLDCORE__8009f2c4;
  iVar1 = DAT_WLDCORE__8009f2c0;
  iVar3 = DAT_WLDCORE__8009f280 + param_1[1];
  if (((*param_1 < 0) && (DAT_WLDCORE__8009f27c + *param_1 < -0x40)) ||
     ((0 < *param_1 && (0x48 < DAT_WLDCORE__8009f27c + *param_1)))) {
    FUN_WLDCORE__8006ac08(param_1,&DAT_WLDCORE__8009f2c0);
  }
  if (((param_1[1] < 0) && (iVar3 < -0x40)) || ((0 < param_1[1] && (0x40 < iVar3)))) {
    FUN_WLDCORE__8006ac98((int)param_1,(int)&DAT_WLDCORE__8009f2c0);
  }
  if ((iVar1 != DAT_WLDCORE__8009f2c0) || (iVar2 != DAT_WLDCORE__8009f2c4)) {
    DAT_8004d950 = DAT_8004d950 | 2;
  }
  return;
}



undefined4 FUN_WLDCORE__8008f08c(int param_1,uint param_2)

{
  byte bVar1;
  undefined *puVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  
  puVar2 = PTR_DAT_WLDCORE__80096a64_WLDCORE__80096a40;
  if (param_1 - 0x18U < 0x13) {
    iVar9 = (param_1 - 0x18U) * 0x48;
    iVar5 = 0;
    iVar4 = iVar9;
    do {
      if ((byte)PTR_DAT_WLDCORE__80096a64_WLDCORE__80096a40[iVar4] == param_2) break;
      iVar5 = iVar5 + 1;
      iVar4 = iVar4 + 0x18;
    } while (iVar5 < 3);
    if (iVar5 != 3) {
      iVar9 = iVar9 + iVar5 * 0x18;
      DAT_WLDCORE__8009f248 = (byte)PTR_DAT_WLDCORE__80096a64_WLDCORE__80096a40[iVar9 + 1] + 0x200;
      iVar5 = FUN_WORLD__800ef1a8((uint)(byte)PTR_DAT_WLDCORE__80096a64_WLDCORE__80096a40
                                              [iVar9 + 0x17]);
      iVar6 = 0;
      iVar4 = iVar9;
      do {
        if (iVar5 <= (int)(uint)(byte)puVar2[iVar4 + 2]) break;
        iVar6 = iVar6 + 1;
        iVar4 = iVar4 + 3;
      } while (iVar6 < 4);
      if (iVar6 != 4) {
        iVar4 = iVar6 * 3 + iVar9;
        bVar1 = puVar2[iVar4 + 3];
        if (bVar1 == 0) {
          return 0;
        }
        iVar5 = rand();
        if ((int)(uint)bVar1 < iVar5 * 100 >> 0xf) {
          return 0;
        }
        uVar8 = (uint)(byte)puVar2[iVar4 + 4];
        iVar4 = 0;
        uVar7 = 0;
        uVar3 = uVar8;
        do {
          if ((uVar3 & 1) != 0) {
            iVar4 = iVar4 + 1;
          }
          uVar7 = uVar7 + 1;
          uVar3 = (int)uVar8 >> (uVar7 & 0x1f);
        } while ((int)uVar7 < 8);
        iVar5 = rand();
        iVar4 = (iVar5 * iVar4 >> 0xf) + 1;
        uVar3 = 0;
        do {
          if (((int)uVar8 >> (uVar3 & 0x1f) & 1U) != 0) {
            iVar4 = iVar4 + -1;
            iVar5 = uVar3 - 0x15;
            if (iVar4 == 0) break;
          }
          uVar7 = uVar3 + 1;
          iVar5 = uVar3 - 0x14;
          uVar3 = uVar7;
        } while ((int)uVar7 < 8);
        DAT_WLDCORE__800d456c = (uint)(byte)puVar2[iVar9 - iVar5];
        DAT_WLDCORE__800d483c = (uint)(byte)puVar2[iVar9 + 0x16];
        return 1;
      }
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WLDCORE__8008f284(void)

{
  int iVar1;
  
  DAT_WLDCORE__8009f254 = FUN_WORLD__800ef1a8(0x31);
  _DAT_WLDCORE__8009f25c = *(undefined4 *)(&DAT_WLDCORE__800d3cb0 + DAT_WLDCORE__8009f254 * 0x1a);
  DAT_WLDCORE__8009f260 = *(undefined4 *)(&DAT_WLDCORE__800d3cb4 + DAT_WLDCORE__8009f254 * 0x1a);
  DAT_WLDCORE__8009f250 = 0;
  DAT_WLDCORE__8009f24c = 3;
  (&DAT_WLDCORE__8009ef80)[DAT_WLDCORE__8009f198] = &DAT_WLDCORE__8009f264;
  DAT_WLDCORE__8009f264 = 1;
  DAT_WLDCORE__8009f26c = 0xe;
  DAT_WLDCORE__8009f274 = 0;
  DAT_WLDCORE__8009f270 = 0;
  DAT_WLDCORE__8009f284 = 0x80;
  DAT_WLDCORE__8009f285 = 0x80;
  DAT_WLDCORE__8009f286 = 0x80;
  DAT_WLDCORE__8009f198 = DAT_WLDCORE__8009f198 + 1;
  iVar1 = FUN_WORLD__800ef1a8(0x69);
  DAT_WLDCORE__8009f278 = 0;
  if (iVar1 == 1) {
    DAT_WLDCORE__8009f278 = 2;
  }
  if (iVar1 == 2) {
    DAT_WLDCORE__8009f278 = 3;
  }
  _DAT_WLDCORE__8009f25c = *(undefined4 *)(&DAT_WLDCORE__800d3cb0 + DAT_WLDCORE__8009f254 * 0x1a);
  DAT_WLDCORE__8009f260 = *(undefined4 *)(&DAT_WLDCORE__800d3cb4 + DAT_WLDCORE__8009f254 * 0x1a);
  FUN_WLDCORE__8008edbc(&DAT_WLDCORE__8009f25c,&DAT_WLDCORE__8009f2c0);
  FUN_WLDCORE__8006a888();
  FUN_WLDCORE__8008f434();
  return;
}



void FUN_WLDCORE__8008f434(void)

{
  int iVar1;
  uint uVar2;
  VECTOR local_20;
  long alStack_10 [2];
  
  if ((DAT_WLDCORE__8009f24c & 2) != 0) {
    uVar2 = DAT_WLDCORE__8009f250 + 0x100 >> 9 & 7;
    iVar1 = uVar2 + 0x10;
    if ((DAT_WLDCORE__8009f24c & 4) != 0) {
      iVar1 = uVar2 + 0x18;
    }
    DAT_WLDCORE__8009f24c = DAT_WLDCORE__8009f24c ^ 2;
    if (DAT_WLDCORE__8009f268 != iVar1) {
      DAT_WLDCORE__8009f274 = 0;
      DAT_WLDCORE__8009f270 = 0;
      DAT_WLDCORE__8009f268 = iVar1;
    }
  }
  if ((DAT_WLDCORE__8009f24c & 1) != 0) {
    RotTrans((SVECTOR *)&DAT_WLDCORE__8009f25c,&local_20,alStack_10);
    DAT_WLDCORE__8009f24c = DAT_WLDCORE__8009f24c ^ 1;
    DAT_WLDCORE__8009f27c = local_20.vx;
    DAT_WLDCORE__8009f280 = local_20.vy;
  }
  return;
}



void FUN_WLDCORE__8008f514
               (int param_1,undefined4 param_2,undefined4 param_3,int param_4,int param_5)

{
  u_short uVar1;
  int iVar2;
  short local_res4;
  short sStackX_6;
  short local_res8;
  short sStackX_a;
  int local_20;
  int local_1c;
  
  iVar2 = param_1 * 0x34;
  (&DAT_WLDCORE__800bbc70)[param_1 * 0xd] = (&DAT_WLDCORE__800bbc70)[param_1 * 0xd] & 0xffffffe3;
  local_res4 = (short)param_2;
  *(int *)(&DAT_WLDCORE__800bbc88 + iVar2) = local_res4 + -0x80;
  sStackX_6 = (short)((uint)param_2 >> 0x10);
  *(int *)(&DAT_WLDCORE__800bbc7c + iVar2) = param_4;
  *(int *)(&DAT_WLDCORE__800bbc8c + iVar2) = sStackX_6 + -0x78;
  (&DAT_WLDCORE__800bbc94)[param_1 * 0xd] = 0x1e1;
  (&DAT_WLDCORE__800bbc90)[param_1 * 0xd] = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bbc98 + iVar2) = param_2;
  *(undefined4 *)(&DAT_WLDCORE__800bbc9c + iVar2) = param_3;
  FUN_WLDCORE__8008f698(param_4,param_2,param_3,&local_20);
  uVar1 = GetTPage(0,0,local_20,local_1c);
  *(uint *)(&DAT_WLDCORE__800bbc74 + iVar2) = (uint)uVar1;
  (&DAT_WLDCORE__800bbca0)[iVar2] = 0x80;
  (&DAT_WLDCORE__800bbca1)[iVar2] = 0x80;
  (&DAT_WLDCORE__800bbca2)[iVar2] = 0x80;
  *(undefined4 *)(&DAT_WLDCORE__800bbc80 + iVar2) = 0;
  local_res8 = (short)param_3;
  sStackX_a = (short)((uint)param_3 >> 0x10);
  FUN_WORLD__8010849c((int)local_res8,(int)sStackX_a,param_5);
  return;
}



void FUN_WLDCORE__8008f698(int param_1,undefined4 param_2,undefined4 param_3,int *param_4)

{
  int iVar1;
  short local_res4;
  short sStackX_6;
  
  if (-1 < param_1) {
    local_res4 = (short)param_2;
    sStackX_6 = (short)((uint)param_2 >> 0x10);
    if (param_1 < 2) {
      iVar1 = (int)local_res4;
      if (iVar1 < 0) {
        iVar1 = iVar1 + 3;
      }
      *param_4 = (iVar1 >> 2) + param_1 * 0x40 + 0x180;
      param_4[1] = (int)sStackX_6;
    }
    else if (param_1 == 2) {
      iVar1 = (int)local_res4;
      if (iVar1 < 0) {
        iVar1 = iVar1 + 3;
      }
      *param_4 = (iVar1 >> 2) + 0x240;
      param_4[1] = sStackX_6 + 0x100;
    }
  }
  return;
}



void FUN_WLDCORE__8008f72c(int param_1,u_long *param_2)

{
  int iVar1;
  int iVar2;
  int local_28 [2];
  RECT local_20 [2];
  
  iVar2 = param_1 * 0x34;
  FUN_WLDCORE__8008f698
            (*(int *)(&DAT_WLDCORE__800bbc7c + iVar2),
             *(undefined4 *)(&DAT_WLDCORE__800bbc98 + iVar2),
             *(undefined4 *)(&DAT_WLDCORE__800bbc9c + iVar2),local_28);
  iVar1 = (int)*(short *)(&DAT_WLDCORE__800bbc9c + iVar2);
  if (iVar1 < 0) {
    iVar1 = iVar1 + 3;
  }
  local_20[0].w = (short)(iVar1 >> 2);
  local_20[0].h = *(short *)(&DAT_WLDCORE__800bbc9e + iVar2);
  LoadImage(local_20,param_2);
  return;
}



void FUN_WLDCORE__8008f828(void)

{
  FUN_WORLD__800fe774();
  return;
}



void FUN_WLDCORE__8008f8e0
               (int param_1,undefined4 param_2,undefined4 param_3,int param_4,int param_5,
               int param_6)

{
  FUN_WLDCORE__8008f514(param_1,param_2,param_3,param_4,param_6);
  if (param_5 != 0) {
    FUN_WLDCORE__8008f828();
  }
  FUN_WLDCORE__8008f72c(param_1,param_6);
  (&DAT_WLDCORE__800bbc70)[param_1 * 0xd] = (&DAT_WLDCORE__800bbc70)[param_1 * 0xd] | 0x100;
  return;
}



void FUN_WLDCORE__8008f9bc
               (int param_1,uint param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5,
               uint param_6)

{
  u_short uVar1;
  int iVar2;
  short local_res4;
  short sStackX_6;
  short local_res8;
  undefined2 uStackX_a;
  
  iVar2 = param_1 * 0x34;
  (&DAT_WLDCORE__800bbc70)[param_1 * 0xd] =
       (&DAT_WLDCORE__800bbc70)[param_1 * 0xd] & 0xffffffe7 | param_6;
  (&DAT_WLDCORE__800bbc90)[param_1 * 0xd] = param_4;
  (&DAT_WLDCORE__800bbc94)[param_1 * 0xd] = param_5;
  local_res4 = (short)param_2;
  sStackX_6 = (short)(param_2 >> 0x10);
  uVar1 = GetTPage(0,0,(int)local_res4,(int)sStackX_6);
  *(uint *)(&DAT_WLDCORE__800bbc74 + iVar2) = (uint)uVar1;
  *(short *)(&DAT_WLDCORE__800bbc98 + iVar2) = (short)((param_2 & 0x3f) << 1);
  sStackX_6._0_1_ = (byte)(param_2 >> 0x10);
  *(ushort *)(&DAT_WLDCORE__800bbc9a + iVar2) = (ushort)(byte)sStackX_6;
  local_res8 = (short)param_3;
  *(short *)(&DAT_WLDCORE__800bbc9c + iVar2) = (short)((int)local_res8 << 1);
  uStackX_a = (undefined2)((uint)param_3 >> 0x10);
  *(undefined2 *)(&DAT_WLDCORE__800bbc9e + iVar2) = uStackX_a;
  (&DAT_WLDCORE__800bbca0)[iVar2] = 0x80;
  (&DAT_WLDCORE__800bbca1)[iVar2] = 0x80;
  (&DAT_WLDCORE__800bbca2)[iVar2] = 0x80;
  *(undefined4 *)(&DAT_WLDCORE__800bbc80 + iVar2) = 0;
  return;
}



void FUN_WLDCORE__8008fb28(undefined4 param_1,short param_2,undefined4 *param_3,undefined4 *param_4)

{
  DAT_WLDCORE__800bb394 = (short)param_3[1];
  DAT_WLDCORE__800bb39a = 4;
  DAT_WLDCORE__800bb398 = 4;
  DAT_WLDCORE__800bb3a0 = 2;
  DAT_WLDCORE__800bb3a2 = 2;
  DAT_WLDCORE__800bb3a4 = &DAT_WLDCORE__800d0880;
  DAT_WLDCORE__800bb3b0 = &DAT_WLDCORE__800bb3f0;
  DAT_WLDCORE__800bb31c = 0x200;
  DAT_WLDCORE__800bb320 = (short)*param_3 + 0x18U & 0xfffc;
  DAT_WLDCORE__800bb39e = 0;
  DAT_WLDCORE__800bb31e = 0x100;
  DAT_WLDCORE__800bb322 = 0;
  DAT_WLDCORE__800bb396 = param_2 - (short)param_3[1];
  DAT_WLDCORE__800bb324 = (short)*param_4 + -0x80;
  DAT_WLDCORE__800bb328 = DAT_WLDCORE__800bb320;
  DAT_WLDCORE__800bb32a = 0;
  DAT_WLDCORE__800bb32c = 0;
  DAT_WLDCORE__800bb32e = 0;
  DAT_WLDCORE__800bb330 = DAT_WLDCORE__800bb320;
  DAT_WLDCORE__800bb332 = 0;
  DAT_WLDCORE__800bb334 = 0;
  DAT_WLDCORE__800bb336 = 0;
  DAT_WLDCORE__800bb338 = 0;
  DAT_WLDCORE__800bb326 = (short)param_4[1] + -0x78;
  DAT_WLDCORE__800bb340 = &DAT_WLDCORE__8009ee30;
  DAT_WLDCORE__800bb33c = 0;
  DAT_WLDCORE__800bb33a = (short)param_3[1];
  DAT_WLDCORE__800bb348 = 1;
  DAT_WLDCORE__800bb34c = &DAT_WLDCORE__800bb394;
  DAT_WLDCORE__800bb350 = &DAT_WLDCORE__800d4574;
  return;
}



void FUN_WLDCORE__8008fcc8(int param_1,int param_2,int param_3)

{
  if (param_2 < (&DAT_WLDCORE__800d07d8)[param_1 * 2] + 1) {
    (&DAT_WLDCORE__800d07d8)[param_1 * 2] = param_2 + -1;
    (&DAT_WLDCORE__800d07dc)[param_1 * 2] = param_2 - param_3;
  }
  if (param_2 - ((&DAT_WLDCORE__800d07dc)[param_1 * 2] + param_3) < 0) {
    (&DAT_WLDCORE__800d07dc)[param_1 * 2] = param_2 - param_3;
  }
  DAT_WLDCORE__800bb354 = (short)(&DAT_WLDCORE__800d07d8)[param_1 * 2];
  DAT_WLDCORE__800bb356 = (short)(&DAT_WLDCORE__800d07dc)[param_1 * 2];
  return;
}



// WARNING: Removing unreachable block (ram,0x80090178)

void FUN_WLDCORE__8008ffe0(undefined4 *param_1)

{
  int iVar1;
  byte *pbVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  short local_50;
  short local_4e [31];
  
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  param_1[0xe] = iVar1;
  FUN_WLDCORE__8009036c(iVar1,param_1[0x13],8);
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  param_1[0xf] = iVar1;
  FUN_WLDCORE__8009036c(iVar1,param_1[0x13],9);
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  param_1[0x10] = iVar1;
  FUN_WLDCORE__8009036c(iVar1,param_1[0x13],10);
  iVar1 = FUN_WLDCORE__8006b460((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  param_1[0x12] = iVar1;
  FUN_WLDCORE__8009036c(iVar1,param_1[0x13],0xf);
  iVar1 = FUN_WLDCORE__8006b548((int)&DAT_WLDCORE__8009ef80,&DAT_WLDCORE__8009f198);
  param_1[0x11] = iVar1;
  (&DAT_WLDCORE__800bbc70)[iVar1 * 0xd] = (&DAT_WLDCORE__800bbc70)[iVar1 * 0xd] | 0x100;
  (&DAT_WLDCORE__800bbc78)[param_1[0x11] * 0xd] = param_1[0x13];
  iVar1 = param_1[0x11];
  uVar3 = param_1[3];
  *(undefined4 *)(&DAT_WLDCORE__800bbc88 + iVar1 * 0x34) = param_1[2];
  *(undefined4 *)(&DAT_WLDCORE__800bbc8c + iVar1 * 0x34) = uVar3;
  uVar4 = param_1[4] + 0x18 & 0xfffc;
  iVar1 = param_1[3] + param_1[5] * 0x10;
  if (((int)uVar4 >> 3) << 3 == uVar4 - 4) {
    iVar5 = param_1[2] + uVar4 + -0xe;
  }
  else {
    iVar5 = param_1[2] + uVar4 + -0xc;
  }
  *(int *)(&DAT_WLDCORE__800bb51c + param_1[0xe] * 0x24) = iVar5 + -0xe;
  *(int *)(&DAT_WLDCORE__800bb520 + param_1[0xe] * 0x24) = iVar1 + -6;
  iVar1 = iVar1 + -10;
  *(int *)(&DAT_WLDCORE__800bb51c + param_1[0xf] * 0x24) = iVar5;
  *(int *)(&DAT_WLDCORE__800bb520 + param_1[0xf] * 0x24) = param_1[3] + 8;
  *(int *)(&DAT_WLDCORE__800bb51c + param_1[0x10] * 0x24) = iVar5;
  *(int *)(&DAT_WLDCORE__800bb520 + param_1[0x10] * 0x24) = iVar1;
  *(int *)(&DAT_WLDCORE__800bb51c + param_1[0x12] * 0x24) = iVar5;
  *(int *)(&DAT_WLDCORE__800bb520 + param_1[0x12] * 0x24) = iVar1;
  pbVar2 = (byte *)WORLD_LoadTextPrep(param_1[0xd]);
  FUN_WORLD__800e4268(&local_50,local_4e,pbVar2);
  iVar5 = param_1[5];
  iVar1 = local_4e[0] + -1;
  if (iVar5 == 0) {
    trap(0x1c00);
  }
  if ((iVar5 == -1) && (iVar1 == -0x80000000)) {
    trap(0x1800);
  }
  param_1[0x15] = 0;
  param_1[0xc] = 0;
  param_1[7] = (int)local_4e[0];
  param_1[6] = (int)local_50;
  param_1[0x14] = (iVar1 / iVar5) * iVar5;
  FUN_WLDCORE__800906c0(param_1,param_1[0x15]);
  return;
}



void FUN_WLDCORE__8009036c(int param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  uint uVar2;
  
  iVar1 = param_1 * 0x24;
  uVar2 = (&DAT_WLDCORE__800bb504)[param_1 * 9];
  *(undefined4 *)(&DAT_WLDCORE__800bb508 + iVar1) = param_3;
  (&DAT_WLDCORE__800bb50c)[param_1 * 9] = param_2;
  *(undefined4 *)(&DAT_WLDCORE__800bb514 + iVar1) = 0;
  *(undefined4 *)(&DAT_WLDCORE__800bb510 + iVar1) = 0;
  (&DAT_WLDCORE__800bb504)[param_1 * 9] = uVar2 | 0x810;
  return;
}



void FUN_WLDCORE__800906c0(undefined4 *param_1,int param_2)

{
  undefined4 *puVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  uint local_24;
  
  DAT_80153308 = param_2 + param_1[5];
  local_24 = CONCAT22((short)param_1[5] * 0x10 + 0x10,(short)param_1[4] + 0x18) & 0xfffffffc;
  DAT_80153304 = param_2;
  FUN_WLDCORE__8008f514
            (param_1[0x11],CONCAT22((short)param_1[1],(short)*param_1),local_24,param_1[0x17],
             (int)&DAT_WLDCORE__800c87d8);
  iVar6 = 0;
  piVar4 = &DAT_801531d8;
  puVar1 = param_1;
  do {
    if (puVar1[0x1a] != -1) {
      *piVar4 = puVar1[0x1a];
    }
    piVar4 = piVar4 + 1;
    iVar6 = iVar6 + 1;
    puVar1 = puVar1 + 1;
  } while (iVar6 < 2);
  iVar6 = param_1[0x19];
  if (iVar6 != -1) {
    iVar7 = param_1[9] + param_2 * -0x10;
    iVar2 = param_1[3] + 8;
    if (iVar7 < iVar2) {
      if (iVar7 + *(short *)((int)param_1 + 0x2e) < iVar2) {
        iVar2 = iVar6 * 0x34;
        uVar3 = (&DAT_WLDCORE__800bbc70)[iVar6 * 0xd] | 0x10;
      }
      else {
        *(int *)(&DAT_WLDCORE__800bbc8c + iVar6 * 0x34) = iVar2;
        *(short *)(&DAT_WLDCORE__800bbc9a + param_1[0x19] * 0x34) =
             *(short *)((int)param_1 + 0x2a) + (short)param_2 * 0x10;
        *(short *)(&DAT_WLDCORE__800bbc9e + param_1[0x19] * 0x34) =
             *(short *)((int)param_1 + 0x2e) + (short)param_2 * -0x10;
        iVar2 = param_1[0x19] * 0x34;
        uVar3 = (&DAT_WLDCORE__800bbc70)[param_1[0x19] * 0xd] & 0xffffffef;
      }
    }
    else {
      *(int *)(&DAT_WLDCORE__800bbc8c + iVar6 * 0x34) = iVar7;
      *(undefined2 *)(&DAT_WLDCORE__800bbc9a + param_1[0x19] * 0x34) =
           *(undefined2 *)((int)param_1 + 0x2a);
      *(undefined2 *)(&DAT_WLDCORE__800bbc9e + param_1[0x19] * 0x34) =
           *(undefined2 *)((int)param_1 + 0x2e);
      iVar2 = param_1[0x19] * 0x34;
      uVar3 = (&DAT_WLDCORE__800bbc70)[param_1[0x19] * 0xd] & 0xffffffef;
    }
    *(uint *)((int)&DAT_WLDCORE__800bbc70 + iVar2) = uVar3;
  }
  FUN_WLDCORE__8008f828();
  FUN_WLDCORE__8008f72c(param_1[0x11],&DAT_WLDCORE__800c87d8);
  iVar6 = param_1[0x11];
  uVar5 = param_1[3];
  *(undefined4 *)(&DAT_WLDCORE__800bbc88 + iVar6 * 0x34) = param_1[2];
  *(undefined4 *)(&DAT_WLDCORE__800bbc8c + iVar6 * 0x34) = uVar5;
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void FUN_WLDCORE__80090d30(uint param_1)

{
  Call_Play_Sound(param_1);
  return;
}



void FUN_WLDCORE__80090d50(undefined4 param_1,undefined4 param_2)

{
  if (0xf < DAT_WLDCORE__800d462c) {
    do {
      Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
      FUN_WLDCORE__80090e20();
      VSync(0);
    } while (0xf < DAT_WLDCORE__800d462c);
  }
  (&DAT_WLDCORE__800d45a4)[DAT_WLDCORE__800d462c] = param_1;
  (&DAT_WLDCORE__800d45e4)[DAT_WLDCORE__800d462c] = param_2;
  DAT_WLDCORE__800d462c = DAT_WLDCORE__800d462c + 1;
  return;
}



void FUN_WLDCORE__80090e20(void)

{
  undefined4 uVar1;
  uint uVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  uint uVar8;
  uint SMDID;
  
LAB_WLDCORE__80090e34:
  do {
    switch(DAT_WLDCORE__800d4624) {
    case 0:
      if (DAT_WLDCORE__800d462c == 0) {
        return;
      }
      DAT_WLDCORE__800d4624 = DAT_WLDCORE__800d45a4;
      DAT_WLDCORE__800d4628 = DAT_WLDCORE__800d45e4;
      iVar3 = 0;
      if (0 < DAT_WLDCORE__800d462c + -1) {
        puVar6 = &DAT_WLDCORE__800d45e4;
        puVar5 = &DAT_WLDCORE__800d45e8;
        puVar7 = &DAT_WLDCORE__800d45a4;
        puVar4 = &DAT_WLDCORE__800d45a8;
        do {
          uVar1 = *puVar4;
          puVar4 = puVar4 + 1;
          iVar3 = iVar3 + 1;
          *puVar7 = uVar1;
          uVar1 = *puVar5;
          puVar5 = puVar5 + 1;
          puVar7 = puVar7 + 1;
          *puVar6 = uVar1;
          puVar6 = puVar6 + 1;
        } while (iVar3 < DAT_WLDCORE__800d462c + -1);
      }
      DAT_WLDCORE__800d462c = DAT_WLDCORE__800d462c + -1;
      goto LAB_WLDCORE__80090e34;
    case 1:
      if (fileOpenDesc_8004eaf4.busy == 0) {
        uVar8 = (int)(DAT_WLDCORE__800d4628 & 0xf00) >> 8;
        uVar2 = (&DAT_WLDCORE__800d4630)[uVar8];
        SMDID = DAT_WLDCORE__800d4628 & 0xff;
        if (uVar2 == SMDID) {
          DAT_WLDCORE__800d4624 = 0;
          DAT_WLDCORE__800d463c = uVar8;
          FUN_80043a90(uVar8,0,0);
        }
        else {
          if (uVar2 != 0) {
            FUN_800439c0(uVar8);
          }
          iVar3 = FUN_800435c4(SMDID,uVar8);
          if (iVar3 == 0) {
            DAT_WLDCORE__800d4624 = 0;
          }
          else {
            DAT_WLDCORE__800d4624 = 0x10;
            DAT_WLDCORE__800d463c = uVar8;
            (&DAT_WLDCORE__800d4630)[uVar8] = SMDID;
          }
        }
      }
      return;
    case 2:
      if ((DAT_WLDCORE__800d4630 & 1) != 0) {
        FUN_80043be8(0,(short)(DAT_WLDCORE__800d4628 << 2));
        DAT_WLDCORE__800d4624 = 0x11;
        return;
      }
      break;
    case 3:
      FUN_80043a90(DAT_WLDCORE__800d463c,0,0);
      FUN_80043be8(DAT_WLDCORE__800d4640,(short)(DAT_WLDCORE__800d4628 << 2));
      DAT_WLDCORE__800d4624 = 0x12;
      return;
    case 4:
      uVar2 = DAT_WLDCORE__800d4628;
      if (DAT_WLDCORE__800d4628 == 0) {
        uVar2 = DAT_WLDCORE__800d463c;
      }
      FUN_800439c0(uVar2);
      if (uVar2 == DAT_WLDCORE__800d463c) {
        DAT_WLDCORE__800d4630 = DAT_WLDCORE__800d4630 & 0xfffffffe;
      }
      (&DAT_WLDCORE__800d4630)[uVar2] = 0;
      break;
    case 0x10:
      if (fileOpenDesc_8004eaf4.busy != 0) {
        return;
      }
      break;
    case 0x11:
      DAT_WLDCORE__800d4628 = DAT_WLDCORE__800d4628 - 1;
      if (DAT_WLDCORE__800d4628 != 0) {
        return;
      }
      DAT_WLDCORE__800d4630 = DAT_WLDCORE__800d4630 & 0xfffffffe;
      FUN_80043a38();
      break;
    case 0x12:
      goto switchD_WLDCORE__80090e60_caseD_12;
    }
    DAT_WLDCORE__800d4624 = 0;
  } while( true );
switchD_WLDCORE__80090e60_caseD_12:
  if (DAT_WLDCORE__800d4628 - 1 != 0) {
    DAT_WLDCORE__800d4628 = DAT_WLDCORE__800d4628 - 1;
    return;
  }
  DAT_WLDCORE__800d4624 = 0;
  DAT_WLDCORE__800d4630 = DAT_WLDCORE__800d4630 | 1;
  DAT_WLDCORE__800d4628 = 0;
  goto LAB_WLDCORE__80090e34;
}



void FUN_WLDCORE__80091174(undefined4 param_1)

{
  if ((DAT_WLDCORE__800d4630 & 1) != 0) {
    FUN_WLDCORE__80090d50(2,0x10);
  }
  FUN_WLDCORE__80090d50(1,param_1);
  FUN_WLDCORE__80090d50(3,0x10);
  return;
}



void FUN_WLDCORE__800911cc(void)

{
  while ((DAT_WLDCORE__800d462c != 0 || (DAT_WLDCORE__800d4624 != 0))) {
    Open_File_to_RAM_Centre((int)&fileOpenDesc_8004eaf4);
    FUN_WLDCORE__80090e20();
    VSync(0);
  }
  return;
}



undefined4 FUN_WLDCORE__80091238(int param_1,uint param_2)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  
  DAT_WLDCORE__800d4648 =
       (ushort *)
       (DAT_WLDCORE__800d4674 + (*(ushort *)(param_1 * 2 + DAT_WLDCORE__800d4674) & 0xfffe));
  uVar1 = *DAT_WLDCORE__800d4648;
  uVar3 = 0;
  while( true ) {
    if (uVar1 == 0) {
      return 0;
    }
    DAT_WLDCORE__800d4650 = 0;
    DAT_WLDCORE__800d4644 = 0;
    DAT_WLDCORE__800d464c = DAT_WLDCORE__800d4674 + (uVar1 & 0xfffe);
    do {
      uVar2 = (uint)DAT_WLDCORE__800d4650;
      DAT_WLDCORE__800d4650 = DAT_WLDCORE__800d4650 + 1;
      (*(code *)(&PTR_DAT_WLDCORE__80091380_WLDCORE__8009ee50)
                [*(ushort *)(uVar2 * 2 + DAT_WLDCORE__800d464c)])();
    } while ((DAT_WLDCORE__800d4644 & 3) == 0);
    if (((DAT_WLDCORE__800d4644 & 1) != 0) && ((DAT_WLDCORE__800d4644 & param_2) != 0)) break;
    uVar3 = uVar3 + 1;
    uVar1 = DAT_WLDCORE__800d4648[uVar3 & 0xffff];
  }
  return 1;
}



void FUN_WLDCORE__800920e8(int param_1,uint param_2,int param_3)

{
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  
  uVar1 = param_2;
  if ((int)param_2 < 0) {
    uVar1 = param_2 + 0x1f;
  }
  uVar3 = 1 << (param_2 & 0x1f);
  if (param_3 == 0) {
    puVar2 = (uint *)(((int)uVar1 >> 5) * 4 + param_1);
    *puVar2 = *puVar2 & ~uVar3;
  }
  else {
    puVar2 = (uint *)(((int)uVar1 >> 5) * 4 + param_1);
    *puVar2 = *puVar2 | uVar3;
  }
  return;
}



void FUN_WLDCORE__80092b04(undefined4 param_1)

{
  undefined auStackX_0 [16];
  
  *(BADSPACEBASE **)param_1 = register0x00000074;
  return;
}



void FUN_WLDCORE__80092b1c(void)

{
  return;
}



void FUN_WLDCORE__8009de1c(int param_1)

{
  int iVar1;
  int iVar2;
  byte *pbVar3;
  byte *pbVar4;
  undefined4 *puVar5;
  int iVar6;
  byte *pbVar7;
  int iVar8;
  uint local_30;
  uint local_2c [3];
  
  pbVar7 = PTR_DAT_WLDCORE__80097028_WLDCORE__80096a48;
  iVar6 = 0;
  puVar5 = &DAT_80057f34;
  iVar1 = FUN_WORLD__800ef1a8(0x67);
  FUN_WORLD__800ef25c(0x67,iVar1 + param_1 / 0x16d);
  iVar8 = param_1 % 0x16d;
  local_30 = FUN_WORLD__800ef1a8(0x2e);
  local_2c[0] = FUN_WORLD__800ef1a8(0x2f);
  iVar1 = FUN_WLDCORE__8006a0ac(local_30,local_2c[0]);
  do {
    *(char *)puVar5 = *(char *)puVar5 + (char)(param_1 / 0x16d);
    if (iVar6 == 0) {
      local_30 = FUN_WORLD__800ef1a8(0x5f);
      local_2c[0] = FUN_WORLD__800ef1a8(0x60);
    }
    else {
      local_30 = (uint)*pbVar7;
      local_2c[0] = (uint)pbVar7[1];
    }
    iVar2 = FUN_WLDCORE__8006a0ac(local_30,local_2c[0]);
    if ((0 < iVar2 - iVar1) && (iVar2 - iVar1 <= iVar8)) {
      *(char *)puVar5 = *(char *)puVar5 + '\x01';
    }
    if (99 < *(byte *)puVar5) {
      *(undefined *)puVar5 = 99;
    }
    puVar5 = (undefined4 *)((int)puVar5 + 1);
    iVar6 = iVar6 + 1;
    pbVar7 = pbVar7 + 2;
  } while (iVar6 < 0x40);
  iVar1 = iVar1 + iVar8;
  if (0x16c < iVar1) {
    iVar6 = FUN_WORLD__800ef1a8(0x67);
    FUN_WORLD__800ef25c(0x67,iVar6 + 1);
    iVar1 = iVar1 + -0x16d;
  }
  FUN_WLDCORE__8006a0f8(iVar1,(int *)&local_30,(int *)local_2c);
  FUN_WORLD__800ef25c(0x2e,local_30);
  FUN_WORLD__800ef25c(0x2f,local_2c[0]);
  iVar1 = 0;
  if (DAT_80057ce8 != 0) {
    pbVar3 = &DAT_80057eec;
    pbVar4 = &DAT_80057eee;
    iVar6 = 0;
    pbVar7 = pbVar3;
    do {
      if ((*pbVar3 & 4) == 0) {
        if ((int)((uint)*pbVar4 + iVar8) < (int)(uint)(byte)(&DAT_80057eef)[iVar6]) {
          if ((*pbVar3 & 2) == 0) goto LAB_WLDCORE__8009e04c;
          pbVar7[2] = *pbVar4 + 1;
        }
        else {
          *pbVar4 = (&DAT_80057eef)[iVar6];
        }
        *pbVar3 = *pbVar3 | 4;
      }
LAB_WLDCORE__8009e04c:
      pbVar3 = pbVar3 + 9;
      pbVar7 = pbVar7 + 9;
      pbVar4 = pbVar4 + 9;
      iVar1 = iVar1 + 1;
      iVar6 = iVar6 + 9;
    } while (iVar1 < (int)(uint)DAT_80057ce8);
  }
  pbVar7 = &DAT_80057d24;
  do {
    local_2c[0] = (*pbVar7 & 0x3f) - iVar8;
    if ((*pbVar7 & 0x3f) != 0) {
      if ((int)local_2c[0] < 0) {
        local_2c[0] = 0;
      }
      *pbVar7 = *pbVar7 & 0xc0 | (byte)local_2c[0] & 0x3f;
    }
    pbVar7 = pbVar7 + 1;
  } while ((int)pbVar7 < -0x7ffa827c);
  return;
}



// Possible 2D_PRIM.OBJ/GsSortPoly

void GsSortPoly(void *pp,GsOT *ot,ushort pri)

{
  int *piVar1;
  byte bVar2;
  short sVar3;
  byte bVar4;
  byte bVar5;
  int *piVar6;
  
  sVar3 = DAT_WORLD__801cd6ec;
  piVar6 = DAT_WORLD__801cd518;
  bVar5 = 4;
  bVar2 = *(byte *)((int)pp + 7);
  DAT_WORLD__801cd518[1] = *(int *)((int)pp + 4);
  *(short *)(piVar6 + 2) = *(short *)((int)pp + 8) + sVar3;
  *(short *)((int)piVar6 + 10) = *(short *)((int)pp + 10) + DAT_WORLD__801cd6f0;
  if ((bVar2 & 4) != 0) {
    piVar1 = (int *)((int)pp + 0xc);
    pp = (void *)((int)pp + 4);
    bVar5 = 5;
    piVar6[3] = *piVar1;
    piVar6 = piVar6 + 1;
  }
  if ((bVar2 & 0x10) != 0) {
    piVar1 = (int *)((int)pp + 0xc);
    pp = (void *)((int)pp + 4);
    bVar5 = bVar5 + 1;
    piVar6[3] = *piVar1;
    piVar6 = piVar6 + 1;
  }
  *(short *)(piVar6 + 3) = *(short *)((int)pp + 0xc) + DAT_WORLD__801cd6ec;
  *(short *)((int)piVar6 + 0xe) = *(short *)((int)pp + 0xe) + DAT_WORLD__801cd6f0;
  if ((bVar2 & 4) != 0) {
    piVar1 = (int *)((int)pp + 0x10);
    pp = (void *)((int)pp + 4);
    bVar5 = bVar5 + 1;
    piVar6[4] = *piVar1;
    piVar6 = piVar6 + 1;
  }
  if ((bVar2 & 0x10) != 0) {
    piVar1 = (int *)((int)pp + 0x10);
    pp = (void *)((int)pp + 4);
    bVar5 = bVar5 + 1;
    piVar6[4] = *piVar1;
    piVar6 = piVar6 + 1;
  }
  *(short *)(piVar6 + 4) = *(short *)((int)pp + 0x10) + DAT_WORLD__801cd6ec;
  *(short *)((int)piVar6 + 0x12) = *(short *)((int)pp + 0x12) + DAT_WORLD__801cd6f0;
  if ((bVar2 & 4) != 0) {
    piVar1 = (int *)((int)pp + 0x14);
    pp = (void *)((int)pp + 4);
    bVar5 = bVar5 + 1;
    piVar6[5] = *piVar1;
    piVar6 = piVar6 + 1;
  }
  if ((bVar2 & 8) != 0) {
    bVar4 = bVar5;
    if ((bVar2 & 0x10) != 0) {
      piVar1 = (int *)((int)pp + 0x14);
      pp = (void *)((int)pp + 4);
      bVar4 = bVar5 + 1;
      piVar6[5] = *piVar1;
      piVar6 = piVar6 + 1;
    }
    *(short *)(piVar6 + 5) = *(short *)((int)pp + 0x14) + DAT_WORLD__801cd6ec;
    bVar5 = bVar4 + 1;
    *(short *)((int)piVar6 + 0x16) = *(short *)((int)pp + 0x16) + DAT_WORLD__801cd6f0;
    if ((bVar2 & 4) != 0) {
      bVar5 = bVar4 + 2;
      piVar6[6] = *(int *)((int)pp + 0x18);
    }
  }
  DAT_WORLD__801cd518 = _make_packet(DAT_WORLD__801cd518,(int)ot,(uint)pri,bVar5);
  return;
}



// Possible 2D_COM1.OBJ/_make_packet

int * _make_packet(int *param_1,int param_2,uint param_3,byte param_4)

{
  int **ppiVar1;
  int iVar2;
  
  iVar2 = (param_3 & 0xffff) - *(int *)(param_2 + 8);
  if (iVar2 < 0) {
                    // WARNING: Subroutine does not return
    printf(s_ps_sort_sprite_bg__z_resolution_o_WORLD__800e0000);
  }
  ppiVar1 = (int **)(iVar2 * 4 + *(int *)(param_2 + 4));
  *param_1 = (int)*ppiVar1;
  *(byte *)((int)param_1 + 3) = param_4;
  *ppiVar1 = param_1;
  *(undefined *)((int)ppiVar1 + 3) = 0;
  return param_1 + param_4 + 1;
}



// Possible 2D_SP0.OBJ/GsSortSprite

void GsSortSprite(GsSPRITE *_29,GsOT *ot,ushort pri)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  byte bVar6;
  byte bVar7;
  short sVar8;
  short sVar9;
  ushort uVar10;
  int *piVar11;
  int iVar12;
  uint uVar13;
  SVECTOR *_2;
  uint uVar14;
  SVECTOR *_3;
  SVECTOR *v2;
  int iVar15;
  SVECTOR *v3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  uint uVar16;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_retaddr;
  undefined4 in_stack_ffffff60;
  long *sxy0;
  undefined4 in_stack_ffffff64;
  long *sxy1;
  undefined4 in_stack_ffffff68;
  long *sxy2;
  undefined4 in_stack_ffffff6c;
  long *sxy3;
  undefined4 in_stack_ffffff70;
  long *p;
  undefined4 in_stack_ffffff74;
  long *flag;
  MATRIX local_88;
  SVECTOR local_68;
  long in_stack_ffffffa0;
  long in_stack_ffffffa4;
  long in_stack_ffffffa8;
  short in_stack_ffffffb0;
  short in_stack_ffffffb2;
  short in_stack_ffffffb4;
  short in_stack_ffffffb8;
  short in_stack_ffffffba;
  short in_stack_ffffffbc;
  short in_stack_ffffffc0;
  short in_stack_ffffffc2;
  short in_stack_ffffffc4;
  short in_stack_ffffffc8;
  short in_stack_ffffffca;
  short in_stack_ffffffcc;
  int in_stack_ffffffd0;
  int in_stack_ffffffd4;
  int in_stack_ffffffd8;
  int in_stack_ffffffdc;
  long lStack_20;
  long lStack_1c;
  
  piVar11 = DAT_WORLD__801cd518;
  uVar16 = _29->attribute;
  if ((int)uVar16 < 0) {
    return;
  }
  if (_29->w == 0) {
    return;
  }
  uVar14 = 0;
  if (_29->h == 0) {
    return;
  }
  iVar12._0_2_ = _29->scalex;
  iVar12._2_2_ = _29->scaley;
  uVar13 = uVar16 >> 0x1b & 1;
  if (iVar12 == 0x10001000) {
    if (_29->rotate != 0) goto _D_SP0_OBJ_94;
    uVar14 = (uint)((uVar16 & 0xc00000) == 0);
  }
  uVar13 = uVar13 | uVar14;
_D_SP0_OBJ_94:
  if (uVar13 != 0) {
                    // Probable PsyQ macro: setDrawTPage() if setlen(p, 1), setDrawMode() if
                    // setlen(p, 2).
    sVar8 = _29->x;
    sVar9 = _29->y;
    DAT_WORLD__801cd518[1] =
         _29->tpage & 0x1f | uVar16 >> 0x11 & 0x180 | 0xe1000200 | uVar16 >> 0x17 & 0x60;
    iVar15 = (int)DAT_WORLD__801cd6ec;
    iVar12 = (int)DAT_WORLD__801cd6f0;
    piVar11[2] = uVar16 >> 5 & 0x2000000 | (uVar16 & 0x40) << 0x12 | 0x64000000 |
                 (uint)_29->b << 0x10 | (uint)_29->g << 8 | (uint)_29->r;
    piVar11[3] = (sVar8 + iVar15) - (int)_29->mx & 0xffffU |
                 ((sVar9 + iVar12) - (int)_29->my) * 0x10000;
    uVar10._0_1_ = _29->u;
    uVar10._1_1_ = _29->v;
    piVar11[4] = (uint)uVar10 | (int)_29->cy << 0x16 | ((int)_29->cx & 0x3f0U) << 0xc;
    _D_SP0_OBJ_4C0(piVar11,(int)ot,(uint)pri,5,(char)in_stack_ffffff60,(char)in_stack_ffffff64,
                   (char)in_stack_ffffff68,(char)in_stack_ffffff6c,(char)in_stack_ffffff70,
                   (char)in_stack_ffffff74,unaff_s0,unaff_s1,unaff_s2,unaff_s3,unaff_s4,
                   unaff_retaddr);
    return;
  }
  if (_29->rotate != 0) {
    local_68.vx = 0;
    local_68.vy = 0;
    local_68.vz = (short)((ulonglong)((longlong)_29->rotate * 0xb60b60b7) >> 0x28) -
                  (short)(_29->rotate >> 0x1f);
    RotMatrix(&local_68,&local_88);
    iVar15._0_2_ = _29->scalex;
    iVar15._2_2_ = _29->scaley;
    if (iVar15 != 0x10001000) {
      ScaleMatrix(&local_88,(VECTOR *)&stack0xffffffa0);
    }
    FUN_8001d158();
    FUN_8001cf48((int)&local_88,(undefined4 *)&stack0xffffffa0);
    SetRotMatrix(&local_88);
    SetTransMatrix(&local_88);
    _2 = (SVECTOR *)&stack0xffffffb0;
    _3 = (SVECTOR *)&stack0xffffffb8;
    v2 = (SVECTOR *)&stack0xffffffc0;
    v3 = (SVECTOR *)&stack0xffffffc8;
    sxy0 = (long *)&stack0xffffffd0;
    sxy1 = (long *)&stack0xffffffd4;
    sxy2 = (long *)&stack0xffffffd8;
    sxy3 = (long *)&stack0xffffffdc;
    p = &lStack_20;
    flag = &lStack_1c;
    RotTransPers4(_2,_3,v2,v3,sxy0,sxy1,sxy2,sxy3,p,flag);
    if ((uVar16 & 0x800000) == 0) {
      bVar1 = _29->u;
      bVar2 = *(byte *)&_29->w;
      if ((uVar16 & 0x400000) == 0) {
        bVar3 = _29->v;
        bVar4 = *(byte *)&_29->h;
        bVar5 = _29->b;
        bVar6 = _29->g;
        bVar7 = _29->r;
        piVar11[2] = in_stack_ffffffd0;
        piVar11[1] = uVar16 >> 5 & 0x2000000 | (uVar16 & 0x40) << 0x12 | 0x2c000000 |
                     (uint)bVar5 << 0x10 | (uint)bVar6 << 8 | (uint)bVar7;
        sVar8 = _29->cy;
        sVar9 = _29->cx;
        piVar11[4] = in_stack_ffffffd4;
        piVar11[3] = (uint)CONCAT11(bVar3,bVar1) | (int)sVar8 << 0x16 | ((int)sVar9 & 0x3f0U) << 0xc
        ;
        uVar10 = _29->tpage;
        piVar11[6] = in_stack_ffffffd8;
        uVar14 = (((uint)bVar3 + (uint)bVar4) - 1 & 0xff) << 8;
        piVar11[7] = bVar1 | uVar14;
        piVar11[8] = in_stack_ffffffdc;
        uVar13 = ((uint)bVar1 + (uint)bVar2) - 1 & 0xff;
        piVar11[9] = uVar13 | uVar14;
        piVar11[5] = uVar13 | (uint)bVar3 << 8 | (uVar10 & 0x1f) << 0x10 | uVar16 >> 1 & 0x1800000 |
                     uVar16 >> 7 & 0x600000;
        DAT_WORLD__801cd518 = _make_packet(piVar11,(int)ot,(uint)pri,9);
        return;
      }
      _D_SP0_OBJ_3C8((char)_2,(char)_3,(char)v2,(char)v3,(char)sxy0,(char)sxy1,(char)sxy2,(char)sxy3
                     ,(char)p,(char)flag,in_stack_ffffffd0,in_stack_ffffffd4,in_stack_ffffffd8,
                     in_stack_ffffffdc);
      return;
    }
    _D_SP0_OBJ_388();
    return;
  }
  local_88.m[0]._0_4_ = DAT_WORLD__801cd764;
  local_88.m._4_4_ = DAT_WORLD__801cd768;
  local_88.m[1]._2_4_ = DAT_WORLD__801cd76c;
  local_88.m[2]._0_4_ = DAT_WORLD__801cd770;
  local_88._16_4_ = DAT_WORLD__801cd774;
  local_88.t[0] = DAT_WORLD__801cd778;
  local_88.t[1] = DAT_WORLD__801cd77c;
  local_88.t[2] = DAT_WORLD__801cd780;
  _D_SP0_OBJ_240((char)DAT_WORLD__801cd778,100,(char)pri,0,in_stack_ffffff60,in_stack_ffffff64,
                 in_stack_ffffff68,in_stack_ffffff6c,in_stack_ffffff70,in_stack_ffffff74,
                 in_stack_ffffffa0,in_stack_ffffffa4,in_stack_ffffffa8,in_stack_ffffffb0,
                 in_stack_ffffffb2,in_stack_ffffffb4,in_stack_ffffffb8,in_stack_ffffffba,
                 in_stack_ffffffbc,in_stack_ffffffc0,in_stack_ffffffc2,in_stack_ffffffc4,
                 in_stack_ffffffc8,in_stack_ffffffca,in_stack_ffffffcc);
  return;
}



// Possible 2D_SP0.OBJ/2D_SP0_OBJ_240

void _D_SP0_OBJ_240(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                   undefined4 param_9,undefined4 param_10,int param_11,int param_12,
                   undefined4 param_13,short param_14,short param_15,undefined2 param_16,
                   short param_17,short param_18,undefined2 param_19,short param_20,short param_21,
                   undefined2 param_22,short param_23,short param_24,undefined2 param_25)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  byte bVar6;
  byte bVar7;
  short sVar8;
  short sVar9;
  ushort uVar10;
  uint uVar11;
  uint in_v1;
  uint uVar12;
  SVECTOR *_2;
  SVECTOR *_3;
  SVECTOR *v2;
  SVECTOR *v3;
  int unaff_s0;
  uint unaff_s1;
  int *unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  int in_stack_00000080;
  int in_stack_00000084;
  int in_stack_00000088;
  int in_stack_0000008c;
  
  if (*(uint *)(unaff_s0 + 0x1c) != (in_v1 | 0x1000)) {
    param_11 = (int)*(short *)(unaff_s0 + 0x1c);
    param_12 = (int)*(short *)(unaff_s0 + 0x1e);
    param_13 = 0;
    ScaleMatrix((MATRIX *)&stack0x00000028,(VECTOR *)&param_11);
  }
  param_11 = (int)*(short *)(unaff_s0 + 4);
  param_12 = (int)*(short *)(unaff_s0 + 6);
  param_13 = FUN_8001d158();
  FUN_8001cf48((int)&stack0x00000028,&param_11);
  SetRotMatrix((MATRIX *)&stack0x00000028);
  SetTransMatrix((MATRIX *)&stack0x00000028);
  param_16 = 0;
  param_14 = -*(short *)(unaff_s0 + 0x18);
  param_15 = -*(short *)(unaff_s0 + 0x1a);
  _2 = (SVECTOR *)&param_14;
  param_19 = 0;
  param_17 = param_14 + *(short *)(unaff_s0 + 8);
  _3 = (SVECTOR *)&param_17;
  param_22 = 0;
  param_21 = param_15 + *(short *)(unaff_s0 + 10);
  v2 = (SVECTOR *)&param_20;
  param_23 = param_14 + *(short *)(unaff_s0 + 8);
  v3 = (SVECTOR *)&param_23;
  param_25 = 0;
  param_24 = param_15 + *(short *)(unaff_s0 + 10);
  param_18 = param_15;
  param_20 = param_14;
  RotTransPers4(_2,_3,v2,v3,(long *)&stack0x00000080,(long *)&stack0x00000084,
                (long *)&stack0x00000088,(long *)&stack0x0000008c,(long *)&stack0x00000090,
                (long *)&stack0x00000094);
  if ((unaff_s1 & 0x800000) != 0) {
    _D_SP0_OBJ_388();
    return;
  }
  bVar1 = *(byte *)(unaff_s0 + 0xe);
  bVar2 = *(byte *)(unaff_s0 + 8);
  if ((unaff_s1 & 0x400000) != 0) {
    param_5._0_1_ = SUB41(&stack0x00000080,0);
    param_6._0_1_ = SUB41(&stack0x00000084,0);
    param_7._0_1_ = SUB41(&stack0x00000088,0);
    param_8._0_1_ = SUB41(&stack0x0000008c,0);
    param_9._0_1_ = SUB41(&stack0x00000090,0);
    param_10._0_1_ = SUB41(&stack0x00000094,0);
    _D_SP0_OBJ_3C8((char)_2,(char)_3,(char)v2,(char)v3,(undefined)param_5,(undefined)param_6,
                   (undefined)param_7,(undefined)param_8,(undefined)param_9,(undefined)param_10,
                   in_stack_00000080,in_stack_00000084,in_stack_00000088,in_stack_0000008c);
    return;
  }
  bVar3 = *(byte *)(unaff_s0 + 0xf);
  bVar4 = *(byte *)(unaff_s0 + 10);
  bVar5 = *(byte *)(unaff_s0 + 0x16);
  bVar6 = *(byte *)(unaff_s0 + 0x15);
  bVar7 = *(byte *)(unaff_s0 + 0x14);
  unaff_s2[2] = in_stack_00000080;
  unaff_s2[1] = unaff_s1 >> 5 & 0x2000000 | (unaff_s1 & 0x40) << 0x12 | 0x2c000000 |
                (uint)bVar5 << 0x10 | (uint)bVar6 << 8 | (uint)bVar7;
  sVar8 = *(short *)(unaff_s0 + 0x12);
  sVar9 = *(short *)(unaff_s0 + 0x10);
  unaff_s2[4] = in_stack_00000084;
  unaff_s2[3] = (uint)CONCAT11(bVar3,bVar1) | (int)sVar8 << 0x16 | ((int)sVar9 & 0x3f0U) << 0xc;
  uVar10 = *(ushort *)(unaff_s0 + 0xc);
  unaff_s2[6] = in_stack_00000088;
  uVar11 = (((uint)bVar3 + (uint)bVar4) - 1 & 0xff) << 8;
  unaff_s2[7] = bVar1 | uVar11;
  unaff_s2[8] = in_stack_0000008c;
  uVar12 = ((uint)bVar1 + (uint)bVar2) - 1 & 0xff;
  unaff_s2[9] = uVar12 | uVar11;
  unaff_s2[5] = uVar12 | (uint)bVar3 << 8 | (uVar10 & 0x1f) << 0x10 | unaff_s1 >> 1 & 0x1800000 |
                unaff_s1 >> 7 & 0x600000;
  DAT_WORLD__801cd518 = _make_packet(unaff_s2,unaff_s3,unaff_s4 & 0xffff,9);
  return;
}



// Possible 2D_SP0.OBJ/2D_SP0_OBJ_388

void _D_SP0_OBJ_388(void)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  short sVar6;
  short sVar7;
  ushort uVar8;
  uint uVar9;
  undefined in_a0;
  undefined in_a1;
  undefined in_a2;
  undefined in_a3;
  uint in_t1;
  uint uVar10;
  uint in_t4;
  int unaff_s0;
  uint unaff_s1;
  int *unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  undefined in_stack_00000010;
  undefined in_stack_00000014;
  undefined in_stack_00000018;
  undefined in_stack_0000001c;
  undefined in_stack_00000020;
  undefined in_stack_00000024;
  int in_stack_00000080;
  int in_stack_00000084;
  int in_stack_00000088;
  int in_stack_0000008c;
  
  if ((unaff_s1 & 0x400000) != 0) {
    _D_SP0_OBJ_3C8(in_a0,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                   in_stack_0000001c,in_stack_00000020,in_stack_00000024,in_stack_00000080,
                   in_stack_00000084,in_stack_00000088,in_stack_0000008c);
    return;
  }
  bVar1 = *(byte *)(unaff_s0 + 0xf);
  bVar2 = *(byte *)(unaff_s0 + 10);
  uVar10 = (uint)bVar1 << 8;
  bVar3 = *(byte *)(unaff_s0 + 0x16);
  bVar4 = *(byte *)(unaff_s0 + 0x15);
  bVar5 = *(byte *)(unaff_s0 + 0x14);
  unaff_s2[2] = in_stack_00000080;
  unaff_s2[1] = unaff_s1 >> 5 & 0x2000000 | (unaff_s1 & 0x40) << 0x12 | 0x2c000000 |
                (uint)bVar3 << 0x10 | (uint)bVar4 << 8 | (uint)bVar5;
  sVar6 = *(short *)(unaff_s0 + 0x12);
  sVar7 = *(short *)(unaff_s0 + 0x10);
  unaff_s2[4] = in_stack_00000084;
  unaff_s2[3] = in_t1 & 0xff | uVar10 | (int)sVar6 << 0x16 | ((int)sVar7 & 0x3f0U) << 0xc;
  uVar8 = *(ushort *)(unaff_s0 + 0xc);
  unaff_s2[6] = in_stack_00000088;
  uVar9 = (((uint)bVar1 + (uint)bVar2) - 1 & 0xff) << 8;
  unaff_s2[7] = in_t1 & 0xff | uVar9;
  unaff_s2[8] = in_stack_0000008c;
  unaff_s2[9] = in_t4 & 0xff | uVar9;
  unaff_s2[5] = in_t4 & 0xff | uVar10 | (uVar8 & 0x1f) << 0x10 | unaff_s1 >> 1 & 0x1800000 |
                unaff_s1 >> 7 & 0x600000;
  DAT_WORLD__801cd518 = _make_packet(unaff_s2,unaff_s3,unaff_s4 & 0xffff,9);
  return;
}



// Possible 2D_SP0.OBJ/2D_SP0_OBJ_3C8

void _D_SP0_OBJ_3C8(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined param_5,undefined param_6,undefined param_7,undefined param_8,
                   undefined param_9,undefined param_10,int param_11,int param_12,int param_13,
                   int param_14)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  short sVar4;
  short sVar5;
  ushort uVar6;
  uint uVar7;
  uint in_t1;
  uint in_t2;
  uint uVar8;
  uint in_t3;
  uint in_t4;
  int unaff_s0;
  uint unaff_s1;
  int *unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  
  uVar8 = (in_t2 & 0xff) << 8;
  bVar1 = *(byte *)(unaff_s0 + 0x16);
  bVar2 = *(byte *)(unaff_s0 + 0x15);
  bVar3 = *(byte *)(unaff_s0 + 0x14);
  unaff_s2[2] = param_11;
  unaff_s2[1] = unaff_s1 >> 5 & 0x2000000 | (unaff_s1 & 0x40) << 0x12 | 0x2c000000 |
                (uint)bVar1 << 0x10 | (uint)bVar2 << 8 | (uint)bVar3;
  sVar4 = *(short *)(unaff_s0 + 0x12);
  sVar5 = *(short *)(unaff_s0 + 0x10);
  unaff_s2[4] = param_12;
  unaff_s2[3] = in_t1 & 0xff | uVar8 | (int)sVar4 << 0x16 | ((int)sVar5 & 0x3f0U) << 0xc;
  uVar6 = *(ushort *)(unaff_s0 + 0xc);
  unaff_s2[6] = param_13;
  uVar7 = (in_t3 & 0xff) << 8;
  unaff_s2[7] = in_t1 & 0xff | uVar7;
  unaff_s2[8] = param_14;
  unaff_s2[9] = in_t4 & 0xff | uVar7;
  unaff_s2[5] = in_t4 & 0xff | uVar8 | (uVar6 & 0x1f) << 0x10 | unaff_s1 >> 1 & 0x1800000 |
                unaff_s1 >> 7 & 0x600000;
  DAT_WORLD__801cd518 = _make_packet(unaff_s2,unaff_s3,unaff_s4 & 0xffff,9);
  return;
}



// Possible 2D_SP0.OBJ/2D_SP0_OBJ_4C0

void _D_SP0_OBJ_4C0(int *param_1,int param_2,uint param_3,byte param_4,undefined param_5,
                   undefined param_6,undefined param_7,undefined param_8,undefined param_9,
                   undefined param_10,undefined4 param_11,undefined4 param_12,undefined4 param_13,
                   undefined4 param_14,undefined4 param_15,undefined4 param_16)

{
  uint in_v0;
  uint in_v1;
  
  param_1[5] = in_v1 | in_v0;
  DAT_WORLD__801cd518 = _make_packet(param_1,param_2,param_3,param_4);
  return;
}



// Possible 2D_SP1.OBJ/GsSortFastSprite

void GsSortFastSprite(GsSPRITE *_29,GsOT *ot,ushort pri)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  ushort uVar4;
  ushort uVar5;
  ulong uVar6;
  GsOT_TAG *pGVar7;
  GsOT_TAG GVar8;
  uint uVar9;
  
  uVar9 = _29->attribute;
  if (((-1 < (int)uVar9) && (_29->w != 0)) && (_29->h != 0)) {
                    // Probable PsyQ macro: setDrawTPage() if setlen(p, 1), setDrawMode() if
                    // setlen(p, 2).
    uVar4 = _29->y;
    uVar5 = _29->x;
    GVar8 = (GsOT_TAG)((uint)DAT_WORLD__801cd518 & 0xffffff);
    DAT_WORLD__801cd518[1] =
         _29->tpage & 0x1f | uVar9 >> 0x11 & 0x180 | 0xe1000200 | uVar9 >> 0x17 & 0x60;
    bVar1 = _29->b;
    bVar2 = _29->g;
    bVar3 = _29->r;
    DAT_WORLD__801cd518[3] =
         (uint)uVar5 + (uint)DAT_WORLD__801cd6ec & 0xffff |
         ((uint)uVar4 + (uint)DAT_WORLD__801cd6f0) * 0x10000;
    DAT_WORLD__801cd518[2] =
         uVar9 >> 5 & 0x2000000 | (uVar9 & 0x40) << 0x12 | 0x64000000 | (uint)bVar1 << 0x10 |
         (uint)bVar2 << 8 | (uint)bVar3;
    uVar4._0_1_ = _29->u;
    uVar4._1_1_ = _29->v;
    DAT_WORLD__801cd518[4] = (uint)uVar4 | (int)_29->cy << 0x16 | ((int)_29->cx & 0x3f0U) << 0xc;
    DAT_WORLD__801cd518[5] = *(int *)&_29->w;
    pGVar7 = ot->org;
    uVar6 = ot->offset;
    *DAT_WORLD__801cd518 = (int)pGVar7[pri - uVar6] + 0x5000000;
    DAT_WORLD__801cd518 = DAT_WORLD__801cd518 + 6;
    pGVar7[pri - uVar6] = GVar8;
  }
  return;
}



// Possible 2D_SP2.OBJ/GsSortFlipSprite

void GsSortFlipSprite(GsSPRITE *_29,GsOT *ot,ushort pri)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  byte bVar6;
  byte bVar7;
  ushort uVar8;
  ushort uVar9;
  int *piVar10;
  uint uVar11;
  uint uVar12;
  undefined in_a3;
  uint uVar13;
  int iVar14;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  uint uVar15;
  undefined4 unaff_retaddr;
  
  piVar10 = DAT_WORLD__801cd518;
  uVar13 = _29->attribute;
  if (((-1 < (int)uVar13) && (_29->w != 0)) && (_29->h != 0)) {
    uVar15 = ((int)_29->x + (int)DAT_WORLD__801cd6ec) - (int)_29->mx;
    iVar14 = ((int)_29->y + (int)DAT_WORLD__801cd6f0) - (int)_29->my;
    if ((uVar13 & 0x800000) != 0) {
      _D_SP2_OBJ_C4();
      return;
    }
    bVar1 = _29->u;
    bVar2 = *(byte *)&_29->w;
    if ((uVar13 & 0x400000) != 0) {
      _D_SP2_OBJ_104((char)_29->my,(char)ot,(char)pri,in_a3,unaff_s0,unaff_s1,unaff_s2,unaff_retaddr
                    );
      return;
    }
    bVar3 = _29->v;
    bVar4 = *(byte *)&_29->h;
    bVar5 = _29->b;
    bVar6 = _29->g;
    bVar7 = _29->r;
    DAT_WORLD__801cd518[2] = uVar15 & 0xffff | iVar14 * 0x10000;
    uVar12 = (uint)bVar1 + (uint)bVar2 & 0xff;
    piVar10[1] = uVar13 >> 5 & 0x2000000 | (uVar13 & 0x40) << 0x12 | 0x2c000000 |
                 (uint)bVar5 << 0x10 | (uint)bVar6 << 8 | (uint)bVar7;
    piVar10[3] = (uint)CONCAT11(bVar3,bVar1) | (int)_29->cy << 0x16 | ((int)_29->cx & 0x3f0U) << 0xc
    ;
    uVar11 = ((uint)bVar3 + (uint)bVar4 & 0xff) << 8;
    piVar10[4] = uVar15 + _29->w & 0xffff | iVar14 * 0x10000;
    piVar10[5] = uVar12 | (uint)bVar3 << 8 | (_29->tpage & 0x1f) << 0x10 | uVar13 >> 1 & 0x1800000 |
                 uVar13 >> 7 & 0x600000;
    uVar8 = _29->h;
    piVar10[7] = bVar1 | uVar11;
    piVar10[6] = uVar15 & 0xffff | (iVar14 + (uint)uVar8) * 0x10000;
    uVar8 = _29->w;
    uVar9 = _29->h;
    piVar10[9] = uVar12 | uVar11;
    piVar10[8] = uVar15 + uVar8 & 0xffff | (iVar14 + (uint)uVar9) * 0x10000;
    DAT_WORLD__801cd518 = _make_packet(piVar10,(int)ot,(uint)pri,9);
  }
  return;
}



// Possible 2D_SP2.OBJ/2D_SP2_OBJ_C4

void _D_SP2_OBJ_C4(void)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  ushort uVar6;
  ushort uVar7;
  undefined in_a0;
  uint uVar8;
  undefined in_a1;
  uint uVar9;
  undefined in_a2;
  undefined in_a3;
  int in_t2;
  int *in_t3;
  uint in_t5;
  uint in_t6;
  int in_t7;
  int unaff_s1;
  uint unaff_s2;
  uint in_t8;
  uint in_t9;
  undefined4 in_stack_00000010;
  undefined4 in_stack_00000014;
  undefined4 in_stack_00000018;
  undefined4 in_stack_0000001c;
  
  if ((in_t5 & 0x400000) != 0) {
    _D_SP2_OBJ_104(in_a0,in_a1,in_a2,in_a3,in_stack_00000010,in_stack_00000014,in_stack_00000018,
                   in_stack_0000001c);
    return;
  }
  bVar1 = *(byte *)(in_t2 + 0xf);
  bVar2 = *(byte *)(in_t2 + 10);
  bVar3 = *(byte *)(in_t2 + 0x16);
  bVar4 = *(byte *)(in_t2 + 0x15);
  bVar5 = *(byte *)(in_t2 + 0x14);
  in_t3[2] = in_t8 & 0xffff | in_t7 << 0x10;
  uVar9 = (uint)bVar1 << 8;
  in_t3[1] = in_t5 >> 5 & 0x2000000 | (in_t5 & 0x40) << 0x12 | 0x2c000000 | (uint)bVar3 << 0x10 |
             (uint)bVar4 << 8 | (uint)bVar5;
  in_t3[3] = in_t6 & 0xff | uVar9 | (int)*(short *)(in_t2 + 0x12) << 0x16 |
             ((int)*(short *)(in_t2 + 0x10) & 0x3f0U) << 0xc;
  uVar8 = ((uint)bVar1 + (uint)bVar2 & 0xff) << 8;
  in_t3[4] = in_t8 + *(ushort *)(in_t2 + 8) & 0xffff | in_t7 << 0x10;
  in_t3[5] = in_t9 & 0xff | uVar9 | (*(ushort *)(in_t2 + 0xc) & 0x1f) << 0x10 |
             in_t5 >> 1 & 0x1800000 | in_t5 >> 7 & 0x600000;
  uVar6 = *(ushort *)(in_t2 + 10);
  in_t3[7] = in_t6 & 0xff | uVar8;
  in_t3[6] = in_t8 & 0xffff | (in_t7 + (uint)uVar6) * 0x10000;
  uVar6 = *(ushort *)(in_t2 + 8);
  uVar7 = *(ushort *)(in_t2 + 10);
  in_t3[9] = in_t9 & 0xff | uVar8;
  in_t3[8] = in_t8 + uVar6 & 0xffff | (in_t7 + (uint)uVar7) * 0x10000;
  DAT_WORLD__801cd518 = _make_packet(in_t3,unaff_s1,unaff_s2 & 0xffff,9);
  return;
}



// Possible 2D_SP2.OBJ/2D_SP2_OBJ_104

void _D_SP2_OBJ_104(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  ushort uVar4;
  ushort uVar5;
  uint uVar6;
  uint uVar7;
  int in_t2;
  int *in_t3;
  uint in_t4;
  uint in_t5;
  uint in_t6;
  int in_t7;
  uint unaff_s0;
  int unaff_s1;
  uint unaff_s2;
  uint in_t8;
  uint in_t9;
  
  bVar1 = *(byte *)(in_t2 + 0x16);
  bVar2 = *(byte *)(in_t2 + 0x15);
  bVar3 = *(byte *)(in_t2 + 0x14);
  in_t3[2] = in_t8 & 0xffff | in_t7 << 0x10;
  uVar7 = (in_t4 & 0xff) << 8;
  in_t3[1] = in_t5 >> 5 & 0x2000000 | (in_t5 & 0x40) << 0x12 | 0x2c000000 | (uint)bVar1 << 0x10 |
             (uint)bVar2 << 8 | (uint)bVar3;
  in_t3[3] = in_t6 & 0xff | uVar7 | (int)*(short *)(in_t2 + 0x12) << 0x16 |
             ((int)*(short *)(in_t2 + 0x10) & 0x3f0U) << 0xc;
  uVar6 = (unaff_s0 & 0xff) << 8;
  in_t3[4] = in_t8 + *(ushort *)(in_t2 + 8) & 0xffff | in_t7 << 0x10;
  in_t3[5] = in_t9 & 0xff | uVar7 | (*(ushort *)(in_t2 + 0xc) & 0x1f) << 0x10 |
             in_t5 >> 1 & 0x1800000 | in_t5 >> 7 & 0x600000;
  uVar4 = *(ushort *)(in_t2 + 10);
  in_t3[7] = in_t6 & 0xff | uVar6;
  in_t3[6] = in_t8 & 0xffff | (in_t7 + (uint)uVar4) * 0x10000;
  uVar4 = *(ushort *)(in_t2 + 8);
  uVar5 = *(ushort *)(in_t2 + 10);
  in_t3[9] = in_t9 & 0xff | uVar6;
  in_t3[8] = in_t8 + uVar4 & 0xffff | (in_t7 + (uint)uVar5) * 0x10000;
  DAT_WORLD__801cd518 = _make_packet(in_t3,unaff_s1,unaff_s2 & 0xffff,9);
  return;
}



// Possible 2D_LIN0.OBJ/GsSortLine

void GsSortLine(GsLINE *lp,GsOT *ot,ushort pri)

{
  uchar uVar1;
  int *piVar2;
  short sVar3;
  short sVar4;
  ulong uVar5;
  
  piVar2 = DAT_WORLD__801cd518;
  uVar5 = lp->attribute;
  if (-1 < (int)uVar5) {
                    // Probable PsyQ macro: setDrawTPage() if setlen(p, 1), setDrawMode() if
                    // setlen(p, 2).
    DAT_WORLD__801cd518[1] = (int)uVar5 >> 0x17 & 0x60U | 0xe1000200;
    *(uchar *)(piVar2 + 2) = lp->r;
    *(uchar *)((int)piVar2 + 9) = lp->g;
    uVar1 = lp->b;
    *(byte *)((int)piVar2 + 0xb) = (byte)((int)uVar5 >> 0x1d) & 2 | 0x40;
    *(uchar *)((int)piVar2 + 10) = uVar1;
    sVar4 = DAT_WORLD__801cd6f0;
    sVar3 = DAT_WORLD__801cd6ec;
    *(short *)(piVar2 + 3) = lp->x0 + DAT_WORLD__801cd6ec;
    *(short *)((int)piVar2 + 0xe) = lp->y0 + sVar4;
    *(short *)(piVar2 + 4) = lp->x1 + sVar3;
    *(short *)((int)piVar2 + 0x12) = lp->y1 + sVar4;
    DAT_WORLD__801cd518 = _make_packet(piVar2,(int)ot,(uint)pri,4);
  }
  return;
}



// Possible 2D_BOX0.OBJ/GsSortBoxFill

void GsSortBoxFill(GsBOXF *bp,GsOT *ot,ushort pri)

{
  uchar uVar1;
  int *piVar2;
  ulong uVar3;
  
  piVar2 = DAT_WORLD__801cd518;
  uVar3 = bp->attribute;
  if (-1 < (int)uVar3) {
                    // Probable PsyQ macro: setDrawTPage() if setlen(p, 1), setDrawMode() if
                    // setlen(p, 2).
    DAT_WORLD__801cd518[1] = (int)uVar3 >> 0x11 & 0x180U | (int)uVar3 >> 0x17 & 0x60U | 0xe1000200;
    *(uchar *)(piVar2 + 2) = bp->r;
    *(uchar *)((int)piVar2 + 9) = bp->g;
    uVar1 = bp->b;
    *(byte *)((int)piVar2 + 0xb) = (byte)((int)uVar3 >> 0x1d) & 2 | 0x60;
    *(uchar *)((int)piVar2 + 10) = uVar1;
    *(short *)(piVar2 + 3) = bp->x + DAT_WORLD__801cd6ec;
    *(short *)((int)piVar2 + 0xe) = bp->y + DAT_WORLD__801cd6f0;
    *(ushort *)(piVar2 + 4) = bp->w;
    *(ushort *)((int)piVar2 + 0x12) = bp->h;
    DAT_WORLD__801cd518 = _make_packet(piVar2,(int)ot,(uint)pri,4);
  }
  return;
}



void FUN_WORLD__800e10f4(ushort param_1,ushort param_2,ushort param_3,undefined param_4,
                        undefined param_5)

{
  DAT_WORLD__801cd6e4 = (byte)param_3 & 1;
  DAT_WORLD__801cd880 = param_3 & 4;
  DAT_WORLD__801cd68c = 0;
  DAT_WORLD__801cd68f = 0;
  DAT_WORLD__801cd690 = 0;
  DAT_WORLD__801cd6e5 = param_5;
  DAT_WORLD__801cd68e = param_4;
  DAT_WORLD__801cd6d8 = param_1;
  DAT_WORLD__801cd6da = param_2;
  FUN_WORLD__800e116c((uint)param_1,(uint)param_2);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WORLD__800e116c(uint param_1,uint param_2)

{
  DAT_WORLD__801cd760 = param_2 & 0xffff;
  DAT_WORLD__801cd74c = param_1 & 0xffff;
  if (DAT_WORLD__801cd74c == 0) {
    trap(0x1c00);
  }
  if ((DAT_WORLD__801cd74c == 0xffffffff) && (DAT_WORLD__801cd760 == 0x20000)) {
    trap(0x1800);
  }
  DAT_WORLD__801cd768 = 0;
  DAT_WORLD__801cd770 = 0;
  DAT_WORLD__801cd780 = 0;
  DAT_WORLD__801cd77c = 0;
  DAT_WORLD__801cd778 = 0;
  DAT_WORLD__801cd764 = 0x1000;
  DAT_WORLD__801cd76c = 0x1000;
  DAT_WORLD__801cd774 = CONCAT22(DAT_WORLD__801cd774._2_2_,0x1000);
  DAT_WORLD__801cd7e4 = 0x1000;
  DAT_WORLD__801cd7e8 = 0;
  DAT_WORLD__801cd7f0 = 0;
  DAT_WORLD__801cd7f4 = DAT_WORLD__801cd774;
  DAT_WORLD__801cd7f8 = 0;
  DAT_WORLD__801cd7fc = 0;
  DAT_WORLD__801cd800 = 0;
  DAT_WORLD__801cd648 = 0;
  DAT_WORLD__801cd650 = 0;
  DAT_WORLD__801cd658 = 0;
  DAT_WORLD__801cd65c = 0;
  DAT_WORLD__801cd660 = 0;
  DAT_WORLD__801cd654 = (uint)DAT_WORLD__801cd774._2_2_ << 0x10;
  DAT_WORLD__801cd64c = 0;
  DAT_WORLD__801cd644 = 0;
  DAT_WORLD__801cd6fc = 0;
  DAT_WORLD__801cd700 = 0;
  DAT_WORLD__801cd704 = 0;
  DAT_WORLD__801cd708 = 0;
  DAT_WORLD__801cd70c = DAT_WORLD__801cd654;
  DAT_WORLD__801cd710 = 0;
  DAT_WORLD__801cd714 = 0;
  DAT_WORLD__801cd718 = 0;
  DAT_WORLD__801cd21c = 0;
  DAT_WORLD__801cd21e = 0;
  DAT_WORLD__801cd220 = 0;
  DAT_WORLD__801cd222 = 0;
  DAT_WORLD__801cd50a = 0;
  DAT_WORLD__801cd508 = 0;
  DAT_WORLD__801cd806 = 0;
  _DAT_WORLD__801cd7ec =
       (uint)(ushort)((ulonglong)
                      ((longlong)(int)((DAT_WORLD__801cd760 << 0xe) / DAT_WORLD__801cd74c) *
                      0x55555556) >> 0x20);
  DAT_WORLD__801cd804 = 0;
  DAT_WORLD__801cd808 = (undefined2)DAT_WORLD__801cd74c;
  DAT_WORLD__801cd80a = (undefined2)DAT_WORLD__801cd760;
  SetBlockFill((int)&DAT_WORLD__80195c14);
  SetBlockFill((int)&DAT_WORLD__80195c24);
  DAT_WORLD__801cd868 = 1;
  return;
}



void FUN_WORLD__800e13e8(undefined param_1,undefined param_2,undefined param_3,int param_4)

{
  undefined2 uVar1;
  undefined2 uVar2;
  int iVar3;
  int iVar4;
  
  (&DAT_WORLD__80195c18)[DAT_WORLD__801cd86c * 0x10] = param_1;
  (&DAT_WORLD__80195c19)[DAT_WORLD__801cd86c * 0x10] = param_2;
  (&DAT_WORLD__80195c1a)[DAT_WORLD__801cd86c * 0x10] = param_3;
  uVar2 = (undefined2)DAT_WORLD__801cd760;
  iVar3 = (int)DAT_WORLD__801cd86c;
  iVar4 = iVar3 * 0x10;
  *(undefined2 *)(&DAT_WORLD__80195c1c + iVar4) = (&DAT_WORLD__801cd1dc)[iVar3];
  uVar1 = (&DAT_WORLD__801cd1e0)[iVar3];
  *(undefined2 *)(&DAT_WORLD__80195c22 + iVar4) = uVar2;
  *(undefined2 *)(&DAT_WORLD__80195c1e + iVar4) = uVar1;
  if (DAT_WORLD__801cd6e5 == '\0') {
    *(undefined2 *)(&DAT_WORLD__80195c20 + iVar4) = (undefined2)DAT_WORLD__801cd74c;
  }
  else {
    *(short *)(&DAT_WORLD__80195c20 + iVar4) = (short)((DAT_WORLD__801cd74c * 3) / 2);
  }
  AddPrim(*(void **)(param_4 + 0x10),&DAT_WORLD__80195c14 + DAT_WORLD__801cd86c * 0x10);
  return;
}



// Possible GS_002.OBJ/GsGetActiveBuff

int GsGetActiveBuff(void)

{
  return (int)DAT_WORLD__801cd86c;
}



// Possible GS_002.OBJ/GsSetDrawBuffOffset

void GsSetDrawBuffOffset(void)

{
  short sVar1;
  short sVar2;
  short *psVar3;
  int iVar4;
  undefined uVar5;
  int iVar6;
  undefined uVar7;
  undefined in_a2;
  undefined in_a3;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_retaddr;
  
  if (DAT_WORLD__801cd880 != 0) {
    uVar7 = (undefined)(&DAT_WORLD__801cd1dc)[DAT_WORLD__801cd86c];
    DAT_WORLD__801cd6f0 = 0;
    DAT_WORLD__801cd6ec = 0;
    DAT_WORLD__801cd680 = DAT_WORLD__801cd508 + (&DAT_WORLD__801cd1dc)[DAT_WORLD__801cd86c];
    DAT_WORLD__801cd682 = DAT_WORLD__801cd50a + (&DAT_WORLD__801cd1e0)[DAT_WORLD__801cd86c];
    uVar5 = 0x78;
    PutDrawEnv((DRAWENV *)&DAT_WORLD__801cd678);
    GS_002_OBJ_10C(uVar5,uVar7,in_a2,in_a3,unaff_s0,unaff_s1,unaff_retaddr);
    return;
  }
  psVar3 = &DAT_WORLD__801cd1dc;
  iVar6 = (int)DAT_WORLD__801cd508;
  if (DAT_WORLD__801cd86c == 0) {
    psVar3 = &DAT_WORLD__801cd1de;
  }
  sVar1 = *psVar3;
  psVar3 = &DAT_WORLD__801cd1e0;
  iVar4 = (int)DAT_WORLD__801cd50a;
  if (DAT_WORLD__801cd86c == 0) {
    psVar3 = &DAT_WORLD__801cd1e2;
  }
  sVar2 = *psVar3;
  PutScreentoGTE(iVar6 + sVar1,iVar4 + sVar2);
  DAT_WORLD__801cd6ec = (short)(iVar6 + sVar1);
  DAT_WORLD__801cd6f0 = (short)(iVar4 + sVar2);
  return;
}



// Possible GS_002.OBJ/GS_002_OBJ_10C

void GS_002_OBJ_10C(undefined param_1,undefined param_2,undefined param_3,undefined param_4,
                   undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  return;
}



// Possible GS_003.OBJ/GsSetDrawBuffClip

void GsSetDrawBuffClip(void)

{
  DAT_WORLD__801cd67c = DAT_WORLD__801cd808;
  DAT_WORLD__801cd67e = DAT_WORLD__801cd80a;
  DAT_WORLD__801cd678 = DAT_WORLD__801cd804 + (&DAT_WORLD__801cd1dc)[DAT_WORLD__801cd86c];
  DAT_WORLD__801cd67a = DAT_WORLD__801cd806 + (&DAT_WORLD__801cd1e0)[DAT_WORLD__801cd86c];
  PutDrawEnv((DRAWENV *)&DAT_WORLD__801cd678);
  return;
}



void FUN_WORLD__800e1710(void)

{
  DAT_WORLD__801cd6d4 = (&DAT_WORLD__801cd1dc)[(short)DAT_WORLD__801cd86c];
  DAT_WORLD__801cd6d6 = (&DAT_WORLD__801cd1e0)[(short)DAT_WORLD__801cd86c];
  PutDispEnv((DISPENV *)&DAT_WORLD__801cd6d4);
  SetDispMask(1);
  DAT_WORLD__801cd868 = DAT_WORLD__801cd868 + 1;
  if (DAT_WORLD__801cd868 == 0) {
    DAT_WORLD__801cd868 = 1;
  }
  DAT_WORLD__801cd86c = (ushort)(DAT_WORLD__801cd86c == 0);
  GsSetDrawBuffClip();
  GsSetDrawBuffOffset();
  return;
}



// Possible GS_103.OBJ/GsDefDispBuff

void FUN_WORLD__800e17c4(undefined2 param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4
                        )

{
  DAT_WORLD__801cd21c = param_1;
  DAT_WORLD__801cd21e = param_3;
  DAT_WORLD__801cd220 = param_2;
  DAT_WORLD__801cd222 = param_4;
  if (DAT_WORLD__801cd880 != 0) {
    DAT_WORLD__801cd21c = 0;
    DAT_WORLD__801cd21e = 0;
    DAT_WORLD__801cd220 = 0;
    DAT_WORLD__801cd222 = 0;
  }
  DAT_WORLD__801cd1dc = param_1;
  DAT_WORLD__801cd1de = param_3;
  DAT_WORLD__801cd1e0 = param_2;
  DAT_WORLD__801cd1e2 = param_4;
  GsSetDrawBuffClip();
  GsSetDrawBuffOffset();
  return;
}



// Possible GS_104.OBJ/GsInit3D

void GsInit3D(void)

{
  DAT_WORLD__801cd508 = (undefined2)(DAT_WORLD__801cd74c / 2);
  DAT_WORLD__801cd50a = (undefined2)(DAT_WORLD__801cd760 / 2);
  GsSetDrawBuffOffset();
  DAT_WORLD__801cd854 = 10;
  DAT_WORLD__801cd83c = 0;
  DAT_WORLD__801cd7dc = 0x3fff;
  return;
}



// Possible GS_112.OBJ/GsDrawOtIO
// Possible GS_111.OBJ/GsDrawOt

void GsDrawOt(GsOT *ot)

{
  DrawOTag((u_long *)ot->tag);
  return;
}



// Possible GS_113.OBJ/GsClearOt

void GsClearOt(ushort offset,ushort point,GsOT *otp)

{
  otp->offset = (uint)offset;
  otp->point = (uint)point;
  otp->tag = (GsOT_TAG *)(&otp->org[-1].field_0x0 + (4 << (otp->length & 0x1f)));
  ClearOTagR((u_long *)otp->org,1 << (otp->length & 0x1f));
  return;
}



// Possible GS_121.OBJ/gte_init

void gte_init(void)

{
  InitGeom();
  SetFarColor(0,0,0);
  PutScreentoGTE(0,0);
  DAT_WORLD__801cd6f0 = 0;
  DAT_WORLD__801cd6ec = 0;
  return;
}



// Possible GS_122.OBJ/GsGetTimInfo

void GsGetTimInfo(ulong *im,GsIMAGE *tim)

{
  ushort uVar1;
  uint uVar2;
  uint *puVar3;
  
  uVar2 = *im;
  tim->pmode = uVar2;
  if ((uVar2 >> 3 & 1) != 0) {
    puVar3 = im + 1;
    uVar2 = *puVar3 & 0xfffffffc;
    tim->cx = *(short *)(im + 2);
    tim->cy = *(short *)((int)im + 10);
    tim->cw = *(ushort *)(im + 3);
    uVar1 = *(ushort *)((int)im + 0xe);
    tim->clut = im + 4;
    tim->ch = uVar1;
    tim->px = *(short *)((int)puVar3 + uVar2 + 4);
    tim->py = *(short *)((int)puVar3 + uVar2 + 6);
    tim->pw = *(ushort *)((int)puVar3 + uVar2 + 8);
    uVar1 = *(ushort *)((int)puVar3 + uVar2 + 10);
    tim->pixel = (ulong *)((int)puVar3 + uVar2 + 0xc);
    tim->ph = uVar1;
    GS_122_OBJ_DC();
    return;
  }
  tim->px = *(short *)(im + 2);
  tim->py = *(short *)((int)im + 10);
  tim->pw = *(ushort *)(im + 3);
  uVar1 = *(ushort *)((int)im + 0xe);
  tim->pixel = im + 4;
  tim->ph = uVar1;
  return;
}



// Possible GS_122.OBJ/GS_122_OBJ_DC

void GS_122_OBJ_DC(void)

{
  return;
}



// Possible GS_101.OBJ/GsSetNearClip
// Possible GS_102.OBJ/GsSetFarClip
// Possible GS_124.OBJ/GsSetWorkBase

void FUN_WORLD__800e1a88(undefined4 param_1)

{
  DAT_WORLD__801cd518 = param_1;
  return;
}



void FUN_WORLD__800e2520(void)

{
  undefined4 *puVar1;
  int iVar2;
  
  iVar2 = 5;
  puVar1 = &DAT_WORLD__8019b344;
  do {
    *puVar1 = 0xffffffff;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  return;
}



void FUN_WORLD__800e289c(int param_1,undefined param_2)

{
  *(undefined *)(param_1 + 4) = param_2;
  *(undefined *)(param_1 + 5) = param_2;
  *(undefined *)(param_1 + 6) = param_2;
  return;
}



void FUN_WORLD__800e28ac(void)

{
  short sVar1;
  int iVar2;
  short sVar3;
  int *piVar4;
  int iVar5;
  short sVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  int *piVar10;
  int iVar11;
  
  iVar9 = 4;
  piVar10 = &DAT_WORLD__8019b340;
  do {
    if (((*piVar10 != -1) &&
        (piVar4 = *(int **)(&DAT_WORLD__8019b330 + (iVar9 + DAT_WORLD__801532f8) * 4), *piVar4 == 1)
        ) && ((&DAT_WORLD__80195d18)[piVar4[1] * 0x100] != 0)) {
      FUN_WORLD__800e289c((int)(piVar4 + 0xe),(char)DAT_WORLD__80189ec0);
      FUN_WORLD__800e289c((int)(piVar4 + 0x13),(char)DAT_WORLD__80189ec0);
      FUN_WORLD__800e289c((int)(piVar4 + 0x18),(char)DAT_WORLD__80189ec0);
      FUN_WORLD__800e289c((int)(piVar4 + 0x1d),(char)DAT_WORLD__80189ec0);
      FUN_WORLD__800e289c((int)(piVar4 + 0x31),(char)DAT_WORLD__80189ec0);
      FUN_WORLD__800e289c((int)(piVar4 + 0x3b),(char)DAT_WORLD__80189ec0);
      if (*(char *)((int)piVar4 + 0x117) != '\0') {
        if (DAT_WORLD__8015330c == 0) {
          *(undefined2 *)((int)piVar4 + 0xd2) = 0x7c3c;
        }
        else {
          *(undefined2 *)((int)piVar4 + 0xd2) = 0x7d3c;
          *(undefined *)(piVar4 + 0x3c) = 0x40;
                    // Possible PsyQ macro: setLineG2()
          *(undefined *)((int)piVar4 + 0xf1) = 0x50;
          *(undefined *)((int)piVar4 + 0xf2) = 0x70;
        }
      }
      iVar7 = (int)*(short *)(piVar4 + 0x35) - (int)*(short *)(piVar4 + 0x33);
      iVar2 = iVar7;
      if (iVar7 < 0) {
        iVar2 = iVar7 + 7;
      }
      if ((iVar2 >> 3) << 3 == iVar7 + -4) {
        sVar6 = (short)iVar7 + -0xf;
      }
      else {
        sVar6 = (short)iVar7 + -0xd;
      }
      *(short *)(piVar4 + 0x24) = *(short *)(piVar4 + 0x33) + sVar6;
      *(short *)(piVar4 + 0x29) = *(short *)(piVar4 + 0x33) + sVar6;
      *(short *)((int)piVar4 + 0x92) = *(short *)((int)piVar4 + 0xce) + 8;
      *(short *)((int)piVar4 + 0xa6) =
           *(short *)((int)piVar4 + 0xce) +
           (*(short *)((int)piVar4 + 0xde) - *(short *)((int)piVar4 + 0xce)) + -0x1a;
      if (piVar4[6] == 0x10) {
        if (piVar4[5] == 1) {
          sVar1 = *(short *)((int)piVar4 + 0x92) + -4;
          sVar3 = *(short *)((int)piVar4 + 0xa6) + -4;
        }
        else {
          sVar1 = *(short *)((int)piVar4 + 0x92) + 4;
          sVar3 = *(short *)((int)piVar4 + 0xa6) + 4;
        }
        *(short *)((int)piVar4 + 0x92) = sVar1;
        *(short *)((int)piVar4 + 0xa6) = sVar3;
      }
      iVar5 = (int)*(short *)((int)piVar4 + 0x92) + (int)*(short *)((int)piVar4 + 0x9a);
      iVar7 = iVar9 + DAT_WORLD__801532f8;
      iVar2 = *(int *)(&DAT_WORLD__8019b330 + iVar7 * 4);
      iVar11 = ((*(short *)((int)piVar4 + 0xa6) - iVar5) + -4) * *(int *)(iVar2 + 0x28);
      iVar2 = *(int *)(iVar2 + 0x24);
      if (iVar2 == 0) {
        trap(0x1c00);
      }
      if ((iVar2 == -1) && (iVar11 == -0x80000000)) {
        trap(0x1800);
      }
      *(short *)(piVar4 + 0x2e) = *(short *)(piVar4 + 0x33) + sVar6;
      *(short *)((int)piVar4 + 0xba) = (short)iVar5 + (short)(iVar11 / iVar2);
      uVar8 = *(uint *)(*(int *)(&DAT_WORLD__8019b330 + iVar7 * 4) + 0x20);
      if ((uVar8 & 1) != 0) {
        FUN_WORLD__800fdaa4((uint *)(piVar4 + 0x22));
      }
      if ((uVar8 & 2) != 0) {
        FUN_WORLD__800fdaa4((uint *)(piVar4 + 0x27));
      }
      if ((uVar8 & 4) != 0) {
        FUN_WORLD__800fdaa4((uint *)(piVar4 + 0x2c));
      }
      FUN_WORLD__800fdaa4((uint *)(piVar4 + 0xe));
      FUN_WORLD__800fdaa4((uint *)(piVar4 + 0x13));
      FUN_WORLD__800fdaa4((uint *)(piVar4 + 0x18));
      FUN_WORLD__800fdaa4((uint *)(piVar4 + 0x1d));
      FUN_WORLD__800fdaa4((uint *)(piVar4 + 0xb));
      if (piVar4[3] != 0xffffffff) {
        FUN_WORLD__800eaa50((int)(piVar4 + 0x3b),piVar4[3]);
      }
      FUN_WORLD__800fdaa4((uint *)(piVar4 + 0x3b));
      FUN_WORLD__800fdaa4((uint *)(piVar4 + 0x31));
    }
    iVar9 = iVar9 + -2;
    piVar10 = piVar10 + -2;
  } while (-1 < iVar9);
  return;
}



void FUN_WORLD__800e2c0c(void)

{
  undefined *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  iVar3 = -0x7fe65f30;
  do {
    iVar2 = 0xf;
    puVar1 = (undefined *)(iVar3 + 0xf);
    do {
      *puVar1 = 0;
      iVar2 = iVar2 + -1;
      puVar1 = puVar1 + -1;
    } while (-1 < iVar2);
    iVar4 = iVar4 + 1;
    iVar3 = iVar3 + 0x10;
  } while (iVar4 < 0xf);
  return;
}



void FUN_WORLD__800e3088(void)

{
  int iVar1;
  undefined *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  iVar1 = 0x78;
  do {
    *(undefined4 *)(iVar1 + -0x7fe64c98) = 0xffffffff;
    iVar1 = iVar1 + -8;
  } while (-1 < iVar1);
  iVar1 = 0x6f;
  puVar2 = &DAT_WORLD__801a2457;
  do {
    *puVar2 = 0;
    iVar1 = iVar1 + -1;
    puVar2 = puVar2 + -1;
  } while (-1 < iVar1);
  iVar1 = 0;
  puVar4 = &DAT_WORLD__80153374;
  puVar3 = &DAT_WORLD__80153368;
  do {
    *puVar3 = 0;
    *puVar4 = 0;
    puVar4 = puVar4 + 1;
    iVar1 = iVar1 + 1;
    puVar3 = puVar3 + 1;
  } while (iVar1 < 3);
  return;
}



int FUN_WORLD__800e41fc(int param_1,int param_2)

{
  if (param_1 == 0xe0) {
    param_2 = 0x4000;
  }
  else if (param_1 == 0xe1) {
    param_2 = param_2 + 0x4000;
  }
  else if (param_1 == 0xe5) {
    param_2 = param_2 + 0x9000;
  }
  else if (param_1 == 0xe9) {
    param_2 = param_2 + 0x3800;
  }
  else if (param_1 == 0xea) {
    param_2 = param_2 + 0x7000;
  }
  else if (param_1 != 0xeb) {
    param_2 = -1;
  }
  return param_2;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WORLD__800e4268(undefined2 *param_1,undefined2 *param_2,byte *param_3)

{
  uint uVar1;
  PartyUnit *pPVar2;
  undefined1 *puVar3;
  PartyUnit *pPVar4;
  byte *pbVar5;
  int iVar6;
  int iVar7;
  
  pPVar2 = Get_Party_Data_Pointer(0);
  iVar6 = 0x13;
  puVar3 = &DAT_WORLD__801a246b;
  do {
    *puVar3 = 0xfe;
    iVar6 = iVar6 + -1;
    puVar3 = puVar3 + -1;
  } while (-1 < iVar6);
  pPVar4 = pPVar2;
  iVar6 = 0;
  do {
    (&DAT_WORLD__801a2458)[iVar6] = pPVar4->UnitName[0];
    iVar7 = iVar6 + 1;
    pPVar4 = (PartyUnit *)((int)pPVar2->JobJP + iVar6 + -0x6d);
    iVar6 = iVar7;
  } while (iVar7 < 0x10);
  _DAT_1f80001c = (byte *)0xffffffff;
  _DAT_1f800024 = &DAT_WORLD__801531d8;
  _DAT_1f800018 = 0;
  _DAT_1f800004 = 0;
  _DAT_1f800008 = 0;
  _DAT_1f80000c = 0;
  DAT_1f800028 = 0xffff;
LAB_WORLD__800e433c:
  while ((uVar1 = DAT_1f800028, pbVar5 = _DAT_1f80001c, DAT_1f800000 = (uint)*param_3,
         DAT_1f800000 == 0xf8 || (DAT_1f800000 - 0xfe < 2))) {
    if (_DAT_1f800008 < _DAT_1f800004) {
      _DAT_1f800008 = _DAT_1f800004;
    }
    if (1 < DAT_1f800000 - 0xfe) {
      _DAT_1f800004 = 0;
      _DAT_1f80000c = _DAT_1f80000c + 1;
      goto LAB_WORLD__800e44fc;
    }
    if (_DAT_1f80001c == (byte *)0xffffffff) {
      _DAT_1f800004 = 0;
      _DAT_1f80000c = _DAT_1f80000c + 1;
      *param_1 = _DAT_1f800008;
      *param_2 = _DAT_1f80000c;
      return;
    }
    _DAT_1f80001c = (byte *)0xffffffff;
    param_3 = pbVar5;
  }
  if (DAT_1f800000 == 0xfa) {
    _DAT_1f800004 = _DAT_1f800004 + 1;
LAB_WORLD__800e44fc:
    _DAT_1f800010 = FUN_WORLD__800e41fc(DAT_1f800000,*_DAT_1f800024);
    if (_DAT_1f800010 != 0xffffffff) {
      _DAT_1f80001c = param_3 + 1;
      if (DAT_1f800000 == 0xe0) {
        param_3 = &DAT_WORLD__801a2458;
      }
      else {
        param_3 = (byte *)WORLD_LoadTextPrep(_DAT_1f800010);
      }
      _DAT_1f800024 = _DAT_1f800024 + 1;
      goto LAB_WORLD__800e433c;
    }
    if (((DAT_1f800000 & 0xf0) == 0xf0) && (pbVar5 = param_3 + 3, (DAT_1f800000 & 0xf) < 4)) {
      _DAT_1f800018 = (uint)(param_3[1] >> 5) + (*param_3 & 3) * 8 + 4;
      _DAT_1f800014 = (uint)param_3[2] + (param_3[1] & 0xf) * 0xfe;
      param_3 = param_3 + -_DAT_1f800014;
      _DAT_1f80001c = pbVar5;
      goto LAB_WORLD__800e433c;
    }
    if ((DAT_1f800000 & 0xf0) < 0xd0) {
      _DAT_1f800004 = _DAT_1f800004 + 1;
    }
  }
  else {
    if (DAT_1f800000 == 0xe8) {
      param_3 = FUN_WORLD__800e4bf4(0x1f800000,(int)param_3);
      DAT_1f800028 = (uint)*param_3;
      goto LAB_WORLD__800e44fc;
    }
    if (DAT_1f800000 == 0xe4) {
      _DAT_1f800010 = *_DAT_1f800024;
      if (DAT_1f800028 == 0xffff) {
        iVar6 = FUN_WORLD__800e6f14(_DAT_1f800010);
        _DAT_1f800004 = iVar6 + _DAT_1f800004;
      }
      else {
        DAT_1f800028 = 0xffff;
        _DAT_1f800004 = _DAT_1f800004 + uVar1;
      }
      _DAT_1f800024 = _DAT_1f800024 + 1;
      goto LAB_WORLD__800e44fc;
    }
    if (DAT_1f800000 == 0xe6) {
      param_3 = FUN_WORLD__800e4bf4(0x1f800000,(int)param_3);
      uVar1 = DAT_1f800028;
      _DAT_1f800010 = (&DAT_WORLD__801531d8)[*param_3];
      if (DAT_1f800028 == 0xffff) {
        iVar6 = FUN_WORLD__800e6f14(_DAT_1f800010);
        _DAT_1f800004 = iVar6 + _DAT_1f800004;
      }
      else {
        DAT_1f800028 = 0xffff;
        _DAT_1f800004 = _DAT_1f800004 + uVar1;
      }
      goto LAB_WORLD__800e44fc;
    }
    if (((1 < DAT_1f800000 - 0xe2) && (1 < DAT_1f800000 - 0xf5)) && (DAT_1f800000 != 0xec))
    goto LAB_WORLD__800e44fc;
    param_3 = FUN_WORLD__800e4bf4(0x1f800000,(int)param_3);
  }
  param_3 = FUN_WORLD__800e4bf4(0x1f800000,(int)param_3);
  goto LAB_WORLD__800e433c;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WORLD__800e4668(undefined2 *param_1,undefined2 *param_2,byte *param_3)

{
  PartyUnit *pPVar1;
  undefined1 *puVar2;
  PartyUnit *pPVar3;
  byte *pbVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  
  pPVar1 = Get_Party_Data_Pointer(0);
  iVar5 = 0x13;
  puVar2 = &DAT_WORLD__801a246b;
  do {
    *puVar2 = 0xfe;
    iVar5 = iVar5 + -1;
    puVar2 = puVar2 + -1;
  } while (-1 < iVar5);
  pPVar3 = pPVar1;
  iVar5 = 0;
  do {
    (&DAT_WORLD__801a2458)[iVar5] = pPVar3->UnitName[0];
    iVar6 = iVar5 + 1;
    pPVar3 = (PartyUnit *)((int)pPVar1->JobJP + iVar5 + -0x6d);
    iVar5 = iVar6;
  } while (iVar6 < 0x10);
  _DAT_1f80001c = (byte *)0xffffffff;
  _DAT_1f800024 = &DAT_WORLD__801531d8;
  _DAT_1f800018 = 0;
  _DAT_1f800004 = 0;
  _DAT_1f800008 = 0;
  _DAT_1f80000c = 0;
  DAT_1f800028 = 0xffff;
  DAT_1f80002c = 0;
LAB_WORLD__800e4744:
  while ((DAT_1f800000 = (uint)*param_3, DAT_1f800000 == 0xf8 || (DAT_1f800000 - 0xfe < 2))) {
    (&DAT_WORLD__801a246c)[_DAT_1f80000c] = _DAT_1f800004;
    pbVar4 = _DAT_1f80001c;
    if (_DAT_1f800008 < _DAT_1f800004) {
      _DAT_1f800008 = _DAT_1f800004;
    }
    if (1 < DAT_1f800000 - 0xfe) {
      _DAT_1f800004 = 0;
      _DAT_1f80000c = _DAT_1f80000c + 1;
      goto LAB_WORLD__800e4954;
    }
    if (_DAT_1f80001c == (byte *)0xffffffff) {
      _DAT_1f800004 = 0;
      _DAT_1f80000c = _DAT_1f80000c + 1;
      *param_1 = _DAT_1f800008;
      *param_2 = _DAT_1f80000c;
      return;
    }
    _DAT_1f80001c = (byte *)0xffffffff;
    param_3 = pbVar4;
  }
  if (DAT_1f800000 == 0xfa) {
    _DAT_1f800004 = _DAT_1f800004 + 4;
LAB_WORLD__800e4954:
    _DAT_1f800010 = FUN_WORLD__800e41fc(DAT_1f800000,*_DAT_1f800024);
    if (_DAT_1f800010 != 0xffffffff) {
      _DAT_1f80001c = param_3 + 1;
      if (DAT_1f800000 == 0xe0) {
        param_3 = &DAT_WORLD__801a2458;
      }
      else {
        param_3 = (byte *)WORLD_LoadTextPrep(_DAT_1f800010);
      }
      _DAT_1f800024 = _DAT_1f800024 + 1;
      goto LAB_WORLD__800e4744;
    }
    uVar7 = DAT_1f800000 & 0xf0;
    if ((uVar7 == 0xf0) && (pbVar4 = param_3 + 3, (DAT_1f800000 & 0xf) < 4)) {
      _DAT_1f800018 = (uint)(param_3[1] >> 5) + (*param_3 & 3) * 8 + 4;
      _DAT_1f800014 = (uint)param_3[2] + (param_3[1] & 0xf) * 0xfe;
      param_3 = param_3 + -_DAT_1f800014;
      _DAT_1f80001c = pbVar4;
      goto LAB_WORLD__800e4744;
    }
    if (uVar7 < 0xd0) {
      uVar7 = DAT_1f80002c & 0xf;
      DAT_1f80002c = 0;
      _DAT_1f800004 =
           (uint)(byte)(&DAT_WORLD__801533e0)[uVar7 * 0xd0 + DAT_1f800000] + _DAT_1f800004;
    }
    else if (uVar7 == 0xd0) {
      DAT_1f80002c = DAT_1f800000;
    }
    else {
      DAT_1f80002c = 0;
    }
  }
  else {
    if (DAT_1f800000 == 0xe8) {
      param_3 = FUN_WORLD__800e4bf4(0x1f800000,(int)param_3);
      DAT_1f800028 = (uint)*param_3;
      goto LAB_WORLD__800e4954;
    }
    if (DAT_1f800000 == 0xe4) {
      _DAT_1f800010 = *_DAT_1f800024;
      if (DAT_1f800028 == 0xffff) {
        iVar5 = FUN_WORLD__800e6f14(_DAT_1f800010);
        _DAT_1f800004 = iVar5 * 6 + _DAT_1f800004;
      }
      else {
        iVar5 = DAT_1f800028 * 6;
        DAT_1f800028 = 0xffff;
        _DAT_1f800004 = iVar5 + _DAT_1f800004;
      }
      _DAT_1f800024 = _DAT_1f800024 + 1;
      goto LAB_WORLD__800e4954;
    }
    if (DAT_1f800000 == 0xe6) {
      param_3 = FUN_WORLD__800e4bf4(0x1f800000,(int)param_3);
      _DAT_1f800010 = (&DAT_WORLD__801531d8)[*param_3];
      if (DAT_1f800028 == 0xffff) {
        iVar5 = FUN_WORLD__800e6f14(_DAT_1f800010);
        _DAT_1f800004 = iVar5 * 6 + _DAT_1f800004;
      }
      else {
        iVar5 = DAT_1f800028 * 6;
        DAT_1f800028 = 0xffff;
        _DAT_1f800004 = iVar5 + _DAT_1f800004;
      }
      goto LAB_WORLD__800e4954;
    }
    if (((1 < DAT_1f800000 - 0xe2) && (1 < DAT_1f800000 - 0xf5)) && (DAT_1f800000 != 0xec))
    goto LAB_WORLD__800e4954;
    param_3 = FUN_WORLD__800e4bf4(0x1f800000,(int)param_3);
  }
  param_3 = FUN_WORLD__800e4bf4(0x1f800000,(int)param_3);
  goto LAB_WORLD__800e4744;
}



byte * FUN_WORLD__800e4bf4(int param_1,int param_2)

{
  byte bVar1;
  int iVar2;
  byte *pbVar3;
  
  pbVar3 = (byte *)(param_2 + 1);
  if ((0 < *(int *)(param_1 + 0x18)) &&
     (iVar2 = *(int *)(param_1 + 0x18) + -1, *(int *)(param_1 + 0x18) = iVar2, iVar2 == 0)) {
    pbVar3 = *(byte **)(param_1 + 0x1c);
    *(undefined4 *)(param_1 + 0x1c) = 0xffffffff;
  }
  if (((*pbVar3 & 0xf0) == 0xf0) && ((*pbVar3 & 0xf) < 4)) {
    *(byte **)(param_1 + 0x1c) = pbVar3 + 3;
    *(uint *)(param_1 + 0x14) = (*pbVar3 & 3) << 3;
    bVar1 = pbVar3[1];
    *(uint *)(param_1 + 0x18) = (uint)(bVar1 >> 5);
    *(uint *)(param_1 + 0x18) = (uint)(bVar1 >> 5) + *(int *)(param_1 + 0x14) + 4;
    iVar2 = (pbVar3[1] & 0xf) * 0xfe;
    *(int *)(param_1 + 0x14) = iVar2;
    iVar2 = (uint)pbVar3[2] + iVar2;
    pbVar3 = pbVar3 + -iVar2;
    *(int *)(param_1 + 0x14) = iVar2;
  }
  return pbVar3;
}



void WORLD_LoadTextPrep(uint param_1)

{
  FUN_WORLD__80100348(*(byte **)((int)&DAT_WORLD__801cd8a4 + ((param_1 & 0xf800) >> 9)),
                      param_1 & 0x7ff);
  return;
}



int FUN_WORLD__800e6f14(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 1;
  for (iVar1 = param_1 / 10; iVar1 != 0; iVar1 = iVar1 / 10) {
    iVar2 = iVar2 + 1;
  }
  return iVar2;
}



void FUN_WORLD__800e8660(int *param_1)

{
  int iVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  
  iVar4 = 0;
  piVar2 = &DAT_WORLD__801cd8a4;
  piVar3 = param_1;
  do {
    iVar1 = *piVar3;
    piVar3 = piVar3 + 1;
    iVar4 = iVar4 + 1;
    *piVar2 = (int)param_1 + iVar1 + 0x80;
    piVar2 = piVar2 + 1;
  } while (iVar4 < 0x20);
  return;
}



// WARNING: Removing unreachable block (ram,0x800eaab8)
// WARNING: Removing unreachable block (ram,0x800eaae0)

void FUN_WORLD__800eaa50(int param_1,uint param_2)

{
  char cVar1;
  char cVar2;
  u_short uVar3;
  int y;
  uint uVar4;
  uint uVar5;
  int iVar6;
  
  uVar5 = param_2 & 0xff;
  uVar4 = uVar5 % 0x28;
  cVar1 = (char)uVar4 * ' ';
  cVar2 = (char)((int)uVar4 >> 3) * '0';
  iVar6 = (uVar5 / 0x28) * 0x40;
  *(char *)(param_1 + 0xc) = cVar1;
  *(char *)(param_1 + 0xd) = cVar2;
  *(char *)(param_1 + 0x14) = cVar1 + '\x1f';
  *(char *)(param_1 + 0x15) = cVar2;
  *(char *)(param_1 + 0x1c) = cVar1;
  *(char *)(param_1 + 0x1d) = cVar2 + '0';
  *(char *)(param_1 + 0x24) = cVar1 + '\x1f';
  *(char *)(param_1 + 0x25) = cVar2 + '0';
  uVar3 = GetTPage(0,0,iVar6 + 0x680,0x100);
  uVar5 = uVar5 - 0x3f;
  *(u_short *)(param_1 + 0x16) = uVar3;
  if (uVar5 < 0x14) {
    iVar6 = ((int)uVar5 / 6) * 0x40 + ((int)(param_2 & 0xc00) >> 10) * 0x10 + 0x680;
    y = (int)uVar5 % 6 + 0x1fa;
  }
  else {
    iVar6 = iVar6 + (uVar4 + ((int)uVar4 >> 2) * -4) * 0x10 + 0x680;
    y = ((int)uVar4 >> 2) + 0x1f0;
  }
  uVar3 = GetClut(iVar6,y);
  *(u_short *)(param_1 + 0xe) = uVar3;
  return;
}



undefined4 FUN_WORLD__800ef1a8(uint param_1)

{
  uint uVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  
  uVar4 = *(undefined4 *)PTR_DAT_WORLD__80153280;
  if (param_1 == 0x22) {
    uVar1 = FUN_WORLD__800ef1a8(0x24);
    uVar2 = FUN_WORLD__800ef1a8(0x23);
    FUN_WORLD__800ef25c(0x22,(uVar1 & 1) << 0xf | (uVar2 & 7) << 0xc);
  }
  FUN_WORLD__800fd4a8(0xbe,0,0);
  FUN_WORLD__800fd4a8(0xb1,0,param_1);
  uVar3 = *(undefined4 *)PTR_DAT_WORLD__80153280;
  *(undefined4 *)PTR_DAT_WORLD__80153280 = uVar4;
  return uVar3;
}



void FUN_WORLD__800ef25c(uint param_1,uint param_2)

{
  undefined4 uVar1;
  
  uVar1 = *(undefined4 *)PTR_DAT_WORLD__80153280;
  if ((param_1 == 0x2c) && (99999999 < (int)param_2)) {
    param_2 = 99999999;
  }
  FUN_WORLD__800fd4a8(0xbe,param_1,0);
  FUN_WORLD__800fd4a8(0xb0,param_1,param_2);
  *(undefined4 *)PTR_DAT_WORLD__80153280 = uVar1;
  return;
}



void FUN_WORLD__800f0520(undefined *param_1)

{
  FUN_WORLD__800ff450(&DAT_WORLD__8019a1c0,param_1,0x20);
  FUN_WORLD__800ff450(&DAT_WORLD__8019a1e0,param_1 + 0x20,0x20);
  return;
}



// Possible GS_101.OBJ/GsSetNearClip
// Possible GS_102.OBJ/GsSetFarClip
// Possible GS_124.OBJ/GsSetWorkBase

void FUN_WORLD__800f1330(undefined4 param_1)

{
  DAT_WORLD__8015326c = param_1;
  return;
}



void FUN_WORLD__800f290c(void)

{
  PTR_DAT_WORLD__80195cd0_WORLD__8015327c = &DAT_WORLD__80195cd0;
  DAT_WORLD__801cd66c = &DAT_WORLD__8013b8f8;
  DAT_WORLD__801cd830 = &DAT_WORLD__8013a8b8;
  DAT_WORLD__801cd75c = &DAT_8004a6bc;
  PTR_DAT_WORLD__80153280 = (undefined *)&DAT_8005771c;
  DAT_WORLD__801cd7e0 = &DAT_WORLD__80153df4;
  DAT_WORLD__801cd844 = 0xffffffff;
  DAT_WORLD__80153332 = 0;
  DAT_WORLD__8019a224 = 0;
  DAT_WORLD__801cd50c = 0;
  return;
}



void FUN_WORLD__800f2998(void)

{
  FUN_WORLD__800fd93c();
  FUN_WORLD__800e2520();
  FUN_WORLD__800e2c0c();
  FUN_WORLD__800e3088();
  FUN_WORLD__800ffe64();
  return;
}



void FUN_WORLD__800f6568(void)

{
  uint uVar1;
  
  if (DAT_WORLD__801cd170 == 0x10) {
    DAT_WORLD__8019a204 = FUN_WORLD__8012d92c();
    if (DAT_WORLD__8019a204 == 0) {
      DAT_WORLD__801a669c = 0;
      DAT_WORLD__801a66a0 = 0;
      DAT_WORLD__801a66a4 = 0;
    }
    DAT_WORLD__80195c34 = 0;
    DAT_WORLD__801a6698 = DAT_WORLD__801a6694;
    if ((DAT_WORLD__801a6694 == DAT_WORLD__8019a204) && ((DAT_WORLD__8019a204 & 0xf00c) != 0)) {
      uVar1 = (int)(uint)DAT_800473a1 / DAT_WORLD__8015326c;
      if (DAT_WORLD__8015326c == 0) {
        trap(0x1c00);
      }
      if ((DAT_WORLD__8015326c == -1) && (DAT_800473a1 == 0x80000000)) {
        trap(0x1800);
      }
      DAT_WORLD__801a669c = DAT_WORLD__801a669c + 1;
      if (DAT_WORLD__801a669c == uVar1) {
        DAT_WORLD__80195c34 = DAT_WORLD__8019a204 & 0xf00c;
      }
      if (DAT_WORLD__801a669c < uVar1) {
        DAT_WORLD__801a66a0 = 0;
        DAT_WORLD__801a66a4 = 0;
        DAT_WORLD__801a6694 = DAT_WORLD__8019a204;
      }
      else {
        if (DAT_WORLD__8015326c == 0) {
          trap(0x1c00);
        }
        if ((DAT_WORLD__8015326c == -1) && (DAT_800473a2 == 0x80000000)) {
          trap(0x1800);
        }
        DAT_WORLD__801a66a0 = DAT_WORLD__801a66a0 + 1;
        DAT_WORLD__801a66a4 = DAT_WORLD__801a66a4 + 1;
        if ((uint)((int)(uint)DAT_800473a2 / DAT_WORLD__8015326c) <= DAT_WORLD__801a66a0) {
          DAT_WORLD__801a66a0 = 0;
          DAT_WORLD__80195c34 = DAT_WORLD__8019a204 & 0xa000;
          if ((DAT_WORLD__8019a204 & 0x80) == 0) {
            DAT_WORLD__80195c34 = DAT_WORLD__8019a204 & 0xf000;
          }
        }
        if (DAT_WORLD__8015326c == 0) {
          trap(0x1c00);
        }
        if ((DAT_WORLD__8015326c == -1) && (DAT_800473a3 == 0x80000000)) {
          trap(0x1800);
        }
        DAT_WORLD__801a6694 = DAT_WORLD__8019a204;
        if ((uint)((int)(uint)DAT_800473a3 / DAT_WORLD__8015326c) <= DAT_WORLD__801a66a4) {
          DAT_WORLD__801a66a4 = 0;
          uVar1 = DAT_WORLD__8019a204 & 0x500c;
          if ((DAT_WORLD__8019a204 & 0x80) == 0) {
            uVar1 = DAT_WORLD__8019a204 & 0xc;
          }
          DAT_WORLD__80195c34 = uVar1 | DAT_WORLD__80195c34;
        }
      }
    }
    else {
      DAT_WORLD__80195c34 = ~DAT_WORLD__801a6694 & DAT_WORLD__8019a204;
      DAT_WORLD__801a669c = 0;
      DAT_WORLD__801a6694 = DAT_WORLD__8019a204;
    }
  }
  return;
}



void FUN_WORLD__800fd4a8(uint param_1,uint param_2,uint param_3)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint unaff_s1;
  uint uVar5;
  uint uVar6;
  
  if ((param_1 != 0xbe) && (unaff_s1 = param_3, (param_1 & 1) != 0)) {
    if (param_3 == 0x21) {
      unaff_s1 = FUN_WORLD__800fd964();
    }
    else {
      puVar1 = (uint *)FUN_WORLD__800fd7c4(param_3);
      uVar2 = FUN_WORLD__800fd874(param_3);
      if ((int)uVar2 < 0) {
        unaff_s1 = *puVar1;
      }
      else {
        iVar4 = 1;
        if (0x35f < (int)param_3) {
          iVar4 = 0xf;
        }
        unaff_s1 = (iVar4 << (uVar2 & 0x1f) & *puVar1) >> (uVar2 & 0x1f);
      }
    }
  }
  uVar5 = 0xffffffff;
  puVar1 = (uint *)FUN_WORLD__800fd7c4(param_2);
  uVar2 = FUN_WORLD__800fd874(param_2);
  if ((int)uVar2 < 0) {
    uVar3 = *puVar1;
  }
  else {
    iVar4 = 1;
    if (0x35f < (int)param_2) {
      iVar4 = 0xf;
    }
    uVar3 = iVar4 << (uVar2 & 0x1f);
    uVar5 = ~uVar3;
    uVar3 = (uVar3 & *puVar1) >> (uVar2 & 0x1f);
  }
  if (param_1 == 0xbe) {
    uVar6 = 0;
  }
  else if ((int)param_1 < 0xb2) {
    uVar6 = uVar3 + unaff_s1;
  }
  else if ((int)param_1 < 0xb4) {
    uVar6 = uVar3 - unaff_s1;
  }
  else {
    uVar6 = uVar3 * unaff_s1;
    if (0xb5 < (int)param_1) {
      if ((int)param_1 < 0xb8) {
        if (unaff_s1 == 0) {
          Stop_This_Thread_WORLD();
        }
        uVar6 = (int)uVar3 / (int)unaff_s1;
        if (unaff_s1 == 0) {
          trap(0x1c00);
        }
        if ((unaff_s1 == 0xffffffff) && (uVar3 == 0x80000000)) {
          trap(0x1800);
        }
      }
      else if ((int)param_1 < 0xba) {
        uVar6 = (int)uVar3 % (int)unaff_s1;
        if (unaff_s1 == 0) {
          trap(0x1c00);
        }
        if ((unaff_s1 == 0xffffffff) && (uVar3 == 0x80000000)) {
          trap(0x1800);
        }
      }
      else if ((int)param_1 < 0xbc) {
        uVar6 = uVar3 & unaff_s1;
      }
      else {
        uVar6 = uVar3;
        if ((int)param_1 < 0xbe) {
          uVar6 = uVar3 | unaff_s1;
        }
      }
    }
  }
  if (DAT_WORLD__80153387 == '\0') {
    if (0x3bf < (int)param_2) {
      DAT_WORLD__80153387 = 1;
      uVar3 = FUN_WORLD__800ef1a8(param_2);
      DAT_WORLD__80153387 = '\0';
      if (0xb < uVar3) {
        DAT_WORLD__80153387 = 0;
        return;
      }
    }
    if (DAT_WORLD__80153387 == '\0') {
      DAT_WORLD__80153387 = 1;
      iVar4 = FUN_WORLD__800ef1a8(0x1fc);
      DAT_WORLD__80153387 = '\0';
      if ((((((iVar4 != 0) && (0x1f < param_2 - 0x70)) && (3 < param_2 - 0x1fc)) &&
           ((param_2 != 0x66 && (7 < param_2 - 0x32)))) &&
          ((0x2b < (int)param_2 && ((param_2 != 0x30 && (4 < param_2 - 0x56)))))) &&
         (param_2 != 0x53)) {
        DAT_WORLD__80153387 = 0;
        return;
      }
    }
  }
  if ((int)uVar2 < 0) {
    *puVar1 = uVar6;
    if (param_2 == 0x19) {
      DAT_WORLD__801531d8 = uVar6;
    }
  }
  else {
    uVar3 = 1;
    if (0x35f < (int)param_2) {
      uVar3 = 0xf;
    }
    *puVar1 = (uVar6 & uVar3) << (uVar2 & 0x1f) | uVar5 & *puVar1;
  }
  return;
}



undefined * FUN_WORLD__800fd7c4(int param_1)

{
  int iVar1;
  undefined *unaff_s0;
  
  if (param_1 < 0x80) {
    unaff_s0 = PTR_DAT_WORLD__80153280 + param_1 * 4;
  }
  else {
    iVar1 = param_1 + -0x80;
    if (param_1 < 0x360) {
      if (iVar1 < 0) {
        iVar1 = param_1 + -0x61;
      }
      unaff_s0 = PTR_DAT_WORLD__80153280 + (iVar1 >> 5) * 4 + 0x200;
    }
    else {
      iVar1 = param_1 + -0x360;
      if (param_1 < 0x400) {
        if (iVar1 < 0) {
          iVar1 = param_1 + -0x359;
        }
        unaff_s0 = PTR_DAT_WORLD__80153280 + (iVar1 >> 3) * 4 + 0x25c;
      }
      else {
        Stop_This_Thread_WORLD();
      }
    }
  }
  return unaff_s0;
}



uint FUN_WORLD__800fd874(uint param_1)

{
  uint uVar1;
  
  uVar1 = 0xffffffff;
  if (0x7f < (int)param_1) {
    if ((int)param_1 < 0x360) {
      uVar1 = param_1 & 0x1f;
    }
    else if ((int)param_1 < 0x400) {
      uVar1 = (param_1 & 7) << 2;
    }
    else {
      Stop_This_Thread_WORLD();
    }
  }
  return uVar1;
}



void FUN_WORLD__800fd93c(void)

{
  DAT_WORLD__801a66ac = VSync(-1);
  return;
}



void FUN_WORLD__800fd964(void)

{
  DAT_WORLD__801a66ac = DAT_WORLD__801a66ac * 0x6255 + 0x3619 & 0xffff;
  return;
}



undefined4 * FUN_WORLD__800fda34(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = &DAT_WORLD__80195c34;
  if (param_1 != 0) {
    puVar1 = &DAT_WORLD__8019a204;
  }
  return puVar1;
}



void FUN_WORLD__800fda54(undefined4 *param_1)

{
  DAT_WORLD__80195c34 = *param_1;
  DAT_WORLD__8019a204 = param_1[1];
  DAT_WORLD__8019a208 = param_1[2];
  DAT_WORLD__8019a20c = param_1[3];
  DAT_WORLD__8019a210 = param_1[4];
  DAT_WORLD__8019a214 = param_1[5];
  return;
}



void FUN_WORLD__800fdaa4(uint *param_1)

{
  uint *puVar1;
  
  puVar1 = DAT_WORLD__801cd814;
  if (DAT_WORLD__801532d6 == 0) {
                    // Probable PsyQ macro: addPrim().
    *param_1 = *param_1 & 0xff000000 | *DAT_WORLD__801cd814 & 0xffffff;
    *puVar1 = *puVar1 & 0xff000000 | (uint)param_1 & 0xffffff;
  }
  else {
    DrawPrim(param_1);
  }
  return;
}



void FUN_WORLD__800fe774(void)

{
  DAT_WORLD__801cd78c = &DAT_WORLD__800fe818;
  FUN_WORLD__80100384();
  return;
}



void FUN_WORLD__800ff450(undefined *param_1,undefined *param_2,int param_3)

{
  do {
    *param_1 = *param_2;
    param_1 = param_1 + 1;
    param_2 = param_2 + 1;
    param_3 = param_3 + -1;
  } while (param_3 != 0);
  return;
}



void Initialize_Thread_WORLD(int param_1,undefined4 param_2)

{
  undefined *puVar1;
  undefined4 uVar2;
  
  uVar2 = FUN_WORLD__80100084();
  puVar1 = PTR_DAT_WORLD__80195cd0_WORLD__8015327c;
  *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x38) = uVar2;
  *(undefined **)(puVar1 + param_1 * 0x400 + 0x3c) = puVar1 + param_1 * 0x400 + 0x3f0;
  *(undefined **)(puVar1 + param_1 * 0x400 + 0x40) = puVar1 + param_1 * 0x400 + 0x3f0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x44) = param_2;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x48) = 1;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x4c) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0xc) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x50) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x54) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x58) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x5c) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x60) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 100) = 0;
  *(undefined4 *)(puVar1 + param_1 * 0x400 + 0x68) = 0;
  return;
}



void MarkThreadRunningWORLD(int param_1)

{
  *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x48) = 1;
  return;
}



void MarkThreadStoppedWORLD(int param_1)

{
  *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x48) = 0;
  return;
}



void Stop_This_Thread_WORLD(void)

{
  undefined *puVar1;
  int iVar2;
  
  iVar2 = DAT_WORLD__801cd170;
  puVar1 = PTR_DAT_WORLD__80195cd0_WORLD__8015327c;
  *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + DAT_WORLD__801cd170 * 0x400 + 0x48) = 0;
  *(undefined4 *)(puVar1 + iVar2 * 0x400 + 0x4c) = 0;
  NextThreadWORLD();
  return;
}



void FUN_WORLD__800ffe64(void)

{
  undefined4 *puVar1;
  int iVar2;
  
  iVar2 = 0xfff;
  puVar1 = (undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x3ffc);
  do {
    *puVar1 = 0;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  DAT_WORLD__801cd170 = 0;
  *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x48) = 1;
  return;
}



void FUN_WORLD__800ffea0(int param_1)

{
  do {
    NextThreadWORLD();
  } while (*(int *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x48) != 0);
  return;
}



undefined4 Check_Thread_Status_WORLD(int param_1)

{
  return *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x48);
}



void ParseThreadParamWORLD(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400);
  *puVar1 = param_2;
  puVar1[1] = param_3;
  puVar1[2] = param_4;
  return;
}



void FUN_WORLD__800fff28(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
                        undefined4 param_5)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400);
  *puVar1 = param_2;
  puVar1[1] = param_3;
  puVar1[2] = param_4;
  puVar1[3] = param_5;
  return;
}



void NextThreadWORLD(void)

{
  int *piVar1;
  undefined *puVar2;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_s6;
  undefined4 unaff_s7;
  undefined4 in_k0;
  undefined4 in_k1;
  undefined4 unaff_s8;
  undefined4 unaff_retaddr;
  undefined auStackX_0 [16];
  
  puVar2 = PTR_DAT_WORLD__80195cd0_WORLD__8015327c + DAT_WORLD__801cd170 * 0x400;
  *(undefined4 *)(puVar2 + 0x10) = unaff_s0;
  *(undefined4 *)(puVar2 + 0x14) = unaff_s1;
  *(undefined4 *)(puVar2 + 0x18) = unaff_s2;
  *(undefined4 *)(puVar2 + 0x1c) = unaff_s3;
  *(undefined4 *)(puVar2 + 0x20) = unaff_s4;
  *(undefined4 *)(puVar2 + 0x24) = unaff_s5;
  *(undefined4 *)(puVar2 + 0x28) = unaff_s6;
  *(undefined4 *)(puVar2 + 0x2c) = unaff_s7;
  *(undefined4 *)(puVar2 + 0x30) = in_k0;
  *(undefined4 *)(puVar2 + 0x34) = in_k1;
  *(BADSPACEBASE **)(puVar2 + 0x38) = register0x00000070;
  *(BADSPACEBASE **)(puVar2 + 0x3c) = register0x00000074;
  *(undefined4 *)(puVar2 + 0x40) = unaff_s8;
  *(undefined4 *)(puVar2 + 0x44) = unaff_retaddr;
  do {
    DAT_WORLD__801cd170 = DAT_WORLD__801cd170 + 1;
    if (DAT_WORLD__801cd170 == 0x11) {
      DAT_WORLD__801cd170 = 0;
      break;
    }
    piVar1 = (int *)(puVar2 + 0x448);
    puVar2 = puVar2 + 0x400;
  } while (*piVar1 == 0);
  FUN_WORLD__800f6568();
  return;
}



void FUN_WORLD__80100084(void)

{
  return;
}



undefined4 Get_This_Param0_WORLD(void)

{
  return *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + DAT_WORLD__801cd170 * 0x400);
}



undefined4 Get_This_Param1_WORLD(void)

{
  return *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + DAT_WORLD__801cd170 * 0x400 + 4);
}



undefined4 FUN_WORLD__801000f8(void)

{
  return *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + DAT_WORLD__801cd170 * 0x400 + 8);
}



undefined4 FUN_WORLD__8010012c(void)

{
  return *(undefined4 *)
          (PTR_DAT_WORLD__80195cd0_WORLD__8015327c + (DAT_WORLD__801cd170 + -1) * 0x400 + 0x48);
}



undefined4 Check_Thread_Status2_WORLD(int param_1)

{
  return *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x48);
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_WORLD__80100188(int param_1,int param_2,uint param_3)

{
  bool bVar1;
  ulonglong uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  undefined4 unaff_s4;
  undefined4 unaff_s5;
  undefined4 unaff_s6;
  undefined4 unaff_s7;
  int iVar9;
  int iVar10;
  
  uVar2 = (longlong)param_1 * (longlong)param_2;
  iVar10 = (int)(uVar2 >> 0x20);
  DAT_1f800000 = unaff_s0;
  _DAT_1f800004 = unaff_s1;
  _DAT_1f800008 = unaff_s2;
  _DAT_1f80000c = unaff_s3;
  _DAT_1f800010 = unaff_s4;
  _DAT_1f800014 = unaff_s5;
  _DAT_1f800018 = unaff_s6;
  _DAT_1f80001c = unaff_s7;
  uVar6 = 0;
  uVar7 = 0;
  uVar8 = 0;
  if (-(iVar10 >> 0x1f) != 0) {
    iVar3 = (int)(uVar2 ^ 0xffffffffffffffff) + 1;
    uVar2 = CONCAT44(iVar10,iVar3) ^ 0xffffffff00000000;
    if (iVar3 == 0) {
      uVar6 = 1;
      uVar2 = CONCAT44(iVar10,iVar3) ^ 0xffffffff00000000;
    }
  }
  uVar5 = (uint)(uVar2 >> 0x20);
  iVar4 = (int)uVar2;
  iVar3 = (int)param_3 >> 0x1f;
  if (-iVar3 != 0) {
    param_3 = param_3 ^ 0xffffffff;
    iVar4 = iVar4 + 1;
  }
  iVar9 = 0x40;
  do {
    uVar6 = uVar6 << 1;
    if ((int)uVar5 < 0) {
      uVar6 = uVar6 | 1;
    }
    uVar5 = uVar5 << 1;
    if (iVar4 < 0) {
      uVar5 = uVar5 | 1;
    }
    iVar4 = iVar4 << 1;
    bVar1 = (int)param_3 <= (int)uVar6;
    if (bVar1) {
      uVar6 = uVar6 - param_3;
    }
    uVar8 = uVar8 << 1;
    if ((int)uVar7 < 0) {
      uVar8 = uVar8 | 1;
    }
    uVar7 = uVar7 << 1 | (uint)bVar1;
    iVar9 = iVar9 + -1;
  } while (iVar9 != 0);
  if (-iVar3 != -(iVar10 >> 0x1f)) {
    if ((uVar8 != 0) && (uVar8 != 0xffffffff)) {
      DAT_WORLD__801cd82c = 1;
    }
    uVar7 = (uVar7 ^ 0xffffffff) + 1;
  }
  return uVar7;
}



byte * FUN_WORLD__80100348(byte *param_1,int param_2)

{
  int iVar1;
  
  iVar1 = 0;
  while (param_2 != iVar1) {
    if ((*param_1 & 0xfe) == 0xfe) {
      iVar1 = iVar1 + 1;
    }
    param_1 = param_1 + 1;
  }
  return param_1;
}



void FUN_WORLD__80100384(void)

{
  int iVar1;
  undefined4 unaff_retaddr;
  undefined auStackX_0 [16];
  
  DAT_WORLD__8010042c = unaff_retaddr;
  if (DAT_WORLD__801cd170 != 0) {
    iVar1 = *(int *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x3c);
    *(BADSPACEBASE **)(iVar1 + -0xc) = register0x00000074;
    *(undefined4 *)(iVar1 + -8) = unaff_retaddr;
    (*DAT_WORLD__801cd78c)();
    return;
  }
  (*DAT_WORLD__801cd78c)();
  return;
}



// Possible VM_DEBUG.OBJ/SpuVmCheck

void FUN_WORLD__80106128(undefined2 param_1)

{
  DAT_WORLD__8016ea34 = param_1;
  return;
}



void FUN_WORLD__80106140(void)

{
  u_long *p;
  
  DAT_WORLD__801cd78c = Get_BIN_as_TIM;
  p = (u_long *)FUN_WORLD__80100384();
  LoadImage((RECT *)&DAT_WORLD__80189c4c,p);
  LoadImage((RECT *)&DAT_WORLD__80189c54,p + 0x2000);
  LoadImage((RECT *)&DAT_WORLD__80189c5c,p + 0x4000);
  LoadImage((RECT *)&DAT_WORLD__80189c64,p + 0x6000);
  DrawSync(0);
  Call_BIN_Free_FFT((int)p);
  return;
}



void FUN_WORLD__801061e0(int param_1)

{
  u_long *puVar1;
  int iVar2;
  
  if (DAT_800473a8 == '\0') {
    DAT_WORLD__801cd78c = Get_BIN_as_TIM;
    puVar1 = (u_long *)FUN_WORLD__80100384();
    LoadImage((RECT *)&DAT_WORLD__8016ed64,puVar1);
    LoadImage((RECT *)&DAT_WORLD__8016ed8c,puVar1 + 0x2000);
    DrawSync(0);
    Call_BIN_Free_FFT((int)puVar1);
    DAT_800473a8 = DAT_800473a8 + '\x01';
  }
  LoadImage((RECT *)&DAT_WORLD__8016ed84,(u_long *)&DAT_WORLD__80189cac);
  DrawSync(0);
  DAT_WORLD__801cd78c = Get_BIN_as_TIM;
  iVar2 = FUN_WORLD__80100384();
  LoadImage((RECT *)&DAT_WORLD__8016ed54,(u_long *)(iVar2 + 0x1000));
  LoadImage((RECT *)&DAT_WORLD__8016ed44,(u_long *)(iVar2 + 0x9000));
  LoadImage((RECT *)&DAT_WORLD__8016ed4c,(u_long *)(iVar2 + 0x9200));
  FUN_WORLD__800f0520((undefined *)(DAT_WORLD__801cd830 + 0x1000));
  DrawSync(0);
  Call_BIN_Free_FFT(iVar2);
  if (param_1 != 0) {
    DAT_WORLD__801cd78c = Get_BIN_as_TIM;
    puVar1 = (u_long *)FUN_WORLD__80100384();
    LoadImage((RECT *)&DAT_WORLD__8016ed94,puVar1);
    LoadImage((RECT *)&DAT_WORLD__8016ed9c,puVar1 + 0x2000);
    DrawSync(0);
    Call_BIN_Free_FFT((int)puVar1);
  }
  return;
}



void FUN_WORLD__8010647c(void)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  
  FUN_WORLD__800f290c();
  FUN_WORLD__801061e0(1);
  FUN_WORLD__80106140();
  piVar4 = &DAT_WORLD__801aed8c;
  DAT_WORLD__801cd78c = Get_DAT_BIN_as_File;
  FUN_WORLD__80100384();
  FUN_WORLD__800f2998();
  FUN_WORLD__800ef25c(0x1fe,0);
  iVar3 = 0;
  piVar2 = &DAT_WORLD__801cd8a4;
  DAT_WORLD__801cd7e0 = &DAT_WORLD__8016e90c;
  do {
    iVar1 = *piVar4;
    piVar4 = piVar4 + 1;
    iVar3 = iVar3 + 1;
    *piVar2 = iVar1 + -0x7fe511f4;
    piVar2 = piVar2 + 1;
  } while (iVar3 < 0x20);
  DAT_WORLD__801cd8ec = &DAT_WORLD__8016e1a0;
  FUN_WORLD__800ef25c(0x1ff,0);
  FUN_WORLD__800ef25c(0x34,1);
  FUN_WORLD__800ef25c(0x35,0);
  FUN_WORLD__800ef25c(0x36,1);
  return;
}



void FUN_WORLD__8010656c(void)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  
  DAT_WORLD__801cd170 = 0;
  FUN_WORLD__800f290c();
  FUN_WORLD__801061e0(0);
  piVar4 = &DAT_WORLD__801aed8c;
  DAT_WORLD__801cd78c = Get_DAT_BIN_as_File;
  FUN_WORLD__80100384();
  FUN_WORLD__800f2998();
  FUN_WORLD__800ef25c(0x1fe,0);
  iVar3 = 0;
  piVar2 = &DAT_WORLD__801cd8a4;
  DAT_WORLD__801cd7e0 = &DAT_WORLD__8016e90c;
  do {
    iVar1 = *piVar4;
    piVar4 = piVar4 + 1;
    iVar3 = iVar3 + 1;
    *piVar2 = iVar1 + -0x7fe511f4;
    piVar2 = piVar2 + 1;
  } while (iVar3 < 0x20);
  DAT_WORLD__801cd8ec = &DAT_WORLD__8016e1a0;
  FUN_WORLD__800ef25c(0x1ff,0);
  FUN_WORLD__800ef25c(0x34,1);
  FUN_WORLD__800ef25c(0x35,0);
  FUN_WORLD__800ef25c(0x36,1);
  return;
}



void FUN_WORLD__80106660(void)

{
  uint uVar1;
  int iVar2;
  
  FUN_80043f00();
  ClearImage((RECT *)&DAT_WORLD__80189eac,'\0','\0','\0');
  DrawSync(0);
  VSync(0);
  FUN_WORLD__8010647c();
  DrawSync(0);
  VSync(0);
  FUN_WORLD__80106998();
  DrawSync(0);
  VSync(0);
  iVar2 = (DAT_800473ac >> 9 & 7) * 6;
  DAT_800473a1 = *(undefined *)(iVar2 + -0x7fe917ec);
  DAT_800473a2 = *(undefined *)(iVar2 + -0x7fe917eb);
  DAT_800473a3 = *(undefined *)(iVar2 + -0x7fe917ea);
  DAT_800473a4 = *(undefined *)(iVar2 + -0x7fe917e9);
  DAT_800473a5 = *(undefined *)(iVar2 + -0x7fe917e8);
  DAT_800473a6 = *(undefined *)(iVar2 + -0x7fe917e7);
  FUN_WORLD__80106a28(0x80,0x80,0x80);
  FUN_WORLD__80113748(0);
  FUN_WORLD__80106998();
  ClearImage((RECT *)&DAT_WORLD__80189eac,'\0','\0','\0');
  DrawSync(0);
  uVar1 = FUN_WORLD__800ef1a8(0x55);
  FUN_WORLD__800ef25c(0x27,uVar1);
  FUN_WORLD__800ef25c(0x55,0);
  iVar2 = FUN_WORLD__800ef1a8(100);
  if (iVar2 != 0) {
    FUN_WORLD__800ef25c(100,0);
  }
  return;
}



void FUN_WORLD__80106834(int param_1)

{
  undefined *puVar1;
  
  puVar1 = PTR_DAT_WORLD__80195cd0_WORLD__8015327c;
  if (*(int *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x4c) == 0x33) {
    *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x4c) = 1;
    *(undefined4 *)(puVar1 + param_1 * 0x400 + 4) = 0xffff;
  }
  return;
}



bool FUN_WORLD__80106868(int param_1)

{
  return *(int *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x4c) == 1;
}



void FUN_WORLD__80106998(void)

{
  DrawSync(0);
  FUN_WORLD__800f290c();
  FUN_WORLD__800f2998();
  FUN_WORLD__800e8660(&DAT_WORLD__801aed8c);
  FUN_WORLD__80108920();
  DrawSync(0);
  DAT_WORLD__801cd7e0 = &DAT_WORLD__8016e90c;
  DAT_WORLD__801cd8ec = &DAT_WORLD__8016e1a0;
  DAT_WORLD__80153270 = 0;
  return;
}



// Possible C_010.OBJ/StSetMask

void FUN_WORLD__80106a28(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  DAT_WORLD__80189ec0 = param_1;
  DAT_WORLD__80189ec4 = param_2;
  DAT_WORLD__80189ec8 = param_3;
  return;
}



void FUN_WORLD__80107170(void)

{
  DAT_WORLD__801bf00c = DAT_8004d950;
  DAT_8004d950 = DAT_8004d950 | 0x3e70;
  return;
}



void FUN_WORLD__80107194(void)

{
  DAT_8004d950 = DAT_WORLD__801bf00c;
  return;
}



void FUN_WORLD__80107238(void)

{
  undefined4 *puVar1;
  uint uVar2;
  int iVar3;
  
  if (DAT_WORLD__8016e45c == 0) {
    return;
  }
  if (DAT_WORLD__8016e45c == 1) {
    uVar2 = 0x12;
    DAT_WORLD__8016e458 = 1;
LAB_WORLD__801073c4:
    FUN_WLDCORE__80069400(uVar2,0x10);
    DAT_WORLD__8016e45c = DAT_WORLD__8016e45c + 1;
  }
  else {
    if (DAT_WORLD__8016e45c == 2) {
      if ((DAT_8004d950 & 8) != 0) {
        return;
      }
    }
    else {
      if (DAT_WORLD__8016e45c == 3) {
        FUN_WORLD__80106998();
        FUN_WORLD__80106a28(0x80,0x80,0x80);
        FUN_WORLD__80113748(0);
        FUN_WORLD__80106998();
        DAT_WORLD__8016e458 = 0;
        FUN_WORLD__8010794c(DAT_WORLD__8016e468,DAT_WORLD__8016e46c,DAT_WORLD__8016e470,
                            DAT_WORLD__8016e474);
        FUN_WORLD__80108388((int)DAT_WORLD__8016e45a);
        DAT_WORLD__801cd7e0 = &DAT_WORLD__8016e90c;
        FUN_WORLD__80107170();
        FUN_WLDCORE__80067cb4(0);
        iVar3 = 0x77ff;
        puVar1 = (undefined4 *)(DAT_800c72f4 + 0x1dffc);
        do {
          *puVar1 = 0;
          iVar3 = iVar3 + -1;
          puVar1 = puVar1 + -1;
        } while (-1 < iVar3);
        DAT_WORLD__8016e45c = DAT_WORLD__8016e45c + 1;
        FUN_WORLD__80106a28(0,0,0);
        return;
      }
      if (7 < DAT_WORLD__8016e45c) {
        if (DAT_WORLD__8016e45c != 8) {
          if (DAT_WORLD__8016e45c != 9) {
            return;
          }
          if ((DAT_8004d950 & 8) != 0) {
            return;
          }
          DAT_WORLD__8016e45c = 0;
          return;
        }
        FUN_WORLD__80107194();
        uVar2 = 0x24;
        goto LAB_WORLD__801073c4;
      }
    }
    DAT_WORLD__8016e45c = DAT_WORLD__8016e45c + 1;
  }
  return;
}



void FUN_WORLD__80107478(void)

{
  if (DAT_WORLD__8016e45e != 0) {
    if (DAT_WORLD__8016e45e == 1) {
      DAT_WORLD__8016e458 = 1;
      FUN_WLDCORE__80069400(0x12,0x10);
      DAT_WORLD__8016e45e = DAT_WORLD__8016e45e + 1;
    }
    else if (DAT_WORLD__8016e45e == 2) {
      if ((DAT_8004d950 & 8) == 0) {
        DAT_WORLD__8016e45e = 3;
      }
    }
    else {
      FUN_WORLD__80106998();
      FUN_WORLD__80106a28(0x80,0x80,0x80);
      DAT_WORLD__8016e45e = 0;
      DAT_8004d950 = DAT_8004d950 | 0x100000;
    }
  }
  return;
}



void FUN_WORLD__8010754c(void)

{
  if ((DAT_WORLD__8016e464 != 0) && (DAT_WORLD__8016e464 == 1)) {
    DAT_WORLD__8016e458 = 1;
    FUN_WORLD__80106998();
    FUN_WORLD__80106a28(0x80,0x80,0x80);
    DAT_WORLD__8016e464 = 0;
    DAT_8004d950 = DAT_8004d950 | 0x800000;
  }
  return;
}



void FUN_WORLD__801075bc(void)

{
  if ((DAT_WORLD__8016e466 != 0) && (DAT_WORLD__8016e466 == 1)) {
    DAT_WORLD__8016e458 = 1;
    FUN_WORLD__80106998();
    DAT_WORLD__801cd78c = Get_DAT_BIN_as_File;
    FUN_WORLD__80100384();
    FUN_WORLD__800e8660(&DAT_WORLD__801aed8c);
    FUN_WORLD__80106a28(0x80,0x80,0x80);
    DAT_WORLD__8016e466 = 0;
    DAT_8004d950 = DAT_8004d950 | 0x1000000;
  }
  return;
}



void FUN_WORLD__80107664(void)

{
  int iVar1;
  undefined4 *puVar2;
  uint uVar3;
  
  if (DAT_WORLD__8016e460 == 0) {
    return;
  }
  if (DAT_WORLD__8016e460 == 1) {
    uVar3 = 0x12;
    DAT_WORLD__8016e458 = 1;
LAB_WORLD__8010781c:
    FUN_WLDCORE__80069400(uVar3,0x10);
    DAT_WORLD__8016e460 = DAT_WORLD__8016e460 + 1;
  }
  else {
    if (DAT_WORLD__8016e460 == 2) {
      if ((DAT_8004d950 & 8) != 0) {
        return;
      }
    }
    else {
      if (DAT_WORLD__8016e460 == 3) {
        FUN_WORLD__80106998();
        FUN_WORLD__80106a28(0x80,0x80,0x80);
        iVar1 = FUN_WORLD__8012f0f8(1);
        FUN_WORLD__80106998();
        DAT_WORLD__8016e458 = 0;
        DAT_WORLD__801cd7e0 = &DAT_WORLD__8016e90c;
        FUN_WORLD__80107170();
        if (iVar1 == 1) {
          DAT_8004d950 = DAT_8004d950 | 0x10000;
          DAT_WORLD__8016e460 = 0;
          return;
        }
        FUN_WORLD__8010794c(DAT_WORLD__8016e468,DAT_WORLD__8016e46c,DAT_WORLD__8016e470,
                            DAT_WORLD__8016e474);
        FUN_WORLD__80108388((int)DAT_WORLD__8016e45a);
        FUN_WLDCORE__80067cb4(0);
        iVar1 = 0x77ff;
        puVar2 = (undefined4 *)(DAT_800c72f4 + 0x1dffc);
        do {
          *puVar2 = 0;
          iVar1 = iVar1 + -1;
          puVar2 = puVar2 + -1;
        } while (-1 < iVar1);
        DAT_WORLD__8016e460 = DAT_WORLD__8016e460 + 1;
        FUN_WORLD__80106a28(0,0,0);
        return;
      }
      if (7 < DAT_WORLD__8016e460) {
        if (DAT_WORLD__8016e460 != 8) {
          if (DAT_WORLD__8016e460 != 9) {
            return;
          }
          if ((DAT_8004d950 & 8) != 0) {
            return;
          }
          DAT_WORLD__8016e460 = 0;
          return;
        }
        FUN_WORLD__80107194();
        uVar3 = 0x24;
        goto LAB_WORLD__8010781c;
      }
    }
    DAT_WORLD__8016e460 = DAT_WORLD__8016e460 + 1;
  }
  return;
}



void FUN_WORLD__80107884(void)

{
  if (DAT_WORLD__8016e462 != 0) {
    if (DAT_WORLD__8016e462 == 1) {
      DAT_WORLD__8016e458 = 1;
      FUN_WLDCORE__80069400(0x12,0x10);
      DAT_WORLD__8016e462 = DAT_WORLD__8016e462 + 1;
    }
    else if (DAT_WORLD__8016e462 == 2) {
      if ((DAT_8004d950 & 8) == 0) {
        DAT_WORLD__8016e462 = 3;
      }
    }
    else if (DAT_WORLD__8016e462 == 3) {
      FUN_WORLD__80106998();
      DAT_WORLD__8016e462 = 0;
      DAT_8004d950 = DAT_8004d950 | 0x100;
    }
  }
  return;
}



void FUN_WORLD__8010794c(undefined4 param_1,int param_2,undefined4 param_3,undefined4 param_4)

{
  if (DAT_WORLD__8016e458 == 0) {
    if (DAT_WORLD__8016e46c != param_2) {
      *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x304c) = 0;
    }
    DAT_WORLD__8016e488 = param_2 + 0x9000;
    DAT_WORLD__8016e9a0 = (short)param_2 + -0x7000;
    DAT_WORLD__8016e98c = (undefined2)param_3;
    DAT_WORLD__8016e98e = (undefined2)param_4;
    DAT_WORLD__8016e468 = param_1;
    DAT_WORLD__8016e46c = param_2;
    DAT_WORLD__8016e470 = param_3;
    DAT_WORLD__8016e474 = param_4;
    Initialize_Thread_WORLD(2,&DAT_WORLD__80107a14);
    ParseThreadParamWORLD(2,param_1,0,0);
  }
  return;
}



// Possible GS_101.OBJ/GsSetNearClip
// Possible GS_102.OBJ/GsSetFarClip
// Possible GS_124.OBJ/GsSetWorkBase

void FUN_WORLD__80107e00(undefined4 param_1)

{
  DAT_WORLD__80189f60 = param_1;
  return;
}



int FUN_WORLD__80107e10(undefined4 param_1,uint param_2)

{
  byte bVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  
  iVar4 = (DAT_800473ac >> 9 & 7) * 6;
  DAT_800473a1 = *(byte *)(iVar4 + -0x7fe917ec);
  DAT_800473a2 = *(byte *)(iVar4 + -0x7fe917eb);
  DAT_800473a3 = *(byte *)(iVar4 + -0x7fe917ea);
  DAT_800473a4 = *(undefined *)(iVar4 + -0x7fe917e9);
  DAT_800473a5 = *(undefined *)(iVar4 + -0x7fe917e8);
  DAT_800473a6 = *(undefined *)(iVar4 + -0x7fe917e7);
  if (param_2 == 0) {
    DAT_WORLD__801aed50 = 0;
    DAT_WORLD__801aed54 = 0;
    DAT_WORLD__801aed58 = 0;
  }
  DAT_WORLD__801aed44 = 0;
  DAT_WORLD__801aed4c = DAT_WORLD__801aed48;
  if ((DAT_WORLD__801aed48 == param_2) && ((param_2 & 0xf00c) != 0)) {
    uVar3 = (int)(uint)DAT_800473a1 / DAT_WORLD__8015326c;
    if (DAT_WORLD__8015326c == 0) {
      trap(0x1c00);
    }
    if ((DAT_WORLD__8015326c == -1) && (DAT_800473a1 == 0x80000000)) {
      trap(0x1800);
    }
    DAT_WORLD__801aed50 = DAT_WORLD__801aed50 + 1;
    if (DAT_WORLD__801aed50 == uVar3) {
      DAT_WORLD__801aed44 = param_2 & 0xf00c;
    }
    if (DAT_WORLD__801aed50 < uVar3) {
      DAT_WORLD__801aed54 = 0;
      DAT_WORLD__801aed58 = 0;
    }
    else {
      if (DAT_WORLD__8015326c == 0) {
        trap(0x1c00);
      }
      if ((DAT_WORLD__8015326c == -1) && (DAT_800473a2 == 0x80000000)) {
        trap(0x1800);
      }
      DAT_WORLD__801aed54 = DAT_WORLD__801aed54 + 1;
      DAT_WORLD__801aed58 = DAT_WORLD__801aed58 + 1;
      if ((uint)((int)(uint)DAT_800473a2 / DAT_WORLD__8015326c) <= DAT_WORLD__801aed54) {
        DAT_WORLD__801aed54 = 0;
        DAT_WORLD__801aed44 = param_2 & 0xa000;
        if ((param_2 & 0x80) == 0) {
          DAT_WORLD__801aed44 = param_2 & 0xf000;
        }
      }
      if (DAT_WORLD__8015326c == 0) {
        trap(0x1c00);
      }
      if ((DAT_WORLD__8015326c == -1) && (DAT_800473a3 == 0x80000000)) {
        trap(0x1800);
      }
      if ((uint)((int)(uint)DAT_800473a3 / DAT_WORLD__8015326c) <= DAT_WORLD__801aed58) {
        DAT_WORLD__801aed58 = 0;
        uVar3 = param_2 & 0x500c;
        if ((param_2 & 0x80) == 0) {
          uVar3 = param_2 & 0xc;
        }
        DAT_WORLD__801aed44 = uVar3 | DAT_WORLD__801aed44;
      }
    }
  }
  else {
    DAT_WORLD__801aed44 = ~DAT_WORLD__801aed48 & param_2;
    DAT_WORLD__801aed50 = 0;
  }
  DAT_WORLD__801aed44 = DAT_WORLD__801aed44 & DAT_WORLD__80189f60;
  if (DAT_WORLD__8016e45c != 0) {
    DAT_WORLD__801aed44 = 0;
  }
  if (DAT_WORLD__8016e45e != 0) {
    DAT_WORLD__801aed44 = 0;
  }
  if (DAT_WORLD__8016e464 != 0) {
    DAT_WORLD__801aed44 = 0;
  }
  if (DAT_WORLD__8016e460 != 0) {
    DAT_WORLD__801aed44 = 0;
  }
  if (DAT_WORLD__8016e462 != 0) {
    DAT_WORLD__801aed44 = 0;
  }
  if (DAT_WORLD__8016e466 != 0) {
    DAT_WORLD__801aed44 = 0;
  }
  DAT_WORLD__80153314 = 1;
  DAT_WORLD__801aed48 = param_2;
  FUN_WORLD__80107238();
  FUN_WORLD__80107884();
  FUN_WORLD__80107664();
  FUN_WORLD__80107478();
  FUN_WORLD__8010754c();
  FUN_WORLD__801075bc();
  DAT_WORLD__801531c8 = -2;
  DAT_WORLD__80153298 = (MusicDataHeader *)0xffffffff;
  DAT_WORLD__801cd814 = param_1;
  FUN_WORLD__800e28ac();
  FUN_WORLD__800fda54(&DAT_WORLD__801aed44);
  iVar4 = 1;
  if ((DAT_WORLD__801aed44 != 0x100) && (DAT_WORLD__801aed44 != 0)) {
    DAT_WORLD__80153334 = 5;
  }
  do {
    uVar2 = Check_Thread_Status2_WORLD(iVar4);
    *(char *)(iVar4 + -0x7fe5129c) = (char)uVar2;
    iVar4 = iVar4 + 1;
  } while (iVar4 < 0x10);
  iVar4 = 1;
  NextThreadWORLD();
  do {
    bVar1 = *(byte *)(iVar4 + -0x7fe5129c);
    uVar3 = Check_Thread_Status2_WORLD(iVar4);
    iVar4 = iVar4 + 1;
    if (bVar1 != uVar3) {
      DAT_WORLD__80153334 = 5;
    }
  } while (iVar4 < 0x10);
  if (DAT_WORLD__80153334 != 0) {
    DAT_WORLD__80153334 = DAT_WORLD__80153334 + -1;
  }
  if (DAT_WORLD__801532e8 != 0) {
    DAT_WORLD__801532e8 = 0;
  }
  DAT_WORLD__801532f4 = DAT_WORLD__801532f4 + 1;
  DAT_WORLD__801532f8 = DAT_WORLD__801532f8 + 1 & 1;
  if (DAT_WORLD__80153298 != (MusicDataHeader *)0xffffffff) {
    Call_Play_SoundEffect(DAT_WORLD__80153298);
  }
  if (DAT_WORLD__801531c8 == 0) {
    FUN_WORLD__800ef25c(0x33,(int)DAT_WORLD__801531ca);
    DAT_8004d950 = DAT_8004d950 | 0x4000;
  }
  if (DAT_WORLD__80153336 != 0) {
    DAT_WORLD__80153336 = DAT_WORLD__80153336 + -1;
  }
  return (int)DAT_WORLD__801531c8;
}



void FUN_WORLD__80108388(int param_1)

{
  short sVar1;
  int iVar2;
  
  if (*(int *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x2048) != 0) {
    return;
  }
  iVar2 = param_1 * 0x3c;
  DAT_WORLD__801cd7e0 = &DAT_WORLD__8016e90c;
  *(undefined2 *)(&DAT_WORLD__8016e914 + iVar2) = 0xff90;
  *(undefined2 *)(&DAT_WORLD__8016e916 + iVar2) = 0xffb0;
  DAT_WORLD__8016e45a = (undefined2)param_1;
  if ((int)*(short *)(&DAT_WORLD__8016e914 + iVar2) + (int)*(short *)(&DAT_WORLD__8016e918 + iVar2)
      < 0x81) {
    sVar1 = -0x78;
    if (*(short *)(&DAT_WORLD__8016e914 + iVar2) < -0x80) goto LAB_WORLD__80108410;
  }
  else {
    sVar1 = 0x78 - *(short *)(&DAT_WORLD__8016e918 + iVar2);
LAB_WORLD__80108410:
    *(short *)(&DAT_WORLD__8016e914 + iVar2) = sVar1;
  }
  if ((int)*(short *)(&DAT_WORLD__8016e916 + iVar2) + (int)*(short *)(&DAT_WORLD__8016e91a + iVar2)
      < 0x79) {
    sVar1 = -0x70;
    if (-0x79 < *(short *)(&DAT_WORLD__8016e916 + iVar2)) goto LAB_WORLD__80108448;
  }
  else {
    sVar1 = 0x70 - *(short *)(&DAT_WORLD__8016e91a + iVar2);
  }
  *(short *)(&DAT_WORLD__8016e916 + iVar2) = sVar1;
LAB_WORLD__80108448:
  Initialize_Thread_WORLD(8,*(undefined4 *)(DAT_WORLD__801cd7e0 + param_1 * 0x3c + 0x28));
  ParseThreadParamWORLD(8,DAT_WORLD__801cd7e0 + param_1 * 0x3c,0,0);
  return;
}



void FUN_WORLD__80108920(void)

{
  byte bVar1;
  PartyUnit *pPVar2;
  PartyUnit *pPVar3;
  int iVar4;
  int iVar5;
  byte *pbVar6;
  byte *pbVar7;
  int iVar8;
  
  iVar8 = 0;
  pbVar7 = DAT_WORLD__801cd8c4;
  do {
    pPVar2 = Get_Party_Data_Pointer(iVar8);
    iVar4 = 0;
    pPVar3 = pPVar2;
    if (pPVar2->PartyID == 0xff) {
      *pbVar7 = 0xfe;
LAB_WORLD__8010896c:
      pbVar6 = pbVar7 + 1;
    }
    else {
      do {
        bVar1 = pPVar3->UnitName[0];
        *pbVar7 = bVar1;
        if ((bVar1 & 0xfe) == 0xfe) goto LAB_WORLD__8010896c;
        pbVar6 = pbVar7 + 1;
        if (iVar4 == 0xf) {
          *pbVar6 = 0xfe;
          pbVar6 = pbVar7 + 2;
        }
        iVar5 = iVar4 + 1;
        pPVar3 = (PartyUnit *)((int)pPVar2->JobJP + iVar4 + -0x6d);
        iVar4 = iVar5;
        pbVar7 = pbVar6;
      } while (iVar5 < 0x10);
    }
    iVar8 = iVar8 + 1;
    pbVar7 = pbVar6;
    if (0x13 < iVar8) {
      DAT_WORLD__80189f6c = DAT_WORLD__80189f6c + 1;
      return;
    }
  } while( true );
}



// Possible GS_101.OBJ/GsSetNearClip
// Possible GS_102.OBJ/GsSetFarClip
// Possible GS_124.OBJ/GsSetWorkBase

void FUN_WORLD__80108a08(undefined4 param_1)

{
  DAT_WORLD__801bf440 = param_1;
  return;
}



uint FUN_WORLD__801090c8(int param_1)

{
  bool bVar1;
  PartyUnit *pPVar2;
  uint uVar3;
  int iVar4;
  JobData *unaff_s1;
  
  pPVar2 = Get_Party_Data_Pointer(param_1);
  uVar3 = (uint)pPVar2->SpriteSet;
  if (0x7f < uVar3) {
    if (uVar3 == 0x80) {
      iVar4 = (pPVar2->JobID - 0x4a) * 2;
      uVar3 = iVar4 + 0x60;
      if (pPVar2->JobID == 0x5d) {
        uVar3 = iVar4 + 0x5e;
      }
    }
    else if (uVar3 == 0x81) {
      iVar4 = (pPVar2->JobID - 0x4a) * 2;
      uVar3 = iVar4 + 0x61;
      if (pPVar2->JobID == 0x5d) {
        uVar3 = iVar4 + 0x5f;
      }
    }
    else {
      unaff_s1 = Get_Job_DataPointer((uint)pPVar2->JobID);
      uVar3 = (uint)unaff_s1->MonPortrait;
    }
    if (pPVar2->JobID == Bard) {
      uVar3 = 0x82;
    }
    if (pPVar2->JobID == Dancer) {
      uVar3 = 0x83;
    }
  }
  uVar3 = (uint)*(ushort *)(&DAT_WORLD__8018a168 + uVar3 * 2);
  if (pPVar2->SpriteSet == 0) {
    uVar3 = 0;
  }
  uVar3 = uVar3 & 0xff;
  if (uVar3 == 0x18) {
    uVar3 = 0x7a;
  }
  else {
    if (uVar3 < 0x3f) {
      bVar1 = uVar3 < 0x3e;
      if ((pPVar2->SpriteSet & 0x80) != 0) {
        uVar3 = uVar3 - 1;
        bVar1 = (int)uVar3 < 0x3e;
      }
    }
    else {
      uVar3 = (uint)(byte)(&DAT_WORLD__8018a2d1)[uVar3];
      bVar1 = uVar3 < 0x3e;
    }
    if (!bVar1) {
      uVar3 = (uVar3 - 0x3e) * 3 + unaff_s1->MonPal + 0x3e;
    }
  }
  return uVar3;
}



void FUN_WORLD__801128e0(undefined4 param_1,uint param_2,undefined2 param_3)

{
  byte bVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  
  DAT_WORLD__801c0520 = param_3;
  DAT_WORLD__801cd814 = param_1;
  DAT_WORLD__801c0524 = FUN_WORLD__800fda34(0);
  DAT_WORLD__80153314 = 0;
  if (param_2 == 0) {
    DAT_WORLD__801c0534 = 0;
    DAT_WORLD__801c0538 = 0;
    DAT_WORLD__801c053c = 0;
  }
  DAT_WORLD__801c0528 = 0;
  DAT_WORLD__801c0530 = DAT_WORLD__801c052c;
  if ((DAT_WORLD__801c052c == param_2) && ((param_2 & 0xf00c) != 0)) {
    uVar3 = (int)(uint)DAT_800473a1 / DAT_WORLD__8015326c;
    if (DAT_WORLD__8015326c == 0) {
      trap(0x1c00);
    }
    if ((DAT_WORLD__8015326c == -1) && (DAT_800473a1 == 0x80000000)) {
      trap(0x1800);
    }
    DAT_WORLD__801c0534 = DAT_WORLD__801c0534 + 1;
    if (DAT_WORLD__801c0534 == uVar3) {
      DAT_WORLD__801c0528 = param_2 & 0xf00c;
    }
    if (DAT_WORLD__801c0534 < uVar3) {
      DAT_WORLD__801c0538 = 0;
      DAT_WORLD__801c053c = 0;
    }
    else {
      if (DAT_WORLD__8015326c == 0) {
        trap(0x1c00);
      }
      if ((DAT_WORLD__8015326c == -1) && (DAT_800473a2 == 0x80000000)) {
        trap(0x1800);
      }
      DAT_WORLD__801c0538 = DAT_WORLD__801c0538 + 1;
      DAT_WORLD__801c053c = DAT_WORLD__801c053c + 1;
      if ((uint)((int)(uint)DAT_800473a2 / DAT_WORLD__8015326c) <= DAT_WORLD__801c0538) {
        DAT_WORLD__801c0538 = 0;
        DAT_WORLD__801c0528 = param_2 & 0xa000;
        if ((param_2 & 0x80) == 0) {
          DAT_WORLD__801c0528 = param_2 & 0xf000;
        }
      }
      if (DAT_WORLD__8015326c == 0) {
        trap(0x1c00);
      }
      if ((DAT_WORLD__8015326c == -1) && (DAT_800473a3 == 0x80000000)) {
        trap(0x1800);
      }
      if ((uint)((int)(uint)DAT_800473a3 / DAT_WORLD__8015326c) <= DAT_WORLD__801c053c) {
        DAT_WORLD__801c053c = 0;
        uVar3 = param_2 & 0x500c;
        if ((param_2 & 0x80) == 0) {
          uVar3 = param_2 & 0xc;
        }
        DAT_WORLD__801c0528 = uVar3 | DAT_WORLD__801c0528;
      }
    }
  }
  else {
    DAT_WORLD__801c0528 = ~DAT_WORLD__801c052c & param_2;
    DAT_WORLD__801c0534 = 0;
  }
  DAT_WORLD__80153298 = 0xffffffff;
  DAT_WORLD__801c052c = param_2;
  FUN_WORLD__800fda54(&DAT_WORLD__801c0528);
  FUN_WORLD__800fda54(&DAT_WORLD__801c0528);
  iVar4 = 1;
  if ((DAT_WORLD__801c0528 != 0x100) && (DAT_WORLD__801c0528 != 0)) {
    DAT_WORLD__80153334 = 5;
  }
  do {
    uVar2 = Check_Thread_Status2_WORLD(iVar4);
    *(char *)(iVar4 + -0x7fe37ce4) = (char)uVar2;
    iVar4 = iVar4 + 1;
  } while (iVar4 < 0x10);
  iVar4 = 1;
  NextThreadWORLD();
  do {
    bVar1 = *(byte *)(iVar4 + -0x7fe37ce4);
    uVar3 = Check_Thread_Status2_WORLD(iVar4);
    iVar4 = iVar4 + 1;
    if (bVar1 != uVar3) {
      DAT_WORLD__80153334 = 5;
    }
  } while (iVar4 < 0x10);
  if (DAT_WORLD__80153334 != 0) {
    DAT_WORLD__80153334 = DAT_WORLD__80153334 + -1;
  }
  FUN_WORLD__80112c88();
  DAT_WORLD__801532f4 = DAT_WORLD__801532f4 + 1;
  DAT_WORLD__801532f8 = DAT_WORLD__801532f8 + 1 & 1;
  if (DAT_WORLD__80153336 != 0) {
    DAT_WORLD__80153336 = DAT_WORLD__80153336 + -1;
  }
  return;
}



undefined4 FUN_WORLD__80112c6c(int param_1)

{
  return *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + param_1 * 0x400 + 0x48);
}



void FUN_WORLD__80112c88(void)

{
  u_short uVar1;
  undefined2 uVar2;
  short sVar3;
  int iVar4;
  uint uVar5;
  int *unaff_s0;
  TILE *pTVar6;
  int iVar7;
  DR_MODE *pDVar8;
  DR_MODE *p;
  int iVar9;
  int iVar10;
  int iVar11;
  int *piVar12;
  int *local_38;
  int local_30;
  
  iVar7 = 0;
  iVar4 = FUN_WORLD__80112c6c(8);
  if ((iVar4 != 0) && (*(int *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x204c) == 0x39)) {
    unaff_s0 = *(int **)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x2000);
    iVar7 = (uint)(*unaff_s0 == 0) << 3;
  }
  iVar4 = FUN_WORLD__80112c6c(7);
  if (((iVar4 != 0) && (*(int *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x1c4c) == 0x39)) &&
     (**(int **)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x1c00) == 0)) {
    iVar7 = 7;
    unaff_s0 = *(int **)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x1c00);
  }
  if (iVar7 != 0) {
    if ((unaff_s0[1] == 0x90) && ((unaff_s0[2] & 0x80U) == 0)) {
      DAT_WORLD__8018aa80 = 2;
      DAT_WORLD__8018aa84 = 1;
      goto LAB_WORLD__80112df8;
    }
    if ((unaff_s0[1] == 0) && ((unaff_s0[2] & 0x80U) == 0)) {
      DAT_WORLD__8018aa80 = 1;
      DAT_WORLD__8018aa84 = 2;
      goto LAB_WORLD__80112df8;
    }
  }
  if (DAT_WORLD__8018aa80 == 1) {
    DAT_WORLD__8018aa80 = 2;
  }
  if (DAT_WORLD__8018aa84 == 1) {
    DAT_WORLD__8018aa84 = 2;
  }
LAB_WORLD__80112df8:
  iVar7 = 0;
  iVar4 = 0;
  piVar12 = &DAT_WORLD__8018aa70;
  local_38 = &DAT_WORLD__8018aa78;
  local_30 = 0;
  do {
    uVar5 = *(uint *)((int)&DAT_WORLD__8018aa68 + iVar4) ^ 1;
    *(uint *)((int)&DAT_WORLD__8018aa68 + iVar4) = uVar5;
    p = (DR_MODE *)(local_30 + uVar5 * 0x13c + -0x7fe3ffd0);
    uVar1 = GetTPage(0,2,0x3c0,0x100);
    SetDrawMode(p,0,0,(uint)uVar1,(RECT *)&DAT_WORLD__8018ae6c);
    SetTile((TILE *)(p + 1));
    *(undefined *)p[1].code = 0;
    *(undefined *)((int)p[1].code + 1) = 0;
    *(undefined *)((int)p[1].code + 2) = 0;
    SetSemiTrans((TILE *)(p + 1),1);
    uVar2 = 0xb2;
    if (iVar7 == 0) {
      uVar2 = 0x23;
    }
    iVar9 = 0;
    iVar11 = 0xac;
    iVar10 = 0x1c;
    *(undefined2 *)(p[1].code + 1) = 0x80;
    *(undefined2 *)((int)p[1].code + 6) = uVar2;
    *(undefined2 *)&p[2].tag = 0x100;
    *(undefined2 *)((int)&p[2].tag + 2) = 0x32;
    pDVar8 = p;
    do {
      pTVar6 = (TILE *)((int)p->code + iVar10 + -4);
      SetTile(pTVar6);
      *(undefined *)(pDVar8[2].code + 1) = 0;
      *(undefined *)((int)pDVar8[2].code + 5) = 0;
      *(undefined *)((int)pDVar8[2].code + 6) = 0;
      SetSemiTrans(pTVar6,1);
      sVar3 = 0xa9;
      *(undefined2 *)pDVar8[3].code = 0x100;
      *(undefined2 *)((int)pDVar8[3].code + 2) = 1;
      if (iVar7 == 0) {
        sVar3 = 0x1a;
      }
      pTVar6 = (TILE *)((int)p->code + iVar11 + -4);
      *(undefined2 *)&pDVar8[3].tag = 0x80;
      *(short *)((int)&pDVar8[3].tag + 2) = sVar3 + (short)iVar9;
      SetTile(pTVar6);
      *(undefined *)(pDVar8[0xe].code + 1) = 0;
      *(undefined *)((int)pDVar8[0xe].code + 5) = 0;
      *(undefined *)((int)pDVar8[0xe].code + 6) = 0;
      SetSemiTrans(pTVar6,1);
      sVar3 = 0xe4;
      *(undefined2 *)pDVar8[0xf].code = 0x100;
      *(undefined2 *)((int)pDVar8[0xf].code + 2) = 1;
      if (iVar7 == 0) {
        sVar3 = 0x55;
      }
      iVar11 = iVar11 + 0x10;
      *(undefined2 *)&pDVar8[0xf].tag = 0x80;
      *(short *)((int)&pDVar8[0xf].tag + 2) = sVar3 + (short)iVar9;
      pDVar8 = (DR_MODE *)pDVar8[1].code;
      iVar9 = iVar9 + 1;
      iVar10 = iVar10 + 0x10;
    } while (iVar9 < 9);
    if (*(int *)((int)&DAT_WORLD__8018aa80 + iVar4) == 0) {
      *(undefined *)p[1].code = 0;
      *(undefined *)((int)p[1].code + 1) = 0;
      *(undefined *)((int)p[1].code + 2) = 0;
    }
    else {
      if (*(int *)((int)&DAT_WORLD__8018aa80 + iVar4) == 1) {
        iVar9 = *(int *)((int)&DAT_WORLD__8018aa70 + iVar4);
        if (iVar9 < 0x78) {
          *(int *)((int)&DAT_WORLD__8018aa70 + iVar4) = iVar9 + 0xc;
        }
      }
      if (*(int *)((int)&DAT_WORLD__8018aa80 + iVar4) == 2) {
        iVar9 = *(int *)((int)&DAT_WORLD__8018aa70 + iVar4);
        if (iVar9 == 0) {
          *(int *)((int)&DAT_WORLD__8018aa80 + iVar4) = 0;
        }
        else {
          *(int *)((int)&DAT_WORLD__8018aa70 + iVar4) = iVar9 + -0xc;
        }
      }
      *(undefined *)p[1].code = *(undefined *)piVar12;
      iVar9 = 0;
      *(undefined *)((int)p[1].code + 1) = *(undefined *)piVar12;
      iVar10 = 0xac;
      *(undefined *)((int)p[1].code + 2) = *(undefined *)piVar12;
      *local_38 = *piVar12;
      pDVar8 = p;
      do {
        if (*local_38 != 0) {
          *local_38 = *local_38 + -0xc;
        }
        iVar11 = (8 - iVar9) * 0x10;
        *(undefined *)((int)p + iVar11 + 0x20) = *(undefined *)local_38;
        *(undefined *)((int)p + iVar11 + 0x21) = *(undefined *)local_38;
        *(undefined *)((int)p + iVar11 + 0x22) = *(undefined *)local_38;
        *(undefined *)(pDVar8[0xe].code + 1) = *(undefined *)local_38;
        *(undefined *)((int)pDVar8[0xe].code + 5) = *(undefined *)local_38;
        iVar9 = iVar9 + 1;
        *(undefined *)((int)pDVar8[0xe].code + 6) = *(undefined *)local_38;
        FUN_WORLD__800fdaa4((uint *)((int)p + iVar11 + 0x1c));
        FUN_WORLD__800fdaa4((uint *)((int)p->code + iVar10 + -4));
        iVar10 = iVar10 + 0x10;
        pDVar8 = (DR_MODE *)pDVar8[1].code;
      } while (iVar9 < 9);
      FUN_WORLD__800fdaa4(&p[1].tag);
      FUN_WORLD__800fdaa4((uint *)p);
    }
    iVar4 = iVar4 + 4;
    piVar12 = piVar12 + 1;
    iVar7 = iVar7 + 1;
    local_38 = local_38 + 1;
    local_30 = local_30 + 0x278;
  } while (iVar7 < 2);
  return;
}



void FUN_WORLD__8011315c(void)

{
  RECT local_48;
  undefined auStack_40 [8];
  undefined2 local_38 [4];
  undefined2 local_30;
  undefined2 local_28;
  
  FUN_WORLD__80106998();
  FUN_WORLD__80126374(0);
  if (DAT_WORLD__801cd218 != -2) {
    local_48.x = 0;
    local_48.y = 0;
    local_48.w = 0x100;
    local_48.h = 0x1e0;
    ClearImage(&local_48,'\0','\0','\0');
    SetDispMask(1);
  }
  local_48.x = 0x240;
  local_48.y = 0x100;
  local_48.w = 0x40;
  local_48.h = 0x30;
  FUN_WORLD__8012d6dc(&local_48,DAT_WORLD__801cd830);
  local_48.x = 0x240;
  local_48.y = 0x1fa;
  local_48.w = 0x40;
  local_48.h = 4;
  FUN_WORLD__8012d6dc(&local_48,&DAT_WORLD__8018b804);
  local_48.x = 0x3c0;
  local_48.y = 0x1f0;
  local_48.w = 0x10;
  local_48.h = 1;
  FUN_WORLD__8012d70c(&local_48,auStack_40);
  local_38[0] = 0;
  local_30 = 0;
  local_28 = 0;
  local_48.x = 0x260;
  local_48.y = 0x1fe;
  local_48.w = 0x10;
  local_48.h = 1;
  FUN_WORLD__8012d6dc(&local_48,auStack_40);
  local_48.x = 0x240;
  local_48.y = 0x1fe;
  local_48.w = 0xc;
  local_48.h = 1;
  FUN_WORLD__8012d6dc(&local_48,local_38);
  local_48.x = 0x3c0;
  local_48.y = 500;
  local_48.w = 0x10;
  local_48.h = 1;
  FUN_WORLD__8012d70c(&local_48,auStack_40);
  local_38[0] = 0;
  local_30 = 0;
  local_28 = 0;
  local_48.x = 0x270;
  local_48.y = 0x1fe;
  local_48.w = 0x10;
  local_48.h = 1;
  FUN_WORLD__8012d6dc(&local_48,auStack_40);
  local_48.x = 0x250;
  local_48.y = 0x1fe;
  local_48.w = 0xc;
  local_48.h = 1;
  FUN_WORLD__8012d6dc(&local_48,local_38);
  FUN_WORLD__8012d6dc((RECT *)&DAT_WORLD__8018c0d0,&DAT_WORLD__8018bb50);
  DAT_WORLD__801cd754 = 0;
  FUN_WORLD__801263c8((short *)0x0,0,0);
  FUN_WORLD__8012d454();
  FUN_WORLD__8012b90c();
  DAT_WORLD__8018ba24 = 0;
  FUN_WORLD__80114088();
  FUN_WORLD__8012d7b4(0);
  FUN_WORLD__8012d7b4(1);
  FUN_WORLD__8012d7b4(2);
  FUN_WORLD__8012d7b4(3);
  DAT_WORLD__801cd908 = &DAT_WORLD__801cd558;
  DAT_WORLD__801cd910 = &DAT_WORLD__8018b670;
  DAT_WORLD__8018ba28 = 0;
  DAT_WORLD__8018e48c = 0;
  return;
}



void FUN_WORLD__801133e4(void)

{
  int iVar1;
  
  if (DAT_WORLD__801cd218 == -1) {
    iVar1 = 0;
  }
  else {
    iVar1 = 2;
    if (DAT_WORLD__801cd218 != 0x65) {
      iVar1 = 1;
    }
  }
  iVar1 = FUN_WORLD__801210e8(0,&DAT_WORLD__801cd5ec,iVar1);
  DAT_WORLD__801cd788 = (undefined)iVar1;
  FUN_WORLD__801221d8(0);
  FUN_WORLD__801221d8(1);
  FUN_WORLD__801221d8(2);
  FUN_WORLD__801221d8(3);
  FUN_WORLD__801221d8(4);
  FUN_WORLD__801161e8(0);
  DAT_WORLD__8018baea = 1;
  return;
}



undefined4 FUN_WORLD__80113478(void)

{
  int iVar1;
  
  if ((((DAT_WORLD__801cd750 == 0) && (iVar1 = Check_Thread_Status_WORLD(0xf), iVar1 == 0)) &&
      (DAT_WORLD__8015330c == 0)) && (iVar1 = Check_Thread_Status_WORLD(6), iVar1 == 0)) {
    return 0;
  }
  return 1;
}



void FUN_WORLD__80113580(void)

{
  char cVar1;
  int iVar2;
  
  iVar2 = Check_Thread_Status_WORLD(7);
  cVar1 = '\n';
  if ((iVar2 == 0) && (cVar1 = '\n', (DAT_WORLD__8018ba34 & 0x60) == 0)) {
    if (DAT_WORLD__8018c192 == '\0') {
      return;
    }
    cVar1 = DAT_WORLD__8018c192 + -1;
  }
  DAT_WORLD__8018c192 = cVar1;
  if (cVar1 != '\0') {
    FUN_WORLD__8012bd7c();
  }
  return;
}



undefined FUN_WORLD__80113608(void)

{
  return DAT_WORLD__8018c192;
}



uint FUN_WORLD__80113618(void)

{
  uint uVar1;
  int iVar2;
  
  uVar1 = FUN_WORLD__8012bd14();
  if (((DAT_WORLD__8018e48d == '\0') && (DAT_WORLD__8018e0b2 == '\0')) &&
     (iVar2 = FUN_WORLD__80113608(), iVar2 == 0)) {
    iVar2 = Check_Thread_Status_WORLD(1);
    if (iVar2 == 0) {
      if ((DAT_WORLD__801cd754 != 0) || (DAT_WORLD__801cd750 != 0)) {
        uVar1 = uVar1 & 0xf0ff;
      }
    }
    else if (DAT_WORLD__8018ba1c == 4) {
      uVar1 = uVar1 & 0xf0ff;
    }
  }
  else {
    uVar1 = 0;
  }
  return uVar1;
}



void FUN_WORLD__801136e0(void)

{
  bool bVar1;
  
  bVar1 = 8 < DAT_WORLD__8018c193;
  if (bVar1) {
    DAT_WORLD__8018c193 = '\0';
    DAT_WORLD__8018c18c = 0;
    DAT_WORLD__8018ba34 = 0;
  }
  else {
    DAT_WORLD__8018c193 = DAT_WORLD__8018c193 + 1;
  }
  DAT_WORLD__8018ba38 = (uint)bVar1;
  return;
}



void FUN_WORLD__80113748(uint param_1)

{
  bool bVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  undefined *puVar5;
  undefined4 uVar6;
  ushort uVar7;
  undefined4 uVar8;
  short sVar9;
  uint uVar10;
  uint uVar11;
  uint unaff_s3;
  undefined auStack_408 [512];
  undefined auStack_208 [496];
  
  DAT_WORLD__801cd224 = 0x40;
  DAT_WORLD__801cd1a0 = 500;
  DAT_WORLD__801cd850 = 0x5a;
  DAT_WORLD__801cd1ac = 0x3c;
  DAT_WORLD__801cd178 = 10;
  DAT_WORLD__801cd180 = 0x82;
  DAT_WORLD__801cd438 = 0x1e;
  DAT_WORLD__801cd510 = 0x1e;
  DAT_WORLD__801cd228 = 0x1e;
  DAT_WORLD__801cd434 = 0x1e;
  puVar5 = auStack_408;
  uVar6 = 0;
  uVar8 = 0;
  FUN_WORLD__80126058((int)auStack_208,(int)puVar5);
  DAT_WORLD__801cd218 = 0xffff;
  FUN_WORLD__80113f00();
  uVar11 = -(uint)((int)param_1 < 0xb) & param_1;
  FUN_WORLD__8012d964(uVar11,puVar5,uVar6,uVar8);
  if (uVar11 == 0) {
    iVar2 = FUN_80043660(0x1f);
    DAT_WORLD__801cd548 = (char)iVar2;
    do {
      iVar2 = FUN_80043708();
    } while (iVar2 != 0);
    FUN_80043a90((int)DAT_WORLD__801cd548,0x7f,0);
  }
  while (DAT_WORLD__8018baea != '\0') {
    FUN_WORLD__80125cfc(0,0);
    iVar2 = FUN_WORLD__8012dae0();
    if (iVar2 == 0) break;
    FUN_WORLD__8012b7e0();
    if (DAT_WORLD__8018e0b2 != '\0') {
      FUN_WORLD__8012b0e8(0,'\0');
      FUN_WORLD__8012bd7c();
    }
    FUN_WORLD__80113580();
    FUN_WORLD__8012d4c0();
    if ((DAT_WORLD__801cd52c & 0x100) != 0) {
      FUN_WORLD__8012acf4(3);
    }
    if (DAT_WORLD__801cd750 != 0) {
      FUN_WORLD__8012ad7c(*(short *)((&DAT_WORLD__801cd5ec)[DAT_WORLD__8018ba20] + 0x3e));
    }
    FUN_WORLD__801298c0(DAT_WORLD__8015330c);
    (*(code *)(&PTR_DAT_WORLD__801140bc_WORLD__8018baec)[DAT_WORLD__8018ba1c])();
    if ((DAT_WORLD__8018ba1c == 0) || (DAT_WORLD__8018ba1c - 4 < 2)) {
      uVar6 = FUN_WORLD__80113478();
      uVar7 = 0;
      if ((uint)DAT_WORLD__8018c190 + DAT_WORLD__801cd750 == 0) {
        uVar7 = (ushort)DAT_WORLD__801cd530;
      }
      FUN_WORLD__80116264(1,(ushort)(DAT_WORLD__8018ba1c == 0),(ushort)(DAT_WORLD__8018ba1c == 0),
                          uVar7,(short)uVar6,(undefined *)0x0,(undefined *)0x0);
    }
    else {
      FUN_WORLD__80116e74((int)DAT_WORLD__8018c18d + (int)DAT_WORLD__8018c18e);
    }
    sVar9 = 0;
    if ((DAT_WORLD__8018ba24 != '\0') || (DAT_WORLD__8018ba27 != '\0')) {
      if ((DAT_WORLD__8015330c != 0) ||
         (((DAT_WORLD__801cd750 != 0 || (DAT_WORLD__8018ba24 == '\x01')) ||
          (DAT_WORLD__8018c191 != '\0')))) {
        sVar9 = 1;
      }
      uVar7 = 0;
      if (DAT_WORLD__8018ba1c == 4) {
        sVar9 = 1;
      }
      if (sVar9 == 0) {
        uVar7 = (ushort)DAT_WORLD__801cd668;
      }
      FUN_WORLD__80118d04((int)(short)uVar7);
      FUN_WORLD__80115d6c(0,0xc,0xe,uVar7 & 4,sVar9,6);
      FUN_WORLD__80115d6c(1,0xe0,0xe,uVar7 & 8,sVar9,6);
    }
    if (DAT_WORLD__8018ba1c != 8) {
      FUN_WORLD__80114758();
    }
    if (DAT_WORLD__8018c18c != '\0') {
      FUN_WORLD__801136e0();
    }
    DAT_WORLD__801cd814 = *DAT_WORLD__801cd528 + 0xfc;
    FUN_WORLD__800e28ac();
    uVar10 = 0x3e;
    if (((DAT_WORLD__8018ba1c != 9) && ((int)DAT_WORLD__8018ba1c < 0xe)) &&
       (DAT_WORLD__8018ba1c != 3)) {
      uVar10 = 9;
    }
    if (DAT_WORLD__801cd750 != 0) {
      uVar10 = 9;
    }
    if (DAT_WORLD__8018ba28 != 0) {
      uVar10 = (uint)DAT_WORLD__8018ba28;
    }
    uVar3 = FUN_WORLD__80113618();
    FUN_WORLD__801128e0(uVar10 * 4 + *DAT_WORLD__801cd528,uVar3,
                        -(ushort)(DAT_WORLD__801cd1d8 == 0) & 0xf0);
    if (DAT_WORLD__8018ba1c != (unaff_s3 & 0xff)) {
      DAT_WORLD__8018ba28 = 0;
      DAT_WORLD__8018ba24 = '\0';
      FUN_WORLD__80126374(0);
      DAT_WORLD__801cd754 = 0;
      FUN_WORLD__80114088();
      unaff_s3 = DAT_WORLD__8018ba1c & 0xff;
    }
    FUN_WORLD__80113dd4();
    FUN_80043de0();
  }
  do {
    bVar1 = false;
    iVar2 = 1;
    do {
      iVar4 = Check_Thread_Status_WORLD(iVar2);
      if (iVar4 != 0) {
        bVar1 = true;
        FUN_WORLD__8012a598(iVar2);
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < 0x10);
    iVar2 = Check_Thread_Status_WORLD(0x10);
    if (iVar2 != 0) {
      bVar1 = true;
      FUN_WORLD__80106834(0x10);
    }
    FUN_WORLD__801128e0(*DAT_WORLD__801cd528,0,0);
  } while (bVar1);
  if (uVar11 == 0) {
    FUN_800439c0((int)DAT_WORLD__801cd548);
  }
  FUN_WORLD__801212b8();
  FUN_WORLD__801158c4();
  FUN_WORLD__80126374(0);
  FUN_WORLD__80106998();
  return;
}



void FUN_WORLD__80113dd4(void)

{
  MusicDataHeader *pMVar1;
  
  if (DAT_WORLD__8018bacd != '\0') {
    DAT_WORLD__8018bacc = 0;
  }
  if ((DAT_WORLD__80153298 == (MusicDataHeader *)0x73) ||
     (DAT_WORLD__80153298 == (MusicDataHeader *)0x2d)) {
    Call_Play_SoundEffect(DAT_WORLD__80153298);
    DAT_WORLD__80153298 = (MusicDataHeader *)0x0;
  }
  else if (DAT_WORLD__8018bacc == 0x30) {
    Call_Play_SoundEffect((MusicDataHeader *)0x30);
    DAT_WORLD__8018bacc = 0;
  }
  if (&DAT_WORLD__80153298[-1].field_0xb6 < (undefined *)0x2) {
    DAT_WORLD__8018bacc = (byte)DAT_WORLD__80153298;
  }
  if (((int)DAT_WORLD__80153298 < 0) || (DAT_WORLD__801532a0 != 0)) {
    DAT_WORLD__80153298 = (MusicDataHeader *)0x0;
  }
  pMVar1 = DAT_WORLD__80153298;
  if (DAT_WORLD__80153298 == (MusicDataHeader *)0x0) {
    pMVar1 = (MusicDataHeader *)(uint)DAT_WORLD__8018bacc;
  }
  DAT_WORLD__8018bacc = 0;
  DAT_WORLD__80153298 = (MusicDataHeader *)0x0;
  if (pMVar1 != (MusicDataHeader *)0x0) {
    Call_Play_Sound((uint)pMVar1);
  }
  return;
}



void FUN_WORLD__80113f00(void)

{
  DAT_WORLD__8018bad4 = 0;
  DAT_WORLD__8018bad5 = 0;
  DAT_WORLD__8018bad6 = 0;
  DAT_WORLD__8018bad7 = 0;
  DAT_WORLD__8018bad8 = 0;
  DAT_WORLD__8018bad9 = 0;
  DAT_WORLD__8018bada = 0;
  DAT_WORLD__8018badb = 0;
  DAT_WORLD__8018badc = 0;
  DAT_WORLD__8018badd = 0;
  DAT_WORLD__8018bade = 0;
  DAT_WORLD__8018badf = 0;
  DAT_WORLD__8018bae0 = 0;
  DAT_WORLD__8018bae1 = 0;
  DAT_WORLD__8018bae2 = 0;
  DAT_WORLD__8018bae3 = 0;
  DAT_WORLD__8018bae4 = 0;
  DAT_WORLD__8018bae5 = 0;
  DAT_WORLD__8018bae6 = 0;
  DAT_WORLD__8018bae7 = 0;
  DAT_WORLD__8018bae8 = 0;
  DAT_WORLD__8018ba30 = 0x90;
  DAT_WORLD__8018ba34 = 0;
  DAT_WORLD__8018ba3c = 0;
  DAT_WORLD__8018ba50 = 0;
  DAT_WORLD__8018ba64 = 0;
  DAT_WORLD__8018ba78 = 0;
  DAT_WORLD__8018ba8c = 0;
  DAT_WORLD__8018baa0 = 0;
  DAT_WORLD__8018bab4 = 0;
  DAT_WORLD__8018bac8 = 0;
  DAT_WORLD__8018babc = 2;
  DAT_WORLD__8018c110 = 0;
  DAT_WORLD__8018ba1c = 0;
  DAT_WORLD__8018ba20 = 0;
  DAT_WORLD__8018ba22 = 0;
  DAT_WORLD__8018ba24 = 1;
  DAT_WORLD__8018ba25 = 1;
  DAT_WORLD__8018ba26 = 1;
  DAT_WORLD__801cd80c = 1;
  DAT_WORLD__8018ba27 = 0;
  DAT_WORLD__8018ba28 = 0;
  DAT_WORLD__8018c190 = 0;
  FUN_WORLD__8011315c();
  FUN_WORLD__801133e4();
  return;
}



void FUN_WORLD__80114088(void)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    (&DAT_WORLD__801cd728)[iVar1] = 0xffff;
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0x10);
  return;
}



void FUN_WORLD__80114758(void)

{
  bool bVar1;
  short sVar2;
  uint uVar3;
  int iVar4;
  
  uVar3 = DAT_WORLD__8018ba34;
  if ((int)DAT_WORLD__8018ba20 == (int)DAT_WORLD__8018ba22) {
    if ((DAT_WORLD__8018ba26 != DAT_WORLD__801cd80c) && (DAT_WORLD__8018c196 == '\0')) {
      DAT_WORLD__8018ba26 = DAT_WORLD__801cd80c;
      if (DAT_WORLD__8018ba25 == '\0') {
        if (DAT_WORLD__801cd80c == '\0') {
          DAT_WORLD__8018ba30 = 0;
        }
        else {
          DAT_WORLD__8018ba30 = 0x90;
        }
      }
      else if (DAT_WORLD__801cd80c == '\0') {
        DAT_WORLD__8018ba34 = DAT_WORLD__8018ba34 | 0x40;
      }
      else {
        DAT_WORLD__8018ba34 = DAT_WORLD__8018ba34 | 0x20;
      }
    }
  }
  else {
    if (DAT_WORLD__8018ba25 == '\0') {
      DAT_WORLD__8018ba26 = DAT_WORLD__801cd80c;
      if (DAT_WORLD__801cd80c == '\0') {
        DAT_WORLD__8018ba30 = 0;
      }
      else {
        DAT_WORLD__8018ba30 = 0x90;
      }
    }
    else if (DAT_WORLD__8018ba26 != DAT_WORLD__801cd80c) {
      bcopy((uchar *)(&DAT_WORLD__801cd5ec)[DAT_WORLD__8018ba22],&DAT_WORLD__8018aabc,0x22);
      bcopy((uchar *)((&DAT_WORLD__801cd5ec)[DAT_WORLD__8018ba22] + 0x22),&DAT_WORLD__8018aaf0,0xe);
      FUN_WORLD__801154c4(1);
      DAT_WORLD__8018ba48 = uVar3;
      DAT_WORLD__8018ba26 = DAT_WORLD__801cd80c;
      if (DAT_WORLD__8018c196 < '\0') {
        DAT_WORLD__8018c196 = DAT_WORLD__8018c196 + '\x10';
      }
      else {
        bVar1 = DAT_WORLD__8018c196 < '\x01';
        DAT_WORLD__8018c196 = DAT_WORLD__8018c196 + -0x10;
        if (bVar1) {
          if (DAT_WORLD__801cd80c == '\0') {
            DAT_WORLD__8018c196 = '\x01';
          }
          else {
            DAT_WORLD__8018c196 = -1;
          }
        }
      }
    }
    sVar2 = DAT_WORLD__8018ba22;
    FUN_WORLD__80114bc8();
    if (((DAT_WORLD__801cd52c & 0x2000) == 0) && ((DAT_WORLD__801cd668 & 8) == 0)) {
      if (((DAT_WORLD__801cd52c & 0x8000) == 0) && ((DAT_WORLD__801cd668 & 4) == 0)) {
        DAT_WORLD__8018ba38 = 2;
        if (sVar2 < DAT_WORLD__8018ba20) {
          DAT_WORLD__8018ba38 = 1;
        }
      }
      else {
        DAT_WORLD__8018ba38 = 2;
      }
    }
    else {
      DAT_WORLD__8018ba38 = 1;
    }
  }
  if (((DAT_WORLD__8018ba1c != 0x13) && (DAT_WORLD__8018ba1c != 0x11)) &&
     (DAT_WORLD__8018ba1c != 0xf)) {
    FUN_WORLD__801157ec((uint)DAT_WORLD__8018ba27);
  }
  if ((DAT_WORLD__8018ba1c == 1) || (DAT_WORLD__8018ba1c - 6U < 2)) {
    FUN_WORLD__80115528(1);
  }
  else if (DAT_WORLD__8018ba1c == 2) {
    FUN_WORLD__80115750(1);
  }
  iVar4 = 0;
  if ((DAT_WORLD__8018ba25 != '\0') || (DAT_WORLD__8018ba27 != 0)) {
    iVar4 = 1;
  }
  FUN_WORLD__80115460(iVar4);
  iVar4 = (int)DAT_WORLD__8018c196;
  if (iVar4 < 0) {
    DAT_WORLD__8018ba44 = iVar4 * 8;
    DAT_WORLD__8018ba30 = DAT_WORLD__8018ba44 + 0x108;
    if (-0x10 < (iVar4 + -1) * 0x1000000 >> 0x18) {
      DAT_WORLD__8018c196 = (char)(iVar4 + -1);
      return;
    }
  }
  else {
    iVar4 = (int)DAT_WORLD__8018c196;
    if (iVar4 < 1) {
      return;
    }
    DAT_WORLD__8018ba30 = iVar4 * 8 + -0x78;
    DAT_WORLD__8018ba44 = iVar4 * 8 + 0x90;
    if ((iVar4 + 1) * 0x1000000 >> 0x18 < 0x10) {
      DAT_WORLD__8018c196 = (char)(iVar4 + 1);
      return;
    }
  }
  DAT_WORLD__8018c196 = 0;
  FUN_WORLD__8012a598(7);
  return;
}



void FUN_WORLD__80114bc8(void)

{
  uchar **ppuVar1;
  
  DAT_WORLD__8018ba22 = DAT_WORLD__8018ba20;
  ppuVar1 = (uchar **)
            ((int)&DAT_WORLD__801cd5ec + ((int)((uint)DAT_WORLD__8018ba20 << 0x10) >> 0xe));
  *(undefined2 *)(*ppuVar1 + 0xc) = *(undefined2 *)(*ppuVar1 + 0x10);
  *(undefined2 *)(*ppuVar1 + 0x12) = *(undefined2 *)(*ppuVar1 + 0x16);
  bcopy(*ppuVar1,&DAT_WORLD__8018aa98,0x22);
  bcopy((uchar *)((&DAT_WORLD__801cd5ec)[(short)DAT_WORLD__8018ba20] + 0x22),&DAT_WORLD__8018aae0,
        0xe);
  bcopy((uchar *)((&DAT_WORLD__801cd5ec)[(short)DAT_WORLD__8018ba20] + 0x30),&DAT_WORLD__8018ab00,
        0x40);
  FUN_WORLD__80125954((int)(short)DAT_WORLD__8018ba20);
  if (DAT_WORLD__8018ba34 == 0x80) {
    DAT_WORLD__8018c18c =
         (*(byte *)((&DAT_WORLD__801cd5ec)[(short)DAT_WORLD__8018ba20] + 0x70) >> 2 ^ 1) & 1;
  }
  else {
    DAT_WORLD__8018ba34 =
         (*(byte *)((&DAT_WORLD__801cd5ec)[(short)DAT_WORLD__8018ba20] + 0x70) & 4) << 5;
  }
  FUN_WORLD__80115878();
  return;
}



void FUN_WORLD__80115460(int param_1)

{
  int iVar1;
  
  if (param_1 == 0) {
    FUN_WORLD__8012a598(8);
  }
  else {
    iVar1 = Check_Thread_Status_WORLD(8);
    if (iVar1 == 0) {
      Initialize_Thread_WORLD(8,&DAT_WORLD__8010d0cc);
      ParseThreadParamWORLD(8,&DAT_WORLD__8018ba2c,0,0);
    }
  }
  return;
}



void FUN_WORLD__801154c4(int param_1)

{
  int iVar1;
  
  if (param_1 == 0) {
    FUN_WORLD__8012a598(7);
  }
  else {
    iVar1 = Check_Thread_Status_WORLD(7);
    if (iVar1 == 0) {
      Initialize_Thread_WORLD(7,&DAT_WORLD__8010d0cc);
      ParseThreadParamWORLD(7,&DAT_WORLD__8018ba40,0,0);
    }
  }
  return;
}



void FUN_WORLD__80115528(int param_1)

{
  int iVar1;
  
  if (param_1 == 0) {
    FUN_WORLD__8012a598(10);
    FUN_WORLD__8012a598(0xc);
  }
  else if ((DAT_WORLD__8018ba34 & 0x60) == 0) {
    iVar1 = Check_Thread_Status_WORLD(10);
    if (iVar1 == 0) {
      Initialize_Thread_WORLD(10,&DAT_WORLD__80110480);
      ParseThreadParamWORLD(10,&DAT_WORLD__8018ba54,0,0);
    }
    FUN_WORLD__80115650(1);
  }
  return;
}



void FUN_WORLD__801155bc(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  if (param_1 == 0) {
    FUN_WORLD__8012a598(9);
    uVar2 = 0;
  }
  else {
    uVar2 = 1;
    if (((DAT_WORLD__8018ba34 & 0x60) == 0) && (iVar1 = Check_Thread_Status_WORLD(9), iVar1 == 0)) {
      Initialize_Thread_WORLD(9,&DAT_WORLD__80110480);
      ParseThreadParamWORLD(9,&DAT_WORLD__8018ba68,0,0);
    }
  }
  DAT_WORLD__8018ba64 = uVar2;
  return;
}



void FUN_WORLD__80115650(int param_1)

{
  int iVar1;
  
  if (param_1 == 0) {
    FUN_WORLD__8012a598(0xc);
  }
  else {
    iVar1 = Check_Thread_Status_WORLD(0xc);
    if (iVar1 == 0) {
      Initialize_Thread_WORLD(0xc,&DAT_WORLD__80111ec4);
      ParseThreadParamWORLD(0xc,&DAT_WORLD__8018baa4,0,0);
    }
  }
  return;
}



void FUN_WORLD__801156b4(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  if (param_1 == 0) {
    FUN_WORLD__8012a598(0xb);
    uVar2 = 0;
  }
  else {
    uVar2 = 1;
    if (((DAT_WORLD__8018ba34 & 0x60) == 0) && (iVar1 = Check_Thread_Status_WORLD(0xb), iVar1 == 0))
    {
      Initialize_Thread_WORLD(0xb,&DAT_WORLD__80111ec4);
      ParseThreadParamWORLD(0xb,&DAT_WORLD__8018bab8,0,0);
    }
  }
  DAT_WORLD__8018bab4 = uVar2;
  DAT_WORLD__8018aa88 = uVar2;
  return;
}



void FUN_WORLD__80115750(int param_1)

{
  int iVar1;
  
  if (param_1 == 0) {
    FUN_WORLD__8012a598(10);
    FUN_WORLD__8012a598(0xc);
  }
  else {
    iVar1 = Check_Thread_Status_WORLD(10);
    if ((iVar1 == 0) && (iVar1 = Check_Thread_Status_WORLD(9), iVar1 == 0)) {
      Initialize_Thread_WORLD(10,&DAT_WORLD__80110ab4);
      ParseThreadParamWORLD(10,&DAT_WORLD__8018ba7c,0,0);
    }
    DAT_WORLD__8018ba25 = 1;
    FUN_WORLD__80115650(1);
  }
  return;
}



void FUN_WORLD__801157ec(int param_1)

{
  int iVar1;
  
  if ((param_1 != 0) && ((DAT_WORLD__8018ba34 & 0x60) == 0)) {
    iVar1 = Check_Thread_Status_WORLD(9);
    if ((iVar1 == 0) && (iVar1 = Check_Thread_Status_WORLD(10), iVar1 == 0)) {
      Initialize_Thread_WORLD(9,&DAT_WORLD__80111070);
      ParseThreadParamWORLD(9,&DAT_WORLD__8018ba90,0,0);
    }
    FUN_WORLD__80115650(1);
  }
  return;
}



void FUN_WORLD__80115878(void)

{
  DAT_WORLD__8018ba38 = 1;
  DAT_WORLD__8018ba4c = 1;
  DAT_WORLD__8018ba9c = 1;
  DAT_WORLD__8018bab0 = 1;
  DAT_WORLD__8018bac4 = 1;
  DAT_WORLD__8018ba60 = 1;
  DAT_WORLD__8018ba74 = 1;
  DAT_WORLD__8018ba88 = 1;
  return;
}



void FUN_WORLD__801158c4(void)

{
  FUN_WORLD__8012a598(8);
  FUN_WORLD__8012a598(7);
  FUN_WORLD__8012a598(10);
  FUN_WORLD__8012a598(0xc);
  FUN_WORLD__801156b4(0);
  FUN_WORLD__801155bc(0);
  DAT_WORLD__8018bac8 = 0;
  DAT_WORLD__8018ba78 = 0;
  DAT_WORLD__8018baa0 = 0;
  DAT_WORLD__8018ba8c = 0;
  return;
}



undefined4 FUN_WORLD__80115a80(int param_1)

{
  bool bVar1;
  int iVar2;
  
  if ((DAT_WORLD__8018ba27 == '\0') ||
     ((*(byte *)((&DAT_WORLD__801cd5ec)[DAT_WORLD__8018ba20] + 0x70) & 4) != 0)) {
    if (DAT_WORLD__8018c18e < '\0') {
      param_1 = param_1 + -0x3c;
    }
    iVar2 = param_1 << 0x18;
    if ('\0' < DAT_WORLD__8018c18e) {
      iVar2 = (param_1 + 0x3c) * 0x1000000;
    }
    iVar2 = iVar2 >> 0x18;
    if (iVar2 == -0x3c) {
      bVar1 = DAT_WORLD__8018ba20 < 0xc;
    }
    else if (iVar2 < -0x3b) {
      if (iVar2 != -0x78) {
        return 1;
      }
      bVar1 = DAT_WORLD__8018ba20 < 0x10;
    }
    else {
      if (iVar2 != 0) {
        return 1;
      }
      bVar1 = DAT_WORLD__8018ba20 < 8;
    }
    if (bVar1) {
      return 1;
    }
  }
  return 0;
}



void FUN_WORLD__80115b70(char *param_1,char *param_2)

{
  bool bVar1;
  char cVar2;
  int iVar3;
  
  iVar3 = (int)*param_1;
  if (iVar3 != 0) {
    if (iVar3 < 0) {
      *param_1 = (char)(iVar3 + -4);
      if (-0x3c < (iVar3 + -4) * 0x1000000 >> 0x18) {
        return;
      }
      *param_1 = '\0';
      cVar2 = *param_2 + -0x3c;
    }
    else {
      if (*param_1 < 1) {
        return;
      }
      iVar3 = *param_1 + 4;
      *param_1 = (char)iVar3;
      if (iVar3 * 0x1000000 >> 0x18 < 0x3c) {
        return;
      }
      *param_1 = '\0';
      cVar2 = *param_2 + '<';
    }
    *param_2 = cVar2;
    return;
  }
  cVar2 = *param_2;
  if (cVar2 == -0x3c) {
    if (0xf < DAT_WORLD__8018ba20) goto LAB_WORLD__80115c18;
    bVar1 = DAT_WORLD__8018ba20 < 4;
  }
  else {
    if (-0x3c < cVar2) {
      if (cVar2 != '\0') {
        return;
      }
      if (DAT_WORLD__8018ba20 < 0xc) {
        return;
      }
LAB_WORLD__80115c18:
      *param_1 = -4;
      return;
    }
    if (cVar2 != -0x78) {
      return;
    }
    bVar1 = DAT_WORLD__8018ba20 < 8;
  }
  if (bVar1) {
    *param_1 = '\x04';
  }
  return;
}



undefined4 FUN_WORLD__80115ca0(void)

{
  if (DAT_WORLD__8018c18e == '\0') {
    if (DAT_WORLD__8018c18d == -0x3c) {
      if (DAT_WORLD__8018ba20 < 0x10) {
        if (3 < DAT_WORLD__8018ba20) {
          return 0;
        }
        return 1;
      }
    }
    else {
      if (DAT_WORLD__8018c18d < -0x3b) {
        if (DAT_WORLD__8018c18d != -0x78) {
          return 0;
        }
        if (7 < DAT_WORLD__8018ba20) {
          return 0;
        }
        return 1;
      }
      if (DAT_WORLD__8018c18d != '\0') {
        return 0;
      }
      if (DAT_WORLD__8018ba20 < 0xc) {
        return 0;
      }
    }
  }
  return 1;
}



void FUN_WORLD__80115d6c(short param_1,short param_2,short param_3,short param_4,short param_5,
                        undefined param_6)

{
  char cVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  byte bVar5;
  undefined2 in_t0;
  uint uVar6;
  int iVar7;
  int iVar8;
  short local_40;
  short local_3e;
  short local_3c;
  undefined2 local_3a;
  undefined2 local_38;
  undefined2 local_36;
  undefined2 local_34;
  undefined2 local_32;
  undefined2 local_30;
  undefined2 local_2e;
  
  local_30 = DAT_WORLD__8018df9a;
  iVar2 = (int)DAT_WORLD__8018df7c;
  if (iVar2 == 0) {
    iVar2 = 1;
  }
  if (param_5 == 0) {
    if (param_4 == 0) {
      cVar1 = (&DAT_WORLD__8018c6f8)[param_1];
      if ((cVar1 == 0) || (6 / iVar2 <= (int)cVar1)) {
        (&DAT_WORLD__8018c6f8)[param_1] = 0;
      }
      else {
        (&DAT_WORLD__8018c6f8)[param_1] = cVar1 + '\x01';
        local_30 = in_t0;
      }
    }
    else {
      (&DAT_WORLD__8018c6f8)[param_1] = 1;
      DAT_WORLD__8018bacc = param_6;
      local_30 = in_t0;
    }
  }
  else {
    (&DAT_WORLD__8018c6f8)[param_1] = 0;
    local_30 = DAT_WORLD__8018df9e;
  }
  iVar2 = 0;
  if ((&DAT_WORLD__8018c6f8)[param_1] != '\0') {
    param_3 = param_3 + 1;
    local_30 = DAT_WORLD__8018dfa2;
  }
  uVar6 = (uint)(byte)(&DAT_WORLD__8018c6e8)[param_1];
  iVar7 = (byte)(&DAT_WORLD__8018c6e9)[param_1] - uVar6;
  local_2e = DAT_WORLD__8018df8a;
  if (0 < iVar7) {
    do {
      iVar3 = (short)uVar6 * 0xc;
      local_40 = param_2 + *(short *)(&DAT_WORLD__8018c230 + iVar3);
      local_3e = param_3 + *(short *)(&DAT_WORLD__8018c232 + iVar3);
      iVar4 = (short)uVar6 * 4;
      iVar8 = (int)*(short *)(&DAT_WORLD__8018c5b8 + iVar4) *
              (int)*(short *)(&DAT_WORLD__8018c22c + iVar3);
      if (iVar8 < 0) {
        iVar8 = -iVar8;
      }
      local_3c = (short)(iVar8 >> 0xc);
      iVar8 = (int)*(short *)(&DAT_WORLD__8018c5ba + iVar4) *
              (int)*(short *)(&DAT_WORLD__8018c22e + iVar3);
      if (iVar8 < 0) {
        iVar8 = -iVar8;
      }
      local_3a = (undefined2)(iVar8 >> 0xc);
      local_38 = *(undefined2 *)(&DAT_WORLD__8018c228 + iVar3);
      local_36 = *(undefined2 *)(&DAT_WORLD__8018c22a + iVar3);
      local_34 = *(undefined2 *)(&DAT_WORLD__8018c22c + iVar3);
      local_32 = *(undefined2 *)(&DAT_WORLD__8018c22e + iVar3);
      if (0x1004 < *(short *)(&DAT_WORLD__8018c5b8 + iVar4)) {
        local_3c = local_3c + 2;
      }
      iVar8 = (int)(uVar6 << 0x10) >> 0xe;
      bVar5 = -(char)(*(short *)(&DAT_WORLD__8018c5b8 + iVar8) >> 7);
      if (*(short *)(&DAT_WORLD__8018c5ba + iVar8) < 0) {
        bVar5 = bVar5 + 2;
      }
      FUN_WORLD__8012c8bc(&local_40,(undefined *)0x0,bVar5,0,iVar2 + 0x32);
      iVar2 = iVar2 + 1;
      uVar6 = uVar6 + 1;
    } while (iVar2 < iVar7);
  }
  return;
}



void FUN_WORLD__8011604c(short param_1)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  
  FUN_WORLD__801263c8((short *)0x0,0,0);
  DAT_WORLD__801cd794 = &DAT_WORLD__8011592c;
  DAT_WORLD__801cd798 = &DAT_WORLD__8011592c;
  DAT_WORLD__801cd79c = &DAT_WORLD__80115a2c;
  DAT_WORLD__801cd7a0 = &DAT_WORLD__80115a60;
  DAT_WORLD__801cd7a4 = &DAT_WORLD__801159ac;
  DAT_WORLD__801cd7a8 = &DAT_WORLD__801159cc;
  DAT_WORLD__801cd7ac = &DAT_WORLD__801159ec;
  DAT_WORLD__801cd7b0 = &DAT_WORLD__80115a0c;
  DAT_WORLD__8018c18e = '\0';
  DAT_WORLD__801c833c = 0;
  iVar3 = 0;
  DAT_WORLD__8018ba20 = param_1;
  FUN_WORLD__80114bc8();
  do {
    FUN_WORLD__80115b70(&DAT_WORLD__8018c18e,&DAT_WORLD__8018c18d);
    if (DAT_WORLD__8018c18e == '\0') {
      iVar3 = iVar3 + 1;
    }
  } while (iVar3 < 10);
  uVar1 = FUN_WORLD__80115a80((int)DAT_WORLD__8018c18d);
  DAT_WORLD__801cd80c = (undefined)uVar1;
  iVar2 = (int)param_1;
  iVar3 = iVar2;
  if (iVar2 < 0) {
    iVar3 = iVar2 + 3;
  }
  DAT_WORLD__8018bad0 = (short)((uint)((iVar2 + (iVar3 >> 2) * -4) * 0x10000) >> 0x10) * 0x3e + 0x22
  ;
  DAT_WORLD__8018bad2 = (short)DAT_WORLD__8018c18d + (param_1 >> 2) * 0x3c + 0x3d;
  DAT_WORLD__8018c18f = 1;
  FUN_WORLD__801170b4();
  return;
}



void FUN_WORLD__801161e8(short param_1)

{
  FUN_WORLD__8011604c(param_1);
  DAT_WORLD__8018c197 = 0;
  DAT_WORLD__8018ba26 = DAT_WORLD__801cd80c;
  if (DAT_WORLD__801cd80c == '\0') {
    DAT_WORLD__8018ba30 = 0;
  }
  else {
    DAT_WORLD__8018ba30 = 0x90;
  }
  DAT_WORLD__8018ba25 = 1;
  DAT_WORLD__8018bae9 = 1;
  return;
}



undefined4
FUN_WORLD__80116264(undefined2 param_1,short param_2,short param_3,ushort param_4,short param_5,
                   undefined *param_6,undefined *param_7)

{
  bool bVar1;
  char cVar2;
  ushort uVar3;
  int iVar4;
  undefined4 uVar5;
  undefined1 *puVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  undefined *puVar10;
  short sVar11;
  int iVar12;
  short sVar13;
  ushort uVar14;
  uint uVar15;
  int unaff_s5;
  int iVar16;
  byte *pbVar17;
  byte *pbVar18;
  short local_78;
  ushort local_76;
  undefined2 local_74;
  undefined2 local_72;
  char local_58;
  char local_57;
  char local_56;
  undefined2 local_50;
  short local_48;
  code *local_40;
  
  local_40 = (code *)param_6;
  if (param_5 != 0) {
    param_4 = 0;
  }
  if ((param_6 == (undefined *)0x0) && (DAT_WORLD__8018ba27 == '\0')) {
    uVar14 = param_4 & 2;
    if ((param_4 & 1) != 0) {
      if (DAT_WORLD__8018c197 == 0) {
        DAT_WORLD__8018c197 = 4;
      }
      else {
        DAT_WORLD__8018c197 = DAT_WORLD__8018c197 - 1;
      }
      param_4 = param_4 & 0xfffd;
      DAT_WORLD__8018bacc = 6;
      uVar14 = 0;
    }
    if (uVar14 != 0) {
      if (DAT_WORLD__8018c197 == 4) {
        DAT_WORLD__8018c197 = 0;
      }
      else {
        DAT_WORLD__8018c197 = DAT_WORLD__8018c197 + 1;
      }
      DAT_WORLD__8018bacc = 6;
    }
  }
  bVar1 = true;
  local_50 = param_1;
  local_48 = param_2;
  if ((((DAT_WORLD__8018c190 == '\0') && (DAT_WORLD__8018c196 == '\0')) &&
      (DAT_WORLD__8018c18e == '\0')) && (DAT_WORLD__8018c191 == '\0')) {
    if ((param_3 != 0) && (iVar4 = FUN_WORLD__80113608(), iVar4 == 0)) {
      iVar4 = FUN_WORLD__80115ca0();
      if (iVar4 == 0) {
        if ((param_4 & 0x20) == 0) {
          if (((param_4 & 0x40) != 0) && (DAT_WORLD__8018ba27 != '\0')) {
            DAT_WORLD__8018bacc = 2;
            bVar1 = false;
            DAT_WORLD__8018ba27 = '\0';
            FUN_WORLD__8012a598(9);
            FUN_WORLD__8012a598(0xc);
          }
        }
        else if (DAT_WORLD__8018ba27 == '\0') {
          if ((*(byte *)((&DAT_WORLD__801cd5ec)[DAT_WORLD__8018ba20] + 0x70) & 4) == 0) {
            iVar4 = Check_Thread_Status_WORLD(9);
            if (iVar4 == 0) {
              DAT_WORLD__8018ba27 = '\x01';
              DAT_WORLD__8018bacc = 1;
            }
          }
          else {
            DAT_WORLD__8018bacc = 5;
          }
        }
      }
    }
    if ((((local_48 != 0) && (iVar4 = Check_Thread_Status_WORLD(9), iVar4 == 0)) &&
        (iVar4 = Check_Thread_Status_WORLD(7), iVar4 == 0)) &&
       ((iVar4 = FUN_WORLD__80115ca0(), iVar4 == 0 && ((DAT_WORLD__801cd52c & 0x80) != 0)))) {
      DAT_WORLD__8018bacc = 6;
      DAT_WORLD__8018ba25 = DAT_WORLD__8018ba25 == '\0';
    }
  }
  if (DAT_WORLD__8018ba27 != '\0') {
    param_4 = param_4 & 0xff0;
  }
  iVar4 = Check_Thread_Status_WORLD(9);
  if (((iVar4 == 0) && (DAT_WORLD__801cd750 == 0)) && (iVar4 = FUN_WORLD__8012d418(), iVar4 == 0)) {
    iVar4 = FUN_WORLD__8012bb88(4,5,DAT_WORLD__801cd788 - 1,(int)DAT_WORLD__8018ba20,
                                (int)(short)param_4);
    DAT_WORLD__8018ba20 = (short)iVar4;
  }
  FUN_WORLD__80115b70(&DAT_WORLD__8018c18e,&DAT_WORLD__8018c18d);
  if (((((DAT_WORLD__8018c196 == '\0') && (iVar4 = FUN_WORLD__80113608(), iVar4 == 0)) && (bVar1))
      && ((local_40 == (code *)0x0 && (DAT_WORLD__8018ba25 != '\0')))) &&
     ((DAT_WORLD__8018ba27 == '\0' && ((DAT_WORLD__8018c18f != '\0' && (DAT_WORLD__8018ba1c != 4))))
     )) {
    sVar13 = 0xf;
    if (DAT_WORLD__801cd80c == '\0') {
      sVar13 = 0xdb;
      pbVar18 = (byte *)0x8018c21c;
      pbVar17 = (byte *)0x8018c810;
    }
    else {
      pbVar18 = &DAT_WORLD__8018c210;
      pbVar17 = &DAT_WORLD__8018c7e0;
    }
    uVar15 = 0;
    iVar4 = Check_Thread_Status_WORLD(6);
    uVar8 = 0;
    if (iVar4 != 0) {
      uVar15 = (uint)(DAT_WORLD__8018ba1c == 0);
    }
    if ((DAT_WORLD__8015330c != 0) || (DAT_WORLD__801cd750 != 0)) {
      uVar8 = 1;
    }
    sVar11 = (short)(uVar15 | uVar8);
    FUN_WORLD__80115d6c(4,0x26,sVar13,param_4 & 1,sVar11,6);
    FUN_WORLD__80115d6c(5,0xc2,sVar13,param_4 & 2,sVar11,6);
    FUN_WORLD__80126570(pbVar18,0,0);
    FUN_WORLD__8012c430(pbVar17,(undefined *)0x0,0,DAT_WORLD__8018df8a,DAT_WORLD__8018df8c,0xb,8);
    uVar9 = (uint)DAT_WORLD__8018c197;
    if (uVar9 < 3) {
      unaff_s5 = 1;
    }
    else if (uVar9 == 3) {
      uVar9 = 3;
      unaff_s5 = 2;
    }
    else {
      uVar9 = uVar15 | uVar8;
      if (DAT_WORLD__8018c197 == 4) {
        uVar9 = 5;
        unaff_s5 = 3;
      }
    }
    FUN_WORLD__8012c430(pbVar17 + uVar9 * 6,(undefined *)0x0,0,DAT_WORLD__8018df8a,
                        DAT_WORLD__8018df92,0xc,unaff_s5);
  }
  iVar4 = 0;
  if (local_48 != 0) {
    uVar5 = FUN_WORLD__80115a80((int)DAT_WORLD__8018c18d);
    DAT_WORLD__801cd80c = (char)uVar5;
  }
  local_74 = 0x38;
  local_72 = 0x30;
  uVar14 = (short)DAT_WORLD__8018c18d + DAT_WORLD__8018c18e + 0x24;
  FUN_WORLD__801298b0(8);
  iVar12 = 0;
  puVar6 = FUN_WORLD__80129b6c();
  DAT_WORLD__8018ba0c = *puVar6;
  DAT_WORLD__8018ba0d = puVar6[1];
  DAT_WORLD__8018ba0e = puVar6[2];
  do {
    bVar1 = false;
    if ((DAT_WORLD__8018ba25 != '\0') && (DAT_WORLD__8018ba34 == 0)) {
      if (DAT_WORLD__801cd80c == '\0') {
        if ((short)uVar14 < 0x47) {
          bVar1 = true;
        }
      }
      else {
        bVar1 = 0x8f0000 < (int)((uint)uVar14 << 0x10);
      }
    }
    puVar10 = &DAT_WORLD__8018ba14;
    if (bVar1) {
      puVar10 = &DAT_WORLD__8018ba10;
    }
    iVar16 = 0;
    FUN_WORLD__80129874(puVar10);
    do {
      if ((int)(uint)DAT_WORLD__801cd788 <= iVar12) break;
      sVar13 = (short)iVar16 * 0x3e;
      local_78 = sVar13 + 6;
      if (iVar12 == DAT_WORLD__8018ba20) {
        DAT_WORLD__801c8338 = sVar13 + 0x22;
        DAT_WORLD__801c833a = uVar14 + 0x19;
      }
      local_76 = uVar14;
      if ((ushort)(uVar14 + 0x3c) < 300) {
        iVar7 = iVar12 * 4;
        if (DAT_WORLD__8018ba27 == '\0') {
          uVar3 = 9;
          if ((((*(byte *)((&DAT_WORLD__801cd5ec)[iVar12] + 0x11f) & 1) == 0) &&
              (uVar3 = 10, (*(byte *)((&DAT_WORLD__801cd5ec)[iVar12] + 0x70) & 4) == 0)) &&
             (uVar3 = 0xb, (*(byte *)((&DAT_WORLD__801cd5ec)[iVar12] + 0x11f) & 2) == 0)) {
            if (local_40 == (code *)0x0) {
              uVar3 = (ushort)DAT_WORLD__8018c197;
            }
            else {
              uVar3 = (*local_40)(iVar12);
            }
          }
          FUN_WORLD__80118244((ushort)iVar12,(int)(short)uVar3,(int)local_78,(int)(short)local_76,
                              puVar6,param_7,0,8);
          iVar7 = iVar12 << 2;
        }
        cVar2 = 'P';
        if (*(char *)(*(int *)((int)&DAT_WORLD__801cd5ec + iVar7) + 0x11f) == '\0') {
          if (param_7 == (undefined *)0x0) {
            iVar7 = FUN_WORLD__80116dd0((int)local_78,(int)(short)local_76,200,0x50);
            cVar2 = (char)iVar7;
            if (0x80 < iVar7) {
              cVar2 = -0x80;
            }
          }
          else {
            cVar2 = (*(code *)param_7)(iVar12);
          }
        }
        iVar7 = (&DAT_WORLD__801cd5ec)[iVar12];
        local_58 = cVar2;
        local_57 = cVar2;
        local_56 = cVar2;
        if ((*(byte *)(iVar7 + 0x70) & 4) == 0) {
          FUN_WORLD__80117db8((ushort)iVar12,&local_78,&local_58,6);
        }
        else {
          FUN_WORLD__80117ffc(&local_78,(uint)*(ushort *)(iVar7 + 0x122),&local_58,
                              *(ushort *)(iVar7 + 0x120) & 0xf,6);
        }
        DAT_WORLD__8018c7b8 = local_78;
        DAT_WORLD__8018c7ba = local_76;
        DAT_WORLD__8018c7ca = GetTPage(0,1,0x3c0,0x100);
        if (iVar12 == DAT_WORLD__8018ba20) {
          DAT_WORLD__8018c841 = DAT_WORLD__8018c841 + DAT_WORLD__8018c842 * '\x02';
          if ('(' < DAT_WORLD__8018c841) {
            DAT_WORLD__8018c842 = -1;
          }
          if (DAT_WORLD__8018c841 < -0x28) {
            DAT_WORLD__8018c842 = '\x01';
          }
          local_58 = local_58 + DAT_WORLD__8018c841;
          local_57 = local_57 + DAT_WORLD__8018c841;
          local_56 = local_56 + DAT_WORLD__8018c841;
        }
        FUN_WORLD__8012c8bc(&DAT_WORLD__8018c7b8,&local_58,0,1,8);
      }
      iVar16 = iVar16 + 1;
      iVar12 = iVar12 + 1;
    } while (iVar16 < 4);
    iVar4 = iVar4 + 1;
    uVar14 = uVar14 + 0x3c;
    if (4 < iVar4) {
      FUN_WORLD__80129874(&DAT_WORLD__8018ba0c);
      FUN_WORLD__8011712c(&DAT_WORLD__801c8338);
      iVar4 = DAT_WORLD__8018bad0 * 3 + (int)DAT_WORLD__801c8338;
      if (iVar4 < 0) {
        iVar4 = iVar4 + 3;
      }
      DAT_WORLD__8018bad0 = (short)(iVar4 >> 2);
      iVar4 = DAT_WORLD__8018bad2 * 3 + (int)DAT_WORLD__801c833a;
      if (iVar4 < 0) {
        iVar4 = iVar4 + 3;
      }
      DAT_WORLD__8018bad2 = (short)(iVar4 >> 2);
      if (((int)DAT_WORLD__8018bad0 - (int)DAT_WORLD__801c8338) + 2U < 5) {
        DAT_WORLD__8018bad0 = DAT_WORLD__801c8338 + -1;
      }
      if (((int)DAT_WORLD__8018bad2 - (int)DAT_WORLD__801c833a) + 2U < 5) {
        DAT_WORLD__8018bad2 = DAT_WORLD__801c833a + -1;
      }
      FUN_WORLD__80116e74((int)DAT_WORLD__8018c18d + (int)DAT_WORLD__8018c18e);
      return 1;
    }
  } while( true );
}



int FUN_WORLD__80116dd0(int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  
  iVar2 = DAT_WORLD__8018bad0 - param_1;
  if (iVar2 < 0) {
    iVar2 = -iVar2;
  }
  iVar1 = DAT_WORLD__8018bad2 - param_2;
  if (iVar1 < 0) {
    iVar1 = -iVar1;
  }
  iVar2 = csqrt((iVar1 * 2 * iVar1 * 2 + iVar2 * iVar2) * 0x1000);
  iVar2 = param_3 - (iVar2 >> 0xc);
  if (iVar2 < param_4) {
    iVar2 = param_4;
  }
  return iVar2;
}



void FUN_WORLD__80116e74(int param_1)

{
  int iVar1;
  int iVar2;
  short *psVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  short local_98;
  short local_96;
  undefined2 local_94;
  undefined2 local_92;
  short local_90;
  undefined2 local_8e;
  undefined2 local_8c;
  undefined2 local_8a;
  undefined local_80;
  undefined local_7f;
  undefined local_7e;
  undefined local_7d;
  undefined local_7c;
  undefined local_7b;
  undefined local_7a;
  undefined local_79;
  undefined local_78;
  undefined local_77;
  undefined local_76;
  undefined local_75;
  undefined local_70 [5];
  undefined local_6b [75];
  
  iVar6 = 0;
  local_96 = (short)param_1;
  local_94 = 0x40;
  local_8c = 0x40;
  local_92 = 0x20;
  local_8a = 0x20;
  local_8e = 0xd8;
  iVar5 = 0;
  if (param_1 < 0x101) {
    do {
      iVar4 = 0;
      do {
        iVar2 = FUN_WORLD__80116dd0(iVar4 << 6,param_1,0xff,0x50);
        iVar1 = iVar4 + iVar5 * 5;
        if (0xdc < iVar2) {
          iVar2 = 0xdc;
        }
        iVar4 = iVar4 + 1;
        local_70[iVar1] = (char)iVar2;
      } while (iVar4 < 5);
      param_1 = param_1 + 0x20;
      iVar5 = iVar5 + 1;
    } while (param_1 < 0x101);
  }
  local_8c = DAT_WORLD__8018dfac;
  local_8a = DAT_WORLD__8018df8a;
  for (; local_96 < 0xf0; local_96 = local_96 + 0x20) {
    if (-0x21 < local_96) {
      iVar4 = 0;
      iVar5 = 0;
      do {
        psVar3 = (short *)((int)&DAT_WORLD__8018c844 + iVar5 + (iVar6 % 2) * 0x10);
        local_98 = *psVar3;
        local_90 = psVar3[1];
        local_80 = local_70[iVar4 + iVar6 * 5];
        local_7d = (local_70 + iVar4 + iVar6 * 5)[1];
        local_7a = local_6b[iVar4 + iVar6 * 5];
        local_77 = (local_6b + iVar4 + iVar6 * 5)[1];
        local_7f = local_80;
        local_7e = local_80;
        local_7c = local_7d;
        local_7b = local_7d;
        local_79 = local_7a;
        local_78 = local_7a;
        local_76 = local_77;
        local_75 = local_77;
        FUN_WORLD__8012cfd4(&local_98,&local_80,0,(uint)(local_90 == 0x58));
        iVar4 = iVar4 + 1;
        iVar5 = iVar4 * 4;
      } while (iVar4 < 4);
    }
    iVar6 = iVar6 + 1;
  }
  return;
}



void FUN_WORLD__801170b4(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  iVar1 = 0;
  do {
    *(undefined2 *)((int)&DAT_WORLD__801c8344 + iVar1) = 0xffff;
    iVar2 = iVar2 + 1;
    iVar1 = iVar2 * 4;
  } while (iVar2 < 8);
  DAT_WORLD__8018c876 = GetTPage(0,2,0x3c0,0x100);
  DAT_WORLD__8018c88a = GetTPage(0,1,0x3c0,0x100);
  return;
}



void FUN_WORLD__8011712c(short *param_1)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined *puVar6;
  undefined local_38;
  undefined local_37;
  undefined local_36;
  
  iVar5 = 0;
  iVar4 = 0;
  do {
    iVar5 = iVar5 + 1;
    *(undefined2 *)((int)&DAT_WORLD__801c8344 + iVar4) = (&DAT_WORLD__801c8344)[iVar5 * 2];
    *(undefined2 *)((int)&DAT_WORLD__801c8346 + iVar4) = (&DAT_WORLD__801c8346)[iVar5 * 2];
    iVar4 = iVar5 * 4;
  } while (iVar5 < 7);
  if (DAT_WORLD__801c8360 == -1) {
    DAT_WORLD__801c8360 = *param_1 + -0x1f;
    sVar1 = param_1[1];
  }
  else {
    iVar5 = (int)DAT_WORLD__801c8360;
    DAT_WORLD__801c8360 = (short)(iVar5 * 3 + -0x1f + (int)*param_1 >> 2);
    iVar4 = (int)DAT_WORLD__801c8360;
    if (iVar4 < 0) {
      iVar4 = -iVar4;
    }
    if (iVar5 == iVar4) {
      DAT_WORLD__801c8360 = *param_1 + -0x1f;
    }
    iVar5 = (int)DAT_WORLD__801c8362;
    DAT_WORLD__801c8362 = (short)(iVar5 * 3 + -1 + (int)param_1[1] >> 2);
    iVar4 = (int)DAT_WORLD__801c8362;
    if (iVar4 < 0) {
      iVar4 = -iVar4;
    }
    if (iVar5 != iVar4) goto LAB_WORLD__80117298;
    sVar1 = param_1[1];
  }
  DAT_WORLD__801c8362 = sVar1 + -1;
LAB_WORLD__80117298:
  iVar4 = 1000;
  iVar5 = 7;
  do {
    local_38 = *(undefined *)(iVar5 + -0x7fe73774);
    iVar3 = (int)(short)(&DAT_WORLD__801c8344)[iVar5 * 2] +
            (int)(short)(&DAT_WORLD__801c8346)[iVar5 * 2];
    iVar2 = iVar3 - iVar4;
    if (iVar2 < 0) {
      iVar2 = -iVar2;
    }
    if (4 < iVar2) {
      puVar6 = (undefined *)0x0;
      if (iVar5 != 7) {
        puVar6 = &local_38;
      }
      sVar1 = (&DAT_WORLD__801c8344)[iVar5 * 2];
      iVar4 = iVar3;
      if (sVar1 != -1) {
        DAT_WORLD__8018c872 = 0x10;
        DAT_WORLD__8018c86a = 0x10;
        DAT_WORLD__8018c886 = 0x10;
        DAT_WORLD__8018c87e = 0x10;
        DAT_WORLD__8018c866 = (&DAT_WORLD__801c8346)[iVar5 * 2];
        DAT_WORLD__8018c87a = (&DAT_WORLD__801c8346)[iVar5 * 2] + -1;
        DAT_WORLD__8018c864 = sVar1;
        DAT_WORLD__8018c878 = sVar1;
        local_37 = local_38;
        local_36 = local_38;
        FUN_WORLD__8012c8bc(&DAT_WORLD__8018c864,puVar6,0,1,3);
        FUN_WORLD__8012c8bc(&DAT_WORLD__8018c878,puVar6,0,1,4);
        DAT_WORLD__8018c864 = DAT_WORLD__8018c864 + 0x1f;
        DAT_WORLD__8018c878 = DAT_WORLD__8018c878 + 0x1f;
        FUN_WORLD__8012c8bc(&DAT_WORLD__8018c864,puVar6,1,1,3);
        FUN_WORLD__8012c8bc(&DAT_WORLD__8018c878,puVar6,1,1,4);
        DAT_WORLD__8018c864 = (&DAT_WORLD__801c8344)[iVar5 * 2];
        DAT_WORLD__8018c872 = 0xf;
        DAT_WORLD__8018c86a = 0xf;
        DAT_WORLD__8018c886 = 0xf;
        DAT_WORLD__8018c87e = 0xf;
        DAT_WORLD__8018c866 = (&DAT_WORLD__801c8346)[iVar5 * 2] + 0x10;
        DAT_WORLD__8018c87a = (&DAT_WORLD__801c8346)[iVar5 * 2] + 0xf;
        DAT_WORLD__8018c878 = DAT_WORLD__8018c864;
        FUN_WORLD__8012c8bc(&DAT_WORLD__8018c864,puVar6,2,1,3);
        FUN_WORLD__8012c8bc(&DAT_WORLD__8018c878,puVar6,2,1,4);
        DAT_WORLD__8018c864 = DAT_WORLD__8018c864 + 0x1f;
        DAT_WORLD__8018c878 = DAT_WORLD__8018c878 + 0x1f;
        FUN_WORLD__8012c8bc(&DAT_WORLD__8018c864,puVar6,3,1,3);
        FUN_WORLD__8012c8bc(&DAT_WORLD__8018c878,puVar6,3,1,4);
      }
    }
    iVar5 = iVar5 + -1;
  } while (-1 < iVar5);
  return;
}



void FUN_WORLD__80117db8(ushort param_1,short *param_2,undefined *param_3,int param_4)

{
  int iVar1;
  uint uVar2;
  undefined1 *puVar3;
  int iVar4;
  short local_30;
  short local_2e;
  ushort local_2c;
  ushort local_2a;
  undefined auStack_28 [4];
  ushort local_24;
  ushort local_22;
  
  FUN_WORLD__801256c8((int)(short)param_1,auStack_28);
  uVar2 = (uint)DAT_WORLD__8018d768;
  if ((uVar2 == 0) || ((int)(uVar2 << 0x10) >> 0x18 != (int)(short)param_1)) {
    local_30 = *param_2 -
               ((short)(((int)((uint)local_24 << 0x10) >> 0x10) -
                        ((int)((uint)local_24 << 0x10) >> 0x1f) >> 1) + -0x1f);
    local_2e = param_2[1] -
               ((short)(((int)((uint)local_22 << 0x10) >> 0x10) -
                        ((int)((uint)local_22 << 0x10) >> 0x1f) >> 1) + -0x18);
    local_2c = local_24;
    local_2a = local_22;
    if (*(char *)((&DAT_WORLD__801cd5ec)[(short)param_1] + 0x11f) != '\0') {
      if ((int)(short)param_1 == (int)DAT_WORLD__8018ba20) {
        puVar3 = &DAT_WORLD__8018ba14;
      }
      else {
        puVar3 = FUN_WORLD__80129b6c();
      }
      iVar1 = 0xb;
      if (*(char *)((&DAT_WORLD__801cd5ec)[(short)param_1] + 0x11f) == '\x01') {
        iVar1 = 9;
      }
      FUN_WORLD__80118244(param_1,iVar1,(int)*param_2,(int)param_2[1],puVar3,(undefined *)0x0,1,
                          param_4 + 2);
      param_3 = &DAT_WORLD__8018c89c;
    }
    FUN_WORLD__8011814c(&local_30,param_3,param_4);
  }
  else {
    iVar1 = (uVar2 & 0xff) + 1;
    iVar4 = (int)(short)local_24 / iVar1;
    iVar1 = (int)(short)local_22 / iVar1;
    local_30 = *param_2 - ((short)(iVar4 / 2) + -0x1c);
    local_2e = param_2[1] - ((short)(iVar1 / 2) + -0x18);
    local_2c = (ushort)iVar4;
    local_2a = (ushort)iVar1;
    FUN_WORLD__8012c8bc(&local_30,param_3,0,0,param_4);
  }
  return;
}



void FUN_WORLD__80117ffc(short *param_1,int param_2,undefined *param_3,int param_4,int param_5)

{
  int iVar1;
  
  DAT_WORLD__8018c718 = *param_1 + 0x14;
  DAT_WORLD__8018c71a = param_1[1] + 0x10;
  iVar1 = param_2;
  if (param_2 < 0) {
    iVar1 = param_2 + 3;
  }
  DAT_WORLD__8018c72c = DAT_WORLD__8018c718;
  DAT_WORLD__8018c72e = DAT_WORLD__8018c71a;
  DAT_WORLD__8018c728 = GetClut((param_2 + (iVar1 >> 2) * -4) * 0x10 + 0x140,0xff);
  DAT_WORLD__8018c73c = DAT_WORLD__8018c728;
  FUN_WORLD__8012c8bc(&DAT_WORLD__8018c718,param_3,0,0,param_5);
  if (param_4 < 2) {
    FUN_WORLD__8012c8bc(&DAT_WORLD__8018c72c,param_3,0,0,param_5 + 1);
  }
  DAT_WORLD__8018c704 = *param_1 + 0x13;
  DAT_WORLD__8018c706 = param_1[1] + 0x23;
  DAT_WORLD__8018c716 = GetTPage(0,2,0x3c0,0x100);
  FUN_WORLD__8012c8bc(&DAT_WORLD__8018c704,(undefined *)0x0,0,1,param_5 + -1);
  return;
}



void FUN_WORLD__8011814c(short *param_1,undefined *param_2,int param_3)

{
  FUN_WORLD__8012c8bc(param_1,param_2,0,0,param_3);
  if (param_1[6] < 0x19) {
    DAT_WORLD__8018c704 = *param_1;
    DAT_WORLD__8018c706 = param_1[1] + 0x1e;
  }
  else {
    DAT_WORLD__8018c704 = *param_1 + 0xc;
    DAT_WORLD__8018c706 = param_1[1] + 0x23;
  }
  DAT_WORLD__8018c716 = GetTPage(0,2,0x3c0,0x100);
  FUN_WORLD__8012c8bc(&DAT_WORLD__8018c704,(undefined *)0x0,0,1,param_3 + -1);
  return;
}



bool FUN_WORLD__8011822c(uint param_1,uint param_2)

{
  return param_1 < 0xff && param_2 < 0xff;
}



void FUN_WORLD__80118244(ushort param_1,int param_2,int param_3,int param_4,undefined *param_5,
                        undefined *param_6,int param_7,int param_8)

{
  short sVar1;
  bool bVar2;
  u_short uVar3;
  int iVar4;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  undefined3 extraout_var_03;
  undefined3 extraout_var_04;
  undefined2 clut;
  char *pcVar5;
  uint uVar6;
  uint uVar7;
  undefined4 uVar8;
  undefined *puVar9;
  short *psVar10;
  short sVar11;
  int iVar12;
  undefined uVar13;
  short local_60;
  short local_5e;
  ushort local_5c;
  ushort local_5a;
  short local_58;
  short local_56;
  short local_54;
  short local_52;
  short local_50;
  short local_4e;
  short local_4c;
  short local_4a;
  int local_30;
  
  if (param_2 < 0) {
    return;
  }
  FUN_WORLD__801298b0((short)param_8);
  FUN_WORLD__80129874(param_5);
  iVar12 = param_4 + 0x28;
  local_50 = (short)param_3;
  sVar1 = (short)param_4;
  if (param_2 < 7) {
    if (0xef < iVar12) {
      return;
    }
    uVar13 = (undefined)param_1;
    if (DAT_WORLD__8018c197 < 3) {
      sVar11 = (short)iVar12;
      iVar4 = param_2 * 6;
      local_5c = (ushort)(byte)(&DAT_WORLD__8018c7e2)[iVar4];
      local_5a = (ushort)(byte)(&DAT_WORLD__8018c7e3)[iVar4];
      uVar7 = (uint)(byte)(&DAT_WORLD__8018c7e5)[iVar4];
      puVar9 = param_5;
      local_60 = local_50;
      local_5e = sVar11;
      FUN_WORLD__8012c6a8(&local_60,(&DAT_WORLD__8018c7e4)[iVar4],(&DAT_WORLD__8018c7e5)[iVar4],
                          param_5,0,DAT_WORLD__8018df8a,DAT_WORLD__801cd1f8,param_8);
      uVar6 = (param_4 + 0x2d) * 0x10000 >> 0x10;
      bVar2 = FUN_WORLD__8011822c((param_3 + 0x28) * 0x10000 >> 0x10,uVar6);
      if (CONCAT31(extraout_var,bVar2) != 0) {
        DAT_WORLD__8018c1f3 = (undefined)(param_3 + 0x28);
        DAT_WORLD__8018c1f4 = (undefined)(param_4 + 0x2d);
        DAT_WORLD__8018c1f5 = uVar13;
        FUN_WORLD__80127c34(&DAT_WORLD__8018c1ec,uVar6,uVar7,puVar9);
      }
      uVar6 = iVar12 * 0x10000 >> 0x10;
      bVar2 = FUN_WORLD__8011822c((param_3 + 0x14) * 0x10000 >> 0x10,uVar6);
      if (CONCAT31(extraout_var_00,bVar2) != 0) {
        DAT_WORLD__8018c19f = (undefined)(param_3 + 0x14);
        DAT_WORLD__8018c1a0 = (undefined)iVar12;
        DAT_WORLD__8018c1a1 = uVar13;
        FUN_WORLD__80127c34(&DAT_WORLD__8018c198,uVar6,uVar7,puVar9);
      }
      local_60 = local_50 + 0x23;
      local_5e = sVar1 + 0x2d;
      local_5c = 6;
      local_5a = 0xb;
      FUN_WORLD__8012c6a8(&local_60,-0x4c,'\x10',param_5,0,DAT_WORLD__8018df88,DAT_WORLD__801cd1f8,
                          param_8);
      if (param_2 == 0) {
        puVar9 = &DAT_WORLD__8018c744;
        clut = DAT_WORLD__8018dfa6;
      }
      else if (param_2 == 1) {
        puVar9 = (undefined *)0x8018c750;
        clut = DAT_WORLD__8018dfa8;
      }
      else {
        puVar9 = (undefined *)0x8018c75c;
        clut = DAT_WORLD__8018dfaa;
      }
      local_5e = sVar1 + 0x30;
      local_5c = 0x25;
      local_5a = 3;
      local_60 = local_50;
      FUN_WORLD__8012c6a8(&local_60,-0x28,-0x36,param_5,0,DAT_WORLD__8018df8a,clut,param_8 + -1);
      local_58 = DAT_WORLD__8018c740 + local_50;
      local_56 = DAT_WORLD__8018c741 + sVar11 + 8;
      local_54 = local_58 + 0x20;
      local_52 = DAT_WORLD__8018c741 + sVar11 + 8;
      local_50 = DAT_WORLD__8018c742 + local_50;
      local_4e = DAT_WORLD__8018c743 + sVar11 + 8;
      local_4c = local_50 + 0x20;
      local_4a = DAT_WORLD__8018c743 + sVar11 + 8;
      FUN_WORLD__8012c014(&local_58,puVar9,0,param_8);
      return;
    }
    if (DAT_WORLD__8018c197 == 3) {
      iVar4 = param_4 + 0x2d;
      local_60 = local_50 + -1;
      iVar12 = param_4 + 0x28;
      local_5e = (short)iVar12;
      local_5c = DAT_WORLD__8018c7f4 + 3;
      local_5a = DAT_WORLD__8018c7f5 + 1;
      FUN_WORLD__8012c6a8(&local_60,DAT_WORLD__8018c7f6,DAT_WORLD__8018c7f7,param_5,0,
                          DAT_WORLD__8018df8a,DAT_WORLD__801cd1f8,param_8);
      local_60 = local_50 + 0x1a;
      local_5e = (short)iVar4;
      local_5c = DAT_WORLD__8018c7fa + 2;
      local_5a = (ushort)DAT_WORLD__8018c7fb;
      uVar7 = (uint)DAT_WORLD__8018c7fd;
      FUN_WORLD__8012c6a8(&local_60,DAT_WORLD__8018c7fc,DAT_WORLD__8018c7fd,param_5,0,
                          DAT_WORLD__8018df8a,DAT_WORLD__801cd1f8,param_8);
      uVar6 = iVar12 * 0x10000 >> 0x10;
      bVar2 = FUN_WORLD__8011822c((param_3 + 0xd) * 0x10000 >> 0x10,uVar6);
      if (CONCAT31(extraout_var_01,bVar2) != 0) {
        DAT_WORLD__8018c1ab = (undefined)(param_3 + 0xd);
        DAT_WORLD__8018c1ac = (undefined)iVar12;
        DAT_WORLD__8018c1ad = uVar13;
        FUN_WORLD__80127c34(&DAT_WORLD__8018c1a4,uVar6,uVar7,param_5);
      }
      uVar6 = iVar4 * 0x10000 >> 0x10;
      bVar2 = FUN_WORLD__8011822c((param_3 + 0x2d) * 0x10000 >> 0x10,uVar6);
      if (CONCAT31(extraout_var_02,bVar2) == 0) {
        return;
      }
      DAT_WORLD__8018c1b7 = (undefined)(param_3 + 0x2d);
      DAT_WORLD__8018c1b8 = (undefined)iVar4;
      DAT_WORLD__8018c1b9 = uVar13;
      FUN_WORLD__80127c34(&DAT_WORLD__8018c1b0,uVar6,uVar7,param_5);
      return;
    }
    iVar12 = param_4 + 0x2d;
    if (DAT_WORLD__8018c197 != 4) {
      return;
    }
    local_60 = local_50 + -1;
    local_30 = param_4 + 0x28;
    local_5e = (short)local_30;
    local_5c = (ushort)DAT_WORLD__8018c800;
    local_5a = (ushort)DAT_WORLD__8018c801;
    FUN_WORLD__8012c6a8(&local_60,DAT_WORLD__8018c802,DAT_WORLD__8018c803,param_5,0,
                        DAT_WORLD__8018df8a,DAT_WORLD__801cd1f8,param_8);
    local_60 = local_60 + -2 + local_5c;
    local_5e = local_5e + 5;
    local_5c = 3;
    local_5a = 3;
    FUN_WORLD__8012c6a8(&local_60,';','\x15',param_5,0,DAT_WORLD__8018df8a,DAT_WORLD__801cd1f8,
                        param_8);
    local_60 = local_50 + 0x1a;
    local_5e = (short)iVar12;
    local_5c = (ushort)DAT_WORLD__8018c80c;
    local_5a = (ushort)DAT_WORLD__8018c80d;
    FUN_WORLD__8012c6a8(&local_60,DAT_WORLD__8018c80e,DAT_WORLD__8018c80f,param_5,0,
                        DAT_WORLD__8018df8a,DAT_WORLD__801cd1f8,param_8);
    local_60 = local_60 + local_5c;
    local_5e = local_5e + 5;
    local_5c = 3;
    local_5a = 3;
    uVar8 = 0x15;
    FUN_WORLD__8012c6a8(&local_60,';','\x15',param_5,0,DAT_WORLD__8018df8a,DAT_WORLD__801cd1f8,
                        param_8);
    uVar6 = (uint)(short)local_30;
    bVar2 = FUN_WORLD__8011822c(((param_3 + 0xd) * 0x10000 >> 0x10) - 3,uVar6);
    if (CONCAT31(extraout_var_03,bVar2) != 0) {
      DAT_WORLD__8018c1c3 = (char)(param_3 + 0xd);
      DAT_WORLD__8018c1c4 = (undefined)local_30;
      DAT_WORLD__8018c1dc = (undefined)local_30;
      if (*(short *)(*(int *)((int)&DAT_WORLD__801cd5ec + ((int)((uint)param_1 << 0x10) >> 0xe)) +
                    0x26) < 100) {
        pcVar5 = &DAT_WORLD__8018c1bc;
      }
      else {
        pcVar5 = &DAT_WORLD__8018c1d4;
        DAT_WORLD__8018c1db = DAT_WORLD__8018c1c3 + -3;
      }
      DAT_WORLD__8018c1c5 = uVar13;
      DAT_WORLD__8018c1dd = uVar13;
      FUN_WORLD__80127c34(pcVar5,uVar6,uVar8,param_5);
    }
    uVar6 = iVar12 * 0x10000 >> 0x10;
    bVar2 = FUN_WORLD__8011822c(((param_3 + 0x2d) * 0x10000 >> 0x10) - 5,uVar6);
    if (CONCAT31(extraout_var_04,bVar2) == 0) {
      return;
    }
    DAT_WORLD__8018c1cf = (char)(param_3 + 0x2d);
    DAT_WORLD__8018c1d0 = (undefined)iVar12;
    DAT_WORLD__8018c1d1 = uVar13;
    DAT_WORLD__8018c1e8 = DAT_WORLD__8018c1d0;
    DAT_WORLD__8018c1e9 = uVar13;
    if (99 < *(short *)(*(int *)((int)&DAT_WORLD__801cd5ec + ((int)((uint)param_1 << 0x10) >> 0xe))
                       + 0x28)) {
      DAT_WORLD__8018c1e7 = DAT_WORLD__8018c1cf + -5;
      FUN_WORLD__80127c34(&DAT_WORLD__8018c1e0,uVar6,uVar8,param_5);
      return;
    }
    FUN_WORLD__80127c34(&DAT_WORLD__8018c1c8,uVar6,uVar8,param_5);
    return;
  }
  if (param_2 == 8) {
    iVar12 = (*(code *)param_6)((int)(short)param_1);
    if (iVar12 < 100) {
      psVar10 = &DAT_WORLD__8018c768;
      DAT_WORLD__8018c768 = local_50 + 9;
      goto LAB_WORLD__80118ad0;
    }
    psVar10 = &DAT_WORLD__8018c77c;
    local_50 = local_50 + 0xb;
  }
  else {
    if ((param_2 == 9) && (param_7 != 0)) {
      psVar10 = &DAT_WORLD__8018c7a4;
      DAT_WORLD__8018c7a4 = local_50 + 6;
      goto LAB_WORLD__80118ad0;
    }
    if (param_2 != 0xb) {
      return;
    }
    local_50 = local_50 + 0xf;
    if (param_7 == 0) {
      return;
    }
    psVar10 = &DAT_WORLD__8018c7cc;
  }
  *psVar10 = local_50;
LAB_WORLD__80118ad0:
  psVar10[1] = sVar1 + 0x28;
  uVar3 = GetTPage(0,0,0x180,0);
  psVar10[9] = uVar3;
  FUN_WORLD__8012c8bc(psVar10,param_5,0,0,param_8);
  return;
}



void FUN_WORLD__80118d04(uint param_1)

{
  ushort uVar1;
  int iVar2;
  
  if ((param_1 & 4) == 0) {
    if ((param_1 & 8) != 0) {
      DAT_WORLD__8018bacc = 6;
      do {
        if ((int)(short)DAT_WORLD__8018ba20 == DAT_WORLD__801cd788 - 1) {
          iVar2 = 0;
        }
        else {
          iVar2 = (short)DAT_WORLD__8018ba20 + 1;
        }
        DAT_WORLD__8018ba20 = (ushort)iVar2;
      } while ((*(byte *)(*(int *)((int)&DAT_WORLD__801cd5ec + ((iVar2 << 0x10) >> 0xe)) + 0x70) & 4
               ) != 0);
    }
  }
  else {
    DAT_WORLD__8018bacc = 6;
    do {
      uVar1 = (ushort)DAT_WORLD__801cd788;
      if (DAT_WORLD__8018ba20 != 0) {
        uVar1 = DAT_WORLD__8018ba20;
      }
      DAT_WORLD__8018ba20 = uVar1 - 1;
    } while ((*(byte *)(*(int *)((int)&DAT_WORLD__801cd5ec +
                                ((int)((uint)DAT_WORLD__8018ba20 << 0x10) >> 0xe)) + 0x70) & 4) != 0
            );
  }
  return;
}



int FUN_WORLD__801208b8(uint param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = param_1 & 0x3ff;
  iVar1 = 0;
  if (uVar2 != 0) {
    iVar1 = (uint)(byte)(&DAT_800596e0)[uVar2] + param_2;
    if (iVar1 < 0) {
      iVar1 = 0;
    }
    (&DAT_800596e0)[uVar2] = (char)iVar1;
  }
  return iVar1;
}



undefined4 FUN_WORLD__80120afc(short *param_1,int param_2)

{
  uint uVar1;
  undefined4 uVar2;
  
  uVar2 = 0;
  uVar1 = 0;
  if ((int)*param_1 == 0) {
    if ((int)param_1[1] != 0) {
      uVar1 = (int)param_1[1] & 0x3ff;
    }
  }
  else if (param_1[1] == 0) {
    uVar1 = (int)*param_1 & 0x3ff;
  }
  if (((uVar1 != 0) && (uVar1 < 0x7a)) &&
     (((WeaponSecondary[uVar1].field_0x1 & 1) != 0 ||
      ((param_2 != 0 && (uVar2 = 0, (WeaponSecondary[uVar1].field_0x1 & 4) != 0)))))) {
    uVar2 = 1;
  }
  return uVar2;
}



bool FUN_WORLD__80120b90(int param_1)

{
  return param_1 - 0x90U < 0xb || param_1 - 0x3cU < 0xe;
}



void FUN_WORLD__80120bb0(int param_1,ushort *param_2,undefined *param_3)

{
  byte bVar1;
  bool bVar2;
  ushort *puVar3;
  undefined3 extraout_var;
  uint uVar4;
  undefined4 uVar5;
  ushort uVar6;
  ushort *puVar7;
  int iVar8;
  
  memset((uchar *)param_2,'\0',0x128);
  uVar6 = 99;
  if ((byte)param_3[0x16] < 100) {
    uVar6 = (ushort)(byte)param_3[0x16];
  }
  *param_2 = uVar6;
  uVar6 = 99;
  if (0xf < *(byte *)(param_1 + 2)) {
    param_2[1] = 2;
  }
  if ((byte)param_3[0x15] < 100) {
    uVar6 = (ushort)(byte)param_3[0x15];
  }
  param_2[4] = uVar6;
  param_2[5] = (ushort)*(byte *)(param_1 + 2);
  uVar6 = 999;
  if (*(ushort *)(param_1 + 0x2a) < 1000) {
    uVar6 = *(ushort *)(param_1 + 0x2a);
  }
  param_2[6] = uVar6;
  uVar6 = 999;
  if (*(ushort *)(param_1 + 0x2a) < 1000) {
    uVar6 = *(ushort *)(param_1 + 0x2a);
  }
  param_2[8] = uVar6;
  uVar6 = 999;
  if (*(ushort *)(param_1 + 0x2e) < 1000) {
    uVar6 = *(ushort *)(param_1 + 0x2e);
  }
  param_2[9] = uVar6;
  uVar6 = 999;
  if (*(ushort *)(param_1 + 0x2e) < 1000) {
    uVar6 = *(ushort *)(param_1 + 0x2e);
  }
  param_2[0xb] = uVar6;
  uVar6 = 100;
  if (*(byte *)(param_1 + 0x39) < 0x65) {
    uVar6 = (ushort)*(byte *)(param_1 + 0x39);
  }
  param_2[0xc] = uVar6;
                    // Possible PsyQ macro: setSprt()
  param_2[0xe] = 100;
  param_2[0x11] = (ushort)*(byte *)(param_1 + 2);
  param_2[0x12] = (ushort)(byte)param_3[2];
  param_2[0x13] = (ushort)*(byte *)(param_1 + 0x24);
  param_2[0x14] = (ushort)*(byte *)(param_1 + 0x26);
  param_2[0x15] = *(ushort *)(param_1 + 8) >> 0xc;
  param_2[0x16] = (ushort)*(byte *)(param_1 + 2);
  param_2[0x18] = (ushort)*(byte *)(param_1 + 0x3a);
  param_2[0x19] = (ushort)*(byte *)(param_1 + 0x38);
  param_2[0x1a] = (ushort)*(byte *)(param_1 + 0x3b);
  param_2[0x1b] = (ushort)*(byte *)(param_1 + 0x3c);
  param_2[0x1c] = (ushort)*(byte *)(param_1 + 0x3d);
  param_2[0x1d] = (ushort)*(byte *)(param_1 + 0x3e);
  param_2[0x1e] = (ushort)*(byte *)(param_1 + 0x3f);
  param_2[0x1f] = (ushort)((byte)(*(char *)(param_1 + 0x12) + 0x50U) < 0x30);
  param_2[0x21] = (ushort)*(byte *)(param_1 + 0x36);
  param_2[0x22] = (ushort)*(byte *)(param_1 + 0x43);
  bVar1 = *(byte *)(param_1 + 0x41);
  if (*(byte *)(param_1 + 0x41) < *(byte *)(param_1 + 0x42)) {
    bVar1 = *(byte *)(param_1 + 0x42);
  }
  param_2[0x23] = (ushort)bVar1;
  param_2[0x24] = (ushort)*(byte *)(param_1 + 0x40);
  bVar1 = *(byte *)(param_1 + 0x37);
  param_2[0x27] = 0;
  param_2[0x26] = (ushort)bVar1;
  bVar1 = *(byte *)(param_1 + 0x45);
  if (*(byte *)(param_1 + 0x45) < *(byte *)(param_1 + 0x46)) {
    bVar1 = *(byte *)(param_1 + 0x46);
  }
  param_2[0x28] = (ushort)bVar1;
  param_2[0x29] = (ushort)*(byte *)(param_1 + 0x44);
  if (param_2[0x1f] == 0) {
    param_2[0x2f] = (ushort)*(byte *)(param_1 + 0x12);
    if (param_2[0x12] != 0x5d) {
      if (param_3[0x11] == -1) {
        param_2[0x2a] = (ushort)(byte)param_3[0x12];
      }
      else {
        param_2[0x2a] = (ushort)(byte)param_3[0x11];
      }
      if (param_3[0x13] == -1) {
        param_2[0x2b] = (ushort)(byte)param_3[0x14];
      }
      else {
        param_2[0x2b] = (ushort)(byte)param_3[0x13];
      }
      param_2[0x2c] = (ushort)(byte)param_3[0xe];
      iVar8 = 0;
      param_2[0x2d] = (ushort)(byte)param_3[0xf];
      param_2[0x2e] = (ushort)(byte)param_3[0x10];
      puVar7 = param_2;
      do {
        iVar8 = iVar8 + 1;
        if (0xfd < puVar7[0x2a]) {
          puVar7[0x2a] = 0;
        }
        puVar7 = puVar7 + 1;
      } while (iVar8 < 5);
      param_2[0x30] = (ushort)(byte)param_3[7];
      param_2[0x31] = (ushort)(byte)param_3[8] + (ushort)(byte)param_3[9] * 0x100;
      param_2[0x32] = (ushort)(byte)param_3[10] + (ushort)(byte)param_3[0xb] * 0x100;
      param_2[0x33] = (ushort)(byte)param_3[0xc] + (ushort)(byte)param_3[0xd] * 0x100;
    }
  }
  else {
    puVar3 = Store_SkillsetAbilities((uint)*(byte *)(param_1 + 0x12),1);
    iVar8 = 0;
    puVar7 = param_2;
    do {
      if (*puVar3 != 0) {
        puVar7[0x2f] = *puVar3;
        puVar7 = puVar7 + 1;
      }
      iVar8 = iVar8 + 1;
      puVar3 = puVar3 + 1;
    } while (iVar8 < 3);
  }
  bVar2 = FUN_WORLD__80120b90((uint)*(byte *)(param_1 + 3));
  if ((CONCAT31(extraout_var,bVar2) == 0) && (param_2[0x1f] == 0)) {
    uVar4 = Calc_Unlocked_Jobs((undefined *)(param_1 + 0xd2),*(byte *)(param_1 + 6) & 0xc0);
    *(char *)((int)param_2 + 0x77) = (char)(uVar4 >> 0x10);
    *(char *)(param_2 + 0x3c) = (char)(uVar4 >> 8);
    *(char *)((int)param_2 + 0x79) = (char)uVar4;
  }
  else {
    bcopy((uchar *)(param_1 + 0x96),(uchar *)((int)param_2 + 0x77),3);
  }
  *(undefined *)(param_2 + 0x38) = param_3[4];
  *(undefined *)(param_2 + 0x39) = *param_3;
  bcopy((uchar *)(param_1 + 0x4a),(uchar *)((int)param_2 + 0x73),4);
  bcopy(param_3 + 0x2b,(uchar *)(param_2 + 0x3d),0x39);
  bcopy(param_3 + 100,(uchar *)((int)param_2 + 0xb3),10);
  bcopy(param_3 + 0x6e,(uchar *)(param_2 + 0x5f),0x28);
  bcopy(param_3 + 0x96,(uchar *)(param_2 + 0x73),0x28);
  iVar8 = 0;
  puVar7 = param_2;
  do {
    if (9999 < puVar7[0x5f]) {
      puVar7[0x5f] = 9999;
    }
    iVar8 = iVar8 + 1;
    if (9999 < puVar7[0x73]) {
      puVar7[0x73] = 9999;
    }
    puVar7 = puVar7 + 1;
  } while (iVar8 < 0x14);
  bcopy(param_3 + 0xbe,(uchar *)(param_2 + 0x87),0x10);
  bcopy((uchar *)(param_1 + 0x8f),(uchar *)(param_2 + 0x92),4);
  *(undefined *)((int)param_2 + 0x11f) = param_3[0xd0];
  *(undefined *)(param_2 + 0x8f) = *(undefined *)(param_1 + 0x15e);
  param_2[0x90] = *(ushort *)(param_1 + 8) & 0x1ff;
  param_2[0x91] = (ushort)(byte)param_3[0xd2];
  uVar5 = FUN_WORLD__80120afc((short *)(param_2 + 0x2a),*(byte *)(param_2 + 0x93) & 2);
  param_2[0x20] = (ushort)uVar5;
  return;
}



int FUN_WORLD__801210e8(ushort param_1,undefined4 param_2,int param_3)

{
  ushort uVar1;
  bool bVar2;
  int iVar3;
  PartyUnit *pPVar4;
  undefined3 extraout_var;
  uint uVar5;
  ushort *puVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  ushort *puVar10;
  byte abStack_1e0 [448];
  
  iVar8 = 0;
  iVar9 = 0;
  puVar10 = &DAT_WORLD__801c868c;
  iVar7 = 0;
  do {
    iVar3 = Initialize_Unit_JobData(abStack_1e0,iVar8,1);
    if (iVar3 == 0) {
      pPVar4 = Get_Party_Data_Pointer(iVar8);
      FUN_WORLD__80120bb0((int)abStack_1e0,(ushort *)(&DAT_WORLD__801c8638 + iVar7),
                          &pPVar4->SpriteSet);
      if (param_3 == 1) {
        if ((((&DAT_WORLD__801c8757)[iVar7] == '\0') && (((&DAT_WORLD__801c86a8)[iVar7] & 4) == 0))
           && (*(short *)((int)&DAT_WORLD__801c8676 + iVar7) == 0)) {
          bVar2 = FUN_WORLD__80120b90((int)*(short *)((int)&DAT_WORLD__801c865c + iVar7));
          uVar5 = CONCAT31(extraout_var,bVar2);
LAB_WORLD__80121208:
          if (uVar5 == 0) goto LAB_WORLD__80121210;
        }
      }
      else if (param_3 == 2) {
        if (((&DAT_WORLD__801c86a8)[iVar7] & 4) == 0) {
          uVar5 = (uint)((byte)(&DAT_WORLD__801c86a8)[iVar7] >> 6);
          goto LAB_WORLD__80121208;
        }
      }
      else {
LAB_WORLD__80121210:
        bVar2 = false;
        if ((param_1 & 0x3ff) != 0) {
          iVar3 = 0;
          puVar6 = puVar10;
          do {
            uVar1 = *puVar6;
            puVar6 = puVar6 + 1;
            if (uVar1 == (param_1 & 0x3ff)) {
              bVar2 = true;
            }
            iVar3 = iVar3 + 1;
          } while (iVar3 < 5);
          if (!bVar2) goto LAB_WORLD__80121268;
        }
        (&DAT_WORLD__801c8608)[iVar9] = (short)iVar9;
        puVar10 = puVar10 + 0x94;
        iVar7 = iVar7 + 0x128;
        iVar9 = iVar9 + 1;
      }
    }
LAB_WORLD__80121268:
    iVar8 = iVar8 + 1;
    if (0x13 < iVar8) {
      DAT_WORLD__801c8634 = (short)iVar9;
      FUN_WORLD__80121c60(0);
      return (int)DAT_WORLD__801c8634;
    }
  } while( true );
}



void FUN_WORLD__801212b8(void)

{
  ushort uVar1;
  ushort uVar2;
  PartyUnit *pPVar3;
  ItemID IVar4;
  ushort *puVar5;
  ushort **ppuVar6;
  int iVar7;
  byte abStack_1e8 [464];
  
  iVar7 = 0;
  if (0 < DAT_WORLD__801c8634) {
    ppuVar6 = (ushort **)&DAT_WORLD__801cd5ec;
    do {
      uVar1 = (*ppuVar6)[0x16];
      pPVar3 = Get_Party_Data_Pointer((int)(short)uVar1);
      pPVar3->JobID = *(JobID *)(*ppuVar6 + 0x12);
      pPVar3->field_0x4 = *(undefined *)(*ppuVar6 + 0x38);
      pPVar3->SecondarySkillset = *(SkillsetID *)(*ppuVar6 + 0x30);
      *(undefined *)&pPVar3->Reaction = *(undefined *)(*ppuVar6 + 0x31);
      *(char *)((int)&pPVar3->Reaction + 1) = (char)((*ppuVar6)[0x31] >> 8);
      *(undefined *)&pPVar3->Support = *(undefined *)(*ppuVar6 + 0x32);
      *(char *)((int)&pPVar3->Support + 1) = (char)((*ppuVar6)[0x32] >> 8);
      *(undefined *)&pPVar3->Movement = *(undefined *)(*ppuVar6 + 0x33);
      *(char *)((int)&pPVar3->Movement + 1) = (char)((*ppuVar6)[0x33] >> 8);
      if ((*ppuVar6)[0x1f] == 0) {
        uVar2 = (*ppuVar6)[0x2a];
        pPVar3->RHWeapon = NONE_ENTD;
        pPVar3->RHShield = NONE_ENTD;
        if (uVar2 != 0) {
          if (PrimaryItemData[uVar2].ItemType == 0x13) {
            pPVar3->RHShield = (ItemID)uVar2;
          }
          else {
            pPVar3->RHWeapon = (ItemID)uVar2;
          }
        }
        uVar2 = (*ppuVar6)[0x2b];
        pPVar3->LHWeapon = NONE_ENTD;
        pPVar3->LHShield = NONE_ENTD;
        if (uVar2 != 0) {
          if (PrimaryItemData[uVar2].ItemType == 0x13) {
            pPVar3->LHShield = (ItemID)uVar2;
          }
          else {
            pPVar3->LHWeapon = (ItemID)uVar2;
          }
        }
        IVar4 = NONE_ENTD;
        if ((*ppuVar6)[0x2c] != 0) {
          IVar4 = *(ItemID *)(*ppuVar6 + 0x2c);
        }
        pPVar3->Head = IVar4;
        IVar4 = NONE_ENTD;
        if ((*ppuVar6)[0x2d] != 0) {
          IVar4 = *(ItemID *)(*ppuVar6 + 0x2d);
        }
        pPVar3->Body = IVar4;
        IVar4 = NONE_ENTD;
        if ((*ppuVar6)[0x2e] != 0) {
          IVar4 = *(ItemID *)(*ppuVar6 + 0x2e);
        }
        pPVar3->Accessory = IVar4;
        bcopy((uchar *)(*ppuVar6 + 0x3d),(uchar *)&pPVar3->BaseAction,0x39);
        bcopy((uchar *)(*ppuVar6 + 0x5f),(uchar *)pPVar3->JobJP,0x28);
        bcopy((uchar *)(*ppuVar6 + 0x73),(uchar *)pPVar3->JobTotalJP,0x28);
      }
      Initialize_Unit_JobData(abStack_1e8,(int)(short)uVar1,1);
      puVar5 = *ppuVar6;
      ppuVar6 = ppuVar6 + 1;
      FUN_WORLD__80120bb0((int)abStack_1e8,puVar5,&pPVar3->SpriteSet);
      iVar7 = iVar7 + 1;
    } while (iVar7 < DAT_WORLD__801c8634);
  }
  return;
}



void FUN_WORLD__80121c60(int param_1)

{
  char cVar1;
  short sVar2;
  undefined2 uVar3;
  int iVar4;
  undefined2 *puVar5;
  short *psVar6;
  int iVar7;
  int iVar8;
  char *pcVar9;
  undefined2 *puVar10;
  undefined4 *puVar11;
  char *pcVar12;
  char *pcVar13;
  int iVar14;
  short *psVar15;
  int iVar16;
  char *pcVar17;
  char local_50 [80];
  
  pcVar17 = (&PTR_DAT_WORLD__8018d7ac)[param_1];
  iVar16 = DAT_WORLD__801c8634 + -1;
  pcVar9 = local_50;
  pcVar12 = local_50;
  if (0 < iVar16) {
    do {
      iVar14 = 0;
      psVar6 = &DAT_WORLD__801c8608;
      psVar15 = &DAT_WORLD__801c860a;
      if (0 < iVar16) {
        do {
          pcVar13 = pcVar17;
          iVar7 = 0;
          do {
            iVar8 = iVar7;
            cVar1 = *pcVar13;
            pcVar13 = pcVar13 + 1;
            iVar4 = (int)*(short *)(&DAT_WORLD__801c8638 +
                                   (char)(&DAT_WORLD__8018d7cc)[cVar1] * 2 + *psVar15 * 0x128) -
                    (int)*(short *)(&DAT_WORLD__801c8638 +
                                   (char)(&DAT_WORLD__8018d7cc)[cVar1] * 2 + *psVar6 * 0x128);
            iVar7 = iVar8 + 1;
          } while (iVar4 == 0);
          if (pcVar17[iVar8] != '\0') {
            iVar4 = -iVar4;
          }
          iVar14 = iVar14 + 1;
          if (iVar4 < 0) {
            sVar2 = *psVar6;
            *psVar6 = *psVar15;
            *psVar15 = sVar2;
          }
          psVar6 = psVar6 + 1;
          psVar15 = psVar15 + 1;
        } while (iVar14 < iVar16);
      }
      iVar16 = iVar16 + -1;
    } while (0 < iVar16);
  }
  iVar14 = 0;
  iVar16 = 0;
  if (0 < DAT_WORLD__801c8634) {
    psVar6 = &DAT_WORLD__801c8608;
    do {
      iVar16 = iVar16 + 1;
      if (((&DAT_WORLD__801c86a8)[*psVar6 * 0x128] & 4) != 0) {
        iVar14 = iVar14 + 1;
        *pcVar9 = *(undefined *)psVar6;
        pcVar9 = pcVar9 + 1;
      }
      psVar6 = psVar6 + 1;
    } while (iVar16 < DAT_WORLD__801c8634);
  }
  if (0 < iVar14) {
    iVar16 = (int)DAT_WORLD__801c8634;
    do {
      iVar7 = 0;
      psVar6 = &DAT_WORLD__801c8608;
      while (sVar2 = *psVar6, psVar6 = psVar6 + 1, (int)sVar2 != (int)*pcVar12) {
        iVar7 = iVar7 + 1;
      }
      if (iVar7 < iVar16 + -1) {
        puVar10 = &DAT_WORLD__801c8608 + iVar7;
        puVar5 = &DAT_WORLD__801c860a + iVar7;
        do {
          uVar3 = *puVar5;
          puVar5 = puVar5 + 1;
          iVar7 = iVar7 + 1;
          *puVar10 = uVar3;
          puVar10 = puVar10 + 1;
        } while (iVar7 < iVar16 + -1);
      }
      cVar1 = *pcVar12;
      pcVar12 = pcVar12 + 1;
      *(short *)(&DAT_WORLD__801c8606 + iVar16 * 2) = (short)cVar1;
    } while ((int)pcVar12 < (int)(local_50 + iVar14));
  }
  iVar16 = iVar14 + -1;
  if (0 < iVar16) {
    do {
      iVar7 = 0;
      pcVar12 = local_50;
      pcVar9 = local_50;
      if (0 < iVar16) {
        do {
          pcVar9 = pcVar9 + 1;
          cVar1 = *pcVar12;
          iVar7 = iVar7 + 1;
          if (*pcVar9 < cVar1) {
            *pcVar12 = *pcVar9;
            *pcVar9 = cVar1;
          }
          pcVar12 = pcVar12 + 1;
        } while (iVar7 < iVar16);
      }
      iVar16 = iVar16 + -1;
    } while (0 < iVar16);
  }
  if (0 < iVar14) {
    iVar4 = (int)DAT_WORLD__801c8634;
    iVar16 = 1;
    iVar7 = 0;
    do {
      iVar8 = iVar16;
      (&DAT_WORLD__801c8608)[iVar4 - iVar8] = (short)local_50[iVar7];
      iVar16 = iVar8 + 1;
      iVar7 = iVar8;
    } while (iVar8 < iVar14);
  }
  iVar16 = (int)DAT_WORLD__801c8634;
  iVar14 = 0;
  if (0 < iVar16) {
    puVar11 = &DAT_WORLD__801cd5ec;
    psVar6 = &DAT_WORLD__801c8608;
    do {
      sVar2 = *psVar6;
      psVar6 = psVar6 + 1;
      iVar14 = iVar14 + 1;
      *puVar11 = &DAT_WORLD__801c8638 + sVar2 * 0x128;
      puVar11 = puVar11 + 1;
    } while (iVar14 < iVar16);
  }
  DAT_WORLD__801cd63c = &DAT_WORLD__801c9d58;
  return;
}



void FUN_WORLD__801221d8(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  uVar4 = 1;
  iVar1 = 0x10000;
  do {
    iVar2 = FUN_WORLD__80125374(iVar1 >> 0x10);
    iVar3 = 0;
    if (iVar2 != 0) {
      iVar3 = iVar2 + -1;
    }
    if (param_1 == iVar3) {
      iVar1 = FUN_WORLD__801237e4(iVar1 >> 0x10);
      if (iVar1 == 0) {
        FUN_WORLD__80122338(uVar4,param_1);
      }
      else {
        iVar1 = FUN_WORLD__8012227c(uVar4,param_1);
        if (iVar1 == 0) {
          FUN_WORLD__801222d0((char)uVar4,param_1);
        }
      }
    }
    uVar4 = uVar4 + 1;
    iVar1 = uVar4 * 0x10000;
  } while ((int)uVar4 < 0xfe);
  return;
}



undefined4 FUN_WORLD__8012227c(uint param_1,int param_2)

{
  byte bVar1;
  undefined4 uVar2;
  byte *pbVar3;
  
  pbVar3 = (&PTR_DAT_WORLD__8018d7d8)[param_2];
  bVar1 = *pbVar3;
  while ((uVar2 = 0, bVar1 != 0xff && (uVar2 = 1, *pbVar3 != param_1))) {
    pbVar3 = pbVar3 + 1;
    bVar1 = *pbVar3;
  }
  return uVar2;
}



void FUN_WORLD__801222d0(char param_1,int param_2)

{
  char cVar1;
  char *pcVar2;
  int iVar3;
  char *pcVar4;
  
  pcVar4 = (&PTR_DAT_WORLD__8018d7d8)[param_2];
  iVar3 = 0;
  cVar1 = *pcVar4;
  pcVar2 = pcVar4;
  while (cVar1 != -1) {
    pcVar2 = pcVar2 + 1;
    iVar3 = iVar3 + 1;
    cVar1 = *pcVar2;
  }
  if (-1 < iVar3) {
    pcVar2 = pcVar4 + iVar3;
    do {
      iVar3 = iVar3 + -1;
      pcVar2[1] = *pcVar2;
      pcVar2 = pcVar2 + -1;
    } while (-1 < iVar3);
  }
  *pcVar4 = param_1;
  return;
}



void FUN_WORLD__80122338(uint param_1,int param_2)

{
  uint uVar1;
  byte *pbVar2;
  int iVar3;
  byte *pbVar4;
  
  pbVar4 = (&PTR_DAT_WORLD__8018d7d8)[param_2];
  iVar3 = 0;
  if (*pbVar4 != param_1) {
    uVar1 = (uint)*pbVar4;
    pbVar2 = pbVar4;
    do {
      if (uVar1 == 0xff) {
        return;
      }
      pbVar2 = pbVar2 + 1;
      uVar1 = (uint)*pbVar2;
      iVar3 = iVar3 + 1;
    } while (uVar1 != param_1);
  }
  pbVar4 = pbVar4 + iVar3;
  do {
    *pbVar4 = pbVar4[1];
    pbVar4 = pbVar4 + 1;
  } while (*pbVar4 != 0xff);
  return;
}



int FUN_WORLD__80123764(ushort param_1)

{
  ushort *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  int iVar6;
  
  iVar6 = 0;
  iVar4 = 0;
  if (0 < DAT_WORLD__801c8634) {
    piVar5 = &DAT_WORLD__801cd5ec;
    do {
      iVar3 = 0;
      iVar2 = *piVar5;
      do {
        puVar1 = (ushort *)(iVar2 + 0x54);
        iVar2 = iVar2 + 2;
        if (*puVar1 == (param_1 & 0x3ff)) {
          iVar4 = iVar4 + 1;
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < 5);
      iVar6 = iVar6 + 1;
      piVar5 = piVar5 + 1;
    } while (iVar6 < DAT_WORLD__801c8634);
  }
  return iVar4;
}



int FUN_WORLD__801237e4(uint param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = FUN_WORLD__801208b8(param_1 & 0x3ff,0);
  iVar2 = FUN_WORLD__80123764((ushort)(param_1 & 0x3ff));
  return iVar1 + iVar2;
}



undefined4 FUN_WORLD__80125374(uint param_1)

{
  undefined4 uVar1;
  uint uVar2;
  
  uVar2 = param_1 & 0x3ff;
  uVar1 = 0;
  if ((((0x79 < uVar2) && (uVar1 = 5, 0x7f < uVar2)) && (uVar1 = 1, 0x8f < uVar2)) &&
     (uVar1 = 2, 0xab < uVar2)) {
    if (uVar2 < 0xd0) {
      uVar1 = 3;
    }
    else {
      uVar1 = 5;
      if (uVar2 < 0xf0) {
        uVar1 = 4;
      }
    }
  }
  return uVar1;
}



void FUN_WORLD__801256c8(int param_1,void *param_2)

{
  short sVar1;
  u_short uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  
  iVar5 = *(int *)((int)&DAT_WORLD__801cd5ec + ((param_1 << 0x10) >> 0xe));
  sVar1 = *(short *)(iVar5 + 0x24);
  if (sVar1 != 0x90) {
    uVar3 = 0x52;
    if (sVar1 == 0x91) goto LAB_WORLD__801257ac;
    if (sVar1 != 0x96) {
      uVar3 = 0x4f;
      if ((((sVar1 != 0x97) && (uVar3 = 0x51, sVar1 != 0x99)) && (uVar3 = 0x51, sVar1 != 0x9a)) &&
         (uVar3 = 0x4c, sVar1 != 0x48)) {
        uVar3 = (uint)*(byte *)(iVar5 + 0x72);
        if (uVar3 == 0x82) {
          uVar3 = *(byte *)(iVar5 + 0x11e) + 0x3d;
        }
        else {
          if (0x49 < uVar3) {
            FUN_WORLD__801258a4(sVar1,*(byte *)(iVar5 + 0x70) & 0x40,param_2);
            return;
          }
          uVar3 = (uint)(byte)(&DAT_WORLD__8018de34)[uVar3];
        }
      }
      goto LAB_WORLD__801257ac;
    }
  }
  uVar3 = 0x4e;
LAB_WORLD__801257ac:
  bcopy((uchar *)(uVar3 * 0xc + -0x7fe725bc),(uchar *)param_2,0xc);
  uVar3 = FUN_WORLD__801090c8((int)*(short *)(*(int *)((int)&DAT_WORLD__801cd5ec +
                                                      ((param_1 << 0x10) >> 0xe)) + 0x2c));
  iVar4 = (int)(short)uVar3;
  iVar5 = iVar4;
  if (iVar4 < 0) {
    iVar5 = iVar4 + 3;
  }
  uVar2 = GetClut(((iVar4 + (iVar5 >> 2) * -4) * 0x10 + 0x140) * 0x10000 >> 0x10,(iVar5 >> 2) + 0xe0
                 );
  *(u_short *)((int)param_2 + 8) = uVar2;
  return;
}



void FUN_WORLD__801258a4(short param_1,short param_2,void *param_3)

{
  int iVar1;
  int iVar2;
  
  iVar2 = (int)param_1;
  if (iVar2 < 0x35) {
    iVar1 = (uint)(byte)(&DAT_WORLD__8018de34)[iVar2] << 0x10;
  }
  else {
    if (iVar2 == 0x5c) {
      iVar1 = 0x3b;
    }
    else if (iVar2 == 0x5b) {
      iVar1 = 0x3a;
    }
    else {
      if (iVar2 == 0x5d) {
        iVar2 = 0x3c;
      }
      else {
        iVar2 = (uint)(ushort)param_1 * 2 + -0x7c;
      }
      iVar1 = iVar2 << 0x10;
      if (param_2 == 0) goto LAB_WORLD__8012591c;
      iVar1 = iVar2 + 1;
    }
    iVar1 = iVar1 << 0x10;
  }
LAB_WORLD__8012591c:
  bcopy((uchar *)((iVar1 >> 0x10) * 0xc + -0x7fe725bc),(uchar *)param_3,0xc);
  return;
}



void FUN_WORLD__80125954(int param_1)

{
  bcopy(*(uchar **)((int)&DAT_WORLD__801cd5ec + ((param_1 << 0x10) >> 0xe)),DAT_WORLD__801cd63c,
        0x128);
  return;
}



void FUN_WORLD__80125cfc(int param_1,int param_2)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  DRAWENV DStack_70;
  
  iVar3 = *DAT_WORLD__801cd528;
  FUN_800449ec();
  DAT_WORLD__801cd1cc = 0;
  DAT_WORLD__801cd864 = 0;
  DAT_WORLD__801cd1d0 = 0;
  DAT_WORLD__801cd198 = 0;
  DAT_WORLD__801cd1a8 = 0;
  DAT_WORLD__801cd514 = 0;
  DAT_WORLD__801cd520 = 0;
  DAT_WORLD__801cd430 = 0;
  DAT_WORLD__801cd504 = 0;
  GetDrawEnv(&DStack_70);
  DAT_WORLD__801cd1d8 = DStack_70.clip.y;
  do {
    iVar2 = DrawSync(1);
  } while (iVar2 != 0);
  VSync((int)DAT_WORLD__8018df7c);
  bVar1 = DAT_WORLD__801cd528 == DAT_WORLD__801cd664;
  DAT_WORLD__801cd528 = DAT_WORLD__801cd664;
  if (bVar1) {
    DAT_WORLD__801cd528 = DAT_WORLD__801cd664 + 0x3b;
  }
  PutDispEnv((DISPENV *)(DAT_WORLD__801cd528 + 0x30));
  PutDrawEnv((DRAWENV *)(DAT_WORLD__801cd528 + 0x19));
  if (param_2 != -1) {
    DrawOTag((u_long *)(iVar3 + param_2 * 4));
  }
  ClearOTag((u_long *)(param_1 * 4 + *DAT_WORLD__801cd528),(uint)DAT_WORLD__801cd224 - param_1);
  return;
}



void FUN_WORLD__80125e40(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = 0;
  if (DAT_WORLD__801cd1a0 != 0) {
    iVar2 = 0;
    do {
      iVar1 = iVar1 + 1;
      SetPolyFT4((POLY_FT4 *)(iVar2 + *(int *)(param_1 + 0x10)));
      SetShadeTex((void *)(iVar2 + *(int *)(param_1 + 0x10)),0);
      iVar2 = iVar2 + 0x28;
    } while (iVar1 < (int)(uint)DAT_WORLD__801cd1a0);
  }
  iVar1 = 0;
  if (DAT_WORLD__801cd850 != 0) {
    iVar2 = 0;
    do {
      iVar1 = iVar1 + 1;
      SetPolyG4((POLY_G4 *)(iVar2 + *(int *)(param_1 + 0x1c)));
      SetShadeTex((void *)(iVar2 + *(int *)(param_1 + 0x1c)),0);
      iVar2 = iVar2 + 0x24;
    } while (iVar1 < (int)(uint)DAT_WORLD__801cd850);
  }
  iVar1 = 0;
  if (DAT_WORLD__801cd1ac != 0) {
    iVar2 = 0;
    do {
      iVar1 = iVar1 + 1;
      SetPolyGT4((POLY_GT4 *)(iVar2 + *(int *)(param_1 + 0x20)));
      SetShadeTex((void *)(iVar2 + *(int *)(param_1 + 0x20)),0);
      iVar2 = iVar2 + 0x34;
    } while (iVar1 < (int)(uint)DAT_WORLD__801cd1ac);
  }
  iVar1 = 0;
  if (DAT_WORLD__801cd178 != 0) {
    do {
      SetLineF2((LINE_F2 *)(iVar1 * 0x10 + *(int *)(param_1 + 0x24)));
      iVar1 = iVar1 + 1;
    } while (iVar1 < (int)(uint)DAT_WORLD__801cd178);
  }
  iVar1 = 0;
  if (DAT_WORLD__801cd180 != 0) {
    iVar2 = 0;
    do {
      iVar1 = iVar1 + 1;
      SetLineG2((LINE_G2 *)(iVar2 + *(int *)(param_1 + 0x30)));
      iVar2 = iVar2 + 0x14;
    } while (iVar1 < (int)(uint)DAT_WORLD__801cd180);
  }
  iVar1 = 0;
  if (DAT_WORLD__801cd438 != 0) {
    do {
      SetTile((TILE *)(iVar1 * 0x10 + *(int *)(param_1 + 0x3c)));
      iVar1 = iVar1 + 1;
    } while (iVar1 < (int)(uint)DAT_WORLD__801cd438);
  }
  iVar1 = 0;
  if (DAT_WORLD__801cd510 != 0) {
    iVar2 = 0;
    do {
      iVar1 = iVar1 + 1;
      SetDrawMove((DR_MOVE *)(iVar2 + *(int *)(param_1 + 0x58)));
      iVar2 = iVar2 + 0x18;
    } while (iVar1 < (int)(uint)DAT_WORLD__801cd510);
  }
  return;
}



void FUN_WORLD__80126058(int param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  int *piVar9;
  int iVar10;
  int iVar11;
  int y;
  int in_stack_00000014;
  int in_stack_00000020;
  int in_stack_00000024;
  int in_stack_00000028;
  int in_stack_00000034;
  int in_stack_00000040;
  int in_stack_0000005c;
  int in_stack_00000060;
  int in_stack_00000064;
  
  iVar10 = 0;
  y = 0;
  iVar11 = 0;
  DAT_WORLD__801cd528 = param_1;
  DAT_WORLD__801cd664 = param_1;
  do {
    uVar1 = (uint)DAT_WORLD__801cd1a0;
    uVar2 = (uint)DAT_WORLD__801cd850;
    uVar3 = (uint)DAT_WORLD__801cd1ac;
    uVar4 = (uint)DAT_WORLD__801cd178;
    uVar5 = (uint)DAT_WORLD__801cd180;
    uVar6 = (uint)DAT_WORLD__801cd438;
    piVar9 = (int *)(iVar11 + DAT_WORLD__801cd664);
    *piVar9 = param_2 + (uint)DAT_WORLD__801cd224 * iVar10 * 4;
    uVar7 = (uint)DAT_WORLD__801cd510;
    uVar8 = (uint)DAT_WORLD__801cd228;
    piVar9[4] = in_stack_00000014 + uVar1 * iVar10 * 0x28;
    piVar9[7] = in_stack_00000020 + uVar2 * iVar10 * 0x24;
    piVar9[8] = in_stack_00000024 + uVar3 * iVar10 * 0x34;
    piVar9[9] = in_stack_00000028 + uVar4 * iVar10 * 0x10;
    piVar9[0xf] = in_stack_00000040 + uVar6 * iVar10 * 0x10;
    uVar1 = (uint)DAT_WORLD__801cd434;
    piVar9[0xc] = in_stack_00000034 + uVar5 * iVar10 * 0x14;
    piVar9[0x16] = in_stack_0000005c + uVar7 * iVar10 * 0x18;
    piVar9[0x17] = in_stack_00000060 + uVar8 * iVar10 * 0xc;
    piVar9[0x18] = in_stack_00000064 + uVar1 * iVar10 * 0xc;
    FUN_WORLD__80125e40((int)piVar9);
    SetDefDrawEnv((DRAWENV *)(iVar11 + DAT_WORLD__801cd664 + 100),0,y,0xff,0xf0);
    SetDefDispEnv((DISPENV *)(iVar11 + DAT_WORLD__801cd664 + 0xc0),0,-(uint)(iVar10 == 0) & 0xf0,
                  0xff,0xf0);
    *(undefined *)(iVar11 + DAT_WORLD__801cd664 + 0x7c) = 0;
    *(undefined *)(iVar11 + DAT_WORLD__801cd664 + 0x7b) = 1;
    *(undefined *)(iVar11 + DAT_WORLD__801cd664 + 0x7d) = 0;
    y = y + 0xf0;
    *(undefined *)(iVar11 + DAT_WORLD__801cd664 + 0x7e) = 0;
    iVar10 = iVar10 + 1;
    *(undefined *)(iVar11 + DAT_WORLD__801cd664 + 0x7f) = 0;
    *(undefined2 *)(iVar11 + DAT_WORLD__801cd664 + 0x6c) = 0xff80;
    iVar11 = iVar11 + 0xec;
  } while (iVar10 < 2);
  FUN_WORLD__80125cfc(0,-1);
  FUN_WORLD__80125cfc(0,-1);
  return;
}



void FUN_WORLD__80126374(int param_1)

{
  DAT_WORLD__8018df7c = (undefined)param_1;
  if (param_1 == 0) {
    param_1 = 1;
  }
  FUN_WORLD__800f1330(param_1);
  return;
}



int FUN_WORLD__801263a8(void)

{
  int iVar1;
  
  iVar1 = 1;
  if (DAT_WORLD__8018df7c != 0) {
    iVar1 = (int)DAT_WORLD__8018df7c;
  }
  return iVar1;
}



void FUN_WORLD__801263c8(short *param_1,int param_2,undefined4 param_3)

{
  short sVar1;
  
  DAT_WORLD__801c9eac = param_1;
  DAT_WORLD__801c9eb0 = param_3;
  if (param_1 != (short *)0x0) {
    DAT_WORLD__801cd824 = 0;
    sVar1 = *param_1;
    while (sVar1 != -1) {
      DAT_WORLD__801cd824 = DAT_WORLD__801cd824 + 1;
      sVar1 = *(short *)(((int)((uint)DAT_WORLD__801cd824 << 0x10) >> 0xf) + (int)param_1);
    }
  }
  DAT_WORLD__801cd20c = (short)param_2;
  if (param_2 == 0) {
    DAT_WORLD__801cd54c = 0;
  }
  DAT_WORLD__801c9e88 = 0;
  DAT_WORLD__801c9e9c = 0;
  DAT_WORLD__8018df80 = 0;
  DAT_WORLD__801c9e84 = 0x80;
  DAT_WORLD__801c9e85 = 0x80;
  DAT_WORLD__801c9e86 = 0x80;
  DAT_WORLD__801c9ea8 = 1;
  DAT_WORLD__8018e028 = 0;
  DAT_WORLD__801c9ed0 = 0;
  DAT_WORLD__8018dfb4 = 0;
  return;
}



void FUN_WORLD__801264dc(byte *param_1,undefined4 param_2)

{
  uint uVar1;
  byte *pbVar2;
  
  DAT_WORLD__801c9e88 = 0;
  DAT_WORLD__801c9ea0 = 0;
  DAT_WORLD__801c9ed0 = 0;
  DAT_WORLD__801c9e8c = param_2;
  if (*param_1 != 0x1c) {
    uVar1 = (uint)*param_1;
    do {
      pbVar2 = (byte *)(*(code *)(&PTR_FUN_WORLD__80126c30_WORLD__8018dfb8)[uVar1])();
      uVar1 = (uint)*pbVar2;
    } while (uVar1 != 0x1c);
  }
  return;
}



void FUN_WORLD__80126570(byte *param_1,undefined4 param_2,int param_3)

{
  if (param_3 != 0) {
    param_2 = 0;
  }
  FUN_WORLD__801298c0(param_3);
  FUN_WORLD__801264dc(param_1,param_2);
  return;
}



int FUN_WORLD__80126c30(int param_1)

{
  short sVar1;
  undefined2 uVar2;
  int iVar3;
  int iVar4;
  short sVar5;
  short sVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  char cVar10;
  short local_a0;
  short local_9e;
  undefined2 local_9c;
  undefined2 local_9a;
  uint local_98;
  uint local_90;
  uint local_88;
  uint local_80;
  undefined2 local_78;
  undefined2 local_70;
  undefined2 local_68;
  undefined2 local_60;
  undefined2 local_58;
  int local_50;
  int local_48;
  
  uVar2 = DAT_WORLD__801cd1bc;
  iVar9 = (int)DAT_WORLD__801c9e88;
  local_58 = DAT_WORLD__801cd1bc;
  if (*(char *)(param_1 + 2) == '\x02') {
    uVar8 = (uint)*(short *)(DAT_WORLD__801cd720 + 6);
    uVar7 = (uint)*(short *)(DAT_WORLD__801cd720 + 8);
    iVar3 = (int)*(short *)(DAT_WORLD__801cd720 + 10);
    if (iVar3 < 0) {
      iVar3 = iVar3 + 0xf;
    }
    local_98 = iVar3 >> 4;
    iVar4 = (int)*(short *)(DAT_WORLD__801cd720 + 10);
    iVar3 = iVar4;
    if (iVar4 < 0) {
      iVar3 = iVar4 + 0xf;
    }
    local_88 = (iVar4 + (iVar3 >> 4) * -0x10) * 0x10000 >> 0x10;
    iVar3 = (int)*(short *)(DAT_WORLD__801cd720 + 0xc);
    if (iVar3 < 0) {
      iVar3 = iVar3 + 0xf;
    }
    local_90 = iVar3 >> 4;
    iVar4 = (int)*(short *)(DAT_WORLD__801cd720 + 0xc);
    iVar3 = iVar4;
    if (iVar4 < 0) {
      iVar3 = iVar4 + 0xf;
    }
    local_80 = (iVar4 + (iVar3 >> 4) * -0x10) * 0x10000 >> 0x10;
  }
  else {
    uVar8 = (uint)*(byte *)(param_1 + 3);
    uVar7 = (uint)*(byte *)(param_1 + 4);
    local_98 = (uint)(*(byte *)(param_1 + 5) >> 4);
    local_88 = *(byte *)(param_1 + 5) & 0xf;
    local_90 = (uint)(*(byte *)(param_1 + 6) >> 4);
    local_80 = *(byte *)(param_1 + 6) & 0xf;
  }
  DAT_WORLD__8018e042 = *(undefined *)(param_1 + 2);
  sVar1 = (short)(uVar8 - 5);
  DAT_WORLD__801c9ea4 = (ushort)*(byte *)(param_1 + 5) + sVar1 + 5;
  cVar10 = '\x02';
  if (*(char *)(param_1 + 2) == '\x01') {
    local_78 = 0xda;
    cVar10 = '\x03';
    local_70 = 0xdf;
    local_68 = 0xf7;
    local_60 = 0x18;
  }
  else {
    local_78 = 2;
    local_70 = 8;
    local_68 = 0x1f;
    local_60 = 0x1c;
  }
  sVar6 = (short)(uVar7 - 9);
  local_9c = 5;
  local_9a = 9;
  local_a0 = sVar1;
  local_9e = sVar6;
  FUN_WORLD__8012c6a8(&local_a0,(char)local_78,cVar10,(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                      DAT_WORLD__8018df88,DAT_WORLD__801cd1bc,iVar9);
  local_9c = (undefined2)local_88;
  local_9a = 9;
  local_a0 = (short)uVar8;
  local_9e = sVar6;
  FUN_WORLD__8012c6a8(&local_a0,(char)local_70,cVar10,(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                      DAT_WORLD__8018df88,uVar2,iVar9);
  iVar3 = 0;
  if (0 < (int)local_98) {
    sVar5 = (short)local_88;
    iVar4 = 0;
    do {
      local_a0 = sVar1 + sVar5 + 5 + (short)iVar4;
      local_9c = 0x10;
      local_9a = 9;
      local_9e = sVar6;
      FUN_WORLD__8012c6a8(&local_a0,(char)local_70,cVar10,(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                          DAT_WORLD__8018df88,local_58,iVar9);
      iVar3 = iVar3 + 1;
      iVar4 = iVar3 * 0x10;
    } while (iVar3 < (int)local_98);
  }
  uVar2 = local_58;
  sVar5 = sVar1 + (short)local_88 + 5;
  local_a0 = sVar5 + (short)iVar3 * 0x10;
  local_9c = 5;
  local_9a = 9;
  local_9e = sVar6;
  FUN_WORLD__8012c6a8(&local_a0,(char)local_68 + -5,cVar10,(undefined *)0x0,(int)DAT_WORLD__801c9ea0
                      ,DAT_WORLD__8018df88,local_58,iVar9);
  local_9c = 5;
  local_9a = (undefined2)local_80;
  local_a0 = sVar1;
  local_9e = (short)uVar7;
  FUN_WORLD__8012c6a8(&local_a0,'\x02','\b',(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                      DAT_WORLD__8018df88,uVar2,iVar9);
  local_a0 = sVar5 + (short)local_98 * 0x10;
  local_9c = 5;
  local_9a = (undefined2)local_80;
  local_9e = (short)uVar7;
  FUN_WORLD__8012c6a8(&local_a0,'\x1a','\b',(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                      DAT_WORLD__8018df88,uVar2,iVar9);
  uVar2 = local_58;
  iVar3 = 0;
  if (0 < (int)local_90) {
    local_50 = (uVar7 - 9) + local_80 + 9;
    local_48 = (uVar8 - 5) + local_88 + 5;
    do {
      sVar5 = (short)local_50 + (short)iVar3 * 0x10;
      local_9c = 5;
      local_9a = 0x10;
      local_a0 = sVar1;
      local_9e = sVar5;
      FUN_WORLD__8012c6a8(&local_a0,'\x02','\b',(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                          DAT_WORLD__8018df88,uVar2,iVar9);
      local_a0 = (short)local_48 + (short)local_98 * 0x10;
      local_9c = 5;
      local_9a = 0x10;
      local_9e = sVar5;
      FUN_WORLD__8012c6a8(&local_a0,'\x1a','\b',(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                          DAT_WORLD__8018df88,uVar2,iVar9);
      iVar3 = iVar3 + 1;
    } while (iVar3 < (int)local_90);
  }
  if (*(char *)(param_1 + 2) == '\x02') {
    DAT_WORLD__801c9eda = *(undefined2 *)(DAT_WORLD__801cd720 + 6);
    DAT_WORLD__801c9edc = *(undefined2 *)(DAT_WORLD__801cd720 + 8);
    DAT_WORLD__801c9ede = *(undefined2 *)(DAT_WORLD__801cd720 + 10);
    DAT_WORLD__801c9ee0 = *(undefined2 *)(DAT_WORLD__801cd720 + 0xc);
  }
  else {
    DAT_WORLD__8018e043 = *(undefined *)(param_1 + 3);
    DAT_WORLD__8018e044 = *(undefined *)(param_1 + 4);
    DAT_WORLD__8018e045 = *(undefined *)(param_1 + 5);
    DAT_WORLD__8018e046 = *(undefined *)(param_1 + 6);
  }
  FUN_WORLD__80127620((int)&DAT_WORLD__8018e040);
  uVar2 = local_58;
  sVar6 = sVar6 + (short)local_80 + 9 + (short)local_90 * 0x10;
  local_9c = 5;
  local_9a = 7;
  cVar10 = (char)local_60 + -7;
  local_a0 = sVar1;
  local_9e = sVar6;
  FUN_WORLD__8012c6a8(&local_a0,(char)local_78,cVar10,(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                      DAT_WORLD__8018df88,local_58,iVar9);
  local_9c = (undefined2)local_88;
  local_9a = 7;
  local_a0 = (short)uVar8;
  local_9e = sVar6;
  FUN_WORLD__8012c6a8(&local_a0,(char)local_70,cVar10,(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                      DAT_WORLD__8018df88,uVar2,iVar9);
  uVar2 = local_60;
  iVar3 = 0;
  if (0 < (int)local_98) {
    sVar5 = (short)local_88;
    iVar4 = 0;
    do {
      local_a0 = sVar1 + sVar5 + 5 + (short)iVar4;
      local_9c = 0x10;
      local_9a = 7;
      local_9e = sVar6;
      FUN_WORLD__8012c6a8(&local_a0,(char)local_70,(char)uVar2 + -7,(undefined *)0x0,
                          (int)DAT_WORLD__801c9ea0,DAT_WORLD__8018df88,local_58,iVar9);
      iVar3 = iVar3 + 1;
      iVar4 = iVar3 * 0x10;
    } while (iVar3 < (int)local_98);
  }
  local_a0 = sVar1 + (short)local_88 + 5 + (short)iVar3 * 0x10;
  local_9c = 5;
  local_9a = 7;
  local_9e = sVar6;
  FUN_WORLD__8012c6a8(&local_a0,(char)local_68 + -5,(char)local_60 + -7,(undefined *)0x0,
                      (int)DAT_WORLD__801c9ea0,DAT_WORLD__8018df88,local_58,iVar9);
  return param_1 + (uint)*(byte *)(param_1 + 1);
}



int FUN_WORLD__80127620(int param_1)

{
  short sVar1;
  short sVar2;
  undefined2 clut;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  ushort uVar7;
  short local_78;
  short local_76;
  undefined2 local_74;
  undefined2 local_72;
  uint local_70;
  uint local_68;
  uint local_60;
  uint local_58;
  int local_50;
  undefined2 local_48;
  
  clut = DAT_WORLD__801cd1bc;
  local_50 = (int)DAT_WORLD__801c9e88;
  local_48 = DAT_WORLD__801cd1bc;
  if (*(char *)(param_1 + 2) == '\x02') {
    local_70 = (uint)DAT_WORLD__801c9eda;
    iVar3 = (int)DAT_WORLD__801c9ede;
    if (iVar3 < 0) {
      iVar3 = iVar3 + 0xf;
    }
    uVar6 = iVar3 >> 4;
    iVar5 = (int)DAT_WORLD__801c9ede;
    iVar3 = iVar5;
    if (iVar5 < 0) {
      iVar3 = iVar5 + 0xf;
    }
    local_60 = (iVar5 + (iVar3 >> 4) * -0x10) * 0x10000 >> 0x10;
    iVar3 = (int)DAT_WORLD__801c9ee0;
    if (iVar3 < 0) {
      iVar3 = iVar3 + 0xf;
    }
    local_68 = iVar3 >> 4;
    iVar5 = (int)DAT_WORLD__801c9ee0;
    iVar3 = iVar5;
    if (iVar5 < 0) {
      iVar3 = iVar5 + 0xf;
    }
    local_58 = (iVar5 + (iVar3 >> 4) * -0x10) * 0x10000 >> 0x10;
    uVar7 = DAT_WORLD__801c9edc;
  }
  else {
    local_70 = (uint)*(byte *)(param_1 + 3);
    uVar7 = (ushort)*(byte *)(param_1 + 4);
    uVar6 = (uint)(*(byte *)(param_1 + 5) >> 4);
    local_60 = *(byte *)(param_1 + 5) & 0xf;
    local_68 = (uint)(*(byte *)(param_1 + 6) >> 4);
    local_58 = *(byte *)(param_1 + 6) & 0xf;
  }
  iVar3 = 0;
  if (0 < (int)local_68) {
    sVar1 = (short)local_70;
    sVar2 = (short)local_60;
    do {
      local_78 = (short)local_70;
      local_76 = uVar7 + (short)iVar3 * 0x10;
      local_74 = (undefined2)local_60;
      local_72 = 0x10;
      FUN_WORLD__8012c6a8(&local_78,'\b','\b',(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                          DAT_WORLD__8018df88,clut,local_50);
      iVar5 = 0;
      if (0 < (int)uVar6) {
        iVar4 = 0;
        do {
          local_78 = sVar1 + sVar2 + (short)iVar4;
          local_74 = 0x10;
          local_72 = 0x10;
          local_76 = uVar7 + (short)iVar3 * 0x10;
          FUN_WORLD__8012c6a8(&local_78,'\b','\b',(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                              DAT_WORLD__8018df88,clut,local_50);
          iVar5 = iVar5 + 1;
          iVar4 = iVar5 * 0x10;
        } while (iVar5 < (int)uVar6);
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < (int)local_68);
  }
  if (local_58 != 0) {
    local_78 = (short)local_70;
    local_76 = uVar7 + (short)iVar3 * 0x10;
    local_74 = (undefined2)local_60;
    local_72 = (undefined2)local_58;
    FUN_WORLD__8012c6a8(&local_78,'\b','\b',(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                        DAT_WORLD__8018df88,local_48,local_50);
    iVar5 = 0;
    if (0 < (int)uVar6) {
      sVar1 = (short)local_70;
      sVar2 = (short)local_60;
      iVar4 = 0;
      do {
        local_78 = sVar1 + sVar2 + (short)iVar4;
        local_74 = 0x10;
        local_72 = (undefined2)local_58;
        local_76 = uVar7 + (short)iVar3 * 0x10;
        FUN_WORLD__8012c6a8(&local_78,'\b','\b',(undefined *)0x0,(int)DAT_WORLD__801c9ea0,
                            DAT_WORLD__8018df88,local_48,local_50);
        iVar5 = iVar5 + 1;
        iVar4 = iVar5 * 0x10;
      } while (iVar5 < (int)uVar6);
    }
  }
  return param_1 + (uint)*(byte *)(param_1 + 1);
}



char * FUN_WORLD__80127c34(char *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  bool bVar1;
  int iVar2;
  char cVar3;
  uint uVar4;
  ushort uVar5;
  undefined2 clut;
  int iVar6;
  undefined *RGB;
  uint uVar7;
  char local_58 [16];
  short local_48;
  ushort local_46;
  undefined2 local_44;
  undefined2 local_42;
  undefined2 local_40;
  undefined2 local_3e;
  undefined2 local_3c;
  undefined2 local_3a;
  short local_38;
  short local_36;
  undefined2 local_34;
  undefined2 local_32;
  
  if (DAT_WORLD__801c9e9c == 0) {
    uVar4 = (uint)(byte)param_1[9];
    uVar5 = (ushort)(byte)param_1[8];
  }
  else {
    uVar4 = DAT_WORLD__801cd54c + DAT_WORLD__8018df84;
    uVar5 = (DAT_WORLD__801c9e94 * (short)DAT_WORLD__8018df84 + (ushort)(byte)param_1[8]) -
            DAT_WORLD__8018df80;
    if (DAT_WORLD__8018df80 < 0) {
      uVar4 = uVar4 - 1;
      uVar5 = uVar5 - DAT_WORLD__801c9e94;
    }
  }
  if ((code *)(&DAT_WORLD__801cd794)[(byte)param_1[3]] != (code *)0x0) {
    uVar4 = (*(code *)(&DAT_WORLD__801cd794)[(byte)param_1[3]])();
  }
  bVar1 = (int)uVar4 < 0;
  if (bVar1) {
    uVar4 = -uVar4;
  }
  uVar7 = (uint)bVar1;
  if ((*param_1 == '\x1b') || (RGB = (undefined *)0x0, *param_1 == '\x19')) {
    RGB = &DAT_WORLD__801c9e84;
  }
  clut = DAT_WORLD__801cd1bc;
  if (param_1[6] != '\0') {
    clut = DAT_WORLD__801cd1f8;
  }
  if ((uVar4 & 0x40000000) != 0) {
    uVar4 = uVar4 & 0xbfffffff;
    clut = DAT_WORLD__801cd870;
  }
  if (param_1[2] == '\x01') {
    local_40 = 0x78;
    local_3e = 1;
    local_3c = 8;
    local_3a = 0xe;
  }
  else if (param_1[2] == '\0') {
    local_40 = 0x78;
    local_3e = 0x10;
    local_3c = 6;
    local_3a = 0xb;
  }
  else {
    local_40 = 0x20;
    local_3e = 0;
    local_3c = 10;
    local_3a = 0x10;
  }
  if ((uVar4 & 0x20000000) == 0) {
    iVar2 = sprintf(local_58,&DAT_WORLD__800e0094);
    uVar4 = ((uint)(byte)param_1[4] - iVar2) - uVar7;
    iVar6 = 0;
    iVar2 = 0;
    if (param_1[4] != '\0') {
      do {
        local_48 = (ushort)(byte)param_1[7] + (short)iVar2 * (ushort)(byte)param_1[5];
        local_46 = uVar5;
        local_44 = local_3c;
        local_42 = local_3a;
        if (uVar7 == 0) {
          if (*param_1 == '\x1a') {
            clut = DAT_WORLD__801cd1bc;
          }
          cVar3 = '\0';
          if ((uVar4 & 0xffff) == 0) {
            cVar3 = local_58[iVar6] + -0x30;
            iVar6 = iVar6 + 1;
          }
          else {
            uVar4 = uVar4 - 1;
            if (*param_1 == '\x19') goto LAB_WORLD__801280a4;
            if ((*param_1 == '\x1a') && (iVar2 < (int)((byte)param_1[4] - 1))) {
              clut = DAT_WORLD__801cd870;
            }
          }
          if ((byte)param_1[2] < 2) {
            FUN_WORLD__8012c6a8(&local_48,(char)local_40 + (char)local_3c * cVar3,(char)local_3e,RGB
                                ,(int)DAT_WORLD__801c9ea0,DAT_WORLD__8018df88,clut,
                                (int)DAT_WORLD__801c9e88);
          }
        }
        else {
          local_36 = uVar5 + 2;
          local_34 = 6;
          local_32 = 0xb;
          local_38 = local_48 + -6;
          if (*param_1 == '\x1a') {
            local_38 = 0xae;
          }
          FUN_WORLD__8012c6a8(&local_38,-0x46,'\x10',RGB,(int)DAT_WORLD__801c9ea0,
                              DAT_WORLD__8018df88,clut,(int)DAT_WORLD__801c9e88);
          uVar7 = 0;
        }
LAB_WORLD__801280a4:
        iVar2 = iVar2 + 1;
      } while (iVar2 < (int)(uint)(byte)param_1[4]);
    }
  }
  else {
    uVar4 = (uint)(byte)param_1[4];
    if (uVar4 != 0) {
      do {
        uVar4 = uVar4 - 1;
        local_48 = (ushort)(byte)param_1[7] + (short)uVar4 * (ushort)(byte)param_1[5];
        local_46 = uVar5 + 5;
        local_44 = 6;
        local_42 = 3;
        FUN_WORLD__8012c6a8(&local_48,-0x46,'\x13',RGB,(int)DAT_WORLD__801c9ea0,DAT_WORLD__8018df88,
                            clut,(int)DAT_WORLD__801c9e88);
      } while (0 < (int)uVar4);
    }
  }
  return param_1 + (byte)param_1[1];
}



void FUN_WORLD__801282dc(short *param_1,ushort *param_2,uint param_3)

{
  char cVar1;
  ushort uVar2;
  undefined2 clut;
  int iVar3;
  int iVar4;
  int iVar5;
  short sVar6;
  short local_28;
  short local_26;
  undefined2 local_24;
  undefined2 local_22;
  undefined2 clut_00;
  
  sVar6 = -((short)*param_2 >> 0xf);
  if ((param_3 == 0) && (sVar6 != 0)) {
    *param_2 = 0;
    sVar6 = 0;
  }
  if ((sVar6 == 0) && ((param_3 & 1) != 0)) {
    *param_2 = 0x8000;
    sVar6 = 1;
  }
  uVar2 = *param_2;
  iVar4 = FUN_WORLD__801263a8();
  iVar4 = (uVar2 & 0x7f) * iVar4;
  if (sVar6 == 0) {
    if (0x2e < iVar4) {
      iVar4 = 0;
    }
  }
  else if (0x24 < iVar4) {
    iVar4 = 0x24;
  }
  if (sVar6 == 0) {
    iVar5 = 0;
    if (DAT_WORLD__8018e064 < iVar4) {
      iVar3 = 2;
      do {
        iVar5 = iVar3;
        iVar3 = iVar5 + 2;
      } while ((&DAT_WORLD__8018e064)[iVar5] < iVar4);
    }
    cVar1 = (&DAT_WORLD__8018e065)[iVar5];
  }
  else {
    iVar5 = 0;
    if (DAT_WORLD__8018e070 < iVar4) {
      iVar3 = 2;
      do {
        iVar5 = iVar3;
        iVar3 = iVar5 + 2;
      } while ((&DAT_WORLD__8018e070)[iVar5] < iVar4);
    }
    cVar1 = (&DAT_WORLD__8018e071)[iVar5];
  }
  iVar5 = FUN_WORLD__801263a8();
  if (sVar6 == 0) {
    if (0x2e < iVar4 + iVar5) {
      *param_2 = 0;
      goto LAB_WORLD__8012847c;
    }
  }
  else if (0x24 < iVar4 + iVar5) goto LAB_WORLD__8012847c;
  *param_2 = *param_2 + 1;
LAB_WORLD__8012847c:
  clut = DAT_WORLD__8018df9a;
  clut_00 = DAT_WORLD__8018df9c;
  if (param_3 != 0) {
    clut = DAT_WORLD__8018df9e;
    clut_00 = DAT_WORLD__8018dfa0;
  }
  local_28 = (short)cVar1 + *param_1 + -2;
  local_26 = param_1[1];
  local_24 = 0x10;
  local_22 = 0x10;
  FUN_WORLD__8012c6a8(&local_28,-0x58,'\0',(undefined *)0x0,0,DAT_WORLD__8018df8a,clut,
                      (int)DAT_WORLD__801c9e88);
  local_28 = local_28 + 2;
  local_26 = local_26 + 2;
  FUN_WORLD__8012c6a8(&local_28,-0x48,'\0',(undefined *)0x0,1,0x5f,clut_00,(int)DAT_WORLD__801c9e88)
  ;
  return;
}



void FUN_WORLD__8012859c(short *param_1,ushort *param_2,uint param_3)

{
  char cVar1;
  ushort uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  short sVar6;
  undefined2 uVar7;
  
  sVar6 = -((short)*param_2 >> 0xf);
  if ((param_3 == 0) && (sVar6 != 0)) {
    *param_2 = 0;
    sVar6 = 0;
  }
  if ((sVar6 == 0) && ((param_3 & 1) != 0)) {
    *param_2 = 0x8000;
    sVar6 = 1;
  }
  uVar2 = *param_2;
  iVar4 = FUN_WORLD__801263a8();
  iVar4 = (uVar2 & 0x7f) * iVar4;
  if (sVar6 == 0) {
    if (0x2e < iVar4) {
      iVar4 = 0;
    }
  }
  else if (0x24 < iVar4) {
    iVar4 = 0x24;
  }
  if (sVar6 == 0) {
    iVar5 = 0;
    if (DAT_WORLD__8018e064 < iVar4) {
      iVar3 = 2;
      do {
        iVar5 = iVar3;
        iVar3 = iVar5 + 2;
      } while ((&DAT_WORLD__8018e064)[iVar5] < iVar4);
    }
    cVar1 = (&DAT_WORLD__8018e065)[iVar5];
  }
  else {
    iVar5 = 0;
    if (DAT_WORLD__8018e070 < iVar4) {
      iVar3 = 2;
      do {
        iVar5 = iVar3;
        iVar3 = iVar5 + 2;
      } while ((&DAT_WORLD__8018e070)[iVar5] < iVar4);
    }
    cVar1 = (&DAT_WORLD__8018e071)[iVar5];
  }
  iVar5 = FUN_WORLD__801263a8();
  if (sVar6 == 0) {
    if (0x2e < iVar4 + iVar5) {
      *param_2 = 0;
      goto LAB_WORLD__8012873c;
    }
  }
  else if (0x24 < iVar4 + iVar5) goto LAB_WORLD__8012873c;
  *param_2 = *param_2 + 1;
LAB_WORLD__8012873c:
  DAT_WORLD__8018e0a4 = DAT_WORLD__8018df9a;
  uVar7 = DAT_WORLD__8018df9c;
  if (param_3 != 0) {
    DAT_WORLD__8018e0a4 = DAT_WORLD__8018df9e;
    uVar7 = DAT_WORLD__8018dfa0;
  }
  DAT_WORLD__8018e084 = *param_1;
  DAT_WORLD__8018e086 = (short)cVar1 + param_1[1];
  DAT_WORLD__8018e088 = *param_1 + 0x10;
  DAT_WORLD__8018e08a = (short)cVar1 + param_1[1];
  DAT_WORLD__8018e08c = *param_1;
  sVar6 = cVar1 + 0x10;
  DAT_WORLD__8018e08e = param_1[1] + sVar6;
  DAT_WORLD__8018e090 = *param_1 + 0x10;
  DAT_WORLD__8018e092 = param_1[1] + sVar6;
  DAT_WORLD__8018e0a6 = DAT_WORLD__8018df8a;
  FUN_WORLD__8012ccd0(&DAT_WORLD__8018e084,(undefined *)0x0,0,(int)DAT_WORLD__801c9e88);
  DAT_WORLD__8018e084 = *param_1;
  DAT_WORLD__8018e086 = (short)cVar1 + param_1[1] + 2;
  DAT_WORLD__8018e088 = *param_1 + 0x10;
  DAT_WORLD__8018e08a = (short)cVar1 + param_1[1] + 2;
  DAT_WORLD__8018e08c = *param_1;
  DAT_WORLD__8018e08e = param_1[1] + sVar6 + 2;
  DAT_WORLD__8018e090 = *param_1 + 0x10;
  DAT_WORLD__8018e092 = param_1[1] + sVar6 + 2;
  DAT_WORLD__8018e0a6 = 0x5f;
  DAT_WORLD__8018e0a4 = uVar7;
  FUN_WORLD__8012ccd0(&DAT_WORLD__8018e084,(undefined *)0x0,1,(int)DAT_WORLD__801c9e88);
  return;
}



void FUN_WORLD__80129874(undefined *param_1)

{
  if (param_1 != (undefined *)0x0) {
    DAT_WORLD__801c9e84 = *param_1;
    DAT_WORLD__801c9e85 = param_1[1];
    DAT_WORLD__801c9e86 = param_1[2];
  }
  return;
}



// Possible VM_DEBUG.OBJ/SpuVmCheck

void FUN_WORLD__801298b0(undefined2 param_1)

{
  DAT_WORLD__801c9e88 = param_1;
  return;
}



void FUN_WORLD__801298c0(int param_1)

{
  DAT_WORLD__801c9ec8 = (char)param_1;
  if (param_1 == 0) {
    DAT_WORLD__801c9e84 = 0x80;
    DAT_WORLD__801c9e85 = 0x80;
    DAT_WORLD__801cd5d8 = DAT_WORLD__8018dfb2;
    DAT_WORLD__801cd1f8 = DAT_WORLD__8018df92;
    DAT_WORLD__801cd1bc = DAT_WORLD__8018df8c;
    DAT_WORLD__801cd870 = DAT_WORLD__8018df94;
    DAT_WORLD__801cd5e4 = DAT_WORLD__8018df9a;
    DAT_WORLD__801cd6f4 = DAT_WORLD__8018df9c;
  }
  else {
    DAT_WORLD__801c9e84 = 0x60;
    DAT_WORLD__801c9e85 = 0x60;
    DAT_WORLD__801cd5d8 = DAT_WORLD__8018dfb0;
    DAT_WORLD__801cd1f8 = DAT_WORLD__8018df90;
    DAT_WORLD__801cd1bc = DAT_WORLD__8018df8e;
    DAT_WORLD__801cd870 = DAT_WORLD__8018df96;
    DAT_WORLD__801cd5e4 = DAT_WORLD__8018df9e;
    DAT_WORLD__801cd6f4 = DAT_WORLD__8018dfa0;
  }
  DAT_WORLD__801c9e86 = 0x80;
  return;
}



int FUN_WORLD__80129b24(void)

{
  return (int)DAT_WORLD__8018e028;
}



undefined1 * FUN_WORLD__80129b6c(void)

{
  return &DAT_WORLD__801c9e84;
}



undefined FUN_WORLD__80129e4c(int param_1,int param_2,ushort *param_3,int param_4)

{
  uint uVar1;
  byte bVar2;
  byte *pbVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  FUN_WORLD__8012b1b4(DAT_WORLD__801cd66c + param_1 * 0x23);
  iVar6 = 0;
  if ((*param_3 & 1) == 0) {
    do {
      iVar4 = 0;
      pbVar3 = (byte *)(param_2 + (short)param_3[2] * 2 * ((short)param_3[1] + iVar6) +
                       ((int)((uint)*param_3 << 0x10) >> 0x11));
      do {
        uVar1 = FUN_WORLD__8012b1ec(2);
        bVar2 = (byte)uVar1;
        if ((uVar1 & 0xff) != 0) {
          bVar2 = bVar2 + (char)(param_4 * 4);
        }
        uVar1 = FUN_WORLD__8012b1ec(2);
        iVar4 = iVar4 + 1;
        if ((uVar1 & 0xff) != 0) {
          uVar1 = uVar1 + param_4 * 4;
        }
        *pbVar3 = bVar2 | (byte)(uVar1 << 4);
        pbVar3 = pbVar3 + 1;
      } while (iVar4 < 5);
      iVar6 = iVar6 + 1;
    } while (iVar6 < 0xe);
  }
  else {
    iVar4 = param_4 * 4;
    do {
      pbVar3 = (byte *)(param_2 + (short)param_3[2] * 2 * ((short)param_3[1] + iVar6) +
                       ((int)((uint)*param_3 << 0x10) >> 0x11));
      uVar1 = FUN_WORLD__8012b1ec(2);
      iVar5 = 0;
      if ((uVar1 & 0xff) != 0) {
        uVar1 = uVar1 + iVar4;
      }
      *pbVar3 = *pbVar3 & 0xf | (byte)(uVar1 << 4);
      pbVar3 = pbVar3 + 1;
      do {
        uVar1 = FUN_WORLD__8012b1ec(2);
        bVar2 = (byte)uVar1;
        if ((uVar1 & 0xff) != 0) {
          bVar2 = bVar2 + (char)iVar4;
        }
        uVar1 = FUN_WORLD__8012b1ec(2);
        iVar5 = iVar5 + 1;
        if ((uVar1 & 0xff) != 0) {
          uVar1 = uVar1 + iVar4;
        }
        *pbVar3 = bVar2 | (byte)(uVar1 << 4);
        pbVar3 = pbVar3 + 1;
      } while (iVar5 < 4);
      uVar1 = FUN_WORLD__8012b1ec(2);
      bVar2 = (byte)uVar1;
      iVar6 = iVar6 + 1;
      if ((uVar1 & 0xff) != 0) {
        bVar2 = bVar2 + (char)iVar4;
      }
      *pbVar3 = bVar2;
    } while (iVar6 < 0xe);
  }
  return (&DAT_WORLD__801533e0)[param_1];
}



byte * FUN_WORLD__8012a08c(byte *param_1,short param_2)

{
  byte bVar1;
  byte *pbVar2;
  
  pbVar2 = param_1;
  if (param_2 != 0) {
    do {
      bVar1 = *pbVar2;
      param_1 = pbVar2 + 1;
      if (0xcf < bVar1) {
        if (bVar1 < 0xe0) {
          param_1 = pbVar2 + 2;
        }
        else if (0xfd < bVar1) {
          param_2 = param_2 + -1;
        }
      }
      pbVar2 = param_1;
    } while (param_2 != 0);
  }
  return param_1;
}



void FUN_WORLD__8012a0e8(int param_1,ushort *param_2,undefined4 param_3,int param_4,byte *param_5,
                        ushort *param_6,int param_7,int param_8)

{
  byte bVar1;
  short sVar2;
  byte *pbVar3;
  uint uVar4;
  byte *pbVar5;
  short sVar6;
  uint uVar7;
  int unaff_s5;
  ushort local_40;
  short local_3e;
  ushort local_3c;
  int local_38;
  int local_30;
  
  local_3c = param_2[2];
  sVar6 = 0;
  if (*param_6 != 0xffff) {
    local_30 = param_8 << 0x10;
    local_38 = param_4;
    do {
      if (param_7 == 0) {
        return;
      }
      local_40 = *param_2;
      local_3e = param_2[1] + sVar6 * param_2[3];
      uVar7 = 0;
      if ((*param_6 & 0x2000) == 0) {
        pbVar3 = FUN_WORLD__8012a08c(param_5,*param_6 & 0xfff);
        bVar1 = *pbVar3;
        while (uVar4 = (uint)bVar1, uVar4 < 0xfe) {
          pbVar5 = pbVar3 + 1;
          if ((uVar4 == 0xf8) || (local_38 <= unaff_s5)) {
            local_40 = *param_2;
            sVar6 = sVar6 + 1;
            local_3e = param_2[1] + sVar6 * param_2[3];
          }
          if (uVar4 < 0xe0) {
            if (0xcf < uVar4) {
              bVar1 = *pbVar5;
              pbVar5 = pbVar3 + 2;
              uVar4 = (uVar4 & 0xf) * 0xd0 + (uint)bVar1;
            }
            sVar2 = FUN_WORLD__80129e4c(uVar4,param_1,&local_40,
                                        (int)((uint)*param_6 << 0x10) >> 0x1e | uVar7);
            local_40 = local_40 + sVar2;
          }
          else if (uVar4 == 0xfa) {
            local_40 = local_40 + 4;
          }
          else if (uVar4 == 0xe7) {
            bVar1 = *pbVar5;
            pbVar5 = pbVar3 + 2;
            local_40 = (ushort)bVar1 + *param_2;
          }
          else if (uVar4 == 0xe3) {
            bVar1 = *pbVar5;
            pbVar5 = pbVar3 + 2;
            uVar7 = (uint)(bVar1 >> 2);
          }
          pbVar3 = pbVar5;
          bVar1 = *pbVar5;
        }
      }
      else {
        unaff_s5 = 0;
        do {
          sVar2 = FUN_WORLD__80129e4c(local_30 >> 0x10,param_1,&local_40,
                                      (int)((uint)*param_6 << 0x10) >> 0x1e);
          unaff_s5 = unaff_s5 + 1;
          local_40 = local_40 + sVar2;
        } while (unaff_s5 < 8);
      }
      sVar6 = sVar6 + 1;
      param_6 = param_6 + 1;
      param_7 = param_7 + -1;
    } while (*param_6 != 0xffff);
  }
  return;
}



void FUN_WORLD__8012a598(int param_1)

{
  ParseThreadParamWORLD(param_1,0,0,1);
  return;
}



void FUN_WORLD__8012a5c0(byte *param_1,ushort *param_2,short *param_3)

{
  ushort uVar1;
  ushort local_40;
  undefined2 local_3e;
  short local_3c;
  undefined2 local_3a;
  RECT local_38;
  ushort local_30;
  undefined2 local_2e;
  
  local_40 = 0;
  local_3e = 0;
  local_3c = param_3[2];
  local_3a = 0x10;
  local_38.x = *param_3;
  local_38.y = param_3[1];
  local_38.w = param_3[2];
  local_38.h = 0x10;
  local_30 = *param_2;
  uVar1 = *param_2;
  while (uVar1 != 0xffff) {
    local_2e = 0xffff;
    memset(&DAT_WORLD__801c9ee8,'\0',0x800);
    FUN_WORLD__8012a0e8((int)&DAT_WORLD__801c9ee8,&local_40,10,100,param_1,&local_30,100,0xe7);
    FUN_WORLD__8012d6dc(&local_38,&DAT_WORLD__801c9ee8);
    param_2 = param_2 + 1;
    local_38.y = local_38.y + 0x10;
    local_30 = *param_2;
    uVar1 = *param_2;
  }
  return;
}



void FUN_WORLD__8012aaf4(int param_1)

{
  FUN_WORLD__8012a598(param_1);
  DAT_WORLD__8018e430 = 0;
  return;
}



void FUN_WORLD__8012ab1c(int param_1)

{
  int iVar1;
  undefined auStack_10 [8];
  
  while (iVar1 = Check_Thread_Status_WORLD(param_1), iVar1 != 0) {
    FUN_WORLD__8012a598(param_1);
    FUN_WORLD__801128e0(auStack_10,0,0);
  }
  DAT_WORLD__8018e430 = 0;
  return;
}



int FUN_WORLD__8012ab78(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  if (DAT_WORLD__8018e430 == 0) {
    iVar1 = Check_Thread_Status_WORLD(param_1);
    iVar2 = 1;
    if (iVar1 == 0) {
      DAT_WORLD__801cd7e0 = param_2;
      Initialize_Thread_WORLD(param_1,*(undefined4 *)(param_2 + 0x28));
      ParseThreadParamWORLD(param_1,DAT_WORLD__801cd7e0,0,0);
      DAT_WORLD__8018e430 = 1;
      iVar2 = 1;
    }
  }
  else {
    iVar2 = Check_Thread_Status_WORLD(param_1);
    DAT_WORLD__8018e430 = iVar2;
  }
  return iVar2;
}



void FUN_WORLD__8012ac44(int param_1,int param_2)

{
  int iVar1;
  undefined auStack_18 [8];
  
  if (DAT_WORLD__8018e430 == 0) {
    iVar1 = 0;
    FUN_WORLD__8012ab1c(param_1);
    DAT_WORLD__801cd7e0 = param_2;
    Initialize_Thread_WORLD(param_1,*(undefined4 *)(param_2 + 0x28));
    ParseThreadParamWORLD(param_1,DAT_WORLD__801cd7e0,0,0);
    do {
      FUN_WORLD__801128e0(auStack_18,0,0);
      iVar1 = iVar1 + 1;
    } while (iVar1 < 0x14);
    DAT_WORLD__8018e430 = 1;
  }
  else {
    DAT_WORLD__8018e430 = Check_Thread_Status_WORLD(param_1);
  }
  return;
}



void FUN_WORLD__8012acf4(int param_1)

{
  if (DAT_WORLD__801cd754 < 0x20000) {
    if (0 < DAT_WORLD__801cd754) {
      Initialize_Thread_WORLD(1,&DAT_WORLD__800e4d9c);
      ParseThreadParamWORLD(1,param_1 + 0x38,DAT_WORLD__801cd754,0);
      DAT_WORLD__8015330c = 1;
    }
  }
  else {
    DAT_WORLD__801cd750 = DAT_WORLD__801cd754;
  }
  return;
}



void FUN_WORLD__8012ad7c(short param_1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  short local_18;
  short local_16;
  
  if (DAT_WORLD__8018e436 == '\0') {
    DAT_WORLD__8018e230 = 0x7800;
    if (param_1 == 0) {
      DAT_WORLD__8018e230 = 0x9800;
    }
    DAT_WORLD__8018bacc = 1;
    DAT_WORLD__8018e436 = '\x01';
    DAT_WORLD__801ca6ec = 0;
    DAT_WORLD__8018e240 = DAT_WORLD__8018e230;
    if (DAT_WORLD__801cd750 == 0x20000) {
      DAT_WORLD__801ca6e8 = &DAT_WORLD__8018e2ac;
    }
    else if (DAT_WORLD__801cd750 == 0x20001) {
      DAT_WORLD__801ca6e8 = (undefined4 *)&DAT_WORLD__8018e36c;
    }
    else {
      DAT_WORLD__801ca6e8 = (undefined4 *)&DAT_WORLD__8018e0bc;
    }
  }
  uVar1 = Check_Thread_Status_WORLD(1);
  iVar2 = DAT_WORLD__801cd750;
  if (uVar1 == 0) {
    uVar3 = (uint)DAT_WORLD__801ca6ec;
    if ((DAT_WORLD__801cd22c & 0x40) == 0) {
      if ((DAT_WORLD__801cd22c & 0x20) == 0) {
        if ((DAT_WORLD__801cd22c & 0x1000) == 0) {
          if ((DAT_WORLD__801cd22c & 0x4000) == 0) {
            if ((DAT_WORLD__801cd22c & 0x2000) == 0) {
              if ((DAT_WORLD__801cd22c & 0x8000) != 0) {
                uVar3 = (uint)*(byte *)((int)DAT_WORLD__801ca6e8 + uVar3 * 0x10 + 9);
              }
            }
            else {
              uVar3 = (uint)*(byte *)(DAT_WORLD__801ca6e8 + uVar3 * 4 + 2);
            }
          }
          else {
            uVar3 = (uint)*(byte *)((int)DAT_WORLD__801ca6e8 + uVar3 * 0x10 + 7);
          }
        }
        else {
          uVar3 = (uint)*(byte *)((int)DAT_WORLD__801ca6e8 + uVar3 * 0x10 + 6);
        }
      }
      else {
        iVar2 = 0;
        if ((short *)DAT_WORLD__801ca6e8[uVar3 * 4] != (short *)0x0) {
          iVar2 = (int)*(short *)DAT_WORLD__801ca6e8[uVar3 * 4];
        }
        if ((9 < DAT_WORLD__801ca6ec - 0x12) || (iVar2 != 0)) {
          DAT_WORLD__801cd754 =
               iVar2 + (uint)*(ushort *)(DAT_WORLD__801ca6e8 + (uint)DAT_WORLD__801ca6ec * 4 + 1);
          FUN_WORLD__8012acf4(3);
        }
      }
    }
    else {
      DAT_WORLD__801cd750 = 0;
      DAT_WORLD__8018bacc = 2;
      DAT_WORLD__8018e436 = '\0';
      DAT_WORLD__801cd754 = iVar2;
    }
    if (DAT_WORLD__801cd750 == 0x20003) {
      if ((DAT_WORLD__801ca6ec == 6) && (uVar3 == 7)) {
        uVar3 = 8;
      }
      if ((DAT_WORLD__801ca6ec == 8) && (uVar3 == 7)) {
        uVar3 = 6;
      }
    }
    if (uVar3 != DAT_WORLD__801ca6ec) {
      DAT_WORLD__8018bacc = 3;
      DAT_WORLD__801ca6ec = (byte)uVar3;
    }
  }
  local_18 = *(short *)((int)DAT_WORLD__801ca6e8 + (uint)DAT_WORLD__801ca6ec * 0x10 + 10);
  local_16 = *(short *)(DAT_WORLD__801ca6e8 + (uint)DAT_WORLD__801ca6ec * 4 + 3);
  FUN_WORLD__801298b0(0x3c);
  if (*(short *)((int)DAT_WORLD__801ca6e8 + (uint)DAT_WORLD__801ca6ec * 0x10 + 0xe) == 0) {
    local_18 = local_18 + -2;
    local_16 = local_16 + 6;
    FUN_WORLD__801282dc(&local_18,(ushort *)&DAT_WORLD__8018e434,uVar1);
  }
  else {
    local_16 = local_16 + 1;
    FUN_WORLD__8012859c(&local_18,(ushort *)&DAT_WORLD__8018e434,uVar1);
  }
  return;
}



undefined4 FUN_WORLD__8012b0e8(undefined2 param_1,char param_2)

{
  int iVar1;
  undefined4 uVar2;
  
  if (DAT_WORLD__8018e478 == '\0') {
    DAT_WORLD__8018e458 = param_1;
    DAT_WORLD__8018e478 = param_2;
    Initialize_Thread_WORLD(6,PTR_DAT_WORLD__800eee98_WORLD__8018e464);
    ParseThreadParamWORLD(6,&DAT_WORLD__8018e43c,0,0);
    DAT_WORLD__8018e0b2 = 1;
  }
  if (DAT_WORLD__8018e478 == '\x01') {
    FUN_WORLD__8012a598(6);
    iVar1 = Check_Thread_Status_WORLD(6);
    uVar2 = 1;
    if (iVar1 == 0) {
      DAT_WORLD__8018e0b2 = 0;
      DAT_WORLD__8018e478 = '\0';
      uVar2 = 0;
    }
  }
  else {
    DAT_WORLD__8018e478 = DAT_WORLD__8018e478 + -1;
    uVar2 = 1;
  }
  return uVar2;
}



void FUN_WORLD__8012b1b4(undefined4 param_1)

{
  DAT_WORLD__8018e47c = 1;
  DAT_WORLD__801ca6f0 = param_1;
  return;
}



void FUN_WORLD__8012b1d0(undefined4 param_1)

{
  DAT_WORLD__8018e47d = 1;
  DAT_WORLD__801ca6f4 = param_1;
  return;
}



uint FUN_WORLD__8012b1ec(int param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar1 = 0;
  if (param_1 != 0) {
    uVar1 = 0;
    if (DAT_WORLD__8018e47c != '\0') {
      DAT_WORLD__8018e480 = 7;
      DAT_WORLD__8018e47c = '\0';
    }
    uVar2 = param_1 - 1;
    while (uVar2 != 0xffffffff) {
      uVar3 = DAT_WORLD__8018e480 - 1;
      if (((int)(uint)*DAT_WORLD__801ca6f0 >> (DAT_WORLD__8018e480 & 0x1f) & 1U) != 0) {
        uVar1 = uVar1 | 1 << (uVar2 & 0x1f);
      }
      uVar2 = uVar2 - 1;
      DAT_WORLD__8018e480 = uVar3;
      if ((int)uVar3 < 0) {
        DAT_WORLD__801ca6f0 = DAT_WORLD__801ca6f0 + 1;
        DAT_WORLD__8018e480 = 7;
      }
    }
  }
  return uVar1;
}



void FUN_WORLD__8012b298(char param_1)

{
  byte bVar1;
  
  if (DAT_WORLD__8018e47c != '\0') {
    DAT_WORLD__8018e484 = 7;
    DAT_WORLD__8018e47c = '\0';
  }
  bVar1 = (byte)(1 << (DAT_WORLD__8018e484 & 0x1f));
  DAT_WORLD__8018e484 = DAT_WORLD__8018e484 - 1;
  *DAT_WORLD__801ca6f0 = *DAT_WORLD__801ca6f0 & ~bVar1;
  if (param_1 != '\0') {
    *DAT_WORLD__801ca6f0 = bVar1 | *DAT_WORLD__801ca6f0;
  }
  if ((int)DAT_WORLD__8018e484 < 0) {
    DAT_WORLD__8018e484 = 7;
    DAT_WORLD__801ca6f0 = DAT_WORLD__801ca6f0 + 1;
  }
  return;
}



uint FUN_WORLD__8012b354(int param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar1 = 0;
  if (param_1 != 0) {
    uVar1 = 0;
    if (DAT_WORLD__8018e47d != '\0') {
      DAT_WORLD__8018e488 = 7;
      DAT_WORLD__8018e47d = '\0';
    }
    uVar2 = param_1 - 1;
    while (uVar2 != 0xffffffff) {
      uVar3 = DAT_WORLD__8018e488 - 1;
      if (((int)(uint)*DAT_WORLD__801ca6f4 >> (DAT_WORLD__8018e488 & 0x1f) & 1U) != 0) {
        uVar1 = uVar1 | 1 << (uVar2 & 0x1f);
      }
      uVar2 = uVar2 - 1;
      DAT_WORLD__8018e488 = uVar3;
      if ((int)uVar3 < 0) {
        DAT_WORLD__801ca6f4 = DAT_WORLD__801ca6f4 + 1;
        DAT_WORLD__8018e488 = 7;
      }
    }
  }
  return uVar1;
}



void FUN_WORLD__8012b400(void)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  uint *puVar10;
  uint uVar11;
  
  uVar2 = FUN_WORLD__801263a8();
  uVar11 = DAT_800473a1 / uVar2;
  uVar3 = (uint)DAT_800473a2;
  uVar4 = (uint)DAT_800473a3;
  uVar5 = FUN_WORLD__8012bd14();
  if ((uVar5 & 0x10) != 0) {
    if (DAT_WORLD__8018e491 != '\0') {
      FUN_WORLD__8012bd7c();
      DAT_WORLD__801cd22c = DAT_WORLD__801cd52c;
      DAT_WORLD__801cd530 = DAT_WORLD__801cd668;
      return;
    }
    DAT_WORLD__8018e491 = 1;
    DAT_WORLD__801cd22c = 0x10;
    DAT_WORLD__801cd52c = 0x10;
    DAT_WORLD__801cd530 = 0x10;
    DAT_WORLD__801cd668 = 0x10;
    DAT_WORLD__801cd838 = 0x10;
    return;
  }
  DAT_WORLD__8018e491 = 0;
  uVar6 = uVar5 & DAT_WORLD__8018e48e;
  if (uVar6 == 0) {
    uVar6 = uVar5;
    if (uVar5 == 0) {
      DAT_WORLD__8018e48e = 0;
      DAT_WORLD__8018e490 = DAT_WORLD__8018e490 + (char)uVar2;
    }
    else {
      if (DAT_WORLD__8018e490 < 4) {
        if ((uVar5 & 0xf000) != 0) {
          DAT_WORLD__8018e490 = 10;
          uVar6 = uVar5 & 0xf000;
        }
        if (DAT_WORLD__8018e490 < 4) {
          uVar6 = 0;
          DAT_WORLD__8018e48e = 0;
          goto LAB_WORLD__8012b5b8;
        }
      }
      DAT_WORLD__8018e490 = 0;
      uVar5 = 0;
      iVar7 = 1;
      do {
        uVar8 = uVar6 & (int)(short)(ushort)iVar7;
        uVar5 = uVar5 + 1;
        if (uVar8 != 0) {
          uVar6 = uVar8;
          DAT_WORLD__8018e48e = (ushort)iVar7;
        }
        iVar7 = 1 << (uVar5 & 0x1f);
      } while ((int)uVar5 < 0x10);
    }
  }
LAB_WORLD__8012b5b8:
  if (9 < DAT_WORLD__8018e490) {
    DAT_WORLD__8018e490 = 10;
  }
  DAT_WORLD__801cd838 = (ushort)uVar6;
  uVar5 = 0;
  do {
    uVar8 = 1 << (uVar5 & 0x1f);
    uVar1 = (ushort)uVar8;
    if ((uVar8 & DAT_WORLD__801cd838) == 0) {
      DAT_WORLD__801ca738 = DAT_WORLD__801ca738 & ~uVar1;
    }
    else if ((uVar8 & DAT_WORLD__801ca738) == 0) {
      DAT_WORLD__801ca738 = DAT_WORLD__801ca738 | uVar1;
    }
    else {
      DAT_WORLD__801cd838 = DAT_WORLD__801cd838 & ~uVar1;
    }
    uVar5 = uVar5 + 1;
  } while ((int)uVar5 < 0x10);
  uVar8 = 0;
  puVar10 = (uint *)0x801ca6f8;
  uVar5 = uVar6;
  do {
    uVar9 = uVar8 & 0x1f;
    if (uVar8 == 4) {
      puVar10 = &DAT_WORLD__801ca728;
      uVar8 = 0xc;
      uVar9 = 0xc;
    }
    if ((uVar6 & 1 << uVar9) == 0) {
      *puVar10 = 0;
    }
    else {
      *puVar10 = *puVar10 + 1;
    }
    uVar9 = *puVar10;
    if ((uVar9 < uVar11) || (uVar9 % (uVar3 / uVar2) == 0)) {
      if ((int)uVar9 < 2) goto LAB_WORLD__8012b6f0;
      if (uVar9 < uVar11) goto LAB_WORLD__8012b6e8;
LAB_WORLD__8012b704:
      uVar9 = *puVar10;
      uVar6 = uVar6 | 1 << (uVar8 + 0x10 & 0x1f);
      if (uVar9 < uVar11) goto LAB_WORLD__8012b740;
      if (uVar9 % (uVar4 / uVar2 + 2) == 0) goto LAB_WORLD__8012b734;
LAB_WORLD__8012b754:
      uVar5 = uVar5 & ~(1 << (uVar8 & 0x1f));
    }
    else {
LAB_WORLD__8012b6e8:
      uVar6 = uVar6 & ~(1 << (uVar8 & 0x1f));
LAB_WORLD__8012b6f0:
      if (uVar11 <= *puVar10) goto LAB_WORLD__8012b704;
LAB_WORLD__8012b734:
      uVar9 = *puVar10;
LAB_WORLD__8012b740:
      if ((1 < (int)uVar9) && (uVar9 < uVar11 << 1)) goto LAB_WORLD__8012b754;
    }
    uVar8 = uVar8 + 1;
    puVar10 = puVar10 + 1;
    if (0xf < (int)uVar8) {
      DAT_WORLD__801cd52c = uVar6 & 0xf00ff00f | DAT_WORLD__801cd838 & 0xff0;
      DAT_WORLD__801cd668 = uVar5 & 0xf00ff00f | DAT_WORLD__801cd838 & 0xff0;
      DAT_WORLD__801cd22c = DAT_WORLD__801cd52c;
      DAT_WORLD__801cd530 = DAT_WORLD__801cd668;
      return;
    }
  } while( true );
}



void FUN_WORLD__8012b7e0(void)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0;
  FUN_WORLD__8012b400();
  iVar2 = FUN_WORLD__80129b24();
  if (2 < iVar2 - 1U) {
    iVar3 = Check_Thread_Status_WORLD(1);
    if ((iVar3 != 0) || (DAT_WORLD__801cd750 != 0)) {
      FUN_WORLD__8012bd7c();
      if ((iVar3 == 0) || (DAT_WORLD__8015330c == 0)) {
        DAT_WORLD__8018e492 = '\0';
      }
      else {
        bVar1 = DAT_WORLD__8018e492 != '\0';
        DAT_WORLD__8018e492 = '\x01';
        if (bVar1) {
          DAT_WORLD__8018e492 = '\x02';
        }
      }
      goto LAB_WORLD__8012b8c4;
    }
    if ((DAT_WORLD__8018e492 == '\0') && (iVar2 = FUN_WORLD__8012d418(), iVar2 == 0))
    goto LAB_WORLD__8012b8c4;
    DAT_WORLD__8018e492 = '\0';
  }
  FUN_WORLD__8012bd7c();
LAB_WORLD__8012b8c4:
  if (iVar3 == 0) {
    DAT_WORLD__8015330c = 0;
    DAT_WORLD__8018bacd = 0;
  }
  if (DAT_WORLD__8018e492 == '\x01') {
    DAT_WORLD__8018bacc = 0x12;
  }
  return;
}



void FUN_WORLD__8012b90c(void)

{
  undefined2 *puVar1;
  int iVar2;
  
  iVar2 = 0xf;
  puVar1 = &DAT_WORLD__801ca75a;
  do {
    *puVar1 = 0;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  return;
}



int FUN_WORLD__8012bb88(int param_1,int param_2,int param_3,int param_4,uint param_5)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  if ((param_5 & 0x1000) == 0) {
    iVar3 = param_4;
    if ((param_5 & 0x4000) != 0) {
      iVar3 = param_4 + param_1;
      iVar2 = param_4 % param_1;
      if ((param_4 / param_1 == param_3 / param_1) || (iVar2 = param_3, param_3 < iVar3)) {
        iVar3 = iVar2;
      }
    }
  }
  else {
    iVar3 = param_4 - param_1;
    if ((iVar3 < 0) && (iVar3 = iVar3 + param_1 * param_2, param_3 < iVar3)) {
      iVar3 = iVar3 - param_1;
      do {
        bVar1 = param_3 < iVar3;
        iVar3 = iVar3 - param_1;
      } while (bVar1);
      iVar3 = iVar3 + param_1;
    }
  }
  iVar2 = iVar3 + 1;
  if ((param_5 & 0x2000) == 0) {
    if ((param_5 & 0x8000) == 0) {
      if ((param_5 & 8) == 0) {
        iVar2 = iVar3;
        if (((param_5 & 4) != 0) && (iVar2 = iVar3 + -1, iVar3 + -1 < 0)) {
          iVar2 = param_3;
        }
      }
      else {
        iVar2 = iVar3 + 1;
        if (param_3 < iVar3 + 1) {
          iVar2 = 0;
        }
      }
    }
    else {
      if (iVar3 % param_1 == 0) {
        iVar3 = iVar3 + param_1;
      }
      iVar2 = iVar3 + -1;
      if (param_3 < iVar3 + -1) {
        iVar2 = param_3;
      }
    }
  }
  else if ((iVar2 % param_1 == 0) || (param_3 < iVar2)) {
    iVar2 = param_1 * (iVar3 / param_1);
  }
  if (iVar2 != param_4) {
    DAT_WORLD__8018bacc = 3;
  }
  return iVar2;
}



uint FUN_WORLD__8012bd14(void)

{
  u_long uVar1;
  
  if (DAT_WORLD__8018e48c == '\0') {
    uVar1 = PadRead(0);
  }
  else {
    uVar1 = (u_long)DAT_WORLD__801cd810;
  }
  if (uVar1 == 0x90c) {
    FUN_WORLD__801325d4();
    FUN_WORLD__8012bd9c();
  }
  return uVar1;
}



void FUN_WORLD__8012bd7c(void)

{
  DAT_WORLD__801cd838 = 0;
  DAT_WORLD__801cd668 = 0;
  DAT_WORLD__801cd52c = 0;
  return;
}



// Possible GS_106.OBJ/GsSetProjection
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible SCNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit

void FUN_WORLD__8012bd9c(void)

{
  MidState_QuitSound_GetStack();
  return;
}



void FUN_WORLD__8012bdbc(short *param_1,undefined *param_2,uint param_3,int param_4)

{
  int *piVar1;
  uint uVar2;
  uint *p;
  uint *puVar3;
  
  uVar2 = (uint)DAT_WORLD__801cd514;
  DAT_WORLD__801cd514 = DAT_WORLD__801cd514 + 1;
  p = (uint *)(uVar2 * 0x10 + DAT_WORLD__801cd528[0xf]);
  *(undefined *)(p + 1) = *param_2;
  *(undefined *)((int)p + 5) = param_2[1];
  *(undefined *)((int)p + 6) = param_2[2];
  SetSemiTrans(p,param_3 & 0xff);
  piVar1 = DAT_WORLD__801cd528;
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 3) = param_1[2];
  *(short *)((int)p + 0xe) = param_1[3];
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_4 * 4 + *piVar1) & 0xffffff;
  puVar3 = (uint *)(param_4 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_WORLD__8012c014(short *param_1,undefined *param_2,int param_3,int param_4)

{
  int *piVar1;
  uint uVar2;
  uint *p;
  uint *puVar3;
  
  uVar2 = (uint)DAT_WORLD__801cd864;
  DAT_WORLD__801cd864 = DAT_WORLD__801cd864 + 1;
  p = (uint *)(uVar2 * 0x24 + DAT_WORLD__801cd528[7]);
  SetSemiTrans(p,param_3);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 4) = param_1[2] + 0x80;
  *(short *)((int)p + 0x12) = param_1[3];
  *(short *)(p + 6) = param_1[4] + 0x80;
  *(short *)((int)p + 0x1a) = param_1[5];
  *(short *)(p + 8) = param_1[6] + 0x80;
  *(short *)((int)p + 0x22) = param_1[7];
  *(undefined *)(p + 1) = *param_2;
  *(undefined *)((int)p + 5) = param_2[1];
  *(undefined *)((int)p + 6) = param_2[2];
  *(undefined *)(p + 3) = param_2[3];
  *(undefined *)((int)p + 0xd) = param_2[4];
  *(undefined *)((int)p + 0xe) = param_2[5];
  *(undefined *)(p + 5) = param_2[6];
  *(undefined *)((int)p + 0x15) = param_2[7];
  *(undefined *)((int)p + 0x16) = param_2[8];
  *(undefined *)(p + 7) = param_2[9];
  *(undefined *)((int)p + 0x1d) = param_2[10];
  *(undefined *)((int)p + 0x1e) = param_2[0xb];
  piVar1 = DAT_WORLD__801cd528;
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_4 * 4 + *DAT_WORLD__801cd528) & 0xffffff;
  puVar3 = (uint *)(param_4 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_WORLD__8012c430(byte *param_1,undefined *param_2,int param_3,undefined2 param_4,
                        undefined2 param_5,int param_6,int param_7)

{
  byte bVar1;
  byte bVar2;
  int *piVar3;
  uint uVar4;
  uint *puVar5;
  uint *p;
  byte *pbVar6;
  int iVar7;
  
  iVar7 = param_7 + -1;
  if (-1 < iVar7) {
    pbVar6 = param_1 + 3;
    do {
      uVar4 = (uint)DAT_WORLD__801cd1cc;
      DAT_WORLD__801cd1cc = DAT_WORLD__801cd1cc + 1;
      p = (uint *)(uVar4 * 0x28 + DAT_WORLD__801cd528[4]);
      if (param_2 == (undefined *)0x0) {
        SetShadeTex(p,1);
      }
      else {
        SetShadeTex(p,0);
        *(undefined *)(p + 1) = *param_2;
        *(undefined *)((int)p + 5) = param_2[1];
        *(undefined *)((int)p + 6) = param_2[2];
      }
      SetSemiTrans(p,param_3);
      *(ushort *)(p + 2) = *param_1 + 0x80;
      *(ushort *)((int)p + 10) = (ushort)pbVar6[-2];
      *(ushort *)(p + 4) = (ushort)pbVar6[-1] + *param_1 + 0x80;
      *(ushort *)((int)p + 0x12) = (ushort)pbVar6[-2];
      *(ushort *)(p + 6) = *param_1 + 0x80;
      *(ushort *)((int)p + 0x1a) = (ushort)pbVar6[-2] + (ushort)*pbVar6;
      *(ushort *)(p + 8) = (ushort)pbVar6[-1] + *param_1 + 0x80;
      *(ushort *)((int)p + 0x22) = (ushort)pbVar6[-2] + (ushort)*pbVar6;
      *(byte *)(p + 3) = pbVar6[1];
      *(byte *)((int)p + 0xd) = pbVar6[2];
      *(byte *)(p + 5) = pbVar6[1] + pbVar6[-1];
      *(byte *)((int)p + 0x15) = pbVar6[2];
      *(byte *)(p + 7) = pbVar6[1];
      *(byte *)((int)p + 0x1d) = pbVar6[2] + *pbVar6;
      *(byte *)(p + 9) = pbVar6[1] + pbVar6[-1];
      bVar1 = pbVar6[2];
      bVar2 = *pbVar6;
      iVar7 = iVar7 + -1;
      *(undefined2 *)((int)p + 0xe) = param_5;
      *(byte *)((int)p + 0x25) = bVar1 + bVar2;
      piVar3 = DAT_WORLD__801cd528;
      param_1 = param_1 + 6;
      *(undefined2 *)((int)p + 0x16) = param_4;
                    // Probable PsyQ macro: addPrim().
      *p = *p & 0xff000000 | *(uint *)(param_6 * 4 + *piVar3) & 0xffffff;
      pbVar6 = pbVar6 + 6;
      puVar5 = (uint *)(param_6 * 4 + *piVar3);
      *puVar5 = *puVar5 & 0xff000000 | (uint)p & 0xffffff;
    } while (-1 < iVar7);
  }
  return;
}



void FUN_WORLD__8012c6a8(short *XYWH,char uCoord,char vCoord,undefined *RGB,int SemiTrans,
                        u_short tpage,u_short clut,int param_8)

{
  short sVar1;
  short sVar2;
  int *piVar3;
  uint uVar4;
  uint *puVar5;
  POLY_FT4 *p;
  char Width;
  
  uVar4 = (uint)DAT_WORLD__801cd1cc;
  DAT_WORLD__801cd1cc = DAT_WORLD__801cd1cc + 1;
  p = (POLY_FT4 *)(uVar4 * 0x28 + DAT_WORLD__801cd528[4]);
  if (RGB == (undefined *)0x0) {
    SetShadeTex(p,1);
  }
  else {
    SetShadeTex(p,0);
    p->r0 = *RGB;
    p->g0 = RGB[1];
    p->b0 = RGB[2];
  }
  SetSemiTrans(p,SemiTrans);
  p->x0 = *XYWH + 0x80;
  p->y0 = XYWH[1];
  p->x1 = *XYWH + XYWH[2] + 0x80;
  p->y1 = XYWH[1];
  p->x2 = *XYWH + 0x80;
  p->y2 = XYWH[1] + XYWH[3];
  p->x3 = *XYWH + XYWH[2] + 0x80;
  sVar1 = XYWH[1];
  sVar2 = XYWH[3];
  p->u0 = uCoord;
  p->v1 = vCoord;
  p->y3 = sVar1 + sVar2;
  Width = *(char *)(XYWH + 2);
  p->v0 = vCoord;
  p->u2 = uCoord;
  p->u1 = uCoord + Width;
  p->v2 = vCoord + *(char *)(XYWH + 3);
  p->u3 = uCoord + *(char *)(XYWH + 2);
  Width = *(char *)(XYWH + 3);
  p->clut = clut;
  p->v3 = vCoord + Width;
  p->tpage = tpage;
  piVar3 = DAT_WORLD__801cd528;
                    // Probable PsyQ macro: addPrim().
  p->tag = p->tag & 0xff000000 | *(uint *)(param_8 * 4 + *DAT_WORLD__801cd528) & 0xffffff;
  puVar5 = (uint *)(param_8 * 4 + *piVar3);
  *puVar5 = *puVar5 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_WORLD__8012c8bc(short *param_1,undefined *param_2,byte param_3,int param_4,int param_5)

{
  int *piVar1;
  uint uVar2;
  uint *puVar3;
  uint *p;
  
  uVar2 = (uint)DAT_WORLD__801cd1cc;
  DAT_WORLD__801cd1cc = DAT_WORLD__801cd1cc + 1;
  p = (uint *)(uVar2 * 0x28 + DAT_WORLD__801cd528[4]);
  if (param_2 == (undefined *)0x0) {
    SetShadeTex(p,1);
  }
  else {
    SetShadeTex(p,0);
    *(undefined *)(p + 1) = *param_2;
    *(undefined *)((int)p + 5) = param_2[1];
    *(undefined *)((int)p + 6) = param_2[2];
  }
  SetSemiTrans(p,param_4);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 4) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x12) = param_1[1];
  *(short *)(p + 6) = *param_1 + 0x80;
  *(short *)((int)p + 0x1a) = param_1[1] + param_1[3];
  *(short *)(p + 8) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x22) = param_1[1] + param_1[3];
  if (param_3 == 1) {
    *(undefined *)(p + 5) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)p + 0x15) = *(undefined *)(param_1 + 5);
    *(char *)(p + 3) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(undefined *)((int)p + 0xd) = *(undefined *)(param_1 + 5);
    *(undefined *)(p + 9) = *(undefined *)(param_1 + 4);
    *(char *)((int)p + 0x25) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
    *(char *)(p + 7) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(char *)((int)p + 0x1d) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
  }
  else if (param_3 < 2) {
    if (param_3 == 0) {
      *(undefined *)(p + 3) = *(undefined *)(param_1 + 4);
      *(undefined *)((int)p + 0xd) = *(undefined *)(param_1 + 5);
      *(char *)(p + 5) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
      *(undefined *)((int)p + 0x15) = *(undefined *)(param_1 + 5);
      *(undefined *)(p + 7) = *(undefined *)(param_1 + 4);
      *(char *)((int)p + 0x1d) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
      *(char *)(p + 9) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
      *(char *)((int)p + 0x25) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
    }
  }
  else if (param_3 == 2) {
    *(undefined *)(p + 7) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)p + 0x1d) = *(undefined *)(param_1 + 5);
    *(char *)(p + 9) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(undefined *)((int)p + 0x25) = *(undefined *)(param_1 + 5);
    *(undefined *)(p + 3) = *(undefined *)(param_1 + 4);
    *(char *)((int)p + 0xd) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
    *(char *)(p + 5) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(char *)((int)p + 0x15) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
  }
  else if (param_3 == 3) {
    *(undefined *)(p + 9) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)p + 0x25) = *(undefined *)(param_1 + 5);
    *(char *)(p + 7) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(undefined *)((int)p + 0x1d) = *(undefined *)(param_1 + 5);
    *(undefined *)(p + 5) = *(undefined *)(param_1 + 4);
    *(char *)((int)p + 0x15) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
    *(char *)(p + 3) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(char *)((int)p + 0xd) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
  }
  piVar1 = DAT_WORLD__801cd528;
  *(short *)((int)p + 0xe) = param_1[8];
  *(short *)((int)p + 0x16) = param_1[9];
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_5 * 4 + *piVar1) & 0xffffff;
  puVar3 = (uint *)(param_5 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_WORLD__8012ccd0(short *param_1,undefined *param_2,int param_3,int param_4)

{
  int *piVar1;
  uint uVar2;
  uint *puVar3;
  uint *p;
  
  uVar2 = (uint)DAT_WORLD__801cd1cc;
  DAT_WORLD__801cd1cc = DAT_WORLD__801cd1cc + 1;
  p = (uint *)(uVar2 * 0x28 + DAT_WORLD__801cd528[4]);
  if (param_2 == (undefined *)0x0) {
    SetShadeTex(p,1);
  }
  else {
    SetShadeTex(p,0);
    *(undefined *)(p + 1) = *param_2;
    *(undefined *)((int)p + 5) = param_2[1];
    *(undefined *)((int)p + 6) = param_2[2];
  }
  SetSemiTrans(p,param_3);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 4) = param_1[2] + 0x80;
  *(short *)((int)p + 0x12) = param_1[3];
  *(short *)(p + 6) = param_1[4] + 0x80;
  *(short *)((int)p + 0x1a) = param_1[5];
  *(short *)(p + 8) = param_1[6] + 0x80;
  *(short *)((int)p + 0x22) = param_1[7];
  *(undefined *)(p + 3) = *(undefined *)(param_1 + 8);
  *(undefined *)((int)p + 0xd) = *(undefined *)(param_1 + 9);
  *(undefined *)(p + 5) = *(undefined *)(param_1 + 10);
  *(undefined *)((int)p + 0x15) = *(undefined *)(param_1 + 0xb);
  *(undefined *)(p + 7) = *(undefined *)(param_1 + 0xc);
  *(undefined *)((int)p + 0x1d) = *(undefined *)(param_1 + 0xd);
  *(undefined *)(p + 9) = *(undefined *)(param_1 + 0xe);
  *(undefined *)((int)p + 0x25) = *(undefined *)(param_1 + 0xf);
  *(short *)((int)p + 0xe) = param_1[0x10];
  piVar1 = DAT_WORLD__801cd528;
  *(short *)((int)p + 0x16) = param_1[0x11];
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_4 * 4 + *piVar1) & 0xffffff;
  puVar3 = (uint *)(param_4 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_WORLD__8012cfd4(short *param_1,undefined *param_2,int param_3,int param_4)

{
  int *piVar1;
  uint *p;
  uint *puVar2;
  
  p = (uint *)((uint)DAT_WORLD__801cd1d0 * 0x34 + DAT_WORLD__801cd528[8]);
  DAT_WORLD__801cd1d0 = DAT_WORLD__801cd1d0 + 1;
  SetSemiTrans(p,param_3);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 5) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x16) = param_1[1];
  *(short *)(p + 8) = *param_1 + 0x80;
  *(short *)((int)p + 0x22) = param_1[1] + param_1[3];
  *(short *)(p + 0xb) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x2e) = param_1[1] + param_1[3];
  *(undefined *)(p + 3) = *(undefined *)(param_1 + 4);
  *(undefined *)((int)p + 0xd) = *(undefined *)(param_1 + 5);
  *(char *)(p + 6) = *(char *)(param_1 + 4) + *(char *)(param_1 + 2);
  *(undefined *)((int)p + 0x19) = *(undefined *)(param_1 + 5);
  *(undefined *)(p + 9) = *(undefined *)(param_1 + 4);
  *(char *)((int)p + 0x25) = *(char *)(param_1 + 5) + *(char *)(param_1 + 3);
  *(char *)(p + 0xc) = *(char *)(param_1 + 4) + *(char *)(param_1 + 2);
  *(char *)((int)p + 0x31) = *(char *)(param_1 + 5) + *(char *)(param_1 + 3);
  *(undefined *)(p + 1) = *param_2;
  *(undefined *)((int)p + 5) = param_2[1];
  *(undefined *)((int)p + 6) = param_2[2];
  *(undefined *)(p + 4) = param_2[3];
  *(undefined *)((int)p + 0x11) = param_2[4];
  *(undefined *)((int)p + 0x12) = param_2[5];
  *(undefined *)(p + 7) = param_2[6];
  *(undefined *)((int)p + 0x1d) = param_2[7];
  *(undefined *)((int)p + 0x1e) = param_2[8];
  *(undefined *)(p + 10) = param_2[9];
  *(undefined *)((int)p + 0x29) = param_2[10];
  *(undefined *)((int)p + 0x2a) = param_2[0xb];
  *(short *)((int)p + 0xe) = param_1[6];
  *(short *)((int)p + 0x1a) = param_1[7];
  piVar1 = DAT_WORLD__801cd528;
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_4 * 4 + *DAT_WORLD__801cd528) & 0xffffff;
  puVar2 = (uint *)(param_4 * 4 + *piVar1);
  *puVar2 = *puVar2 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_WORLD__8012d340(int param_1,int param_2,uint param_3,byte *param_4,int param_5)

{
  int *piVar1;
  uint uVar2;
  DR_MODE *p;
  uint *puVar3;
  
  uVar2 = (uint)DAT_WORLD__801cd504;
  DAT_WORLD__801cd504 = DAT_WORLD__801cd504 + 1;
  p = (DR_MODE *)(uVar2 * 0xc + DAT_WORLD__801cd528[0x18]);
  SetDrawMode(p,param_1,param_2,param_3,(RECT *)param_4);
  piVar1 = DAT_WORLD__801cd528;
                    // Probable PsyQ macro: addPrim().
  p->tag = p->tag & 0xff000000 | *(uint *)(param_5 * 4 + *DAT_WORLD__801cd528) & 0xffffff;
  puVar3 = (uint *)(param_5 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



int FUN_WORLD__8012d418(void)

{
  int iVar1;
  
  if (DAT_WORLD__8018e495 == '\0') {
    iVar1 = (uint)DAT_WORLD__8018e494 + (uint)DAT_WORLD__8018e496 * 2;
  }
  else {
    iVar1 = 0;
  }
  return iVar1;
}



void FUN_WORLD__8012d454(void)

{
  if (DAT_WORLD__8018e495 == '\0') {
    DAT_WORLD__8018e494 = 1;
    DAT_WORLD__8018e496 = 0;
    DAT_WORLD__801ca760 = 0xf0;
  }
  return;
}



void FUN_WORLD__8012d48c(void)

{
  if (DAT_WORLD__8018e495 == '\0') {
    DAT_WORLD__8018e494 = 0;
    DAT_WORLD__8018e496 = 1;
    DAT_WORLD__801ca760 = 0;
  }
  return;
}



bool FUN_WORLD__8012d4c0(void)

{
  bool bVar1;
  u_short uVar2;
  int iVar3;
  
  if (DAT_WORLD__8018e495 == '\0') {
    bVar1 = true;
    if (DAT_WORLD__8018e494 != '\0') {
      iVar3 = FUN_WORLD__801263a8();
      iVar3 = (uint)DAT_WORLD__801ca760 + iVar3 * -0x10;
      DAT_WORLD__801ca760 = (ushort)iVar3;
      bVar1 = 0 < iVar3 * 0x10000;
      if (!bVar1) {
        DAT_WORLD__8018e494 = '\0';
      }
      uVar2 = GetTPage(0,2,0x100,0);
      FUN_WORLD__8012d340(0,0,(uint)uVar2,(byte *)0x0,DAT_WORLD__801cd224 - 2);
      DAT_WORLD__801ca75e = (undefined)DAT_WORLD__801ca760;
      DAT_WORLD__801ca75d = (undefined)DAT_WORLD__801ca760;
      DAT_WORLD__801ca75c = (undefined)DAT_WORLD__801ca760;
      FUN_WORLD__8012bdbc((short *)&DAT_WORLD__8018e498,&DAT_WORLD__801ca75c,1,
                          DAT_WORLD__801cd224 - 1);
    }
  }
  else {
    bVar1 = false;
  }
  return bVar1;
}



bool FUN_WORLD__8012d5bc(void)

{
  bool bVar1;
  u_short uVar2;
  int iVar3;
  
  if (DAT_WORLD__8018e495 == '\0') {
    bVar1 = true;
    if (DAT_WORLD__8018e496 != '\0') {
      iVar3 = FUN_WORLD__801263a8();
      iVar3 = (uint)DAT_WORLD__801ca760 + iVar3 * 0x10;
      DAT_WORLD__801ca760 = (ushort)iVar3;
      bVar1 = iVar3 * 0x10000 >> 0x10 < 0x100;
      if (!bVar1) {
        DAT_WORLD__8018e496 = '\0';
        DAT_WORLD__801ca760 = 0xff;
      }
      uVar2 = GetTPage(0,2,0x100,0);
      FUN_WORLD__8012d340(0,0,(uint)uVar2,(byte *)0x0,DAT_WORLD__801cd224 - 2);
      DAT_WORLD__801ca75e = (undefined)DAT_WORLD__801ca760;
      DAT_WORLD__801ca75d = (undefined)DAT_WORLD__801ca760;
      DAT_WORLD__801ca75c = (undefined)DAT_WORLD__801ca760;
      FUN_WORLD__8012bdbc((short *)&DAT_WORLD__8018e498,&DAT_WORLD__801ca75c,1,
                          DAT_WORLD__801cd224 - 1);
    }
  }
  else {
    bVar1 = false;
  }
  return bVar1;
}



void FUN_WORLD__8012d6dc(RECT *param_1,u_long *param_2)

{
  int iVar1;
  
  LoadImage(param_1,param_2);
  do {
    iVar1 = DrawSync(1);
  } while (iVar1 != 0);
  return;
}



void FUN_WORLD__8012d70c(RECT *param_1,u_long *param_2)

{
  int iVar1;
  
  StoreImage(param_1,param_2);
  do {
    iVar1 = DrawSync(1);
  } while (iVar1 != 0);
  return;
}



void FUN_WORLD__8012d7b4(undefined4 param_1)

{
  switch(param_1) {
  case 0:
    DAT_WORLD__801cd8fc = &DAT_WORLD__8018e4e8;
    break;
  case 1:
    DAT_WORLD__801cd8bc = &DAT_WORLD__8018e938;
    break;
  case 2:
    DAT_WORLD__801cd8dc = &DAT_WORLD__8018eebc;
    break;
  case 3:
    DAT_WORLD__801cd904 = &DAT_WORLD__801901f0;
    break;
  case 4:
    DAT_WORLD__801cd918 = &DAT_WORLD__80190578;
    break;
  case 5:
    DAT_WORLD__801cd918 = &DAT_WORLD__80191550;
    break;
  case 7:
    DAT_WORLD__801cd910 = &DAT_WORLD__80192f90;
    break;
  case 8:
    DAT_WORLD__801cd920 = &DAT_WORLD__801930a4;
  }
  return;
}



void FUN_WORLD__8012d8b0(int param_1,int param_2)

{
  u_long *puVar1;
  int iVar2;
  
  iVar2 = (param_1 + -1) * 8;
  puVar1 = Get_BIN_as_TIM(*(int *)(&DAT_WORLD__80193c40 + iVar2),
                          *(uint *)(&DAT_WORLD__80193c44 + iVar2));
  *(u_long **)(param_2 + 0x1e00) = puVar1;
  puVar1 = Get_BIN_as_TIM(*(int *)(&DAT_WORLD__80193c78 + iVar2),
                          *(uint *)(&DAT_WORLD__80193c7c + iVar2));
  *(u_long **)(param_2 + 0x1e04) = puVar1;
  return;
}



int FUN_WORLD__8012d92c(void)

{
  return (int)DAT_WORLD__80193cb2;
}



void FUN_WORLD__8012d964(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  u_long *puVar1;
  undefined local_res0;
  
  local_res0 = (undefined)param_1;
  DAT_WORLD__8018e48c = local_res0;
  if (param_1 != 0) {
    FUN_WORLD__8012d8b0(param_1,(int)&DAT_WORLD__801ca768);
    DAT_WORLD__801cc570 = DAT_WORLD__801cc56c;
    DAT_WORLD__801cd900 = DAT_WORLD__801cc568;
    FUN_WORLD__80130898();
    FUN_WORLD__8012fdd8(-1);
    bcopy((uchar *)DAT_WORLD__801cd1ec,&DAT_WORLD__801ca768,0x1e00);
    puVar1 = DAT_WORLD__801cd1ec;
    Get_DAT_BIN_as_File(0x11a7f,0x2000,DAT_WORLD__801cd1ec);
    DAT_WORLD__801cd1ec[0x721] = DAT_WORLD__801cd1ec[0x721] & 0xfe7fffff;
    DAT_WORLD__801cd1ec[0x721] =
         DAT_WORLD__801cd1ec[0x721] & 0x9fffffff | (DAT_800473ac >> 0x1d & 3) << 0x1d;
    DAT_WORLD__801cd1ec[0x721] =
         DAT_WORLD__801cd1ec[0x721] & 0xff9fffff | (DAT_800473ac >> 0x15 & 3) << 0x15;
    FUN_WORLD__80130338(1,0xff9fffff,puVar1,param_4);
    DAT_WORLD__801cc574 = 0;
    FUN_WORLD__80108920();
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int FUN_WORLD__8012dae0(void)

{
  byte bVar1;
  int iVar2;
  
  if (DAT_WORLD__8018e48c != '\0') {
    _DAT_WORLD__801cc578 = PadRead(0);
    if (_DAT_WORLD__801cc578 == 0x90c) {
      FUN_WORLD__8012bd9c();
    }
    DAT_WORLD__80193cb2 = DAT_WORLD__801cc578;
    if (DAT_WORLD__80193cb0 != 0) {
      FUN_WORLD__8012e674();
    }
    bVar1 = *DAT_WORLD__801cc570;
    if (bVar1 < 0x10) {
      FUN_WORLD__8012ddc8();
    }
    else if (bVar1 == 0x10) {
      FUN_WORLD__8012de98();
    }
    else if (bVar1 == 0x13) {
      FUN_WORLD__8012e0b8();
    }
    else if (bVar1 == 0x14) {
      FUN_WORLD__8012e720();
    }
    else if (bVar1 == 0x15) {
      FUN_WORLD__8012ea44();
    }
    else if (bVar1 == 0x16) {
      FUN_WORLD__8012eb08();
    }
    else {
      if (bVar1 == 0x17) {
        iVar2 = FUN_WORLD__8012dcd4();
        return iVar2;
      }
      if (bVar1 == 0x12) {
        FUN_WORLD__8012df80();
      }
      else if (bVar1 == 0x11) {
        FUN_WORLD__8012dfe4();
      }
    }
  }
  return 1;
}



int FUN_WORLD__8012dcd4(void)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  uchar *puVar3;
  undefined4 uVar4;
  undefined4 in_a3;
  
  if (DAT_WORLD__801cc574 == 0) {
    FUN_WORLD__8012d48c();
    iVar2 = 1;
    DAT_WORLD__801cc574 = 1;
  }
  else {
    bVar1 = FUN_WORLD__8012d5bc();
    iVar2 = CONCAT31(extraout_var,bVar1);
    if (iVar2 == 0) {
      DAT_WORLD__8018e48c = 0;
      Call_BIN_Free_FFT(DAT_WORLD__801cc568);
      Call_BIN_Free_FFT(DAT_WORLD__801cc56c);
      uVar4 = 0x1e00;
      puVar3 = DAT_WORLD__801cd1ec;
      bcopy(&DAT_WORLD__801ca768,DAT_WORLD__801cd1ec,0x1e00);
      FUN_WORLD__80130338(1,puVar3,uVar4,in_a3);
      FUN_WORLD__80108920();
      Call_BIN_Free_FFT((int)DAT_WORLD__801cd1ec);
      FUN_WORLD__801210e8(0,&DAT_WORLD__801cd5ec,0);
      iVar2 = 0;
    }
  }
  return iVar2;
}



void FUN_WORLD__8012ddc8(void)

{
  int iVar1;
  
  if (DAT_WORLD__801cc574 == 0) {
    DAT_WORLD__801cc574 = 0x1e;
    DAT_WORLD__801cd810 = (undefined2)(1 << (*DAT_WORLD__801cc570 & 0x1f));
  }
  else {
    iVar1 = FUN_WORLD__801263a8();
    DAT_WORLD__801cc574 = DAT_WORLD__801cc574 - iVar1;
    DAT_WORLD__801cd810 = 0;
    if (DAT_WORLD__801cc574 < 1) {
      DAT_WORLD__801cc574 = 0;
      DAT_WORLD__801cc570 = DAT_WORLD__801cc570 + 1;
    }
  }
  return;
}



void FUN_WORLD__8012de98(void)

{
  Initialize_Thread_WORLD(0x10,&DAT_WORLD__800e4d9c);
  ParseThreadParamWORLD
            (0x10,0x99,
             (uint)*(byte *)(DAT_WORLD__801cc570 + 2) * 0x100 +
             *(byte *)(DAT_WORLD__801cc570 + 1) + 0xb800,0);
  *(uint *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x405c) =
       (uint)*(byte *)(DAT_WORLD__801cc570 + 3);
  DAT_WORLD__801cc570 = DAT_WORLD__801cc570 + 4;
  return;
}



void FUN_WORLD__8012df80(void)

{
  int iVar1;
  
  FUN_WORLD__80106834(0x10);
  iVar1 = Check_Thread_Status_WORLD(0x10);
  if (iVar1 == 0) {
    DAT_WORLD__801cc570 = DAT_WORLD__801cc570 + 1;
  }
  return;
}



void FUN_WORLD__8012dfe4(void)

{
  bool bVar1;
  undefined3 extraout_var;
  
  bVar1 = FUN_WORLD__80106868(0x10);
  if (CONCAT31(extraout_var,bVar1) != 1) {
    ParseThreadParamWORLD
              (0x10,0x99,
               (uint)*(byte *)(DAT_WORLD__801cc570 + 2) * 0x100 +
               *(byte *)(DAT_WORLD__801cc570 + 1) + 0xb800,0);
    DAT_WORLD__801cc570 = DAT_WORLD__801cc570 + 3;
    *(undefined4 *)(PTR_DAT_WORLD__80195cd0_WORLD__8015327c + 0x404c) = 1;
  }
  return;
}



void FUN_WORLD__8012e0b8(void)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int local_10;
  
  uVar1 = (uint)*(byte *)(DAT_WORLD__801cc570 + 3);
  uVar2 = (uint)*(byte *)(DAT_WORLD__801cc570 + 4);
  uVar3 = (uint)*(byte *)(DAT_WORLD__801cc570 + 5);
  for (local_10 = 0; local_10 < 0x1e; local_10 = local_10 + 1) {
    iVar4 = rcos(local_10 * 0x88 + 0x400);
    *(ushort *)(&DAT_WORLD__801cc57c + local_10 * 8) =
         (short)((int)(iVar4 * (uVar1 + 8) * uVar2) >> 0x13) +
         (ushort)*(byte *)(DAT_WORLD__801cc570 + 1);
    iVar4 = rsin(local_10 * 0x88 + 0x400);
    *(ushort *)(&DAT_WORLD__801cc57e + local_10 * 8) =
         (short)((int)(iVar4 * (uVar1 + 8) * uVar3) >> 0x13) +
         (ushort)*(byte *)(DAT_WORLD__801cc570 + 2);
    iVar4 = rcos(local_10 * 0x88 + 0x400);
    *(ushort *)(&DAT_WORLD__801cc580 + local_10 * 8) =
         (short)((int)(iVar4 * (uVar1 + 4) * uVar2) >> 0x13) +
         (ushort)*(byte *)(DAT_WORLD__801cc570 + 1);
    iVar4 = rsin(local_10 * 0x88 + 0x400);
    *(ushort *)(&DAT_WORLD__801cc582 + local_10 * 8) =
         (short)((int)(iVar4 * (uVar1 + 4) * uVar3) >> 0x13) +
         (ushort)*(byte *)(DAT_WORLD__801cc570 + 2);
    *(undefined2 *)(&DAT_WORLD__801cc674 + local_10 * 8) =
         *(undefined2 *)(&DAT_WORLD__801cc580 + local_10 * 8);
    *(undefined2 *)(&DAT_WORLD__801cc676 + local_10 * 8) =
         *(undefined2 *)(&DAT_WORLD__801cc582 + local_10 * 8);
    iVar4 = rcos(local_10 * 0x88 + 0x400);
    *(ushort *)(&DAT_WORLD__801cc678 + local_10 * 8) =
         (short)((int)(iVar4 * uVar1 * uVar2) >> 0x13) + (ushort)*(byte *)(DAT_WORLD__801cc570 + 1);
    iVar4 = rsin(local_10 * 0x88 + 0x400);
    *(ushort *)(&DAT_WORLD__801cc67a + local_10 * 8) =
         (short)((int)(iVar4 * uVar1 * uVar3) >> 0x13) + (ushort)*(byte *)(DAT_WORLD__801cc570 + 2);
  }
  for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
    *(undefined2 *)(&DAT_WORLD__801cc66c + local_10 * 2) =
         *(undefined2 *)(&DAT_WORLD__801cc57c + local_10 * 2);
    *(undefined2 *)(&DAT_WORLD__801cc764 + local_10 * 2) =
         *(undefined2 *)(&DAT_WORLD__801cc674 + local_10 * 2);
  }
  DAT_WORLD__80193cb0 = 2;
  DAT_WORLD__801cc570 = DAT_WORLD__801cc570 + 6;
  DAT_WORLD__801cc784 = 0;
  return;
}



void FUN_WORLD__8012e674(void)

{
  int iVar1;
  
  if (*DAT_WORLD__801cc570 != '\x14') {
    DAT_WORLD__80193cb0 = 0x12;
    iVar1 = FUN_WORLD__801263a8();
    DAT_WORLD__801cc784 = DAT_WORLD__801cc784 + (char)iVar1;
    if (0x1d < DAT_WORLD__801cc784) {
      DAT_WORLD__801cc784 = 0x1e;
    }
  }
  FUN_WORLD__8012e7a0((int)DAT_WORLD__80193cb0);
  return;
}



void FUN_WORLD__8012e720(void)

{
  int iVar1;
  
  iVar1 = FUN_WORLD__801263a8();
  DAT_WORLD__80193cb0 = DAT_WORLD__80193cb0 - (short)iVar1;
  if (DAT_WORLD__80193cb0 < 1) {
    DAT_WORLD__80193cb0 = 0;
    DAT_WORLD__801cc570 = DAT_WORLD__801cc570 + 1;
  }
  return;
}



void FUN_WORLD__8012e7a0(int param_1)

{
  u_short uVar1;
  int iVar2;
  undefined local_res0;
  int local_10;
  
  iVar2 = param_1 * 10;
  uVar1 = GetTPage(0,1,0,0);
  FUN_WORLD__8012d340(1,0,(uint)uVar1,(byte *)0x0,0x3c);
  DAT_WORLD__801cc76c = (undefined)(iVar2 >> 1);
  DAT_WORLD__801cc76d = (undefined)(iVar2 >> 3);
  local_res0 = (undefined)iVar2;
  DAT_WORLD__801cc76f = local_res0;
  DAT_WORLD__801cc775 = local_res0;
  DAT_WORLD__801cc770 = (undefined)(iVar2 >> 2);
  DAT_WORLD__801cc77e = local_res0;
  DAT_WORLD__801cc778 = local_res0;
  DAT_WORLD__801cc76e = DAT_WORLD__801cc76d;
  DAT_WORLD__801cc771 = DAT_WORLD__801cc770;
  DAT_WORLD__801cc772 = DAT_WORLD__801cc76c;
  DAT_WORLD__801cc773 = DAT_WORLD__801cc76d;
  DAT_WORLD__801cc774 = DAT_WORLD__801cc76d;
  DAT_WORLD__801cc776 = DAT_WORLD__801cc770;
  DAT_WORLD__801cc777 = DAT_WORLD__801cc770;
  DAT_WORLD__801cc779 = DAT_WORLD__801cc770;
  DAT_WORLD__801cc77a = DAT_WORLD__801cc770;
  DAT_WORLD__801cc77b = DAT_WORLD__801cc76c;
  DAT_WORLD__801cc77c = DAT_WORLD__801cc76d;
  DAT_WORLD__801cc77d = DAT_WORLD__801cc76d;
  DAT_WORLD__801cc77f = DAT_WORLD__801cc770;
  DAT_WORLD__801cc780 = DAT_WORLD__801cc770;
  DAT_WORLD__801cc781 = DAT_WORLD__801cc76c;
  DAT_WORLD__801cc782 = DAT_WORLD__801cc76d;
  DAT_WORLD__801cc783 = DAT_WORLD__801cc76d;
  for (local_10 = 0; local_10 < (int)(uint)DAT_WORLD__801cc784; local_10 = local_10 + 1) {
    FUN_WORLD__8012c014((short *)(&DAT_WORLD__801cc57c + local_10 * 8),&DAT_WORLD__801cc76c,1,0x3d);
    FUN_WORLD__8012c014((short *)(&DAT_WORLD__801cc674 + local_10 * 8),&DAT_WORLD__801cc778,1,0x3d);
  }
  return;
}



void FUN_WORLD__8012ea44(void)

{
  int iVar1;
  
  if (DAT_WORLD__801cc574 == 0) {
    DAT_WORLD__801cc574 = 1;
    DAT_WORLD__801ca764 = (ushort)*(byte *)(DAT_WORLD__801cc570 + 1);
  }
  else {
    iVar1 = FUN_WORLD__801263a8();
    DAT_WORLD__801ca764 = DAT_WORLD__801ca764 - (short)iVar1;
    if ((short)DAT_WORLD__801ca764 < 0) {
      DAT_WORLD__801cc574 = 0;
      DAT_WORLD__801cc570 = DAT_WORLD__801cc570 + 2;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WORLD__8012eb08(void)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  
  iVar2 = Check_Thread_Status_WORLD(0x10);
  if (iVar2 == 0) {
    if (_DAT_WORLD__801cc578 != 0) {
      DAT_WORLD__801cc570 = DAT_WORLD__801cc570 + 1;
    }
  }
  else {
    bVar1 = FUN_WORLD__80106868(0x10);
    if ((CONCAT31(extraout_var,bVar1) != 1) && (_DAT_WORLD__801cc578 != 0)) {
      DAT_WORLD__801cc570 = DAT_WORLD__801cc570 + 1;
    }
  }
  return;
}



// Possible UT_ROFF.OBJ/SsUtReverbOff
// Possible S_I.OBJ/SpuInit

void SsUtReverbOff(void)

{
  PadRead(0);
  return;
}



void FUN_WORLD__8012ebf0(void)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  uint *puVar9;
  uint uVar10;
  uint uVar11;
  
  uVar2 = FUN_WORLD__801263a8();
  uVar10 = DAT_800473a1 / uVar2;
  uVar3 = (uint)DAT_800473a2;
  uVar4 = (uint)DAT_800473a3;
  uVar11 = uVar4 / uVar2;
  SsUtReverbOff();
  if ((uVar4 & 0x10) != 0) {
    if (DAT_WORLD__80193deb != '\0') {
      FUN_WORLD__8012bd7c();
      DAT_WORLD__801cd22c = DAT_WORLD__801cd52c;
      DAT_WORLD__801cd530 = DAT_WORLD__801cd668;
      return;
    }
    DAT_WORLD__80193deb = 1;
    DAT_WORLD__801cd22c = 0x10;
    DAT_WORLD__801cd52c = 0x10;
    DAT_WORLD__801cd530 = 0x10;
    DAT_WORLD__801cd668 = 0x10;
    DAT_WORLD__801cd838 = 0x10;
    return;
  }
  DAT_WORLD__80193deb = 0;
  uVar5 = uVar4 & DAT_WORLD__80193de8;
  if (uVar5 == 0) {
    uVar5 = uVar4;
    if (uVar4 == 0) {
      DAT_WORLD__80193de8 = 0;
      DAT_WORLD__80193dea = DAT_WORLD__80193dea + (char)uVar2;
    }
    else {
      if (DAT_WORLD__80193dea < 4) {
        if ((uVar4 & 0xf000) != 0) {
          DAT_WORLD__80193dea = 10;
          uVar5 = uVar4 & 0xf000;
        }
        if (DAT_WORLD__80193dea < 4) {
          uVar5 = 0;
          DAT_WORLD__80193de8 = 0;
          goto LAB_WORLD__8012eda4;
        }
      }
      DAT_WORLD__80193dea = 0;
      uVar4 = 0;
      iVar6 = 1;
      do {
        uVar7 = uVar5 & (int)(short)(ushort)iVar6;
        uVar4 = uVar4 + 1;
        if (uVar7 != 0) {
          uVar5 = uVar7;
          DAT_WORLD__80193de8 = (ushort)iVar6;
        }
        iVar6 = 1 << (uVar4 & 0x1f);
      } while ((int)uVar4 < 0x10);
    }
  }
LAB_WORLD__8012eda4:
  if (9 < DAT_WORLD__80193dea) {
    DAT_WORLD__80193dea = 10;
  }
  DAT_WORLD__801cd838 = (ushort)uVar5;
  uVar4 = 0;
  do {
    uVar7 = 1 << (uVar4 & 0x1f);
    uVar1 = (ushort)uVar7;
    if ((uVar7 & DAT_WORLD__801cd838) == 0) {
      DAT_WORLD__801cc7c8 = DAT_WORLD__801cc7c8 & ~uVar1;
    }
    else if ((uVar7 & DAT_WORLD__801cc7c8) == 0) {
      DAT_WORLD__801cc7c8 = DAT_WORLD__801cc7c8 | uVar1;
    }
    else {
      DAT_WORLD__801cd838 = DAT_WORLD__801cd838 & ~uVar1;
    }
    uVar4 = uVar4 + 1;
  } while ((int)uVar4 < 0x10);
  uVar7 = 0;
  puVar9 = (uint *)0x801cc788;
  uVar4 = uVar5;
  do {
    uVar8 = uVar7 & 0x1f;
    if (uVar7 == 4) {
      puVar9 = &DAT_WORLD__801cc7b8;
      uVar7 = 0xc;
      uVar8 = 0xc;
    }
    if ((uVar5 & 1 << uVar8) == 0) {
      *puVar9 = 0;
    }
    else {
      *puVar9 = *puVar9 + 1;
    }
    uVar8 = *puVar9;
    if ((uVar8 < uVar10) || (uVar8 % (uVar3 / uVar2) == 0)) {
      if ((int)uVar8 < 2) goto LAB_WORLD__8012eedc;
      if (uVar8 < uVar10) goto LAB_WORLD__8012eed4;
LAB_WORLD__8012eef0:
      uVar8 = *puVar9;
      uVar5 = uVar5 | 1 << (uVar7 + 0x10 & 0x1f);
      if (uVar8 < uVar10) goto LAB_WORLD__8012ef2c;
      if (uVar8 % uVar11 == 0) goto LAB_WORLD__8012ef20;
LAB_WORLD__8012ef40:
      uVar4 = uVar4 & ~(1 << (uVar7 & 0x1f));
    }
    else {
LAB_WORLD__8012eed4:
      uVar5 = uVar5 & ~(1 << (uVar7 & 0x1f));
LAB_WORLD__8012eedc:
      if (uVar10 <= *puVar9) goto LAB_WORLD__8012eef0;
LAB_WORLD__8012ef20:
      uVar8 = *puVar9;
LAB_WORLD__8012ef2c:
      if ((1 < (int)uVar8) && (uVar8 < uVar10 << 1)) goto LAB_WORLD__8012ef40;
    }
    uVar7 = uVar7 + 1;
    puVar9 = puVar9 + 1;
    if (0xf < (int)uVar7) {
      DAT_WORLD__801cd52c = uVar5 & 0xf00ff00f | DAT_WORLD__801cd838 & 0xff0;
      DAT_WORLD__801cd668 = uVar4 & 0xf00ff00f | DAT_WORLD__801cd838 & 0xff0;
      DAT_WORLD__801cd22c = DAT_WORLD__801cd52c;
      DAT_WORLD__801cd530 = DAT_WORLD__801cd668;
      return;
    }
  } while( true );
}



void FUN_WORLD__8012efcc(void)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0;
  FUN_WORLD__8012ebf0();
  iVar2 = FUN_WORLD__80129b24();
  if (2 < iVar2 - 1U) {
    iVar3 = Check_Thread_Status_WORLD(1);
    if ((iVar3 != 0) || (DAT_WORLD__801cd750 != 0)) {
      FUN_WORLD__8012bd7c();
      if ((iVar3 == 0) || (DAT_WORLD__8015330c == 0)) {
        DAT_WORLD__80193dec = '\0';
      }
      else {
        bVar1 = DAT_WORLD__80193dec != '\0';
        DAT_WORLD__80193dec = '\x01';
        if (bVar1) {
          DAT_WORLD__80193dec = '\x02';
        }
      }
      goto LAB_WORLD__8012f0b0;
    }
    if ((DAT_WORLD__80193dec == '\0') && (iVar2 = FUN_WORLD__8012d418(), iVar2 == 0))
    goto LAB_WORLD__8012f0b0;
    DAT_WORLD__80193dec = '\0';
  }
  FUN_WORLD__8012bd7c();
LAB_WORLD__8012f0b0:
  if (iVar3 == 0) {
    DAT_WORLD__8015330c = 0;
    DAT_WORLD__8018bacd = 0;
  }
  if (DAT_WORLD__80193dec == '\x01') {
    DAT_WORLD__8018bacc = 0x12;
  }
  return;
}



undefined FUN_WORLD__8012f0f8(undefined2 param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  undefined3 extraout_var;
  u_long uVar4;
  uint uVar5;
  ushort uVar6;
  undefined *puVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  uint uVar10;
  undefined auStack_650 [512];
  undefined auStack_450 [488];
  undefined auStack_268 [600];
  
  DAT_WORLD__801cd224 = 0x40;
  DAT_WORLD__801cd1a0 = 600;
  DAT_WORLD__801cd510 = 0x1e;
  DAT_WORLD__801cd434 = 0x1e;
  DAT_WORLD__801cd840 = 0;
  DAT_WORLD__801cd194 = 0;
  DAT_WORLD__801cd84c = 0;
  DAT_WORLD__801cd848 = 0;
  DAT_WORLD__801cd19c = 0;
  DAT_WORLD__801cd850 = 0;
  DAT_WORLD__801cd1ac = 0;
  DAT_WORLD__801cd178 = 0;
  DAT_WORLD__801cd17c = 0;
  DAT_WORLD__801cd188 = 0;
  DAT_WORLD__801cd180 = 0;
  DAT_WORLD__801cd184 = 0;
  DAT_WORLD__801cd18c = 0;
  DAT_WORLD__801cd438 = 10;
  DAT_WORLD__801cd554 = 0;
  DAT_WORLD__801cd5dc = 0;
  DAT_WORLD__801cd6e8 = 0;
  DAT_WORLD__801cd930 = 0;
  DAT_WORLD__801cd1d4 = 0;
  DAT_WORLD__801cd210 = 0;
  DAT_WORLD__801cd228 = 10;
  FUN_WORLD__80126058((int)auStack_450,(int)auStack_650);
  FUN_WORLD__8011315c();
  iVar2 = FUN_WORLD__801210e8(0,&DAT_WORLD__801cd5ec,0);
  DAT_WORLD__801cd788 = (undefined)iVar2;
  DAT_WORLD__801cd910 = &DAT_WORLD__80193cf0;
  FUN_WORLD__8012d7b4(3);
  DAT_WORLD__801cc800 = 0;
  DAT_WORLD__801cc814 = param_1;
  iVar2 = FUN_80043660(0x29);
  do {
    iVar3 = FUN_80043708();
  } while (iVar3 != 0);
  FUN_80043a90((int)(short)iVar2,0x7f,0);
  FUN_WORLD__801325dc();
  DAT_WORLD__801cc824 = auStack_268;
  FUN_WORLD__80130898();
  Initialize_Thread_WORLD(2,&DAT_WORLD__80108f9c);
  ParseThreadParamWORLD(2,0,0,0);
  while (bVar1 = FUN_WORLD__8012d5bc(), CONCAT31(extraout_var,bVar1) != 0) {
    DAT_WORLD__8018e48c = 0;
    FUN_WORLD__80125cfc(0,0);
    FUN_WORLD__8012efcc();
    FUN_WORLD__8012d4c0();
    puVar7 = &DAT_WORLD__8018ba04;
    uVar8 = 0;
    uVar9 = 0;
    FUN_WORLD__8012bdbc((short *)&DAT_WORLD__80193df4,&DAT_WORLD__8018ba04,0,0);
    uVar6 = 0;
    if (DAT_WORLD__801cc800 == 3) {
      iVar3 = Check_Thread_Status_WORLD(5);
      uVar6 = 0;
      if (iVar3 == 0) {
        uVar6 = (ushort)DAT_WORLD__801cd52c;
      }
    }
    if (DAT_WORLD__801cc800 - 3 < 3) {
      FUN_WORLD__80131778(uVar6);
    }
    if (DAT_WORLD__801cc800 == 0) {
      FUN_WORLD__8012f5e0();
    }
    else if (DAT_WORLD__801cc800 == 2) {
      FUN_WORLD__80130a38();
    }
    else if (DAT_WORLD__801cc800 == 1) {
      FUN_WORLD__8012f700();
    }
    else if (DAT_WORLD__801cc800 == 4) {
      FUN_WORLD__8012f994((int)DAT_WORLD__801cc81c,puVar7,uVar8,uVar9);
    }
    else if (DAT_WORLD__801cc800 == 5) {
      FUN_WORLD__8012fb40((int)DAT_WORLD__801cc81c);
    }
    else if (DAT_WORLD__801cc800 == 9) {
      FUN_80043be8(0,0xf0);
      do {
        iVar3 = FUN_WORLD__80132a98();
      } while (iVar3 == -1);
      FUN_WORLD__8012d48c();
      DAT_WORLD__801cc800 = 0xff;
    }
    FUN_WORLD__80108a08(*DAT_WORLD__801cd528 + 4);
    DAT_WORLD__801cd814 = *DAT_WORLD__801cd528 + 0xf0;
    FUN_WORLD__800e28ac();
    uVar4 = PadRead(0);
    uVar5 = (uint)DAT_WORLD__801cd838;
    uVar10 = uVar4 & 0xf000 | uVar5 & 0xfff;
    iVar3 = Check_Thread_Status_WORLD(1);
    if (((iVar3 == 0) && (iVar3 = Check_Thread_Status_WORLD(5), iVar3 == 0)) &&
       (iVar3 = Check_Thread_Status_WORLD(0xf), iVar3 == 0)) {
      uVar10 = uVar4 & 0xf000 | uVar5 & 0xf00;
    }
    FUN_WORLD__801128e0(*DAT_WORLD__801cd528 + 0xf0,uVar10,
                        -(ushort)(DAT_WORLD__801cd1d8 == 0) & 0xf0);
    FUN_WORLD__80113dd4();
  }
  ParseThreadParamWORLD(2,0,0xffffffff,0);
  FUN_WORLD__8013090c();
  FUN_WORLD__801325d4();
  FUN_800439c0((int)(short)iVar2);
  FUN_WORLD__80106998();
  FUN_WORLD__80108920();
  return DAT_WORLD__801cc808;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WORLD__8012f5e0(void)

{
  short sVar1;
  int iVar2;
  uint uVar3;
  
  if (DAT_WORLD__80193e74 == '\0') {
    sVar1 = DAT_WORLD__80193df0 + 1;
    if (0x27 < DAT_WORLD__80193df0) {
      DAT_WORLD__80193e74 = '\x01';
      DAT_WORLD__801cc804 = 0xff;
      DAT_WORLD__801cc80c = 0;
      _DAT_WORLD__801cd732 = -1;
      DAT_WORLD__80193e70 = (ushort)DAT_80057c6a;
      sVar1 = DAT_WORLD__80193df0;
    }
  }
  else {
    iVar2 = FUN_WORLD__8012ab78(6,(int)&DAT_WORLD__80193dfc);
    DAT_WORLD__80193e74 = (char)iVar2;
    sVar1 = DAT_WORLD__80193df0;
    if (DAT_WORLD__80193e74 == '\0') {
      uVar3 = (uint)_DAT_WORLD__801cd732;
      if (uVar3 == 0xffffffff) {
        DAT_WORLD__801cc800 = 9;
      }
      else {
        if (DAT_80057c6a != uVar3) {
          DAT_80057c69 = 0xff;
        }
        DAT_80057c6a = DAT_WORLD__801cd732;
        DAT_WORLD__801531d8 = uVar3 + 1;
        FUN_WORLD__801325b4(DAT_WORLD__801cd732);
        DAT_WORLD__801cc800 = 2;
        sVar1 = DAT_WORLD__80193df0;
      }
    }
  }
  DAT_WORLD__80193df0 = sVar1;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WORLD__8012f700(void)

{
  char *pcVar1;
  bool bVar2;
  char cVar3;
  int iVar4;
  
  iVar4 = FUN_WORLD__80132a98();
  if (iVar4 < 1) {
    if (DAT_WORLD__80193f30 == (undefined *)0x0) {
      if (DAT_WORLD__80193f2c == '\0') {
        _DAT_WORLD__801cd732 = -1;
        DAT_WORLD__80193f28 = 0;
        DAT_WORLD__80193f2c = '\x01';
      }
      if (DAT_WORLD__801cc814 == 0) {
        _DAT_WORLD__801cd732 = 1;
        DAT_WORLD__80193f2c = '\0';
      }
      else {
        iVar4 = FUN_WORLD__8012ab78(0xf,(int)&DAT_WORLD__80193ef0);
        DAT_WORLD__80193f2c = (char)iVar4;
      }
      cVar3 = DAT_WORLD__801cc804;
      if (DAT_WORLD__80193f2c == '\0') {
        if (_DAT_WORLD__801cd732 == -1) {
          DAT_WORLD__801cc800 = 0;
        }
        else {
          iVar4 = 0;
          if (_DAT_WORLD__801cd732 == 0) {
            bVar2 = true;
            do {
              pcVar1 = &DAT_80057c6c + iVar4;
              iVar4 = iVar4 + 1;
              if (*pcVar1 != -1) {
                bVar2 = false;
              }
            } while (iVar4 < 0xf);
            if (bVar2) {
              DAT_WORLD__80193f30 = &DAT_WORLD__80193e78;
            }
          }
          else {
            bVar2 = true;
            do {
              pcVar1 = &DAT_80057c6c + iVar4;
              iVar4 = iVar4 + 1;
              if (*pcVar1 == '\0') {
                bVar2 = false;
              }
            } while (iVar4 < 0xf);
            if (bVar2) {
              DAT_WORLD__80193f30 = &DAT_WORLD__80193eb4;
            }
          }
          if (DAT_WORLD__80193f30 == (undefined *)0x0) {
            DAT_WORLD__801cc804 = DAT_WORLD__801cd732;
            DAT_WORLD__801cc800 = 3;
            if (cVar3 != DAT_WORLD__801cd732) {
              DAT_WORLD__801cc818 = 0x18;
              DAT_WORLD__801cc810 = 0;
              DAT_WORLD__801cc820 = 0;
              DAT_WORLD__801cc81c = 0;
              DAT_WORLD__801cc80c = 0;
            }
            iVar4 = FUN_WORLD__80131690();
            DAT_WORLD__801cc828 = (undefined)iVar4;
          }
          else {
            DAT_WORLD__8018bacc = 0x30;
          }
        }
      }
    }
    else {
      FUN_WORLD__8012ac44(6,(int)DAT_WORLD__80193f30);
      if ((DAT_WORLD__801cd52c & 0x60) != 0) {
        DAT_WORLD__80193f30 = (undefined *)0x0;
        FUN_WORLD__8012ab1c(6);
        DAT_80057c69 = 0xff;
        DAT_WORLD__801cc800 = 0;
      }
    }
  }
  else {
    DAT_WORLD__80193f30 = (undefined *)0x0;
    DAT_80057c69 = 0xff;
    FUN_WORLD__8012ab1c(0xf);
    FUN_WORLD__8012ab1c(6);
    DAT_WORLD__80193f2c = '\0';
    DAT_WORLD__801cc800 = 2;
  }
  return;
}



void FUN_WORLD__8012f994(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  uchar *puVar4;
  undefined4 uVar5;
  
  if (DAT_WORLD__80194060 == 0) {
    DAT_WORLD__80194060 = 1;
    DAT_WORLD__801cc7cc = '\0';
    DAT_WORLD__801cc7d0 = 0;
    FUN_WORLD__8012ac44(6,(int)&DAT_WORLD__80193f70);
    memset(DAT_WORLD__801cd1ec,0xff,0x1e80);
    bVar1 = DAT_WORLD__80194060;
  }
  else {
    bVar1 = DAT_WORLD__80194060 + 1;
    if (1 < DAT_WORLD__80194060) {
      if (DAT_WORLD__801cc7cc == '\0') {
        uVar5 = 0x1e00;
        puVar4 = DAT_WORLD__801cd1ec;
        uVar2 = FUN_WORLD__801331fc((&PTR_s_BASCUS_94221FFTA_WORLD__800e01d4_WORLD__80193cb4)
                                    [param_1],(int)DAT_WORLD__801cd1ec,0x1e00);
        FUN_WORLD__8012ab1c(6);
        if (uVar2 == 0x1e00) {
          iVar3 = FUN_WORLD__80130338(0,puVar4,uVar5,param_4);
          if (iVar3 != 0) {
            DAT_WORLD__801cc808 = 1;
            DAT_WORLD__80194060 = 0;
            DAT_WORLD__801cc800 = 9;
            FUN_WORLD__800ef25c(0x51,1);
            DAT_80057c69 = (char)param_1;
            DAT_WORLD__8018bacc = 0x85;
            return;
          }
        }
        else {
          DAT_80057c69 = 0xff;
        }
        DAT_WORLD__801cc7cc = '\x01';
        DAT_WORLD__8018bacc = 0x30;
        bVar1 = DAT_WORLD__80194060;
      }
      else {
        FUN_WORLD__8012ac44(6,(int)&DAT_WORLD__80193fe8);
        if (((DAT_WORLD__801cd52c & 0x20) != 0) ||
           (bVar1 = DAT_WORLD__80194060, (DAT_WORLD__801cd52c & 0x40) != 0)) {
          FUN_WORLD__8012ab1c(6);
          DAT_WORLD__80194060 = 0;
          DAT_WORLD__801cc800 = 2;
          bVar1 = DAT_WORLD__80194060;
        }
      }
    }
  }
  DAT_WORLD__80194060 = bVar1;
  return;
}



void FUN_WORLD__8012fb40(int param_1)

{
  bool bVar1;
  uint uVar2;
  int iVar3;
  size_t sVar4;
  undefined3 extraout_var;
  
  if (DAT_WORLD__80194061 == 0) {
    DAT_WORLD__80194061 = 1;
    DAT_WORLD__801cc7d4 = 0;
    DAT_WORLD__801cc7d8 = 0;
    FUN_WORLD__8012fdd8(param_1);
    FUN_WORLD__8012ac44(6,(int)&DAT_WORLD__80193f34);
    return;
  }
  if (DAT_WORLD__80194061 < 2) {
    DAT_WORLD__80194061 = DAT_WORLD__80194061 + 1;
    return;
  }
  if (DAT_WORLD__801cc7d4 != '\0') {
    FUN_WORLD__8012ac44(6,(int)&DAT_WORLD__80194024);
    if (((DAT_WORLD__801cd52c & 0x20) == 0) && ((DAT_WORLD__801cd52c & 0x40) == 0)) {
      return;
    }
    FUN_WORLD__8012ab1c(6);
    DAT_WORLD__80194061 = 0;
    DAT_WORLD__801cc800 = 2;
    return;
  }
  uVar2 = FUN_WORLD__8013300c((&PTR_s_BASCUS_94221FFTA_WORLD__800e01d4_WORLD__80193cb4)[param_1],
                              DAT_WORLD__801cd1ec,0x1e00,(int)(char)(&DAT_80057c6c)[param_1]);
  FUN_WORLD__8012ab1c(6);
  if (uVar2 != 0x1e00) {
    DAT_80057c69 = 0xff;
    DAT_WORLD__8018bacc = 0x30;
    DAT_WORLD__801cc7d4 = 1;
    return;
  }
  *(char *)(DAT_WORLD__801cd1ec + 0x100) = (char)param_1;
  iVar3 = FUN_WORLD__80132e04((&PTR_s_BASCUS_94221FFTA_WORLD__800e01d4_WORLD__80193cb4)[param_1],2);
  if (-1 < iVar3) {
    sVar4 = FUN_WORLD__80132f7c(iVar3,0x100,0);
    if (sVar4 != 0xffffffff) {
      sVar4 = FUN_WORLD__801333c0(iVar3,(void *)(DAT_WORLD__801cd1ec + 0x100),0x80);
    }
    bVar1 = FUN_WORLD__80132f08(iVar3);
    if (CONCAT31(extraout_var,bVar1) != 0) goto LAB_WORLD__8012fce4;
  }
  sVar4 = 0;
LAB_WORLD__8012fce4:
  if (sVar4 != 0x80) {
    DAT_WORLD__801cc7d4 = 1;
    DAT_WORLD__8018bacc = 0x30;
    DAT_80057c69 = 0xff;
    return;
  }
  DAT_WORLD__801cc800 = 3;
  (&DAT_80057c6c)[param_1] = 0;
  FUN_WORLD__801312a8(0,&DAT_WORLD__801cc82c + param_1 * 0x8c);
  FUN_WORLD__801315e4(param_1);
  bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x100),&DAT_80057d84 + param_1 * 0x18,0x18);
  FUN_WORLD__80130934(param_1);
  DAT_80057c69 = (char)param_1;
  DAT_WORLD__8018bacc = 0x85;
  DAT_WORLD__80194061 = 0;
  return;
}



void FUN_WORLD__8012fdd8(int param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  uint uVar3;
  int *piVar4;
  PartyUnit *pPVar5;
  short **ppsVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  undefined *puVar10;
  
  uVar7 = 0;
  if (DAT_WORLD__801cd788 != 0) {
    piVar4 = &DAT_WORLD__801cd5ec;
    do {
      if (*(byte *)(*piVar4 + 0x72) < 4) break;
      uVar7 = uVar7 + 1;
      piVar4 = piVar4 + 1;
    } while ((int)uVar7 < (int)(uint)DAT_WORLD__801cd788);
  }
  if (uVar7 == DAT_WORLD__801cd788) {
    uVar7 = 0;
  }
  ppsVar6 = (short **)(&DAT_WORLD__801cd5ec + uVar7);
  bcopy((uchar *)(*ppsVar6 + 0x87),DAT_WORLD__801cd1ec + 0x101,0x10);
  DAT_WORLD__801cd1ec[0x111] = 0xfe;
  iVar8 = 0;
  DAT_WORLD__801cd1ec[0x112] = *(undefined *)(*ppsVar6 + 0x12);
  DAT_WORLD__801cd1ec[0x113] = *(undefined *)*ppsVar6;
  uVar1 = FUN_WORLD__800ef1a8(0x2f);
  uVar2 = FUN_WORLD__800ef1a8(0x2e);
  iVar9 = 0x484;
  DAT_WORLD__801cd1ec[0x115] = (char)uVar1;
  DAT_WORLD__801cd1ec[0x114] = (char)uVar2;
  uVar1 = FUN_WORLD__800ef1a8(0x31);
  DAT_WORLD__801cd1ec[0x116] = (char)uVar1;
  DAT_WORLD__801cd1ec[0x100] = (char)~(byte)((uint)param_1 >> 0x18) >> 7;
  puVar10 = DAT_WORLD__801cd1ec;
  *(int *)(DAT_WORLD__801cd1ec + 0x120) = DAT_800459c0 * 0x3c + DAT_800459bc + DAT_800459c4 * 0xe10;
  puVar10[0x117] = 4;
  FUN_WORLD__801322e4(param_1,(int)**ppsVar6,DAT_WORLD__801cd1ec);
  pPVar5 = PartyData;
  do {
    iVar8 = iVar8 + 1;
    bcopy(&pPVar5->SpriteSet,DAT_WORLD__801cd1ec + iVar9,0xe0);
    iVar9 = iVar9 + 0xe0;
    pPVar5 = pPVar5 + 1;
  } while (iVar8 < 0x14);
  bcopy(&DAT_800596e0,DAT_WORLD__801cd1ec + 0x1604,0x100);
  bcopy(&DAT_80059494,DAT_WORLD__801cd1ec + 0x1704,0x100);
  bcopy(&DAT_80059414,DAT_WORLD__801cd1ec + 0x1804,0x80);
  DAT_WORLD__801cd1ec[0x1c88] = DAT_80057b1c;
  bcopy((uchar *)&DAT_8005771c,DAT_WORLD__801cd1ec + 0x1884,0x400);
  bcopy((uchar *)&DAT_800473ac,DAT_WORLD__801cd1ec + 0x1c84,4);
  bcopy(&DAT_80057b20,DAT_WORLD__801cd1ec + 0x1c89,0xc);
  bcopy(&DAT_80057b2c,DAT_WORLD__801cd1ec + 0x1c96,8);
  bcopy(&DAT_80057b34,DAT_WORLD__801cd1ec + 0x1c9f,7);
  bcopy(&DAT_80057b3c,DAT_WORLD__801cd1ec + 0x1ca6,5);
  bcopy(&DAT_80057b44,DAT_WORLD__801cd1ec + 0x1cab,5);
  bcopy(&DAT_80057b4c,DAT_WORLD__801cd1ec + 0x1cb0,7);
  bcopy(&DAT_80057b54,DAT_WORLD__801cd1ec + 0x1cb7,5);
  bcopy(&DAT_80057b5c,DAT_WORLD__801cd1ec + 0x1cbc,0x8a);
  bcopy(&DAT_80057be8,DAT_WORLD__801cd1ec + 0x1d46,0x1d);
  bcopy(&DAT_80057c08,DAT_WORLD__801cd1ec + 0x1d63,0x25);
  bcopy(&DAT_80057c30,DAT_WORLD__801cd1ec + 0x1d88,0x21);
  bcopy(&DAT_80057c54,DAT_WORLD__801cd1ec + 0x1da9,0x15);
  bcopy(&DAT_80057cec,DAT_WORLD__801cd1ec + 0x124,0x35);
  bcopy(&DAT_800596ac,DAT_WORLD__801cd1ec + 0x159,0x12);
  bcopy(&DAT_80057c7c,DAT_WORLD__801cd1ec + 0x16b,0x6c);
  bcopy(&DAT_80057d24,DAT_WORLD__801cd1ec + 0x1d7,0x60);
  bcopy((uchar *)&DAT_80059594,DAT_WORLD__801cd1ec + 0x238,0x118);
  bcopy(&DAT_80059374,DAT_WORLD__801cd1ec + 0x350,0xa0);
  bcopy((uchar *)&DAT_80059810,DAT_WORLD__801cd1ec + 0x3f0,8);
  bcopy((uchar *)&DAT_80057f34,DAT_WORLD__801cd1ec + 0x3f8,0x40);
  DAT_WORLD__801cd1ec[0x438] = DAT_80057ce8;
  bcopy(&DAT_80057eec,DAT_WORLD__801cd1ec + 0x439,0x48);
  uVar7 = 0;
  FUN_WORLD__8012b1b4(DAT_WORLD__801cd1ec + 0x118);
  puVar10 = DAT_WORLD__801cd1ec;
  do {
    iVar8 = 0;
    FUN_WORLD__8012b1d0(puVar10);
    iVar9 = 0;
    do {
      uVar3 = FUN_WORLD__8012b354(1);
      iVar8 = iVar8 + uVar3;
      iVar9 = iVar9 + 1;
    } while (iVar9 < 0x400);
    puVar10 = puVar10 + 0x80;
    FUN_WORLD__8012b298((byte)iVar8 & 1);
    uVar7 = uVar7 + 1;
  } while (uVar7 < 0x3c);
  return;
}



undefined4 FUN_WORLD__80130338(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  bool bVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  undefined4 *puVar5;
  int iVar6;
  PartyUnit *pPVar7;
  uint uVar8;
  int iVar9;
  
  if ((*(char *)(DAT_WORLD__801cd1ec + 0x100) == -1) ||
     (*(char *)(DAT_WORLD__801cd1ec + 0x117) != '\x04')) {
LAB_WORLD__80130380:
    uVar2 = 0;
  }
  else {
    if (param_1 == 0) {
      FUN_WORLD__8012b1b4(DAT_WORLD__801cd1ec + 0x118);
      uVar8 = 3;
      iVar9 = DAT_WORLD__801cd1ec + 0x180;
      FUN_WORLD__8012b1ec(3);
      do {
        uVar4 = 0;
        FUN_WORLD__8012b1d0(iVar9);
        iVar6 = 0;
        do {
          uVar3 = FUN_WORLD__8012b354(1);
          uVar4 = uVar4 + uVar3;
          iVar6 = iVar6 + 1;
        } while (iVar6 < 0x400);
        iVar9 = iVar9 + 0x80;
        uVar3 = FUN_WORLD__8012b1ec(1);
        uVar8 = uVar8 + 1;
        if ((uVar4 & 1) != (uVar3 & 0xff)) goto LAB_WORLD__80130380;
      } while (uVar8 < 0x3c);
    }
    iVar6 = 0;
    iVar9 = 0x484;
    pPVar7 = PartyData;
    do {
      iVar6 = iVar6 + 1;
      bcopy((uchar *)(iVar9 + DAT_WORLD__801cd1ec),&pPVar7->SpriteSet,0xe0);
      iVar9 = iVar9 + 0xe0;
      pPVar7 = pPVar7 + 1;
    } while (iVar6 < 0x14);
    iVar9 = 0;
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1604),&DAT_800596e0,0x100);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1704),&DAT_80059494,0x100);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1804),&DAT_80059414,0x80);
    DAT_80057b1c = *(undefined *)(DAT_WORLD__801cd1ec + 0x1c88);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1884),(uchar *)&DAT_8005771c,0x400);
    puVar5 = &DAT_800473ac;
    uVar8 = 4;
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1c84),(uchar *)&DAT_800473ac,4);
    bVar1 = false;
    FUN_80017f6c(DAT_800473ac >> 0x15 & 3,(undefined *)puVar5,uVar8,param_4);
    do {
      iVar6 = DAT_WORLD__801cd1ec + iVar9;
      iVar9 = iVar9 + 1;
      if (*(char *)(iVar6 + 0x1c89) == '\v') {
        bVar1 = true;
      }
    } while (iVar9 < 0xb);
    iVar9 = 0;
    if (!bVar1) {
      bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1c89),&DAT_80057b20,0xc);
    }
    bVar1 = false;
    DAT_80057b2b = 0xff;
    do {
      iVar6 = DAT_WORLD__801cd1ec + iVar9;
      iVar9 = iVar9 + 1;
      if (*(char *)(iVar6 + 0x1c96) == '\v') {
        bVar1 = true;
      }
    } while (iVar9 < 7);
    if (!bVar1) {
      bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1c96),&DAT_80057b2c,8);
    }
    DAT_80057b33 = 0xff;
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1c9f),&DAT_80057b34,7);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1ca6),&DAT_80057b3c,5);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1cab),&DAT_80057b44,5);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1cb0),&DAT_80057b4c,7);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1cb7),&DAT_80057b54,5);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1cbc),&DAT_80057b5c,0x8a);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1d46),&DAT_80057be8,0x1d);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1d63),&DAT_80057c08,0x25);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1d88),&DAT_80057c30,0x21);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1da9),&DAT_80057c54,0x15);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x124),&DAT_80057cec,0x35);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x159),&DAT_800596ac,0x12);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x16b),&DAT_80057c7c,0x6c);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x1d7),&DAT_80057d24,0x60);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x238),(uchar *)&DAT_80059594,0x118);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x350),&DAT_80059374,0xa0);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x3f0),(uchar *)&DAT_80059810,8);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x3f8),(uchar *)&DAT_80057f34,0x40);
    DAT_80057ce8 = *(undefined *)(DAT_WORLD__801cd1ec + 0x438);
    bcopy((uchar *)(DAT_WORLD__801cd1ec + 0x439),&DAT_80057eec,0x48);
    uVar2 = 1;
    if (param_1 == 0) {
      DAT_800459c4 = *(int *)(DAT_WORLD__801cd1ec + 0x120) / 0xe10;
      iVar9 = *(int *)(DAT_WORLD__801cd1ec + 0x120) % 0xe10;
      DAT_800459c0 = iVar9 / 0x3c;
      DAT_800459bc = iVar9 % 0x3c;
      uVar2 = 1;
    }
  }
  return uVar2;
}



void FUN_WORLD__80130898(void)

{
  DAT_WORLD__801cc818 = 0x18;
  DAT_WORLD__801cc810 = 0;
  DAT_WORLD__801cc820 = 0;
  DAT_WORLD__801cc81c = 0;
  DAT_WORLD__801cc80c = 0;
  DAT_WORLD__801cc808 = 0;
  DAT_WORLD__80193df0 = 0;
  DAT_WORLD__801cd1ec = BIN_Malloc_FFT(0x2000);
  memset(DAT_WORLD__801cd1ec,0xff,0x1e80);
  return;
}



void FUN_WORLD__8013090c(void)

{
  BIN_Free_FFT(DAT_WORLD__801cd1ec);
  return;
}



void FUN_WORLD__80130934(int param_1)

{
  char cVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  if ((&DAT_80057c6c)[param_1] == '\0') {
    iVar5 = *(int *)(DAT_WORLD__801cd1ec + 0x120);
    iVar3 = iVar5 >> 0x1f;
    iVar2 = iVar5 / 0xe10 + iVar3;
    iVar4 = iVar2 - iVar3;
    if (99 < iVar4) {
      iVar4 = 99;
    }
    iVar5 = iVar5 + (iVar2 - iVar3) * -0xe10;
    iVar2 = param_1 * 3;
    (&DAT_800597e0)[iVar2] = (char)iVar4;
    cVar1 = (char)(iVar5 / 0x3c);
    (&DAT_800597e1)[iVar2] = cVar1;
    (&DAT_800597e2)[iVar2] = (char)iVar5 + cVar1 * -0x3c;
  }
  else {
    iVar2 = param_1 * 3;
    (&DAT_800597e0)[iVar2] = 0;
    (&DAT_800597e1)[iVar2] = 0;
    (&DAT_800597e2)[iVar2] = 0;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WORLD__80130a38(void)

{
  bool bVar1;
  int iVar2;
  undefined1 *puVar3;
  uint uVar4;
  size_t sVar5;
  undefined3 extraout_var;
  int iVar6;
  int iVar7;
  RECT local_40 [5];
  
  if (DAT_WORLD__80194247 != '\0') {
    iVar2 = Check_Thread_Status_WORLD(6);
    if (iVar2 != 0) {
      return;
    }
    DAT_WORLD__80194244 = 0;
    DAT_WORLD__80194247 = 0;
    DAT_WORLD__801cc800 = 0;
    return;
  }
  if (DAT_WORLD__80194246 != 0) {
    iVar2 = DAT_WORLD__80194246 + 1;
    DAT_WORLD__80194246 = (char)iVar2;
    if (iVar2 * 0x1000000 >> 0x18 != 3) {
      return;
    }
    FUN_WORLD__8012ab1c(6);
    DAT_WORLD__80194244 = 0;
    DAT_WORLD__80194246 = 0;
    FUN_WORLD__80132d78();
    DAT_WORLD__801cc800 = 0;
    return;
  }
  if (DAT_WORLD__80194244 == '\0') {
    FUN_WORLD__8012bd7c();
    if (DAT_80057c69 < 0x10) {
      iVar2 = FUN_WORLD__80132b50(5);
      if (iVar2 == 0) {
        DAT_WORLD__801cc7e8 = '\0';
        do {
          if (-1 < (char)(&DAT_80057c6c)[DAT_WORLD__801cc7e8]) {
            bcopy(&DAT_80057d84 + DAT_WORLD__801cc7e8 * 0x18,DAT_WORLD__801cd1ec + 0x100,0x18);
            FUN_WORLD__801312a8((int)(char)(&DAT_80057c6c)[DAT_WORLD__801cc7e8],
                                &DAT_WORLD__801cc82c + DAT_WORLD__801cc7e8 * 0x8c);
            FUN_WORLD__801315e4((int)DAT_WORLD__801cc7e8);
          }
          DAT_WORLD__801cc7e8 = DAT_WORLD__801cc7e8 + '\x01';
        } while (DAT_WORLD__801cc7e8 < '\x0f');
        DAT_WORLD__801cc800 = 1;
        return;
      }
      DAT_80057c69 = 0xff;
    }
    if (DAT_WORLD__801cc7f8 < '\x03') {
      if (DAT_WORLD__801cc7f8 == '\0') {
        local_40[0].x = 0x180;
        local_40[0].w = 0x40;
        local_40[0].y = 0;
        local_40[0].h = 0xf0;
        ClearImage(local_40,'\0','\0','\0');
      }
      if (DAT_WORLD__801cc7f8 == '\x01') {
        FUN_WORLD__8012ac44(6,(int)&DAT_WORLD__80193fac);
      }
      DAT_WORLD__801cc7f8 = DAT_WORLD__801cc7f8 + '\x01';
      return;
    }
    iVar2 = FUN_WORLD__80132cec();
    DAT_WORLD__801cc7dc = (char)iVar2;
    if (DAT_WORLD__801cc7dc == '\x03') {
      iVar2 = FUN_WORLD__80132cec();
      DAT_WORLD__801cc7dc = (char)iVar2;
    }
    if (DAT_WORLD__801cc7dc == '\0') {
      iVar6 = 0;
      iVar2 = FUN_WORLD__80132bc0(DAT_WORLD__801cc824,1);
      DAT_WORLD__801cc7f4 = (char)iVar2;
      do {
        iVar2 = FUN_WORLD__80132bc0(DAT_WORLD__801cc824,1);
        if (iVar2 == DAT_WORLD__801cc7f4) break;
        DAT_WORLD__801cc7f4 = (char)iVar2;
        VSync(2);
        iVar6 = iVar6 + 1;
      } while (iVar6 < 0xf);
      iVar2 = FUN_WORLD__80132c90(DAT_WORLD__801cc824,(int)DAT_WORLD__801cc7f4);
      DAT_WORLD__801cc7ec = (char)iVar2;
    }
    else {
      FUN_WORLD__8012ab1c(6);
      DAT_WORLD__8018bacc = 0x30;
    }
    iVar2 = 0xe;
    puVar3 = &DAT_80057c7a;
    do {
      *puVar3 = 0xfe;
      iVar2 = iVar2 + -1;
      puVar3 = puVar3 + -1;
    } while (-1 < iVar2);
    DAT_80057c69 = 0xff;
    DAT_WORLD__801940d8 = 1;
    DAT_WORLD__80194244 = 1;
    DAT_WORLD__801cc7e4 = 1;
    DAT_WORLD__801cc7e8 = 0;
    DAT_WORLD__801cc7f8 = 0;
    _DAT_WORLD__801cd732 = 0xffff;
    return;
  }
  iVar2 = (int)DAT_WORLD__801cc7dc;
  if (iVar2 == 3) {
    iVar2 = FUN_WORLD__80132a98();
    if (iVar2 < 1) {
      if (DAT_WORLD__801cc7e4 != '\0') {
        uVar4 = FUN_WORLD__8012ab78(6,(int)&DAT_WORLD__80194064);
        DAT_WORLD__801cc7e4 = (char)uVar4;
        if ((uVar4 & 0xff) != 0) {
          return;
        }
        if (_DAT_WORLD__801cd732 != 0) {
          return;
        }
        FUN_WORLD__8012ac44(6,(int)&DAT_WORLD__801941cc);
        return;
      }
      if (_DAT_WORLD__801cd732 == 0) {
        DAT_WORLD__80194246 = '\x01';
      }
      else {
        DAT_WORLD__801cc800 = 0;
      }
    }
    else {
      FUN_WORLD__8012ab1c(6);
      FUN_WORLD__8012ab1c(5);
    }
  }
  else if (iVar2 - 1U < 2) {
    iVar2 = FUN_WORLD__80132a98();
    FUN_WORLD__8012ac44(6,(int)&DAT_WORLD__80194208);
    if (((DAT_WORLD__801cd52c & 0x40) != 0) || ((DAT_WORLD__801cd52c & 0x20) != 0)) {
      FUN_WORLD__8012aaf4(6);
      DAT_WORLD__8018bacc = 2;
      DAT_WORLD__80194247 = 1;
      return;
    }
    if ((iVar2 != 3) && (iVar2 != 0)) {
      return;
    }
    FUN_WORLD__8012ab1c(6);
  }
  else {
    if (iVar2 != 0) {
      return;
    }
    FUN_WORLD__8012bd7c();
    iVar2 = 1;
    if (DAT_WORLD__801cc7e8 < '\x0f') {
      iVar6 = 0;
      if ('\0' < DAT_WORLD__801cc7f4) {
        iVar7 = 0;
        do {
          iVar2 = strcmp((&PTR_s_BASCUS_94221FFTA_WORLD__800e01d4_WORLD__80193cb4)
                         [DAT_WORLD__801cc7e8],(char *)(iVar7 + DAT_WORLD__801cc824));
          if (iVar2 == 0) break;
          iVar6 = iVar6 + 1;
          iVar7 = iVar7 + 0x28;
        } while (iVar6 < DAT_WORLD__801cc7f4);
      }
      sVar5 = -(uint)(iVar2 != 0);
      if (sVar5 != 0xffffffff) {
        memset(DAT_WORLD__801cd1ec,0xff,0x1e80);
        iVar2 = FUN_WORLD__80132e04((&PTR_s_BASCUS_94221FFTA_WORLD__800e01d4_WORLD__80193cb4)
                                    [DAT_WORLD__801cc7e8],1);
        if (iVar2 == -2) {
LAB_WORLD__8013110c:
          DAT_WORLD__80194244 = 0;
          FUN_WORLD__8012ab1c(6);
          return;
        }
        if (iVar2 == -1) {
          sVar5 = 0;
        }
        else {
          sVar5 = FUN_WORLD__80132f7c(iVar2,0x100,0);
          if ((((sVar5 != 0xffffffff) &&
               (sVar5 = FUN_WORLD__80133308(iVar2,DAT_WORLD__801cd1ec + 0x100,0x80),
               sVar5 != 0xffffffff)) && (0xf < DAT_WORLD__801cd1ec[0x100])) &&
             (iVar6 = FUN_WORLD__80133158((&PTR_s_BASCUS_94221FFTA_WORLD__800e01d4_WORLD__80193cb4)
                                          [DAT_WORLD__801cc7e8]), iVar6 != 0)) {
            sVar5 = 0;
            DAT_WORLD__801cc7ec = DAT_WORLD__801cc7ec + '\x01';
          }
          bVar1 = FUN_WORLD__80132f08(iVar2);
          if (CONCAT31(extraout_var,bVar1) == 0) {
            sVar5 = 0xffffffff;
          }
          if (sVar5 == 0xffffffff) goto LAB_WORLD__8013110c;
        }
      }
      if (sVar5 == 0x80) {
        (&DAT_80057c6c)[DAT_WORLD__801cc7e8] = 0;
      }
      if ((int)sVar5 < 1) {
        if (DAT_WORLD__801cc7ec < '\x01') {
          (&DAT_80057c6c)[DAT_WORLD__801cc7e8] = 0xff;
        }
        else {
          (&DAT_80057c6c)[DAT_WORLD__801cc7e8] = 1;
          DAT_WORLD__801cc7ec = DAT_WORLD__801cc7ec + -1;
        }
      }
      if (-1 < (char)(&DAT_80057c6c)[DAT_WORLD__801cc7e8]) {
        FUN_WORLD__801312a8((int)(char)(&DAT_80057c6c)[DAT_WORLD__801cc7e8],
                            &DAT_WORLD__801cc82c + DAT_WORLD__801cc7e8 * 0x8c);
        bcopy(DAT_WORLD__801cd1ec + 0x100,&DAT_80057d84 + DAT_WORLD__801cc7e8 * 0x18,0x18);
        FUN_WORLD__80130934((int)DAT_WORLD__801cc7e8);
        FUN_WORLD__801315e4((int)DAT_WORLD__801cc7e8);
      }
      DAT_WORLD__801cc7e8 = DAT_WORLD__801cc7e8 + '\x01';
      return;
    }
    DAT_80057c69 = 0;
    FUN_WORLD__8012ab1c(6);
    DAT_WORLD__801cc800 = 1;
  }
  DAT_WORLD__80194244 = 0;
  return;
}



undefined4 FUN_WORLD__801312a8(int param_1,byte *param_2)

{
  byte bVar1;
  char cVar2;
  byte *pbVar3;
  byte *pbVar4;
  int iVar5;
  
  if (param_1 == 1) {
    pbVar3 = FUN_WORLD__8012a08c(&DAT_WORLD__80193cf0,0xe);
    bVar1 = *pbVar3;
    *param_2 = bVar1;
    param_2 = param_2 + 1;
    while (bVar1 != 0xfe) {
      pbVar3 = pbVar3 + 1;
      bVar1 = *pbVar3;
      *param_2 = bVar1;
      param_2 = param_2 + 1;
    }
  }
  else {
    if (param_1 < 0) {
      return 0;
    }
    if (param_1 == 0) {
      iVar5 = 0;
      cVar2 = *(char *)(DAT_WORLD__801cd1ec + 0x101);
      while (cVar2 != -2) {
        *param_2 = *(byte *)(DAT_WORLD__801cd1ec + iVar5 + 0x101);
        iVar5 = iVar5 + 1;
        param_2 = param_2 + 1;
        cVar2 = *(char *)(DAT_WORLD__801cd1ec + iVar5 + 0x101);
      }
      *param_2 = 0xe7;
      param_2[1] = 0x58;
      pbVar3 = param_2 + 2;
      pbVar4 = (byte *)FUN_WORLD__8012d7b4(1);
      pbVar4 = FUN_WORLD__8012a08c(pbVar4,(ushort)*(byte *)(DAT_WORLD__801cd1ec + 0x112));
      bVar1 = *pbVar4;
      while (bVar1 != 0xfe) {
        bVar1 = *pbVar4;
        pbVar4 = pbVar4 + 1;
        *pbVar3 = bVar1;
        pbVar3 = pbVar3 + 1;
        bVar1 = *pbVar4;
      }
      *pbVar3 = 0xe7;
      pbVar3[1] = 0xac;
      pbVar3 = pbVar3 + 2;
      pbVar4 = FUN_WORLD__8012a08c(&DAT_WORLD__80193cf0,0xd);
      bVar1 = *pbVar4;
      while (bVar1 != 0xfe) {
        bVar1 = *pbVar4;
        pbVar4 = pbVar4 + 1;
        *pbVar3 = bVar1;
        pbVar3 = pbVar3 + 1;
        bVar1 = *pbVar4;
      }
      *pbVar3 = *(byte *)(DAT_WORLD__801cd1ec + 0x113) / 10;
      pbVar3[1] = *(byte *)(DAT_WORLD__801cd1ec + 0x113) % 10;
      pbVar3[2] = 0xfe;
      pbVar3 = pbVar3 + 3;
      pbVar4 = FUN_WORLD__8012a08c(&DAT_WORLD__80193cf0,
                                   (ushort)*(byte *)(DAT_WORLD__801cd1ec + 0x114));
      bVar1 = *pbVar4;
      while (bVar1 != 0xfe) {
        bVar1 = *pbVar4;
        pbVar4 = pbVar4 + 1;
        *pbVar3 = bVar1;
        pbVar3 = pbVar3 + 1;
        bVar1 = *pbVar4;
      }
      *pbVar3 = 0xfa;
      pbVar3[1] = *(byte *)(DAT_WORLD__801cd1ec + 0x115) / 10;
      pbVar3[2] = *(byte *)(DAT_WORLD__801cd1ec + 0x115) % 10;
      pbVar3[3] = 0xe7;
      pbVar3[4] = 0x58;
      pbVar4 = FUN_WORLD__8012a08c(DAT_WORLD__801cd8ec,
                                   (ushort)*(byte *)(DAT_WORLD__801cd1ec + 0x116));
      bVar1 = *pbVar4;
      pbVar3[5] = bVar1;
      param_2 = pbVar3 + 6;
      while (bVar1 != 0xfe) {
        pbVar4 = pbVar4 + 1;
        bVar1 = *pbVar4;
        *param_2 = bVar1;
        param_2 = param_2 + 1;
      }
    }
  }
  *param_2 = 0xfe;
  return 0xfe;
}



void FUN_WORLD__801315e4(int param_1)

{
  short sVar1;
  short local_10;
  short local_e;
  undefined2 local_c;
  undefined2 local_a;
  
  sVar1 = (short)param_1;
  if (param_1 < 6) {
    local_10 = 0x240;
    local_e = sVar1 * 0x20 + 0x130;
  }
  else if (param_1 < 0xb) {
    local_10 = 0x1c0;
    local_e = sVar1 * 0x20 + -0x80;
  }
  else {
    local_10 = 0x180;
    local_e = sVar1 * 0x20 + -0x100;
  }
  local_c = 0x32;
  local_a = 0x20;
  FUN_WORLD__8012a5c0(&DAT_WORLD__801cc82c + param_1 * 0x8c,(ushort *)&DAT_WORLD__80194260,&local_10
                     );
  return;
}



int FUN_WORLD__80131690(void)

{
  char *pcVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  
  uVar2 = 0;
  iVar4 = 0;
  pcVar1 = &DAT_80057c6c;
  DAT_WORLD__801cd794 = 0;
  do {
    if (uVar2 == DAT_80057c69) {
      DAT_WORLD__801cc81c = (undefined2)uVar2;
      DAT_WORLD__801cc80c = (byte)iVar4;
    }
    if (DAT_WORLD__801cc804 == '\0') {
      if (*pcVar1 != -1) {
        iVar4 = iVar4 + 1;
      }
    }
    else if (*pcVar1 == '\0') {
      iVar4 = iVar4 + 1;
    }
    uVar2 = uVar2 + 1;
    pcVar1 = pcVar1 + 1;
  } while ((int)uVar2 < 0xf);
  iVar3 = 0;
  do {
    FUN_WORLD__801321d8((uint)DAT_WORLD__801cc80c);
    iVar3 = iVar3 + 1;
    if (DAT_WORLD__801cc810 != 0) {
      iVar3 = 0;
    }
  } while (iVar3 < 10);
  return iVar4;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_WORLD__80131778(ushort param_1)

{
  char *pcVar1;
  bool bVar2;
  bool bVar3;
  byte bVar4;
  byte bVar5;
  char cVar6;
  u_short tpage;
  int iVar7;
  undefined1 *puVar8;
  int iVar9;
  undefined4 uVar10;
  short sVar11;
  undefined4 uVar12;
  int iVar13;
  int iVar14;
  uint uVar15;
  short local_38;
  short local_36;
  undefined2 local_34;
  undefined2 local_32;
  
  if (DAT_WORLD__801cc800 != '\x03') goto LAB_WORLD__80131bd4;
  if (DAT_WORLD__8019429e == '\0') {
    DAT_WORLD__8019429f = '\0';
    DAT_WORLD__801942a1 = '\0';
    if (param_1 == 0) {
      DAT_WORLD__8019429e = '\x01';
    }
    else {
      param_1 = 0;
    }
  }
  iVar7 = FUN_WORLD__80132a98();
  bVar4 = DAT_WORLD__801cc80c;
  if (iVar7 < 1) {
    if (DAT_WORLD__8019429f == '\0') {
      if (DAT_WORLD__801942a1 == '\0') {
        if (((param_1 & 0x20) == 0) || (DAT_WORLD__801cc810 != 0)) {
          if ((param_1 & 0x40) == 0) {
            if (DAT_WORLD__801cc810 == 0) {
              bVar5 = DAT_WORLD__801cc80c + 1;
              if ((param_1 & 0x4000) == 0) {
                bVar5 = DAT_WORLD__801cc80c;
                if (((param_1 & 0x1000) != 0) && (DAT_WORLD__801cc80c != 0))
                goto LAB_WORLD__80131b90;
              }
              else {
                DAT_WORLD__801cc80c = DAT_WORLD__801cc828;
                if ((int)(char)DAT_WORLD__801cc828 <= (int)(uint)bVar5) {
LAB_WORLD__80131b90:
                  bVar5 = DAT_WORLD__801cc80c - 1;
                }
              }
              DAT_WORLD__801cc80c = bVar5;
              if (bVar4 != DAT_WORLD__801cc80c) {
                DAT_WORLD__8018bacc = 3;
              }
            }
          }
          else if (DAT_WORLD__801cc810 == 0) {
            DAT_WORLD__8018bacc = 2;
            DAT_WORLD__801cc800 = '\0';
          }
        }
        else {
          Call_Play_Sound(1);
          uVar15 = (uint)DAT_WORLD__801cc80c;
          iVar7 = 0;
          if (DAT_WORLD__801cc804 == '\0') {
            do {
              if ((&DAT_80057c6c)[iVar7] != -1) {
                uVar15 = uVar15 - 1;
              }
            } while ((-1 < (int)uVar15) && (iVar7 = iVar7 + 1, iVar7 < 0xf));
          }
          else {
            do {
              if ((&DAT_80057c6c)[iVar7] == '\0') {
                uVar15 = uVar15 - 1;
              }
            } while ((-1 < (int)uVar15) && (iVar7 = iVar7 + 1, iVar7 < 0xf));
          }
          DAT_WORLD__801cc81c = (short)iVar7;
          iVar7 = (uint)DAT_WORLD__801cc80c - (int)DAT_WORLD__801cc820;
          if (iVar7 == 1) {
            iVar7 = 0x88;
          }
          else if (iVar7 < 2) {
            if (iVar7 == 0) {
              iVar7 = 0x5a;
            }
          }
          else if (iVar7 == 2) {
            iVar7 = 0x1e;
          }
          else if (iVar7 == 3) {
            iVar7 = 0x3a;
          }
          if (DAT_WORLD__801cc804 == '\0') {
            DAT_WORLD__801cc7fc = &DAT_WORLD__801940dc;
            DAT_WORLD__80194150 = 1;
          }
          else {
            DAT_WORLD__801cc7fc = &DAT_WORLD__80194154;
            DAT_WORLD__801941c8 = 0;
          }
          bVar3 = DAT_WORLD__801cc804 == '\0';
          *(short *)(DAT_WORLD__801cc7fc + 10) = (short)iVar7;
          if (bVar3) {
            if ((&DAT_80057c6c)[DAT_WORLD__801cc81c] != '\0') goto LAB_WORLD__80131ad0;
            DAT_WORLD__8019429f = '\x01';
          }
          else {
            DAT_WORLD__801942a1 = '\x01';
          }
        }
      }
      else {
        iVar7 = FUN_WORLD__8012ab78(6,(int)&DAT_WORLD__80194154);
        DAT_WORLD__801942a1 = (char)iVar7;
        if ((DAT_WORLD__801942a1 == '\0') && (_DAT_WORLD__801cd732 == 0)) {
          DAT_WORLD__801cc800 = '\x04';
        }
      }
    }
    else {
      iVar7 = FUN_WORLD__8012ab78(6,(int)&DAT_WORLD__801940dc);
      DAT_WORLD__8019429f = (char)iVar7;
      if ((DAT_WORLD__8019429f == '\0') && (_DAT_WORLD__801cd732 == 0)) {
LAB_WORLD__80131ad0:
        DAT_WORLD__801cc800 = '\x05';
      }
    }
  }
  else {
    iVar7 = FUN_WORLD__80132b50(3);
    if (iVar7 != 0) {
      FUN_WORLD__8012ab1c(6);
      FUN_WORLD__8012ab1c(5);
      DAT_WORLD__801cc800 = '\x02';
      DAT_80057c69 = 0xff;
    }
  }
  if (DAT_WORLD__801cc800 != '\x03') {
    DAT_WORLD__8019429e = '\0';
  }
LAB_WORLD__80131bd4:
  iVar7 = 0;
  uVar15 = 0;
  iVar13 = -0xb;
  iVar14 = 0;
  FUN_WORLD__801321d8((uint)DAT_WORLD__801cc80c);
  DAT_WORLD__801cd720 = &DAT_WORLD__80194250;
  bVar3 = DAT_WORLD__801cc800 != '\x03';
  do {
    if (DAT_WORLD__801cc804 == '\0') {
      bVar2 = iVar7 < 0xf;
      iVar9 = iVar13;
      if (*(char *)(iVar13 + -0x7ffa8389) == -1) {
        do {
          iVar13 = iVar9 + 1;
          iVar7 = iVar7 + 1;
          iVar14 = iVar14 + 3;
          if (0xe < iVar7) goto LAB_WORLD__8013205c;
          pcVar1 = (char *)(iVar9 + -0x7ffa8388);
          iVar9 = iVar13;
        } while (*pcVar1 == -1);
        bVar2 = iVar7 < 0xf;
      }
    }
    else {
      bVar2 = iVar7 < 0xf;
      iVar9 = iVar13;
      if (*(char *)(iVar13 + -0x7ffa8389) != '\0') {
        do {
          iVar13 = iVar9 + 1;
          iVar7 = iVar7 + 1;
          iVar14 = iVar14 + 3;
          if (0xe < iVar7) goto LAB_WORLD__8013205c;
          pcVar1 = (char *)(iVar9 + -0x7ffa8388);
          iVar9 = iVar13;
        } while (*pcVar1 != '\0');
        bVar2 = iVar7 < 0xf;
      }
    }
    if (!bVar2) break;
    iVar9 = (uint)DAT_WORLD__801cc818 + (uint)DAT_WORLD__801cc810 + uVar15 * 0x30;
    DAT_WORLD__80194258 = (short)iVar9 + 0xc;
    if ((iVar9 + 0x3cU & 0xffff) < 0x121) {
      FUN_WORLD__801298b0(10);
      iVar9 = 0;
      if ((uVar15 != DAT_WORLD__801cc80c) || (bVar3 != 0)) {
        iVar9 = 1;
      }
      FUN_WORLD__801298c0(iVar9);
      FUN_WORLD__80126c30((int)&DAT_WORLD__80194248);
      DAT_WORLD__801942a6 = DAT_WORLD__80194258 - 0xe;
      DAT_WORLD__801942ba = DAT_WORLD__80194258 + -0xd;
      cVar6 = (char)iVar7;
      DAT_WORLD__801942e2 = DAT_WORLD__801942ba;
      DAT_WORLD__801942f6 = DAT_WORLD__801942ba;
      if (DAT_WORLD__801942a6 < 0xf1) {
        puVar8 = FUN_WORLD__80129b6c();
        FUN_WORLD__8012c8bc((short *)&DAT_WORLD__801942a4,puVar8,0,0,0xb);
        puVar8 = FUN_WORLD__80129b6c();
        FUN_WORLD__8012c8bc((short *)&DAT_WORLD__801942b8,puVar8,0,0,0xb);
        puVar8 = FUN_WORLD__80129b6c();
        FUN_WORLD__8012c8bc((short *)&DAT_WORLD__801942e0,puVar8,0,0,0xb);
        puVar8 = FUN_WORLD__80129b6c();
        uVar10 = 0;
        uVar12 = 0;
        FUN_WORLD__8012c8bc((short *)&DAT_WORLD__801942f4,puVar8,0,0,0xb);
        FUN_WORLD__801298b0(0xb);
        DAT_WORLD__80194271 = cVar6 + '\x01';
        DAT_WORLD__80194270 = (undefined)DAT_WORLD__801942a6;
        FUN_WORLD__80127c34(&DAT_WORLD__80194268,&DAT_WORLD__80194270,uVar10,uVar12);
      }
      DAT_WORLD__801942ce = DAT_WORLD__801942a6;
      if (DAT_WORLD__801942a6 < 0xf1) {
        puVar8 = FUN_WORLD__80129b6c();
        uVar10 = 0;
        uVar12 = 0;
        FUN_WORLD__8012c8bc((short *)&DAT_WORLD__801942cc,puVar8,0,0,0xb);
        DAT_WORLD__8019427c = (undefined)DAT_WORLD__801942a6;
        DAT_WORLD__80194288 = (undefined)DAT_WORLD__801942a6;
        DAT_WORLD__80194294 = (undefined)DAT_WORLD__801942a6;
        DAT_WORLD__80194295 = (&DAT_800597e2)[iVar14];
        DAT_WORLD__80194289 = (&DAT_800597e1)[iVar14];
        DAT_WORLD__8019427d = (&DAT_800597e0)[iVar14];
        if (99 < DAT_WORLD__8019427d) {
          DAT_WORLD__8019427d = 99;
        }
        FUN_WORLD__80127c34(&DAT_WORLD__80194274,puVar8,uVar10,uVar12);
        FUN_WORLD__80127c34(&DAT_WORLD__80194280,puVar8,uVar10,uVar12);
        FUN_WORLD__80127c34(&DAT_WORLD__8019428c,puVar8,uVar10,uVar12);
      }
      if (*(char *)(iVar13 + -0x7ffa8389) == '\x01') {
        local_38 = 0x74;
        local_34 = 0x28;
        local_32 = 0x10;
        local_36 = DAT_WORLD__80194258 + 5;
      }
      else {
        local_38 = 0x1c;
        local_34 = 200;
        local_32 = 0x1f;
        local_36 = DAT_WORLD__80194258 + -3;
      }
      if (iVar7 < 6) {
        cVar6 = cVar6 * ' ' + '0';
        tpage = DAT_WORLD__8018df88;
      }
      else if (iVar7 < 0xb) {
        tpage = GetTPage(0,0,0x1c0,0);
        cVar6 = cVar6 * ' ' + -0x80;
      }
      else {
        tpage = GetTPage(0,0,0x180,0);
        cVar6 = (char)iVar13 * ' ' + '`';
      }
      FUN_WORLD__8012c6a8(&local_38,'\0',cVar6,(undefined *)0x0,0,tpage,DAT_WORLD__801cd5d8,0xb);
    }
    iVar13 = iVar13 + 1;
    iVar14 = iVar14 + 3;
    iVar7 = iVar7 + 1;
    uVar15 = uVar15 + 1;
  } while (iVar7 < 0xf);
LAB_WORLD__8013205c:
  FUN_WORLD__801298b0(0xf);
  iVar13 = (uint)DAT_WORLD__801cc80c - (int)DAT_WORLD__801cc820;
  iVar7 = iVar13;
  if (iVar13 < 0) {
    iVar7 = 0;
  }
  sVar11 = (short)iVar7;
  if (3 < iVar13) {
    sVar11 = 3;
  }
  DAT_WORLD__8019429a = sVar11 * 0x30 + 0x28;
  FUN_WORLD__801282dc((short *)&DAT_WORLD__80194298,(ushort *)&DAT_WORLD__8019429c,(uint)bVar3);
  if (DAT_WORLD__801cc820 != 0) {
    local_38 = 0xe3;
    local_36 = 0x20;
    local_34 = 8;
    local_32 = 0x10;
    FUN_WORLD__8012c6a8(&local_38,-0x28,'\0',(undefined *)0x0,0,DAT_WORLD__8018df8a,
                        DAT_WORLD__8018df9a,0xf);
  }
  if (4 < (int)(char)DAT_WORLD__801cc828 - (int)DAT_WORLD__801cc820) {
    local_38 = 0xe3;
    local_36 = 0xba;
    local_34 = 8;
    local_32 = 0x10;
    FUN_WORLD__8012c6a8(&local_38,-0x20,'\0',(undefined *)0x0,0,DAT_WORLD__8018df8a,
                        DAT_WORLD__8018df9a,0xf);
  }
  return;
}



void FUN_WORLD__801321d8(int param_1)

{
  int iVar1;
  
  iVar1 = (int)DAT_WORLD__801cc810;
  if (iVar1 == 0) {
    if (param_1 < DAT_WORLD__801cc820) {
      DAT_WORLD__801cc810 = 4;
      DAT_WORLD__801cc820 = DAT_WORLD__801cc820 + -1;
    }
    if (DAT_WORLD__801cc820 + 4 <= param_1) {
      DAT_WORLD__801cc810 = -4;
      DAT_WORLD__801cc820 = DAT_WORLD__801cc820 + 1;
    }
  }
  else {
    if (iVar1 < 0) {
      if (-0x30 < (iVar1 + -4) * 0x10000 >> 0x10) {
        DAT_WORLD__801cc810 = (short)(iVar1 + -4);
        return;
      }
      DAT_WORLD__801cc818 = DAT_WORLD__801cc818 + -0x30;
    }
    else {
      if (iVar1 < 1) {
        return;
      }
      if ((iVar1 + 4) * 0x10000 >> 0x10 < 0x30) {
        DAT_WORLD__801cc810 = (short)(iVar1 + 4);
        return;
      }
      DAT_WORLD__801cc818 = DAT_WORLD__801cc818 + 0x30;
    }
    DAT_WORLD__801cc810 = 0;
  }
  return;
}



void FUN_WORLD__801322e4(int param_1,undefined4 param_2,undefined *param_3)

{
  char cVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  *param_3 = 0x53;
  param_3[1] = 0x43;
  param_3[2] = 0x11;
  param_3[3] = 1;
  memset(param_3 + 0x44,'\0',0x1c);
  bcopy(&DAT_WORLD__800e01e8,param_3 + 4,0x16);
  param_3[0x14] = 0x82;
  param_3[0x16] = 0x82;
  cVar1 = (char)((param_1 + 1) / 10);
  param_3[0x15] = cVar1 + 'O';
  param_3[0x17] = (char)(param_1 + 1) + cVar1 * -10 + 'O';
  iVar4 = DAT_800459c4;
  if (99 < DAT_800459c4) {
    iVar4 = 99;
  }
  iVar2 = 10;
  iVar5 = 0x16;
  do {
    iVar3 = iVar5;
    iVar5 = iVar4 / iVar2;
    iVar4 = iVar4 % iVar2;
    param_3[iVar3 + 4] = 0x82;
    iVar2 = iVar2 / 10;
    param_3[iVar3 + 5] = (char)iVar5 + 'O';
    iVar5 = iVar3 + 2;
  } while (0 < iVar2);
  param_3[iVar3 + 6] = 0x81;
  param_3[iVar3 + 7] = 0x46;
  iVar4 = DAT_800459c0;
  if (0x3b < DAT_800459c0) {
    iVar4 = 0x3b;
  }
  iVar2 = 10;
  iVar5 = iVar3 + 4;
  do {
    iVar3 = iVar5;
    iVar5 = iVar4 / iVar2;
    iVar4 = iVar4 % iVar2;
    param_3[iVar3 + 4] = 0x82;
    iVar2 = iVar2 / 10;
    param_3[iVar3 + 5] = (char)iVar5 + 'O';
    iVar5 = iVar3 + 2;
  } while (0 < iVar2);
  param_3[iVar3 + 6] = 0x81;
  param_3[iVar3 + 7] = 0x46;
  iVar4 = DAT_800459bc;
  if (0x3b < DAT_800459bc) {
    iVar4 = 0x3b;
  }
  iVar2 = 10;
  iVar5 = iVar3 + 4;
  do {
    iVar3 = iVar5;
    iVar5 = iVar4 / iVar2;
    iVar4 = iVar4 % iVar2;
    param_3[iVar3 + 4] = 0x82;
    iVar2 = iVar2 / 10;
    param_3[iVar3 + 5] = (char)iVar5 + 'O';
    iVar5 = iVar3 + 2;
  } while (0 < iVar2);
  param_3[iVar3 + 6] = 0;
  param_3[iVar3 + 7] = 0;
  iVar4 = (param_1 % 0xf) * 0xa0;
  bcopy((uchar *)(iVar4 + -0x7fe6bcf8),param_3 + 0x60,0x20);
  bcopy((uchar *)(iVar4 + -0x7fe6bcd8),param_3 + 0x80,0x80);
  return;
}



// Possible VS_AUTO.OBJ/SsSetAutoKeyOffMode

void FUN_WORLD__801325b4(undefined param_1)

{
  DAT_WORLD__80194fdc = param_1;
  return;
}



undefined FUN_WORLD__801325c4(void)

{
  return DAT_WORLD__80194fdc;
}



void FUN_WORLD__801325d4(void)

{
  return;
}



void FUN_WORLD__801325dc(void)

{
  FUN_WORLD__8013270c();
  FUN_WORLD__8013286c();
  return;
}



int FUN_WORLD__80132604(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = -1;
  iVar1 = TestEvent(cardokaydoneBIOS);
  if (iVar1 == 1) {
    iVar2 = 0;
  }
  else {
    iVar1 = TestEvent(carderrwriteBIOS);
    if (iVar1 == 1) {
      iVar2 = 1;
    }
    else {
      iVar1 = TestEvent(carderrbusyBIOS);
      if (iVar1 == 1) {
        iVar2 = 2;
      }
      else {
        iVar1 = TestEvent(carderrejectBIOS);
        if (iVar1 == 1) {
          iVar2 = 3;
        }
      }
    }
  }
  if (iVar2 != -1) {
    FUN_WORLD__8013270c();
  }
  return iVar2;
}



int FUN_WORLD__801326c4(void)

{
  uint uVar1;
  int iVar2;
  
  do {
    uVar1 = _card_status();
    iVar2 = FUN_WORLD__80132604();
    if (-1 < iVar2) {
      return iVar2;
    }
  } while ((uVar1 & 1) == 0);
  return 2;
}



void FUN_WORLD__8013270c(void)

{
  TestEvent(cardokaydoneBIOS);
  TestEvent(carderrwriteBIOS);
  TestEvent(carderrbusyBIOS);
  TestEvent(carderrejectBIOS);
  return;
}



int FUN_WORLD__80132764(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = -1;
  iVar1 = TestEvent(cardokayHRDWR);
  if (iVar1 == 1) {
    iVar2 = 0;
  }
  else {
    iVar1 = TestEvent(carderrHRDWR);
    if (iVar1 == 1) {
      iVar2 = 1;
    }
    else {
      iVar1 = TestEvent(carderrbusyHRDWR);
      if (iVar1 == 1) {
        iVar2 = 2;
      }
      else {
        iVar1 = TestEvent(carderr2HRDWR);
        if (iVar1 == 1) {
          iVar2 = 3;
        }
      }
    }
  }
  if (iVar2 != -1) {
    FUN_WORLD__8013286c();
  }
  return iVar2;
}



int FUN_WORLD__80132824(void)

{
  uint uVar1;
  int iVar2;
  
  do {
    uVar1 = _card_status();
    iVar2 = FUN_WORLD__80132764();
    if (-1 < iVar2) {
      return iVar2;
    }
  } while ((uVar1 & 1) == 0);
  return 2;
}



void FUN_WORLD__8013286c(void)

{
  TestEvent(cardokayHRDWR);
  TestEvent(carderrHRDWR);
  TestEvent(carderrbusyHRDWR);
  TestEvent(carderr2HRDWR);
  return;
}



int FUN_WORLD__801328c4(undefined4 param_1,int param_2)

{
  int iVar1;
  int in_v1;
  int iVar2;
  
  iVar2 = 0;
  if (0 < param_2) {
    do {
      iVar1 = _card_info();
      in_v1 = 2;
      if ((iVar1 == 1) && (in_v1 = FUN_WORLD__801326c4(), in_v1 == 0)) {
        return 0;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < param_2);
  }
  return in_v1;
}



int FUN_WORLD__80132950(undefined4 param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int unaff_s1;
  
  iVar2 = 0;
  if (0 < param_2) {
    do {
      iVar1 = _card_load();
      unaff_s1 = 2;
      if ((iVar1 == 1) && (unaff_s1 = FUN_WORLD__801326c4(), unaff_s1 == 0)) {
        return 0;
      }
      VSync(2);
      iVar2 = iVar2 + 1;
    } while (iVar2 < param_2);
  }
  return unaff_s1;
}



int FUN_WORLD__801329e4(undefined4 param_1,int param_2)

{
  int iVar1;
  int unaff_s0;
  int iVar2;
  
  iVar2 = 0;
  if (0 < param_2) {
    do {
      iVar1 = _card_clear();
      unaff_s0 = 2;
      if (iVar1 == 1) {
        unaff_s0 = FUN_WORLD__80132824();
        if (2 < unaff_s0) {
          unaff_s0 = 1;
        }
        if (unaff_s0 == 0) {
          return 0;
        }
        iVar1 = FUN_WORLD__80132b50(1);
        if (iVar1 == 0) {
          return 0;
        }
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < param_2);
  }
  return unaff_s0;
}



int FUN_WORLD__80132a98(void)

{
  uint uVar1;
  int iVar2;
  
  if (DAT_WORLD__80194fdd == '\0') {
    _card_info();
    DAT_WORLD__80194fdd = '\x01';
  }
  uVar1 = _card_status();
  iVar2 = FUN_WORLD__80132604();
  if (((uVar1 & 1) != 0) && (iVar2 == -1)) {
    iVar2 = 2;
  }
  if ((-1 < iVar2) && (DAT_WORLD__80194fdd = '\0', 0 < iVar2)) {
    iVar2 = FUN_WORLD__801328c4((uint)DAT_WORLD__80194fdc << 4,2);
  }
  if (iVar2 == 1) {
    iVar2 = 2;
  }
  return iVar2;
}



int FUN_WORLD__80132b50(int param_1)

{
  int in_v1;
  int iVar1;
  
  iVar1 = 0;
  if (0 < param_1) {
    do {
      do {
        in_v1 = FUN_WORLD__80132a98();
      } while (in_v1 == -1);
    } while ((in_v1 != 0) && (iVar1 = iVar1 + 1, iVar1 < param_1));
  }
  return in_v1;
}



int FUN_WORLD__80132bc0(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  char *pcVar4;
  undefined4 local_90;
  undefined2 local_8c;
  
  if (DAT_WORLD__80194fdc == '\0') {
    local_90 = DAT_WORLD__800e0200;
    local_8c = DAT_WORLD__800e0204;
  }
  else {
    local_90 = DAT_WORLD__800e0208;
    local_8c = DAT_WORLD__800e020c;
  }
  if (param_2 == 0) {
    pcVar4 = s_BISLPS_00700FF7__WORLD__800e0210;
  }
  else {
    pcVar4 = &DAT_WORLD__800e0224;
  }
  strcat((char *)&local_90,pcVar4);
  iVar1 = firstfile();
  iVar2 = 0;
  if (iVar1 == param_1) {
    iVar1 = 1;
    do {
      iVar2 = iVar1;
      param_1 = param_1 + 0x28;
      iVar3 = nextfile();
      iVar1 = iVar2 + 1;
    } while (iVar3 == param_1);
  }
  return iVar2;
}



int FUN_WORLD__80132c90(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  iVar1 = 0;
  if (0 < param_2) {
    do {
      iVar2 = iVar2 + 1;
      iVar1 = iVar1 + ((int)*(uint *)(param_1 + 0x18) >> 0xd) +
              (uint)((*(uint *)(param_1 + 0x18) & 0x1fff) != 0);
      param_1 = param_1 + 0x28;
    } while (iVar2 < param_2);
  }
  if (iVar1 < 0x10) {
    iVar1 = 0xf - iVar1;
  }
  else {
    iVar1 = 0;
  }
  return iVar1;
}



int FUN_WORLD__80132cec(void)

{
  int iVar1;
  int iVar2;
  
  iVar1 = FUN_WORLD__80132b50(10);
  if (iVar1 == 3) {
    iVar1 = FUN_WORLD__801329e4((uint)DAT_WORLD__80194fdc << 4,10);
    if (iVar1 != 0) {
      return 2;
    }
  }
  else if (iVar1 != 0) goto LAB_WORLD__80132d50;
  iVar1 = FUN_WORLD__80132950((uint)DAT_WORLD__80194fdc << 4,0x1e);
LAB_WORLD__80132d50:
  iVar2 = 3;
  if ((iVar1 != 3) && (iVar2 = iVar1, iVar1 != 0)) {
    iVar2 = 2;
  }
  return iVar2;
}



undefined4 FUN_WORLD__80132d78(void)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = FUN_WORLD__80132b50(10);
  uVar2 = 0;
  if (iVar1 < 1) {
    format();
    format();
    uVar2 = format();
  }
  return uVar2;
}



int FUN_WORLD__80132e04(char *param_1,int param_2)

{
  bool bVar1;
  undefined3 extraout_var;
  int iVar2;
  int iVar3;
  undefined4 local_90;
  undefined2 local_8c;
  
  iVar3 = 0;
  if ((DAT_WORLD__80194fd8 < 0) ||
     (bVar1 = FUN_WORLD__80132f08(DAT_WORLD__80194fd8), CONCAT31(extraout_var,bVar1) != 0)) {
    iVar2 = FUN_WORLD__801325c4();
    if (iVar2 == 0) {
      local_90 = DAT_WORLD__800e0200;
      local_8c = DAT_WORLD__800e0204;
    }
    else {
      local_90 = DAT_WORLD__800e0208;
      local_8c = DAT_WORLD__800e020c;
    }
    strcat((char *)&local_90,param_1);
    do {
      iVar2 = FUN_WORLD__80132b50(10);
      if (iVar2 != 0) goto LAB_WORLD__80132e40;
      iVar2 = open((char *)&local_90,param_2);
      DAT_WORLD__80194fd8 = iVar2;
    } while ((iVar2 == -1) && (iVar3 = iVar3 + 1, iVar3 < 0x28));
  }
  else {
LAB_WORLD__80132e40:
    iVar2 = -2;
  }
  return iVar2;
}



bool FUN_WORLD__80132f08(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0;
  do {
    iVar1 = FUN_WORLD__80132b50(10);
    iVar2 = close(param_1);
    if (iVar2 == param_1) {
      DAT_WORLD__80194fd8 = 0xffffffff;
      return iVar1 == 0;
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < 10);
  DAT_WORLD__80194fd8 = 0xffffffff;
  return false;
}



__off_t FUN_WORLD__80132f7c(int param_1,__off_t param_2,int param_3)

{
  int iVar1;
  __off_t _Var2;
  int iVar3;
  
  iVar3 = 0;
  while( true ) {
    iVar1 = FUN_WORLD__80132b50(10);
    if (iVar1 != 0) {
      return -1;
    }
    _Var2 = lseek(param_1,param_2,param_3);
    if (_Var2 != -1) break;
    iVar3 = iVar3 + 1;
    if (9 < iVar3) {
      return -1;
    }
  }
  return _Var2;
}



uint FUN_WORLD__8013300c(char *param_1,int param_2,uint param_3,int param_4)

{
  bool bVar1;
  int iVar2;
  undefined3 extraout_var;
  __off_t _Var3;
  ssize_t sVar4;
  undefined3 extraout_var_00;
  uint uVar5;
  
  if (param_4 != 0) {
    iVar2 = FUN_WORLD__80132e04(param_1,(uint)*(byte *)(param_2 + 3) << 0x10 | 0x200);
    if (iVar2 < 0) {
      return 0xffffffff;
    }
    bVar1 = FUN_WORLD__80132f08(DAT_WORLD__80194fd8);
    if (CONCAT31(extraout_var,bVar1) == 0) {
      return 0xffffffff;
    }
  }
  iVar2 = FUN_WORLD__80132e04(param_1,2);
  if (-1 < iVar2) {
    iVar2 = _get_error();
    uVar5 = 0;
    if (iVar2 == 0) {
      iVar2 = 0;
      while( true ) {
        _Var3 = FUN_WORLD__80132f7c(DAT_WORLD__80194fd8,uVar5,1);
        if (_Var3 < 0) break;
        sVar4 = write(DAT_WORLD__80194fd8,(void *)(param_2 + uVar5),param_3 - uVar5);
        if (((sVar4 != -1) && (uVar5 = uVar5 + sVar4, param_3 <= uVar5)) ||
           (iVar2 = iVar2 + 1, 0x27 < iVar2)) break;
      }
      bVar1 = FUN_WORLD__80132f08(DAT_WORLD__80194fd8);
      if (CONCAT31(extraout_var_00,bVar1) != 0) {
        return uVar5;
      }
    }
    else {
      FUN_WORLD__80132f08(DAT_WORLD__80194fd8);
    }
  }
  return 0xffffffff;
}



int FUN_WORLD__80133158(char *param_1)

{
  int iVar1;
  int iVar2;
  undefined4 local_108;
  undefined2 local_104;
  
  if (DAT_WORLD__80194fdc == '\0') {
    local_108 = DAT_WORLD__800e0200;
    local_104 = DAT_WORLD__800e0204;
  }
  else {
    local_108 = DAT_WORLD__800e0208;
    local_104 = DAT_WORLD__800e020c;
  }
  strcat((char *)&local_108,param_1);
  iVar2 = 0;
  while( true ) {
    iVar1 = FUN_WORLD__80132b50(10);
    if (iVar1 != 0) {
      return 0;
    }
    iVar1 = delete();
    iVar2 = iVar2 + 1;
    if (iVar1 != 0) break;
    if (9 < iVar2) {
      return 0;
    }
  }
  return iVar1;
}



uint FUN_WORLD__801331fc(char *param_1,int param_2,uint param_3)

{
  bool bVar1;
  int iVar2;
  __off_t _Var3;
  ssize_t sVar4;
  undefined3 extraout_var;
  uint uVar5;
  
  iVar2 = FUN_WORLD__80132e04(param_1,1);
  if (-1 < iVar2) {
    iVar2 = _get_error();
    uVar5 = 0;
    if (iVar2 == 0) {
      iVar2 = 0;
      while( true ) {
        _Var3 = FUN_WORLD__80132f7c(DAT_WORLD__80194fd8,uVar5,1);
        if (_Var3 < 0) break;
        sVar4 = read(DAT_WORLD__80194fd8,(void *)(param_2 + uVar5),param_3 - uVar5);
        if (((sVar4 != -1) && (uVar5 = uVar5 + sVar4, param_3 <= uVar5)) ||
           (iVar2 = iVar2 + 1, 0x27 < iVar2)) break;
      }
      bVar1 = FUN_WORLD__80132f08(DAT_WORLD__80194fd8);
      if (CONCAT31(extraout_var,bVar1) != 0) {
        return uVar5;
      }
    }
    else {
      FUN_WORLD__80132f08(DAT_WORLD__80194fd8);
    }
  }
  return 0xffffffff;
}



size_t FUN_WORLD__80133308(int param_1,void *param_2,size_t param_3)

{
  __off_t _Var1;
  int iVar2;
  size_t sVar3;
  __off_t _Var4;
  
  _Var1 = FUN_WORLD__80132f7c(param_1,0,1);
  if ((-1 < _Var1) && (iVar2 = _get_error(), iVar2 == 0)) {
    iVar2 = 0;
    do {
      sVar3 = read(param_1,param_2,param_3);
      if (sVar3 == param_3) {
        return sVar3;
      }
      _Var4 = FUN_WORLD__80132f7c(param_1,_Var1,0);
      if (_Var4 < 0) {
        return 0xffffffff;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < 10);
  }
  return 0xffffffff;
}



size_t FUN_WORLD__801333c0(int param_1,void *param_2,size_t param_3)

{
  __off_t _Var1;
  int iVar2;
  size_t sVar3;
  __off_t _Var4;
  
  _Var1 = FUN_WORLD__80132f7c(param_1,0,1);
  if ((-1 < _Var1) && (iVar2 = _get_error(), iVar2 == 0)) {
    iVar2 = 0;
    do {
      sVar3 = write(param_1,param_2,param_3);
      if (sVar3 == param_3) {
        return sVar3;
      }
      _Var4 = FUN_WORLD__80132f7c(param_1,_Var1,0);
      if (_Var4 < 0) {
        return 0xffffffff;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < 10);
  }
  return 0xffffffff;
}



void FUN_ATTACK__801c33c4(void)

{
  int iVar1;
  
  do {
    VSync(0);
    DAT_80173ca8 = FUN_80043708;
    iVar1 = FUN_BATTLE_BIN__8014ceb4();
  } while (iVar1 != 0);
  return;
}



void FUN_ATTACK__801c340c(int param_1,int param_2)

{
  FUN_80043f00();
  if (param_1 != 0) {
    DAT_80173ca8 = FUN_800435c4;
    FUN_BATTLE_BIN__8014ceb4();
    FUN_ATTACK__801c33c4();
  }
  if (param_2 != 0) {
    DAT_80173ca8 = FUN_800435c4;
    FUN_BATTLE_BIN__8014ceb4();
    FUN_ATTACK__801c33c4();
  }
  if (param_1 != 0) {
    DAT_80173ca8 = FUN_80043a90;
    FUN_BATTLE_BIN__8014ceb4();
  }
  return;
}



void FUN_ATTACK__801c3b00(void)

{
  ushort uVar1;
  int iVar2;
  undefined4 local_10 [2];
  
  local_10[0] = DAT_ATTACK__801bf000;
  iVar2 = FUN_BATTLE_BIN__8013b590(0x27);
  if ((DAT_80173cb0 == 0) || (iVar2 - 0x19aU < 0x10)) goto LAB_ATTACK__801c3c80;
  if ((DAT_80165fd4 == 0) && (DAT_80165fd6 == 0)) {
LAB_ATTACK__801c3bf4:
    DAT_80165fd8 = 0;
    FUN_ATTACK__801c340c((uint)DAT_801660a4,(uint)DAT_801660a6);
  }
  else {
    uVar1 = DAT_80165fd6;
    if (DAT_80165fd8 == 0) {
      uVar1 = DAT_80165fd4;
    }
    if ((uVar1 != DAT_801660a4) && (uVar1 != DAT_801660a6)) goto LAB_ATTACK__801c3bf4;
    DAT_80173ca8 = FUN_800439c0;
    FUN_BATTLE_BIN__8014ceb4();
    DAT_80173ca8 = FUN_800435c4;
    FUN_BATTLE_BIN__8014ceb4();
    FUN_ATTACK__801c33c4();
  }
  DAT_80165fd4 = DAT_801660a4;
  DAT_80165fd6 = DAT_801660a6;
LAB_ATTACK__801c3c80:
  FUN_BATTLE_BIN__800e8190(99,local_10);
  FUN_BATTLE_BIN__801334a4();
  return;
}



undefined * FUN_ATTACK__801c5a50(void)

{
  undefined *puVar1;
  
  if (DAT_ATTACK__801d5b04 == 0) {
    DAT_ATTACK__801d5b04 = 1;
    puVar1 = &DAT_ATTACK__801dcaac;
  }
  else {
    puVar1 = &DAT_ATTACK__801dcac4;
  }
  return puVar1;
}



void FUN_BUNIT__801bf204(int param_1,undefined4 param_2,int param_3,int param_4,short *param_5)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  
  if (DAT_80165f88 == 2) {
    param_3 = param_3 << 1;
  }
  if (0xb < param_3) {
    param_3 = 0xb;
  }
  uVar6 = (uint)*(ushort *)(&DAT_BUNIT__801cec78 + param_3 * 2);
  FUN_8014bf54();
  iVar4 = (uint)*(ushort *)(param_1 + 0x1c) << 0x10;
  iVar2 = iVar4 >> 0x10;
  iVar5 = (uint)*(ushort *)(param_1 + 0x1e) << 0x10;
  iVar3 = iVar5 >> 0x10;
  sVar1 = *(short *)(param_1 + 0x18) + -0x80;
  *(short *)(param_1 + 0x18) = sVar1;
  *(short *)(param_1 + 0x18) = sVar1 + *param_5;
  *(short *)(param_1 + 0x1a) = *(short *)(param_1 + 0x1a) + param_5[2];
  *(short *)(param_1 + 0x18) =
       ((short)(iVar2 - (iVar4 >> 0x1f) >> 1) + *(short *)(param_1 + 0x18)) -
       (short)((int)(iVar2 * uVar6) / 200);
  *(short *)(param_1 + 0x1a) =
       ((short)(iVar3 - (iVar5 >> 0x1f) >> 1) + *(short *)(param_1 + 0x1a)) -
       (short)((int)(iVar3 * uVar6) / 200);
  *(short *)(param_1 + 0x1c) = (short)((int)((int)*(short *)(param_1 + 0x1c) * uVar6) / 100);
  *(short *)(param_1 + 0x1e) = (short)((int)((int)*(short *)(param_1 + 0x1e) * uVar6) / 100);
  if (param_4 == 0) {
    *(undefined2 *)(param_1 + 0x22) = 0xf0;
    *(short *)(param_1 + 0x1a) = *(short *)(param_1 + 0x1a) + 0xf0;
  }
  else {
    *(undefined2 *)(param_1 + 0x22) = 0;
  }
  SetDrawArea((DR_AREA *)param_1,(RECT *)(param_1 + 0x18));
  SetDrawArea((DR_AREA *)(param_1 + 0xc),(RECT *)(param_1 + 0x20));
  return;
}



void FUN_BUNIT__801c25c4(undefined4 param_1,uint param_2,undefined2 param_3)

{
  byte bVar1;
  undefined uVar2;
  uint uVar3;
  int iVar4;
  
  DAT_80173f44 = param_1;
  DAT_BUNIT__801e3c3c = param_3;
  DAT_BUNIT__801e3c40 = FUN_8014a578();
  DAT_80166044 = 0;
  if (param_2 == 0) {
    DAT_BUNIT__801e3c50 = 0;
    DAT_BUNIT__801e3c54 = 0;
    DAT_BUNIT__801e3c58 = 0;
  }
  DAT_BUNIT__801e3c44 = 0;
  DAT_BUNIT__801e3c4c = DAT_BUNIT__801e3c48;
  if ((DAT_BUNIT__801e3c48 == param_2) && ((param_2 & 0xf00c) != 0)) {
    uVar3 = (int)(uint)DAT_800473a1 / DAT_80165f88;
    if (DAT_80165f88 == 0) {
      trap(0x1c00);
    }
    if ((DAT_80165f88 == -1) && (DAT_800473a1 == 0x80000000)) {
      trap(0x1800);
    }
    DAT_BUNIT__801e3c50 = DAT_BUNIT__801e3c50 + 1;
    if (DAT_BUNIT__801e3c50 == uVar3) {
      DAT_BUNIT__801e3c44 = param_2 & 0xf00c;
    }
    if (DAT_BUNIT__801e3c50 < uVar3) {
      DAT_BUNIT__801e3c54 = 0;
      DAT_BUNIT__801e3c58 = 0;
    }
    else {
      if (DAT_80165f88 == 0) {
        trap(0x1c00);
      }
      if ((DAT_80165f88 == -1) && (DAT_800473a2 == 0x80000000)) {
        trap(0x1800);
      }
      DAT_BUNIT__801e3c54 = DAT_BUNIT__801e3c54 + 1;
      DAT_BUNIT__801e3c58 = DAT_BUNIT__801e3c58 + 1;
      if ((uint)((int)(uint)DAT_800473a2 / DAT_80165f88) <= DAT_BUNIT__801e3c54) {
        DAT_BUNIT__801e3c54 = 0;
        DAT_BUNIT__801e3c44 = param_2 & 0xa000;
        if ((param_2 & 0x80) == 0) {
          DAT_BUNIT__801e3c44 = param_2 & 0xf000;
        }
      }
      if (DAT_80165f88 == 0) {
        trap(0x1c00);
      }
      if ((DAT_80165f88 == -1) && (DAT_800473a3 == 0x80000000)) {
        trap(0x1800);
      }
      if ((uint)((int)(uint)DAT_800473a3 / DAT_80165f88) <= DAT_BUNIT__801e3c58) {
        DAT_BUNIT__801e3c58 = 0;
        uVar3 = param_2 & 0x500c;
        if ((param_2 & 0x80) == 0) {
          uVar3 = param_2 & 0xc;
        }
        DAT_BUNIT__801e3c44 = uVar3 | DAT_BUNIT__801e3c44;
      }
    }
  }
  else {
    DAT_BUNIT__801e3c44 = ~DAT_BUNIT__801e3c48 & param_2;
    DAT_BUNIT__801e3c50 = 0;
  }
  DAT_80165fb4 = 0xffffffff;
  DAT_BUNIT__801e3c48 = param_2;
  FUN_8014a598();
  iVar4 = 1;
  if ((DAT_BUNIT__801e3c44 != 0x100) && (DAT_BUNIT__801e3c44 != 0)) {
    DAT_80166050 = 5;
  }
  do {
    uVar2 = FUN_8014cc94();
    *(undefined *)(iVar4 + -0x7fe14ee0) = uVar2;
    iVar4 = iVar4 + 1;
  } while (iVar4 < 0x10);
  iVar4 = 1;
  FUN_8014ca80();
  do {
    bVar1 = *(byte *)(iVar4 + -0x7fe14ee0);
    uVar3 = FUN_8014cc94();
    iVar4 = iVar4 + 1;
    if (bVar1 != uVar3) {
      DAT_80166050 = 5;
    }
  } while (iVar4 < 0x10);
  if (DAT_80166050 != 0) {
    DAT_80166050 = DAT_80166050 + -1;
  }
  FUN_BUNIT__801c2964();
  DAT_80166010 = DAT_80166010 + 1;
  DAT_80166014 = DAT_80166014 + 1 & 1;
  if (DAT_80166052 != 0) {
    DAT_80166052 = DAT_80166052 + -1;
  }
  return;
}



undefined4 FUN_BUNIT__801c2948(int param_1)

{
  return *(undefined4 *)(param_1 * 0x400 + DAT_80165f98 + 0x48);
}



void FUN_BUNIT__801c2964(void)

{
  u_short uVar1;
  undefined2 uVar2;
  short sVar3;
  int iVar4;
  uint uVar5;
  int *unaff_s0;
  TILE *pTVar6;
  int iVar7;
  DR_MODE *pDVar8;
  DR_MODE *p;
  int iVar9;
  int iVar10;
  int iVar11;
  int *piVar12;
  int *local_38;
  int local_30;
  
  iVar7 = 0;
  iVar4 = FUN_BUNIT__801c2948(8);
  if ((iVar4 != 0) && (*(int *)(DAT_80165f98 + 0x204c) == 0x39)) {
    unaff_s0 = *(int **)(DAT_80165f98 + 0x2000);
    iVar7 = (uint)(*unaff_s0 == 0) << 3;
  }
  iVar4 = FUN_BUNIT__801c2948(7);
  if (((iVar4 != 0) && (*(int *)(DAT_80165f98 + 0x1c4c) == 0x39)) &&
     (**(int **)(DAT_80165f98 + 0x1c00) == 0)) {
    iVar7 = 7;
    unaff_s0 = *(int **)(DAT_80165f98 + 0x1c00);
  }
  if (iVar7 != 0) {
    if ((unaff_s0[1] == 0x90) && ((unaff_s0[2] & 0x80U) == 0)) {
      DAT_BUNIT__801ce8e8 = 2;
      DAT_BUNIT__801ce8ec = 1;
      goto LAB_BUNIT__801c2ad4;
    }
    if ((unaff_s0[1] == 0) && ((unaff_s0[2] & 0x80U) == 0)) {
      DAT_BUNIT__801ce8e8 = 1;
      DAT_BUNIT__801ce8ec = 2;
      goto LAB_BUNIT__801c2ad4;
    }
  }
  if (DAT_BUNIT__801ce8e8 == 1) {
    DAT_BUNIT__801ce8e8 = 2;
  }
  if (DAT_BUNIT__801ce8ec == 1) {
    DAT_BUNIT__801ce8ec = 2;
  }
LAB_BUNIT__801c2ad4:
  iVar7 = 0;
  iVar4 = 0;
  piVar12 = &DAT_BUNIT__801ce8d8;
  local_38 = &DAT_BUNIT__801ce8e0;
  local_30 = 0;
  do {
    uVar5 = *(uint *)((int)&DAT_BUNIT__801ce8d0 + iVar4) ^ 1;
    *(uint *)((int)&DAT_BUNIT__801ce8d0 + iVar4) = uVar5;
    p = (DR_MODE *)(local_30 + uVar5 * 0x13c + -0x7fe1c8b4);
    uVar1 = GetTPage(0,2,0x3c0,0x100);
    SetDrawMode(p,0,0,(uint)uVar1,(RECT *)&DAT_BUNIT__801cec70);
    SetTile((TILE *)(p + 1));
    *(undefined *)p[1].code = 0;
    *(undefined *)((int)p[1].code + 1) = 0;
    *(undefined *)((int)p[1].code + 2) = 0;
    SetSemiTrans((TILE *)(p + 1),1);
    uVar2 = 0xb2;
    if (iVar7 == 0) {
      uVar2 = 0x23;
    }
    iVar9 = 0;
    iVar11 = 0xac;
    iVar10 = 0x1c;
    *(undefined2 *)(p[1].code + 1) = 0x80;
    *(undefined2 *)((int)p[1].code + 6) = uVar2;
    *(undefined2 *)&p[2].tag = 0x100;
    *(undefined2 *)((int)&p[2].tag + 2) = 0x32;
    pDVar8 = p;
    do {
      pTVar6 = (TILE *)((int)p->code + iVar10 + -4);
      SetTile(pTVar6);
      *(undefined *)(pDVar8[2].code + 1) = 0;
      *(undefined *)((int)pDVar8[2].code + 5) = 0;
      *(undefined *)((int)pDVar8[2].code + 6) = 0;
      SetSemiTrans(pTVar6,1);
      sVar3 = 0xa9;
      *(undefined2 *)pDVar8[3].code = 0x100;
      *(undefined2 *)((int)pDVar8[3].code + 2) = 1;
      if (iVar7 == 0) {
        sVar3 = 0x1a;
      }
      pTVar6 = (TILE *)((int)p->code + iVar11 + -4);
      *(undefined2 *)&pDVar8[3].tag = 0x80;
      *(short *)((int)&pDVar8[3].tag + 2) = sVar3 + (short)iVar9;
      SetTile(pTVar6);
      *(undefined *)(pDVar8[0xe].code + 1) = 0;
      *(undefined *)((int)pDVar8[0xe].code + 5) = 0;
      *(undefined *)((int)pDVar8[0xe].code + 6) = 0;
      SetSemiTrans(pTVar6,1);
      sVar3 = 0xe4;
      *(undefined2 *)pDVar8[0xf].code = 0x100;
      *(undefined2 *)((int)pDVar8[0xf].code + 2) = 1;
      if (iVar7 == 0) {
        sVar3 = 0x55;
      }
      iVar11 = iVar11 + 0x10;
      *(undefined2 *)&pDVar8[0xf].tag = 0x80;
      *(short *)((int)&pDVar8[0xf].tag + 2) = sVar3 + (short)iVar9;
      pDVar8 = (DR_MODE *)pDVar8[1].code;
      iVar9 = iVar9 + 1;
      iVar10 = iVar10 + 0x10;
    } while (iVar9 < 9);
    if (*(int *)((int)&DAT_BUNIT__801ce8e8 + iVar4) == 0) {
      *(undefined *)p[1].code = 0;
      *(undefined *)((int)p[1].code + 1) = 0;
      *(undefined *)((int)p[1].code + 2) = 0;
    }
    else {
      if (*(int *)((int)&DAT_BUNIT__801ce8e8 + iVar4) == 1) {
        iVar9 = *(int *)((int)&DAT_BUNIT__801ce8d8 + iVar4);
        if (iVar9 < 0x78) {
          *(int *)((int)&DAT_BUNIT__801ce8d8 + iVar4) = iVar9 + 0xc;
        }
      }
      if (*(int *)((int)&DAT_BUNIT__801ce8e8 + iVar4) == 2) {
        iVar9 = *(int *)((int)&DAT_BUNIT__801ce8d8 + iVar4);
        if (iVar9 == 0) {
          *(int *)((int)&DAT_BUNIT__801ce8e8 + iVar4) = 0;
        }
        else {
          *(int *)((int)&DAT_BUNIT__801ce8d8 + iVar4) = iVar9 + -0xc;
        }
      }
      *(undefined *)p[1].code = *(undefined *)piVar12;
      iVar9 = 0;
      *(undefined *)((int)p[1].code + 1) = *(undefined *)piVar12;
      *(undefined *)((int)p[1].code + 2) = *(undefined *)piVar12;
      *local_38 = *piVar12;
      pDVar8 = p;
      do {
        if (*local_38 != 0) {
          *local_38 = *local_38 + -0xc;
        }
        iVar10 = 8 - iVar9;
        *(undefined *)((int)p + iVar10 * 0x10 + 0x20) = *(undefined *)local_38;
        *(undefined *)((int)p + iVar10 * 0x10 + 0x21) = *(undefined *)local_38;
        *(undefined *)((int)p + iVar10 * 0x10 + 0x22) = *(undefined *)local_38;
        *(undefined *)(pDVar8[0xe].code + 1) = *(undefined *)local_38;
        *(undefined *)((int)pDVar8[0xe].code + 5) = *(undefined *)local_38;
        iVar9 = iVar9 + 1;
        *(undefined *)((int)pDVar8[0xe].code + 6) = *(undefined *)local_38;
        FUN_8014a5e8();
        FUN_8014a5e8();
        pDVar8 = (DR_MODE *)pDVar8[1].code;
      } while (iVar9 < 9);
      FUN_8014a5e8();
      FUN_8014a5e8();
    }
    iVar4 = iVar4 + 4;
    piVar12 = piVar12 + 1;
    iVar7 = iVar7 + 1;
    local_38 = local_38 + 1;
    local_30 = local_30 + 0x278;
  } while (iVar7 < 2);
  return;
}



// WARNING: Removing unreachable block (ram,0x801c2e7c)
// WARNING: Removing unreachable block (ram,0x801c2e80)
// WARNING: Removing unreachable block (ram,0x801c2ecc)

void FUN_BUNIT__801c2e38(void)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  RECT local_250;
  undefined auStack_248 [8];
  undefined2 local_240 [12];
  undefined4 local_228 [128];
  
  puVar5 = local_228;
  puVar4 = &DAT_BUNIT__801bf000;
  do {
    uVar1 = puVar4[1];
    uVar2 = puVar4[2];
    uVar3 = puVar4[3];
    *puVar5 = *puVar4;
    puVar5[1] = uVar1;
    puVar5[2] = uVar2;
    puVar5[3] = uVar3;
    puVar4 = puVar4 + 4;
    puVar5 = puVar5 + 4;
  } while (puVar4 != (undefined4 *)&DAT_BUNIT__801bf200);
  FUN_BUNIT__801c8408(0);
  DAT_80173f8c = &DAT_BUNIT__801cf458;
  DAT_80173ff0 = &DAT_BUNIT__801eb158;
  local_250.x = 0x100;
  local_250.y = 0;
  local_250.w = 0x40;
  local_250.h = 0x30;
  FUN_BUNIT__801ce82c(&local_250,DAT_80173f5c);
  local_250.x = 0x3c0;
  local_250.y = 0x1f0;
  local_250.w = 0x10;
  local_250.h = 1;
  FUN_BUNIT__801ce85c(&local_250,auStack_248);
  local_240[0] = 0;
  local_250.x = 0x120;
  local_250.y = 0xfe;
  local_250.w = 0x10;
  local_250.h = 1;
  FUN_BUNIT__801ce82c(&local_250,auStack_248);
  local_250.x = 0x100;
  local_250.y = 0xfe;
  local_250.w = 0xc;
  local_250.h = 1;
  FUN_BUNIT__801ce82c(&local_250,local_240);
  local_250.x = 0x3c0;
  local_250.y = 500;
  local_250.w = 0x10;
  local_250.h = 1;
  FUN_BUNIT__801ce85c(&local_250,auStack_248);
  local_240[0] = 0;
  local_250.x = 0x130;
  local_250.y = 0xfe;
  local_250.w = 0x10;
  local_250.h = 1;
  FUN_BUNIT__801ce82c(&local_250,auStack_248);
  local_250.x = 0x110;
  local_250.y = 0xfe;
  local_250.w = 0xc;
  local_250.h = 1;
  FUN_BUNIT__801ce82c(&local_250,local_240);
  local_250.y = 0xfa;
  local_250.x = 0x100;
  local_250.w = 0x40;
  local_250.h = 4;
  FUN_BUNIT__801ce82c(&local_250,local_228);
  DAT_BUNIT__801ecb6c = 0;
  DAT_BUNIT__801ecb68 = 0;
  FUN_BUNIT__801ce614();
  return;
}



void FUN_BUNIT__801c30a8(void)

{
  char cVar1;
  int iVar2;
  
  iVar2 = FUN_8014ca1c();
  cVar1 = '\n';
  if ((iVar2 == 0) && (cVar1 = '\n', (DAT_BUNIT__801cf4c0 & 0x60) == 0)) {
    iVar2 = FUN_BUNIT__801c66e0();
    cVar1 = '\n';
    if ((iVar2 == 0) && (cVar1 = DAT_BUNIT__801cf50d + -1, DAT_BUNIT__801cf50d == '\0')) {
      return;
    }
  }
  if (cVar1 != '\0') {
    DAT_BUNIT__801eca0c = 0;
    DAT_BUNIT__801ecb50 = 0;
    DAT_BUNIT__801ecad0 = 0;
  }
  DAT_BUNIT__801cf50d = cVar1;
  return;
}



undefined FUN_BUNIT__801c3140(void)

{
  return DAT_BUNIT__801cf50d;
}



uint FUN_BUNIT__801c3150(void)

{
  uint uVar1;
  int iVar2;
  
  uVar1 = PadRead(0);
  iVar2 = FUN_BUNIT__801c3140();
  if (iVar2 != 0) {
    uVar1 = 0;
  }
  return uVar1;
}



int BUNIT_Entrypoint(void)

{
  char cVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  ushort uVar6;
  undefined auStack_cff8 [40000];
  undefined auStack_33b8 [2160];
  undefined auStack_2b48 [6240];
  undefined auStack_12e8 [960];
  undefined auStack_f28 [1440];
  undefined auStack_988 [720];
  undefined auStack_6b8 [720];
  undefined auStack_3e8 [512];
  undefined auStack_1e8 [472];
  
  DAT_BUNIT__801ecaa0 = 0x40;
  DAT_BUNIT__801eca5c = 500;
  DAT_BUNIT__801eca68 = 0x3c;
  DAT_BUNIT__801eca10 = 0;
  DAT_BUNIT__801eca50 = 0;
  DAT_BUNIT__801eca18 = 0;
  DAT_BUNIT__801eca14 = 0;
  DAT_BUNIT__801eca58 = 0;
  DAT_BUNIT__801eca1c = 0x1e;
  DAT_BUNIT__801eca38 = 0;
  DAT_BUNIT__801eca40 = 0;
  DAT_BUNIT__801eca48 = 0;
  DAT_BUNIT__801eca3c = 0;
  DAT_BUNIT__801eca44 = 0;
  DAT_BUNIT__801eca4c = 0;
  DAT_BUNIT__801ecab8 = 0x1e;
  DAT_BUNIT__801ecae0 = 0;
  DAT_BUNIT__801ecae8 = 0;
  DAT_BUNIT__801ecb58 = 0;
  DAT_BUNIT__801eca34 = 0;
  DAT_BUNIT__801eca8c = 0;
  DAT_BUNIT__801eca9c = 0;
  DAT_BUNIT__801ecac0 = 0x1e;
  DAT_BUNIT__801ecaa4 = 0x1e;
  DAT_BUNIT__801ecab4 = 0x1e;
  FUN_BUNIT__801c7ea0((int)auStack_1e8,(int)auStack_3e8,0,0,0,(int)auStack_cff8,0,0,
                      (int)auStack_33b8,(int)auStack_2b48,0,0,0,0,0,0,(int)auStack_12e8,0,0,0,0,0,0,
                      (int)auStack_f28,(int)auStack_6b8,(int)auStack_988);
  uVar5 = 1;
  FUN_BUNIT__801c2e38();
  FUN_BUNIT__801c4670();
  do {
    FUN_BUNIT__801c76cc(0,0);
    cVar1 = (char)DAT_80166028;
    FUN_BUNIT__801cc418();
    FUN_BUNIT__801c30a8();
    FUN_BUNIT__801ce650();
    if ((DAT_BUNIT__801eca0c & 0x100) != 0) {
      FUN_BUNIT__801cbbe0();
    }
    if (DAT_BUNIT__801ecb68 != 0) {
      FUN_BUNIT__801cbc80(*(short *)((&DAT_BUNIT__801ecaf8)[DAT_BUNIT__801cf450] + 0x3e));
    }
    if ((cVar1 != '\0') && (DAT_80166028 == 0)) {
      FUN_80134074();
    }
    FUN_BUNIT__801cb058(DAT_80166028);
    if (DAT_BUNIT__801cf454 == 2) {
      FUN_BUNIT__801cceb0();
      FUN_BUNIT__801c5864((int)DAT_BUNIT__801cf50b + (int)DAT_BUNIT__801cf50c);
    }
    else {
      uVar5 = FUN_BUNIT__801c366c();
      uVar2 = FUN_BUNIT__801c360c();
      uVar6 = DAT_BUNIT__801ecad4;
      if (DAT_BUNIT__801ecb68 != 0) {
        uVar6 = 0;
      }
      FUN_BUNIT__801c4750(1,1,1,1,0,uVar6,(short)uVar2);
    }
    FUN_BUNIT__801c3a68();
    DAT_80173f44 = *DAT_BUNIT__801ecacc + 0xf4;
    FUN_8012e65c();
    uVar3 = FUN_BUNIT__801c3150();
    FUN_BUNIT__801c25c4(*DAT_BUNIT__801ecacc + 0x24,uVar3,DAT_BUNIT__801eca90);
    if (DAT_80165fb4 - 2 < 2) {
      DAT_BUNIT__801ecaac = (byte)DAT_80165fb4;
    }
    if (((int)DAT_80165fb4 < 0) || (DAT_80165fbc != 0)) {
      DAT_80165fb4 = 0;
    }
    uVar3 = DAT_80165fb4;
    if (DAT_80165fb4 == 0) {
      uVar3 = (uint)DAT_BUNIT__801ecaac;
    }
    if (uVar3 == 0x30) {
      Call_Play_SoundEffect((MusicDataHeader *)0x30);
    }
    else if (uVar3 != 0) {
      Call_Play_Sound(uVar3);
    }
    DAT_BUNIT__801ecaac = 0;
    DAT_80165fb4 = 0;
  } while ((uVar5 & 0xff) != 0);
  FUN_BUNIT__801c3fa8(0);
  FUN_BUNIT__801c3ee0(0);
  do {
    iVar4 = DrawSync(1);
  } while (iVar4 != 0);
  VSync(0);
  return (int)DAT_BUNIT__801cf4b5;
}



void FUN_BUNIT__801c35f0(void)

{
  DAT_BUNIT__801eb150 = 0xffff;
  DAT_BUNIT__801eb152 = 0xffff;
  return;
}



undefined4 FUN_BUNIT__801c360c(void)

{
  int iVar1;
  
  iVar1 = FUN_8014ca1c();
  if (((iVar1 == 0) && (DAT_80166028 == 0)) && (iVar1 = FUN_8014ca1c(), iVar1 == 0)) {
    return 0;
  }
  return 1;
}



undefined4 FUN_BUNIT__801c366c(void)

{
  char cVar1;
  char cVar2;
  uint uVar3;
  bool bVar4;
  int iVar5;
  undefined3 extraout_var;
  
  uVar3 = DAT_BUNIT__801ecad0;
  if (DAT_BUNIT__801cf454 == -1) {
    if (DAT_BUNIT__801cf550 == '\0') {
      DAT_BUNIT__801cf4b3 = DAT_BUNIT__801cf555;
      DAT_BUNIT__801cf4b4 = DAT_BUNIT__801cf554;
      FUN_BUNIT__801c4670();
      iVar5 = FUN_BUNIT__801c6e08();
      DAT_BUNIT__801eb154 = (undefined)iVar5;
      iVar5 = FUN_BUNIT__801c6330();
      DAT_BUNIT__801eb1d8 = (undefined)iVar5;
      FUN_BUNIT__801c6274();
      DAT_BUNIT__801cf50a = (&DAT_BUNIT__801eb1f0)[DAT_BUNIT__801cf450];
      FUN_BUNIT__801c3e18();
      DAT_BUNIT__801cf4c8 = 0;
      DAT_BUNIT__801cf504 = 0;
      DAT_BUNIT__801cf4f0 = 0;
      FUN_BUNIT__801c35f0();
      DAT_BUNIT__801cf550 = '\x01';
    }
    bVar4 = FUN_BUNIT__801ce734();
    if (CONCAT31(extraout_var,bVar4) == 0) {
      DAT_BUNIT__801cf550 = 0;
      FUN_BUNIT__801cba14();
      return 0;
    }
    if (DAT_BUNIT__801cf551 == '\0') {
      if (DAT_BUNIT__801cf4b4 == '\0') {
        if (DAT_BUNIT__801cf4b3 == '\0') {
          DAT_BUNIT__801ecb6c = 0;
        }
        else {
          DAT_BUNIT__801ecb6c = 0x20000;
          if (DAT_BUNIT__801cf508 != '\0') {
            DAT_BUNIT__801ecb6c = 0x20001;
          }
        }
      }
      else {
        DAT_BUNIT__801ecb6c = 0x20002;
      }
      iVar5 = FUN_BUNIT__801c3140();
      if (iVar5 != 0) {
        return 1;
      }
      if (((uVar3 & 0x10) != 0) || ((uVar3 & 0x800) != 0)) {
        DAT_BUNIT__801cf4f0 = 1;
        DAT_BUNIT__801cf504 = 1;
        DAT_BUNIT__801cf551 = 1;
        DAT_BUNIT__801ecaac = 1;
        return 1;
      }
      if ((uVar3 & 0x20) == 0) {
        if (DAT_BUNIT__801cf4b4 != '\0') {
          return 1;
        }
      }
      else if (DAT_BUNIT__801cf4b4 != '\0') {
        if ((*(short *)((&DAT_BUNIT__801ecaf8)[DAT_BUNIT__801cf450] + 0x3e) == 0) &&
           ((*(byte *)((&DAT_BUNIT__801ecaf8)[DAT_BUNIT__801cf450] + 0x72) & 0x30) == 0)) {
          DAT_BUNIT__801cf454 = 2;
          DAT_BUNIT__801cf4c8 = 1;
          DAT_BUNIT__801cf4f0 = 1;
          DAT_BUNIT__801cf504 = 1;
          DAT_BUNIT__801cf550 = 0;
          DAT_BUNIT__801cf554 = DAT_BUNIT__801cf4b4;
          DAT_BUNIT__801cf555 = DAT_BUNIT__801cf4b3;
          return 1;
        }
        DAT_BUNIT__801ecaac = 5;
        return 1;
      }
      if ((uVar3 & 0x40) == 0) {
        return 1;
      }
      FUN_BUNIT__801ce634();
      return 1;
    }
    DAT_BUNIT__801ecb6c = 0x1000;
    if (DAT_BUNIT__801cf54c != 0) {
      DAT_BUNIT__801ecb6c = 0x1001;
    }
    DAT_BUNIT__801cf551 = FUN_BUNIT__801cbb44(5,&DAT_BUNIT__801cf514);
    cVar2 = DAT_BUNIT__801cf4b4;
    cVar1 = DAT_BUNIT__801cf4b3;
    if (DAT_BUNIT__801cf551 == '\0') {
      if (DAT_BUNIT__801eb150 == 0) {
        DAT_BUNIT__801cf454 = 0;
        DAT_BUNIT__801cf4b3 = '\0';
        DAT_BUNIT__801cf4b4 = '\0';
        DAT_BUNIT__801cf555 = cVar1;
        DAT_BUNIT__801cf554 = cVar2;
        FUN_BUNIT__801c35f0();
        DAT_BUNIT__801cf550 = '\0';
      }
      else if (DAT_BUNIT__801eb150 == 1) {
        FUN_BUNIT__801ce634();
        DAT_BUNIT__801cf4b5 = *(undefined *)((&DAT_BUNIT__801ecaf8)[DAT_BUNIT__801cf450] + 0x2c);
      }
      DAT_BUNIT__801cf4f0 = 0;
      DAT_BUNIT__801cf504 = 0;
      return 1;
    }
  }
  else {
    if (DAT_BUNIT__801cf454 != 0) {
      return 1;
    }
    FUN_BUNIT__801c63a8();
  }
  return 1;
}



void FUN_BUNIT__801c3a68(void)

{
  bool bVar1;
  short sVar2;
  uint uVar3;
  int iVar4;
  
  uVar3 = DAT_BUNIT__801cf4c0;
  if ((int)DAT_BUNIT__801cf450 != (int)DAT_BUNIT__801cf452) {
    if (DAT_BUNIT__801cf4b3 == '\0') {
      DAT_BUNIT__801cf509 = DAT_BUNIT__801cf508;
      if (DAT_BUNIT__801cf508 == '\0') {
        DAT_BUNIT__801cf4bc = 0;
      }
      else {
        DAT_BUNIT__801cf4bc = 0x90;
      }
    }
    else {
      DAT_BUNIT__801cf4c0 = 0;
      DAT_BUNIT__801cf4d4 = uVar3;
      if (DAT_BUNIT__801cf509 != DAT_BUNIT__801cf508) {
        bcopy((uchar *)(&DAT_BUNIT__801ecaf8)[DAT_BUNIT__801cf452],&DAT_BUNIT__801ce920,0x22);
        bcopy((uchar *)((&DAT_BUNIT__801ecaf8)[DAT_BUNIT__801cf452] + 0x22),&DAT_BUNIT__801ce954,0xe
             );
        FUN_BUNIT__801c3f44(1);
        DAT_BUNIT__801cf509 = DAT_BUNIT__801cf508;
        if (DAT_BUNIT__801cf556 < '\0') {
          DAT_BUNIT__801cf556 = DAT_BUNIT__801cf556 + '\x10';
        }
        else {
          bVar1 = DAT_BUNIT__801cf556 < '\x01';
          DAT_BUNIT__801cf556 = DAT_BUNIT__801cf556 + -0x10;
          if (bVar1) {
            if (DAT_BUNIT__801cf508 == '\0') {
              DAT_BUNIT__801cf556 = '\x01';
            }
            else {
              DAT_BUNIT__801cf556 = -1;
            }
          }
        }
      }
    }
    sVar2 = DAT_BUNIT__801cf452;
    FUN_BUNIT__801c3e18();
    if (((DAT_BUNIT__801ecad0 & 0x2000) == 0) && ((DAT_BUNIT__801ecb50 & 8) == 0)) {
      if (((DAT_BUNIT__801ecad0 & 0x8000) == 0) && ((DAT_BUNIT__801ecb50 & 4) == 0)) {
        if (DAT_BUNIT__801cf450 <= sVar2) {
          DAT_BUNIT__801cf4c4 = 2;
          return;
        }
        DAT_BUNIT__801cf4c4 = 1;
        return;
      }
      DAT_BUNIT__801cf4c4 = 2;
      return;
    }
    DAT_BUNIT__801cf4c4 = 1;
    return;
  }
  if ((DAT_BUNIT__801cf509 != DAT_BUNIT__801cf508) && (DAT_BUNIT__801cf556 == '\0')) {
    DAT_BUNIT__801cf509 = DAT_BUNIT__801cf508;
    if (DAT_BUNIT__801cf4b3 == '\0') {
      if (DAT_BUNIT__801cf508 == '\0') {
        DAT_BUNIT__801cf4bc = 0;
      }
      else {
        DAT_BUNIT__801cf4bc = 0x90;
      }
    }
    else if (DAT_BUNIT__801cf508 == '\0') {
      DAT_BUNIT__801cf4c0 = DAT_BUNIT__801cf4c0 | 0x40;
    }
    else {
      DAT_BUNIT__801cf4c0 = DAT_BUNIT__801cf4c0 | 0x20;
    }
  }
  FUN_BUNIT__801c3fa8((uint)DAT_BUNIT__801cf4b4);
  iVar4 = 0;
  if ((DAT_BUNIT__801cf4b3 != '\0') || (DAT_BUNIT__801cf4b4 != 0)) {
    iVar4 = 1;
  }
  FUN_BUNIT__801c3ee0(iVar4);
  iVar4 = (int)DAT_BUNIT__801cf556;
  if (iVar4 < 0) {
    DAT_BUNIT__801cf4d0 = iVar4 * 8;
    DAT_BUNIT__801cf4bc = DAT_BUNIT__801cf4d0 + 0x108;
    if (-0x10 < (iVar4 + -1) * 0x1000000 >> 0x18) {
      DAT_BUNIT__801cf556 = (char)(iVar4 + -1);
      return;
    }
  }
  else {
    if (iVar4 < 1) {
      return;
    }
    DAT_BUNIT__801cf4bc = iVar4 * 8 + -0x78;
    DAT_BUNIT__801cf4d0 = iVar4 * 8 + 0x90;
    if ((iVar4 + 1) * 0x1000000 >> 0x18 < 0x10) {
      DAT_BUNIT__801cf556 = (char)(iVar4 + 1);
      return;
    }
  }
  DAT_BUNIT__801cf556 = 0;
  FUN_BUNIT__801cba14();
  return;
}



void FUN_BUNIT__801c3e18(void)

{
  DAT_BUNIT__801cf452 = DAT_BUNIT__801cf450;
  bcopy(*(uchar **)((int)&DAT_BUNIT__801ecaf8 + ((int)((uint)DAT_BUNIT__801cf450 << 0x10) >> 0xe)),
        &DAT_BUNIT__801ce8fc,0x22);
  bcopy((uchar *)((&DAT_BUNIT__801ecaf8)[(short)DAT_BUNIT__801cf450] + 0x22),&DAT_BUNIT__801ce944,
        0xe);
  bcopy((uchar *)((&DAT_BUNIT__801ecaf8)[(short)DAT_BUNIT__801cf450] + 0x30),&DAT_BUNIT__801ce964,
        0x40);
  DAT_BUNIT__801cf4c4 = 1;
  DAT_BUNIT__801cf4d8 = 1;
  DAT_BUNIT__801cf4ec = 1;
  DAT_BUNIT__801cf500 = 1;
  return;
}



void FUN_BUNIT__801c3ee0(int param_1)

{
  int iVar1;
  
  if (param_1 == 0) {
    FUN_BUNIT__801cba14();
  }
  else {
    iVar1 = FUN_8014ca1c();
    if (iVar1 == 0) {
      FUN_8014c8a0();
      FUN_8014ca38();
    }
  }
  return;
}



void FUN_BUNIT__801c3f44(int param_1)

{
  int iVar1;
  
  if (param_1 == 0) {
    FUN_BUNIT__801cba14();
  }
  else {
    iVar1 = FUN_8014ca1c();
    if (iVar1 == 0) {
      FUN_8014c8a0();
      FUN_8014ca38();
    }
  }
  return;
}



void FUN_BUNIT__801c3fa8(int param_1)

{
  int iVar1;
  
  if (param_1 == 0) {
    FUN_BUNIT__801cba14();
    FUN_BUNIT__801cba14();
  }
  else if (((DAT_BUNIT__801cf4c0 & 0x60) == 0) && (iVar1 = FUN_8014ca1c(), iVar1 == 0)) {
    FUN_8014c8a0();
    FUN_8014ca38();
    FUN_8014c8a0();
    FUN_8014ca38();
  }
  return;
}



undefined4 FUN_BUNIT__801c41e0(int param_1)

{
  bool bVar1;
  int iVar2;
  
  if (DAT_BUNIT__801cf4b4 == '\0') {
    if (DAT_BUNIT__801cf50c < '\0') {
      param_1 = param_1 + -0x3c;
    }
    iVar2 = param_1 << 0x18;
    if ('\0' < DAT_BUNIT__801cf50c) {
      iVar2 = (param_1 + 0x3c) * 0x1000000;
    }
    iVar2 = iVar2 >> 0x18;
    if (iVar2 == -0x3c) {
      bVar1 = DAT_BUNIT__801cf450 < 0xc;
    }
    else if (iVar2 < -0x3b) {
      if (iVar2 != -0x78) {
        return 1;
      }
      bVar1 = DAT_BUNIT__801cf450 < 0x10;
    }
    else {
      if (iVar2 != 0) {
        return 1;
      }
      bVar1 = DAT_BUNIT__801cf450 < 8;
    }
    if (bVar1) {
      return 1;
    }
  }
  return 0;
}



void FUN_BUNIT__801c429c(char *param_1,char *param_2)

{
  bool bVar1;
  char cVar2;
  int iVar3;
  
  iVar3 = (int)*param_1;
  if (iVar3 != 0) {
    if (iVar3 < 0) {
      *param_1 = (char)(iVar3 + -4);
      if (-0x3c < (iVar3 + -4) * 0x1000000 >> 0x18) {
        return;
      }
      *param_1 = '\0';
      cVar2 = *param_2 + -0x3c;
    }
    else {
      if (iVar3 < 1) {
        return;
      }
      *param_1 = (char)(iVar3 + 4);
      if ((iVar3 + 4) * 0x1000000 >> 0x18 < 0x3c) {
        return;
      }
      *param_1 = '\0';
      cVar2 = *param_2 + '<';
    }
    *param_2 = cVar2;
    return;
  }
  cVar2 = *param_2;
  if (cVar2 == -0x3c) {
    bVar1 = DAT_BUNIT__801cf450 < 4;
    if (0xf < DAT_BUNIT__801cf450) goto LAB_BUNIT__801c4334;
  }
  else {
    if (-0x3c < cVar2) {
      if (cVar2 != '\0') {
        return;
      }
      if (DAT_BUNIT__801cf450 < 0xc) {
        return;
      }
LAB_BUNIT__801c4334:
      *param_1 = -4;
      return;
    }
    if (cVar2 != -0x78) {
      return;
    }
    bVar1 = DAT_BUNIT__801cf450 < 8;
  }
  if (bVar1) {
    *param_1 = '\x04';
  }
  return;
}



void FUN_BUNIT__801c43b4(short param_1,short param_2,short param_3,short param_4,short param_5,
                        undefined param_6)

{
  char cVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  byte bVar5;
  uint uVar6;
  int iVar7;
  undefined2 unaff_s3;
  int iVar8;
  short local_50;
  short local_4e;
  undefined2 local_4c;
  undefined2 local_4a;
  undefined2 local_48;
  undefined2 local_46;
  undefined2 local_44;
  undefined2 local_42;
  undefined2 local_40;
  undefined2 local_3e;
  
  iVar2 = FUN_BUNIT__801c843c();
  local_40 = DAT_BUNIT__801cf96e;
  if (param_5 == 0) {
    if (param_4 == 0) {
      cVar1 = (&DAT_BUNIT__801cf7b4)[param_1];
      if ((cVar1 == 0) || (6 / iVar2 <= (int)cVar1)) {
        (&DAT_BUNIT__801cf7b4)[param_1] = 0;
      }
      else {
        (&DAT_BUNIT__801cf7b4)[param_1] = cVar1 + '\x01';
        local_40 = unaff_s3;
      }
    }
    else {
      (&DAT_BUNIT__801cf7b4)[param_1] = 1;
      DAT_BUNIT__801ecaac = param_6;
      local_40 = unaff_s3;
    }
  }
  else {
    (&DAT_BUNIT__801cf7b4)[param_1] = 0;
    local_40 = DAT_BUNIT__801cf972;
  }
  iVar2 = 0;
  if ((&DAT_BUNIT__801cf7b4)[param_1] != '\0') {
    param_3 = param_3 + 1;
    local_40 = DAT_BUNIT__801cf976;
  }
  uVar6 = (uint)(byte)(&DAT_BUNIT__801cf7ac)[param_1];
  iVar7 = (byte)(&DAT_BUNIT__801cf7ad)[param_1] - uVar6;
  local_3e = DAT_BUNIT__801cf95e;
  if (0 < iVar7) {
    do {
      iVar3 = (short)uVar6 * 0xc;
      local_50 = param_2 + *(short *)(&DAT_BUNIT__801cf5e0 + iVar3);
      iVar4 = (short)uVar6 * 4;
      local_4e = param_3 + *(short *)(&DAT_BUNIT__801cf5e2 + iVar3);
      iVar8 = (int)*(short *)(&DAT_BUNIT__801cf734 + iVar4) *
              (int)*(short *)(&DAT_BUNIT__801cf5dc + iVar3);
      if (iVar8 < 0) {
        iVar8 = -iVar8;
      }
      local_4c = (undefined2)(iVar8 >> 0xc);
      iVar8 = (int)*(short *)(&DAT_BUNIT__801cf736 + iVar4) *
              (int)*(short *)(&DAT_BUNIT__801cf5de + iVar3);
      if (iVar8 < 0) {
        iVar8 = -iVar8;
      }
      local_4a = (undefined2)(iVar8 >> 0xc);
      local_48 = *(undefined2 *)(&DAT_BUNIT__801cf5d8 + iVar3);
      local_46 = *(undefined2 *)(&DAT_BUNIT__801cf5da + iVar3);
      local_44 = *(undefined2 *)(&DAT_BUNIT__801cf5dc + iVar3);
      local_42 = *(undefined2 *)(&DAT_BUNIT__801cf5de + iVar3);
      bVar5 = -(char)(*(short *)(&DAT_BUNIT__801cf734 + iVar4) >> 7);
      if (*(short *)(&DAT_BUNIT__801cf736 + iVar4) < 0) {
        bVar5 = bVar5 + 2;
      }
      FUN_BUNIT__801cdd24(&local_50,(undefined *)0x0,bVar5,0,iVar2 + 0x32);
      iVar2 = iVar2 + 1;
      uVar6 = uVar6 + 1;
    } while (iVar2 < iVar7);
  }
  return;
}



void FUN_BUNIT__801c4670(void)

{
  undefined4 uVar1;
  
  FUN_BUNIT__801c845c((short *)0x0,0,0);
  DAT_BUNIT__801ecb70 = &DAT_BUNIT__801c4054;
  DAT_BUNIT__801ecb74 = &DAT_BUNIT__801c4164;
  DAT_BUNIT__801ecb80 = &DAT_BUNIT__801c40e4;
  DAT_BUNIT__801ecb84 = &DAT_BUNIT__801c4104;
  DAT_BUNIT__801ecb88 = &DAT_BUNIT__801c4124;
  DAT_BUNIT__801ecb8c = &DAT_BUNIT__801c4144;
  FUN_BUNIT__801c8408(0);
  uVar1 = FUN_BUNIT__801c41e0((int)DAT_BUNIT__801cf50b);
  DAT_BUNIT__801cf508 = (char)uVar1;
  if (DAT_BUNIT__801cf508 == '\0') {
    DAT_BUNIT__801cf4bc = 0;
  }
  else {
    DAT_BUNIT__801cf4bc = 0x90;
  }
  DAT_BUNIT__801cf509 = DAT_BUNIT__801cf508;
  FUN_BUNIT__801c5a78();
  return;
}



undefined4
FUN_BUNIT__801c4750(short param_1,short param_2,short param_3,short param_4,byte param_5,
                   ushort param_6,short param_7)

{
  bool bVar1;
  byte bVar2;
  ushort uVar3;
  short sVar4;
  int iVar5;
  uint uVar6;
  undefined4 uVar7;
  undefined1 *puVar8;
  int iVar9;
  uint uVar10;
  undefined *puVar11;
  char *pcVar12;
  undefined2 uVar13;
  short sVar14;
  short sVar15;
  int iVar16;
  byte *pbVar17;
  byte *pbVar18;
  ushort uVar19;
  char local_90;
  short local_88;
  short local_86;
  ushort local_84;
  ushort local_82;
  short local_80;
  short local_7e;
  short local_7c;
  short local_7a;
  short local_78;
  short local_76;
  short local_74;
  short local_72;
  undefined local_68;
  undefined local_67;
  undefined local_66;
  uint local_60;
  int local_58;
  int local_30;
  
  if (param_7 != 0) {
    param_6 = 0;
  }
  if (param_4 == 0) {
LAB_BUNIT__801c483c:
    DAT_BUNIT__801cf557 = param_5;
  }
  else {
    if (DAT_BUNIT__801cf4b4 == '\0') {
      uVar19 = param_6 & 2;
      if ((param_6 & 1) != 0) {
        bVar1 = DAT_BUNIT__801cf557 == 0;
        DAT_BUNIT__801cf557 = DAT_BUNIT__801cf557 - 1;
        if (bVar1) {
          DAT_BUNIT__801cf557 = 4;
        }
        param_6 = param_6 & 0xfffd;
        DAT_BUNIT__801ecaac = 6;
        uVar19 = 0;
      }
      if (uVar19 != 0) {
        bVar1 = DAT_BUNIT__801cf557 == 4;
        DAT_BUNIT__801cf557 = DAT_BUNIT__801cf557 + 1;
        if (bVar1) {
          DAT_BUNIT__801cf557 = 0;
        }
        DAT_BUNIT__801ecaac = 6;
      }
    }
    if (param_4 == 0) goto LAB_BUNIT__801c483c;
  }
  bVar1 = true;
  if (((((param_2 == 0) || (iVar5 = FUN_BUNIT__801c3140(), iVar5 != 0)) ||
       (iVar5 = FUN_8014ca1c(), iVar5 != 0)) ||
      (((DAT_BUNIT__801cf4c0 & 0x60) != 0 || (DAT_BUNIT__801cf556 != '\0')))) ||
     (DAT_BUNIT__801cf50c != '\0')) {
LAB_BUNIT__801c4924:
    if (DAT_BUNIT__801cf4b4 == '\0') goto LAB_BUNIT__801c4940;
  }
  else {
    if ((param_6 & 0x20) == 0) {
      if ((param_6 & 0x40) != 0) {
        if (DAT_BUNIT__801cf4b4 == '\0') goto LAB_BUNIT__801c4940;
        bVar1 = false;
        DAT_BUNIT__801ecaac = 2;
        DAT_BUNIT__801cf4b4 = '\0';
      }
      goto LAB_BUNIT__801c4924;
    }
    if (DAT_BUNIT__801cf4b4 == '\0') {
      iVar5 = FUN_8014ca1c();
      if (iVar5 == 0) {
        DAT_BUNIT__801cf4b4 = '\x01';
        DAT_BUNIT__801ecaac = 1;
      }
      goto LAB_BUNIT__801c4924;
    }
  }
  param_6 = param_6 & 0xfff;
LAB_BUNIT__801c4940:
  if ((((param_1 != 0) && (DAT_BUNIT__801cf4b4 == '\0')) &&
      (((param_6 & 0x80) != 0 &&
       (((iVar5 = FUN_BUNIT__801c66e0(), iVar5 == 0 && (iVar5 = FUN_8014ca1c(), iVar5 == 0)) &&
        (iVar5 = FUN_8014ca1c(), iVar5 == 0)))))) && ((DAT_BUNIT__801cf4c0 & 0x60) == 0)) {
    DAT_BUNIT__801ecaac = 6;
    DAT_BUNIT__801cf4b3 = DAT_BUNIT__801cf4b3 == '\0';
  }
  iVar5 = FUN_8014ca1c();
  if (((iVar5 == 0) && (DAT_BUNIT__801ecb68 == 0)) && (iVar5 = FUN_BUNIT__801ce5f8(), iVar5 == 0)) {
    uVar6 = FUN_BUNIT__801cc50c(4,5,DAT_BUNIT__801eb1d8 - 1,(uint)DAT_BUNIT__801cf50a,
                                (int)(short)param_6);
    DAT_BUNIT__801cf50a = (byte)uVar6;
    DAT_BUNIT__801cf450 = (ushort)(byte)(&DAT_BUNIT__801eb1dc)[uVar6 & 0xff];
  }
  FUN_BUNIT__801c429c(&DAT_BUNIT__801cf50c,&DAT_BUNIT__801cf50b);
  if (DAT_BUNIT__801cf4b4 != '\0') {
    if ((param_6 & 4) == 0) {
      if ((param_6 & 8) != 0) {
        if ((int)(short)DAT_BUNIT__801cf450 == DAT_BUNIT__801eb154 - 1) {
          DAT_BUNIT__801cf450 = 0;
        }
        else {
          DAT_BUNIT__801cf450 = DAT_BUNIT__801cf450 + 1;
        }
      }
    }
    else if (DAT_BUNIT__801cf450 == 0) {
      DAT_BUNIT__801cf450 = DAT_BUNIT__801eb154 - 1;
    }
    else {
      DAT_BUNIT__801cf450 = DAT_BUNIT__801cf450 - 1;
    }
    DAT_BUNIT__801cf50a = (&DAT_BUNIT__801eb1f0)[(short)DAT_BUNIT__801cf450];
    sVar14 = 0;
    iVar5 = FUN_BUNIT__801c360c();
    if ((iVar5 != 0) || (DAT_BUNIT__801ecb68 != 0)) {
      sVar14 = 1;
    }
    FUN_BUNIT__801c43b4(0,0xc,0xe,param_6 & 4,sVar14,6);
    sVar14 = 0;
    iVar5 = FUN_BUNIT__801c360c();
    if ((iVar5 != 0) || (DAT_BUNIT__801ecb68 != 0)) {
      sVar14 = 1;
    }
    FUN_BUNIT__801c43b4(1,0xe0,0xe,param_6 & 8,sVar14,6);
  }
  if ((((DAT_BUNIT__801cf556 == '\0') && (iVar5 = FUN_BUNIT__801c3140(), iVar5 == 0)) && (bVar1)) &&
     (((param_3 != 0 && (DAT_BUNIT__801cf4b3 != '\0')) && (DAT_BUNIT__801cf4b4 == '\0')))) {
    sVar14 = 0xf;
    if (DAT_BUNIT__801cf508 == '\0') {
      sVar14 = 0xdb;
      pbVar18 = (byte *)0x801cf5cc;
      pbVar17 = (byte *)0x801cf7f4;
    }
    else {
      pbVar18 = &DAT_BUNIT__801cf5c0;
      pbVar17 = &DAT_BUNIT__801cf7c4;
    }
    sVar4 = 0;
    iVar5 = FUN_BUNIT__801c360c();
    if ((iVar5 != 0) || (DAT_BUNIT__801ecb68 != 0)) {
      sVar4 = 1;
    }
    FUN_BUNIT__801c43b4(4,0x26,sVar14,param_6 & 1,sVar4,6);
    sVar4 = 0;
    iVar5 = FUN_BUNIT__801c360c();
    if ((iVar5 != 0) || (DAT_BUNIT__801ecb68 != 0)) {
      sVar4 = 1;
    }
    FUN_BUNIT__801c43b4(5,0xc2,sVar14,param_6 & 2,sVar4,6);
    FUN_BUNIT__801c85f8(pbVar18,0,0);
    FUN_BUNIT__801cd610(pbVar17,(undefined *)0x0,0,DAT_BUNIT__801cf95e,DAT_BUNIT__801cf960,0xb,8);
    uVar10 = (uint)DAT_BUNIT__801cf557;
    uVar6 = uVar10;
    iVar5 = 1;
    if (2 < uVar10) {
      if (uVar10 == 3) {
        local_60 = 3;
        uVar6 = local_60;
        iVar5 = 2;
      }
      else {
        uVar6 = local_60;
        iVar5 = local_58;
        if (uVar10 == 4) {
          local_60 = 5;
          uVar6 = local_60;
          iVar5 = 3;
        }
      }
    }
    local_58 = iVar5;
    local_60 = uVar6;
    FUN_BUNIT__801cd610(pbVar17 + local_60 * 6,(undefined *)0x0,0,DAT_BUNIT__801cf95e,
                        DAT_BUNIT__801cf966,0xc,local_58);
  }
  local_60 = 0;
  uVar7 = FUN_BUNIT__801c41e0((int)DAT_BUNIT__801cf50b);
  DAT_BUNIT__801cf508 = (char)uVar7;
  uVar19 = (short)DAT_BUNIT__801cf50b + DAT_BUNIT__801cf50c + 0x24;
  FUN_BUNIT__801cb048(8);
  uVar6 = 0;
  puVar8 = FUN_BUNIT__801cb2c0();
  local_68 = *puVar8;
  local_67 = puVar8[1];
  local_66 = puVar8[2];
  do {
    bVar1 = false;
    if (DAT_BUNIT__801cf4b3 != '\0') {
      if (DAT_BUNIT__801cf508 == '\0') {
        if ((short)uVar19 < 0x47) {
          bVar1 = true;
        }
      }
      else {
        bVar1 = 0x8f0000 < (int)((uint)uVar19 << 0x10);
      }
    }
    puVar11 = &DAT_BUNIT__801cf4b0;
    if (bVar1) {
      puVar11 = &DAT_BUNIT__801cf4a8;
    }
    FUN_BUNIT__801cb014(puVar11);
    local_58 = 0;
    local_30 = 0;
    do {
      if ((int)(uint)DAT_BUNIT__801eb1d8 <= (int)uVar6) break;
      sVar14 = (short)local_30;
      sVar4 = sVar14 + 6;
      if (uVar6 == DAT_BUNIT__801cf50a) {
        DAT_BUNIT__801cf7bc = sVar14 + 0x22;
        DAT_BUNIT__801cf7be = uVar19 + 0x19;
      }
      if ((ushort)(uVar19 + 0x3c) < 300) {
        iVar5 = (int)(short)uVar19;
        bVar2 = (&DAT_BUNIT__801eb1dc)[uVar6];
        iVar16 = iVar5 + 0x28;
        if ((DAT_BUNIT__801cf4b4 == '\0') && (iVar16 < 0xf0)) {
          uVar10 = (uint)DAT_BUNIT__801cf557;
          local_90 = (char)sVar4;
          if (uVar10 < 3) {
            sVar15 = (short)iVar16;
            iVar9 = uVar10 * 6;
            local_84 = (ushort)(byte)(&DAT_BUNIT__801cf7c6)[iVar9];
            local_82 = (ushort)(byte)(&DAT_BUNIT__801cf7c7)[iVar9];
            local_88 = sVar4;
            local_86 = sVar15;
            FUN_BUNIT__801cd888(&local_88,(&DAT_BUNIT__801cf7c8)[iVar9],
                                (&DAT_BUNIT__801cf7c9)[iVar9],puVar8,0,DAT_BUNIT__801cf95e,
                                DAT_BUNIT__801eca94,8);
            DAT_BUNIT__801cf5bc = (undefined)(iVar5 + 0x2d);
            DAT_BUNIT__801cf5bb = local_90 + '(';
            DAT_BUNIT__801cf5bd = bVar2;
            FUN_BUNIT__801c9718(&DAT_BUNIT__801cf5b4);
            DAT_BUNIT__801cf568 = (undefined)iVar16;
            DAT_BUNIT__801cf567 = local_90 + '\x14';
            DAT_BUNIT__801cf569 = bVar2;
            FUN_BUNIT__801c9718(&DAT_BUNIT__801cf560);
            local_84 = 6;
            local_82 = 0xb;
            local_86 = (short)(iVar5 + 0x2d);
            local_88 = sVar14 + 0x29;
            FUN_BUNIT__801cd888(&local_88,-0x4c,'\x10',puVar8,0,DAT_BUNIT__801cf95c,
                                DAT_BUNIT__801eca94,8);
            if (DAT_BUNIT__801cf557 == 0) {
              puVar11 = &DAT_BUNIT__801cf828;
              uVar13 = DAT_BUNIT__801cf97a;
            }
            else if (DAT_BUNIT__801cf557 == 1) {
              puVar11 = (undefined *)0x801cf834;
              uVar13 = DAT_BUNIT__801cf97c;
            }
            else {
              puVar11 = (undefined *)0x801cf840;
              uVar13 = DAT_BUNIT__801cf97e;
            }
            local_86 = uVar19 + 0x30;
            local_84 = 0x25;
            local_82 = 3;
            local_88 = sVar4;
            FUN_BUNIT__801cd888(&local_88,-0x28,-0x36,puVar8,0,DAT_BUNIT__801cf95e,uVar13,7);
            local_80 = DAT_BUNIT__801cf824 + sVar4;
            local_7e = DAT_BUNIT__801cf825 + sVar15 + 8;
            if (DAT_BUNIT__801eb208 == 0) {
              local_74 = 0;
            }
            else {
              local_74 = (short)(((int)DAT_BUNIT__801eb204 << 5) / (int)DAT_BUNIT__801eb208);
            }
            local_7c = local_74 + local_80;
            local_7a = DAT_BUNIT__801cf825 + sVar15 + 8;
            local_76 = DAT_BUNIT__801cf827 + sVar15 + 8;
            local_72 = DAT_BUNIT__801cf827 + sVar15 + 8;
            local_78 = DAT_BUNIT__801cf826 + sVar4;
            local_74 = local_74 + local_78;
            FUN_BUNIT__801cd444(&local_80,puVar11,0,8);
          }
          else {
            if (uVar10 == 3) {
              local_86 = (short)(iVar5 + 0x28);
              local_88 = sVar14 + 5;
              local_84 = DAT_BUNIT__801cf7d8 + 3;
              local_82 = DAT_BUNIT__801cf7d9 + 1;
              FUN_BUNIT__801cd888(&local_88,DAT_BUNIT__801cf7da,DAT_BUNIT__801cf7db,puVar8,0,
                                  DAT_BUNIT__801cf95e,DAT_BUNIT__801eca94,8);
              local_86 = (short)(iVar5 + 0x2d);
              local_88 = sVar14 + 0x20;
              local_82 = (ushort)DAT_BUNIT__801cf7df;
              local_84 = DAT_BUNIT__801cf7de + 2;
              FUN_BUNIT__801cd888(&local_88,DAT_BUNIT__801cf7e0,DAT_BUNIT__801cf7e1,puVar8,0,
                                  DAT_BUNIT__801cf95e,DAT_BUNIT__801eca94,8);
              DAT_BUNIT__801cf574 = (undefined)(iVar5 + 0x28);
              DAT_BUNIT__801cf573 = local_90 + '\r';
              DAT_BUNIT__801cf575 = bVar2;
              FUN_BUNIT__801c9718(&DAT_BUNIT__801cf56c);
              pcVar12 = &DAT_BUNIT__801cf578;
              DAT_BUNIT__801cf580 = (undefined)(iVar5 + 0x2d);
              DAT_BUNIT__801cf57f = local_90 + '-';
              DAT_BUNIT__801cf581 = bVar2;
            }
            else {
              if (uVar10 != 4) goto LAB_BUNIT__801c55f8;
              local_86 = (short)(iVar5 + 0x28);
              local_88 = sVar14 + 5;
              local_84 = (ushort)DAT_BUNIT__801cf7e4;
              local_82 = (ushort)DAT_BUNIT__801cf7e5;
              FUN_BUNIT__801cd888(&local_88,DAT_BUNIT__801cf7e6,DAT_BUNIT__801cf7e7,puVar8,0,
                                  DAT_BUNIT__801cf95e,DAT_BUNIT__801eca94,8);
              uVar3 = local_84;
              local_84 = 3;
              local_82 = 3;
              local_88 = local_88 + -2 + uVar3;
              local_86 = local_86 + 5;
              FUN_BUNIT__801cd888(&local_88,';','\x15',puVar8,0,DAT_BUNIT__801cf95e,
                                  DAT_BUNIT__801eca94,8);
              local_86 = (short)(iVar5 + 0x2d);
              local_88 = sVar14 + 0x20;
              local_84 = (ushort)DAT_BUNIT__801cf7f0;
              local_82 = (ushort)DAT_BUNIT__801cf7f1;
              FUN_BUNIT__801cd888(&local_88,DAT_BUNIT__801cf7f2,DAT_BUNIT__801cf7f3,puVar8,0,
                                  DAT_BUNIT__801cf95e,DAT_BUNIT__801eca94,8);
              uVar3 = local_84;
              local_84 = 3;
              local_82 = 3;
              local_88 = local_88 + uVar3;
              local_86 = local_86 + 5;
              FUN_BUNIT__801cd888(&local_88,';','\x15',puVar8,0,DAT_BUNIT__801cf95e,
                                  DAT_BUNIT__801eca94,8);
              DAT_BUNIT__801cf58c = (undefined)(iVar5 + 0x28);
              DAT_BUNIT__801cf58b = local_90 + '\r';
              pcVar12 = &DAT_BUNIT__801cf584;
              if (99 < *(short *)((&DAT_BUNIT__801ecaf8)[bVar2] + 0x26)) {
                DAT_BUNIT__801cf5a3 = local_90 + '\n';
                pcVar12 = &DAT_BUNIT__801cf59c;
              }
              DAT_BUNIT__801cf58d = bVar2;
              DAT_BUNIT__801cf5a4 = DAT_BUNIT__801cf58c;
              DAT_BUNIT__801cf5a5 = bVar2;
              FUN_BUNIT__801c9718(pcVar12);
              DAT_BUNIT__801cf598 = (undefined)(iVar5 + 0x2d);
              DAT_BUNIT__801cf597 = local_90 + '-';
              pcVar12 = &DAT_BUNIT__801cf590;
              DAT_BUNIT__801cf599 = bVar2;
              DAT_BUNIT__801cf5b0 = DAT_BUNIT__801cf598;
              DAT_BUNIT__801cf5b1 = bVar2;
              if (99 < *(short *)((&DAT_BUNIT__801ecaf8)[bVar2] + 0x28)) {
                DAT_BUNIT__801cf5af = local_90 + '(';
                pcVar12 = &DAT_BUNIT__801cf5a8;
              }
            }
            FUN_BUNIT__801c9718(pcVar12);
          }
        }
LAB_BUNIT__801c55f8:
        FUN_BUNIT__801c5e78((ushort)(byte)(&DAT_BUNIT__801eb1dc)[uVar6],(int)sVar4,
                            (int)(short)uVar19);
        if ((*(byte *)((&DAT_BUNIT__801ecaf8)[(byte)(&DAT_BUNIT__801eb1dc)[uVar6]] + 0x73) & 0x80)
            != 0) {
          iVar5 = FUN_BUNIT__801c7148(*(byte *)((&DAT_BUNIT__801ecaf8)
                                                [(byte)(&DAT_BUNIT__801eb1dc)[uVar6]] + 0x73) - 0x80
                                     );
          FUN_BUNIT__801c5e78((ushort)iVar5,(int)sVar4,(int)(short)uVar19);
        }
      }
      local_30 = local_30 + 0x3e;
      uVar6 = uVar6 + 1;
      local_58 = local_58 + 1;
    } while (local_58 < 4);
    uVar19 = uVar19 + 0x3c;
    local_60 = local_60 + 1;
    if (4 < (int)local_60) {
      FUN_BUNIT__801cb014(&local_68);
      FUN_BUNIT__801c5ae4(&DAT_BUNIT__801cf7bc);
      DAT_BUNIT__801cf55c = (short)(DAT_BUNIT__801cf55c * 3 + (int)DAT_BUNIT__801cf7bc >> 2);
      DAT_BUNIT__801cf55e = (short)(DAT_BUNIT__801cf55e * 3 + (int)DAT_BUNIT__801cf7be >> 2);
      if (((int)DAT_BUNIT__801cf55c - (int)DAT_BUNIT__801cf7bc) + 4U < 9) {
        DAT_BUNIT__801cf55c = DAT_BUNIT__801cf7bc + -1;
      }
      local_60 = (int)DAT_BUNIT__801cf55e - (int)DAT_BUNIT__801cf7be;
      if (local_60 + 4 < 9) {
        DAT_BUNIT__801cf55e = DAT_BUNIT__801cf7be + -1;
      }
      FUN_BUNIT__801c5864((int)DAT_BUNIT__801cf50b + (int)DAT_BUNIT__801cf50c);
      return 1;
    }
  } while( true );
}



int FUN_BUNIT__801c57c0(int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  
  iVar1 = DAT_BUNIT__801cf55c - param_1;
  if (iVar1 < 0) {
    iVar1 = -iVar1;
  }
  iVar2 = DAT_BUNIT__801cf55e - param_2;
  if (iVar2 < 0) {
    iVar2 = -iVar2;
  }
  iVar1 = csqrt((iVar2 * 2 * iVar2 * 2 + iVar1 * iVar1) * 0x1000);
  iVar1 = param_3 - (iVar1 >> 0xc);
  if (iVar1 < param_4) {
    iVar1 = param_4;
  }
  return iVar1;
}



void FUN_BUNIT__801c5864(int param_1)

{
  int iVar1;
  int iVar2;
  undefined *puVar3;
  short *psVar4;
  int iVar5;
  short *psVar6;
  int iVar7;
  short local_a0;
  short local_9e;
  undefined2 local_9c;
  undefined2 local_9a;
  short local_98;
  undefined2 local_96;
  undefined2 local_94;
  undefined2 local_92;
  undefined local_88;
  undefined local_87;
  undefined local_86;
  undefined local_85;
  undefined local_84;
  undefined local_83;
  undefined local_82;
  undefined local_81;
  undefined local_80;
  undefined local_7f;
  undefined local_7e;
  undefined local_7d;
  undefined local_73 [83];
  
  iVar7 = 0;
  local_9c = 0x40;
  local_94 = 0x40;
  local_9a = 0x20;
  local_92 = 0x20;
  local_96 = 0xd8;
  local_9e = (short)param_1;
  if (param_1 < 0x101) {
    psVar6 = &local_a0;
    do {
      iVar5 = 0;
      psVar4 = psVar6 + 0x14;
      do {
        iVar2 = FUN_BUNIT__801c57c0(iVar5 << 6,param_1,0xff,0x50);
        iVar5 = iVar5 + 1;
        if (0xdc < iVar2) {
          iVar2 = 0xdc;
        }
        *(char *)psVar4 = (char)iVar2;
        psVar4 = (short *)((int)psVar4 + 1);
      } while (iVar5 < 5);
      param_1 = param_1 + 0x20;
      psVar6 = (short *)((int)psVar6 + 5);
    } while (param_1 < 0x101);
  }
  local_94 = DAT_BUNIT__801cf980;
  local_92 = DAT_BUNIT__801cf95e;
  if (local_9e < 0xf0) {
    iVar5 = 0;
    psVar6 = &local_a0;
    do {
      if (-0x21 < local_9e) {
        iVar2 = 0;
        psVar4 = &DAT_BUNIT__801cf84c + (iVar7 % 2) * 8;
        do {
          puVar3 = (undefined *)((int)psVar6 + iVar2 + 0x28);
          iVar1 = iVar2 + iVar5;
          local_a0 = *psVar4;
          iVar2 = iVar2 + 1;
          local_98 = psVar4[1];
          psVar4 = psVar4 + 2;
          local_88 = *puVar3;
          local_85 = puVar3[1];
          local_82 = local_73[iVar1];
          local_7f = (local_73 + iVar1)[1];
          local_87 = local_88;
          local_86 = local_88;
          local_84 = local_85;
          local_83 = local_85;
          local_81 = local_82;
          local_80 = local_82;
          local_7e = local_7f;
          local_7d = local_7f;
          FUN_BUNIT__801cda9c(&local_a0,&local_88,0,(uint)(local_98 == 0x58));
        } while (iVar2 < 4);
      }
      psVar6 = (short *)((int)psVar6 + 5);
      iVar5 = iVar5 + 5;
      local_9e = local_9e + 0x20;
      iVar7 = iVar7 + 1;
    } while (local_9e < 0xf0);
  }
  return;
}



void FUN_BUNIT__801c5a78(void)

{
  int iVar1;
  
  iVar1 = 0x1c;
  do {
    *(undefined2 *)((int)&DAT_BUNIT__801eb20c + iVar1) = 0xffff;
    iVar1 = iVar1 + -4;
  } while (-1 < iVar1);
  DAT_BUNIT__801cf87e = GetTPage(0,2,0x3c0,0x100);
  DAT_BUNIT__801cf892 = GetTPage(0,1,0x3c0,0x100);
  return;
}



void FUN_BUNIT__801c5ae4(short *param_1)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined *puVar5;
  int iVar6;
  short *psVar7;
  short *psVar8;
  undefined local_38;
  undefined local_37;
  undefined local_36;
  
  iVar4 = 1;
  iVar6 = 0;
  do {
    iVar2 = iVar4;
    (&DAT_BUNIT__801eb20c)[iVar6 * 2] = (&DAT_BUNIT__801eb20c)[iVar2 * 2];
    (&DAT_BUNIT__801eb20e)[iVar6 * 2] = (&DAT_BUNIT__801eb20e)[iVar2 * 2];
    iVar4 = iVar2 + 1;
    iVar6 = iVar2;
  } while (iVar2 < 7);
  iVar4 = (int)DAT_BUNIT__801eb228;
  if (iVar4 == -1) {
    DAT_BUNIT__801eb228 = *param_1 + -0x1f;
  }
  else {
    DAT_BUNIT__801eb228 = (short)(iVar4 * 3 + -0x1f + (int)*param_1 >> 2);
    iVar6 = (int)DAT_BUNIT__801eb228;
    if (iVar6 < 0) {
      iVar6 = -iVar6;
    }
    if (iVar4 == iVar6) {
      DAT_BUNIT__801eb228 = *param_1 + -0x1f;
    }
    iVar6 = (int)DAT_BUNIT__801eb22a;
    DAT_BUNIT__801eb22a = (short)(iVar6 * 3 + -1 + (int)param_1[1] >> 2);
    iVar4 = (int)DAT_BUNIT__801eb22a;
    if (iVar4 < 0) {
      iVar4 = -iVar4;
    }
    if (iVar6 != iVar4) goto LAB_BUNIT__801c5c34;
  }
  DAT_BUNIT__801eb22a = param_1[1] + -1;
LAB_BUNIT__801c5c34:
  iVar4 = 1000;
  iVar6 = 7;
  psVar7 = &DAT_BUNIT__801eb22a;
  psVar8 = &DAT_BUNIT__801eb228;
  do {
    local_38 = *(undefined *)(iVar6 + -0x7fe3076c);
    sVar1 = *psVar8;
    iVar3 = (int)sVar1 + (int)*psVar7;
    iVar2 = iVar3 - iVar4;
    if (iVar2 < 0) {
      iVar2 = -iVar2;
    }
    if (4 < iVar2) {
      puVar5 = (undefined *)0x0;
      if (iVar6 != 7) {
        puVar5 = &local_38;
      }
      iVar4 = iVar3;
      if (sVar1 != -1) {
        DAT_BUNIT__801cf87a = 0x10;
        DAT_BUNIT__801cf872 = 0x10;
        DAT_BUNIT__801cf88e = 0x10;
        DAT_BUNIT__801cf886 = 0x10;
        DAT_BUNIT__801cf86e = *psVar7;
        DAT_BUNIT__801cf882 = *psVar7 + -1;
        DAT_BUNIT__801cf86c = sVar1;
        DAT_BUNIT__801cf880 = sVar1;
        local_37 = local_38;
        local_36 = local_38;
        FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf86c,puVar5,0,1,3);
        FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf880,puVar5,0,1,4);
        DAT_BUNIT__801cf86c = DAT_BUNIT__801cf86c + 0x1f;
        DAT_BUNIT__801cf880 = DAT_BUNIT__801cf880 + 0x1f;
        FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf86c,puVar5,1,1,3);
        FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf880,puVar5,1,1,4);
        DAT_BUNIT__801cf86c = *psVar8;
        DAT_BUNIT__801cf87a = 0xf;
        DAT_BUNIT__801cf872 = 0xf;
        DAT_BUNIT__801cf88e = 0xf;
        DAT_BUNIT__801cf886 = 0xf;
        DAT_BUNIT__801cf86e = *psVar7 + 0x10;
        DAT_BUNIT__801cf882 = *psVar7 + 0xf;
        DAT_BUNIT__801cf880 = DAT_BUNIT__801cf86c;
        FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf86c,puVar5,2,1,3);
        FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf880,puVar5,2,1,4);
        DAT_BUNIT__801cf86c = DAT_BUNIT__801cf86c + 0x1f;
        DAT_BUNIT__801cf880 = DAT_BUNIT__801cf880 + 0x1f;
        FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf86c,puVar5,3,1,3);
        FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf880,puVar5,3,1,4);
      }
    }
    psVar7 = psVar7 + -2;
    iVar6 = iVar6 + -1;
    psVar8 = psVar8 + -2;
  } while (-1 < iVar6);
  return;
}



// WARNING: Removing unreachable block (ram,0x801c6024)
// WARNING: Removing unreachable block (ram,0x801c604c)

void FUN_BUNIT__801c5e78(ushort param_1,int param_2,int param_3)

{
  short sVar1;
  short sVar2;
  short sVar3;
  int iVar4;
  byte *pbVar5;
  uint uVar6;
  byte *pbVar7;
  int iVar8;
  short sVar9;
  int *piVar10;
  char local_48;
  char local_47;
  char local_46;
  short local_40;
  short local_3e;
  ushort local_3c;
  ushort local_3a;
  short local_38;
  short local_36;
  ushort local_34;
  ushort local_32;
  short local_2c;
  short local_2a;
  
  iVar4 = FUN_BUNIT__801c57c0(param_2,param_3,200,0x50);
  if (0x80 < iVar4) {
    iVar4 = 0x80;
  }
  local_48 = (char)iVar4;
  piVar10 = (int *)((int)&DAT_BUNIT__801ecaf8 + ((int)((uint)param_1 << 0x10) >> 0xe));
  local_47 = local_48;
  local_46 = local_48;
  pbVar5 = (byte *)FUN_8008db54();
  sVar2 = (local_2c >> 1) + 0x16;
  if (pbVar5 != (byte *)0xffffffff) {
    iVar4 = 0;
    pbVar7 = pbVar5 + 2;
    do {
      uVar6 = *(ushort *)(pbVar7 + 2) >> 9 & 0x1e;
      local_3c = (ushort)(byte)(&DAT_BUNIT__801cf89c)[uVar6];
      local_3a = (ushort)(byte)(&DAT_BUNIT__801cf89d)[uVar6];
      local_34 = local_3c;
      local_32 = local_3a;
      sVar3 = FUN_8008c054();
      sVar9 = (short)(char)*pbVar7;
      if (1 < sVar3) {
        sVar9 = -local_3c - (short)(char)*pbVar7;
      }
      sVar1 = (short)param_2;
      local_40 = sVar1 + sVar9 + 0x1c;
      sVar9 = (short)param_3;
      local_3e = (short)(char)pbVar7[1] + sVar9 + sVar2;
      if ((*(byte *)(*piVar10 + 0x73) & 0x80) != 0) {
        local_3e = local_3e + -8;
      }
      local_38 = ((*(ushort *)(pbVar7 + 2) & 0x3ff) - (*(ushort *)(pbVar7 + 2) & 0x3e0)) * 8;
      local_36 = (short)((int)(*(ushort *)(pbVar7 + 2) & 0x3ff) >> 5) * 8 + local_2a;
      iVar8 = 7;
      if (((*(byte *)(*piVar10 + 0x73) & 0x40) != 0) && (iVar8 = 8, 2 < iVar4)) {
        iVar8 = 6;
      }
      FUN_BUNIT__801cdd24(&local_40,&local_48,1 < sVar3,0,iVar8);
      iVar4 = iVar4 + 1;
      pbVar7 = pbVar7 + 4;
    } while (iVar4 <= (int)(uint)*pbVar5);
    piVar10 = (int *)((int)&DAT_BUNIT__801ecaf8 + ((int)((uint)param_1 << 0x10) >> 0xe));
    if ((*(byte *)(*piVar10 + 0x73) & 0x40) == 0) {
      DAT_BUNIT__801cf8bc = sVar1 + 0x12;
      DAT_BUNIT__801cf8be = sVar9 + sVar2 + -4;
      DAT_BUNIT__801cf8ce = GetTPage(0,2,0x3c0,0x100);
      FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf8bc,(undefined *)0x0,0,1,5);
      DAT_BUNIT__801cf8e0 = 0x3f13;
      if (*(short *)(*piVar10 + 2) == 1) {
        DAT_BUNIT__801cf8e0 = 0x3f12;
      }
      DAT_BUNIT__801cf8d0 = sVar1;
      DAT_BUNIT__801cf8d2 = sVar9;
      DAT_BUNIT__801cf8e2 = GetTPage(0,1,0x3c0,0x100);
      if (param_1 == DAT_BUNIT__801cf450) {
        iVar8 = (uint)DAT_BUNIT__801cf8e4 + DAT_BUNIT__801cf8e5 * 2;
        iVar4 = iVar8 * 0x1000000 >> 0x18;
        DAT_BUNIT__801cf8e4 = (byte)iVar8;
        if (0x28 < iVar4) {
          DAT_BUNIT__801cf8e5 = -1;
        }
        if (iVar4 < -0x28) {
          DAT_BUNIT__801cf8e5 = '\x01';
        }
        local_48 = local_48 + DAT_BUNIT__801cf8e4;
        local_46 = local_46 + DAT_BUNIT__801cf8e4;
        local_47 = local_47 + DAT_BUNIT__801cf8e4;
      }
      FUN_BUNIT__801cdd24(&DAT_BUNIT__801cf8d0,&local_48,0,1,8);
    }
  }
  return;
}



void FUN_BUNIT__801c6274(void)

{
  int iVar1;
  char *pcVar2;
  int iVar3;
  int *piVar4;
  char cVar5;
  
  cVar5 = '\0';
  iVar3 = 0;
  if (DAT_BUNIT__801eb154 != 0) {
    pcVar2 = &DAT_BUNIT__801eb1f0;
    piVar4 = &DAT_BUNIT__801ecaf8;
    do {
      if ((*(byte *)(*piVar4 + 0x73) & 0x40) == 0) {
        *pcVar2 = cVar5;
        cVar5 = cVar5 + '\x01';
      }
      else {
        iVar1 = FUN_BUNIT__801c7148(*(byte *)(*piVar4 + 0x73) - 0x40);
        *pcVar2 = (char)iVar1;
      }
      pcVar2 = pcVar2 + 1;
      iVar3 = iVar3 + 1;
      piVar4 = piVar4 + 1;
    } while (iVar3 < (int)(uint)DAT_BUNIT__801eb154);
  }
  return;
}



int FUN_BUNIT__801c6330(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  
  iVar3 = 0;
  iVar2 = 0;
  if (DAT_BUNIT__801eb154 != 0) {
    piVar4 = &DAT_BUNIT__801ecaf8;
    do {
      iVar1 = *piVar4;
      piVar4 = piVar4 + 1;
      if ((*(byte *)(iVar1 + 0x73) & 0x40) == 0) {
        (&DAT_BUNIT__801eb1dc)[iVar2] = (char)iVar3;
        iVar2 = iVar2 + 1;
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < (int)(uint)DAT_BUNIT__801eb154);
  }
  return iVar2;
}



void FUN_BUNIT__801c63a8(void)

{
  short sVar1;
  undefined2 uVar2;
  undefined2 *puVar3;
  ushort *puVar4;
  int iVar5;
  int iVar6;
  undefined2 *puVar7;
  short *psVar8;
  ushort local_30 [11];
  undefined2 local_1a;
  
  if (DAT_BUNIT__801cf940 == '\0') {
    DAT_BUNIT__801cf93c = 0;
    psVar8 = &DAT_BUNIT__801eb134;
    FUN_BUNIT__801c70c4(1,&DAT_BUNIT__801eb134);
    iVar5 = 0;
    puVar4 = local_30;
    do {
      sVar1 = *psVar8;
      psVar8 = psVar8 + 1;
      iVar5 = iVar5 + 1;
      *puVar4 = sVar1 + 1;
      puVar4 = puVar4 + 1;
    } while (iVar5 < 0xb);
    local_1a = 0xffff;
    FUN_BUNIT__801cb944(&DAT_BUNIT__801cf458,&DAT_BUNIT__801eb158,local_30,1);
    DAT_BUNIT__801cf940 = '\x01';
  }
  iVar5 = FUN_BUNIT__801cbb44(0xf,&DAT_BUNIT__801cf904);
  if (iVar5 == 0) {
    DAT_BUNIT__801cf940 = '\0';
    DAT_BUNIT__801cf454 = 0xffffffff;
  }
  iVar5 = (int)DAT_BUNIT__801eb152;
  DAT_BUNIT__801ecb6c = (short)(&DAT_BUNIT__801eb134)[DAT_BUNIT__801cf93c] + 0x1002;
  if (iVar5 != -1) {
    iVar6 = iVar5 + -1;
    DAT_BUNIT__801eb134 = (&DAT_BUNIT__801eb134)[iVar5];
    if (-1 < iVar6) {
      puVar7 = &DAT_BUNIT__801eb136 + iVar6;
      puVar3 = &DAT_BUNIT__801eb134 + iVar6;
      do {
        uVar2 = *puVar3;
        puVar3 = puVar3 + -1;
        iVar6 = iVar6 + -1;
        *puVar7 = uVar2;
        puVar7 = puVar7 + -1;
      } while (-1 < iVar6);
    }
    psVar8 = &DAT_BUNIT__801eb134;
    FUN_BUNIT__801c35f0();
    iVar5 = 0;
    puVar4 = local_30;
    do {
      sVar1 = *psVar8;
      psVar8 = psVar8 + 1;
      iVar5 = iVar5 + 1;
      *puVar4 = sVar1 + 1;
      puVar4 = puVar4 + 1;
    } while (iVar5 < 0xb);
    local_1a = 0xffff;
    FUN_BUNIT__801cb944(&DAT_BUNIT__801cf458,&DAT_BUNIT__801eb158,local_30,1);
    DAT_BUNIT__801cf900 = 1;
    FUN_BUNIT__801c7104(1,(char *)&DAT_BUNIT__801eb134);
    FUN_BUNIT__801c6f48();
    FUN_BUNIT__801c6330();
    FUN_BUNIT__801c6274();
  }
  return;
}



void FUN_BUNIT__801c657c(void)

{
  memset(&DAT_BUNIT__801eb22c,'\0',0x54);
  return;
}



void FUN_BUNIT__801c65a8(int param_1)

{
  memset(&DAT_BUNIT__801eb22c + param_1 * 6,'\0',6);
  return;
}



void FUN_BUNIT__801c65e4(int param_1,int param_2,undefined2 param_3,int param_4)

{
  int iVar1;
  
  iVar1 = param_1 * 6;
  *(short *)(&DAT_BUNIT__801eb22c + iVar1) = (short)param_2;
  *(undefined2 *)(&DAT_BUNIT__801eb22e + iVar1) = param_3;
  *(ushort *)(&DAT_BUNIT__801eb230 + iVar1) = *(ushort *)(param_2 * 2 + param_4) & 0x3ff;
  return;
}



void FUN_BUNIT__801c6630(int param_1,short *param_2,undefined2 *param_3,ushort *param_4)

{
  ushort uVar1;
  int iVar2;
  short sVar3;
  
  iVar2 = param_1 * 6;
  *param_2 = *(short *)(&DAT_BUNIT__801eb22c + iVar2);
  *param_3 = *(undefined2 *)(&DAT_BUNIT__801eb22e + iVar2);
  if ((int)*(short *)(&DAT_BUNIT__801eb230 + iVar2) != (int)(short)param_4[*param_2]) {
    sVar3 = 0;
    uVar1 = *param_4;
    while (uVar1 != 0xffff) {
      if ((*param_4 & 0x3ff) == (int)*(short *)(&DAT_BUNIT__801eb230 + iVar2)) {
        *param_2 = sVar3;
        return;
      }
      param_4 = param_4 + 1;
      sVar3 = sVar3 + 1;
      uVar1 = *param_4;
    }
    *param_2 = 0;
    *param_3 = 0;
  }
  return;
}



undefined4 FUN_BUNIT__801c66e0(void)

{
  if (DAT_BUNIT__801cf50c == '\0') {
    if (DAT_BUNIT__801cf50b == -0x3c) {
      if (DAT_BUNIT__801cf450 < 0x10) {
        if (3 < DAT_BUNIT__801cf450) {
          return 0;
        }
        return 1;
      }
    }
    else {
      if (DAT_BUNIT__801cf50b < -0x3b) {
        if (DAT_BUNIT__801cf50b != -0x78) {
          return 0;
        }
        if (7 < DAT_BUNIT__801cf450) {
          return 0;
        }
        return 1;
      }
      if (DAT_BUNIT__801cf50b != '\0') {
        return 0;
      }
      if (DAT_BUNIT__801cf450 < 0xc) {
        return 0;
      }
    }
  }
  return 1;
}



undefined4 FUN_BUNIT__801c67a0(short *param_1,int param_2)

{
  uint uVar1;
  undefined4 uVar2;
  
  uVar2 = 0;
  uVar1 = 0;
  if ((int)*param_1 == 0) {
    if ((int)param_1[1] != 0) {
      uVar1 = (int)param_1[1] & 0x3ff;
    }
  }
  else if (param_1[1] == 0) {
    uVar1 = (int)*param_1 & 0x3ff;
  }
  if (((uVar1 != 0) && (uVar1 < 0x7a)) &&
     (((WeaponSecondary[uVar1].field_0x1 & 1) != 0 ||
      ((param_2 != 0 && (uVar2 = 0, (WeaponSecondary[uVar1].field_0x1 & 4) != 0)))))) {
    uVar2 = 1;
  }
  return uVar2;
}



bool FUN_BUNIT__801c6834(int param_1)

{
  return param_1 - 0x90U < 0xb || param_1 - 0x3cU < 0xe;
}



void FUN_BUNIT__801c6854(undefined *param_1,ushort *param_2)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  ushort uVar4;
  int iVar5;
  ushort *puVar6;
  int iVar7;
  undefined4 uVar8;
  undefined3 extraout_var;
  uint uVar9;
  ushort *puVar10;
  ushort *puVar11;
  
  memset((uchar *)param_2,'\0',0x10c);
  uVar4 = 99;
  if ((byte)param_1[0x22] < 100) {
    uVar4 = (ushort)(byte)param_1[0x22];
  }
  *param_2 = uVar4;
  if ((param_1[0x1ba] & 0x30) != 0) {
    param_2[1] = 1;
  }
  if ((param_1[0x1ba] & 0x38) == 0) {
    param_2[1] = 2;
  }
  if (param_1[0x1b8] != '\0') {
    param_2[1] = 3;
  }
  iVar5 = FUN_801834bc();
  uVar4 = 0xffff;
  if (-1 < iVar5) {
    uVar4 = (short)iVar5 + 1;
  }
  param_2[2] = uVar4;
  uVar4 = 99;
  if ((byte)param_1[0x21] < 100) {
    uVar4 = (ushort)(byte)param_1[0x21];
  }
  param_2[4] = uVar4;
  param_2[5] = (ushort)(byte)param_1[1];
  uVar4 = 999;
  if (*(ushort *)(param_1 + 0x28) < 1000) {
    uVar4 = *(ushort *)(param_1 + 0x28);
  }
  param_2[6] = uVar4;
  uVar4 = 999;
  if (*(ushort *)(param_1 + 0x2a) < 1000) {
    uVar4 = *(ushort *)(param_1 + 0x2a);
  }
  param_2[8] = uVar4;
  uVar4 = 999;
  if (*(ushort *)(param_1 + 0x2c) < 1000) {
    uVar4 = *(ushort *)(param_1 + 0x2c);
  }
  param_2[9] = uVar4;
  uVar4 = 999;
  if (*(ushort *)(param_1 + 0x2e) < 1000) {
    uVar4 = *(ushort *)(param_1 + 0x2e);
  }
  param_2[0xb] = uVar4;
  uVar4 = 100;
  if (param_1[0x186] != '\x01') {
    uVar4 = (ushort)(byte)param_1[0x39];
  }
  param_2[0xc] = uVar4;
  if (100 < uVar4) {
    param_2[0xc] = 100;
  }
  param_2[0xe] = 100;
  param_2[0xf] = (ushort)(byte)param_1[2];
  param_2[0x11] = (ushort)(byte)param_1[1];
  param_2[0x12] = (ushort)(byte)param_1[3];
  param_2[0x13] = (ushort)(byte)param_1[0x24];
  param_2[0x14] = (ushort)(byte)param_1[0x26];
  param_2[0x15] = *(ushort *)(param_1 + 8) >> 0xc;
  param_2[0x16] = (ushort)(byte)param_1[1];
  param_2[0x18] = (ushort)(byte)param_1[0x3a];
  param_2[0x19] = (ushort)(byte)param_1[0x38];
  param_2[0x1a] = (ushort)(byte)param_1[0x3b];
  param_2[0x1b] = (ushort)(byte)param_1[0x3c];
  param_2[0x1c] = (ushort)(byte)param_1[0x3d];
  param_2[0x1d] = (ushort)(byte)param_1[0x3e];
  param_2[0x1e] = (ushort)(byte)param_1[0x3f];
  param_2[0x1f] = (ushort)((byte)(param_1[0x12] + 0x50) < 0x30);
  param_2[0x21] = (ushort)(byte)param_1[0x36];
  param_2[0x22] = (ushort)(byte)param_1[0x43];
  bVar1 = param_1[0x41];
  if ((byte)param_1[0x41] < (byte)param_1[0x42]) {
    bVar1 = param_1[0x42];
  }
  param_2[0x23] = (ushort)bVar1;
  param_2[0x24] = (ushort)(byte)param_1[0x40];
  bVar1 = param_1[0x37];
  param_2[0x27] = 0;
  param_2[0x26] = (ushort)bVar1;
  bVar1 = param_1[0x45];
  if ((byte)param_1[0x45] < (byte)param_1[0x46]) {
    bVar1 = param_1[0x46];
  }
  param_2[0x28] = (ushort)bVar1;
  param_2[0x29] = (ushort)(byte)param_1[0x44];
  if (param_2[0x1f] == 0) {
    if (param_1[0x1d] == -1) {
      param_2[0x2a] = (ushort)(byte)param_1[0x1e];
    }
    else {
      param_2[0x2a] = (ushort)(byte)param_1[0x1d];
    }
    if (param_1[0x1f] == -1) {
      param_2[0x2b] = (ushort)(byte)param_1[0x20];
    }
    else {
      param_2[0x2b] = (ushort)(byte)param_1[0x1f];
    }
    param_2[0x2c] = (ushort)(byte)param_1[0x1a];
    iVar5 = 0;
    param_2[0x2d] = (ushort)(byte)param_1[0x1b];
    param_2[0x2e] = (ushort)(byte)param_1[0x1c];
    puVar10 = param_2;
    do {
      iVar5 = iVar5 + 1;
      if (0xfd < (short)puVar10[0x2a]) {
        puVar10[0x2a] = 0;
      }
      puVar10 = puVar10 + 1;
    } while (iVar5 < 5);
    param_2[0x2f] = (ushort)(byte)param_1[0x12];
    param_2[0x30] = (ushort)(byte)param_1[0x13];
    param_2[0x31] = *(ushort *)(param_1 + 0x14);
    param_2[0x32] = *(ushort *)(param_1 + 0x16);
    param_2[0x33] = *(ushort *)(param_1 + 0x18);
  }
  else {
    iVar5 = 0;
    puVar6 = Store_SkillsetAbilities((uint)(byte)param_1[0x12],1);
    puVar10 = puVar6;
    puVar11 = param_2;
    do {
      bVar3 = false;
      if (iVar5 == 3) {
        if (puVar6[3] != 0) {
          iVar7 = FUN_80182430();
          bVar3 = iVar7 != 0;
        }
      }
      else if (*puVar10 != 0) {
        bVar3 = true;
      }
      iVar5 = iVar5 + 1;
      if (bVar3) {
        puVar11[0x2f] = *puVar10;
        puVar11 = puVar11 + 1;
      }
      puVar10 = puVar10 + 1;
    } while (iVar5 < 4);
  }
  uVar2 = FUN_8008ce20();
  *(undefined *)((int)param_2 + 0x71) = uVar2;
  *(undefined *)(param_2 + 0x39) = param_1[0x1ba];
  *(undefined *)((int)param_2 + 0x73) = param_1[0x182];
  uVar8 = FUN_BUNIT__801c67a0((short *)(param_2 + 0x2a),(byte)param_1[0x91] & 2);
  param_2[0x20] = (ushort)uVar8;
  *(undefined *)(param_2 + 0x38) = param_1[6];
  *(undefined *)(param_2 + 0x3a) = *param_1;
  bVar3 = FUN_BUNIT__801c6834((uint)(byte)param_1[3]);
  if (((CONCAT31(extraout_var,bVar3) == 0) && (param_2[0x1f] == 0)) && (param_2[1] != 1)) {
    uVar9 = Calc_Unlocked_Jobs(param_1 + 0xd2,(byte)param_1[6] & 0x80);
    *(char *)((int)param_2 + 0x75) = (char)(uVar9 >> 0x10);
    *(char *)(param_2 + 0x3b) = (char)(uVar9 >> 8);
    *(char *)((int)param_2 + 0x77) = (char)uVar9;
  }
  else {
    bcopy(param_1 + 0x96,(uchar *)((int)param_2 + 0x75),3);
  }
  bcopy(param_1 + 0x99,(uchar *)(param_2 + 0x3c),0x39);
  bcopy(param_1 + 0xd2,(uchar *)((int)param_2 + 0xb1),10);
  bcopy(param_1 + 0xdc,(uchar *)(param_2 + 0x5e),0x28);
  bcopy(param_1 + 0x104,(uchar *)(param_2 + 0x72),0x28);
  iVar5 = 0;
  do {
    if (9999 < param_2[0x5e]) {
      param_2[0x5e] = 9999;
    }
    iVar5 = iVar5 + 1;
    if (9999 < param_2[0x72]) {
      param_2[0x72] = 9999;
    }
    param_2 = param_2 + 1;
  } while (iVar5 < 0x14);
  return;
}



int FUN_BUNIT__801c6e08(void)

{
  undefined *puVar1;
  int iVar2;
  int iVar3;
  short sVar4;
  int iVar5;
  undefined2 *puVar6;
  
  iVar3 = 0;
  sVar4 = 0;
  iVar2 = 0;
  puVar6 = &DAT_BUNIT__801eb280;
  iVar5 = 0;
  do {
    puVar1 = (undefined *)FUN_80180afc();
    if ((puVar1 != (undefined *)0x0) && (puVar1[1] != -1)) {
      if ((puVar1[6] & 4) == 0) {
        if (((puVar1[0x58] & 0x40) == 0) && ((puVar1[0x59] & 1) == 0)) {
          sVar4 = sVar4 + 1;
          FUN_BUNIT__801c6854(puVar1,(ushort *)(&DAT_BUNIT__801eb2b0 + iVar5));
          *puVar6 = (short)iVar3;
          puVar6 = puVar6 + 1;
          iVar5 = iVar5 + 0x10c;
          iVar3 = iVar3 + 1;
        }
      }
      else {
        sVar4 = sVar4 + 1;
      }
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x15);
  iVar2 = 0;
  if (0 < iVar3) {
    iVar5 = 0;
    do {
      *(short *)((int)&DAT_BUNIT__801eb2b6 + iVar5) = sVar4;
      iVar2 = iVar2 + 1;
      iVar5 = iVar5 + 0x10c;
    } while (iVar2 < iVar3);
  }
  DAT_BUNIT__801eb2ac = (undefined2)iVar3;
  FUN_BUNIT__801c6f48();
  return iVar3;
}



void FUN_BUNIT__801c6f48(void)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  short *psVar5;
  int iVar6;
  undefined4 *puVar7;
  short *psVar8;
  int iVar9;
  
  iVar3 = (int)DAT_BUNIT__801eb2ac;
  iVar9 = iVar3 + -1;
  if (0 < iVar9) {
    do {
      iVar3 = 0;
      psVar5 = &DAT_BUNIT__801eb280;
      psVar8 = &DAT_BUNIT__801eb282;
      if (0 < iVar9) {
        do {
          iVar2 = 0;
          do {
            iVar6 = iVar2;
            iVar4 = (int)*(short *)(&DAT_BUNIT__801eb2b0 +
                                   (char)(&DAT_BUNIT__801cf944)[(char)(&DAT_80057b20)[iVar6]] * 2 +
                                   *psVar8 * 0x10c) -
                    (int)*(short *)(&DAT_BUNIT__801eb2b0 +
                                   (char)(&DAT_BUNIT__801cf944)[(char)(&DAT_80057b20)[iVar6]] * 2 +
                                   *psVar5 * 0x10c);
            iVar2 = iVar6 + 1;
          } while (iVar4 == 0);
          if (((&DAT_80057b20)[iVar6] == '\x01') || ('\x03' < (char)(&DAT_80057b20)[iVar6])) {
            iVar4 = -iVar4;
          }
          iVar3 = iVar3 + 1;
          if (iVar4 < 0) {
            sVar1 = *psVar5;
            *psVar5 = *psVar8;
            *psVar8 = sVar1;
          }
          psVar5 = psVar5 + 1;
          psVar8 = psVar8 + 1;
        } while (iVar3 < iVar9);
      }
      iVar9 = iVar9 + -1;
    } while (0 < iVar9);
    iVar3 = (int)DAT_BUNIT__801eb2ac;
  }
  iVar9 = 0;
  if (0 < iVar3) {
    puVar7 = &DAT_BUNIT__801ecaf8;
    psVar5 = &DAT_BUNIT__801eb280;
    do {
      sVar1 = *psVar5;
      psVar5 = psVar5 + 1;
      iVar9 = iVar9 + 1;
      *puVar7 = &DAT_BUNIT__801eb2b0 + sVar1 * 0x10c;
      puVar7 = puVar7 + 1;
    } while (iVar9 < iVar3);
  }
  return;
}



void FUN_BUNIT__801c70c4(undefined4 param_1,short *param_2)

{
  char cVar1;
  int iVar2;
  
  iVar2 = 0;
  cVar1 = DAT_80057b20;
  while (*param_2 = (short)cVar1, cVar1 != -1) {
    param_2 = param_2 + 1;
    cVar1 = (&DAT_80057b21)[iVar2];
    iVar2 = iVar2 + 1;
  }
  return;
}



void FUN_BUNIT__801c7104(undefined4 param_1,char *param_2)

{
  char cVar1;
  int iVar2;
  
  cVar1 = *param_2;
  iVar2 = 0;
  DAT_80057b20 = cVar1;
  while (param_2 = param_2 + 2, cVar1 != -1) {
    cVar1 = *param_2;
    (&DAT_80057b21)[iVar2] = cVar1;
    iVar2 = iVar2 + 1;
  }
  return;
}



int FUN_BUNIT__801c7148(short param_1)

{
  int iVar1;
  int *piVar2;
  
  iVar1 = 0;
  if (0 < DAT_BUNIT__801eb2ac) {
    piVar2 = &DAT_BUNIT__801ecaf8;
    do {
      if (*(short *)(*piVar2 + 0x2c) == param_1) {
        return iVar1;
      }
      iVar1 = iVar1 + 1;
      piVar2 = piVar2 + 1;
    } while (iVar1 < DAT_BUNIT__801eb2ac);
  }
  return iVar1;
}



int FUN_BUNIT__801c71a8(short param_1)

{
  short sVar1;
  
  if ((ushort)(param_1 - 0x4aU) < 0x14) {
    sVar1 = param_1 + -0x4a;
  }
  else {
    sVar1 = 0;
  }
  return (int)sVar1;
}



int FUN_BUNIT__801c71d4(uint param_1)

{
  JobData *pJVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    pJVar1 = Get_Job_DataPointer(iVar2);
    if (pJVar1->Skillset == param_1) {
      return iVar2;
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0xa0);
  return -1;
}



uint FUN_BUNIT__801c722c(int param_1)

{
  uint uVar1;
  int iVar2;
  
  iVar2 = *(int *)((int)&DAT_BUNIT__801ecaf8 + ((param_1 << 0x10) >> 0xe));
  uVar1 = (uint)*(byte *)(iVar2 + 0x74);
  if (uVar1 == 0x82) {
    uVar1 = (uint)*(short *)(iVar2 + 0x24);
  }
  else if (0x7f < uVar1) {
    uVar1 = 0x4a;
  }
  return uVar1;
}



int FUN_BUNIT__801c72c0(uint param_1,undefined2 *param_2)

{
  bool bVar1;
  uint uVar2;
  undefined3 extraout_var;
  int iVar3;
  int iVar4;
  int *piVar5;
  undefined2 *puVar6;
  int iVar7;
  
  piVar5 = &DAT_BUNIT__801ecaf8 + (param_1 & 0xff);
  FUN_BUNIT__801cbfc4(*piVar5 + 0x75);
  uVar2 = FUN_BUNIT__801c722c(param_1 & 0xff);
  *param_2 = (short)uVar2;
  iVar7 = 1;
  bVar1 = FUN_BUNIT__801c6834((int)*(short *)(*piVar5 + 0x24));
  if ((CONCAT31(extraout_var,bVar1) == 0) && (*(short *)(*piVar5 + 0x3e) == 0)) {
    FUN_BUNIT__801cbfe0(1);
    iVar4 = 1;
    puVar6 = param_2 + 1;
    do {
      uVar2 = FUN_BUNIT__801cbfe0(1);
      iVar3 = iVar4 + 0x4a;
      if ((((iVar3 != 0x5b) || ((*(byte *)(*piVar5 + 0x70) & 0x40) == 0)) &&
          ((iVar3 != 0x5c || ((*(byte *)(*piVar5 + 0x70) & 0x80) == 0)))) && (uVar2 != 0)) {
        *puVar6 = (short)iVar3;
        puVar6 = puVar6 + 1;
        iVar7 = iVar7 + 1;
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < 0x14);
    param_2[iVar7] = 0xffff;
  }
  else {
    param_2[1] = 0xffff;
    iVar7 = 1;
  }
  return iVar7;
}



SkillsetID FUN_BUNIT__801c7420(int param_1)

{
  JobData *pJVar1;
  
  pJVar1 = Get_Job_DataPointer(param_1);
  return pJVar1->Skillset;
}



int FUN_BUNIT__801c7444(int param_1,short param_2,int param_3,ushort *param_4,int param_5)

{
  SkillsetID SVar1;
  bool bVar2;
  short sVar3;
  undefined3 extraout_var;
  int iVar4;
  int iVar5;
  ushort *puVar6;
  int *piVar7;
  undefined3 extraout_var_00;
  short sVar8;
  ushort uVar9;
  ushort *puVar10;
  uint uVar11;
  int iVar12;
  
  SVar1 = FUN_BUNIT__801c7420((int)param_2);
  uVar11 = CONCAT31(extraout_var,SVar1);
  iVar4 = FUN_BUNIT__801c71a8(param_2);
  iVar5 = FUN_BUNIT__801c71d4(uVar11);
  if (iVar5 == -1) {
    uVar11 = (uint)*(short *)(*(int *)((int)&DAT_BUNIT__801ecaf8 + ((param_1 << 0x10) >> 0xe)) +
                             0x5e);
  }
  puVar6 = Store_SkillsetAbilities(uVar11,0xf);
  if (param_3 == 0) {
    sVar8 = 1;
    sVar3 = 0x1a5;
  }
  else if (param_3 == 1) {
    sVar8 = 0x1a6;
    sVar3 = 0x1c5;
  }
  else if (param_3 == 2) {
    sVar8 = 0x1c6;
    sVar3 = 0x1e5;
  }
  else {
    sVar8 = 1;
    if (param_3 == 3) {
      sVar8 = 0x1e6;
    }
    sVar3 = 0x1fd;
  }
  iVar5 = 0;
  puVar10 = puVar6;
  do {
    if (((short)*puVar10 < sVar8) || (sVar3 < (short)*puVar10)) {
      *puVar10 = 0;
    }
    iVar5 = iVar5 + 1;
    puVar10 = puVar10 + 1;
  } while (iVar5 < 0x18);
  iVar12 = 0;
  iVar5 = 0;
  piVar7 = (int *)((int)&DAT_BUNIT__801ecaf8 + ((param_1 << 0x10) >> 0xe));
  FUN_BUNIT__801cbfc4((short)iVar4 * 3 + 0x78 + *piVar7);
  puVar10 = param_4;
  do {
    bVar2 = FUN_BUNIT__801c6834((int)*(short *)(*piVar7 + 0x24));
    uVar11 = 1;
    if (CONCAT31(extraout_var_00,bVar2) == 0) {
      if (*(short *)(*piVar7 + 0x3e) == 0) {
        uVar11 = FUN_BUNIT__801cbfe0(1);
      }
      else if (2 < iVar5) break;
    }
    uVar9 = *puVar6;
    if ((short)uVar9 != 0) {
      if (param_5 == 0) {
        if (uVar11 == 0) {
          if ((char)PrimaryAbilityData[(short)uVar9].field_0x3 < '\0') {
            uVar9 = uVar9 | 0x6000;
          }
          else {
            uVar9 = uVar9 | 0x4000;
          }
        }
        *puVar10 = uVar9;
      }
      else if ((param_5 != 3) || (uVar11 != 0)) goto LAB_BUNIT__801c7670;
      puVar10 = puVar10 + 1;
      iVar12 = iVar12 + 1;
    }
LAB_BUNIT__801c7670:
    iVar5 = iVar5 + 1;
    puVar6 = puVar6 + 1;
  } while (iVar5 < 0x18);
  if (param_5 != 3) {
    param_4[iVar12] = 0xffff;
  }
  return iVar12;
}



void FUN_BUNIT__801c76cc(int param_1,int param_2)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = *DAT_BUNIT__801ecacc;
  FUN_800449ec();
  DAT_BUNIT__801eca20 = 0;
  DAT_BUNIT__801eca7c = 0;
  DAT_BUNIT__801eca28 = 0;
  DAT_BUNIT__801eca84 = 0;
  DAT_BUNIT__801eca24 = 0;
  DAT_BUNIT__801eca80 = 0;
  DAT_BUNIT__801eca2c = 0;
  DAT_BUNIT__801eca88 = 0;
  DAT_BUNIT__801eca54 = 0;
  DAT_BUNIT__801eca64 = 0;
  DAT_BUNIT__801eca70 = 0;
  DAT_BUNIT__801eca60 = 0;
  DAT_BUNIT__801eca6c = 0;
  DAT_BUNIT__801eca74 = 0;
  DAT_BUNIT__801ecac4 = 0;
  DAT_BUNIT__801ecaec = 0;
  DAT_BUNIT__801ecaf4 = 0;
  DAT_BUNIT__801ecb60 = 0;
  DAT_BUNIT__801ecad8 = 0;
  DAT_BUNIT__801ecb54 = 0;
  DAT_BUNIT__801ecb64 = 0;
  DAT_BUNIT__801ecac8 = 0;
  DAT_BUNIT__801ecab0 = 0;
  DAT_BUNIT__801ecabc = 0;
  do {
    iVar2 = DrawSync(1);
  } while (iVar2 != 0);
  VSync((int)DAT_BUNIT__801cf950);
  bVar1 = DAT_BUNIT__801ecacc == DAT_BUNIT__801ecb4c;
  DAT_BUNIT__801ecacc = DAT_BUNIT__801ecb4c;
  if (bVar1) {
    DAT_BUNIT__801ecacc = DAT_BUNIT__801ecb4c + 0x3b;
  }
  PutDispEnv((DISPENV *)(DAT_BUNIT__801ecacc + 0x30));
  PutDrawEnv((DRAWENV *)(DAT_BUNIT__801ecacc + 0x19));
  DAT_BUNIT__801eca90 = *(undefined2 *)((int)DAT_BUNIT__801ecacc + 0x66);
  if (param_2 != -1) {
    DrawOTag((u_long *)(iVar3 + param_2 * 4));
  }
  ClearOTag((u_long *)(param_1 * 4 + *DAT_BUNIT__801ecacc),(uint)DAT_BUNIT__801ecaa0 - param_1);
  return;
}



void FUN_BUNIT__801c7888(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  if (DAT_BUNIT__801eca10 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetPolyF3((POLY_F3 *)(iVar1 + *(int *)(param_1 + 4)));
      SetShadeTex((void *)(iVar1 + *(int *)(param_1 + 4)),0);
      iVar1 = iVar1 + 0x14;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca10);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca50 != 0) {
    do {
      SetPolyFT3((POLY_FT3 *)(iVar2 * 0x20 + *(int *)(param_1 + 8)));
      SetShadeTex((void *)(iVar2 * 0x20 + *(int *)(param_1 + 8)),0);
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca50);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca18 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetPolyF4((POLY_F4 *)(iVar1 + *(int *)(param_1 + 0xc)));
      SetShadeTex((void *)(iVar1 + *(int *)(param_1 + 0xc)),0);
      iVar1 = iVar1 + 0x18;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca18);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca5c != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetPolyFT4((POLY_FT4 *)(iVar1 + *(int *)(param_1 + 0x10)));
      SetShadeTex((void *)(iVar1 + *(int *)(param_1 + 0x10)),0);
      iVar1 = iVar1 + 0x28;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca5c);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca14 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetPolyG3((POLY_G3 *)(iVar1 + *(int *)(param_1 + 0x14)));
      SetShadeTex((void *)(iVar1 + *(int *)(param_1 + 0x14)),0);
      iVar1 = iVar1 + 0x1c;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca14);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca58 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetPolyGT3((POLY_GT3 *)(iVar1 + *(int *)(param_1 + 0x18)));
      SetShadeTex((void *)(iVar1 + *(int *)(param_1 + 0x18)),0);
      iVar1 = iVar1 + 0x28;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca58);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca1c != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetPolyG4((POLY_G4 *)(iVar1 + *(int *)(param_1 + 0x1c)));
      SetShadeTex((void *)(iVar1 + *(int *)(param_1 + 0x1c)),0);
      iVar1 = iVar1 + 0x24;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca1c);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca68 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetPolyGT4((POLY_GT4 *)(iVar1 + *(int *)(param_1 + 0x20)));
      SetShadeTex((void *)(iVar1 + *(int *)(param_1 + 0x20)),0);
      iVar1 = iVar1 + 0x34;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca68);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca38 != 0) {
    do {
      SetLineF2((LINE_F2 *)(iVar2 * 0x10 + *(int *)(param_1 + 0x24)));
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca38);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca40 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetLineF3((LINE_F3 *)(iVar1 + *(int *)(param_1 + 0x28)));
      iVar1 = iVar1 + 0x18;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca40);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca48 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetLineF4((LINE_F4 *)(iVar1 + *(int *)(param_1 + 0x2c)));
      iVar1 = iVar1 + 0x1c;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca48);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca3c != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetLineG2((LINE_G2 *)(iVar1 + *(int *)(param_1 + 0x30)));
      iVar1 = iVar1 + 0x14;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca3c);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca44 != 0) {
    do {
      SetLineG3((LINE_G3 *)(iVar2 * 0x20 + *(int *)(param_1 + 0x34)));
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca44);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca4c != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetLineG4((LINE_G4 *)(iVar1 + *(int *)(param_1 + 0x38)));
      iVar1 = iVar1 + 0x28;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca4c);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801ecab8 != 0) {
    do {
      SetTile((TILE *)(iVar2 * 0x10 + *(int *)(param_1 + 0x3c)));
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801ecab8);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801ecae0 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetTile1((TILE_1 *)(iVar1 + *(int *)(param_1 + 0x40)));
      iVar1 = iVar1 + 0xc;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801ecae0);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801ecae8 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetTile8((TILE_8 *)(iVar1 + *(int *)(param_1 + 0x44)));
      iVar1 = iVar1 + 0xc;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801ecae8);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801ecb58 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetTile16((TILE_16 *)(iVar1 + *(int *)(param_1 + 0x48)));
      iVar1 = iVar1 + 0xc;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801ecb58);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca34 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetSprt((SPRT *)(iVar1 + *(int *)(param_1 + 0x4c)));
      iVar1 = iVar1 + 0x14;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca34);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca8c != 0) {
    do {
      SetSprt8((SPRT_8 *)(iVar2 * 0x10 + *(int *)(param_1 + 0x50)));
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca8c);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801eca9c != 0) {
    do {
      SetSprt16((SPRT_16 *)(iVar2 * 0x10 + *(int *)(param_1 + 0x54)));
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801eca9c);
  }
  iVar2 = 0;
  if (DAT_BUNIT__801ecac0 != 0) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      SetDrawMove((DR_MOVE *)(iVar1 + *(int *)(param_1 + 0x58)));
      iVar1 = iVar1 + 0x18;
    } while (iVar2 < (int)(uint)DAT_BUNIT__801ecac0);
  }
  return;
}



void FUN_BUNIT__801c7ea0(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,
                        int param_7,int param_8,int param_9,int param_10,int param_11,int param_12,
                        int param_13,int param_14,int param_15,int param_16,int param_17,
                        int param_18,int param_19,int param_20,int param_21,int param_22,
                        int param_23,int param_24,int param_25,int param_26)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int *piVar13;
  int iVar14;
  int iVar15;
  int y;
  
  iVar14 = 0;
  y = 0;
  iVar15 = 0;
  DAT_BUNIT__801ecacc = param_1;
  DAT_BUNIT__801ecb4c = param_1;
  do {
    uVar1 = (uint)DAT_BUNIT__801eca10;
    uVar2 = (uint)DAT_BUNIT__801eca50;
    uVar3 = (uint)DAT_BUNIT__801eca18;
    uVar4 = (uint)DAT_BUNIT__801eca5c;
    uVar5 = (uint)DAT_BUNIT__801eca14;
    uVar6 = (uint)DAT_BUNIT__801eca58;
    uVar7 = (uint)DAT_BUNIT__801eca1c;
    uVar8 = (uint)DAT_BUNIT__801eca68;
    uVar9 = (uint)DAT_BUNIT__801eca38;
    uVar10 = (uint)DAT_BUNIT__801eca40;
    uVar11 = (uint)DAT_BUNIT__801eca48;
    piVar13 = (int *)(iVar15 + DAT_BUNIT__801ecb4c);
    *piVar13 = param_2 + (uint)DAT_BUNIT__801ecaa0 * iVar14 * 4;
    piVar13[2] = param_4 + uVar2 * iVar14 * 0x20;
    uVar2 = (uint)DAT_BUNIT__801eca3c;
    uVar12 = (uint)DAT_BUNIT__801eca44;
    piVar13[1] = param_3 + uVar1 * iVar14 * 0x14;
    piVar13[3] = param_5 + uVar3 * iVar14 * 0x18;
    piVar13[4] = param_6 + uVar4 * iVar14 * 0x28;
    piVar13[5] = param_7 + uVar5 * iVar14 * 0x1c;
    piVar13[6] = param_8 + uVar6 * iVar14 * 0x28;
    piVar13[7] = param_9 + uVar7 * iVar14 * 0x24;
    uVar3 = (uint)DAT_BUNIT__801eca4c;
    piVar13[8] = param_10 + uVar8 * iVar14 * 0x34;
    uVar1 = (uint)DAT_BUNIT__801ecab8;
    piVar13[9] = param_11 + uVar9 * iVar14 * 0x10;
    piVar13[10] = param_12 + uVar10 * iVar14 * 0x18;
    piVar13[0xb] = param_13 + uVar11 * iVar14 * 0x1c;
    uVar4 = (uint)DAT_BUNIT__801ecae0;
    piVar13[0xc] = param_14 + uVar2 * iVar14 * 0x14;
    piVar13[0xd] = param_15 + uVar12 * iVar14 * 0x20;
    piVar13[0xe] = param_16 + uVar3 * iVar14 * 0x28;
    piVar13[0xf] = param_17 + uVar1 * iVar14 * 0x10;
    piVar13[0x10] = param_18 + uVar4 * iVar14 * 0xc;
    uVar1 = (uint)DAT_BUNIT__801ecb58;
    uVar2 = (uint)DAT_BUNIT__801eca34;
    uVar3 = (uint)DAT_BUNIT__801eca8c;
    uVar4 = (uint)DAT_BUNIT__801eca9c;
    uVar5 = (uint)DAT_BUNIT__801ecac0;
    piVar13[0x11] = param_19 + (uint)DAT_BUNIT__801ecae8 * iVar14 * 0xc;
    uVar6 = (uint)DAT_BUNIT__801ecaa4;
    piVar13[0x12] = param_20 + uVar1 * iVar14 * 0xc;
    piVar13[0x13] = param_21 + uVar2 * iVar14 * 0x14;
    uVar1 = (uint)DAT_BUNIT__801ecab4;
    piVar13[0x15] = param_23 + uVar4 * iVar14 * 0x10;
    piVar13[0x14] = param_22 + uVar3 * iVar14 * 0x10;
    piVar13[0x16] = param_24 + uVar5 * iVar14 * 0x18;
    piVar13[0x17] = param_25 + uVar6 * iVar14 * 0xc;
    piVar13[0x18] = param_26 + uVar1 * iVar14 * 0xc;
    FUN_BUNIT__801c7888((int)piVar13);
    SetDefDrawEnv((DRAWENV *)(iVar15 + DAT_BUNIT__801ecb4c + 100),0,y,0xff,0xf0);
    SetDefDispEnv((DISPENV *)(iVar15 + DAT_BUNIT__801ecb4c + 0xc0),0,-(uint)(iVar14 == 0) & 0xf0,
                  0xff,0xf0);
    *(undefined *)(iVar15 + DAT_BUNIT__801ecb4c + 0x7c) = 0;
    *(undefined *)(iVar15 + DAT_BUNIT__801ecb4c + 0x7d) = 0;
    y = y + 0xf0;
    *(undefined *)(iVar15 + DAT_BUNIT__801ecb4c + 0x7e) = 0;
    iVar14 = iVar14 + 1;
    *(undefined *)(iVar15 + DAT_BUNIT__801ecb4c + 0x7f) = 0;
    *(undefined2 *)(iVar15 + DAT_BUNIT__801ecb4c + 0x6c) = 0xff80;
    iVar15 = iVar15 + 0xec;
  } while (iVar14 < 2);
  FUN_BUNIT__801c76cc(0,-1);
  FUN_BUNIT__801c76cc(0,-1);
  return;
}



void FUN_BUNIT__801c8408(undefined param_1)

{
  DAT_BUNIT__801cf950 = param_1;
  FUN_8013da00();
  return;
}



int FUN_BUNIT__801c843c(void)

{
  int iVar1;
  
  iVar1 = 1;
  if (DAT_BUNIT__801cf950 != 0) {
    iVar1 = (int)DAT_BUNIT__801cf950;
  }
  return iVar1;
}



void FUN_BUNIT__801c845c(short *param_1,int param_2,undefined4 param_3)

{
  short sVar1;
  
  DAT_BUNIT__801ec8d8 = param_1;
  DAT_BUNIT__801ec8dc = param_3;
  if (param_1 != (short *)0x0) {
    sVar1 = *param_1;
    uRam801ecbb0 = 0;
    while (sVar1 != -1) {
      uRam801ecbb0 = uRam801ecbb0 + 1;
      sVar1 = *(short *)(((int)((uint)uRam801ecbb0 << 0x10) >> 0xf) + (int)param_1);
    }
  }
  DAT_BUNIT__801eca98 = (short)param_2;
  if (param_2 == 0) {
    DAT_BUNIT__801ecadc = 0;
  }
  DAT_BUNIT__801ec8b0 = 0x80;
  DAT_BUNIT__801ec8b1 = 0x80;
  DAT_BUNIT__801ec8b2 = 0x80;
  DAT_BUNIT__801ec8b4 = 0;
  DAT_BUNIT__801ec8c8 = 0;
  DAT_BUNIT__801cf954 = 0;
  DAT_BUNIT__801ec8d4 = 1;
  DAT_BUNIT__801cf9fc = 0;
  DAT_BUNIT__801ec8fc = 0;
  DAT_BUNIT__801cf988 = 0;
  return;
}



void FUN_BUNIT__801c8530(short *param_1,int param_2,undefined2 param_3,undefined4 param_4)

{
  FUN_BUNIT__801c845c(param_1,param_2,param_4);
  DAT_BUNIT__801ecadc = param_3;
  return;
}



void FUN_BUNIT__801c8564(byte *param_1,undefined4 param_2)

{
  uint uVar1;
  byte *pbVar2;
  
  DAT_BUNIT__801ec8b4 = 0;
  DAT_BUNIT__801ec8cc = 0;
  DAT_BUNIT__801ec8fc = 0;
  DAT_BUNIT__801ec8b8 = param_2;
  if (*param_1 != 0x1c) {
    uVar1 = (uint)*param_1;
    do {
      pbVar2 = (byte *)(*(code *)(&PTR_DAT_BUNIT__801c8af4_BUNIT__801cf98c)[uVar1])();
      uVar1 = (uint)*pbVar2;
    } while (uVar1 != 0x1c);
  }
  return;
}



void FUN_BUNIT__801c85f8(byte *param_1,undefined4 param_2,int param_3)

{
  if (param_3 != 0) {
    param_2 = 0;
  }
  FUN_BUNIT__801cb058(param_3);
  FUN_BUNIT__801c8564(param_1,param_2);
  return;
}



char * FUN_BUNIT__801c9718(char *param_1)

{
  char *pcVar1;
  bool bVar2;
  int iVar3;
  short *psVar4;
  char cVar5;
  char cVar6;
  uint uVar7;
  int iVar8;
  undefined2 uVar9;
  int iVar10;
  ushort uVar11;
  undefined *puVar12;
  uint uVar13;
  char local_58 [16];
  short local_48;
  ushort local_46;
  undefined2 local_44;
  undefined2 local_42;
  undefined2 local_40;
  undefined2 local_3e;
  undefined2 local_3c;
  undefined2 local_3a;
  short local_38;
  short local_36;
  undefined2 local_34;
  undefined2 local_32;
  
  if (DAT_BUNIT__801ec8c8 == 0) {
    uVar7 = (uint)(byte)param_1[9];
    uVar11 = (ushort)(byte)param_1[8];
  }
  else {
    uVar7 = DAT_BUNIT__801ecadc + DAT_BUNIT__801cf958;
    uVar11 = (DAT_BUNIT__801ec8c0 * (short)DAT_BUNIT__801cf958 + (ushort)(byte)param_1[8]) -
             DAT_BUNIT__801cf954;
    if (DAT_BUNIT__801cf954 < 0) {
      uVar7 = uVar7 - 1;
      uVar11 = uVar11 - DAT_BUNIT__801ec8c0;
    }
  }
  if ((code *)(&DAT_BUNIT__801ecb70)[(byte)param_1[3]] != (code *)0x0) {
    uVar7 = (*(code *)(&DAT_BUNIT__801ecb70)[(byte)param_1[3]])(uVar7);
  }
  bVar2 = (int)uVar7 < 0;
  if (bVar2) {
    uVar7 = -uVar7;
  }
  uVar13 = (uint)bVar2;
  if ((*param_1 == '\x1b') || (puVar12 = (undefined *)0x0, *param_1 == '\x19')) {
    puVar12 = &DAT_BUNIT__801ec8b0;
  }
  uVar9 = DAT_BUNIT__801eca78;
  if (param_1[6] != '\0') {
    uVar9 = DAT_BUNIT__801eca94;
  }
  if ((uVar7 & 0x40000000) != 0) {
    uVar7 = uVar7 & 0xbfffffff;
    uVar9 = DAT_BUNIT__801eca30;
  }
  if (param_1[2] == '\x01') {
    local_40 = 0x78;
    local_3e = 1;
    local_3c = 8;
    local_3a = 0xe;
  }
  else if (param_1[2] == '\0') {
    local_40 = 0x78;
    local_3e = 0x10;
    local_3c = 6;
    local_3a = 0xb;
  }
  else {
    local_40 = 0x20;
    local_3c = 10;
    local_3a = 0x10;
    local_3e = 0;
  }
  if ((uVar7 & 0x20000000) == 0) {
    iVar3 = sprintf(local_58,&DAT_BUNIT__801bf200);
    iVar10 = 0;
    iVar8 = 0;
    uVar7 = ((uint)(byte)param_1[4] - iVar3) - uVar13;
    if (param_1[4] != '\0') {
      do {
        local_46 = uVar11;
        local_42 = local_3a;
        local_44 = local_3c;
        local_48 = (ushort)(byte)param_1[7] + (short)iVar8 * (ushort)(byte)param_1[5];
        if (uVar13 == 0) {
          cVar6 = *param_1;
          if (cVar6 == '\x1a') {
            uVar9 = DAT_BUNIT__801eca78;
          }
          cVar5 = '\0';
          if ((uVar7 & 0xffff) == 0) {
            pcVar1 = local_58 + iVar10;
            iVar10 = iVar10 + 1;
            cVar5 = *pcVar1 + -0x30;
LAB_BUNIT__801c9a94:
            psVar4 = &local_48;
            if ((byte)param_1[2] < 2) {
              cVar6 = (char)local_3e;
              cVar5 = (char)local_40 + (char)local_3c * cVar5;
              goto LAB_BUNIT__801c9af0;
            }
          }
          else {
            uVar7 = uVar7 - 1;
            if (cVar6 != '\x19') {
              if ((cVar6 == '\x1a') && (iVar8 < (int)((byte)param_1[4] - 1))) {
                uVar9 = DAT_BUNIT__801eca30;
              }
              goto LAB_BUNIT__801c9a94;
            }
          }
        }
        else {
          psVar4 = &local_38;
          cVar5 = -0x46;
          cVar6 = '\x10';
          local_38 = local_48 + -6;
          uVar13 = 0;
          local_36 = uVar11 + 2;
          local_34 = 6;
          local_32 = 0xb;
LAB_BUNIT__801c9af0:
          FUN_BUNIT__801cd888(psVar4,cVar5,cVar6,puVar12,(int)DAT_BUNIT__801ec8cc,
                              DAT_BUNIT__801cf95c,uVar9,(int)DAT_BUNIT__801ec8b4);
        }
        iVar8 = iVar8 + 1;
      } while (iVar8 < (int)(uint)(byte)param_1[4]);
    }
  }
  else {
    uVar7 = (uint)(byte)param_1[4];
    if (uVar7 != 0) {
      do {
        uVar7 = uVar7 - 1;
        local_46 = uVar11 + 5;
        local_44 = 6;
        local_42 = 3;
        local_48 = (ushort)(byte)param_1[7] + (short)uVar7 * (ushort)(byte)param_1[5];
        FUN_BUNIT__801cd888(&local_48,-0x46,'\x13',puVar12,(int)DAT_BUNIT__801ec8cc,
                            DAT_BUNIT__801cf95c,uVar9,(int)DAT_BUNIT__801ec8b4);
      } while (0 < (int)uVar7);
    }
  }
  return param_1 + (byte)param_1[1];
}



void FUN_BUNIT__801c9cf4(short *param_1,ushort *param_2,uint param_3)

{
  char cVar1;
  ushort uVar2;
  undefined2 uVar3;
  int iVar5;
  int iVar6;
  int iVar7;
  short sVar8;
  short local_28;
  short local_26;
  undefined2 local_24;
  undefined2 local_22;
  undefined2 uVar4;
  
  sVar8 = -((short)*param_2 >> 0xf);
  if ((param_3 == 0) && (sVar8 != 0)) {
    *param_2 = 0;
    sVar8 = 0;
  }
  if ((sVar8 == 0) && ((param_3 & 1) != 0)) {
    *param_2 = 0x8000;
    sVar8 = 1;
  }
  uVar2 = *param_2;
  iVar6 = FUN_BUNIT__801c843c();
  iVar6 = (uVar2 & 0x7f) * iVar6;
  if (sVar8 == 0) {
    if (0x2e < iVar6) {
      iVar6 = 0;
    }
  }
  else if (0x24 < iVar6) {
    iVar6 = 0x24;
  }
  if (sVar8 == 0) {
    iVar7 = 0;
    if (DAT_BUNIT__801cfa38 < iVar6) {
      iVar5 = 2;
      do {
        iVar7 = iVar5;
        iVar5 = iVar7 + 2;
      } while ((&DAT_BUNIT__801cfa38)[iVar7] < iVar6);
    }
    cVar1 = (&DAT_BUNIT__801cfa39)[iVar7];
  }
  else {
    iVar7 = 0;
    if (DAT_BUNIT__801cfa44 < iVar6) {
      iVar5 = 2;
      do {
        iVar7 = iVar5;
        iVar5 = iVar7 + 2;
      } while ((&DAT_BUNIT__801cfa44)[iVar7] < iVar6);
    }
    cVar1 = (&DAT_BUNIT__801cfa45)[iVar7];
  }
  iVar7 = FUN_BUNIT__801c843c();
  if (sVar8 == 0) {
    if (0x2e < iVar6 + iVar7) {
      *param_2 = 0;
      goto LAB_BUNIT__801c9e90;
    }
  }
  else if (0x24 < iVar6 + iVar7) goto LAB_BUNIT__801c9e90;
  *param_2 = *param_2 + 1;
LAB_BUNIT__801c9e90:
  uVar3 = DAT_BUNIT__801cf96e;
  uVar4 = DAT_BUNIT__801cf970;
  if (param_3 != 0) {
    uVar3 = DAT_BUNIT__801cf972;
    uVar4 = DAT_BUNIT__801cf974;
  }
  local_28 = (short)cVar1 + *param_1 + -2;
  local_26 = param_1[1];
  local_24 = 0x10;
  local_22 = 0x10;
  FUN_BUNIT__801cd888(&local_28,-0x58,'\0',(undefined *)0x0,0,DAT_BUNIT__801cf95e,uVar3,0x3c);
  local_28 = local_28 + 2;
  local_26 = local_26 + 2;
  FUN_BUNIT__801cd888(&local_28,-0x48,'\0',(undefined *)0x0,1,0x5f,uVar4,0x3b);
  return;
}



void FUN_BUNIT__801c9f80(short *param_1,ushort *param_2,uint param_3)

{
  char cVar1;
  ushort uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  short sVar6;
  undefined2 uVar7;
  
  sVar6 = -((short)*param_2 >> 0xf);
  if ((param_3 == 0) && (sVar6 != 0)) {
    *param_2 = 0;
    sVar6 = 0;
  }
  if ((sVar6 == 0) && ((param_3 & 1) != 0)) {
    *param_2 = 0x8000;
    sVar6 = 1;
  }
  uVar2 = *param_2;
  iVar4 = FUN_BUNIT__801c843c();
  iVar4 = (uVar2 & 0x7f) * iVar4;
  if (sVar6 == 0) {
    if (0x2e < iVar4) {
      iVar4 = 0;
    }
  }
  else if (0x24 < iVar4) {
    iVar4 = 0x24;
  }
  if (sVar6 == 0) {
    iVar5 = 0;
    if (DAT_BUNIT__801cfa38 < iVar4) {
      iVar3 = 2;
      do {
        iVar5 = iVar3;
        iVar3 = iVar5 + 2;
      } while ((&DAT_BUNIT__801cfa38)[iVar5] < iVar4);
    }
    cVar1 = (&DAT_BUNIT__801cfa39)[iVar5];
  }
  else {
    iVar5 = 0;
    if (DAT_BUNIT__801cfa44 < iVar4) {
      iVar3 = 2;
      do {
        iVar5 = iVar3;
        iVar3 = iVar5 + 2;
      } while ((&DAT_BUNIT__801cfa44)[iVar5] < iVar4);
    }
    cVar1 = (&DAT_BUNIT__801cfa45)[iVar5];
  }
  iVar5 = FUN_BUNIT__801c843c();
  if (sVar6 == 0) {
    if (0x2e < iVar4 + iVar5) {
      *param_2 = 0;
      goto LAB_BUNIT__801ca11c;
    }
  }
  else if (0x24 < iVar4 + iVar5) goto LAB_BUNIT__801ca11c;
  *param_2 = *param_2 + 1;
LAB_BUNIT__801ca11c:
  DAT_BUNIT__801cfa78 = DAT_BUNIT__801cf96e;
  uVar7 = DAT_BUNIT__801cf970;
  if (param_3 != 0) {
    DAT_BUNIT__801cfa78 = DAT_BUNIT__801cf972;
    uVar7 = DAT_BUNIT__801cf974;
  }
  DAT_BUNIT__801cfa58 = *param_1;
  DAT_BUNIT__801cfa5a = (short)cVar1 + param_1[1];
  DAT_BUNIT__801cfa5c = *param_1 + 0x10;
  DAT_BUNIT__801cfa5e = (short)cVar1 + param_1[1];
  DAT_BUNIT__801cfa60 = *param_1;
  sVar6 = cVar1 + 0x10;
  DAT_BUNIT__801cfa62 = param_1[1] + sVar6;
  DAT_BUNIT__801cfa64 = *param_1 + 0x10;
  DAT_BUNIT__801cfa7a = DAT_BUNIT__801cf95e;
  DAT_BUNIT__801cfa66 = param_1[1] + sVar6;
  FUN_BUNIT__801ce138(&DAT_BUNIT__801cfa58,(undefined *)0x0,0,0x3c);
  DAT_BUNIT__801cfa58 = *param_1;
  DAT_BUNIT__801cfa5a = (short)cVar1 + param_1[1] + 2;
  DAT_BUNIT__801cfa5c = *param_1 + 0x10;
  DAT_BUNIT__801cfa5e = (short)cVar1 + param_1[1] + 2;
  DAT_BUNIT__801cfa60 = *param_1;
  DAT_BUNIT__801cfa62 = param_1[1] + sVar6 + 2;
  DAT_BUNIT__801cfa64 = *param_1 + 0x10;
  DAT_BUNIT__801cfa7a = 0x5f;
  DAT_BUNIT__801cfa66 = param_1[1] + sVar6 + 2;
  DAT_BUNIT__801cfa78 = uVar7;
  FUN_BUNIT__801ce138(&DAT_BUNIT__801cfa58,(undefined *)0x0,1,0x3b);
  return;
}



void FUN_BUNIT__801cb014(undefined *param_1)

{
  if (param_1 != (undefined *)0x0) {
    DAT_BUNIT__801ec8b0 = *param_1;
    DAT_BUNIT__801ec8b1 = param_1[1];
    DAT_BUNIT__801ec8b2 = param_1[2];
  }
  return;
}



// Possible VM_DEBUG.OBJ/SpuVmCheck

void FUN_BUNIT__801cb048(undefined2 param_1)

{
  DAT_BUNIT__801ec8b4 = param_1;
  return;
}



void FUN_BUNIT__801cb058(int param_1)

{
  DAT_BUNIT__801ec8f4 = (char)param_1;
  if (param_1 == 0) {
    DAT_BUNIT__801ec8b0 = 0x80;
    DAT_BUNIT__801ec8b1 = 0x80;
    DAT_BUNIT__801ecae4 = DAT_BUNIT__801cf986;
    DAT_BUNIT__801eca94 = DAT_BUNIT__801cf966;
    DAT_BUNIT__801eca78 = DAT_BUNIT__801cf960;
    DAT_BUNIT__801eca30 = DAT_BUNIT__801cf968;
    DAT_BUNIT__801ecaf0 = DAT_BUNIT__801cf96e;
    DAT_BUNIT__801ecb5c = DAT_BUNIT__801cf970;
  }
  else {
    DAT_BUNIT__801ec8b0 = 0x60;
    DAT_BUNIT__801ec8b1 = 0x60;
    DAT_BUNIT__801ecae4 = DAT_BUNIT__801cf984;
    DAT_BUNIT__801eca94 = DAT_BUNIT__801cf964;
    DAT_BUNIT__801eca78 = DAT_BUNIT__801cf962;
    DAT_BUNIT__801eca30 = DAT_BUNIT__801cf96a;
    DAT_BUNIT__801ecaf0 = DAT_BUNIT__801cf972;
    DAT_BUNIT__801ecb5c = DAT_BUNIT__801cf974;
  }
  DAT_BUNIT__801ec8b2 = 0x80;
  return;
}



// Possible VS_AUTO.OBJ/SsSetAutoKeyOffMode

void FUN_BUNIT__801cb268(undefined param_1)

{
  DAT_BUNIT__801cf9fc = param_1;
  return;
}



undefined1 * FUN_BUNIT__801cb2c0(void)

{
  return &DAT_BUNIT__801ec8b0;
}



undefined FUN_BUNIT__801cb52c(int param_1,int param_2,ushort *param_3,int param_4)

{
  uint uVar1;
  byte bVar2;
  byte *pbVar3;
  int iVar4;
  int iVar5;
  
  iVar5 = 0;
  FUN_BUNIT__801cbfc4(DAT_80173c98 + param_1 * 0x23);
  do {
    iVar4 = 0;
    pbVar3 = (byte *)(param_2 + (short)param_3[2] * 2 * ((short)param_3[1] + iVar5) +
                     ((int)((uint)*param_3 << 0x10) >> 0x11));
    do {
      uVar1 = FUN_BUNIT__801cbfe0(2);
      bVar2 = (byte)uVar1;
      if ((uVar1 & 0xff) != 0) {
        bVar2 = bVar2 + (char)(param_4 * 4);
      }
      uVar1 = FUN_BUNIT__801cbfe0(2);
      iVar4 = iVar4 + 1;
      if ((uVar1 & 0xff) != 0) {
        uVar1 = uVar1 + param_4 * 4;
      }
      *pbVar3 = bVar2 | (byte)(uVar1 << 4);
      pbVar3 = pbVar3 + 1;
    } while (iVar4 < 5);
    iVar5 = iVar5 + 1;
  } while (iVar5 < 0xe);
  return (&DAT_801660fc)[param_1];
}



byte * FUN_BUNIT__801cb660(byte *param_1,short param_2)

{
  byte bVar1;
  byte *pbVar2;
  
  pbVar2 = param_1;
  if (param_2 != 0) {
    do {
      bVar1 = *pbVar2;
      param_1 = pbVar2 + 1;
      if (0xcf < bVar1) {
        if (bVar1 < 0xe0) {
          param_1 = pbVar2 + 2;
        }
        else if (0xfd < bVar1) {
          param_2 = param_2 + -1;
        }
      }
      pbVar2 = param_1;
    } while (param_2 != 0);
  }
  return param_1;
}



void FUN_BUNIT__801cb6bc(int param_1,ushort *param_2,undefined4 param_3,int param_4,byte *param_5,
                        ushort *param_6,int param_7,int param_8)

{
  byte bVar1;
  short sVar2;
  byte *pbVar3;
  uint uVar4;
  byte *pbVar5;
  short sVar6;
  uint uVar7;
  int unaff_s5;
  ushort local_40;
  short local_3e;
  ushort local_3c;
  int local_38;
  int local_30;
  
  local_3c = param_2[2];
  sVar6 = 0;
  if (*param_6 != 0xffff) {
    local_30 = param_8 << 0x10;
    local_38 = param_4;
    do {
      if (param_7 == 0) {
        return;
      }
      local_40 = *param_2;
      local_3e = param_2[1] + sVar6 * param_2[3];
      uVar7 = 0;
      if ((*param_6 & 0x2000) == 0) {
        pbVar3 = FUN_BUNIT__801cb660(param_5,*param_6 & 0xfff);
        bVar1 = *pbVar3;
        while (uVar4 = (uint)bVar1, uVar4 < 0xfe) {
          pbVar5 = pbVar3 + 1;
          if ((uVar4 == 0xf8) || (local_38 <= unaff_s5)) {
            local_40 = *param_2;
            sVar6 = sVar6 + 1;
            local_3e = param_2[1] + sVar6 * param_2[3];
          }
          if (uVar4 < 0xe0) {
            if (0xcf < uVar4) {
              bVar1 = *pbVar5;
              pbVar5 = pbVar3 + 2;
              uVar4 = (uVar4 & 0xf) * 0xd0 + (uint)bVar1;
            }
            sVar2 = FUN_BUNIT__801cb52c(uVar4,param_1,&local_40,
                                        (int)((uint)*param_6 << 0x10) >> 0x1e | uVar7);
            local_40 = local_40 + sVar2;
          }
          else if (uVar4 == 0xfa) {
            local_40 = local_40 + 4;
          }
          else if (uVar4 == 0xe7) {
            bVar1 = *pbVar5;
            pbVar5 = pbVar3 + 2;
            local_40 = (ushort)bVar1 + *param_2;
          }
          else if (uVar4 == 0xe3) {
            bVar1 = *pbVar5;
            pbVar5 = pbVar3 + 2;
            uVar7 = (uint)(bVar1 >> 2);
          }
          pbVar3 = pbVar5;
          bVar1 = *pbVar5;
        }
      }
      else {
        unaff_s5 = 0;
        do {
          sVar2 = FUN_BUNIT__801cb52c(local_30 >> 0x10,param_1,&local_40,
                                      (int)((uint)*param_6 << 0x10) >> 0x1e);
          unaff_s5 = unaff_s5 + 1;
          local_40 = local_40 + sVar2;
        } while (unaff_s5 < 8);
      }
      sVar6 = sVar6 + 1;
      param_6 = param_6 + 1;
      param_7 = param_7 + -1;
    } while (*param_6 != 0xffff);
  }
  return;
}



void FUN_BUNIT__801cb944(byte *param_1,byte *param_2,ushort *param_3,int param_4)

{
  byte bVar1;
  ushort uVar2;
  byte *pbVar3;
  
  uVar2 = *param_3;
  while (uVar2 != 0xffff) {
    pbVar3 = FUN_BUNIT__801cb660(param_1,*param_3 & 0x7ff);
    bVar1 = *pbVar3;
    while (bVar1 != 0xfe) {
      bVar1 = *pbVar3;
      pbVar3 = pbVar3 + 1;
      *param_2 = bVar1;
      param_2 = param_2 + 1;
      bVar1 = *pbVar3;
    }
    param_3 = param_3 + 1;
    if (param_4 != 0) {
      *param_2 = 0xf8;
      param_2 = param_2 + 1;
    }
    uVar2 = *param_3;
  }
  if (param_4 != 0) {
    param_2 = param_2 + -1;
  }
  *param_2 = 0xfe;
  return;
}



void FUN_BUNIT__801cba14(void)

{
  FUN_8014ca38();
  return;
}



void FUN_BUNIT__801cba3c(byte *param_1,ushort *param_2,short *param_3)

{
  ushort uVar1;
  uchar auStack_840 [2048];
  ushort local_40;
  undefined2 local_3e;
  short local_3c;
  undefined2 local_3a;
  RECT local_38;
  ushort local_30;
  undefined2 local_2e;
  
  local_40 = 0;
  local_3e = 0;
  local_3c = param_3[2];
  local_3a = 0x10;
  local_38.x = *param_3;
  local_38.y = param_3[1];
  local_38.w = param_3[2];
  local_38.h = 0x10;
  local_30 = *param_2;
  uVar1 = *param_2;
  while (uVar1 != 0xffff) {
    local_2e = 0xffff;
    memset(auStack_840,'\0',0x800);
    FUN_BUNIT__801cb6bc((int)auStack_840,&local_40,10,100,param_1,&local_30,100,0xe7);
    FUN_BUNIT__801ce82c(&local_38,auStack_840);
    param_2 = param_2 + 1;
    local_38.y = local_38.y + 0x10;
    local_30 = *param_2;
    uVar1 = *param_2;
  }
  return;
}



undefined FUN_BUNIT__801cbb44(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  
  if (DAT_BUNIT__801cfdf4 == '\0') {
    iVar1 = FUN_8014ca1c();
    if (iVar1 != 0) {
      return 1;
    }
    DAT_80173cb8 = param_2;
    FUN_8014c8a0();
    FUN_8014ca38();
    DAT_BUNIT__801cfdf4 = '\x01';
  }
  DAT_BUNIT__801cfdf4 = FUN_8014ca1c();
  return DAT_BUNIT__801cfdf4;
}



void FUN_BUNIT__801cbbe0(void)

{
  if (DAT_BUNIT__801ecb6c < 0x20000) {
    if (0 < DAT_BUNIT__801ecb6c) {
      FUN_80134020();
      FUN_80133fe8();
      FUN_8014c8a0();
      FUN_8014ca38();
      DAT_80166028 = 1;
    }
  }
  else {
    DAT_BUNIT__801ecb68 = DAT_BUNIT__801ecb6c;
  }
  return;
}



void FUN_BUNIT__801cbc80(short param_1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  short local_18;
  short local_16;
  
  if (DAT_BUNIT__801e345e == '\0') {
    DAT_BUNIT__801cfbf8 = 0x7800;
    if (param_1 == 0) {
      DAT_BUNIT__801cfbf8 = 0x9800;
    }
    DAT_BUNIT__801ecaac = 1;
    DAT_BUNIT__801e345e = '\x01';
    DAT_BUNIT__801ec904 = 0;
    DAT_BUNIT__801cfc08 = DAT_BUNIT__801cfbf8;
    if (DAT_BUNIT__801ecb68 == 0x20000) {
      DAT_BUNIT__801ec900 = &DAT_BUNIT__801cfc74;
    }
    else if (DAT_BUNIT__801ecb68 == 0x20001) {
      DAT_BUNIT__801ec900 = (undefined4 *)&DAT_BUNIT__801cfd34;
    }
    else {
      DAT_BUNIT__801ec900 = (undefined4 *)&DAT_BUNIT__801cfa84;
    }
  }
  uVar1 = FUN_8014ca1c();
  iVar2 = DAT_BUNIT__801ecb68;
  if (uVar1 == 0) {
    uVar3 = (uint)DAT_BUNIT__801ec904;
    if ((DAT_BUNIT__801ecaa8 & 0x40) == 0) {
      if ((DAT_BUNIT__801ecaa8 & 0x20) == 0) {
        if ((DAT_BUNIT__801ecaa8 & 0x1000) == 0) {
          if ((DAT_BUNIT__801ecaa8 & 0x4000) == 0) {
            if ((DAT_BUNIT__801ecaa8 & 0x2000) == 0) {
              if ((DAT_BUNIT__801ecaa8 & 0x8000) != 0) {
                uVar3 = (uint)*(byte *)((int)DAT_BUNIT__801ec900 + uVar3 * 0x10 + 9);
              }
            }
            else {
              uVar3 = (uint)*(byte *)(DAT_BUNIT__801ec900 + uVar3 * 4 + 2);
            }
          }
          else {
            uVar3 = (uint)*(byte *)((int)DAT_BUNIT__801ec900 + uVar3 * 0x10 + 7);
          }
        }
        else {
          uVar3 = (uint)*(byte *)((int)DAT_BUNIT__801ec900 + uVar3 * 0x10 + 6);
        }
      }
      else {
        iVar2 = 0;
        if ((short *)DAT_BUNIT__801ec900[uVar3 * 4] != (short *)0x0) {
          iVar2 = (int)*(short *)DAT_BUNIT__801ec900[uVar3 * 4];
        }
        if ((9 < DAT_BUNIT__801ec904 - 0x12) || (iVar2 != 0)) {
          DAT_BUNIT__801ecb6c =
               iVar2 + (uint)*(ushort *)(DAT_BUNIT__801ec900 + (uint)DAT_BUNIT__801ec904 * 4 + 1);
          FUN_BUNIT__801cbbe0();
        }
      }
    }
    else {
      DAT_BUNIT__801ecb68 = 0;
      DAT_BUNIT__801ecaac = 2;
      DAT_BUNIT__801e345e = '\0';
      DAT_BUNIT__801ecb6c = iVar2;
    }
    if (DAT_BUNIT__801ce8fe != 0) {
      if ((DAT_BUNIT__801ec904 == 2) && (uVar3 == 6)) {
        uVar3 = 7;
      }
      if ((DAT_BUNIT__801ec904 == 7) && (uVar3 == 6)) {
        uVar3 = 2;
      }
    }
    if (uVar3 != DAT_BUNIT__801ec904) {
      DAT_BUNIT__801ecaac = 3;
      DAT_BUNIT__801ec904 = (byte)uVar3;
    }
  }
  local_18 = *(short *)((int)DAT_BUNIT__801ec900 + (uint)DAT_BUNIT__801ec904 * 0x10 + 10);
  local_16 = *(short *)(DAT_BUNIT__801ec900 + (uint)DAT_BUNIT__801ec904 * 4 + 3) + 1;
  if (*(short *)((int)DAT_BUNIT__801ec900 + (uint)DAT_BUNIT__801ec904 * 0x10 + 0xe) == 0) {
    local_18 = local_18 + -2;
    local_16 = *(short *)(DAT_BUNIT__801ec900 + (uint)DAT_BUNIT__801ec904 * 4 + 3) + 6;
    FUN_BUNIT__801c9cf4(&local_18,(ushort *)&DAT_BUNIT__801e345c,uVar1);
  }
  else {
    FUN_BUNIT__801c9f80(&local_18,(ushort *)&DAT_BUNIT__801e345c,uVar1);
  }
  return;
}



void FUN_BUNIT__801cbfc4(undefined4 param_1)

{
  DAT_BUNIT__801e3460 = 1;
  DAT_BUNIT__801ec908 = param_1;
  return;
}



uint FUN_BUNIT__801cbfe0(uint param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar1 = 0;
  if (param_1 != 0) {
    uVar2 = param_1 & 0x1f;
    if (DAT_BUNIT__801e3460 != '\0') {
      DAT_BUNIT__801e3464 = 7;
      DAT_BUNIT__801e3460 = '\0';
    }
    uVar1 = 0;
    while (uVar2 = uVar2 - 1, uVar2 != 0xffffffff) {
      uVar3 = DAT_BUNIT__801e3464 - 1;
      if (((int)(uint)*DAT_BUNIT__801ec908 >> (DAT_BUNIT__801e3464 & 0x1f) & 1U) != 0) {
        uVar1 = uVar1 | 1 << (uVar2 & 0x1f);
      }
      DAT_BUNIT__801e3464 = uVar3;
      if ((int)uVar3 < 0) {
        DAT_BUNIT__801ec908 = DAT_BUNIT__801ec908 + 1;
        DAT_BUNIT__801e3464 = 7;
      }
    }
  }
  return uVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BUNIT__801cc090(void)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  u_long uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  uint *puVar10;
  uint uVar11;
  
  uVar2 = FUN_BUNIT__801c843c();
  uVar11 = DAT_800473a1 / uVar2;
  uVar3 = (uint)DAT_800473a2;
  uVar4 = (uint)DAT_800473a3;
  uVar5 = PadRead(0);
  if (uVar5 == 0x90c) {
    MidState_QuitSound_GetStack();
  }
  uVar6 = uVar5 & DAT_BUNIT__801e3468;
  if (uVar6 == 0) {
    uVar6 = uVar5;
    if (uVar5 == 0) {
      DAT_BUNIT__801e3468 = 0;
      DAT_BUNIT__801e346a = DAT_BUNIT__801e346a + (char)uVar2;
    }
    else {
      if (DAT_BUNIT__801e346a < 4) {
        if ((uVar5 & 0xf000) != 0) {
          DAT_BUNIT__801e346a = 10;
          uVar6 = uVar5 & 0xf000;
        }
        if (DAT_BUNIT__801e346a < 4) {
          uVar6 = 0;
          DAT_BUNIT__801e3468 = 0;
          goto LAB_BUNIT__801cc1fc;
        }
      }
      DAT_BUNIT__801e346a = 0;
      uVar9 = 0;
      iVar7 = 1;
      do {
        uVar8 = uVar6 & (int)(short)(ushort)iVar7;
        uVar9 = uVar9 + 1;
        if (uVar8 != 0) {
          uVar6 = uVar8;
          DAT_BUNIT__801e3468 = (ushort)iVar7;
        }
        iVar7 = 1 << (uVar9 & 0x1f);
      } while ((int)uVar9 < 0x10);
    }
  }
LAB_BUNIT__801cc1fc:
  if (9 < DAT_BUNIT__801e346a) {
    DAT_BUNIT__801e346a = 10;
  }
  DAT_BUNIT__801eca0c = (ushort)uVar6;
  uVar9 = 0;
  do {
    uVar8 = 1 << (uVar9 & 0x1f);
    uVar1 = (ushort)uVar8;
    if ((uVar8 & DAT_BUNIT__801eca0c) == 0) {
      DAT_BUNIT__801ec94c = DAT_BUNIT__801ec94c & ~uVar1;
    }
    else if ((uVar8 & DAT_BUNIT__801ec94c) == 0) {
      DAT_BUNIT__801ec94c = DAT_BUNIT__801ec94c | uVar1;
    }
    else {
      DAT_BUNIT__801eca0c = DAT_BUNIT__801eca0c & ~uVar1;
    }
    uVar9 = uVar9 + 1;
  } while ((int)uVar9 < 0x10);
  uVar9 = 0;
  puVar10 = (uint *)0x801ec90c;
  uVar5 = uVar6;
  do {
    uVar8 = uVar9 & 0x1f;
    if (uVar9 == 4) {
      puVar10 = &DAT_BUNIT__801ec93c;
      uVar9 = 0xc;
      uVar8 = 0xc;
    }
    if ((uVar5 & 1 << uVar8) == 0) {
      *puVar10 = 0;
    }
    else {
      *puVar10 = *puVar10 + 1;
    }
    uVar8 = *puVar10;
    if ((uVar8 < uVar11) || (uVar8 % (uVar3 / uVar2) == 0)) {
      if ((int)uVar8 < 2) goto LAB_BUNIT__801cc334;
      if (uVar8 < uVar11) goto LAB_BUNIT__801cc32c;
LAB_BUNIT__801cc348:
      uVar8 = *puVar10;
      uVar5 = uVar5 | 1 << (uVar9 + 0x10 & 0x1f);
      if (uVar8 < uVar11) goto LAB_BUNIT__801cc384;
      if (uVar8 % (uVar4 / uVar2 + 2) == 0) goto LAB_BUNIT__801cc378;
LAB_BUNIT__801cc398:
      uVar6 = uVar6 & ~(1 << (uVar9 & 0x1f));
    }
    else {
LAB_BUNIT__801cc32c:
      uVar5 = uVar5 & ~(1 << (uVar9 & 0x1f));
LAB_BUNIT__801cc334:
      if (uVar11 <= *puVar10) goto LAB_BUNIT__801cc348;
LAB_BUNIT__801cc378:
      uVar8 = *puVar10;
LAB_BUNIT__801cc384:
      if ((1 < (int)uVar8) && (uVar8 < uVar11 << 1)) goto LAB_BUNIT__801cc398;
    }
    uVar9 = uVar9 + 1;
    puVar10 = puVar10 + 1;
    if (0xf < (int)uVar9) {
      DAT_BUNIT__801ecad0 = uVar5 & 0xf00ff00f | DAT_BUNIT__801eca0c & 0xff0;
      DAT_BUNIT__801ecb50 = uVar6 & 0xf00ff00f | DAT_BUNIT__801eca0c & 0xff0;
      DAT_BUNIT__801ecaa8 = DAT_BUNIT__801ecad0;
      _DAT_BUNIT__801ecad4 = DAT_BUNIT__801ecb50;
      return;
    }
  } while( true );
}



void FUN_BUNIT__801cc418(void)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  FUN_BUNIT__801cc090();
  iVar2 = FUN_8014ca1c();
  if ((iVar2 == 0) && (DAT_BUNIT__801ecb68 == 0)) {
    if ((DAT_BUNIT__801e346b != '\0') || (iVar3 = FUN_BUNIT__801ce5f8(), iVar3 != 0)) {
      DAT_BUNIT__801e346b = '\0';
      FUN_BUNIT__801cc7e8();
    }
  }
  else {
    FUN_BUNIT__801cc7e8();
    if (iVar2 == 0) {
      DAT_BUNIT__801e346b = '\0';
    }
    else {
      bVar1 = DAT_BUNIT__801e346b != '\0';
      DAT_BUNIT__801e346b = '\x01';
      if (bVar1) {
        DAT_BUNIT__801e346b = '\x02';
      }
    }
  }
  if (iVar2 == 0) {
    DAT_80166028 = 0;
  }
  if (DAT_BUNIT__801e346b == '\x01') {
    DAT_BUNIT__801ecaac = 0x12;
  }
  return;
}



int FUN_BUNIT__801cc50c(int param_1,int param_2,int param_3,int param_4,uint param_5)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  if ((param_5 & 0x1000) == 0) {
    iVar3 = param_4;
    if ((param_5 & 0x4000) != 0) {
      iVar3 = param_4 + param_1;
      iVar2 = param_4 % param_1;
      if ((param_4 / param_1 == param_3 / param_1) || (iVar2 = param_3, param_3 < iVar3)) {
        iVar3 = iVar2;
      }
    }
  }
  else {
    iVar3 = param_4 - param_1;
    if ((iVar3 < 0) && (iVar3 = iVar3 + param_1 * param_2, param_3 < iVar3)) {
      iVar3 = iVar3 - param_1;
      do {
        bVar1 = param_3 < iVar3;
        iVar3 = iVar3 - param_1;
      } while (bVar1);
      iVar3 = iVar3 + param_1;
    }
  }
  iVar2 = iVar3 + 1;
  if ((param_5 & 0x2000) == 0) {
    if ((param_5 & 0x8000) == 0) {
      if ((param_5 & 8) == 0) {
        iVar2 = iVar3;
        if (((param_5 & 4) != 0) && (iVar2 = iVar3 + -1, iVar3 + -1 < 0)) {
          iVar2 = param_3;
        }
      }
      else {
        iVar2 = iVar3 + 1;
        if (param_3 < iVar3 + 1) {
          iVar2 = 0;
        }
      }
    }
    else {
      if (iVar3 % param_1 == 0) {
        iVar3 = iVar3 + param_1;
      }
      iVar2 = iVar3 + -1;
      if (param_3 < iVar3 + -1) {
        iVar2 = param_3;
      }
    }
  }
  else if ((iVar2 % param_1 == 0) || (param_3 < iVar2)) {
    iVar2 = param_1 * (iVar3 / param_1);
  }
  if (iVar2 != param_4) {
    DAT_BUNIT__801ecaac = 3;
  }
  return iVar2;
}



int FUN_BUNIT__801cc6bc(uint param_1,short param_2)

{
  *(short *)(&DAT_BUNIT__801ec950 + (param_1 & 0xff) * 2) = param_2;
  return (int)param_2;
}



int FUN_BUNIT__801cc6dc(ushort param_1,uint param_2,uint param_3)

{
  short sVar1;
  short *psVar2;
  
  if ((param_3 & 0x8000) == 0) {
    if ((param_3 & 0x2000) == 0) goto LAB_BUNIT__801cc760;
    psVar2 = (short *)(&DAT_BUNIT__801ec950 + (param_2 & 0xff) * 2);
    sVar1 = *psVar2 + 1;
    if ((int)(param_1 - 1) <= (int)*psVar2) {
      sVar1 = 0;
    }
  }
  else {
    psVar2 = (short *)(&DAT_BUNIT__801ec950 + (param_2 & 0xff) * 2);
    if (*psVar2 == 0) {
      sVar1 = param_1 - 1;
    }
    else {
      sVar1 = *psVar2 + -1;
    }
  }
  *psVar2 = sVar1;
LAB_BUNIT__801cc760:
  return (int)*(short *)(&DAT_BUNIT__801ec950 + (param_2 & 0xff) * 2);
}



void FUN_BUNIT__801cc780(ushort param_1,uint param_2,uint param_3,undefined param_4)

{
  short sVar1;
  int iVar2;
  
  sVar1 = *(short *)(&DAT_BUNIT__801ec950 + (param_2 & 0xff) * 2);
  iVar2 = FUN_BUNIT__801cc6dc(param_1,param_2 & 0xff,param_3);
  if (sVar1 != (short)iVar2) {
    DAT_BUNIT__801ecaac = param_4;
  }
  return;
}



void FUN_BUNIT__801cc7e8(void)

{
  DAT_BUNIT__801eca0c = 0;
  DAT_BUNIT__801ecb50 = 0;
  DAT_BUNIT__801ecad0 = 0;
  return;
}



uint FUN_BUNIT__801cc808(int param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = FUN_BUNIT__801c71a8(*(short *)(&DAT_BUNIT__801ec984 + param_1 * 2));
  uVar2 = (uint)*(byte *)((&DAT_BUNIT__801ecaf8)[DAT_BUNIT__801cf450] + ((int)uVar1 >> 1) + 0xb1);
  DAT_BUNIT__801ec9e4 = uVar2 & 0xf;
  if ((uVar1 & 1) == 0) {
    DAT_BUNIT__801ec9e4 = (int)uVar2 >> 4;
  }
  return DAT_BUNIT__801ec9e4;
}



void FUN_BUNIT__801cc888(int param_1)

{
  int iVar1;
  
  iVar1 = FUN_BUNIT__801c71a8(*(short *)(&DAT_BUNIT__801ec984 + param_1 * 2));
  DAT_BUNIT__801ec9e8 =
       (uint)*(ushort *)(iVar1 * 2 + (&DAT_BUNIT__801ecaf8)[DAT_BUNIT__801cf450] + 0xbc);
  return;
}



void FUN_BUNIT__801cc8e8(int param_1)

{
  int iVar1;
  
  iVar1 = FUN_BUNIT__801c71a8(*(short *)(&DAT_BUNIT__801ec984 + param_1 * 2));
  DAT_BUNIT__801ec9ec =
       (uint)*(ushort *)(iVar1 * 2 + (&DAT_BUNIT__801ecaf8)[DAT_BUNIT__801cf450] + 0xe4);
  return;
}



uint FUN_BUNIT__801cc948(int param_1)

{
  FUN_BUNIT__801c71a8(*(short *)(&DAT_BUNIT__801ec984 + param_1 * 2));
  if ((DAT_BUNIT__801ec9e4 & 0xf) < 8) {
    DAT_BUNIT__801ec9f0 = (uint)(ushort)(&DAT_80066184)[DAT_BUNIT__801ec9e4 & 0xf];
  }
  else {
    DAT_BUNIT__801ec9f0 = DAT_BUNIT__801ec9f0 | 0x20000000;
  }
  return DAT_BUNIT__801ec9f0;
}



undefined4 FUN_BUNIT__801cca18(void)

{
  undefined4 uVar1;
  int iVar2;
  short local_10;
  undefined2 local_e [3];
  
  if (DAT_BUNIT__801e3549 == '\0') {
    FUN_BUNIT__801c8408(2);
    FUN_BUNIT__801c72c0((uint)(byte)DAT_BUNIT__801cf450,(undefined2 *)&DAT_BUNIT__801ec984);
    DAT_BUNIT__801ecb70 = FUN_BUNIT__801cc808;
    DAT_BUNIT__801ecb78 = FUN_BUNIT__801cc888;
    DAT_BUNIT__801ecb84 = FUN_BUNIT__801cc948;
    DAT_BUNIT__801ecb88 = FUN_BUNIT__801cc8e8;
    DAT_BUNIT__801ecba4 = &DAT_BUNIT__801cc9c8;
    FUN_BUNIT__801c6630(9,&local_10,local_e,(ushort *)&DAT_BUNIT__801ec984);
    FUN_BUNIT__801c8530((short *)&DAT_BUNIT__801ec984,(int)local_10,local_e[0],DAT_80173fa4);
    DAT_BUNIT__801e3549 = '\x01';
  }
  DAT_BUNIT__801ecb6c = *(short *)(&DAT_BUNIT__801ec984 + DAT_BUNIT__801eca98 * 2) + 0x6000;
  if ((DAT_BUNIT__801ecad0 & 0x40) == 0) {
    if (((DAT_BUNIT__801ecad0 & 0x20) == 0) || (DAT_BUNIT__801cf454 != 2)) {
      FUN_BUNIT__801c85f8(&DAT_BUNIT__801e3470,DAT_BUNIT__801ecad0,DAT_80166028);
      uVar1 = 0;
    }
    else {
      DAT_BUNIT__801ec97c = *(short *)(&DAT_BUNIT__801ec984 + DAT_BUNIT__801eca98 * 2);
      iVar2 = FUN_BUNIT__801c71a8(DAT_BUNIT__801ec97c);
      DAT_BUNIT__801ec980 = (undefined2)iVar2;
      FUN_BUNIT__801cc808((int)DAT_BUNIT__801eca98);
      FUN_BUNIT__801cc888((int)DAT_BUNIT__801eca98);
      FUN_BUNIT__801cc8e8((int)DAT_BUNIT__801eca98);
      FUN_BUNIT__801cc948((int)DAT_BUNIT__801eca98);
      FUN_BUNIT__801c65e4(9,(int)DAT_BUNIT__801eca98,DAT_BUNIT__801ecadc,(int)&DAT_BUNIT__801ec984);
      DAT_BUNIT__801e3549 = '\0';
      DAT_BUNIT__801ecaac = 1;
      uVar1 = 1;
    }
  }
  else {
    FUN_BUNIT__801c8408(0);
    DAT_BUNIT__801ecaac = 2;
    DAT_BUNIT__801e3549 = '\0';
    uVar1 = 0xffffffff;
  }
  return uVar1;
}



void FUN_BUNIT__801cceb0(void)

{
  undefined4 uVar1;
  
  if (DAT_BUNIT__801e3739 == '\0') {
    DAT_BUNIT__801e3739 = '\x01';
    DAT_BUNIT__801ec974 = '\0';
    FUN_BUNIT__801cc6bc(0,0);
    FUN_BUNIT__801c657c();
    DAT_BUNIT__801ecaac = 1;
  }
  if (DAT_BUNIT__801ec974 == '\0') {
    uVar1 = FUN_BUNIT__801cca18();
    DAT_BUNIT__801ec974 = (char)uVar1;
  }
  else if (DAT_BUNIT__801ec974 == '\x01') {
    uVar1 = FUN_BUNIT__801ccf74();
    DAT_BUNIT__801ec974 = (char)uVar1;
  }
  if (DAT_BUNIT__801ec974 == -1) {
    DAT_BUNIT__801cf454 = (int)DAT_BUNIT__801ec974;
    FUN_BUNIT__801cc7e8();
    DAT_BUNIT__801e3739 = '\0';
  }
  return;
}



undefined4 FUN_BUNIT__801ccf74(void)

{
  int iVar1;
  undefined4 uVar2;
  short local_20;
  undefined2 local_1e;
  undefined2 local_1c;
  undefined2 local_1a;
  short local_18;
  undefined2 local_16 [3];
  
  if (DAT_BUNIT__801e373a == '\0') {
    DAT_BUNIT__801ecb70 = &DAT_BUNIT__801ccc3c;
    DAT_BUNIT__801ecb74 = &DAT_BUNIT__801ccc5c;
    DAT_BUNIT__801ecb78 = &DAT_BUNIT__801ccc4c;
    DAT_BUNIT__801ecb7c = &DAT_BUNIT__801ccc2c;
    DAT_BUNIT__801ecb80 = &DAT_BUNIT__801ccc7c;
    DAT_BUNIT__801ecb84 = &DAT_BUNIT__801ccc6c;
    DAT_BUNIT__801ecb88 = &DAT_BUNIT__801cce8c;
    DAT_BUNIT__801ecb8c = &DAT_BUNIT__801ccd34;
    DAT_BUNIT__801ecb90 = &DAT_BUNIT__801ccd80;
    DAT_BUNIT__801ecb94 = &DAT_BUNIT__801ccde4;
    DAT_BUNIT__801ecb98 = &DAT_BUNIT__801cce74;
    DAT_BUNIT__801ecb9c = &DAT_BUNIT__801cce5c;
    DAT_BUNIT__801ecba0 = &DAT_BUNIT__801cce44;
    DAT_BUNIT__801ecba4 = &DAT_BUNIT__801cce34;
    DAT_BUNIT__801ecba8 = &DAT_BUNIT__801cccec;
    DAT_BUNIT__801ec978 = 0;
    DAT_BUNIT__801ecbac = &DAT_BUNIT__801ccd24;
    FUN_BUNIT__801c65a8(10);
    FUN_BUNIT__801c65a8(0xb);
    FUN_BUNIT__801c65a8(0xc);
    FUN_BUNIT__801c65a8(0xd);
    local_20 = 0x100;
    local_1e = 200;
    local_1c = 0x14;
    local_1a = 0x10;
    DAT_BUNIT__801e373c = DAT_BUNIT__801ec97c;
    FUN_BUNIT__801cba3c(DAT_80173fa4,(ushort *)&DAT_BUNIT__801e373c,&local_20);
    iVar1 = FUN_BUNIT__801cc6dc(4,0,0);
    DAT_BUNIT__801e346c = (short)iVar1;
    FUN_BUNIT__801c7444((int)DAT_BUNIT__801cf450,DAT_BUNIT__801ec97c,(int)DAT_BUNIT__801e346c,
                        (ushort *)&DAT_BUNIT__801ec9b0,0);
    FUN_BUNIT__801c845c((short *)&DAT_BUNIT__801ec9b0,0,DAT_80173fc4);
    DAT_BUNIT__801e373a = '\x01';
  }
  DAT_BUNIT__801ecb6c = -1;
  if (sRam801ecbb0 != 0) {
    DAT_BUNIT__801ecb6c = -1;
    if ((*(ushort *)(&DAT_BUNIT__801ec9b0 + DAT_BUNIT__801eca98 * 2) & 0x2000) == 0) {
      DAT_BUNIT__801ecb6c =
           (*(ushort *)(&DAT_BUNIT__801ec9b0 + DAT_BUNIT__801eca98 * 2) & 0x3ff) + 0x7800;
    }
  }
  uVar2 = 0;
  if ((DAT_BUNIT__801ecad0 & 0x40) == 0) {
    uVar2 = 0xffffffff;
    if ((DAT_BUNIT__801ecad0 & 0x20) == 0) {
      iVar1 = FUN_BUNIT__801cc780(4,0,DAT_BUNIT__801ecb50,6);
      if (iVar1 != DAT_BUNIT__801e346c) {
        FUN_BUNIT__801c65e4(DAT_BUNIT__801e346c + 10,(int)DAT_BUNIT__801eca98,DAT_BUNIT__801ecadc,
                            (int)&DAT_BUNIT__801ec9b0);
        DAT_BUNIT__801e346c = (short)iVar1;
        FUN_BUNIT__801c7444((int)DAT_BUNIT__801cf450,DAT_BUNIT__801ec97c,(int)DAT_BUNIT__801e346c,
                            (ushort *)&DAT_BUNIT__801ec9b0,0);
        FUN_BUNIT__801c6630(DAT_BUNIT__801e346c + 10,&local_18,local_16,
                            (ushort *)&DAT_BUNIT__801ec9b0);
        FUN_BUNIT__801c8530((short *)&DAT_BUNIT__801ec9b0,(int)local_18,local_16[0],DAT_80173fc4);
        FUN_BUNIT__801cb268(10);
      }
      FUN_BUNIT__801c85f8(&DAT_BUNIT__801e354c,DAT_BUNIT__801ecad0,DAT_80166028);
      local_20 = 0x26;
      local_1e = 0x2d;
      local_1c = 0x50;
      local_1a = 0x10;
      FUN_BUNIT__801cd888(&local_20,'\0',-0x38,(undefined *)0x0,0,DAT_BUNIT__801cf95c,
                          DAT_BUNIT__801ecae4,0xb);
      return 1;
    }
    DAT_BUNIT__801ecaac = 1;
  }
  else {
    DAT_BUNIT__801ecaac = 2;
  }
  DAT_BUNIT__801e373a = 0;
  return uVar2;
}



void FUN_BUNIT__801cd344(short *param_1,undefined *param_2,uint param_3,int param_4)

{
  int *piVar1;
  uint uVar2;
  uint *p;
  uint *puVar3;
  
  uVar2 = (uint)DAT_BUNIT__801ecac4;
  DAT_BUNIT__801ecac4 = DAT_BUNIT__801ecac4 + 1;
  p = (uint *)(uVar2 * 0x10 + DAT_BUNIT__801ecacc[0xf]);
  *(undefined *)(p + 1) = *param_2;
  *(undefined *)((int)p + 5) = param_2[1];
  *(undefined *)((int)p + 6) = param_2[2];
  SetSemiTrans(p,param_3 & 0xff);
  piVar1 = DAT_BUNIT__801ecacc;
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 3) = param_1[2];
  *(short *)((int)p + 0xe) = param_1[3];
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_4 * 4 + *piVar1) & 0xffffff;
  puVar3 = (uint *)(param_4 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_BUNIT__801cd444(short *param_1,undefined *param_2,int param_3,int param_4)

{
  int *piVar1;
  uint uVar2;
  uint *p;
  uint *puVar3;
  
  uVar2 = (uint)DAT_BUNIT__801eca2c;
  DAT_BUNIT__801eca2c = DAT_BUNIT__801eca2c + 1;
  p = (uint *)(uVar2 * 0x24 + DAT_BUNIT__801ecacc[7]);
  SetSemiTrans(p,param_3);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 4) = param_1[2] + 0x80;
  *(short *)((int)p + 0x12) = param_1[3];
  *(short *)(p + 6) = param_1[4] + 0x80;
  *(short *)((int)p + 0x1a) = param_1[5];
  *(short *)(p + 8) = param_1[6] + 0x80;
  *(short *)((int)p + 0x22) = param_1[7];
  *(undefined *)(p + 1) = *param_2;
  *(undefined *)((int)p + 5) = param_2[1];
  *(undefined *)((int)p + 6) = param_2[2];
  *(undefined *)(p + 3) = param_2[3];
  *(undefined *)((int)p + 0xd) = param_2[4];
  *(undefined *)((int)p + 0xe) = param_2[5];
  *(undefined *)(p + 5) = param_2[6];
  *(undefined *)((int)p + 0x15) = param_2[7];
  *(undefined *)((int)p + 0x16) = param_2[8];
  *(undefined *)(p + 7) = param_2[9];
  *(undefined *)((int)p + 0x1d) = param_2[10];
  *(undefined *)((int)p + 0x1e) = param_2[0xb];
  piVar1 = DAT_BUNIT__801ecacc;
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_4 * 4 + *DAT_BUNIT__801ecacc) & 0xffffff;
  puVar3 = (uint *)(param_4 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_BUNIT__801cd610(byte *param_1,undefined *param_2,int param_3,undefined2 param_4,
                        undefined2 param_5,int param_6,int param_7)

{
  byte bVar1;
  byte bVar2;
  int *piVar3;
  uint uVar4;
  uint *puVar5;
  uint *p;
  byte *pbVar6;
  int iVar7;
  
  iVar7 = param_7 + -1;
  if (-1 < iVar7) {
    pbVar6 = param_1 + 3;
    do {
      uVar4 = (uint)DAT_BUNIT__801eca84;
      DAT_BUNIT__801eca84 = DAT_BUNIT__801eca84 + 1;
      p = (uint *)(uVar4 * 0x28 + DAT_BUNIT__801ecacc[4]);
      if (param_2 == (undefined *)0x0) {
        SetShadeTex(p,1);
      }
      else {
        SetShadeTex(p,0);
        *(undefined *)(p + 1) = *param_2;
        *(undefined *)((int)p + 5) = param_2[1];
        *(undefined *)((int)p + 6) = param_2[2];
      }
      SetSemiTrans(p,param_3);
      *(ushort *)(p + 2) = *param_1 + 0x80;
      *(ushort *)((int)p + 10) = (ushort)pbVar6[-2];
      *(ushort *)(p + 4) = (ushort)pbVar6[-1] + *param_1 + 0x80;
      *(ushort *)((int)p + 0x12) = (ushort)pbVar6[-2];
      *(ushort *)(p + 6) = *param_1 + 0x80;
      *(ushort *)((int)p + 0x1a) = (ushort)pbVar6[-2] + (ushort)*pbVar6;
      *(ushort *)(p + 8) = (ushort)pbVar6[-1] + *param_1 + 0x80;
      *(ushort *)((int)p + 0x22) = (ushort)pbVar6[-2] + (ushort)*pbVar6;
      *(byte *)(p + 3) = pbVar6[1];
      *(byte *)((int)p + 0xd) = pbVar6[2];
      *(byte *)(p + 5) = pbVar6[1] + pbVar6[-1];
      *(byte *)((int)p + 0x15) = pbVar6[2];
      *(byte *)(p + 7) = pbVar6[1];
      *(byte *)((int)p + 0x1d) = pbVar6[2] + *pbVar6;
      *(byte *)(p + 9) = pbVar6[1] + pbVar6[-1];
      bVar1 = pbVar6[2];
      bVar2 = *pbVar6;
      iVar7 = iVar7 + -1;
      *(undefined2 *)((int)p + 0xe) = param_5;
      *(byte *)((int)p + 0x25) = bVar1 + bVar2;
      piVar3 = DAT_BUNIT__801ecacc;
      param_1 = param_1 + 6;
      *(undefined2 *)((int)p + 0x16) = param_4;
                    // Probable PsyQ macro: addPrim().
      *p = *p & 0xff000000 | *(uint *)(param_6 * 4 + *piVar3) & 0xffffff;
      pbVar6 = pbVar6 + 6;
      puVar5 = (uint *)(param_6 * 4 + *piVar3);
      *puVar5 = *puVar5 & 0xff000000 | (uint)p & 0xffffff;
    } while (-1 < iVar7);
  }
  return;
}



void FUN_BUNIT__801cd888(short *param_1,char param_2,char param_3,undefined *param_4,int param_5,
                        undefined2 param_6,undefined2 param_7,int param_8)

{
  char cVar1;
  short sVar2;
  short sVar3;
  int *piVar4;
  uint uVar5;
  uint *puVar6;
  uint *p;
  
  uVar5 = (uint)DAT_BUNIT__801eca84;
  DAT_BUNIT__801eca84 = DAT_BUNIT__801eca84 + 1;
  p = (uint *)(uVar5 * 0x28 + DAT_BUNIT__801ecacc[4]);
  if (param_4 == (undefined *)0x0) {
    SetShadeTex(p,1);
  }
  else {
    SetShadeTex(p,0);
    *(undefined *)(p + 1) = *param_4;
    *(undefined *)((int)p + 5) = param_4[1];
    *(undefined *)((int)p + 6) = param_4[2];
  }
  SetSemiTrans(p,param_5);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 4) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x12) = param_1[1];
  *(short *)(p + 6) = *param_1 + 0x80;
  *(short *)((int)p + 0x1a) = param_1[1] + param_1[3];
  *(short *)(p + 8) = *param_1 + param_1[2] + 0x80;
  sVar2 = param_1[1];
  sVar3 = param_1[3];
  *(char *)(p + 3) = param_2;
  *(char *)((int)p + 0xd) = param_3;
  *(short *)((int)p + 0x22) = sVar2 + sVar3;
  cVar1 = *(char *)(param_1 + 2);
  *(char *)((int)p + 0x15) = param_3;
  *(char *)(p + 7) = param_2;
  *(char *)(p + 5) = param_2 + cVar1;
  *(char *)((int)p + 0x1d) = param_3 + *(char *)(param_1 + 3);
  *(char *)(p + 9) = param_2 + *(char *)(param_1 + 2);
  cVar1 = *(char *)(param_1 + 3);
  *(undefined2 *)((int)p + 0xe) = param_7;
  *(char *)((int)p + 0x25) = param_3 + cVar1;
  *(undefined2 *)((int)p + 0x16) = param_6;
  piVar4 = DAT_BUNIT__801ecacc;
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_8 * 4 + *DAT_BUNIT__801ecacc) & 0xffffff;
  puVar6 = (uint *)(param_8 * 4 + *piVar4);
  *puVar6 = *puVar6 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_BUNIT__801cda9c(short *param_1,undefined *param_2,int param_3,int param_4)

{
  int *piVar1;
  uint *p;
  uint *puVar2;
  
  p = (uint *)((uint)DAT_BUNIT__801eca88 * 0x34 + DAT_BUNIT__801ecacc[8]);
  DAT_BUNIT__801eca88 = DAT_BUNIT__801eca88 + 1;
  SetSemiTrans(p,param_3);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 5) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x16) = param_1[1];
  *(short *)(p + 8) = *param_1 + 0x80;
  *(short *)((int)p + 0x22) = param_1[1] + param_1[3];
  *(short *)(p + 0xb) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x2e) = param_1[1] + param_1[3];
  *(undefined *)(p + 3) = *(undefined *)(param_1 + 4);
  *(undefined *)((int)p + 0xd) = *(undefined *)(param_1 + 5);
  *(char *)(p + 6) = *(char *)(param_1 + 4) + *(char *)(param_1 + 2);
  *(undefined *)((int)p + 0x19) = *(undefined *)(param_1 + 5);
  *(undefined *)(p + 9) = *(undefined *)(param_1 + 4);
  *(char *)((int)p + 0x25) = *(char *)(param_1 + 5) + *(char *)(param_1 + 3);
  *(char *)(p + 0xc) = *(char *)(param_1 + 4) + *(char *)(param_1 + 2);
  *(char *)((int)p + 0x31) = *(char *)(param_1 + 5) + *(char *)(param_1 + 3);
  *(undefined *)(p + 1) = *param_2;
  *(undefined *)((int)p + 5) = param_2[1];
  *(undefined *)((int)p + 6) = param_2[2];
  *(undefined *)(p + 4) = param_2[3];
  *(undefined *)((int)p + 0x11) = param_2[4];
  *(undefined *)((int)p + 0x12) = param_2[5];
  *(undefined *)(p + 7) = param_2[6];
  *(undefined *)((int)p + 0x1d) = param_2[7];
  *(undefined *)((int)p + 0x1e) = param_2[8];
  *(undefined *)(p + 10) = param_2[9];
  *(undefined *)((int)p + 0x29) = param_2[10];
  *(undefined *)((int)p + 0x2a) = param_2[0xb];
  *(short *)((int)p + 0xe) = param_1[6];
  *(short *)((int)p + 0x1a) = param_1[7];
  piVar1 = DAT_BUNIT__801ecacc;
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_4 * 4 + *DAT_BUNIT__801ecacc) & 0xffffff;
  puVar2 = (uint *)(param_4 * 4 + *piVar1);
  *puVar2 = *puVar2 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_BUNIT__801cdd24(short *param_1,undefined *param_2,byte param_3,int param_4,int param_5)

{
  int *piVar1;
  uint uVar2;
  uint *puVar3;
  uint *p;
  
  uVar2 = (uint)DAT_BUNIT__801eca84;
  DAT_BUNIT__801eca84 = DAT_BUNIT__801eca84 + 1;
  p = (uint *)(uVar2 * 0x28 + DAT_BUNIT__801ecacc[4]);
  if (param_2 == (undefined *)0x0) {
    SetShadeTex(p,1);
  }
  else {
    SetShadeTex(p,0);
    *(undefined *)(p + 1) = *param_2;
    *(undefined *)((int)p + 5) = param_2[1];
    *(undefined *)((int)p + 6) = param_2[2];
  }
  SetSemiTrans(p,param_4);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 4) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x12) = param_1[1];
  *(short *)(p + 6) = *param_1 + 0x80;
  *(short *)((int)p + 0x1a) = param_1[1] + param_1[3];
  *(short *)(p + 8) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x22) = param_1[1] + param_1[3];
  if (param_3 == 1) {
    *(undefined *)(p + 5) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)p + 0x15) = *(undefined *)(param_1 + 5);
    *(char *)(p + 3) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(undefined *)((int)p + 0xd) = *(undefined *)(param_1 + 5);
    *(undefined *)(p + 9) = *(undefined *)(param_1 + 4);
    *(char *)((int)p + 0x25) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
    *(char *)(p + 7) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(char *)((int)p + 0x1d) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
  }
  else if (param_3 < 2) {
    if (param_3 == 0) {
      *(undefined *)(p + 3) = *(undefined *)(param_1 + 4);
      *(undefined *)((int)p + 0xd) = *(undefined *)(param_1 + 5);
      *(char *)(p + 5) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
      *(undefined *)((int)p + 0x15) = *(undefined *)(param_1 + 5);
      *(undefined *)(p + 7) = *(undefined *)(param_1 + 4);
      *(char *)((int)p + 0x1d) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
      *(char *)(p + 9) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
      *(char *)((int)p + 0x25) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
    }
  }
  else if (param_3 == 2) {
    *(undefined *)(p + 7) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)p + 0x1d) = *(undefined *)(param_1 + 5);
    *(char *)(p + 9) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(undefined *)((int)p + 0x25) = *(undefined *)(param_1 + 5);
    *(undefined *)(p + 3) = *(undefined *)(param_1 + 4);
    *(char *)((int)p + 0xd) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
    *(char *)(p + 5) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(char *)((int)p + 0x15) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
  }
  else if (param_3 == 3) {
    *(undefined *)(p + 9) = *(undefined *)(param_1 + 4);
    *(undefined *)((int)p + 0x25) = *(undefined *)(param_1 + 5);
    *(char *)(p + 7) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(undefined *)((int)p + 0x1d) = *(undefined *)(param_1 + 5);
    *(undefined *)(p + 5) = *(undefined *)(param_1 + 4);
    *(char *)((int)p + 0x15) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
    *(char *)(p + 3) = *(char *)(param_1 + 4) + *(char *)(param_1 + 6);
    *(char *)((int)p + 0xd) = *(char *)(param_1 + 5) + *(char *)(param_1 + 7);
  }
  piVar1 = DAT_BUNIT__801ecacc;
  *(short *)((int)p + 0xe) = param_1[8];
  *(short *)((int)p + 0x16) = param_1[9];
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_5 * 4 + *piVar1) & 0xffffff;
  puVar3 = (uint *)(param_5 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_BUNIT__801ce138(short *param_1,undefined *param_2,int param_3,int param_4)

{
  int *piVar1;
  uint uVar2;
  uint *puVar3;
  uint *p;
  
  uVar2 = (uint)DAT_BUNIT__801eca84;
  DAT_BUNIT__801eca84 = DAT_BUNIT__801eca84 + 1;
  p = (uint *)(uVar2 * 0x28 + DAT_BUNIT__801ecacc[4]);
  if (param_2 == (undefined *)0x0) {
    SetShadeTex(p,1);
  }
  else {
    SetShadeTex(p,0);
    *(undefined *)(p + 1) = *param_2;
    *(undefined *)((int)p + 5) = param_2[1];
    *(undefined *)((int)p + 6) = param_2[2];
  }
  SetSemiTrans(p,param_3);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 4) = param_1[2] + 0x80;
  *(short *)((int)p + 0x12) = param_1[3];
  *(short *)(p + 6) = param_1[4] + 0x80;
  *(short *)((int)p + 0x1a) = param_1[5];
  *(short *)(p + 8) = param_1[6] + 0x80;
  *(short *)((int)p + 0x22) = param_1[7];
  *(undefined *)(p + 3) = *(undefined *)(param_1 + 8);
  *(undefined *)((int)p + 0xd) = *(undefined *)(param_1 + 9);
  *(undefined *)(p + 5) = *(undefined *)(param_1 + 10);
  *(undefined *)((int)p + 0x15) = *(undefined *)(param_1 + 0xb);
  *(undefined *)(p + 7) = *(undefined *)(param_1 + 0xc);
  *(undefined *)((int)p + 0x1d) = *(undefined *)(param_1 + 0xd);
  *(undefined *)(p + 9) = *(undefined *)(param_1 + 0xe);
  *(undefined *)((int)p + 0x25) = *(undefined *)(param_1 + 0xf);
  *(short *)((int)p + 0xe) = param_1[0x10];
  piVar1 = DAT_BUNIT__801ecacc;
  *(short *)((int)p + 0x16) = param_1[0x11];
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_4 * 4 + *piVar1) & 0xffffff;
  puVar3 = (uint *)(param_4 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_BUNIT__801ce334(int param_1,int param_2,uint param_3,byte *param_4,int param_5)

{
  int *piVar1;
  uint uVar2;
  DR_MODE *p;
  uint *puVar3;
  
  uVar2 = (uint)DAT_BUNIT__801ecabc;
  DAT_BUNIT__801ecabc = DAT_BUNIT__801ecabc + 1;
  p = (DR_MODE *)(uVar2 * 0xc + DAT_BUNIT__801ecacc[0x18]);
  SetDrawMode(p,param_1,param_2,param_3,(RECT *)param_4);
  piVar1 = DAT_BUNIT__801ecacc;
                    // Probable PsyQ macro: addPrim().
  p->tag = p->tag & 0xff000000 | *(uint *)(param_5 * 4 + *DAT_BUNIT__801ecacc) & 0xffffff;
  puVar3 = (uint *)(param_5 * 4 + *piVar1);
  *puVar3 = *puVar3 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



int FUN_BUNIT__801ce5f8(void)

{
  return (uint)DAT_BUNIT__801e3740 + (uint)DAT_BUNIT__801e3741 * 2;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BUNIT__801ce614(void)

{
  DAT_BUNIT__801e3740 = 1;
  _DAT_BUNIT__801eca08 = 0xf0;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_BUNIT__801ce634(void)

{
  DAT_BUNIT__801e3741 = 1;
  _DAT_BUNIT__801eca08 = 0;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_BUNIT__801ce650(void)

{
  u_short uVar1;
  int iVar2;
  bool bVar3;
  
  bVar3 = true;
  iVar2 = FUN_BUNIT__801c843c();
  if (DAT_BUNIT__801e3740 != '\0') {
    iVar2 = (uint)_DAT_BUNIT__801eca08 + iVar2 * -8;
    _DAT_BUNIT__801eca08 = (ushort)iVar2;
    bVar3 = 0 < iVar2 * 0x10000;
    if (!bVar3) {
      DAT_BUNIT__801e3740 = '\0';
    }
    uVar1 = GetTPage(0,2,0x100,0);
    FUN_BUNIT__801ce334(0,0,(uint)uVar1,(byte *)0x0,DAT_BUNIT__801ecaa0 - 2);
    DAT_BUNIT__801eca06 = DAT_BUNIT__801eca08;
    DAT_BUNIT__801eca05 = DAT_BUNIT__801eca08;
    DAT_BUNIT__801eca04 = DAT_BUNIT__801eca08;
    FUN_BUNIT__801cd344((short *)&DAT_BUNIT__801e3744,&DAT_BUNIT__801eca04,1,DAT_BUNIT__801ecaa0 - 1
                       );
  }
  return bVar3;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_BUNIT__801ce734(void)

{
  u_short uVar1;
  int iVar2;
  bool bVar3;
  
  bVar3 = true;
  iVar2 = FUN_BUNIT__801c843c();
  if (DAT_BUNIT__801e3741 != '\0') {
    iVar2 = (uint)_DAT_BUNIT__801eca08 + iVar2 * 8;
    _DAT_BUNIT__801eca08 = (ushort)iVar2;
    bVar3 = iVar2 * 0x10000 >> 0x10 < 0x100;
    if (!bVar3) {
      DAT_BUNIT__801e3741 = '\0';
      _DAT_BUNIT__801eca08 = 0xff;
    }
    uVar1 = GetTPage(0,2,0x100,0);
    FUN_BUNIT__801ce334(0,0,(uint)uVar1,(byte *)0x0,DAT_BUNIT__801ecaa0 - 2);
    DAT_BUNIT__801eca06 = DAT_BUNIT__801eca08;
    DAT_BUNIT__801eca05 = DAT_BUNIT__801eca08;
    DAT_BUNIT__801eca04 = DAT_BUNIT__801eca08;
    FUN_BUNIT__801cd344((short *)&DAT_BUNIT__801e3744,&DAT_BUNIT__801eca04,1,DAT_BUNIT__801ecaa0 - 1
                       );
  }
  return bVar3;
}



void FUN_BUNIT__801ce82c(RECT *param_1,u_long *param_2)

{
  int iVar1;
  
  LoadImage(param_1,param_2);
  do {
    iVar1 = DrawSync(1);
  } while (iVar1 != 0);
  return;
}



void FUN_BUNIT__801ce85c(RECT *param_1,u_long *param_2)

{
  int iVar1;
  
  StoreImage(param_1,param_2);
  do {
    iVar1 = DrawSync(1);
  } while (iVar1 != 0);
  return;
}



void FUN_JOBSTTS__801df004(void)

{
  RECT local_48;
  undefined auStack_40 [8];
  undefined2 local_38 [12];
  
  local_48.x = 0x100;
  local_48.y = 0;
  local_48.w = 0x40;
  local_48.h = 0x30;
  FUN_JOBSTTS__801e1ff0(&local_48,DAT_80173f5c);
  local_48.y = 0xfa;
  local_48.x = 0x100;
  local_48.w = 0x40;
  local_48.h = 4;
  FUN_JOBSTTS__801e1ff0(&local_48,&DAT_JOBSTTS__801e502c);
  local_48.x = 0x3c0;
  local_48.y = 0x1f0;
  local_48.w = 0x10;
  local_48.h = 1;
  FUN_JOBSTTS__801e2020(&local_48,auStack_40);
  local_38[0] = 0;
  local_48.x = 0x120;
  local_48.y = 0xfe;
  local_48.w = 0x10;
  local_48.h = 1;
  FUN_JOBSTTS__801e1ff0(&local_48,auStack_40);
  local_48.x = 0x100;
  local_48.y = 0xfe;
  local_48.w = 0xc;
  local_48.h = 1;
  FUN_JOBSTTS__801e1ff0(&local_48,local_38);
  local_48.x = 0x3c0;
  local_48.y = 500;
  local_48.w = 0x10;
  local_48.h = 1;
  FUN_JOBSTTS__801e2020(&local_48,auStack_40);
  local_38[0] = 0;
  local_48.x = 0x130;
  local_48.y = 0xfe;
  local_48.w = 0x10;
  local_48.h = 1;
  FUN_JOBSTTS__801e1ff0(&local_48,auStack_40);
  local_48.x = 0x110;
  local_48.y = 0xfe;
  local_48.w = 0xc;
  local_48.h = 1;
  FUN_JOBSTTS__801e1ff0(&local_48,local_38);
  FUN_JOBSTTS__801e1050();
  DAT_JOBSTTS__801fa818 = 0;
  return;
}



undefined4 JOBSTTS_Entrypoint(uint param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  
  if (DAT_JOBSTTS__801e522e == '\0') {
    DAT_JOBSTTS__801fa7b4 = 0x40;
    DAT_JOBSTTS__801fa770 = 500;
    DAT_JOBSTTS__801fa7c4 = 0x14;
    DAT_JOBSTTS__801fa7b8 = 10;
    DAT_JOBSTTS__801fa724 = 0;
    DAT_JOBSTTS__801fa764 = 0;
    DAT_JOBSTTS__801fa72c = 0;
    DAT_JOBSTTS__801fa728 = 0;
    DAT_JOBSTTS__801fa76c = 0;
    DAT_JOBSTTS__801fa730 = 0;
    DAT_JOBSTTS__801fa77c = 0;
    DAT_JOBSTTS__801fa74c = 0;
    DAT_JOBSTTS__801fa754 = 0;
    DAT_JOBSTTS__801fa75c = 0;
    DAT_JOBSTTS__801fa750 = 0;
    DAT_JOBSTTS__801fa758 = 0;
    DAT_JOBSTTS__801fa760 = 0;
    DAT_JOBSTTS__801fa7c0 = 0;
    DAT_JOBSTTS__801fa7e0 = 0;
    DAT_JOBSTTS__801fa7e8 = 0;
    DAT_JOBSTTS__801fa808 = 0;
    DAT_JOBSTTS__801fa748 = 0;
    DAT_JOBSTTS__801fa7a0 = 0;
    DAT_JOBSTTS__801fa7b0 = 0;
    FUN_JOBSTTS__801e49f0
              ((int)&DAT_JOBSTTS__801fa348,(int)&DAT_JOBSTTS__801fa148,0,0,0,
               (int)&DAT_JOBSTTS__801f0058,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
               (int)&DAT_JOBSTTS__801f9c98,(int)&DAT_JOBSTTS__801fa058);
    FUN_JOBSTTS__801df004();
    FUN_JOBSTTS__801e0128(param_1);
    FUN_JOBSTTS__801df478();
    DAT_JOBSTTS__801e522e = '\x01';
  }
  FUN_JOBSTTS__801e47c8(0);
  uVar2 = *DAT_JOBSTTS__801fa7d0;
  DAT_JOBSTTS__801f0054 = (char)DAT_80166028;
  FUN_JOBSTTS__801e0ee8();
  if ((DAT_JOBSTTS__801fa7d4 & 0x100) != 0) {
    FUN_JOBSTTS__801e0b2c(3);
  }
  if ((DAT_JOBSTTS__801f0054 != '\0') && (DAT_80166028 == 0)) {
    FUN_BATTLE_BIN__80134074();
  }
  FUN_JOBSTTS__801e4338(DAT_80166028);
  if (DAT_JOBSTTS__801e522c == '\0') {
    uVar1 = FUN_JOBSTTS__801df7ac();
    DAT_JOBSTTS__801e522c = (char)uVar1;
    if ((DAT_JOBSTTS__801fa7d4 & 0x40) == 0) goto LAB_JOBSTTS__801df43c;
  }
  else if (DAT_JOBSTTS__801e522c == '\x01') {
    uVar1 = FUN_JOBSTTS__801dfbe8();
    DAT_JOBSTTS__801e522c = (char)uVar1;
    goto LAB_JOBSTTS__801df43c;
  }
  uVar2 = 0;
  DAT_JOBSTTS__801e5028 = 2;
  DAT_JOBSTTS__801e522e = '\0';
LAB_JOBSTTS__801df43c:
  if (DAT_JOBSTTS__801e5028 != 0) {
    Call_Play_Sound((uint)DAT_JOBSTTS__801e5028);
    DAT_JOBSTTS__801e5028 = 0;
  }
  return uVar2;
}



void FUN_JOBSTTS__801df478(void)

{
  memset(&DAT_JOBSTTS__801fa530,'\0',0x1e);
  return;
}



void FUN_JOBSTTS__801df4a4(int param_1)

{
  memset(&DAT_JOBSTTS__801fa530 + param_1 * 6,'\0',6);
  return;
}



void FUN_JOBSTTS__801df4e0(int param_1,int param_2,undefined2 param_3,int param_4)

{
  int iVar1;
  
  iVar1 = param_1 * 6;
  *(short *)(&DAT_JOBSTTS__801fa530 + iVar1) = (short)param_2;
  *(undefined2 *)(&DAT_JOBSTTS__801fa532 + iVar1) = param_3;
  *(ushort *)(&DAT_JOBSTTS__801fa534 + iVar1) = *(ushort *)(param_2 * 2 + param_4) & 0x3ff;
  return;
}



void FUN_JOBSTTS__801df52c(int param_1,short *param_2,undefined2 *param_3,ushort *param_4)

{
  ushort uVar1;
  int iVar2;
  short sVar3;
  
  iVar2 = param_1 * 6;
  *param_2 = *(short *)(&DAT_JOBSTTS__801fa530 + iVar2);
  *param_3 = *(undefined2 *)(&DAT_JOBSTTS__801fa532 + iVar2);
  if ((int)*(short *)(&DAT_JOBSTTS__801fa534 + iVar2) != (int)(short)param_4[*param_2]) {
    sVar3 = 0;
    uVar1 = *param_4;
    while (uVar1 != 0xffff) {
      if ((*param_4 & 0x3ff) == (int)*(short *)(&DAT_JOBSTTS__801fa534 + iVar2)) {
        *param_2 = sVar3;
        return;
      }
      param_4 = param_4 + 1;
      sVar3 = sVar3 + 1;
      uVar1 = *param_4;
    }
    *param_2 = 0;
    *param_3 = 0;
  }
  return;
}



uint FUN_JOBSTTS__801df5dc(int param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = FUN_JOBSTTS__801e0390(*(short *)(&DAT_JOBSTTS__801fa550 + param_1 * 2));
  uVar2 = (uint)*(byte *)(DAT_JOBSTTS__801fa7f8 + ((int)uVar1 >> 1) + 0x44);
  DAT_JOBSTTS__801fa5b0 = uVar2 & 0xf;
  if ((uVar1 & 1) == 0) {
    DAT_JOBSTTS__801fa5b0 = (int)uVar2 >> 4;
  }
  return DAT_JOBSTTS__801fa5b0;
}



void FUN_JOBSTTS__801df648(int param_1)

{
  int iVar1;
  
  iVar1 = FUN_JOBSTTS__801e0390(*(short *)(&DAT_JOBSTTS__801fa550 + param_1 * 2));
  DAT_JOBSTTS__801fa5b4 = (uint)*(ushort *)(iVar1 * 2 + DAT_JOBSTTS__801fa7f8 + 0x4e);
  return;
}



void FUN_JOBSTTS__801df694(int param_1)

{
  int iVar1;
  
  iVar1 = FUN_JOBSTTS__801e0390(*(short *)(&DAT_JOBSTTS__801fa550 + param_1 * 2));
  DAT_JOBSTTS__801fa5b8 = (uint)*(ushort *)(iVar1 * 2 + DAT_JOBSTTS__801fa7f8 + 0x76);
  return;
}



uint FUN_JOBSTTS__801df6e0(int param_1)

{
  FUN_JOBSTTS__801e0390(*(short *)(&DAT_JOBSTTS__801fa550 + param_1 * 2));
  if ((DAT_JOBSTTS__801fa5b0 & 0xf) < 8) {
    DAT_JOBSTTS__801fa5bc = (uint)(ushort)(&DAT_80066184)[DAT_JOBSTTS__801fa5b0 & 0xf];
  }
  else {
    DAT_JOBSTTS__801fa5bc = DAT_JOBSTTS__801fa5bc | 0x20000000;
  }
  return DAT_JOBSTTS__801fa5bc;
}



void FUN_JOBSTTS__801df760(int param_1)

{
  int iVar1;
  ushort auStack_38 [24];
  
  iVar1 = FUN_JOBSTTS__801e03bc(0,*(short *)(&DAT_JOBSTTS__801fa550 + param_1 * 2),0xf,auStack_38,2)
  ;
  DAT_JOBSTTS__801fa5c0 = (uint)(iVar1 == 0);
  return;
}



undefined4 FUN_JOBSTTS__801df7ac(void)

{
  int iVar1;
  undefined4 uVar2;
  short local_10;
  undefined2 local_e [3];
  
  if (DAT_JOBSTTS__801e530c == 0) {
    DAT_JOBSTTS__801fa81c = FUN_JOBSTTS__801df5dc;
    DAT_JOBSTTS__801fa824 = FUN_JOBSTTS__801df648;
    DAT_JOBSTTS__801fa830 = FUN_JOBSTTS__801df6e0;
    DAT_JOBSTTS__801fa834 = FUN_JOBSTTS__801df694;
    DAT_JOBSTTS__801fa850 = FUN_JOBSTTS__801df760;
    FUN_JOBSTTS__801e01b4(0,(undefined2 *)&DAT_JOBSTTS__801fa550);
    FUN_JOBSTTS__801df52c(4,&local_10,local_e,(ushort *)&DAT_JOBSTTS__801fa550);
    FUN_JOBSTTS__801e2114((short *)&DAT_JOBSTTS__801fa550,(int)local_10,local_e[0],DAT_80173fa4);
    DAT_JOBSTTS__801e530c = 1;
  }
  DAT_JOBSTTS__801fa818 = *(short *)(&DAT_JOBSTTS__801fa550 + DAT_JOBSTTS__801fa7ac * 2) + 0x6000;
  if ((DAT_JOBSTTS__801fa7d4 & 0x20) == 0) {
    FUN_JOBSTTS__801e2238(&DAT_JOBSTTS__801e5234,DAT_JOBSTTS__801fa7d4,DAT_80166028);
    uVar2 = 0;
  }
  else {
    DAT_JOBSTTS__801e5230 = *(short *)(&DAT_JOBSTTS__801fa550 + DAT_JOBSTTS__801fa7ac * 2);
    FUN_JOBSTTS__801df5dc((int)DAT_JOBSTTS__801fa7ac);
    FUN_JOBSTTS__801df648((int)DAT_JOBSTTS__801fa7ac);
    FUN_JOBSTTS__801df694((int)DAT_JOBSTTS__801fa7ac);
    iVar1 = FUN_JOBSTTS__801df760((int)DAT_JOBSTTS__801fa7ac);
    if (iVar1 == 0) {
      FUN_JOBSTTS__801df6e0((int)DAT_JOBSTTS__801fa7ac);
    }
    FUN_JOBSTTS__801df4e0
              (4,(int)DAT_JOBSTTS__801fa7ac,DAT_JOBSTTS__801fa7dc,(int)&DAT_JOBSTTS__801fa550);
    DAT_JOBSTTS__801e530c = 0;
    DAT_JOBSTTS__801e5028 = 1;
    uVar2 = 1;
  }
  return uVar2;
}



undefined4 FUN_JOBSTTS__801dfbe8(void)

{
  short sVar1;
  undefined4 uVar2;
  undefined2 extraout_var;
  short local_20;
  undefined2 local_1e;
  undefined2 local_1c;
  undefined2 local_1a;
  short local_18;
  undefined2 local_16 [3];
  
  if (DAT_JOBSTTS__801e54fc == '\0') {
    DAT_JOBSTTS__801fa81c = &DAT_JOBSTTS__801df974;
    DAT_JOBSTTS__801fa820 = &DAT_JOBSTTS__801df994;
    DAT_JOBSTTS__801fa824 = &DAT_JOBSTTS__801df984;
    DAT_JOBSTTS__801fa828 = &DAT_JOBSTTS__801df964;
    DAT_JOBSTTS__801fa82c = &DAT_JOBSTTS__801df9b4;
    DAT_JOBSTTS__801fa830 = &DAT_JOBSTTS__801df9a4;
    DAT_JOBSTTS__801fa834 = &DAT_JOBSTTS__801dfb6c;
    DAT_JOBSTTS__801fa838 = &DAT_JOBSTTS__801dfa6c;
    DAT_JOBSTTS__801fa83c = &DAT_JOBSTTS__801dfab8;
    DAT_JOBSTTS__801fa840 = &DAT_JOBSTTS__801dfb1c;
    DAT_JOBSTTS__801fa844 = &DAT_JOBSTTS__801dfbd0;
    DAT_JOBSTTS__801fa848 = &DAT_JOBSTTS__801dfbb8;
    DAT_JOBSTTS__801fa84c = &DAT_JOBSTTS__801dfba0;
    DAT_JOBSTTS__801fa850 = &DAT_JOBSTTS__801dfb90;
    DAT_JOBSTTS__801fa854 = &DAT_JOBSTTS__801dfa24;
    puRam801fa858 = &DAT_JOBSTTS__801dfa5c;
    FUN_JOBSTTS__801df4a4(0);
    FUN_JOBSTTS__801df4a4(1);
    FUN_JOBSTTS__801df4a4(2);
    FUN_JOBSTTS__801df4a4(3);
    local_20 = 0x100;
    local_1e = 200;
    local_1c = 0x14;
    local_1a = 0x10;
    DAT_JOBSTTS__801e5500 = DAT_JOBSTTS__801e5230;
    FUN_JOBSTTS__801e0a24(DAT_80173fa4,&DAT_JOBSTTS__801e5500,&local_20);
    DAT_JOBSTTS__801e5232 = FUN_JOBSTTS__801e1074(4,5,0);
    FUN_JOBSTTS__801e03bc
              (0,DAT_JOBSTTS__801e5230 & 0x3ff,(int)DAT_JOBSTTS__801e5232,
               (ushort *)&DAT_JOBSTTS__801fa57c,0);
    FUN_JOBSTTS__801e2050((short *)&DAT_JOBSTTS__801fa57c,0,DAT_80173fc4);
    DAT_JOBSTTS__801e54fc = '\x01';
  }
  if (DAT_JOBSTTS__801fa71c == 0) {
    DAT_JOBSTTS__801fa818 = -1;
  }
  else {
    DAT_JOBSTTS__801fa818 = -1;
    if (((int)*(short *)(&DAT_JOBSTTS__801fa57c + DAT_JOBSTTS__801fa7ac * 2) & 0x2000U) == 0) {
      DAT_JOBSTTS__801fa818 =
           ((int)*(short *)(&DAT_JOBSTTS__801fa57c + DAT_JOBSTTS__801fa7ac * 2) & 0x3ffU) + 0x7800;
    }
  }
  uVar2 = 0;
  if (((DAT_JOBSTTS__801fa7d4 & 0x40) == 0) &&
     (uVar2 = 0xffffffff, (DAT_JOBSTTS__801fa7d4 & 0x20) == 0)) {
    sVar1 = FUN_JOBSTTS__801e1074(4,5,DAT_JOBSTTS__801fa800);
    if (CONCAT22(extraout_var,sVar1) != (int)DAT_JOBSTTS__801e5232) {
      FUN_JOBSTTS__801df4e0
                ((int)DAT_JOBSTTS__801e5232,(int)DAT_JOBSTTS__801fa7ac,DAT_JOBSTTS__801fa7dc,
                 (int)&DAT_JOBSTTS__801fa57c);
      DAT_JOBSTTS__801e5232 = sVar1;
      FUN_JOBSTTS__801e03bc(0,DAT_JOBSTTS__801e5230,(int)sVar1,(ushort *)&DAT_JOBSTTS__801fa57c,0);
      FUN_JOBSTTS__801df52c
                ((int)DAT_JOBSTTS__801e5232,&local_18,local_16,(ushort *)&DAT_JOBSTTS__801fa57c);
      FUN_JOBSTTS__801e2114((short *)&DAT_JOBSTTS__801fa57c,(int)local_18,local_16[0],DAT_80173fc4);
      FUN_JOBSTTS__801e456c(10);
      DAT_JOBSTTS__801e5028 = 6;
    }
    FUN_JOBSTTS__801e2238(&DAT_JOBSTTS__801e5310,DAT_JOBSTTS__801fa7d4,DAT_80166028);
    local_20 = 0x26;
    local_1e = 0x27;
    local_1c = 0x50;
    local_1a = 0x10;
    FUN_JOBSTTS__801e15d4
              (&local_20,'\0',-0x38,(undefined *)0x0,0,DAT_JOBSTTS__801eff70,DAT_JOBSTTS__801fa7e4,
               0xb);
    uVar2 = 1;
  }
  else {
    DAT_JOBSTTS__801e54fc = '\0';
    DAT_JOBSTTS__801e5028 = 2;
  }
  return uVar2;
}



bool FUN_JOBSTTS__801dffa0(int param_1)

{
  return param_1 - 0x90U < 0xb || param_1 - 0x3cU < 0xe;
}



void FUN_JOBSTTS__801dffc0(undefined *param_1,ushort *param_2)

{
  bool bVar1;
  undefined3 extraout_var;
  uint uVar2;
  char cVar3;
  int iVar4;
  
  *param_2 = (ushort)(byte)param_1[3];
  *(undefined *)(param_2 + 3) = param_1[6];
  param_2[1] = (ushort)(byte)param_1[1];
  *(undefined *)((int)param_2 + 7) = *param_1;
  param_2[2] = (ushort)(byte)param_1[0x12];
  cVar3 = (param_1[0x1ba] & 0x30) != 0;
  if ((param_1[0x1ba] & 0x38) == 0) {
    cVar3 = '\x02';
  }
  if ((cVar3 == '\x01') ||
     (bVar1 = FUN_JOBSTTS__801dffa0((uint)(byte)param_1[3]), CONCAT31(extraout_var,bVar1) != 0)) {
    bcopy(param_1 + 0x96,(uchar *)(param_2 + 4),3);
  }
  else {
    uVar2 = Calc_Unlocked_Jobs(param_1 + 0xd2,(byte)param_1[6] & 0x80);
    *(char *)(param_2 + 4) = (char)(uVar2 >> 0x10);
    *(char *)((int)param_2 + 9) = (char)(uVar2 >> 8);
    *(char *)(param_2 + 5) = (char)uVar2;
  }
  bcopy(param_1 + 0x99,(uchar *)((int)param_2 + 0xb),0x39);
  bcopy(param_1 + 0xd2,(uchar *)(param_2 + 0x22),10);
  bcopy(param_1 + 0xdc,(uchar *)(param_2 + 0x27),0x28);
  bcopy(param_1 + 0x104,(uchar *)(param_2 + 0x3b),0x28);
  iVar4 = 0;
  do {
    if (9999 < param_2[0x27]) {
      param_2[0x27] = 9999;
    }
    iVar4 = iVar4 + 1;
    if (9999 < param_2[0x3b]) {
      param_2[0x3b] = 9999;
    }
    param_2 = param_2 + 1;
  } while (iVar4 < 0x14);
  return;
}



void FUN_JOBSTTS__801e0128(uint param_1)

{
  BattleUnitData *pBVar1;
  
  pBVar1 = GetUnitDataPointer(param_1);
  FUN_JOBSTTS__801dffc0((undefined *)pBVar1,(ushort *)&DAT_JOBSTTS__801fa5c8);
  DAT_JOBSTTS__801fa7f8 = &DAT_JOBSTTS__801fa5c8;
  return;
}



uint FUN_JOBSTTS__801e0168(int param_1)

{
  uint uVar1;
  short *psVar2;
  
  psVar2 = *(short **)((int)&DAT_JOBSTTS__801fa7f8 + ((param_1 << 0x10) >> 0xe));
  uVar1 = (uint)*(byte *)((int)psVar2 + 7);
  if (uVar1 == 0x82) {
    uVar1 = (uint)*psVar2;
  }
  else if (0x7f < uVar1) {
    uVar1 = 0x4a;
  }
  return uVar1;
}



int FUN_JOBSTTS__801e01b4(uint param_1,undefined2 *param_2)

{
  bool bVar1;
  uint uVar2;
  undefined3 extraout_var;
  int iVar3;
  int iVar4;
  int iVar5;
  short **ppsVar6;
  undefined2 *puVar7;
  
  ppsVar6 = (short **)(&DAT_JOBSTTS__801fa7f8 + (param_1 & 0xff));
  FUN_JOBSTTS__801e4e98(*ppsVar6 + 4);
  uVar2 = FUN_JOBSTTS__801e0168(param_1 & 0xff);
  *param_2 = (short)uVar2;
  bVar1 = FUN_JOBSTTS__801dffa0((int)**ppsVar6);
  if ((CONCAT31(extraout_var,bVar1) == 0) && (*(char *)((int)*ppsVar6 + 7) != -0x7e)) {
    FUN_JOBSTTS__801e4ed0(1);
    iVar3 = 1;
    iVar5 = 1;
    puVar7 = param_2 + 1;
    do {
      iVar4 = iVar5 + 0x4a;
      uVar2 = FUN_JOBSTTS__801e4ed0(1);
      if (((uVar2 != 0) && ((iVar4 != 0x5b || ((*(byte *)(*ppsVar6 + 3) & 0x40) == 0)))) &&
         ((iVar4 != 0x5c || ((*(byte *)(*ppsVar6 + 3) & 0x80) == 0)))) {
        *puVar7 = (short)iVar4;
        puVar7 = puVar7 + 1;
        iVar3 = iVar3 + 1;
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < 0x14);
    param_2[iVar3] = 0xffff;
  }
  else {
    param_2[1] = 0xffff;
    iVar3 = 1;
  }
  return iVar3;
}



int FUN_JOBSTTS__801e0314(uint param_1)

{
  JobData *pJVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    pJVar1 = Get_Job_DataPointer(iVar2);
    if (pJVar1->Skillset == param_1) {
      return iVar2;
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0xa0);
  return -1;
}



SkillsetID FUN_JOBSTTS__801e036c(int param_1)

{
  JobData *pJVar1;
  
  pJVar1 = Get_Job_DataPointer(param_1);
  return pJVar1->Skillset;
}



int FUN_JOBSTTS__801e0390(short param_1)

{
  short sVar1;
  
  if ((ushort)(param_1 - 0x4aU) < 0x14) {
    sVar1 = param_1 + -0x4a;
  }
  else {
    sVar1 = 0;
  }
  return (int)sVar1;
}



int FUN_JOBSTTS__801e03bc(int param_1,short param_2,int param_3,ushort *param_4,int param_5)

{
  ushort uVar1;
  SkillsetID SVar2;
  bool bVar3;
  short sVar4;
  int iVar5;
  undefined3 extraout_var;
  int iVar6;
  ushort *puVar7;
  short **ppsVar8;
  undefined3 extraout_var_00;
  short sVar9;
  ushort uVar10;
  ushort *puVar11;
  uint uVar12;
  int iVar13;
  
  iVar5 = FUN_JOBSTTS__801e0390(param_2);
  SVar2 = FUN_JOBSTTS__801e036c((int)param_2);
  uVar12 = CONCAT31(extraout_var,SVar2);
  iVar6 = FUN_JOBSTTS__801e0314(uVar12);
  if (iVar6 == -1) {
    uVar12 = (uint)*(ushort *)
                    (*(int *)((int)&DAT_JOBSTTS__801fa7f8 + ((param_1 << 0x10) >> 0xe)) + 4);
  }
  puVar7 = Store_SkillsetAbilities(uVar12,0xf);
  if (param_3 == 0) {
    sVar9 = 1;
    sVar4 = 0x1a5;
  }
  else if (param_3 == 1) {
    sVar9 = 0x1a6;
    sVar4 = 0x1c5;
  }
  else if (param_3 == 2) {
    sVar9 = 0x1c6;
    sVar4 = 0x1e5;
  }
  else {
    sVar9 = 1;
    if (param_3 == 3) {
      sVar9 = 0x1e6;
    }
    sVar4 = 0x1fd;
  }
  iVar6 = 0;
  puVar11 = puVar7;
  do {
    if (((short)*puVar11 < sVar9) || (sVar4 < (short)*puVar11)) {
      *puVar11 = 0;
    }
    iVar6 = iVar6 + 1;
    puVar11 = puVar11 + 1;
  } while (iVar6 < 0x18);
  iVar13 = 0;
  iVar6 = 0;
  ppsVar8 = (short **)((int)&DAT_JOBSTTS__801fa7f8 + ((param_1 << 0x10) >> 0xe));
  FUN_JOBSTTS__801e4e98((short)iVar5 * 3 + 0xb + (int)*ppsVar8);
  puVar11 = param_4;
  do {
    bVar3 = FUN_JOBSTTS__801dffa0((int)**ppsVar8);
    uVar12 = 1;
    if (CONCAT31(extraout_var_00,bVar3) == 0) {
      uVar12 = FUN_JOBSTTS__801e4ed0(1);
    }
    uVar10 = *puVar7;
    if ((short)uVar10 != 0) {
      if (uVar12 == 0) {
        if ((char)PrimaryAbilityData[(short)uVar10].field_0x3 < '\0') {
          uVar1 = 0x6000;
        }
        else {
          uVar1 = 0x4000;
        }
        uVar10 = uVar10 | uVar1;
        *puVar11 = uVar10;
        puVar11 = puVar11 + 1;
        iVar13 = iVar13 + 1;
      }
      if ((param_5 == 0) && (uVar12 != 0)) {
        *puVar11 = uVar10;
        puVar11 = puVar11 + 1;
        iVar13 = iVar13 + 1;
      }
    }
    iVar6 = iVar6 + 1;
    puVar7 = puVar7 + 1;
  } while (iVar6 < 0x18);
  param_4[iVar13] = 0xffff;
  return iVar13;
}



undefined FUN_JOBSTTS__801e060c(int param_1,int param_2,ushort *param_3,int param_4)

{
  uint uVar1;
  byte bVar2;
  byte *pbVar3;
  int iVar4;
  int iVar5;
  
  iVar5 = 0;
  FUN_JOBSTTS__801e4e98(DAT_80173c98 + param_1 * 0x23);
  do {
    iVar4 = 0;
    pbVar3 = (byte *)(param_2 + (short)param_3[2] * 2 * ((short)param_3[1] + iVar5) +
                     ((int)((uint)*param_3 << 0x10) >> 0x11));
    do {
      uVar1 = FUN_JOBSTTS__801e4ed0(2);
      bVar2 = (byte)uVar1;
      if ((uVar1 & 0xff) != 0) {
        bVar2 = bVar2 + (char)(param_4 * 4);
      }
      uVar1 = FUN_JOBSTTS__801e4ed0(2);
      iVar4 = iVar4 + 1;
      if ((uVar1 & 0xff) != 0) {
        uVar1 = uVar1 + param_4 * 4;
      }
      *pbVar3 = bVar2 | (byte)(uVar1 << 4);
      pbVar3 = pbVar3 + 1;
    } while (iVar4 < 5);
    iVar5 = iVar5 + 1;
  } while (iVar5 < 0xe);
  return (&DAT_801660fc)[param_1];
}



byte * FUN_JOBSTTS__801e0740(byte *param_1,short param_2)

{
  byte bVar1;
  byte *pbVar2;
  
  pbVar2 = param_1;
  if (param_2 != 0) {
    do {
      bVar1 = *pbVar2;
      param_1 = pbVar2 + 1;
      if (0xcf < bVar1) {
        if (bVar1 < 0xe0) {
          param_1 = pbVar2 + 2;
        }
        else if (0xfd < bVar1) {
          param_2 = param_2 + -1;
        }
      }
      pbVar2 = param_1;
    } while (param_2 != 0);
  }
  return param_1;
}



void FUN_JOBSTTS__801e079c
               (int param_1,ushort *param_2,undefined4 param_3,int param_4,byte *param_5,
               ushort *param_6,int param_7,int param_8)

{
  byte bVar1;
  short sVar2;
  byte *pbVar3;
  uint uVar4;
  byte *pbVar5;
  short sVar6;
  uint uVar7;
  int unaff_s5;
  ushort local_40;
  short local_3e;
  ushort local_3c;
  int local_38;
  int local_30;
  
  local_3c = param_2[2];
  sVar6 = 0;
  if (*param_6 != 0xffff) {
    local_30 = param_8 << 0x10;
    local_38 = param_4;
    do {
      if (param_7 == 0) {
        return;
      }
      local_40 = *param_2;
      local_3e = param_2[1] + sVar6 * param_2[3];
      uVar7 = 0;
      if ((*param_6 & 0x2000) == 0) {
        pbVar3 = FUN_JOBSTTS__801e0740(param_5,*param_6 & 0xfff);
        bVar1 = *pbVar3;
        while (uVar4 = (uint)bVar1, uVar4 < 0xfe) {
          pbVar5 = pbVar3 + 1;
          if ((uVar4 == 0xf8) || (local_38 <= unaff_s5)) {
            local_40 = *param_2;
            sVar6 = sVar6 + 1;
            local_3e = param_2[1] + sVar6 * param_2[3];
          }
          if (uVar4 < 0xe0) {
            if (0xcf < uVar4) {
              bVar1 = *pbVar5;
              pbVar5 = pbVar3 + 2;
              uVar4 = (uVar4 & 0xf) * 0xd0 + (uint)bVar1;
            }
            sVar2 = FUN_JOBSTTS__801e060c
                              (uVar4,param_1,&local_40,(int)((uint)*param_6 << 0x10) >> 0x1e | uVar7
                              );
            local_40 = local_40 + sVar2;
          }
          else if (uVar4 == 0xfa) {
            local_40 = local_40 + 4;
          }
          else if (uVar4 == 0xe7) {
            bVar1 = *pbVar5;
            pbVar5 = pbVar3 + 2;
            local_40 = (ushort)bVar1 + *param_2;
          }
          else if (uVar4 == 0xe3) {
            bVar1 = *pbVar5;
            pbVar5 = pbVar3 + 2;
            uVar7 = (uint)(bVar1 >> 2);
          }
          pbVar3 = pbVar5;
          bVar1 = *pbVar5;
        }
      }
      else {
        unaff_s5 = 0;
        do {
          sVar2 = FUN_JOBSTTS__801e060c
                            (local_30 >> 0x10,param_1,&local_40,
                             (int)((uint)*param_6 << 0x10) >> 0x1e);
          unaff_s5 = unaff_s5 + 1;
          local_40 = local_40 + sVar2;
        } while (unaff_s5 < 8);
      }
      sVar6 = sVar6 + 1;
      param_6 = param_6 + 1;
      param_7 = param_7 + -1;
    } while (*param_6 != 0xffff);
  }
  return;
}



void FUN_JOBSTTS__801e0a24(byte *param_1,ushort *param_2,short *param_3)

{
  ushort uVar1;
  uchar auStack_840 [2048];
  ushort local_40;
  undefined2 local_3e;
  short local_3c;
  undefined2 local_3a;
  RECT local_38;
  ushort local_30;
  undefined2 local_2e;
  
  local_40 = 0;
  local_3e = 0;
  local_3c = param_3[2];
  local_3a = 0x10;
  local_38.x = *param_3;
  local_38.y = param_3[1];
  local_38.w = param_3[2];
  local_38.h = 0x10;
  local_30 = *param_2;
  uVar1 = *param_2;
  while (uVar1 != 0xffff) {
    local_2e = 0xffff;
    memset(auStack_840,'\0',0x800);
    FUN_JOBSTTS__801e079c((int)auStack_840,&local_40,10,100,param_1,&local_30,100,0xe7);
    FUN_JOBSTTS__801e1ff0(&local_38,auStack_840);
    param_2 = param_2 + 1;
    local_38.y = local_38.y + 0x10;
    local_30 = *param_2;
    uVar1 = *param_2;
  }
  return;
}



void FUN_JOBSTTS__801e0b2c(int param_1)

{
  if (0 < DAT_JOBSTTS__801fa818) {
    FUN_BATTLE_BIN__80134020();
    FUN_BATTLE_BIN__80133fe8((int *)&DAT_JOBSTTS__801e5508);
    FUN_BATTLE_BIN__8014c8a0(1,&DAT_801308c0);
    FUN_BATTLE_BIN__8014ca38(1,param_1 + 0x38,DAT_JOBSTTS__801fa818,0);
    DAT_80166028 = 1;
  }
  return;
}



void FUN_JOBSTTS__801e0ba8(void)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  u_long uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  uint *puVar9;
  uint uVar10;
  
  uVar10 = DAT_800473a1 / 2;
  uVar2 = (uint)DAT_800473a2;
  uVar3 = (uint)DAT_800473a3;
  uVar4 = PadRead(0);
  uVar5 = uVar4 & DAT_JOBSTTS__801eff60;
  if (uVar5 == 0) {
    uVar5 = uVar4;
    if (uVar4 == 0) {
      DAT_JOBSTTS__801eff60 = 0;
      DAT_JOBSTTS__801eff62 = DAT_JOBSTTS__801eff62 + 2;
    }
    else {
      if (DAT_JOBSTTS__801eff62 < 4) {
        if ((uVar4 & 0xf000) != 0) {
          DAT_JOBSTTS__801eff62 = 10;
          uVar5 = uVar4 & 0xf000;
        }
        if (DAT_JOBSTTS__801eff62 < 4) {
          uVar5 = 0;
          DAT_JOBSTTS__801eff60 = 0;
          goto LAB_JOBSTTS__801e0ce4;
        }
      }
      DAT_JOBSTTS__801eff62 = 0;
      uVar8 = 0;
      iVar6 = 1;
      do {
        uVar7 = uVar5 & (int)(short)(ushort)iVar6;
        uVar8 = uVar8 + 1;
        if (uVar7 != 0) {
          uVar5 = uVar7;
          DAT_JOBSTTS__801eff60 = (ushort)iVar6;
        }
        iVar6 = 1 << (uVar8 & 0x1f);
      } while ((int)uVar8 < 0x10);
    }
  }
LAB_JOBSTTS__801e0ce4:
  if (9 < DAT_JOBSTTS__801eff62) {
    DAT_JOBSTTS__801eff62 = 10;
  }
  DAT_JOBSTTS__801fa720 = (ushort)uVar5;
  uVar8 = 0;
  do {
    uVar7 = 1 << (uVar8 & 0x1f);
    uVar1 = (ushort)uVar7;
    if ((uVar7 & DAT_JOBSTTS__801fa720) == 0) {
      DAT_JOBSTTS__801fa6a8 = DAT_JOBSTTS__801fa6a8 & ~uVar1;
    }
    else if ((uVar7 & DAT_JOBSTTS__801fa6a8) == 0) {
      DAT_JOBSTTS__801fa6a8 = DAT_JOBSTTS__801fa6a8 | uVar1;
    }
    else {
      DAT_JOBSTTS__801fa720 = DAT_JOBSTTS__801fa720 & ~uVar1;
    }
    uVar8 = uVar8 + 1;
  } while ((int)uVar8 < 0x10);
  uVar8 = 0;
  puVar9 = (uint *)0x801fa668;
  uVar4 = uVar5;
  do {
    uVar7 = uVar8 & 0x1f;
    if (uVar8 == 4) {
      puVar9 = &DAT_JOBSTTS__801fa698;
      uVar8 = 0xc;
      uVar7 = 0xc;
    }
    if ((uVar5 & 1 << uVar7) == 0) {
      *puVar9 = 0;
    }
    else {
      *puVar9 = *puVar9 + 1;
    }
    uVar7 = *puVar9;
    if ((uVar7 < uVar10) || (uVar7 % (uVar2 / 2) == 0)) {
      if ((int)uVar7 < 2) goto LAB_JOBSTTS__801e0e1c;
      if (uVar7 < uVar10) goto LAB_JOBSTTS__801e0e14;
LAB_JOBSTTS__801e0e30:
      uVar7 = *puVar9;
      uVar5 = uVar5 | 1 << (uVar8 + 0x10 & 0x1f);
      if (uVar7 < uVar10) goto LAB_JOBSTTS__801e0e6c;
      if (uVar7 % (uVar3 / 2) == 0) goto LAB_JOBSTTS__801e0e60;
LAB_JOBSTTS__801e0e80:
      uVar4 = uVar4 & ~(1 << (uVar8 & 0x1f));
    }
    else {
LAB_JOBSTTS__801e0e14:
      uVar5 = uVar5 & ~(1 << (uVar8 & 0x1f));
LAB_JOBSTTS__801e0e1c:
      if (uVar10 <= *puVar9) goto LAB_JOBSTTS__801e0e30;
LAB_JOBSTTS__801e0e60:
      uVar7 = *puVar9;
LAB_JOBSTTS__801e0e6c:
      if ((1 < (int)uVar7) && (uVar7 < uVar10 << 1)) goto LAB_JOBSTTS__801e0e80;
    }
    uVar8 = uVar8 + 1;
    puVar9 = puVar9 + 1;
    if (0xf < (int)uVar8) {
      DAT_JOBSTTS__801fa7d4 = uVar5 & 0xf00ff00f | DAT_JOBSTTS__801fa720 & 0xff0;
      DAT_JOBSTTS__801fa800 = uVar4 & 0xf00ff00f | DAT_JOBSTTS__801fa720 & 0xff0;
      return;
    }
  } while( true );
}



void FUN_JOBSTTS__801e0ee8(void)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = 0;
  FUN_JOBSTTS__801e0ba8();
  iVar2 = FUN_JOBSTTS__801e457c();
  if (6 < iVar2 - 1U) {
    iVar3 = FUN_BATTLE_BIN__8014ca1c(1);
    if (iVar3 != 0) {
      DAT_JOBSTTS__801fa720 = 0;
      DAT_JOBSTTS__801fa7d4 = 0;
      DAT_JOBSTTS__801fa800 = 0;
      bVar1 = DAT_JOBSTTS__801eff63 != '\0';
      DAT_JOBSTTS__801eff63 = '\x01';
      if (bVar1) {
        DAT_JOBSTTS__801eff63 = '\x02';
      }
      goto LAB_JOBSTTS__801e0f98;
    }
    if (DAT_JOBSTTS__801eff63 == '\0') goto LAB_JOBSTTS__801e0f98;
    DAT_JOBSTTS__801eff63 = '\0';
  }
  DAT_JOBSTTS__801fa720 = 0;
  DAT_JOBSTTS__801fa7d4 = 0;
  DAT_JOBSTTS__801fa800 = 0;
LAB_JOBSTTS__801e0f98:
  if (DAT_JOBSTTS__801eff64 != '\0') {
    DAT_JOBSTTS__801fa7d4 = DAT_JOBSTTS__801fa7d4 & 0xfffffffe;
    DAT_JOBSTTS__801fa720 = DAT_JOBSTTS__801fa720 & 0xfffe;
    DAT_JOBSTTS__801fa800 = DAT_JOBSTTS__801fa800 & 0xfffffffe;
    DAT_JOBSTTS__801eff64 = DAT_JOBSTTS__801eff64 + -1;
  }
  if (DAT_JOBSTTS__801fa7d4 != 0) {
    DAT_JOBSTTS__801eff64 = '\x05';
  }
  if (iVar3 == 0) {
    DAT_80166028 = 0;
  }
  if (DAT_JOBSTTS__801eff63 == '\x01') {
    DAT_JOBSTTS__801e5028 = 0x12;
  }
  return;
}



void FUN_JOBSTTS__801e1050(void)

{
  undefined2 *puVar1;
  int iVar2;
  
  iVar2 = 7;
  puVar1 = &DAT_JOBSTTS__801fa6ba;
  do {
    *puVar1 = 0;
    iVar2 = iVar2 + -1;
    puVar1 = puVar1 + -1;
  } while (-1 < iVar2);
  return;
}



undefined2 FUN_JOBSTTS__801e1074(ushort param_1,uint param_2,uint param_3)

{
  ushort uVar1;
  ushort *puVar2;
  
  if ((param_3 & 0x8000) == 0) {
    if ((param_3 & 0x2000) != 0) {
      puVar2 = (ushort *)(&DAT_JOBSTTS__801fa6ac + (param_2 & 0xff) * 2);
      if ((int)(uint)*puVar2 < (int)(param_1 - 1)) {
        uVar1 = *puVar2 + 1;
      }
      else {
        uVar1 = 0;
      }
      *puVar2 = uVar1;
    }
  }
  else {
    puVar2 = (ushort *)(&DAT_JOBSTTS__801fa6ac + (param_2 & 0xff) * 2);
    if (*puVar2 != 0) {
      param_1 = *puVar2;
    }
    *puVar2 = param_1 - 1;
  }
  return *(undefined2 *)(&DAT_JOBSTTS__801fa6ac + (param_2 & 0xff) * 2);
}



void FUN_JOBSTTS__801e15d4
               (short *param_1,char param_2,char param_3,undefined *param_4,int param_5,
               undefined2 param_6,undefined2 param_7,int param_8)

{
  char cVar1;
  short sVar2;
  short sVar3;
  int *piVar4;
  uint uVar5;
  uint *puVar6;
  uint *p;
  
  uVar5 = (uint)DAT_JOBSTTS__801fa798;
  DAT_JOBSTTS__801fa798 = DAT_JOBSTTS__801fa798 + 1;
  p = (uint *)(uVar5 * 0x28 + DAT_JOBSTTS__801fa7d0[4]);
  if (param_4 == (undefined *)0x0) {
    SetShadeTex(p,1);
  }
  else {
    SetShadeTex(p,0);
    *(undefined *)(p + 1) = *param_4;
    *(undefined *)((int)p + 5) = param_4[1];
    *(undefined *)((int)p + 6) = param_4[2];
  }
  SetSemiTrans(p,param_5);
  *(short *)(p + 2) = *param_1 + 0x80;
  *(short *)((int)p + 10) = param_1[1];
  *(short *)(p + 4) = *param_1 + param_1[2] + 0x80;
  *(short *)((int)p + 0x12) = param_1[1];
  *(short *)(p + 6) = *param_1 + 0x80;
  *(short *)((int)p + 0x1a) = param_1[1] + param_1[3];
  *(short *)(p + 8) = *param_1 + param_1[2] + 0x80;
  sVar2 = param_1[1];
  sVar3 = param_1[3];
  *(char *)(p + 3) = param_2;
  *(char *)((int)p + 0xd) = param_3;
  *(short *)((int)p + 0x22) = sVar2 + sVar3;
  cVar1 = *(char *)(param_1 + 2);
  *(char *)((int)p + 0x15) = param_3;
  *(char *)(p + 7) = param_2;
  *(char *)(p + 5) = param_2 + cVar1;
  *(char *)((int)p + 0x1d) = param_3 + *(char *)(param_1 + 3);
  *(char *)(p + 9) = param_2 + *(char *)(param_1 + 2);
  cVar1 = *(char *)(param_1 + 3);
  *(undefined2 *)((int)p + 0xe) = param_7;
  *(char *)((int)p + 0x25) = param_3 + cVar1;
  *(undefined2 *)((int)p + 0x16) = param_6;
  piVar4 = DAT_JOBSTTS__801fa7d0;
                    // Probable PsyQ macro: addPrim().
  *p = *p & 0xff000000 | *(uint *)(param_8 * 4 + *DAT_JOBSTTS__801fa7d0) & 0xffffff;
  puVar6 = (uint *)(param_8 * 4 + *piVar4);
  *puVar6 = *puVar6 & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void FUN_JOBSTTS__801e1ff0(RECT *param_1,u_long *param_2)

{
  int iVar1;
  
  LoadImage(param_1,param_2);
  do {
    iVar1 = DrawSync(1);
  } while (iVar1 != 0);
  return;
}



void FUN_JOBSTTS__801e2020(RECT *param_1,u_long *param_2)

{
  int iVar1;
  
  StoreImage(param_1,param_2);
  do {
    iVar1 = DrawSync(1);
  } while (iVar1 != 0);
  return;
}



void FUN_JOBSTTS__801e2050(short *param_1,int param_2,undefined4 param_3)

{
  short sVar1;
  
  DAT_JOBSTTS__801fa6ec = param_1;
  DAT_JOBSTTS__801fa6f0 = param_3;
  if (param_1 != (short *)0x0) {
    sVar1 = *param_1;
    DAT_JOBSTTS__801fa71c = 0;
    while (sVar1 != -1) {
      DAT_JOBSTTS__801fa71c = DAT_JOBSTTS__801fa71c + 1;
      sVar1 = *(short *)(((int)((uint)DAT_JOBSTTS__801fa71c << 0x10) >> 0xf) + (int)param_1);
    }
  }
  DAT_JOBSTTS__801fa7ac = (short)param_2;
  if (param_2 == 0) {
    DAT_JOBSTTS__801fa7dc = 0;
  }
  DAT_JOBSTTS__801fa6c0 = 0x80;
  DAT_JOBSTTS__801fa6c1 = 0x80;
  DAT_JOBSTTS__801fa6c2 = 0x80;
  DAT_JOBSTTS__801fa6c4 = 0;
  DAT_JOBSTTS__801fa6d8 = 0;
  DAT_JOBSTTS__801eff68 = 0;
  DAT_JOBSTTS__801fa6e4 = 1;
  DAT_JOBSTTS__801efffc = 0;
  return;
}



void FUN_JOBSTTS__801e2114(short *param_1,int param_2,undefined2 param_3,undefined4 param_4)

{
  FUN_JOBSTTS__801e2050(param_1,param_2,param_4);
  DAT_JOBSTTS__801fa7dc = param_3;
  return;
}



void FUN_JOBSTTS__801e217c(byte *param_1,undefined4 param_2)

{
  uint uVar1;
  byte *pbVar2;
  
  DAT_JOBSTTS__801fa70c = 0;
  DAT_JOBSTTS__801fa6c4 = 0;
  DAT_JOBSTTS__801fa6dc = 0;
  DAT_JOBSTTS__801fa6c8 = param_2;
  if (*param_1 != 0x16) {
    uVar1 = (uint)*param_1;
    do {
      pbVar2 = (byte *)(*(code *)(&PTR_DAT_JOBSTTS__801e2638_JOBSTTS__801eff9c)[uVar1])();
      uVar1 = (uint)*pbVar2;
    } while (uVar1 != 0x16);
  }
  if (DAT_JOBSTTS__801efffc < '\n') {
    DAT_JOBSTTS__801efffc = DAT_JOBSTTS__801efffc + '\x01';
  }
  return;
}



void FUN_JOBSTTS__801e2238(byte *param_1,undefined4 param_2,int param_3)

{
  FUN_JOBSTTS__801e4338(param_3);
  FUN_JOBSTTS__801e217c(param_1,param_2);
  return;
}



void FUN_JOBSTTS__801e4338(int param_1)

{
  DAT_JOBSTTS__801fa708 = (char)param_1;
  if (param_1 == 0) {
    DAT_JOBSTTS__801fa6c0 = 0x80;
    DAT_JOBSTTS__801fa6c1 = 0x80;
    DAT_JOBSTTS__801fa7e4 = DAT_JOBSTTS__801eff9a;
    DAT_JOBSTTS__801fa7a8 = DAT_JOBSTTS__801eff7a;
    DAT_JOBSTTS__801fa78c = DAT_JOBSTTS__801eff74;
    DAT_JOBSTTS__801fa744 = DAT_JOBSTTS__801eff7c;
    DAT_JOBSTTS__801fa7f0 = DAT_JOBSTTS__801eff82;
    DAT_JOBSTTS__801fa80c = DAT_JOBSTTS__801eff84;
  }
  else {
    DAT_JOBSTTS__801fa6c0 = 0x60;
    DAT_JOBSTTS__801fa6c1 = 0x60;
    DAT_JOBSTTS__801fa7e4 = DAT_JOBSTTS__801eff98;
    DAT_JOBSTTS__801fa7a8 = DAT_JOBSTTS__801eff78;
    DAT_JOBSTTS__801fa78c = DAT_JOBSTTS__801eff76;
    DAT_JOBSTTS__801fa744 = DAT_JOBSTTS__801eff7e;
    DAT_JOBSTTS__801fa7f0 = DAT_JOBSTTS__801eff86;
    DAT_JOBSTTS__801fa80c = DAT_JOBSTTS__801eff88;
  }
  DAT_JOBSTTS__801fa6c2 = 0x80;
  return;
}



// Possible VS_AUTO.OBJ/SsSetAutoKeyOffMode

void FUN_JOBSTTS__801e456c(undefined param_1)

{
  DAT_JOBSTTS__801efffc = param_1;
  return;
}



int FUN_JOBSTTS__801e457c(void)

{
  return (int)DAT_JOBSTTS__801efffc;
}



void FUN_JOBSTTS__801e47c8(int param_1)

{
  bool bVar1;
  DRAWENV DStack_68;
  
  DAT_JOBSTTS__801fa734 = 0;
  DAT_JOBSTTS__801fa790 = 0;
  DAT_JOBSTTS__801fa73c = 0;
  DAT_JOBSTTS__801fa798 = 0;
  DAT_JOBSTTS__801fa738 = 0;
  DAT_JOBSTTS__801fa794 = 0;
  DAT_JOBSTTS__801fa740 = 0;
  DAT_JOBSTTS__801fa79c = 0;
  DAT_JOBSTTS__801fa768 = 0;
  DAT_JOBSTTS__801fa778 = 0;
  DAT_JOBSTTS__801fa784 = 0;
  DAT_JOBSTTS__801fa774 = 0;
  DAT_JOBSTTS__801fa780 = 0;
  DAT_JOBSTTS__801fa788 = 0;
  DAT_JOBSTTS__801fa7c8 = 0;
  DAT_JOBSTTS__801fa7ec = 0;
  DAT_JOBSTTS__801fa7f4 = 0;
  DAT_JOBSTTS__801fa810 = 0;
  DAT_JOBSTTS__801fa7d8 = 0;
  DAT_JOBSTTS__801fa804 = 0;
  DAT_JOBSTTS__801fa814 = 0;
  DAT_JOBSTTS__801fa7cc = 0;
  DAT_JOBSTTS__801fa7bc = 0;
  GetDrawEnv(&DStack_68);
  DAT_JOBSTTS__801fa7a4 = DStack_68.clip.y;
  bVar1 = DAT_JOBSTTS__801fa7d0 == DAT_JOBSTTS__801fa7fc;
  DAT_JOBSTTS__801fa7d0 = DAT_JOBSTTS__801fa7fc;
  if (bVar1) {
    DAT_JOBSTTS__801fa7d0 = DAT_JOBSTTS__801fa7fc + 0x3d;
  }
  ClearOTag((u_long *)(param_1 * 4 + *DAT_JOBSTTS__801fa7d0),(uint)DAT_JOBSTTS__801fa7b4 - param_1);
  return;
}



void FUN_JOBSTTS__801e48f4(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = 0;
  if (DAT_JOBSTTS__801fa770 != 0) {
    iVar2 = 0;
    do {
      SetPolyFT4((POLY_FT4 *)(iVar2 + *(int *)(param_1 + 0x10)));
      iVar1 = iVar1 + 1;
      SetShadeTex((void *)(iVar2 + *(int *)(param_1 + 0x10)),0);
      iVar2 = iVar2 + 0x28;
    } while (iVar1 < (int)(uint)DAT_JOBSTTS__801fa770);
  }
  iVar1 = 0;
  if (DAT_JOBSTTS__801fa7c0 != 0) {
    do {
      SetTile((TILE *)(iVar1 * 0x10 + *(int *)(param_1 + 0x3c)));
      iVar1 = iVar1 + 1;
    } while (iVar1 < (int)(uint)DAT_JOBSTTS__801fa7c0);
  }
  iVar1 = 0;
  if (DAT_JOBSTTS__801fa7c4 != 0) {
    iVar2 = 0;
    do {
      iVar1 = iVar1 + 1;
      SetDrawMove((DR_MOVE *)(iVar2 + *(int *)(param_1 + 0x58)));
      iVar2 = iVar2 + 0x18;
    } while (iVar1 < (int)(uint)DAT_JOBSTTS__801fa7c4);
  }
  return;
}



void FUN_JOBSTTS__801e49f0
               (int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
               int param_8,int param_9,int param_10,int param_11,int param_12,int param_13,
               int param_14,int param_15,int param_16,int param_17,int param_18,int param_19,
               int param_20,int param_21,int param_22,int param_23,int param_24,int param_25)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int *piVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  
  iVar14 = 0;
  iVar15 = 0;
  DAT_JOBSTTS__801fa7d0 = param_1;
  DAT_JOBSTTS__801fa7fc = param_1;
  do {
    uVar1 = (uint)DAT_JOBSTTS__801fa724;
    uVar2 = (uint)DAT_JOBSTTS__801fa764;
    uVar3 = (uint)DAT_JOBSTTS__801fa72c;
    uVar4 = (uint)DAT_JOBSTTS__801fa770;
    uVar5 = (uint)DAT_JOBSTTS__801fa728;
    uVar6 = (uint)DAT_JOBSTTS__801fa76c;
    uVar7 = (uint)DAT_JOBSTTS__801fa730;
    uVar8 = (uint)DAT_JOBSTTS__801fa77c;
    uVar9 = (uint)DAT_JOBSTTS__801fa74c;
    uVar10 = (uint)DAT_JOBSTTS__801fa754;
    uVar11 = (uint)DAT_JOBSTTS__801fa75c;
    piVar13 = (int *)(iVar15 + DAT_JOBSTTS__801fa7fc);
    *piVar13 = param_2 + (uint)DAT_JOBSTTS__801fa7b4 * iVar14 * 4;
    piVar13[2] = param_4 + uVar2 * iVar14 * 0x20;
    uVar2 = (uint)DAT_JOBSTTS__801fa750;
    uVar12 = (uint)DAT_JOBSTTS__801fa758;
    piVar13[1] = param_3 + uVar1 * iVar14 * 0x14;
    piVar13[3] = param_5 + uVar3 * iVar14 * 0x18;
    piVar13[4] = param_6 + uVar4 * iVar14 * 0x28;
    piVar13[5] = param_7 + uVar5 * iVar14 * 0x1c;
    piVar13[6] = param_8 + uVar6 * iVar14 * 0x28;
    piVar13[7] = param_9 + uVar7 * iVar14 * 0x24;
    uVar3 = (uint)DAT_JOBSTTS__801fa760;
    piVar13[8] = param_10 + uVar8 * iVar14 * 0x34;
    uVar1 = (uint)DAT_JOBSTTS__801fa7c0;
    piVar13[9] = param_11 + uVar9 * iVar14 * 0x10;
    piVar13[10] = param_12 + uVar10 * iVar14 * 0x18;
    piVar13[0xb] = param_13 + uVar11 * iVar14 * 0x1c;
    uVar4 = (uint)DAT_JOBSTTS__801fa7e0;
    piVar13[0xc] = param_14 + uVar2 * iVar14 * 0x14;
    piVar13[0xd] = param_15 + uVar12 * iVar14 * 0x20;
    piVar13[0xe] = param_16 + uVar3 * iVar14 * 0x28;
    piVar13[0xf] = param_17 + uVar1 * iVar14 * 0x10;
    piVar13[0x10] = param_18 + uVar4 * iVar14 * 0xc;
    uVar1 = (uint)DAT_JOBSTTS__801fa808;
    uVar2 = (uint)DAT_JOBSTTS__801fa748;
    uVar3 = (uint)DAT_JOBSTTS__801fa7a0;
    uVar4 = (uint)DAT_JOBSTTS__801fa7b0;
    iVar15 = iVar15 + 0xf4;
    iVar16 = (uint)DAT_JOBSTTS__801fa7c4 * iVar14;
    piVar13[0x11] = param_19 + (uint)DAT_JOBSTTS__801fa7e8 * iVar14 * 0xc;
    piVar13[0x12] = param_20 + uVar1 * iVar14 * 0xc;
    uVar1 = (uint)DAT_JOBSTTS__801fa7b8;
    piVar13[0x13] = param_21 + uVar2 * iVar14 * 0x14;
    iVar17 = uVar1 * iVar14;
    piVar13[0x15] = param_23 + uVar4 * iVar14 * 0x10;
    piVar13[0x14] = param_22 + uVar3 * iVar14 * 0x10;
    iVar14 = iVar14 + 1;
    piVar13[0x16] = param_24 + iVar16 * 0x18;
    piVar13[0x17] = param_25 + iVar17 * 0xc;
    FUN_JOBSTTS__801e48f4((int)piVar13);
  } while (iVar14 < 2);
  FUN_JOBSTTS__801e47c8(0);
  FUN_JOBSTTS__801e47c8(0);
  return;
}



void FUN_JOBSTTS__801e4e98(undefined4 param_1)

{
  DAT_JOBSTTS__801f0044 = 1;
  DAT_JOBSTTS__801fa714 = param_1;
  return;
}



uint FUN_JOBSTTS__801e4ed0(int param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar1 = 0;
  if (param_1 != 0) {
    uVar1 = 0;
    if (DAT_JOBSTTS__801f0044 != '\0') {
      DAT_JOBSTTS__801f0048 = 7;
      DAT_JOBSTTS__801f0044 = '\0';
    }
    uVar2 = param_1 - 1;
    while (uVar2 != 0xffffffff) {
      uVar3 = DAT_JOBSTTS__801f0048 - 1;
      if (((int)(uint)*DAT_JOBSTTS__801fa714 >> (DAT_JOBSTTS__801f0048 & 0x1f) & 1U) != 0) {
        uVar1 = uVar1 | 1 << (uVar2 & 0x1f);
      }
      uVar2 = uVar2 - 1;
      DAT_JOBSTTS__801f0048 = uVar3;
      if ((int)uVar3 < 0) {
        DAT_JOBSTTS__801fa714 = DAT_JOBSTTS__801fa714 + 1;
        DAT_JOBSTTS__801f0048 = 7;
      }
    }
  }
  return uVar1;
}


